{"version":3,"file":"kendo.html.icon.min.js","names":[],"sources":["../../src/kendo.html.icon.js"],"sourcesContent":["import \"./kendo.html.base.js\";\n\nexport const __meta__ = {\n    id: \"html.icon\",\n    name: \"Html.Icon\",\n    category: \"web\",\n    description: \"HTML font icon rendering utility for Kendo UI for jQuery.\",\n    depends: [\"html.base\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        extend = $.extend,\n        HTMLBase = kendo.html.HTMLBase;\n\n    var KFONTICON = 'k-icon k-font-icon';\n    var KI_PREFFIX = 'k-i-';\n    var KSVGICON = 'k-icon k-svg-icon';\n    var KSVG_PREFFIX = 'k-svg-i-';\n\n    var FLIP_PREFIX = 'k-flip-';\n    var FLIP_HORIZONTAL = `${FLIP_PREFIX}h`;\n    var FLIP_VERTICAL = `${FLIP_PREFIX}v`;\n\n    var THEME_COLOR_PREFIX = 'k-color-';\n\n    var ICON_TYPES = {\n        'svg': (element, options) => new HTMLSvgIcon(element, options),\n        'font': (element, options) => new HTMLFontIcon(element, options)\n    };\n\n    var FLIP_CLASSES = {\n        default: '',\n        horizontal: FLIP_HORIZONTAL,\n        vertical: FLIP_VERTICAL,\n        both: `${FLIP_HORIZONTAL} ${FLIP_VERTICAL}`\n    };\n\n    var renderIcon = function(element, options) {\n        if (!element || $.isPlainObject(element) || kendo.isString(element)) {\n            options = element;\n            element = $(\"<span></span>\");\n        }\n\n        if (kendo.isString(options)) {\n            options = {\n                icon: options\n            };\n        }\n\n        if (!kendo.isPresent(options.type)) {\n            options.type = kendo.defaults.iconType ? kendo.defaults.iconType : 'svg';\n        }\n\n        if (kendo.isFunction(options.type)) {\n            return options.type(element, options);\n        }\n\n        if (!kendo.isFunction(ICON_TYPES[options.type])) {\n            return null;\n        }\n\n        return (ICON_TYPES[options.type](element, options)).html();\n    };\n\n    var HTMLBaseIcon = HTMLBase.extend({\n        init: function(element, options) {\n            var that = this;\n            HTMLBase.fn.init.call(that, element, options);\n            that._wrapper();\n        },\n        options: {\n            name: 'HTMLIcon',\n            size: 'none',\n            themeColor: 'none',\n            flip: 'default',\n            iconClass: '',\n            stylingOptions: [ 'size', 'themeColor', 'fill' ]\n        },\n        _wrapper: function() {\n            var that = this;\n\n            that._addClasses();\n        },\n        _addClasses: function() {\n            var that = this,\n                options = that.options,\n                stylingOptions = options.stylingOptions,\n                previouslyAddedClasses = that.wrapper.data(\"added-classes\");\n\n            stylingOptions = stylingOptions.map(function(option) {\n                if (option === 'themeColor') {\n                    return kendo.cssProperties.getValidClass({\n                        widget: options.name,\n                        propName: option,\n                        value: options[option],\n                        prefix: THEME_COLOR_PREFIX\n                    });\n                }\n\n                if (option === 'fill') {\n                    return FLIP_CLASSES[options.flip];\n                }\n\n                return kendo.cssProperties.getValidClass({\n                    widget: options.name,\n                    propName: option,\n                    value: options[option],\n                    fill: options.fillMode\n                });\n            });\n\n            if (previouslyAddedClasses) {\n                that.wrapper.removeClass(previouslyAddedClasses.filter(x => x !== that._className).join(\" \"));\n            }\n\n            that.wrapper.data(\"added-classes\", stylingOptions.concat([that._className]));\n            that.wrapper.addClass(stylingOptions.join(\" \"));\n        }\n    });\n\n    var HTMLFontIcon = HTMLBaseIcon.extend({\n        init: function(element, options) {\n            HTMLBaseIcon.fn.init.call(this, element, options);\n        },\n        options: extend({}, HTMLBaseIcon.fn.options, {\n            name: 'HTMLFontIcon',\n            icon: null\n        }),\n        _wrapper: function() {\n            var that = this,\n                // Find if there is an existing k-i- class appended to the element.\n                currentIconClass = that.element[0].className.split(\" \").find(x => x.includes(KI_PREFFIX)),\n                className = that.options.icon ? `${that.options.icon.startsWith(KI_PREFFIX) ? \"\" : KI_PREFFIX}${that.options.icon}` : \"\";\n\n            that._className = className;\n            that.wrapper = that.element\n                .addClass(KFONTICON)\n                .removeClass(currentIconClass) // Remove any existing icons.\n                .addClass(className)\n                .addClass(that.options.iconClass || '');\n\n            HTMLBaseIcon.fn._wrapper.call(this);\n        }\n    });\n\n    var HTMLSvgIcon = HTMLBaseIcon.extend({\n        init: function(element, options) {\n            // Ensure that the inner contents of the wrapping span element are always removed for re-rendering purposes.\n            element.empty();\n            HTMLBaseIcon.fn.init.call(this, element, options);\n        },\n        options: extend({}, HTMLBaseIcon.fn.options, {\n            name: 'HTMLSVGIcon',\n            icon: null\n        }),\n        _wrapper: function() {\n            var that = this,\n                icon = that.options.icon,\n                iconClass = that.options.iconClass,\n                // Find if there is an existing k-svg-i- class appended to the element.\n                currentIconClass = that.element[0].className.split(\" \").find(x => x.includes(KSVG_PREFFIX)),\n                svgElm = $('<svg></svg>'),\n                className;\n\n            if (!icon && iconClass) {\n                // match k-i-(some-icon-name)\n                const regex = /k-i-(\\w+(?:-\\w+)*)/;\n                let iconNameMatch = iconClass.match(regex);\n                if (iconNameMatch) {\n                    icon = iconNameMatch[1];\n                    iconClass = iconClass.replace(iconNameMatch[0], \"\");\n                }\n            }\n\n            if (kendo.isString(icon)) {\n                // remove k-i- and convert kebab-case-icon to camelCaseIcon\n                icon = icon.replace('k-i-', '').replace(/-./g, x=>x[1].toUpperCase());\n                icon = kendo.ui.svgIcons[icon] || kendo.ui.svgIcons[`${icon}Icon`];\n            }\n\n            className = icon && icon.name ? `${KSVG_PREFFIX}${icon.name}` : '';\n            that._className = className;\n\n            that.wrapper = that.element\n                .addClass(KSVGICON)\n                .removeClass(currentIconClass) // Remove any existing icons.\n                .addClass(className)\n                .addClass(iconClass || '');\n\n            if ($.isPlainObject(icon)) {\n                svgElm.attr('viewBox', icon.viewBox || '')\n                    .attr({\n                        'viewBox': icon.viewBox || '',\n                        'focusable': 'false',\n                        'xmlns': 'http://www.w3.org/2000/svg'\n                    })\n                    .html(icon.content || '');\n\n                that.wrapper.append(svgElm[0].outerHTML);\n            }\n\n            HTMLBaseIcon.fn._wrapper.call(this);\n        }\n    });\n\n    $.extend(kendo.html, {\n        renderIcon: renderIcon,\n        HTMLFontIcon: HTMLFontIcon,\n        HTMLSvgIcon: HTMLSvgIcon,\n        getIconRenderer: (type) => ICON_TYPES[type]\n    });\n\n    kendo.cssProperties.registerPrefix(\"HTMLFontIcon\", \"k-icon-\");\n\n    kendo.cssProperties.registerValues(\"HTMLFontIcon\", [{\n        prop: \"size\",\n        values: kendo.cssProperties.sizeValues.concat([['xsmall', 'xs'], ['xlarge', 'xl'], ['xxlarge', 'xxl'], ['xxxlarge', 'xxxl']])\n    }, {\n        prop: \"themeColor\",\n        values: ['primary', 'secondary', 'tertiary', 'inherit', 'info', 'success', 'warning', 'error', 'dark', 'light', 'inverse']\n    }]);\n\n    kendo.cssProperties.registerPrefix(\"HTMLSVGIcon\", \"k-icon-\");\n\n    kendo.cssProperties.registerValues(\"HTMLSVGIcon\", [{\n        prop: \"size\",\n        values: kendo.cssProperties.sizeValues.concat([['xsmall', 'xs'], ['xlarge', 'xl'], ['xxlarge', 'xxl'], ['xxxlarge', 'xxxl']])\n    }, {\n        prop: \"themeColor\",\n        values: ['primary', 'secondary', 'tertiary', 'inherit', 'info', 'success', 'warning', 'error', 'dark', 'light', 'inverse']\n    }]);\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}