{"version":3,"file":"kendo.data.min.js","names":[],"sources":["../../src/data/filter-expression-no-eval.js","../../src/kendo.data.js"],"sourcesContent":["import \"../kendo.core.js\";\n\n/*\nThis code is copied/inspired by the internal @progress/kendo-data-query repo:\nhttps://github.com/telerik/kendo-data-query/tree/develop/src/filtering\n\n!!!\n1. If updates are to be synced consider the accentFoldingFiltering,\n   which at the moment is not present as a feature in the data-query-package.\n\n2. Double-check available operators as well.\n\n3. Make sure objs are strings -> i.e., replace (a || \"\") to (a + '')\n!!!\n\nIn future, if we consider reusing the code directly we should revise the above omissions.\n*/\n\nconst logic = {\n    \"or\": {\n        concat: (acc, fn) => a => acc(a) || fn(a),\n        identity: () => false\n    },\n    \"and\": {\n        concat: (acc, fn) => a => acc(a) && fn(a),\n        identity: () => true\n    }\n};\n\nconst operatorsMap = {\n    isnullorempty: (a) => kendo.isBlank(a) || a === '',\n    isnotnullorempty: (a) => kendo.isPresent(a) && a !== '',\n    contains: (a, b) => (a + '').indexOf(b) >= 0,\n    doesnotcontain: (a, b) => (a + '').indexOf(b) === -1,\n    doesnotendwith: (a, b) => (a + '').indexOf(b, (a || \"\").length - (b || \"\").length) < 0,\n    doesnotstartwith: (a, b) => (a + '').lastIndexOf(b, 0) === -1,\n    endswith: (a, b) => (a + '').indexOf(b, (a || \"\").length - (b || \"\").length) >= 0,\n    eq: (a, b) => a === b,\n    gt: (a, b) => a > b,\n    gte: (a, b) => a >= b,\n    isempty: (a) => a === '',\n    isnotempty: (a) => a !== '',\n    isnotnull: (a) => kendo.isPresent(a),\n    isnull: (a) => kendo.isBlank(a),\n    lt: (a, b) => a < b,\n    lte: (a, b) => a <= b,\n    neq: (a, b) => a != b,\n    startswith: (a, b) => (a + '').lastIndexOf(b, 0) === 0\n};\n\nconst dateRegExp = /^\\/Date\\((.*?)\\)\\/$/;\n\nconst convertValue = (value, ignoreCase, accentFoldingFiltering) => {\n    if (value != null && kendo.isString(value)) {\n        const date = dateRegExp.exec(value);\n        if (date) {\n            return new Date(+date[1]).getTime();\n        } else if (ignoreCase) {\n            return accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase();\n        }\n    } else if (value != null && kendo.isDate(value)) {\n        return value.getTime();\n    }\n    return value;\n};\n\nconst typedGetter = (prop, value, ignoreCase, accentFoldingFiltering) => {\n    if (!kendo.isPresent(value)) {\n        return prop;\n    }\n\n    let acc = prop;\n\n    if (kendo.isString(value)) {\n        const date = dateRegExp.exec(value);\n        if (date) {\n            value = new Date(+date[1]);\n        } else {\n            acc = a => {\n                const x = prop(a);\n                if (typeof x === 'string' && ignoreCase) {\n                    return accentFoldingFiltering ? x.toLocaleLowerCase(accentFoldingFiltering) : x.toLowerCase();\n                } else {\n                    return kendo.isNumeric(x) ? x + \"\" : x;\n                }\n            };\n        }\n    }\n\n    if (kendo.isDate(value)) {\n        return a => {\n            const x = acc(a);\n            return kendo.isDate(x) ? x.getTime() : x;\n        };\n    }\n    return acc;\n};\n\nconst transformFilter = ({ field, ignoreCase, value, operator = 'eq', accentFoldingFiltering }) => {\n    field = !kendo.isPresent(field) ? a => a : field;\n\n    ignoreCase = kendo.isPresent(ignoreCase) ? ignoreCase : true;\n\n    const itemProp = typedGetter(\n        kendo.isFunction(field) ? field : kendo.getter(field, true),\n        value,\n        ignoreCase,\n        accentFoldingFiltering\n    );\n\n    value = convertValue(value, ignoreCase, accentFoldingFiltering);\n\n    const op = kendo.isFunction(operator) ? operator : operatorsMap[operator];\n\n    return a => op(itemProp(a), value, ignoreCase);\n};\n\nconst isCompositeFilterDescriptor = (source) => kendo.isPresent(source.filters);\n\nconst transformCompositeFilter = (filter) => {\n    const accentFoldingFiltering = filter.accentFoldingFiltering;\n    const combiner = logic[filter.logic || 'and'];\n    return filter.filters\n        .filter(kendo.isPresent)\n        .map(x => (isCompositeFilterDescriptor(x) ? transformCompositeFilter(extendAccentFolding(x, accentFoldingFiltering)) : transformFilter(extendAccentFolding(x, accentFoldingFiltering))))\n        .reduce(combiner.concat, combiner.identity);\n};\n\nconst extendAccentFolding = (filter, accentFoldingFiltering) => (kendo.isPresent(accentFoldingFiltering) ? Object.assign(filter, { accentFoldingFiltering }) : filter);\n\nexport const filterExprNoEval = function(expr) {\n    return transformCompositeFilter(expr);\n};","import \"./kendo.core.js\";\nimport { filterExprNoEval } from \"./data/filter-expression-no-eval.js\";\nimport \"./kendo.data.odata.js\";\nimport \"./kendo.data.xml.js\";\n\nexport const __meta__ = {\n    id: \"data\",\n    name: \"Data source\",\n    category: \"framework\",\n    description: \"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.\",\n    depends: [ \"core\" ],\n    features: [ {\n        id: \"data-odata\",\n        name: \"OData\",\n        description: \"Support for accessing Open Data Protocol (OData) services.\",\n        depends: [ \"data.odata\" ]\n    }, {\n        id: \"data-signalr\",\n        name: \"SignalR\",\n        description: \"Support for binding to SignalR hubs.\",\n        depends: [ \"data.signalr\" ]\n    }, {\n        id: \"data-XML\",\n        name: \"XML\",\n        description: \"Support for binding to XML.\",\n        depends: [ \"data.xml\" ]\n    }]\n};\n\n\n(function($, undefined) {\n    var extend = $.extend,\n        isPlainObject = $.isPlainObject,\n        isEmptyObject = $.isEmptyObject,\n        isArray = Array.isArray,\n        grep = $.grep,\n        ajax = $.ajax,\n        map,\n        each = $.each,\n        noop = $.noop,\n        kendo = window.kendo,\n        isFunction = kendo.isFunction,\n        Observable = kendo.Observable,\n        Class = kendo.Class,\n        STRING = \"string\",\n        FUNCTION = \"function\",\n        ASCENDING = \"asc\",\n        CREATE = \"create\",\n        READ = \"read\",\n        UPDATE = \"update\",\n        DESTROY = \"destroy\",\n        CHANGE = \"change\",\n        SYNC = \"sync\",\n        GET = \"get\",\n        ERROR = \"error\",\n        REQUESTSTART = \"requestStart\",\n        PROGRESS = \"progress\",\n        REQUESTEND = \"requestEnd\",\n        ITEMSLOADED = \"itemsLoaded\",\n        ITEMLOAD = \"itemLoad\",\n        crud = [CREATE, READ, UPDATE, DESTROY],\n        identity = function(o) { return o; },\n        getter = kendo.getter,\n        stringify = kendo.stringify,\n        math = Math,\n        push = [].push,\n        join = [].join,\n        pop = [].pop,\n        splice = [].splice,\n        shift = [].shift,\n        slice = [].slice,\n        unshift = [].unshift,\n        toString = {}.toString,\n        stableSort = kendo.support.stableSort,\n        dateRegExp = /^\\/Date\\((.*?)\\)\\/$/,\n        objectKeys = [];\n\n    var ObservableArray = Observable.extend({\n        init: function(array, type) {\n            var that = this;\n\n            that.type = type || ObservableObject;\n\n            Observable.fn.init.call(that);\n\n            that.length = array.length;\n\n            that.wrapAll(array, that);\n            that._loadPromises = [];\n            that._loadedNodes = [];\n        },\n\n        at: function(index) {\n            return this[index];\n        },\n\n        toJSON: function(serializeFunctions) {\n            var idx, length = this.length, value, json = new Array(length);\n\n            for (idx = 0; idx < length; idx++) {\n                value = this[idx];\n\n                if (value instanceof ObservableObject) {\n                    value = value.toJSON(serializeFunctions);\n                }\n\n                json[idx] = value;\n            }\n\n            return json;\n        },\n\n        parent: noop,\n\n        wrapAll: function(source, target) {\n            var that = this,\n                idx,\n                length,\n                parent = function() {\n                    return that;\n                };\n\n            target = target || [];\n\n            for (idx = 0, length = source.length; idx < length; idx++) {\n                target[idx] = that.wrap(source[idx], parent);\n            }\n\n            return target;\n        },\n\n        wrap: function(object, parent) {\n            var that = this,\n                observable;\n\n            if (object !== null && toString.call(object) === \"[object Object]\") {\n                observable = object instanceof that.type || object instanceof Model;\n\n                if (!observable) {\n                    object = object instanceof ObservableObject ? object.toJSON() : object;\n                    object = new that.type(object);\n                }\n\n                object.parent = parent;\n\n                object.bind(CHANGE, function(e) {\n                    var isGroup = object.hasOwnProperty(\"hasSubgroups\");\n                    that.trigger(CHANGE, {\n                        field: e.field,\n                        node: e.node,\n                        index: e.index,\n                        items: e.items || [this],\n                        action: e.node || isGroup ? (e.action || \"itemloaded\") : \"itemchange\"\n                    });\n                });\n\n                object.bind(ITEMLOAD, function(e) {\n                    that._loadPromises.push(e.promise);\n                    that._loading = true;\n\n                    e.promise.done(function() {\n                        that._loadedNodes.push(e.node);\n                        var index = that._loadPromises.indexOf(e.promise);\n                        that._loadPromises.splice(index, 1);\n\n                        if (!that._loadPromises.length) {\n                            that._loading = false;\n                            that.trigger(ITEMSLOADED, { collection: that, nodes: that._loadedNodes });\n                            that._loadedNodes = [];\n                        }\n                    });\n                });\n            }\n\n            return object;\n        },\n\n        loading: function() {\n            return this._loading;\n        },\n\n        push: function() {\n            var index = this.length,\n                items = this.wrapAll(arguments),\n                result;\n\n            result = push.apply(this, items);\n\n            if (!this.omitChangeEvent) {\n                this.trigger(CHANGE, {\n                    action: \"add\",\n                    index: index,\n                    items: items\n                });\n            }\n\n            return result;\n        },\n\n        slice: slice,\n\n        sort: [].sort,\n\n        join: join,\n\n        pop: function() {\n            var length = this.length, result = pop.apply(this);\n\n            if (length) {\n                this.trigger(CHANGE, {\n                    action: \"remove\",\n                    index: length - 1,\n                    items: [result]\n                });\n            }\n\n            return result;\n        },\n\n        splice: function(index, howMany, item) {\n            var items = this.wrapAll(slice.call(arguments, 2)),\n                result, i, len;\n\n            result = splice.apply(this, [index, howMany].concat(items));\n\n            if (result.length) {\n                if (!this.omitChangeEvent) {\n                    this.trigger(CHANGE, {\n                        action: \"remove\",\n                        index: index,\n                        items: this.omitCache && this.omitCache.length ? result.concat(this.omitCache) : result\n                    });\n                    this.omitCache = [];\n                }\n\n                for (i = 0, len = result.length; i < len; i++) {\n                    if (result[i] && result[i].children) {\n                        result[i].unbind(CHANGE);\n                    }\n                }\n            }\n\n            if (item) {\n                if (!this.omitChangeEvent) {\n                    this.trigger(CHANGE, {\n                        action: \"add\",\n                        index: index,\n                        items: items\n                    });\n                }\n            }\n            return result;\n        },\n\n        shift: function() {\n            var length = this.length, result = shift.apply(this);\n\n            if (length) {\n                this.trigger(CHANGE, {\n                    action: \"remove\",\n                    index: 0,\n                    items: [result]\n                });\n            }\n\n            return result;\n        },\n\n        unshift: function() {\n            var items = this.wrapAll(arguments),\n                result;\n\n            result = unshift.apply(this, items);\n\n            this.trigger(CHANGE, {\n                action: \"add\",\n                index: 0,\n                items: items\n            });\n\n            return result;\n        },\n\n        indexOf: function(item) {\n            var that = this,\n                idx,\n                length;\n\n            for (idx = 0, length = that.length; idx < length; idx++) {\n                if (that[idx] === item) {\n                    return idx;\n                }\n            }\n            return -1;\n        },\n\n        forEach: function(callback, thisArg) {\n            var idx = 0;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                callback.call(context, this[idx], idx, this);\n            }\n        },\n\n        map: function(callback, thisArg) {\n            var idx = 0;\n            var result = [];\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                result[idx] = callback.call(context, this[idx], idx, this);\n            }\n\n            return result;\n        },\n\n        reduce: function(callback) {\n            var idx = 0,\n                result,\n                length = this.length;\n\n            if (arguments.length == 2) {\n                result = arguments[1];\n            } else if (idx < length) {\n                result = this[idx++];\n            }\n\n            for (; idx < length; idx++) {\n                result = callback(result, this[idx], idx, this);\n            }\n\n            return result;\n        },\n\n        reduceRight: function(callback) {\n            var idx = this.length - 1,\n                result;\n\n            if (arguments.length == 2) {\n                result = arguments[1];\n            } else if (idx > 0) {\n                result = this[idx--];\n            }\n\n            for (; idx >= 0; idx--) {\n                result = callback(result, this[idx], idx, this);\n            }\n\n            return result;\n        },\n\n        filter: function(callback, thisArg) {\n            var idx = 0;\n            var result = [];\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (callback.call(context, item, idx, this)) {\n                    result[result.length] = item;\n                }\n            }\n\n            return result;\n        },\n\n        find: function(callback, thisArg) {\n            var idx = 0;\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (callback.call(context, item, idx, this)) {\n                    return item;\n                }\n            }\n        },\n\n        every: function(callback, thisArg) {\n            var idx = 0;\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (!callback.call(context, item, idx, this)) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n\n        some: function(callback, thisArg) {\n            var idx = 0;\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (callback.call(context, item, idx, this)) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        // non-standard collection methods\n        remove: function(item) {\n            var idx = this.indexOf(item);\n\n            if (idx !== -1) {\n                this.splice(idx, 1);\n            }\n        },\n\n        empty: function() {\n            this.splice(0, this.length);\n        }\n    });\n\n    // Polyfill for Symbol.iterator\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator && !ObservableArray.prototype[Symbol.iterator]) {\n        ObservableArray.prototype[Symbol.iterator] = [][Symbol.iterator];\n    }\n\n    var LazyObservableArray = ObservableArray.extend({\n        init: function(data, type, events) {\n            var parentFn = function() { return this; };\n\n            Observable.fn.init.call(this);\n\n            this.type = type || ObservableObject;\n\n            if (events) {\n                this._events = events;\n            }\n\n            for (var idx = 0; idx < data.length; idx++) {\n                this[idx] = data[idx];\n            }\n\n            this.length = idx;\n            this._parent = parentFn.bind(this);\n            this._loadPromises = [];\n            this._loadedNodes = [];\n        },\n        at: function(index) {\n            var item = this[index];\n\n            if (!(item instanceof this.type)) {\n                item = this[index] = this.wrap(item, this._parent);\n            } else {\n                item.parent = this._parent;\n            }\n\n            return item;\n        }\n    });\n\n    function eventHandler(context, type, field, prefix) {\n        return function(e) {\n            var event = {}, key;\n\n            for (key in e) {\n                event[key] = e[key];\n            }\n\n            if (prefix) {\n                event.field = field + \".\" + e.field;\n            } else {\n                event.field = field;\n            }\n\n            if (type == CHANGE && context._notifyChange) {\n                context._notifyChange(event);\n            }\n\n            context.trigger(type, event);\n        };\n    }\n\n    function isPrimitiveType(value) {\n        return (typeof value === \"object\" && Object.getPrototypeOf(value) === Object.getPrototypeOf({}))\n                || Object.getPrototypeOf(value) === Object.getPrototypeOf(new Date())\n                || typeof value !== \"object\";\n      }\n\n    function ownKeys(value, ignoreObjectKeys) {\n        var props = [];\n        var protoKeys = [];\n        var keys, filteredObjectKeys;\n\n        value = value || {};\n\n        if (!isPrimitiveType(value)) {\n            protoKeys = Object.getOwnPropertyNames(Object.getPrototypeOf(value)).filter(f => f.indexOf(\"__\") !== 0);\n        }\n\n        keys = Object.getOwnPropertyNames(value).concat(protoKeys);\n\n        filteredObjectKeys = objectKeys.filter(function(key) {\n            return keys.indexOf(key) < 0;\n        });\n\n        while (value) {\n            Object.getOwnPropertyNames(value).forEach(function(prop) {\n                if (props.indexOf(prop) === -1 && (!ignoreObjectKeys || filteredObjectKeys.indexOf(prop) < 0)) {\n                    props.push(prop);\n                }\n            });\n            value = Object.getPrototypeOf(value);\n        }\n\n        return props;\n    }\n\n    objectKeys = ownKeys({}, false);\n\n    var ObservableObject = Observable.extend({\n        init: function(value) {\n            var that = this,\n                member,\n                keys = ownKeys(value, true),\n                parent = function() {\n                    return that;\n                };\n\n            Observable.fn.init.call(this);\n\n            this._handlers = {};\n\n            keys.forEach(function(field) {\n                member = value[field];\n\n                if (typeof member === \"object\" && member && !member.getTime && field.charAt(0) != \"_\") {\n                    member = that.wrap(member, field, parent);\n                }\n\n                that[field] = member;\n            });\n\n            that.uid = kendo.guid();\n        },\n\n        shouldSerialize: function(field, serializeFunctions) {\n            // This way we cover both if the serializeFunctions parameter is an object OR a boolean.\n            if (typeof serializeFunctions === \"object\") {\n                serializeFunctions = (serializeFunctions && serializeFunctions[field]);\n            }\n            return this.hasOwnProperty(field) && field !== \"_handlers\" && field !== \"_events\" && (serializeFunctions || typeof this[field] !== FUNCTION) && field !== \"uid\";\n        },\n\n        forEach: function(f) {\n            for (var i in this) {\n                if (this.shouldSerialize(i)) {\n                    f(this[i], i);\n                }\n            }\n        },\n\n        toJSON: function(serializeFunctions) {\n            var result = {}, value, field;\n\n            for (field in this) {\n                if (this.shouldSerialize(field, serializeFunctions)) {\n                    value = this[field];\n\n                    if (value instanceof ObservableObject || value instanceof ObservableArray) {\n                        value = value.toJSON(serializeFunctions);\n                    }\n\n                    result[field] = value;\n                }\n            }\n\n            return result;\n        },\n\n        get: function(field) {\n            var that = this, result;\n\n            that.trigger(GET, { field: field });\n\n            if (field === \"this\") {\n                result = that;\n            } else {\n                result = kendo.getter(field, true)(that);\n            }\n\n            return result;\n        },\n\n        _set: function(field, value) {\n            var that = this;\n            var composite = field.indexOf(\".\") >= 0;\n\n            if (composite) {\n                var paths = field.split(\".\"),\n                    path = \"\";\n\n                while (paths.length > 1) {\n                    path += paths.shift();\n                    var obj = kendo.getter(path, true)(that);\n                    if (obj instanceof ObservableObject) {\n                        obj.set(paths.join(\".\"), value);\n                        return composite;\n                    }\n                    path += \".\";\n                }\n            }\n\n            kendo.setter(field)(that, value);\n\n            return composite;\n        },\n\n        set: function(field, value) {\n            var that = this,\n                isSetPrevented = false,\n                composite = field.indexOf(\".\") >= 0,\n                current = kendo.getter(field, true)(that);\n\n            if (current !== value) {\n                if (current instanceof Observable && this._handlers[field]) {\n                    if (this._handlers[field].get) {\n                       current.unbind(GET, this._handlers[field].get);\n                    }\n                    current.unbind(CHANGE, this._handlers[field].change);\n                }\n\n                isSetPrevented = that.trigger(\"set\", { field: field, value: value });\n\n                if (!isSetPrevented) {\n                    if (!composite) {\n                        value = that.wrap(value, field, function() { return that; });\n                    }\n                    if ((!that._set(field, value) || field.indexOf(\"(\") >= 0 || field.indexOf(\"[\") >= 0)) {\n                        that.trigger(CHANGE, { field: field });\n                    }\n                }\n            }\n\n            return isSetPrevented;\n        },\n\n        parent: noop,\n\n        wrap: function(object, field, parent) {\n            var that = this;\n            var get;\n            var change;\n            var type = toString.call(object);\n\n            if (object != null && (type === \"[object Object]\" || type === \"[object Array]\")) {\n                var isObservableArray = object instanceof ObservableArray;\n                var isDataSource = object instanceof DataSource;\n\n                if (type === \"[object Object]\" && !isDataSource && !isObservableArray) {\n                    if (!(object instanceof ObservableObject)) {\n                        object = new ObservableObject(object);\n                    }\n\n                    get = eventHandler(that, GET, field, true);\n                    object.bind(GET, get);\n                    change = eventHandler(that, CHANGE, field, true);\n                    object.bind(CHANGE, change);\n\n                    that._handlers[field] = { get: get, change: change };\n                } else if (type === \"[object Array]\" || isObservableArray || isDataSource) {\n                    if (!isObservableArray && !isDataSource) {\n                        object = new ObservableArray(object);\n                    }\n\n                    change = eventHandler(that, CHANGE, field, false);\n\n                    object.bind(CHANGE, change);\n\n                    that._handlers[field] = { change: change };\n                }\n\n                object.parent = parent;\n            }\n\n            return object;\n        }\n    });\n\n    function equal(x, y) {\n        if (x === y) {\n            return true;\n        }\n\n        var xtype = kendo.type(x), ytype = kendo.type(y), field;\n\n        if (xtype !== ytype) {\n            return false;\n        }\n\n        if (xtype === \"date\") {\n            return x.getTime() === y.getTime();\n        }\n\n        if (xtype !== \"object\" && xtype !== \"array\") {\n            return false;\n        }\n\n        for (field in x) {\n            if (!equal(x[field], y[field])) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    var parsers = {\n        \"number\": function(value) {\n            if (typeof value === STRING && value.toLowerCase() === \"null\") {\n                return null;\n            }\n            return kendo.parseFloat(value);\n        },\n\n        \"date\": function(value) {\n            if (typeof value === STRING && value.toLowerCase() === \"null\") {\n                return null;\n            }\n            return kendo.parseDate(value);\n        },\n\n        \"boolean\": function(value) {\n            if (typeof value === STRING) {\n                if (value.toLowerCase() === \"null\") {\n                    return null;\n                } else {\n                    return value.toLowerCase() === \"true\";\n                }\n            }\n            return value != null ? !!value : value;\n        },\n\n        \"string\": function(value) {\n            if (typeof value === STRING && value.toLowerCase() === \"null\") {\n                return null;\n            }\n            return value != null ? (value + \"\") : value;\n        },\n\n        \"default\": function(value) {\n            return value;\n        }\n    };\n\n    var defaultValues = {\n        \"string\": \"\",\n        \"number\": 0,\n        \"date\": new Date(),\n        \"boolean\": false,\n        \"default\": \"\"\n    };\n\n    function getFieldByName(obj, name) {\n        var field,\n            fieldName;\n\n        for (fieldName in obj) {\n            field = obj[fieldName];\n            if (isPlainObject(field) && field.field && field.field === name) {\n                return field;\n            } else if (field === name) {\n                return field;\n            }\n        }\n        return null;\n    }\n\n    var Model = ObservableObject.extend({\n        init: function(data) {\n            var that = this;\n\n            if (!data || $.isEmptyObject(data)) {\n                data = $.extend({}, that.defaults, data);\n\n                if (that._initializers) {\n                    for (var idx = 0; idx < that._initializers.length; idx++) {\n                         var name = that._initializers[idx];\n                         data[name] = that.defaults[name]();\n                    }\n                }\n            }\n\n            ObservableObject.fn.init.call(that, data);\n\n            that.dirty = false;\n            that.dirtyFields = {};\n\n            if (that.idField) {\n                that.id = that.get(that.idField);\n\n                if (that.id === undefined) {\n                    that.id = that._defaultId;\n                }\n            }\n        },\n\n        shouldSerialize: function(field) {\n            return ObservableObject.fn.shouldSerialize.call(this, field) &&\n                field !== \"uid\" && !(this.idField !== \"id\" && field === \"id\") &&\n                field !== \"dirty\" && field !== \"dirtyFields\" && field !== \"_accessors\";\n        },\n\n        _parse: function(field, value) {\n            var that = this,\n                fieldName = field,\n                fields = (that.fields || {}),\n                parse;\n\n            field = fields[field];\n            if (!field) {\n                field = getFieldByName(fields, fieldName);\n            }\n            if (field) {\n                parse = field.parse;\n                if (!parse && field.type) {\n                    parse = parsers[field.type.toLowerCase()];\n                }\n            }\n\n            return parse ? parse(value) : value;\n        },\n\n        _notifyChange: function(e) {\n            var action = e.action;\n\n            if (action == \"add\" || action == \"remove\") {\n                this.dirty = true;\n                this.dirtyFields[e.field] = true;\n            }\n        },\n\n        editable: function(field) {\n            field = (this.fields || {})[field];\n            return field ? field.editable !== false : true;\n        },\n\n        set: function(field, value) {\n            var that = this;\n            var dirty = that.dirty;\n\n            if (that.editable(field)) {\n                value = that._parse(field, value);\n\n                if (!equal(value, that.get(field))) {\n                    that.dirty = true;\n                    that.dirtyFields[field] = true;\n\n                    if (ObservableObject.fn.set.call(that, field, value) && !dirty) {\n                        that.dirty = dirty;\n\n                        if (!that.dirty) {\n                            that.dirtyFields[field] = false;\n                        }\n                    }\n                } else {\n                    that.trigger(\"equalSet\", { field: field, value: value });\n                }\n            }\n        },\n\n        accept: function(data) {\n            var that = this,\n                parent = function() { return that; },\n                field;\n\n            for (field in data) {\n                var value = data[field];\n\n                if (field.charAt(0) != \"_\") {\n                    value = that.wrap(data[field], field, parent);\n                }\n\n                that._set(field, value);\n            }\n\n            if (that.idField) {\n                that.id = that.get(that.idField);\n            }\n\n            that.dirty = false;\n            that.dirtyFields = {};\n        },\n\n        isNew: function() {\n            return this.id === this._defaultId;\n        }\n    });\n\n    Model.define = function(base, options) {\n        if (options === undefined) {\n            options = base;\n            base = Model;\n        }\n\n        var model,\n            proto = extend({ defaults: {} }, options),\n            name,\n            field,\n            type,\n            value,\n            idx,\n            length,\n            fields = {},\n            originalName,\n            id = proto.id,\n            functionFields = [];\n\n        if (id) {\n            proto.idField = id;\n        }\n\n        if (proto.id) {\n            delete proto.id;\n        }\n\n        if (id) {\n            proto.defaults[id] = proto._defaultId = \"\";\n        }\n\n        if (toString.call(proto.fields) === \"[object Array]\") {\n            for (idx = 0, length = proto.fields.length; idx < length; idx++) {\n                field = proto.fields[idx];\n                if (typeof field === STRING) {\n                    fields[field] = {};\n                } else if (field.field) {\n                    fields[field.field] = field;\n                }\n            }\n            proto.fields = fields;\n        }\n\n        for (name in proto.fields) {\n            field = proto.fields[name];\n            type = field.type || \"default\";\n            value = null;\n            originalName = name;\n\n            let nameToUse = typeof (field.field) === STRING ? field.field : name;\n\n            if (!field.nullable || field.defaultValue) {\n                value = proto.defaults[originalName !== nameToUse ? originalName : nameToUse] = field.defaultValue !== undefined ? field.defaultValue : defaultValues[type.toLowerCase()];\n\n                if (typeof value === \"function\") {\n                    functionFields.push(nameToUse);\n                }\n            }\n\n            if (options.id === nameToUse) {\n                proto._defaultId = value;\n            }\n\n            proto.defaults[originalName !== nameToUse ? originalName : nameToUse] = value;\n\n            if ($.isPlainObject(field)) {\n                field.parse = field.parse || parsers[type];\n            } else {\n                field = {\n                    parse: parsers[type]\n                };\n            }\n        }\n\n        if (functionFields.length > 0) {\n            proto._initializers = functionFields;\n        }\n\n        model = base.extend(proto);\n        model.define = function(options) {\n            return Model.define(model, options);\n        };\n\n        if (proto.fields) {\n            model.fields = proto.fields;\n            model.idField = proto.idField;\n        }\n\n        return model;\n    };\n\n    var Comparer = {\n        selector: function(field) {\n            return isFunction(field) ? field : getter(field);\n        },\n\n        compare: function(field) {\n            var selector = this.selector(field);\n            return function(a, b) {\n                a = selector(a);\n                b = selector(b);\n\n                if (a == null && b == null) {\n                    return 0;\n                }\n\n                if (a == null) {\n                    return -1;\n                }\n\n                if (b == null) {\n                    return 1;\n                }\n\n                if (a.localeCompare) {\n                    return a.localeCompare(b);\n                }\n\n                return a > b ? 1 : (a < b ? -1 : 0);\n            };\n        },\n\n        create: function(sort) {\n            var compare = sort.compare || this.compare(sort.field);\n\n            if (sort.dir == \"desc\") {\n                return function(a, b) {\n                    return compare(b, a, true);\n                };\n            }\n\n            return compare;\n        },\n\n        combine: function(comparers) {\n            return function(a, b) {\n                var result = comparers[0](a, b),\n                    idx,\n                    length;\n\n                for (idx = 1, length = comparers.length; idx < length; idx ++) {\n                    result = result || comparers[idx](a, b);\n                }\n\n                return result;\n            };\n        }\n    };\n\n    var StableComparer = extend({}, Comparer, {\n        asc: function(field) {\n            var selector = this.selector(field);\n            return function(a, b) {\n                var valueA = selector(a);\n                var valueB = selector(b);\n\n                if (valueA && valueA.getTime && valueB && valueB.getTime) {\n                    valueA = valueA.getTime();\n                    valueB = valueB.getTime();\n                }\n\n                if (valueA === valueB) {\n                    return a.__position - b.__position;\n                }\n\n                if (valueA == null) {\n                    return -1;\n                }\n\n                if (valueB == null) {\n                    return 1;\n                }\n\n                if (valueA.localeCompare) {\n                    return valueA.localeCompare(valueB);\n                }\n\n                return valueA > valueB ? 1 : -1;\n            };\n        },\n\n        desc: function(field) {\n            var selector = this.selector(field);\n            return function(a, b) {\n                var valueA = selector(a);\n                var valueB = selector(b);\n\n                if (valueA && valueA.getTime && valueB && valueB.getTime) {\n                    valueA = valueA.getTime();\n                    valueB = valueB.getTime();\n                }\n\n                if (valueA === valueB) {\n                    return a.__position - b.__position;\n                }\n\n                if (valueA == null) {\n                    return 1;\n                }\n\n                if (valueB == null) {\n                    return -1;\n                }\n\n                if (valueB.localeCompare) {\n                    return valueB.localeCompare(valueA);\n                }\n\n                return valueA < valueB ? 1 : -1;\n            };\n        },\n        create: function(sort) {\n           return this[sort.dir](sort.field);\n        }\n    });\n\n    map = function(array, callback) {\n        var idx, length = array.length, result = new Array(length);\n\n        for (idx = 0; idx < length; idx++) {\n            result[idx] = callback(array[idx], idx, array);\n        }\n\n        return result;\n    };\n\n    var operators = (function() {\n\n        function quote(str) {\n            if (typeof str == \"string\") {\n                str = str.replace(/[\\r\\n]+/g, \"\");\n            }\n            return JSON.stringify(str);\n        }\n\n        function textOp(impl) {\n            return function(a, b, ignore, accentFoldingFiltering) {\n                b += \"\";\n                if (ignore) {\n                    a = \"(\" + a + \" + '').toString()\" + ((accentFoldingFiltering) ? \".toLocaleLowerCase('\" + accentFoldingFiltering + \"')\" : \".toLowerCase()\");\n                    b = ((accentFoldingFiltering) ? b.toLocaleLowerCase(accentFoldingFiltering) : b.toLowerCase());\n                }\n                return impl(a, quote(b), ignore);\n            };\n        }\n\n        function operator(op, a, b, ignore, accentFoldingFiltering) {\n            if (b != null) {\n                if (typeof b === STRING) {\n                    var date = dateRegExp.exec(b);\n                    if (date) {\n                        b = new Date(+date[1]);\n                    } else if (ignore) {\n                        b = quote(((accentFoldingFiltering) ? b.toLocaleLowerCase(accentFoldingFiltering) : b.toLowerCase()));\n                        a = \"((\" + a + \" || '')+'')\" + ((accentFoldingFiltering) ? \".toLocaleLowerCase('\" + accentFoldingFiltering + \"')\" : \".toLowerCase()\");\n                    } else {\n                        b = quote(b);\n                    }\n                }\n\n                if (b.getTime) {\n                    //b looks like a Date\n                    a = \"(\" + a + \"&&\" + a + \".getTime?\" + a + \".getTime():\" + a + \")\";\n                    b = b.getTime();\n                }\n            }\n\n            return a + \" \" + op + \" \" + b;\n        }\n\n        function getMatchRegexp(pattern) {\n            // take a pattern, as supported by Excel match filter, and\n            // convert it to the equivalent JS regular expression.\n            // Excel patterns support:\n            //\n            //   * - match any sequence of characters\n            //   ? - match a single character\n            //\n            // to match a literal * or ?, they must be prefixed by a tilde (~)\n            for (var rx = \"/^\", esc = false, i = 0; i < pattern.length; ++i) {\n                var ch = pattern.charAt(i);\n                if (esc) {\n                    rx += \"\\\\\" + ch;\n                } else if (ch == \"~\") {\n                    esc = true;\n                    continue;\n                } else if (ch == \"*\") {\n                    rx += \".*\";\n                } else if (ch == \"?\") {\n                    rx += \".\";\n                } else if (\".+^$()[]{}|\\\\/\\n\\r\\u2028\\u2029\\xA0\".indexOf(ch) >= 0) {\n                    rx += \"\\\\\" + ch;\n                } else {\n                    rx += ch;\n                }\n                esc = false;\n            }\n            return rx + \"$/\";\n        }\n\n        return {\n            quote: function(value) {\n                if (value && value.getTime) {\n                    return \"new Date(\" + value.getTime() + \")\";\n                }\n                return quote(value);\n            },\n            eq: function(a, b, ignore, accentFoldingFiltering) {\n                return operator(\"==\", a, b, ignore, accentFoldingFiltering);\n            },\n            neq: function(a, b, ignore, accentFoldingFiltering) {\n                return operator(\"!=\", a, b, ignore, accentFoldingFiltering);\n            },\n            gt: function(a, b, ignore) {\n                return operator(\">\", a, b, ignore);\n            },\n            gte: function(a, b, ignore) {\n                return operator(\">=\", a, b, ignore);\n            },\n            lt: function(a, b, ignore) {\n                return operator(\"<\", a, b, ignore);\n            },\n            lte: function(a, b, ignore) {\n                return operator(\"<=\", a, b, ignore);\n            },\n            startswith: textOp(function(a, b) {\n                return a + \".lastIndexOf(\" + b + \", 0) == 0\";\n            }),\n            doesnotstartwith: textOp(function(a, b) {\n                return a + \".lastIndexOf(\" + b + \", 0) == -1\";\n            }),\n            endswith: textOp(function(a, b) {\n                var n = b ? b.length - 2 : 0;\n                return a + \".indexOf(\" + b + \", \" + a + \".length - \" + n + \") >= 0\";\n            }),\n            doesnotendwith: textOp(function(a, b) {\n                var n = b ? b.length - 2 : 0;\n                return a + \".indexOf(\" + b + \", \" + a + \".length - \" + n + \") < 0\";\n            }),\n            contains: textOp(function(a, b) {\n                return a + \".indexOf(\" + b + \") >= 0\";\n            }),\n            doesnotcontain: textOp(function(a, b) {\n                return a + \".indexOf(\" + b + \") == -1\";\n            }),\n            matches: textOp(function(a, b) {\n                b = b.substring(1, b.length - 1);\n                return getMatchRegexp(b) + \".test(\" + a + \")\";\n            }),\n            doesnotmatch: textOp(function(a, b) {\n                b = b.substring(1, b.length - 1);\n                return \"!\" + getMatchRegexp(b) + \".test(\" + a + \")\";\n            }),\n            isempty: function(a) {\n                return a + \" === ''\";\n            },\n            isnotempty: function(a) {\n                return a + \" !== ''\";\n            },\n            isnull: function(a) {\n                return \"(\" + a + \" == null)\";\n            },\n            isnotnull: function(a) {\n                return \"(\" + a + \" != null)\";\n            },\n            isnullorempty: function(a) {\n                return \"(\" + a + \" === null) || (\" + a + \" === '')\";\n            },\n            isnotnullorempty: function(a) {\n                return \"(\" + a + \" !== null) && (\" + a + \" !== '')\";\n            }\n        };\n    })();\n\n    function Query(data) {\n        this.data = data || [];\n    }\n\n    // Continue to support legacy unsafe-eval for the spreadsheet\n    Query.filterExpr = function(expression, options = { noEval: false }) {\n        if (options.noEval) {\n            // using no-eval for most cases\n            return filterExprNoEval(expression);\n        }\n\n        var expressions = [],\n            logic = { and: \" && \", or: \" || \" },\n            idx,\n            length,\n            filter,\n            expr,\n            fieldFunctions = [],\n            operatorFunctions = [],\n            field,\n            operator,\n            filters = expression.filters;\n\n        for (idx = 0, length = filters.length; idx < length; idx++) {\n            filter = filters[idx];\n            field = filter.field;\n            operator = filter.operator;\n\n            if (filter.filters) {\n                expr = Query.filterExpr(filter);\n                //Nested function fields or operators - update their index e.g. __o[0] -> __o[1]\n                filter = expr.expression\n                .replace(/__o\\[(\\d+)\\]/g, function(match, index) {\n                    index = +index;\n                    return \"__o[\" + (operatorFunctions.length + index) + \"]\";\n                })\n                .replace(/__f\\[(\\d+)\\]/g, function(match, index) {\n                    index = +index;\n                    return \"__f[\" + (fieldFunctions.length + index) + \"]\";\n                });\n\n                operatorFunctions.push.apply(operatorFunctions, expr.operators);\n                fieldFunctions.push.apply(fieldFunctions, expr.fields);\n            } else {\n                if (typeof field === FUNCTION) {\n                    expr = \"__f[\" + fieldFunctions.length + \"](d)\";\n                    fieldFunctions.push(field);\n                } else {\n                    expr = kendo.expr(field);\n                }\n\n                if (typeof operator === FUNCTION) {\n                    filter = \"__o[\" + operatorFunctions.length + \"](\" + expr + \", \" + operators.quote(filter.value) + \")\";\n                    operatorFunctions.push(operator);\n                } else {\n                    filter = operators[(operator || \"eq\").toLowerCase()](expr, filter.value, filter.ignoreCase !== undefined ? filter.ignoreCase : true, expression.accentFoldingFiltering);\n                }\n            }\n\n            expressions.push(filter);\n        }\n\n        return { expression: \"(\" + expressions.join(logic[expression.logic]) + \")\", fields: fieldFunctions, operators: operatorFunctions };\n    };\n\n    function normalizeSort(field, dir) {\n        if (field) {\n            var descriptor = typeof field === STRING ? { field: field, dir: dir } : field,\n            descriptors = isArray(descriptor) ? descriptor : (descriptor !== undefined ? [descriptor] : []);\n\n            return grep(descriptors, function(d) { return !!d.dir; });\n        }\n    }\n\n    function sortFields(sorts, dir) {\n        var sortObject = {};\n\n        if (sorts) {\n            var descriptor = typeof sorts === STRING ? { field: sorts, dir: dir } : sorts,\n            descriptors = isArray(descriptor) ? descriptor : (descriptor !== undefined ? [descriptor] : []);\n\n            for (var i = 0; i < descriptors.length; i++) {\n                sortObject[descriptors[i].field] = { dir: descriptors[i].dir, index: i + 1 };\n            }\n        }\n\n        return sortObject;\n    }\n\n    var operatorMap = {\n        \"==\": \"eq\",\n        equals: \"eq\",\n        isequalto: \"eq\",\n        equalto: \"eq\",\n        equal: \"eq\",\n        \"!=\": \"neq\",\n        ne: \"neq\",\n        notequals: \"neq\",\n        isnotequalto: \"neq\",\n        notequalto: \"neq\",\n        notequal: \"neq\",\n        \"<\": \"lt\",\n        islessthan: \"lt\",\n        lessthan: \"lt\",\n        less: \"lt\",\n        \"<=\": \"lte\",\n        le: \"lte\",\n        islessthanorequalto: \"lte\",\n        lessthanequal: \"lte\",\n        \">\": \"gt\",\n        isgreaterthan: \"gt\",\n        greaterthan: \"gt\",\n        greater: \"gt\",\n        \">=\": \"gte\",\n        isgreaterthanorequalto: \"gte\",\n        greaterthanequal: \"gte\",\n        ge: \"gte\",\n        notsubstringof: \"doesnotcontain\",\n        isnull: \"isnull\",\n        isempty: \"isempty\",\n        isnotempty: \"isnotempty\"\n    };\n\n    function normalizeOperator(expression) {\n        var idx,\n        length,\n        filter,\n        operator,\n        filters = expression.filters;\n\n        if (filters) {\n            for (idx = 0, length = filters.length; idx < length; idx++) {\n                filter = filters[idx];\n                operator = filter.operator;\n\n                if (operator && typeof operator === STRING) {\n                    filter.operator = operatorMap[operator.toLowerCase()] || operator;\n                }\n\n                normalizeOperator(filter);\n            }\n        }\n    }\n\n    function normalizeFilter(expression) {\n        if (expression && !isEmptyObject(expression)) {\n            if (isArray(expression) || !expression.filters) {\n                expression = {\n                    logic: \"and\",\n                    filters: isArray(expression) ? expression : [expression]\n                };\n            }\n\n            normalizeOperator(expression);\n\n            return expression;\n        }\n    }\n\n    Query.normalizeFilter = normalizeFilter;\n\n    function compareDescriptor(f1, f2) {\n        if (f1.logic || f2.logic) {\n            return false;\n        }\n\n        return f1.field === f2.field && f1.value === f2.value && f1.operator === f2.operator;\n    }\n\n    function normalizeDescriptor(filter) {\n        filter = filter || {};\n\n        if (isEmptyObject(filter)) {\n            return { logic: \"and\", filters: [] };\n        }\n\n        return normalizeFilter(filter);\n    }\n\n    function fieldComparer(a, b) {\n        if (b.logic || (a.field > b.field)) {\n            return 1;\n        } else if (a.field < b.field) {\n            return -1;\n        } else {\n            return 0;\n        }\n    }\n\n    function hasNotFetchedItems(items, start, end) {\n        for (let idx = start; idx < end; idx++) {\n            if (items[idx].notFetched) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    function compareFilters(expr1, expr2) {\n        expr1 = normalizeDescriptor(expr1);\n        expr2 = normalizeDescriptor(expr2);\n\n        if (expr1.logic !== expr2.logic) {\n            return false;\n        }\n\n        var f1, f2;\n        var filters1 = (expr1.filters || []).slice();\n        var filters2 = (expr2.filters || []).slice();\n\n        if (filters1.length !== filters2.length) {\n            return false;\n        }\n\n        filters1 = filters1.sort(fieldComparer);\n        filters2 = filters2.sort(fieldComparer);\n\n        for (var idx = 0; idx < filters1.length; idx++) {\n            f1 = filters1[idx];\n            f2 = filters2[idx];\n\n            if (f1.logic && f2.logic) {\n                if (!compareFilters(f1, f2)) {\n                    return false;\n                }\n            } else if (!compareDescriptor(f1, f2)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    Query.compareFilters = compareFilters;\n\n    function normalizeAggregate(expressions) {\n        return isArray(expressions) ? expressions : [expressions];\n    }\n\n    function normalizeGroup(field, dir, compare, skipItemSorting) {\n        var descriptor = typeof field === STRING ? { field: field, dir: dir, compare: compare, skipItemSorting: skipItemSorting } : field,\n        descriptors = isArray(descriptor) ? descriptor : (descriptor !== undefined ? [descriptor] : []);\n\n        return map(descriptors, function(d) {\n            return {\n                field: d.field,\n                dir: d.dir || \"asc\",\n                aggregates: d.aggregates,\n                compare: d.compare,\n                skipItemSorting: d.skipItemSorting\n            };\n        });\n    }\n\n    function normalizeGroupWithoutCompare(field, dir, compare) {\n        var descriptors = normalizeGroup(field, dir, compare);\n\n        for (var i = 0; i < descriptors.length; i++) {\n            delete descriptors[i].compare;\n        }\n\n        return descriptors;\n    }\n\n    function anyGroupDescriptorHasCompare(groupDescriptors) {\n        var descriptors = isArray(groupDescriptors) ? groupDescriptors : [groupDescriptors];\n\n        for (var i = 0; i < descriptors.length; i++) {\n            if (descriptors[i] && isFunction(descriptors[i].compare)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    Query.prototype = {\n        toArray: function() {\n            return this.data;\n        },\n        range: function(index, count) {\n            return new Query(this.data.slice(index, index + count));\n        },\n        skip: function(count) {\n            return new Query(this.data.slice(count));\n        },\n        take: function(count) {\n            return new Query(this.data.slice(0, count));\n        },\n        select: function(selector) {\n            return new Query(map(this.data, selector));\n        },\n        order: function(selector, dir, inPlace) {\n            var sort = { dir: dir };\n\n            if (selector) {\n                if (selector.compare) {\n                    sort.compare = selector.compare;\n                } else {\n                    sort.field = selector;\n                }\n            }\n\n            if (inPlace) {\n                return new Query(this.data.sort(Comparer.create(sort)));\n            }\n\n            return new Query(this.data.slice(0).sort(Comparer.create(sort)));\n        },\n        orderBy: function(selector, inPlace) {\n            return this.order(selector, \"asc\", inPlace);\n        },\n        orderByDescending: function(selector, inPlace) {\n            return this.order(selector, \"desc\", inPlace);\n        },\n        sort: function(field, dir, comparer, inPlace) {\n            var idx,\n            length,\n            descriptors = normalizeSort(field, dir),\n            comparers = [];\n\n            comparer = comparer || Comparer;\n\n            if (descriptors.length) {\n                for (idx = 0, length = descriptors.length; idx < length; idx++) {\n                    comparers.push(comparer.create(descriptors[idx]));\n                }\n\n                return this.orderBy({ compare: comparer.combine(comparers) }, inPlace);\n            }\n\n            return this;\n        },\n\n        filter: function(expressions) {\n            var compiled,\n            data = this.data,\n            result = [];\n\n            expressions = normalizeFilter(expressions);\n\n            if (!expressions || expressions.filters.length === 0) {\n                return this;\n            }\n\n            compiled = Query.filterExpr(expressions, { noEval: true });\n\n            result = data.filter(compiled);\n            return new Query(result);\n        },\n\n        group: function(descriptors, allData, options) {\n            descriptors = normalizeGroup(descriptors || []);\n            allData = allData || this.data;\n\n            var that = this,\n            result = new Query(that.data),\n            descriptor;\n\n            var getFilteredData = (g, data) => {\n                data = data || new Query(allData).filter([{\n                    field: g.field,\n                    operator: \"eq\",\n                    value: g.value,\n                    ignoreCase: false\n                }]);\n\n                return data;\n            };\n\n            if (descriptors.length > 0) {\n                descriptor = descriptors[0];\n\n                if (options && options.groupPaging) {\n                    result = new Query(allData).groupAllData(descriptor, allData).select(function(group) {\n                        var cachedFilteredData;\n\n                        var items = descriptors.length > 1 ? new Query(group.items).group(descriptors.slice(1), getFilteredData(group, cachedFilteredData).toArray(), options).toArray() : group.items;\n\n                        return {\n                            field: group.field,\n                            value: group.value,\n                            hasSubgroups: descriptors.length > 1,\n                            items: items,\n                            aggregates: descriptor.aggregates && descriptor.aggregates.length ? getFilteredData(group, cachedFilteredData).aggregate(descriptor.aggregates) : {},\n                            uid: kendo.guid(),\n                            itemCount: items.length,\n                            subgroupCount: items.length\n                        };\n                    });\n\n                } else {\n                    result = result.groupBy(descriptor).select(function(group) {\n                        var cachedFilteredData;\n                        return {\n                            field: group.field,\n                            value: group.value,\n                            items: descriptors.length > 1 ? new Query(group.items).group(descriptors.slice(1), getFilteredData(group, cachedFilteredData).toArray()).toArray() : group.items,\n                            hasSubgroups: descriptors.length > 1,\n                            aggregates: descriptor.aggregates && descriptor.aggregates.length ? getFilteredData(group, cachedFilteredData).aggregate(descriptor.aggregates) : {},\n                        };\n                    });\n                }\n            }\n            return result;\n        },\n\n        groupBy: function(descriptor) {\n            var that = this;\n\n            if (isEmptyObject(descriptor) || !this.data.length) {\n                return new Query([]);\n            }\n\n            var field = descriptor.field,\n                sorted = descriptor.skipItemSorting ? this.data : this._sortForGrouping(field, descriptor.dir || \"asc\"),\n                accessor = kendo.accessor(field),\n                item,\n                groupValue = accessor.get(sorted[0], field),\n                group = {\n                    field: field,\n                    value: groupValue,\n                    items: []\n                },\n                currentValue,\n                idx,\n                len,\n                result = [group];\n\n            for (idx = 0, len = sorted.length; idx < len; idx++) {\n                item = sorted[idx];\n                currentValue = accessor.get(item, field);\n                if (!groupValueComparer(groupValue, currentValue)) {\n                    groupValue = currentValue;\n                    group = {\n                        field: field,\n                        value: groupValue,\n                        items: []\n                    };\n                    result.push(group);\n                }\n                group.items.push(item);\n            }\n\n            result = that._sortGroups(result, descriptor);\n\n            return new Query(result);\n        },\n\n        groupAllData: function(descriptor, allData) {\n            if (isEmptyObject(descriptor) || this.data && !this.data.length) {\n                return new Query([]);\n            }\n\n            var field = descriptor.field,\n                sorted = descriptor.skipItemSorting ? allData : new Query(allData).sort(field, descriptor.dir || \"asc\", StableComparer).toArray(),\n                accessor = kendo.accessor(field),\n                item,\n                groupValue = accessor.get(sorted[0], field),\n                group = {\n                    field: field,\n                    value: groupValue,\n                    items: []\n                },\n                currentValue,\n                idx,\n                len,\n                result = [group];\n\n            for (idx = 0, len = sorted.length; idx < len; idx++) {\n                item = sorted[idx];\n                currentValue = accessor.get(item, field);\n                if (!groupValueComparer(groupValue, currentValue)) {\n                    groupValue = currentValue;\n                    group = {\n                        field: field,\n                        value: groupValue,\n                        items: []\n                    };\n                    result.push(group);\n                }\n                group.items.push(item);\n            }\n\n            result = this._sortGroups(result, descriptor);\n\n            return new Query(result);\n        },\n\n        _sortForGrouping: function(field, dir) {\n            var idx, length,\n                data = this.data;\n\n            if (!stableSort) {\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    data[idx].__position = idx;\n                }\n\n                data = new Query(data).sort(field, dir, StableComparer).toArray();\n\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    delete data[idx].__position;\n                }\n                return data;\n            }\n\n            return this.sort(field, dir).toArray();\n        },\n\n        _sortGroups: function(groups, descriptor) {\n            var result = groups;\n\n            if (descriptor && isFunction(descriptor.compare)) {\n                result = new Query(result).order({ compare: descriptor.compare }, descriptor.dir || ASCENDING).toArray();\n            }\n\n            return result;\n        },\n\n        aggregate: function(aggregates) {\n            var idx,\n                len,\n                result = {},\n                state = {};\n\n            if (aggregates && aggregates.length) {\n                for (idx = 0, len = this.data.length; idx < len; idx++) {\n                    calculateAggregate(result, aggregates, this.data[idx], idx, len, state);\n                }\n            }\n            return result;\n        }\n    };\n\n    function groupValueComparer(a, b) {\n        if (a && a.getTime && b && b.getTime) {\n            return a.getTime() === b.getTime();\n        }\n        return a === b;\n    }\n\n    function calculateAggregate(accumulator, aggregates, item, index, length, state) {\n        aggregates = aggregates || [];\n        var idx,\n            aggr,\n            functionName,\n            len = aggregates.length;\n\n        for (idx = 0; idx < len; idx++) {\n            aggr = aggregates[idx];\n            functionName = aggr.aggregate;\n            var field = aggr.field;\n            accumulator[field] = accumulator[field] || {};\n            state[field] = state[field] || {};\n            state[field][functionName] = state[field][functionName] || {};\n            accumulator[field][functionName] = functions[functionName.toLowerCase()](accumulator[field][functionName], item, kendo.accessor(field), index, length, state[field][functionName]);\n        }\n    }\n\n    var functions = {\n        sum: function(accumulator, item, accessor) {\n            var value = accessor.get(item);\n\n            if (!isNumber(accumulator)) {\n                accumulator = value;\n            } else if (isNumber(value)) {\n                accumulator += value;\n            }\n\n            return accumulator;\n        },\n        count: function(accumulator) {\n            return (accumulator || 0) + 1;\n        },\n        average: function(accumulator, item, accessor, index, length, state) {\n            var value = accessor.get(item);\n\n            if (state.count === undefined) {\n                state.count = 0;\n            }\n\n            if (!isNumber(accumulator)) {\n                accumulator = value;\n            } else if (isNumber(value)) {\n                accumulator += value;\n            }\n\n            if (isNumber(value)) {\n                state.count++;\n            }\n\n            if (index == length - 1 && isNumber(accumulator)) {\n                accumulator = accumulator / state.count;\n            }\n            return accumulator;\n        },\n        max: function(accumulator, item, accessor) {\n            var value = accessor.get(item);\n\n            if (!isNumber(accumulator) && !isDate(accumulator)) {\n                accumulator = value;\n            }\n\n            if (accumulator < value && (isNumber(value) || isDate(value))) {\n                accumulator = value;\n            }\n            return accumulator;\n        },\n        min: function(accumulator, item, accessor) {\n            var value = accessor.get(item);\n\n            if (!isNumber(accumulator) && !isDate(accumulator)) {\n                accumulator = value;\n            }\n\n            if (accumulator > value && (isNumber(value) || isDate(value))) {\n                accumulator = value;\n            }\n            return accumulator;\n        }\n    };\n\n    function isNumber(val) {\n        return typeof val === \"number\" && !isNaN(val);\n    }\n\n    function isDate(val) {\n        return val && val.getTime;\n    }\n\n    function toJSON(array) {\n        var idx, length = array.length, result = new Array(length);\n\n        for (idx = 0; idx < length; idx++) {\n            result[idx] = array[idx].toJSON();\n        }\n\n        return result;\n    }\n\n    Query.normalizeGroup = normalizeGroup;\n    Query.normalizeSort = normalizeSort;\n\n    Query.process = function(data, options, inPlace) {\n        options = options || {};\n\n        var group = options.group;\n        var customGroupSort = anyGroupDescriptorHasCompare(normalizeGroup(group || []));\n        var query = new Query(data),\n            groupDescriptorsWithoutCompare = normalizeGroupWithoutCompare(group || []),\n            normalizedSort = normalizeSort(options.sort || []),\n            sort = customGroupSort ? normalizedSort : groupDescriptorsWithoutCompare.concat(normalizedSort),\n            groupDescriptorsWithoutSort,\n            total,\n            filterCallback = options.filterCallback,\n            filter = options.filter,\n            skip = options.skip,\n            take = options.take;\n\n        if (sort && inPlace) {\n            query = query.sort(sort, undefined, undefined, inPlace);\n        }\n\n        if (filter) {\n            query = query.filter(filter);\n\n            if (filterCallback) {\n                query = filterCallback(query);\n            }\n\n            total = query.toArray().length;\n        }\n\n        if (sort) {\n            if (!inPlace) {\n                query = query.sort(sort);\n            }\n\n            if (group) {\n                data = query.toArray();\n            }\n        }\n\n        if (customGroupSort) {\n            query = query.group(group, data, options);\n\n            if (skip !== undefined && take !== undefined && !options.groupPaging) {\n                query = new Query(flatGroups(query.toArray())).range(skip, take);\n\n                groupDescriptorsWithoutSort = map(groupDescriptorsWithoutCompare, function(groupDescriptor) {\n                    return extend({}, groupDescriptor, {\n                        skipItemSorting: true\n                    });\n                });\n\n                query = query.group(groupDescriptorsWithoutSort, data, options);\n            }\n        } else {\n            if (skip !== undefined && take !== undefined) {\n                total = query.data.length;\n\n                if (skip + take > total && options.virtual) {\n                    skip -= skip + take - total;\n                    skip = skip < 0 ? 0 : skip;\n                }\n                query = query.range(skip, take);\n            }\n\n            if (group && (!isEmptyObject(group) || group.length !== 0)) {\n                query = query.group(group, data, options);\n            }\n        }\n\n        return {\n            total: total,\n            data: query.toArray()\n        };\n    };\n\n    var LocalTransport = Class.extend({\n        init: function(options) {\n            this.data = options.data;\n        },\n\n        read: function(options) {\n            options.success(this.data);\n        },\n        update: function(options) {\n            options.success(options.data);\n        },\n        create: function(options) {\n            options.success(options.data);\n        },\n        destroy: function(options) {\n            options.success(options.data);\n        }\n    });\n\n    var RemoteTransport = Class.extend( {\n        init: function(options) {\n            var that = this, parameterMap;\n\n            options = that.options = extend({}, that.options, options);\n\n            each(crud, function(index, type) {\n                if (typeof options[type] === STRING) {\n                    options[type] = {\n                        url: options[type]\n                    };\n                }\n            });\n\n            that.cache = options.cache ? Cache.create(options.cache) : {\n                find: noop,\n                add: noop\n            };\n\n            parameterMap = options.parameterMap;\n\n            if (options.submit) {\n                that.submit = options.submit;\n            }\n\n            if (isFunction(options.push)) {\n                that.push = options.push;\n            }\n\n            if (!that.push) {\n                that.push = identity;\n            }\n\n            that.parameterMap = isFunction(parameterMap) ? parameterMap : function(options) {\n                var result = {};\n\n                each(options, function(option, value) {\n                    if (option in parameterMap) {\n                        option = parameterMap[option];\n                        if (isPlainObject(option)) {\n                            value = option.value(value);\n                            option = option.key;\n                        }\n                    }\n\n                    result[option] = value;\n                });\n\n                return result;\n            };\n        },\n\n        options: {\n            parameterMap: identity\n        },\n\n        create: function(options) {\n            return ajax(this.setup(options, CREATE));\n        },\n\n        read: function(options) {\n            var that = this,\n                success,\n                error,\n                result,\n                cache = that.cache;\n\n            options = that.setup(options, READ);\n\n            success = options.success || noop;\n            error = options.error || noop;\n\n            result = cache.find(options.data);\n\n            if (result !== undefined) {\n                success(result);\n            } else {\n                options.success = function(result) {\n                    cache.add(options.data, result);\n\n                    success(result);\n                };\n\n                $.ajax(options);\n            }\n        },\n\n        update: function(options) {\n            return ajax(this.setup(options, UPDATE));\n        },\n\n        destroy: function(options) {\n            return ajax(this.setup(options, DESTROY));\n        },\n\n        setup: function(options, type) {\n            options = options || {};\n\n            var that = this,\n                parameters,\n                operation = that.options[type],\n                data = isFunction(operation.data) ? operation.data(options.data) : operation.data;\n\n            options = extend(true, {}, operation, options);\n            parameters = extend(true, {}, data, options.data);\n\n            options.data = that.parameterMap(parameters, type);\n\n            if (isFunction(options.url)) {\n                options.url = options.url(parameters);\n            }\n\n            return options;\n        }\n    });\n\n    var AISmartPasteTransport = Class.extend( {\n        init: function(options) {\n            const that = this;\n\n            options = that.options = extend({}, that.options, options);\n        },\n\n        read: function(options) {\n            const that = this;\n            options = that.options = extend({}, that.options, options);\n            options = that.setup(options);\n\n            if (that.options.requestStart) {\n                that.options.requestStart(options);\n            }\n\n            $.ajax(options);\n        },\n\n        setup: function(options) {\n            const that = this,\n                  service = options?.service || that.options.service,\n                  data = that.getData(options),\n                  url = typeof service === \"string\" ? service : service.url,\n                  requestOptions = {\n                    url: url,\n                    type: \"POST\",\n                    contentType: \"application/json\",\n                    data: JSON.stringify(data),\n                    success: function(response) {\n                        if (that.options.success) {\n                            that.options.success(response);\n                        }\n                    },\n                    error: function(response) {\n                        const resObject = {\n                            status: response.status,\n                            statusText: response.statusText,\n                            responseText: response.responseText,\n                        };\n                        if (that.options.error) {\n                            that.options.error(resObject);\n                        }\n                    }\n                 };\n\n                 if (service?.headers) {\n                     requestOptions.headers = service.headers;\n                 }\n\n                 return requestOptions;\n        },\n        getData: function(options = {}) {\n            const service = options?.service,\n                  formFields = options?.formFields,\n                  content = options?.content;\n\n                let defaultData = {\n                    formFields: formFields,\n                    content: content\n                };\n\n                if (service?.data && isFunction(service?.data)) {\n                    return $.extend({}, defaultData, service.data());\n                }\n\n                if (service?.data && Object.keys(service.data).length) {\n                    return $.extend({}, defaultData, service.data);\n                }\n\n                return defaultData;\n        },\n        success: function(response) {\n            const that = this;\n\n            if (that.options.success) {\n                that.options.success(response);\n            }\n\n            return response;\n        },\n        error: function(response) {\n            const that = this;\n\n            const resObject = {\n                status: response.status,\n                statusText: response.statusText,\n                responseText: response.responseText,\n            };\n\n            if (that.options.error) {\n                that.options.error(resObject);\n            }\n        }\n    });\n\n    var AiTransport = Class.extend( {\n        init: function(options) {\n            const that = this;\n\n            options = that.options = extend({}, that.options, options);\n\n            that.messageTypes = {\n                \"ai\": \"assistant\",\n                \"system\": \"system\",\n                \"user\": \"user\",\n                \"tool\": \"tool\"\n            };\n        },\n\n        read: function(options) {\n            const that = this;\n\n            options = that.setup(options);\n\n            if (that.options.requestStart) {\n                that.options.requestStart(options);\n            }\n\n            return $.ajax(options);\n        },\n\n        success: function(response, options) {\n            const that = this;\n            const service = options?.service || that.options.service;\n            const outputGetter = service?.outputGetter || that._getResponseData;\n            const isRetry = options?.isRetry;\n            const prompt = options?.prompt;\n            const output = {\n                id: kendo.guid(),\n                output: outputGetter(response),\n                prompt: prompt,\n                isRetry: isRetry,\n                response: response,\n            };\n\n            if (that.options.success) {\n                that.options.success(output);\n            }\n        },\n\n        error: function(response, options) {\n            const that = this;\n            const service = options?.service || that.options.service;\n            const outputGetter = service?.outputGetter || that._getResponseData;\n            const isRetry = options?.isRetry;\n            const prompt = options?.prompt;\n\n            const resObject = {\n                status: response.status,\n                statusText: response.statusText,\n                responseText: response.responseText,\n            };\n\n            const output = {\n                id: kendo.guid(),\n                output: outputGetter(resObject),\n                prompt: prompt,\n                isRetry: isRetry,\n                response: response,\n            };\n\n            if (that.options.error) {\n                that.options.error(output);\n            }\n        },\n\n        setup: function(options = {}) {\n            const that = this;\n            const service = options?.service || that.options.service;\n            const data = that.getData(options);\n            const url = typeof service === \"string\" ? service : service.url;\n            const requestOptions = {\n                url: url,\n                type: \"POST\",\n                contentType: \"application/json\",\n                data: JSON.stringify(data),\n                success: function(response) {\n                    that.success.call(that, response, options);\n                },\n                error: function(response) {\n                    that.error.call(that, response, options);\n                }\n            };\n\n            if (service?.headers) {\n                requestOptions.headers = service.headers;\n            }\n\n            return requestOptions;\n        },\n\n        getData: function(options) {\n            const that = this;\n            const service = options?.service;\n            const isRetry = options?.isRetry;\n            const history = options?.history || [];\n            const prompt = options?.prompt;\n\n            let defaultData = [\n                ...history,\n                {\n                    role: that.messageTypes.user,\n                    contents: [\n                        {\n                            $type: \"text\",\n                            text: prompt\n                        }\n                    ]\n                }\n            ];\n\n            if (service?.data && isFunction(service?.data)) {\n                return service.data(prompt, isRetry, history);\n            }\n\n            if (service?.data && Object.keys(service.data).length) {\n                return $.extend({}, service.data, { messages: defaultData });\n            }\n\n            return defaultData;\n        },\n\n        _getResponseData: function(response) {\n            return response?.messages?.[0]?.contents?.[0]?.text || \"An error occurred while processing the request.\";\n        },\n    });\n\n    var Cache = Class.extend({\n        init: function() {\n            this._store = {};\n        },\n        add: function(key, data) {\n            if (key !== undefined) {\n                this._store[stringify(key)] = data;\n            }\n        },\n        find: function(key) {\n            return this._store[stringify(key)];\n        },\n        clear: function() {\n            this._store = {};\n        },\n        remove: function(key) {\n            delete this._store[stringify(key)];\n        }\n    });\n\n    Cache.create = function(options) {\n        var store = {\n            \"inmemory\": function() { return new Cache(); }\n        };\n\n        if (isPlainObject(options) && isFunction(options.find)) {\n            return options;\n        }\n\n        if (options === true) {\n            return new Cache();\n        }\n\n        return store[options]();\n    };\n\n    function serializeRecords(data, getters, modelInstance, originalFieldNames, fieldNames) {\n        var record,\n            getter,\n            originalName,\n            idx,\n            setters = {},\n            length;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            record = data[idx];\n            for (getter in getters) {\n                originalName = fieldNames[getter];\n\n                if (originalName && originalName !== getter) {\n                    if (!setters[originalName]) {\n                        setters[originalName] = kendo.setter(originalName);\n                    }\n                    setters[originalName](record, getters[getter](record));\n                    delete record[getter];\n                }\n            }\n        }\n    }\n\n    function convertRecords(data, getters, modelInstance, originalFieldNames, fieldNames) {\n        var record,\n            getter,\n            originalName,\n            idx,\n            length;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            record = data[idx];\n            for (getter in getters) {\n                record[getter] = modelInstance._parse(getter, getters[getter](record));\n\n                originalName = fieldNames[getter];\n                if (originalName && originalName !== getter) {\n                    delete record[originalName];\n                }\n            }\n        }\n    }\n\n    function convertGroup(data, getters, modelInstance, originalFieldNames, fieldNames) {\n        var record,\n            idx,\n            fieldName,\n            length;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            record = data[idx];\n\n            fieldName = originalFieldNames[record.field];\n            if (fieldName && fieldName != record.field) {\n                record.field = fieldName;\n            }\n\n            record.value = modelInstance._parse(record.field, record.value);\n\n            if (record.items) {\n                if (record.hasSubgroups) {\n                    convertGroup(record.items, getters, modelInstance, originalFieldNames, fieldNames);\n                } else {\n                    convertRecords(record.items, getters, modelInstance, originalFieldNames, fieldNames);\n                }\n            }\n        }\n    }\n\n    function wrapDataAccess(originalFunction, model, converter, getters, originalFieldNames, fieldNames) {\n        return function(data) {\n            data = originalFunction(data);\n\n            return wrapDataAccessBase(model, converter, getters, originalFieldNames, fieldNames)(data);\n        };\n    }\n\n    function wrapDataAccessBase(model, converter, getters, originalFieldNames, fieldNames) {\n        return function(data) {\n\n            if (data && !isEmptyObject(getters)) {\n                if (toString.call(data) !== \"[object Array]\" && !(data instanceof ObservableArray)) {\n                    data = [data];\n                }\n\n                converter(data, getters, new model(), originalFieldNames, fieldNames);\n            }\n\n            return data || [];\n        };\n    }\n\n    var DataReader = Class.extend({\n        init: function(schema) {\n            var that = this, member, get, model, base;\n\n            schema = schema || {};\n\n            for (member in schema) {\n                get = schema[member];\n\n                that[member] = typeof get === STRING ? getter(get) : get;\n            }\n\n            base = schema.modelBase || Model;\n\n            if (isPlainObject(that.model)) {\n                that.model = model = base.define(that.model);\n            }\n\n            var dataFunction = that.data.bind(that);\n\n            that._dataAccessFunction = dataFunction;\n\n            if (that.model) {\n                var groupsFunction = that.groups.bind(that),\n                    serializeFunction = that.serialize.bind(that),\n                    originalFieldNames = {},\n                    getters = {},\n                    serializeGetters = {},\n                    fieldNames = {},\n                    shouldSerialize = false,\n                    fieldName,\n                    name;\n\n                model = that.model;\n\n                if (model.fields) {\n                    each(model.fields, function(field, value) {\n                        var fromName;\n\n                        fieldName = field;\n\n                        if (isPlainObject(value) && value.field) {\n                            fieldName = value.field;\n                        } else if (typeof value === STRING) {\n                            fieldName = value;\n                        }\n\n                        if (isPlainObject(value) && value.from) {\n                            fromName = value.from;\n                        }\n\n                        shouldSerialize = shouldSerialize || (fromName && fromName !== field) || fieldName !== field;\n                        name = fromName || fieldName;\n                        getters[field] = name.indexOf(\".\") !== -1 ? getter(name, true) : getter(name);\n                        serializeGetters[field] = getter(field);\n                        originalFieldNames[fromName || fieldName] = field;\n                        fieldNames[field] = fromName || fieldName;\n                    });\n\n                    if (!schema.serialize && shouldSerialize) {\n                        that.serialize = wrapDataAccess(serializeFunction, model, serializeRecords, serializeGetters, originalFieldNames, fieldNames);\n                    }\n                }\n\n                that._dataAccessFunction = dataFunction;\n                that._wrapDataAccessBase = wrapDataAccessBase(model, convertRecords, getters, originalFieldNames, fieldNames);\n                that.data = wrapDataAccess(dataFunction, model, convertRecords, getters, originalFieldNames, fieldNames);\n                that.groups = wrapDataAccess(groupsFunction, model, convertGroup, getters, originalFieldNames, fieldNames);\n            }\n        },\n        errors: function(data) {\n            return data ? data.errors : null;\n        },\n        parse: identity,\n        data: identity,\n        total: function(data) {\n            return data.length;\n        },\n        groups: identity,\n        aggregates: function() {\n            return {};\n        },\n        serialize: function(data) {\n            return data;\n        }\n    });\n\n    function fillLastGroup(originalGroup, newGroup) {\n        var currOriginal;\n        var currentNew;\n\n        if (newGroup.items && newGroup.items.length) {\n            for (var i = 0; i < newGroup.items.length; i++) {\n                currOriginal = originalGroup.items[originalGroup.items.length - 1];\n                currentNew = newGroup.items[i];\n                if (currOriginal && currentNew) {\n                    if (currOriginal.hasSubgroups && currOriginal.value == currentNew.value) {\n                        fillLastGroup(currOriginal, currentNew);\n                    } else if (currOriginal.field && currOriginal.value == currentNew.value) {\n                        currOriginal.items.omitChangeEvent = true;\n                        currOriginal.items.push.apply(currOriginal.items, currentNew.items);\n                        currOriginal.items.omitChangeEvent = false;\n                    } else {\n                        originalGroup.items.omitChangeEvent = true;\n                        originalGroup.items.push.apply(originalGroup.items, [currentNew]);\n                        originalGroup.items.omitChangeEvent = false;\n                    }\n                } else if (currentNew) {\n                    originalGroup.items.omitChangeEvent = true;\n                    originalGroup.items.push.apply(originalGroup.items, [currentNew]);\n                    originalGroup.items.omitChangeEvent = false;\n                }\n            }\n        }\n    }\n    function mergeGroups(target, dest, skip, take) {\n        var group,\n            idx = 0,\n            items;\n\n        while (dest.length && take) {\n            group = dest[idx];\n            items = group.items;\n\n            var length = items.length;\n\n            if (target && target.field === group.field && target.value === group.value) {\n                if (target.hasSubgroups && target.items.length) {\n                    mergeGroups(target.items[target.items.length - 1], group.items, skip, take);\n                } else {\n                    items = items.slice(skip, skip + take);\n                    target.items = target.items.concat(items);\n                }\n                dest.splice(idx--, 1);\n            } else if (group.hasSubgroups && items.length) {\n                mergeGroups(group, items, skip, take);\n                if (!group.items.length) {\n                    dest.splice(idx--, 1);\n                }\n            } else {\n                items = items.slice(skip, skip + take);\n                group.items = items;\n\n                if (!group.items.length) {\n                    dest.splice(idx--, 1);\n                }\n            }\n\n            if (items.length === 0) {\n                skip -= length;\n            } else {\n                skip = 0;\n                take -= items.length;\n            }\n\n            if (++idx >= dest.length) {\n                break;\n            }\n        }\n\n        if (idx < dest.length) {\n            dest.splice(idx, dest.length - idx);\n        }\n    }\n\n    function flatGroups(groups, indexFunction) {\n        var result = [];\n        var groupsLength = (groups || []).length;\n        var group;\n        var items;\n        var indexFn = isFunction(indexFunction) ? indexFunction : function(array, index) {\n            return array[index];\n        };\n\n        for (var groupIndex = 0; groupIndex < groupsLength; groupIndex++) {\n            group = indexFn(groups, groupIndex);\n\n            if (group.hasSubgroups) {\n                result = result.concat(flatGroups(group.items));\n            } else {\n                items = group.items;\n\n                for (var itemIndex = 0; itemIndex < items.length; itemIndex++) {\n                    result.push(indexFn(items, itemIndex));\n                }\n            }\n        }\n        return result;\n    }\n\n    function flattenGroups(data) {\n        var idx,\n            result = [],\n            length,\n            items,\n            itemIndex;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            var group = data.at(idx);\n            if (group.items) {\n                if (group.hasSubgroups) {\n                    result = result.concat(flattenGroups(group.items));\n                } else {\n                    items = group.items;\n                    for (itemIndex = 0; itemIndex < items.length; itemIndex++) {\n                        result.push(items.at(itemIndex));\n                    }\n                }\n            }\n        }\n        return result;\n    }\n\n    function wrapGroupItems(data, model) {\n        var idx, length, group;\n        if (model) {\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                group = data.at(idx);\n                if (group.items) {\n                    if (group.hasSubgroups) {\n                        wrapGroupItems(group.items, model);\n                    } else {\n                        group.items = new LazyObservableArray(group.items, model, group.items._events);\n                    }\n                }\n            }\n        }\n    }\n\n    function eachGroupItems(data, func) {\n        for (var idx = 0; idx < data.length; idx++) {\n            if (data[idx].hasSubgroups) {\n                if (eachGroupItems(data[idx].items, func)) {\n                    return true;\n                }\n            } else if (func(data[idx].items, data[idx])) {\n                return true;\n            }\n        }\n    }\n\n    function replaceInRanges(ranges, data, item, observable) {\n        for (var idx = 0; idx < ranges.length; idx++) {\n            if (ranges[idx].data === data) {\n                break;\n            }\n            if (replaceInRange(ranges[idx].data, item, observable)) {\n                break;\n            }\n        }\n    }\n\n    function replaceInRange(items, item, observable) {\n        for (var idx = 0, length = items.length; idx < length; idx++) {\n            if (items[idx] && items[idx].hasSubgroups) {\n                return replaceInRange(items[idx].items, item, observable);\n            } else if (items[idx] === item || items[idx] === observable) {\n               items[idx] = observable;\n               return true;\n            }\n        }\n    }\n\n    function replaceWithObservable(view, data, ranges, type, serverGrouping) {\n        for (var viewIndex = 0, length = view.length; viewIndex < length; viewIndex++) {\n            var item = view[viewIndex];\n\n            if (!item || item instanceof type) {\n                continue;\n            }\n\n            if (item.hasSubgroups !== undefined && !serverGrouping) {\n                replaceWithObservable(item.items, data, ranges, type, serverGrouping);\n            } else {\n                for (var idx = 0; idx < data.length; idx++) {\n                    if (data[idx] === item) {\n                        view[viewIndex] = data.at(idx);\n                        replaceInRanges(ranges, data, item, view[viewIndex]);\n                        break;\n                    }\n                }\n            }\n        }\n    }\n\n    function removeModel(data, model) {\n        if (!data) {\n            return;\n        }\n        var length = data.length;\n        var dataItem;\n        var idx;\n\n        for (idx = 0; idx < length; idx++) {\n            dataItem = data[idx];\n\n            if (dataItem.uid && dataItem.uid == model.uid) {\n                data.splice(idx, 1);\n                return dataItem;\n            }\n        }\n    }\n\n    function indexOfPristineModel(data, model) {\n        if (model) {\n            return indexOf(data, function(item) {\n                return (item.uid && item.uid == model.uid) || (item[model.idField] === model.id && model.id !== model._defaultId);\n            });\n        }\n        return -1;\n    }\n\n    function indexOfModel(data, model) {\n        if (model) {\n            return indexOf(data, function(item) {\n                return item.uid == model.uid;\n            });\n        }\n        return -1;\n    }\n\n    function indexOf(data, comparer) {\n        var idx, length;\n        if (!data) {\n            return;\n        }\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            if (comparer(data[idx])) {\n                return idx;\n            }\n        }\n\n        return -1;\n    }\n\n    function fieldNameFromModel(fields, name) {\n        if (fields && !isEmptyObject(fields)) {\n            var descriptor = fields[name];\n            var fieldName;\n            if (isPlainObject(descriptor)) {\n                fieldName = descriptor.from || descriptor.field || name;\n            } else {\n                fieldName = fields[name] || name;\n            }\n\n            if (isFunction(fieldName)) {\n                return name;\n            }\n\n            return fieldName;\n        }\n        return name;\n    }\n\n    function convertFilterDescriptorsField(descriptor, model) {\n        var idx,\n            length,\n            target = {};\n\n        for (var field in descriptor) {\n            if (field !== \"filters\") {\n                target[field] = descriptor[field];\n            }\n        }\n\n        if (descriptor.filters) {\n            target.filters = [];\n            for (idx = 0, length = descriptor.filters.length; idx < length; idx++) {\n                target.filters[idx] = convertFilterDescriptorsField(descriptor.filters[idx], model);\n            }\n        } else {\n            target.field = fieldNameFromModel(model.fields, target.field);\n        }\n        return target;\n    }\n\n    function convertDescriptorsField(descriptors, model) {\n        var idx,\n            length,\n            result = [],\n            target,\n            descriptor;\n\n        for (idx = 0, length = descriptors.length; idx < length; idx ++) {\n            target = {};\n\n            descriptor = descriptors[idx];\n\n            for (var field in descriptor) {\n                target[field] = descriptor[field];\n            }\n\n            target.field = fieldNameFromModel(model.fields, target.field);\n\n            if (target.aggregates && isArray(target.aggregates)) {\n                target.aggregates = convertDescriptorsField(target.aggregates, model);\n            }\n            result.push(target);\n        }\n        return result;\n    }\n\n    function convertHighlightDescriptors(data, filters, idField) {\n        var getHighlightFromResults = function(results, filter) {\n            const highlighted = filter.cells && Object.keys(filter.cells).length > 0 ? filter.cells : true;\n            const acc = {};\n            let idx, length;\n\n            for (idx = 0, length = results.length; idx < length; idx++) {\n                const item = results[idx];\n                if (item && item.uid !== undefined) {\n                    const key = String(item[idField]);\n                    acc[key] = highlighted;\n                }\n            }\n\n            return acc;\n        };\n\n        let results = {};\n        let idx, length, filter, filteredData, highlightResults;\n\n        if (!isArray(filters)) {\n            return results;\n        }\n\n        for (idx = 0, length = filters.length; idx < length; idx++) {\n            filter = filters[idx];\n            if (filter) {\n                filteredData = new Query(data).filter(filter).toArray();\n                highlightResults = getHighlightFromResults(filteredData, filter);\n\n                if (highlightResults) {\n                    results = extend(true, results, highlightResults);\n                }\n            }\n        }\n\n        return results;\n    }\n\n    var DataSource = Observable.extend({\n        init: function(options) {\n            var that = this, model, data;\n\n            if (options) {\n                data = options.data;\n            }\n\n            options = that.options = extend({}, that.options, options);\n\n            that._map = {};\n            that._prefetch = {};\n            that._data = [];\n            that._pristineData = [];\n            that._ranges = [];\n            that._view = [];\n            that._pristineTotal = 0;\n            that._destroyed = [];\n            that._pageSize = options.pageSize;\n            that._page = options.page || (options.pageSize ? 1 : undefined);\n            that._sort = normalizeSort(options.sort);\n            that._sortFields = sortFields(options.sort);\n            that._filter = normalizeFilter(options.filter);\n            that._group = normalizeGroup(options.group);\n            that._aggregate = options.aggregate;\n            that._total = options.total;\n            that._groupPaging = options.groupPaging;\n\n            if (that._groupPaging) {\n                that._groupsState = {};\n            }\n            that._shouldDetachObservableParents = true;\n\n            Observable.fn.init.call(that);\n\n            that.transport = Transport.create(options, data, that);\n\n            if (isFunction(that.transport.push)) {\n                that.transport.push({\n                    pushCreate: that._pushCreate.bind(that),\n                    pushUpdate: that._pushUpdate.bind(that),\n                    pushDestroy: that._pushDestroy.bind(that)\n                });\n            }\n\n            if (options.offlineStorage != null) {\n                if (typeof options.offlineStorage == \"string\") {\n                    var key = options.offlineStorage;\n\n                    that._storage = {\n                        getItem: function() {\n                            return JSON.parse(localStorage.getItem(key));\n                        },\n                        setItem: function(item) {\n                            localStorage.setItem(key, stringify(that.reader.serialize(item)));\n                        }\n                    };\n                } else {\n                    that._storage = options.offlineStorage;\n                }\n            }\n\n            that.reader = new kendo.data.readers[options.schema.type || \"json\" ](options.schema);\n\n            model = that.reader.model || {};\n\n            that._detachObservableParents();\n\n            that._data = that._observe(that._data);\n            that._online = true;\n\n            that.bind([\"push\", ERROR, CHANGE, REQUESTSTART, SYNC, REQUESTEND, PROGRESS], options);\n        },\n\n        options: {\n            data: null,\n            schema: {\n               modelBase: Model\n            },\n            offlineStorage: null,\n            serverSorting: false,\n            serverPaging: false,\n            serverFiltering: false,\n            serverGrouping: false,\n            serverAggregates: false,\n            batch: false,\n            inPlaceSort: false\n        },\n\n        clone: function() {\n            return this;\n        },\n\n        online: function(value) {\n            if (value !== undefined) {\n                if (this._online != value) {\n                    this._online = value;\n\n                    if (value) {\n                        return this.sync();\n                    }\n                }\n\n                return $.Deferred().resolve().promise();\n            } else {\n                return this._online;\n            }\n        },\n\n        offlineData: function(state) {\n            if (this.options.offlineStorage == null) {\n                return null;\n            }\n\n            if (state !== undefined) {\n                return this._storage.setItem(state);\n            }\n\n            return this._storage.getItem() || [];\n        },\n\n        _isGrouped: function() {\n            var group = this.group() || [];\n\n            return group.length;\n        },\n\n        _isServerGrouped: function() {\n            var group = this.group() || [];\n\n            return this.options.serverGrouping && group.length;\n        },\n\n        _isServerGroupPaged: function() {\n            return this._isServerGrouped() && this._groupPaging;\n        },\n\n        _isGroupPaged: function() {\n            var group = this._group || [];\n\n            return this._groupPaging && group.length;\n        },\n\n        _pushCreate: function(result) {\n            this._push(result, \"pushCreate\");\n        },\n\n        _pushUpdate: function(result) {\n            this._push(result, \"pushUpdate\");\n        },\n\n        _pushDestroy: function(result) {\n            this._push(result, \"pushDestroy\");\n        },\n\n        _push: function(result, operation) {\n            var data = this._readData(result);\n\n            if (!data) {\n                data = result;\n            }\n\n            this[operation](data);\n        },\n\n        _flatData: function(data, skip) {\n            if (data) {\n                if (this._isServerGrouped()) {\n                    return flattenGroups(data);\n                }\n\n                if (!skip) {\n                    for (var idx = 0; idx < data.length; idx++) {\n                        data.at(idx);\n                    }\n                }\n            }\n\n            return data;\n        },\n\n        parent: noop,\n\n        get: function(id) {\n            var idx, length, data = this._flatData(this._data, this.options.useRanges);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if (data[idx].id == id) {\n                    return data[idx];\n                }\n            }\n        },\n\n        getByUid: function(id) {\n            return this._getByUid(id, this._data);\n        },\n\n        _getByUid: function(id, dataItems) {\n            var idx, length, data = this._flatData(dataItems, this.options.useRanges);\n\n            if (!data) {\n                return;\n            }\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if (data[idx].uid == id) {\n                    return data[idx];\n                }\n            }\n        },\n\n        indexOf: function(model) {\n            return indexOfModel(this._data, model);\n        },\n\n        at: function(index) {\n            return this._data.at(index);\n        },\n\n        data: function(value) {\n            var that = this;\n            if (value !== undefined) {\n                that._detachObservableParents();\n                that._data = this._observe(value);\n\n                that._pristineData = value.slice(0);\n\n                that._storeData();\n\n                that._ranges = [];\n                that.trigger(\"reset\");\n                that._addRange(that._data);\n\n                that._total = that._data.length;\n                that._pristineTotal = that._total;\n\n                that._process(that._data);\n            } else {\n                if (that._data) {\n                    for (var idx = 0; idx < that._data.length; idx++) {\n                        that._data.at(idx);\n                    }\n                }\n\n                return that._data;\n            }\n        },\n\n        view: function(value) {\n            if (value === undefined) {\n                return this._view;\n            } else {\n                this._view = this._observeView(value);\n            }\n        },\n\n        _observeView: function(data) {\n            var that = this;\n            replaceWithObservable(data, that._data, that._ranges, that.reader.model || ObservableObject, that._isServerGrouped());\n\n            var view = new LazyObservableArray(data, that.reader.model);\n            view.parent = function() { return that.parent(); };\n            return view;\n        },\n\n        flatView: function() {\n            var groups = this.group() || [];\n\n            if (groups.length) {\n                return flattenGroups(this._view);\n            } else {\n                return this._view;\n            }\n        },\n\n        add: function(model) {\n            return this.insert(this._data.length, model);\n        },\n\n        _createNewModel: function(model) {\n            if (this.reader.model) {\n                return new this.reader.model(model);\n            }\n\n            if (model instanceof ObservableObject) {\n                return model;\n            }\n\n            return new ObservableObject(model);\n        },\n\n        insert: function(index, model) {\n            if (!model) {\n                model = index;\n                index = 0;\n            }\n\n            if (!(model instanceof Model)) {\n                model = this._createNewModel(model);\n            }\n\n            if (this._isServerGrouped()) {\n                this._data.splice(index, 0, this._wrapInEmptyGroup(model));\n            } else {\n                this._data.splice(index, 0, model);\n            }\n\n            this._insertModelInRange(index, model);\n\n            return model;\n        },\n\n        pushInsert: function(index, items) {\n            var that = this;\n            var rangeSpan = that._getCurrentRangeSpan();\n\n            if (!items) {\n                items = index;\n                index = 0;\n            }\n\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var pushed = [];\n            var autoSync = this.options.autoSync;\n            this.options.autoSync = false;\n\n            try {\n                for (var idx = 0; idx < items.length; idx ++) {\n                    var item = items[idx];\n\n                    var result = this.insert(index, item);\n\n                    pushed.push(result);\n\n                    var pristine = result.toJSON();\n\n                    if (this._isServerGrouped()) {\n                        pristine = this._wrapInEmptyGroup(pristine);\n                    }\n\n                    this._pristineData.push(pristine);\n\n                    if (rangeSpan && rangeSpan.length) {\n                        $(rangeSpan).last()[0].pristineData.push(pristine);\n                    }\n\n                    index++;\n                }\n            } finally {\n                this.options.autoSync = autoSync;\n            }\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"create\",\n                    items: pushed\n                });\n            }\n        },\n\n        pushCreate: function(items) {\n            this.pushInsert(this._data.length, items);\n        },\n\n        pushUpdate: function(items) {\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var pushed = [];\n\n            for (var idx = 0; idx < items.length; idx ++) {\n                var item = items[idx];\n                var model = this._createNewModel(item);\n\n                var target = this.get(model.id);\n\n                if (target) {\n                    pushed.push(target);\n\n                    target.accept(item);\n\n                    target.trigger(CHANGE);\n\n                    this._updatePristineForModel(target, item);\n                } else {\n                    this.pushCreate(item);\n                }\n            }\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"update\",\n                    items: pushed\n                });\n            }\n        },\n\n        pushDestroy: function(items) {\n            var pushed = this._removeItems(items);\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"destroy\",\n                    items: pushed\n                });\n            }\n        },\n\n        _removeItems: function(itemsToRemove, removePristine) {\n            if (!isArray(itemsToRemove)) {\n                itemsToRemove = [itemsToRemove];\n            }\n\n            var shouldRemovePristine = typeof removePristine !== \"undefined\" ? removePristine : true;\n\n            var destroyed = [];\n            var autoSync = this.options.autoSync;\n            this.options.autoSync = false;\n            try {\n                for (var idx = 0; idx < itemsToRemove.length; idx ++) {\n                    var item = itemsToRemove[idx];\n                    var model = this._createNewModel(item);\n                    var found = false;\n                    var index = idx;\n\n                    this._eachItem(this._data, function(items) {\n                        // Ensure all children of a parent are removed before the change event is triggered.\n                        if (index !== itemsToRemove.length - 1) {\n                            items.omitChangeEvent = true;\n                            items.omitCache = items.omitCache || [];\n                        } else {\n                            items.omitChangeEvent = false;\n                        }\n\n                        for (var idx = 0; idx < items.length; idx++) {\n                            var item = items.at(idx);\n                            if (item.id === model.id) {\n                                /* When the change event is omitted, certain calculations such as 'total' are broken because only the last item reaches the change handler.\n                                   Keep track of all child items that had their change event omitted and when the change is finally triggered, concat them to the result.*/\n                                if (items.omitChangeEvent) {\n                                    items.omitCache.push(item);\n                                }\n                                destroyed.push(item);\n                                items.splice(idx, 1);\n                                found = true;\n                                break;\n                            }\n                        }\n                    });\n\n                    if (found && shouldRemovePristine) {\n                        this._removePristineForModel(model);\n                        this._destroyed.pop();\n                    }\n                }\n            } finally {\n                this.options.autoSync = autoSync;\n            }\n\n            return destroyed;\n        },\n\n        pushMove: function(index, items) {\n            var pushed = this._moveItems(index, items);\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"update\",\n                    items: pushed\n                });\n            }\n        },\n\n        _moveItems: function(index, items) {\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var moved = [];\n            var autoSync = this.options.autoSync;\n            this.options.autoSync = false;\n\n            try {\n                for (var i = 0; i < items.length; i ++) {\n                    var item = items[i];\n\n                    this._eachItem(this._data, function(dataItems) {\n                        for (var idx = 0; idx < dataItems.length; idx++) {\n                            var dataItem = dataItems.at(idx);\n                            if (dataItem.uid === item.uid) {\n                                moved.push(dataItem);\n                                dataItems.splice(index >= idx ? --index : index, 0, dataItems.splice(idx, 1)[0]);\n                                index++;\n                                break;\n                            }\n                        }\n                    });\n                }\n            } finally {\n                this.options.autoSync = autoSync;\n            }\n\n            return moved;\n        },\n\n        remove: function(model) {\n            var result,\n                that = this,\n                hasGroups = that._isServerGrouped();\n\n            if (hasGroups && model.uid && (!model.isNew || !model.isNew())) {\n                that._pushInDestroyed(model);\n            }\n\n            this._eachItem(that._data, function(items) {\n                result = removeModel(items, model);\n\n                if (result && hasGroups) {\n                    return true;\n                }\n            });\n\n            this._removeModelFromRanges(model);\n\n            return model;\n        },\n\n        destroyed: function() {\n            return this._destroyed;\n        },\n\n        created: function() {\n            var idx,\n                length,\n                result = [],\n                data = this._flatData(this._data, this.options.useRanges);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if (data[idx].isNew && data[idx].isNew() && !data[idx].notFetched) {\n                    result.push(data[idx]);\n                }\n            }\n            return result;\n        },\n\n        updated: function() {\n            var idx,\n                length,\n                result = [],\n                data = this._flatData(this._data, this.options.useRanges);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if ((data[idx].isNew && !data[idx].isNew()) && data[idx].dirty) {\n                    result.push(data[idx]);\n                }\n            }\n            return result;\n        },\n\n        sync: function() {\n            var that = this,\n                created = [],\n                updated = [],\n                destroyed;\n                that._destroyed = that._destroyed\n                    .filter(item => !item.hasOwnProperty(\"_isMoved\"));\n\n                destroyed = that._destroyed;\n\n            var promise = $.Deferred().resolve().promise();\n\n            if (that.online()) {\n\n                if (!that.reader.model) {\n                    return promise;\n                }\n\n                created = that.created();\n                updated = that.updated();\n\n                var promises = [];\n\n                if (that.options.batch && that.transport.submit) {\n                    promises = that._sendSubmit(created, updated, destroyed);\n                } else {\n                    promises.push.apply(promises, that._send(\"create\", created));\n                    promises.push.apply(promises, that._send(\"update\", updated));\n                    promises.push.apply(promises, that._send(\"destroy\", destroyed));\n                }\n\n                promise = $.when\n                 .apply(null, promises)\n                 .then(function() {\n                    var idx, length, changedItems = [];\n\n                    for (idx = 0, length = arguments.length; idx < length; idx++) {\n                        if (arguments[idx]) {\n                            that._accept(arguments[idx]);\n                            changedItems.push(...arguments[idx].models);\n                        }\n                    }\n\n                    that._storeData(true);\n\n                    that._syncEnd();\n\n                    that._change({ action: \"sync\", changedItems: changedItems });\n\n                    that.trigger(SYNC);\n\n                    if (that._isServerGroupPaged()) {\n                        that.read();\n                    }\n\n                    that.data().map(function(item) {\n                        if (item.hasOwnProperty(\"_isMoved\")) {\n                            delete item._isMoved;\n                        }\n                        return item;\n                    });\n                });\n            } else {\n                that._storeData(true);\n\n                that._syncEnd();\n\n                that._change({ action: \"sync\" });\n            }\n\n            return promise;\n        },\n\n        _syncEnd: noop,\n\n        cancelChanges: function(model) {\n            var that = this;\n\n            if (model instanceof kendo.data.Model) {\n                that._cancelModel(model);\n            } else {\n                that._destroyed = [];\n                that._detachObservableParents();\n                that._data = that._observe(that._pristineData);\n                if (that.options.serverPaging) {\n                    that._total = that._pristineTotal;\n                }\n\n                that._ranges = [];\n                that._addRange(that._data, 0);\n\n                that._changesCanceled();\n\n                that._change();\n\n                that._markOfflineUpdatesAsDirty();\n\n                if (that._isServerGrouped()) {\n                    that.read();\n                }\n            }\n        },\n\n        _changesCanceled: noop,\n\n        _markOfflineUpdatesAsDirty: function() {\n            var that = this;\n\n            if (that.options.offlineStorage != null) {\n                that._eachItem(that._data, function(items) {\n                    for (var idx = 0; idx < items.length; idx++) {\n                        var item = items.at(idx);\n                        if (item.__state__ == \"update\" || item.__state__ == \"create\") {\n                            item.dirty = true;\n                        }\n                    }\n                });\n            }\n        },\n\n        hasChanges: function() {\n            var idx,\n                length,\n                data = this._flatData(this._data, this.options.useRanges);\n\n            if (this._destroyed.length) {\n                return true;\n            }\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if ((data[idx].isNew && data[idx].isNew()) || data[idx].dirty) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        _accept: function(result) {\n            var that = this,\n                models = result.models,\n                response = result.response,\n                idx = 0,\n                serverGroup = that._isServerGrouped(),\n                pristine = that._pristineData,\n                type = result.type,\n                length;\n\n            that.trigger(REQUESTEND, { response: response, type: type });\n\n            if (response && !isEmptyObject(response)) {\n                response = that.reader.parse(response);\n\n                if (that._handleCustomErrors(response)) {\n                    return;\n                }\n\n                response = that.reader.data(response);\n\n                if (!isArray(response)) {\n                    response = [response];\n                }\n            } else {\n                response = $.map(models, function(model) { return model.toJSON(); } );\n            }\n\n            if (type === \"destroy\") {\n                that._destroyed = [];\n            }\n\n            for (idx = 0, length = models.length; idx < length; idx++) {\n                if (type !== \"destroy\") {\n                    models[idx].accept(response[idx]);\n\n                    if (type === \"create\") {\n                        pristine.push(serverGroup ? that._wrapInEmptyGroup(models[idx].toJSON()) : response[idx]);\n                    } else if (type === \"update\") {\n                        that._updatePristineForModel(models[idx], response[idx]);\n                    }\n                } else {\n                    that._removePristineForModel(models[idx]);\n                }\n            }\n        },\n\n        _updatePristineForModel: function(model, values) {\n            this._executeOnPristineForModel(model, function(index, items) {\n                kendo.deepExtend(items[index], values);\n            });\n        },\n\n        _executeOnPristineForModel: function(model, callback) {\n            this._eachPristineItem(\n                function(items) {\n                    var index = indexOfPristineModel(items, model);\n                    if (index > -1) {\n                        callback(index, items);\n                        return true;\n                    }\n                });\n        },\n\n        _removePristineForModel: function(model) {\n            this._executeOnPristineForModel(model, function(index, items) {\n                items.splice(index, 1);\n            });\n        },\n\n        _readData: function(data) {\n            let read = !this._isServerGrouped() ? this.reader.data : this.reader.groups;\n            return read.call(this.reader, data);\n        },\n\n        _eachPristineItem: function(callback) {\n            var that = this;\n            var options = that.options;\n            var rangeSpan = that._getCurrentRangeSpan();\n\n            that._eachItem(that._pristineData, callback);\n\n            if (options.serverPaging && options.useRanges) {\n                each(rangeSpan, function(i, range) {\n                    that._eachItem(range.pristineData, callback);\n                });\n            }\n        },\n\n       _eachItem: function(data, callback) {\n            if (data && data.length) {\n                if (this._isServerGrouped()) {\n                    eachGroupItems(data, callback);\n                } else {\n                    callback(data);\n                }\n            }\n        },\n\n        _pristineForModel: function(model) {\n            var pristine,\n                idx,\n                callback = function(items) {\n                    idx = indexOfPristineModel(items, model);\n                    if (idx > -1) {\n                        pristine = items[idx];\n                        return true;\n                    }\n                };\n\n            this._eachPristineItem(callback);\n\n            return pristine;\n        },\n\n        _cancelModel: function(model) {\n            var that = this;\n            var pristine = this._pristineForModel(model);\n\n            this._eachItem(this._data, function(items) {\n                var idx = indexOfModel(items, model);\n                if (idx >= 0) {\n                    if (pristine && (!model.isNew() || pristine.__state__)) {\n                        items[idx].accept(pristine);\n\n                        if (pristine.__state__ == \"update\") {\n                            items[idx].dirty = true;\n                        }\n\n                    } else {\n                        that._modelCanceled(model);\n\n                        items.splice(idx, 1);\n\n                        that._removeModelFromRanges(model);\n                    }\n                }\n            });\n        },\n\n        _modelCanceled: noop,\n\n        _submit: function(promises, data) {\n            var that = this;\n\n            that.trigger(REQUESTSTART, { type: \"submit\" });\n\n            that.trigger(PROGRESS);\n\n            that.transport.submit(extend({\n                success: function(response, type) {\n                    var promise = $.grep(promises, function(x) {\n                        return x.type == type;\n                    })[0];\n\n                    if (promise) {\n                        promise.resolve({\n                            response: response,\n                            models: promise.models,\n                            type: type\n                        });\n                    }\n                },\n                error: function(response, status, error) {\n                    for (var idx = 0; idx < promises.length; idx++) {\n                        promises[idx].reject(response);\n                    }\n\n                    that.error(response, status, error);\n                }\n            }, data));\n        },\n\n        _sendSubmit: function(created, updated, destroyed) {\n            var that = this,\n                promises = [];\n\n            if (that.options.batch) {\n                if (created.length) {\n                    promises.push($.Deferred(function(deferred) {\n                        deferred.type = \"create\";\n                        deferred.models = created;\n                    }));\n                }\n\n                if (updated.length) {\n                    promises.push($.Deferred(function(deferred) {\n                        deferred.type = \"update\";\n                        deferred.models = updated;\n                    }));\n                }\n\n                if (destroyed.length) {\n                    promises.push($.Deferred(function(deferred) {\n                        deferred.type = \"destroy\";\n                        deferred.models = destroyed;\n                    }));\n                }\n\n                that._submit(promises, {\n                    data: {\n                        created: that.reader.serialize(toJSON(created)),\n                        updated: that.reader.serialize(toJSON(updated)),\n                        destroyed: that.reader.serialize(toJSON(destroyed))\n                    }\n                });\n            }\n\n            return promises;\n        },\n\n        _promise: function(data, models, type) {\n            var that = this;\n\n            return $.Deferred(function(deferred) {\n                that.trigger(REQUESTSTART, { type: type });\n\n                that.trigger(PROGRESS);\n\n                that.transport[type].call(that.transport, extend({\n                    success: function(response) {\n                        deferred.resolve({\n                            response: response,\n                            models: models,\n                            type: type\n                        });\n                    },\n                    error: function(response, status, error) {\n                        deferred.reject(response);\n                        that.error(response, status, error);\n                    }\n                }, data));\n            }).promise();\n        },\n\n        _send: function(method, data) {\n            var that = this,\n                idx,\n                length,\n                promises = [],\n                converted = that.reader.serialize(toJSON(data));\n\n            if (that.options.batch) {\n                if (data.length) {\n                    promises.push(that._promise( { data: { models: converted } }, data , method));\n                }\n            } else {\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    promises.push(that._promise( { data: converted[idx] }, [ data[idx] ], method));\n                }\n            }\n\n            return promises;\n        },\n\n        read: function(data) {\n            var that = this, params = that._params(data);\n            var deferred = $.Deferred();\n\n            that._queueRequest(params, function() {\n                var isPrevented = that.trigger(REQUESTSTART, { type: \"read\" });\n                if (!isPrevented) {\n                    that.trigger(PROGRESS);\n\n                    that._ranges = [];\n                    that.trigger(\"reset\");\n                    if (that.online()) {\n                        that.transport.read({\n                            data: params,\n                            success: function(data) {\n                                that._ranges = [];\n                                that.success(data, params);\n\n                                deferred.resolve();\n                            },\n                            error: function() {\n                                var args = slice.call(arguments);\n\n                                that.error.apply(that, args);\n\n                                deferred.reject.apply(deferred, args);\n                            }\n                        });\n                    } else if (that.options.offlineStorage != null) {\n                        that.success(that.offlineData(), params);\n\n                        deferred.resolve();\n                    }\n                } else {\n                    that._dequeueRequest();\n\n                    deferred.resolve(isPrevented);\n                }\n            });\n\n            return deferred.promise();\n        },\n\n        _readAggregates: function(data) {\n            return this.reader.aggregates(data);\n        },\n\n        success: function(data) {\n            var that = this,\n                options = that.options,\n                items,\n                replaceSubset;\n\n            that.trigger(REQUESTEND, { response: data, type: \"read\" });\n\n            if (that.online()) {\n                data = that.reader.parse(data);\n\n                if (that._handleCustomErrors(data)) {\n                    that._dequeueRequest();\n                    return;\n                }\n\n                that._total = that.reader.total(data);\n\n                if (that._isServerGroupPaged()) {\n                    that._serverGroupsTotal = that._total;\n                }\n\n                if (that._pageSize > that._total) {\n                    that._pageSize = that._total;\n                    if (that.options.pageSize && that.options.pageSize > that._pageSize) {\n                        that._pageSize = that.options.pageSize;\n                    }\n                }\n\n                if (that._aggregate && options.serverAggregates) {\n                    that._aggregateResult = that._readAggregates(data);\n                }\n\n                data = that._readData(data);\n\n                that._destroyed = [];\n            } else {\n                data = that._readData(data);\n\n                items = [];\n                var itemIds = {};\n                var model = that.reader.model;\n                var idField = model ? model.idField : \"id\";\n                var idx;\n\n                for (idx = 0; idx < this._destroyed.length; idx++) {\n                    var id = this._destroyed[idx][idField];\n                    itemIds[id] = id;\n                }\n\n                for (idx = 0; idx < data.length; idx++) {\n                    var item = data[idx];\n                    var state = item.__state__;\n                    if (state == \"destroy\") {\n                        if (!itemIds[item[idField]]) {\n                            this._pushInDestroyed(this._createNewModel(item));\n                        }\n                    } else {\n                        items.push(item);\n                    }\n                }\n\n                data = items;\n\n                that._total = data.length;\n            }\n\n            that._pristineTotal = that._total;\n            replaceSubset = that._skip && that._data.length && that._skip < that._data.length;\n\n            if (that.options.endless) {\n                if (replaceSubset) {\n                    that._pristineData.splice(that._skip, that._pristineData.length);\n                }\n                items = data.slice(0);\n                for (var j = 0; j < items.length; j++) {\n                    that._pristineData.push(items[j]);\n                }\n            } else {\n                if (kendo.isBlank(data)) {\n                    data = [];\n                }\n                that._pristineData = data.slice(0);\n            }\n\n            that._detachObservableParents();\n\n            if (that.options.endless) {\n                that._data.unbind(CHANGE, that._changeHandler);\n\n                if (that._isServerGrouped() && that._data[that._data.length - 1].value === data[0].value) {\n                    fillLastGroup(that._data[that._data.length - 1], data[0]);\n                    data.shift();\n                }\n\n                data = that._observe(data);\n                if (replaceSubset) {\n                    that._data.splice(that._skip, that._data.length);\n                }\n                for (var i = 0; i < data.length; i++) {\n                    that._data.push(data[i]);\n                }\n                that._data.bind(CHANGE, that._changeHandler);\n            } else {\n                that._data = that._observe(data);\n            }\n\n            that._markOfflineUpdatesAsDirty();\n\n            that._storeData();\n\n            that._addRange(that._data);\n\n            that._process(that._data);\n\n            that._dequeueRequest();\n        },\n\n        _detachObservableParents: function() {\n            if (this._data && this._shouldDetachObservableParents) {\n                for (var idx = 0; idx < this._data.length; idx++) {\n                    if (this._data[idx].parent) {\n                        this._data[idx].parent = noop;\n                    }\n                }\n            }\n        },\n\n        _storeData: function(updatePristine) {\n            var serverGrouping = this._isServerGrouped();\n            var model = this.reader.model;\n\n            function items(data) {\n                var state = [];\n\n                for (var idx = 0; idx < data.length; idx++) {\n                    var dataItem = data.at(idx);\n                    var item = dataItem.toJSON();\n\n                    if (serverGrouping && dataItem.items) {\n                        item.items = items(dataItem.items);\n                    } else {\n                        item.uid = dataItem.uid;\n\n                        if (model) {\n                            if (dataItem.isNew()) {\n                                item.__state__ = \"create\";\n                            } else if (dataItem.dirty) {\n                                item.__state__ = \"update\";\n                            }\n                        }\n                    }\n                    state.push(item);\n                }\n\n                return state;\n            }\n\n            if (this.options.offlineStorage != null) {\n                var state = items(this._data);\n\n                var destroyed = [];\n\n                for (var idx = 0; idx < this._destroyed.length; idx++) {\n                    var item = this._destroyed[idx].toJSON();\n                    item.__state__ = \"destroy\";\n                    destroyed.push(item);\n                }\n\n                this.offlineData(state.concat(destroyed));\n\n                if (updatePristine) {\n                    this._pristineData = this.reader.reader ? this.reader.reader._wrapDataAccessBase(state) : this.reader._wrapDataAccessBase(state);\n                }\n            }\n        },\n\n        _addRange: function(data, skip) {\n            var that = this,\n                start = typeof (skip) !== \"undefined\" ? skip : (that._skip || 0),\n                end,\n                range = {\n                    data: data,\n                    pristineData: data.toJSON(),\n                    timestamp: that._timeStamp()\n                };\n\n            if (this._isGroupPaged()) {\n                end = start + data.length;\n                range.outerStart = start;\n                range.outerEnd = end;\n            } else {\n                end = start + that._flatData(data, true).length;\n            }\n\n            range.start = start;\n            range.end = end;\n            that._ranges.push(range);\n            that._sortRanges();\n\n            if (that._isGroupPaged()) {\n                if (!that._groupsFlat) {\n                    that._groupsFlat = [];\n                }\n                that._appendToGroupsFlat(range.data);\n                that._updateOuterRangesLength();\n            }\n        },\n\n        _appendToGroupsFlat: function(data) {\n            var length = data.length;\n\n            for (var i = 0; i < length; i++) {\n                this._groupsFlat.push(data[i]);\n            }\n        },\n\n        _getGroupByUid: function(uid) {\n            var length = this._groupsFlat.length;\n            var group;\n\n            for (var i = 0; i < length; i++) {\n                group = this._groupsFlat[i];\n                if (group.uid === uid) {\n                    return group;\n                }\n            }\n        },\n\n        _sortRanges: function() {\n            this._ranges.sort(function(x, y) {\n                return x.start - y.start;\n            });\n        },\n\n        error: function(xhr, status, errorThrown) {\n            this._dequeueRequest();\n            this.trigger(REQUESTEND, { });\n            this.trigger(ERROR, { xhr: xhr, status: status, errorThrown: errorThrown });\n        },\n\n        _params: function(data) {\n            var that = this,\n                options = extend({\n                    take: that.take(),\n                    skip: that.skip(),\n                    page: that.page(),\n                    pageSize: that.pageSize(),\n                    sort: that._sort,\n                    filter: that._filter,\n                    group: that._group,\n                    aggregate: that._aggregate,\n                    groupPaging: !!that._groupPaging,\n                    isExcelExportRequest: that.options.isExcelExportRequest\n                }, data);\n\n            if (!that.options.serverPaging) {\n                delete options.take;\n                delete options.skip;\n                delete options.page;\n                delete options.pageSize;\n            }\n\n            if (!that.options.serverGrouping) {\n                delete options.group;\n            } else if (that.reader.model && options.group) {\n                options.group = convertDescriptorsField(options.group, that.reader.model);\n            }\n\n            if (!that.options.serverFiltering) {\n                delete options.filter;\n            } else if (that.reader.model && options.filter) {\n               options.filter = convertFilterDescriptorsField(options.filter, that.reader.model);\n            }\n\n            if (!that.options.serverSorting) {\n                delete options.sort;\n            } else if (that.reader.model && options.sort) {\n                options.sort = convertDescriptorsField(options.sort, that.reader.model);\n            }\n\n            if (!that.options.serverAggregates) {\n                delete options.aggregate;\n            } else if (that.reader.model && options.aggregate) {\n                options.aggregate = convertDescriptorsField(options.aggregate, that.reader.model);\n            }\n\n            if (!that.options.groupPaging || !(that.options.serverPaging && that.options.serverGrouping)) {\n                delete options.groupPaging;\n            }\n\n            if (!that.options.isExcelExportRequest) {\n                delete options.isExcelExportRequest;\n            }\n\n            return options;\n        },\n\n        _queueRequest: function(options, callback) {\n            var that = this;\n            if (!that._requestInProgress) {\n                that._requestInProgress = true;\n                that._pending = undefined;\n                callback();\n            } else {\n                that._pending = { callback: callback.bind(that), options: options };\n            }\n        },\n\n        _dequeueRequest: function() {\n            var that = this;\n            that._requestInProgress = false;\n            if (that._pending) {\n                that._queueRequest(that._pending.options, that._pending.callback);\n            }\n        },\n\n        _handleCustomErrors: function(response) {\n            if (this.reader.errors) {\n                var errors = this.reader.errors(response);\n                if (errors) {\n                    this.trigger(ERROR, { xhr: null, status: \"customerror\", errorThrown: \"custom error\", errors: errors });\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        _shouldWrap: function(data) {\n            var model = this.reader.model;\n\n            if (model && data.length) {\n                return !(data[0] instanceof model);\n            }\n\n            return false;\n        },\n\n        _observe: function(data) {\n            var that = this,\n                model = that.reader.model;\n\n            that._shouldDetachObservableParents = true;\n\n            if (data instanceof ObservableArray) {\n                that._shouldDetachObservableParents = false;\n                if (that._shouldWrap(data)) {\n                    data.type = that.reader.model;\n                    data.wrapAll(data, data);\n                }\n            } else {\n                var arrayType = that.pageSize() && !that.options.serverPaging ? LazyObservableArray : ObservableArray;\n                data = new arrayType(data, that.reader.model);\n                data.parent = function() { return that.parent(); };\n            }\n\n            if (that._isServerGrouped()) {\n                wrapGroupItems(data, model);\n            }\n\n            if (that._changeHandler && that._data && that._data instanceof ObservableArray &&\n                !(that.options.useRanges && that.options.serverPaging)) {\n                that._data.unbind(CHANGE, that._changeHandler);\n            } else {\n                that._changeHandler = that._change.bind(that);\n            }\n\n            return data.bind(CHANGE, that._changeHandler);\n        },\n\n        _updateTotalForAction: function(action, items) {\n            var that = this;\n\n            var total = parseInt(that._total, 10);\n\n            if (!isNumber(that._total)) {\n                total = parseInt(that._pristineTotal, 10);\n            }\n            if (action === \"add\") {\n                total += items.length;\n            } else if (action === \"remove\") {\n                total -= items.length;\n            } else if (action !== \"itemchange\" && action !== \"sync\" && !that.options.serverPaging) {\n                total = that._pristineTotal;\n            } else if (action === \"sync\") {\n                total = that._pristineTotal = parseInt(that._total, 10);\n            }\n\n            that._total = total;\n        },\n\n        _operationsForUpdatedFields: function() {\n            const that = this,\n                updatedFields = that._updatedFields || [],\n                operations = {};\n\n            let found = false,\n                stringified;\n\n            operations.sort = that._sort;\n            operations.filter = that._filter;\n            operations.group = that._group;\n            operations.aggregate = that._aggregate;\n\n            stringified = stringify(operations);\n            found = updatedFields.some(u => stringified.indexOf((`\"field\":\"${u}\"`)) > -1);\n\n            return !found;\n        },\n\n        _pushInDestroyed: function(model) {\n            var isPushed = this._destroyed.find(function(item) {\n                return item.uid === model.uid;\n            });\n            if (!isPushed) {\n                this._destroyed.push(model);\n            }\n        },\n\n        _change: function(e) {\n            let that = this, idx, items, length, action = e ? e.action : \"\";\n\n            if (action === \"remove\") {\n                for (idx = 0, length = e.items.length; idx < length; idx++) {\n                    if (!e.items[idx].isNew || !e.items[idx].isNew()) {\n                        that._pushInDestroyed(e.items[idx]);\n                    }\n                }\n            }\n\n            if (e) {\n                items = e.items || [];\n                e.partialUpdate = that._operationsForUpdatedFields() && !that._preventPartialUpdate;\n\n                if (e.action === \"itemchange\" && items.some(i => i.dirtyFields)) {\n                    let item = e.items[0],\n                        keys = Object.keys(item.dirtyFields),\n                        result = keys;\n\n                    for (const key of keys) {\n                        if (item[key] instanceof Object) {\n                            let stringifiedKey = kendo.stringify(item[key]);\n\n                            if (stringifiedKey) {\n                                let cleanObject = JSON.parse(stringifiedKey),\n                                cleanObjectKeys = Object.keys(cleanObject).map((k) => key + \".\" + k);\n\n                                result.push(...cleanObjectKeys);\n                            }\n                        }\n                    }\n\n                    that._updatedFields = result;\n                }\n            }\n\n            if (that.options.autoSync && (action === \"add\" || action === \"remove\" || action === \"itemchange\")) {\n                if (action === \"add\") {\n                    that._preventPartialUpdate = true;\n                }\n\n                var handler = function(args) {\n                    if (args.action === \"sync\") {\n                        that._preventPartialUpdate = false;\n                        that.unbind(\"change\", handler);\n                        that._updateTotalForAction(action, e.items);\n                    }\n                };\n\n                that.first(\"change\", handler);\n\n                that.sync();\n\n            } else {\n                that._updateTotalForAction(action, e ? e.items : []);\n\n                that._process(that._data, e);\n            }\n        },\n\n        _calculateAggregates: function(data, options) {\n            options = options || {};\n\n            var query = new Query(data),\n                aggregates = options.aggregate,\n                filter = options.filter;\n\n            if (filter) {\n                query = query.filter(filter);\n            }\n\n            return query.aggregate(aggregates);\n        },\n\n        _process: function(data, e) {\n            var that = this,\n                options = {},\n                result;\n\n            if (that.options.serverPaging !== true) {\n                options.skip = that._skip;\n                options.take = that._take || that._pageSize;\n\n                if (options.skip === undefined && that._page !== undefined && that._pageSize !== undefined) {\n                    options.skip = (that._page - 1) * that._pageSize;\n                }\n\n                if (that.options.useRanges) {\n                    options.skip = that.currentRangeStart();\n                }\n            }\n\n            if (that.options.serverSorting !== true) {\n                options.sort = that._sort;\n            }\n\n            if (that.options.serverFiltering !== true) {\n                options.filter = that._filter;\n            }\n\n            if (that.options.serverGrouping !== true) {\n                options.group = that._group;\n            }\n\n            if (that.options.serverAggregates !== true) {\n                options.aggregate = that._aggregate;\n            }\n\n            if (that.options.serverGrouping) {\n                that._clearEmptyGroups(data);\n            }\n\n            options.groupPaging = that._groupPaging;\n\n            if (that._isGroupPaged() && e && (e.action === \"page\" || e.action === \"expandGroup\" || e.action === \"collapseGroup\")) {\n                result = that._queryProcess(data, {\n                    aggregate: that._aggregate\n                });\n            } else {\n                result = that._queryProcess(data, options);\n            }\n\n            if (that._filter && e && e.action === \"add\") {\n                var model = e.items[0],\n                    resultData = result.data;\n\n                if (that._isGrouped() && !this._isServerGrouped()) {\n                    resultData = flattenGroups(resultData);\n                }\n\n                var modelIsInView = resultData.find(function(item) {\n                    return item.uid === model.uid;\n                });\n\n                if (!modelIsInView && (model.index || model.id === null)) {\n                    result.data.splice(model.index, 0, that._isGrouped() ? that._wrapInEmptyGroup(model) : model);\n                    result.total++;\n                }\n            }\n\n            if (that.options.serverAggregates !== true) {\n                // for performance reasons, calculate aggregates for part of the data only after query process\n                // this is necessary in the TreeList when paging\n                that._aggregateResult = that._calculateAggregates(result.dataToAggregate || data, options);\n            }\n\n            that._setView(result, options, e);\n\n            that._setFilterTotal(result.total, false);\n\n            e = e || {};\n\n            e.items = e.items || that._view;\n\n            that.trigger(CHANGE, e);\n        },\n\n        _setView: function(result, options, e) {\n            var that = this;\n\n            if (that._isGroupPaged() && !that._isServerGrouped()) {\n                if (e && (e.action === \"page\" || e.action === \"expandGroup\" || e.action === \"collapseGroup\")) {\n                    that.view(result.data);\n                    that._updateOuterRangesLength();\n                } else {\n                    that._ranges = [];\n                    var query = new Query(result.data);\n                    that._addRange(that._observe(result.data));\n\n                    if (options.skip + options.take > result.data.length) {\n                        options.skip = Math.max(0, result.data.length - options.take);\n                    }\n\n                    that.view(query.range(options.skip, options.take).toArray());\n                }\n\n            } else {\n                that.view(result.data);\n            }\n        },\n\n        _clearEmptyGroups: function(data) {\n            for (var idx = data.length - 1; idx >= 0; idx--) {\n                var group = data[idx];\n                if (group.hasSubgroups) {\n                    this._clearEmptyGroups(group.items);\n                }\n\n                if (group.items && !group.items.length && !group.itemCount) {\n                    splice.apply(group.parent(), [idx, 1]);\n                }\n            }\n        },\n\n        _queryProcess: function(data, options) {\n            if (this.options.inPlaceSort) {\n                return Query.process(data, options, this.options.inPlaceSort);\n            }\n            else {\n                return Query.process(data, options);\n            }\n        },\n\n        _mergeState: function(options) {\n            var that = this;\n\n            if (options !== undefined) {\n                that._pageSize = options.pageSize;\n                that._page = options.page;\n                that._sort = options.sort;\n                that._filter = options.filter;\n                that._group = options.group;\n                that._aggregate = options.aggregate;\n                that._skip = that._currentRangeStart = options.skip;\n                that._take = options.take;\n\n                if (that._skip === undefined) {\n                    that._skip = that._currentRangeStart = that.skip();\n                    options.skip = that.skip();\n                }\n\n                if (that._take === undefined && that._pageSize !== undefined) {\n                    that._take = that._pageSize;\n                    options.take = that._take;\n                }\n\n                if (that.options.virtual) {\n                    options.virtual = that.options.virtual;\n                }\n\n                if (options.sort) {\n                    that._sort = options.sort = normalizeSort(options.sort);\n                    that._sortFields = sortFields(options.sort);\n                }\n\n                if (options.filter) {\n                    that._filter = options.filter = (that.options.accentFoldingFiltering && !$.isEmptyObject(options.filter)) ? $.extend({}, normalizeFilter(options.filter), { accentFoldingFiltering: that.options.accentFoldingFiltering }) : normalizeFilter(options.filter);\n                }\n\n                if (options.group) {\n                    that._group = options.group = normalizeGroup(options.group);\n                }\n                if (options.aggregate) {\n                    that._aggregate = options.aggregate = normalizeAggregate(options.aggregate);\n                }\n            }\n            return options;\n        },\n\n        query: function(options) {\n            var result;\n            var remote = this.options.serverSorting || this.options.serverPaging || this.options.serverFiltering || this.options.serverGrouping || this.options.serverAggregates;\n\n            if (remote || ((this._data === undefined || this._data.length === 0) && !this._destroyed.length)) {\n                if (this.options.endless) {\n                    var moreItemsCount = options.pageSize - this.pageSize();\n                    if (moreItemsCount > 0) {\n                        moreItemsCount = this.pageSize();\n                        options.page = options.pageSize / moreItemsCount;\n                        options.pageSize = moreItemsCount;\n                    } else {\n                        options.page = 1;\n                        this.options.endless = false;\n                    }\n                }\n                return this.read(this._mergeState(options));\n            }\n\n            var isPrevented = this.trigger(REQUESTSTART, { type: \"read\" });\n            if (!isPrevented) {\n                this.trigger(PROGRESS);\n                if (options) {\n                    options.groupPaging = this._groupPaging;\n                }\n                result = this._queryProcess(this._data, this._mergeState(options));\n\n                this._setFilterTotal(result.total, true);\n\n                this._aggregateResult = this._calculateAggregates(result.dataToAggregate || this._data, options);\n                this._setView(result, options);\n                this.trigger(REQUESTEND, { type: \"read\" });\n                this.trigger(CHANGE, { items: result.data, action: options ? options.action : \"\" });\n            }\n\n            return $.Deferred().resolve(isPrevented).promise();\n        },\n\n        _hasExpandedSubGroups: function(group) {\n            var result = false;\n            var length = group.items ? group.items.length : 0;\n\n            if (!group.hasSubgroups) {\n                return false;\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (this._groupsState[group.items[i].uid]) {\n                    result = true;\n                    break;\n                }\n            }\n            return result;\n        },\n\n        _findGroupedRange: function(data, result, options, parents, callback) {\n            var that = this;\n            var length = data.length;\n            var group;\n            var current;\n            var itemsLength;\n            var groupCount;\n            var itemsToSkip;\n\n            for (var i = 0; i < length; i++) {\n                group = data[i];\n\n                if (options.taken >= options.take) {\n                    break;\n                }\n\n                if (!that._getGroupByUid(group.uid)) {\n                    that._groupsFlat.push(group);\n                }\n\n                if (that._groupsState[group.uid]) {\n                    if (that._isServerGroupPaged()) {\n                       if (that._fetchGroupItems(group, options, parents, callback)) {\n                            that._fetchingGroupItems = true;\n                            return;\n                       }\n                       groupCount = (group.subgroupCount || group.itemCount) + 1;\n                       itemsToSkip = options.skip - options.skipped;\n                       if (!that._hasExpandedSubGroups(group) && itemsToSkip > groupCount) {\n                           options.skipped += groupCount;\n                           continue;\n                       }\n                    }\n\n                    if (options.includeParents && options.skipped < options.skip) {\n                        options.skipped++;\n                        group.excludeHeader = true;\n                    } else if (options.includeParents) {\n                        options.taken++;\n                        group.excludeHeader = false;\n                    }\n\n                    if (group.hasSubgroups && group.items && group.items.length) {\n                        group.currentItems = [];\n\n                        if (!parents) {\n                            parents = [];\n                        }\n                        parents.push(group);\n\n                        that._findGroupedRange(group.items, group.currentItems, options, parents, callback);\n                        parents.pop();\n\n                        if (group.currentItems.length || options.taken > 0) {\n                            result.push(group);\n                        } else {\n                            group.excludeHeader = false;\n                        }\n                    } else {\n                        current = [];\n                        itemsLength = group.items.length;\n\n                        for (var j = 0; j < itemsLength; j++) {\n                            if (options.skipped < options.skip) {\n                                options.skipped++;\n                                continue;\n                            }\n\n                            if (options.taken >= options.take) {\n                                break;\n                            }\n                            current.push(group.items[j]);\n                            options.taken++;\n                        }\n\n                        if (current.length || options.taken > 0) {\n                            group.currentItems = current;\n                            result.push(group);\n                        } else {\n                            group.excludeHeader = false;\n                        }\n                    }\n                } else {\n                    if (options.skipped < options.skip) {\n                        options.skipped++;\n                        continue;\n                    }\n                    result.push(group);\n                    options.taken++;\n                }\n            }\n        },\n\n        _expandedSubGroupItemsCount: function(group, end, includeCurrentItems) {\n            var that = this;\n            var result = 0;\n            var subGroup;\n            var endSpecified = typeof end === \"number\";\n            var length = endSpecified ? end : group.subgroupCount;\n            var temp;\n\n            if (!group.hasSubgroups) {\n                return result;\n            }\n\n            for (var i = 0; i < length; i++) {\n                subGroup = group.items[i];\n\n                if (!subGroup) {\n                    break;\n                }\n\n                if (subGroup.hasSubgroups && that._groupsState[group.uid]) {\n                    temp = that._expandedSubGroupItemsCount(subGroup, length, true);\n                    result += temp;\n\n                    if (endSpecified) {\n                        length -= temp;\n                    }\n                } else if (!subGroup.hasSubgroups && that._groupsState[subGroup.uid]) {\n                    temp = subGroup.items ? subGroup.items.length : 0;\n                    result += temp;\n                    if (endSpecified) {\n                        length -= temp;\n                    }\n                }\n\n                if (includeCurrentItems) {\n                    result += 1;\n                    if (endSpecified) {\n                        length -= 1;\n                    }\n                }\n\n                if (endSpecified && result > length) {\n                    return result;\n                }\n            }\n\n            return result;\n        },\n\n        _fetchGroupItems: function(group, options, parents, callback) {\n            let that = this;\n            let groupItemsSkip;\n            let firstItem;\n            let lastItem;\n            let groupItemCount = group.hasSubgroups ? group.subgroupCount : group.itemCount;\n            let take = options.take;\n            let skipped = options.skipped;\n            let pageSize = that.take();\n            let expandedSubGroupItemsCount;\n\n            if (options.includeParents) {\n                if (skipped < options.skip) {\n                    skipped += 1;\n                } else {\n                    take -= 1;\n                }\n            }\n\n            if (!group.items || (group.items && !group.items.length)) {\n                that.getGroupItems(group, options, parents, callback, 0);\n                return true;\n            } else {\n                expandedSubGroupItemsCount = this._expandedSubGroupItemsCount(group, options.skip - skipped);\n                groupItemsSkip = Math.max(options.skip - (skipped + expandedSubGroupItemsCount), 0);\n\n                if (groupItemsSkip >= groupItemCount) {\n                    return false;\n                }\n\n                let lastItemIndex = Math.min(groupItemsSkip + take, groupItemCount - 1);\n                firstItem = group.items[groupItemsSkip];\n                lastItem = group.items[lastItemIndex];\n\n                if (firstItem.notFetched) {\n                    that.getGroupItems(group, options, parents, callback, groupItemsSkip, math.round((groupItemsSkip + pageSize) / pageSize));\n                    return true;\n                }\n\n                if (lastItem.notFetched) {\n                    that.getGroupItems(group, options, parents, callback, math.max(math.floor((groupItemsSkip + pageSize) / pageSize), 0) * pageSize, math.round((groupItemsSkip + pageSize) / pageSize));\n                    return true;\n                }\n\n                if (!firstItem.notFetched && !lastItem.notFetched && hasNotFetchedItems(group.items, groupItemsSkip, lastItemIndex)) {\n                    that.getGroupItems(group, options, parents, callback, groupItemsSkip, lastItemIndex);\n                    return true;\n                }\n            }\n        },\n\n        getGroupItems: function(group, options, parents, callback, groupItemsSkip, page) {\n            var that = this;\n            var take;\n            var filter;\n            var data;\n            var subgroups;\n\n            if (!group.items) {\n                group.items = [];\n            }\n\n            take = that.take();\n            filter = this._composeItemsFilter(group, parents);\n            data = {\n                page: page || 1,\n                pageSize: take,\n                skip: groupItemsSkip,\n                take: take,\n                filter: filter,\n                aggregate: that._aggregate,\n                sort: that._sort\n            };\n            subgroups = that.findSubgroups(group);\n\n            if (subgroups && subgroups.length) {\n                data.group = subgroups;\n            }\n\n            data.groupPaging = true;\n            that._queueWithTimeout(data, function() {\n                if (!that.trigger(REQUESTSTART, {\n                        type: \"read\"\n                    })) {\n                    that.transport.read({\n                        data: data,\n                        success: that._groupItemsSuccessHandler(group, options.skip, that.take(), callback, groupItemsSkip),\n                        error: function() {\n                            var args = slice.call(arguments);\n                            that.error.apply(that, args);\n                        }\n                    });\n                } else {\n                    that._dequeueRequest();\n                }\n            }, 100);\n        },\n\n        _queueWithTimeout: function(options, callback, delay) {\n            let that = this;\n\n            clearTimeout(that._timeout);\n            that._timeout = setTimeout(function() {\n                that._queueRequest(options, callback);\n            }, delay);\n        },\n\n        _groupItemsSuccessHandler: function(group, skip, take, callback, groupItemsSkip) {\n            var that = this;\n            var timestamp = that._timeStamp();\n            callback = isFunction(callback) ? callback : noop;\n            var totalField = that.options.schema && that.options.schema.total ? that.options.schema.total : \"Total\";\n\n            return function(data) {\n                var temp;\n                var model = Model.define(that.options.schema.model);\n                var totalCount;\n\n                that._dequeueRequest();\n\n                that.trigger(REQUESTEND, {\n                    response: data,\n                    type: \"read\"\n                });\n\n                if (isFunction(totalField)) {\n                    totalCount = totalField(data);\n                } else {\n                    totalCount = data[totalField];\n                }\n\n                data = that.reader.parse(data);\n\n                if (group.hasSubgroups) {\n                    temp = that.reader.groups(data);\n                    group.subgroupCount = totalCount;\n                } else {\n                    temp = that.reader.data(data);\n                    temp = temp.map(function(item) {\n                        return new model(item);\n                    });\n                }\n\n                group.items.omitChangeEvent = true;\n                for (var i = 0; i < totalCount; i++) {\n                    if (i >= groupItemsSkip && i < (groupItemsSkip + take) ) {\n                        group.items.splice(i, 1, temp[i - groupItemsSkip]);\n                    } else {\n                        if (!group.items[i]) {\n                            group.items.splice(i, 0, { notFetched: true });\n                        }\n                    }\n                }\n                group.items.omitChangeEvent = false;\n\n                that._updateRangePristineData(group);\n                that._fetchingGroupItems = false;\n\n                if (!group.countAdded) {\n                    that._serverGroupsTotal += totalCount;\n                    group.countAdded = true;\n                }\n\n                that.range(skip, take, callback, \"expandGroup\");\n\n                if (timestamp >= that._currentRequestTimeStamp || !that._skipRequestsInProgress) {\n                    that.trigger(CHANGE, {});\n                }\n            };\n        },\n\n        findSubgroups: function(group) {\n            var indexOfCurrentGroup = this._group.map(function(g) {\n                return g.field;\n            }).indexOf(group.field);\n\n            return this._group.slice(indexOfCurrentGroup + 1, this._group.length);\n        },\n\n        _composeItemsFilter: function(group, parents) {\n            var filter = {\n                logic: \"and\",\n                filters: []\n            };\n\n            if (this.filter()) {\n                filter.filters.push(this.filter());\n            }\n\n            filter = extend(true, {}, filter);\n            filter.filters.push({\n                field: group.field,\n                operator: \"eq\",\n                value: group.value\n            });\n\n            if (parents) {\n                for (var i = 0; i < parents.length; i++) {\n                    filter.filters.push({\n                        field: parents[i].field,\n                        operator: \"eq\",\n                        value: parents[i].value\n                    });\n                }\n            }\n\n            return filter;\n        },\n\n        _updateRangePristineData: function(group) {\n            var that = this;\n            var ranges = that._ranges;\n            var rangesLength = ranges.length;\n            var temp;\n            var currentGroup;\n            var range;\n            var dataLength;\n            var indexes;\n            var currIdx;\n\n            for (var i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n                dataLength = range.data.length;\n                indexes = [];\n                temp = null;\n\n                for (var j = 0; j < dataLength; j++) {\n                    currentGroup = range.data[j];\n                    indexes.push(j);\n\n                    if ((currentGroup.uid === group.uid) || (currentGroup.hasSubgroups && currentGroup.items.length && that._containsSubGroup(currentGroup, group, indexes))) {\n                        break;\n                    }\n                    indexes.pop();\n                }\n\n                if (indexes.length) {\n                    temp = ranges[i].pristineData;\n\n                    while (indexes.length > 1) {\n                        currIdx = indexes.splice(0, 1)[0];\n                        temp = temp[currIdx].items;\n                    }\n                    temp[indexes[0]] = that._cloneGroup(group);\n                    break;\n                }\n            }\n        },\n\n        _containsSubGroup: function(group, subgroup, indexes) {\n            var that = this;\n            var length = group.items.length;\n            var currentSubGroup;\n\n            if (group.hasSubgroups && length) {\n                for (var i = 0; i < length; i++) {\n                    currentSubGroup = group.items[i];\n                    indexes.push(i);\n                    if (currentSubGroup.uid === subgroup.uid ||\n                            (currentSubGroup.hasSubgroups &&\n                            currentSubGroup.items.length &&\n                            that._containsSubGroup(currentSubGroup, subgroup, indexes))) {\n                        return true;\n                    }\n                    indexes.pop();\n                }\n            }\n\n        },\n\n        _cloneGroup: function(group) {\n            var that = this;\n            group = typeof group.toJSON == \"function\" ? group.toJSON() : group;\n\n            if (group.items && group.items.length) {\n                group.items = group.items.map(function(item) {\n                    return that._cloneGroup(item);\n                });\n            }\n\n            return group;\n        },\n\n        _setFilterTotal: function(filterTotal, setDefaultValue) {\n            var that = this;\n\n            if (!that.options.serverFiltering) {\n                if (filterTotal !== undefined) {\n                    that._total = filterTotal;\n                } else if (setDefaultValue) {\n                    that._total = that._data.length;\n                }\n            }\n        },\n\n        fetch: function(callback) {\n            var that = this;\n            var fn = function(isPrevented) {\n                if (isPrevented !== true && isFunction(callback)) {\n                    callback.call(that);\n                }\n            };\n\n            return this._query().done(fn);\n        },\n\n        _query: function(options) {\n            var that = this;\n\n            return that.query(extend({}, {\n                page: that.page(),\n                pageSize: that.pageSize(),\n                sort: that.sort(),\n                filter: that.filter(),\n                group: that.group(),\n                aggregate: that.aggregate()\n            }, options));\n        },\n\n        next: function(options) {\n            var that = this,\n                page = that.page(),\n                total = that.total();\n\n            options = options || {};\n\n            if (!page || (total && page + 1 > that.totalPages())) {\n                return;\n            }\n\n            that._skip = that._currentRangeStart = page * that.take();\n\n            page += 1;\n            options.page = page;\n\n            that._query(options);\n\n            return page;\n        },\n\n        prev: function(options) {\n            var that = this,\n                page = that.page();\n\n            options = options || {};\n\n            if (!page || page === 1) {\n                return;\n            }\n\n            that._skip = that._currentRangeStart = that._skip - that.take();\n\n            page -= 1;\n            options.page = page;\n\n            that._query(options);\n\n            return page;\n        },\n\n        page: function(val) {\n            var that = this,\n            skip;\n\n            if (val !== undefined) {\n                val = math.max(math.min(math.max(val, 1), that.totalPages()), 1);\n                var take = that.take();\n\n                if (that._isGroupPaged()) {\n                    val -= 1;\n                    that.range(val * take, take, null, \"page\");\n                    return;\n                }\n                that._query(that._pageableQueryOptions({ page: val }));\n                return;\n            }\n            skip = that.skip();\n\n            return skip !== undefined ? math.round((skip || 0) / (that.take() || 1)) + 1 : undefined;\n        },\n\n        pageSize: function(val) {\n            var that = this;\n\n            if (val !== undefined) {\n                that._query(that._pageableQueryOptions({ pageSize: val, page: 1 }));\n                return;\n            }\n\n            return that.take();\n        },\n\n        sort: function(val) {\n            var that = this;\n\n            if (val !== undefined) {\n                that.trigger(\"sort\");\n                that._query({ sort: val });\n                return;\n            }\n\n            return that._sort;\n        },\n\n        filter: function(val) {\n            var that = this;\n\n            if (val === undefined) {\n                return that._filter;\n            }\n\n            that.trigger(\"reset\");\n            that._query({ filter: val, page: 1 });\n        },\n\n        group: function(val) {\n            var that = this;\n            var options = { group: val };\n\n            if (that._groupPaging) {\n                // clear ranges if ungrouping is performed\n                if (val !== undefined && (!val || !val.length) ) {\n                    that._ranges = [];\n                }\n                options.page = 1;\n            }\n\n            if (val !== undefined) {\n                that._query(options);\n                return;\n            }\n\n            return that._group;\n        },\n\n        parseHighlightDescriptors: function(descriptors, idField) {\n            const data = this._data ? this._flatData(this._data) : [];\n            if (!descriptors || !descriptors.length || !data.length) {\n                return [];\n            }\n\n            const highlightDescriptors = convertHighlightDescriptors(data, descriptors, idField || \"id\");\n            return highlightDescriptors;\n        },\n\n        getGroupsFlat: function(data) {\n            var idx,\n                result = [],\n                length;\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                var group = data[idx];\n                if (group.hasSubgroups) {\n                    result = result.concat(this.getGroupsFlat(group.items));\n                }\n\n                result.push(group);\n            }\n\n            return result;\n        },\n\n        total: function() {\n            return parseInt(this._total || 0, 10);\n        },\n\n        groupsTotal: function(includeExpanded) {\n            var that = this;\n\n            if (!that._group.length) {\n                return that.total();\n            }\n\n            if (that._isServerGrouped()) {\n                if (that._serverGroupsTotal) {\n                    return that._serverGroupsTotal;\n                }\n                that._serverGroupsTotal = that.total();\n\n                return that._serverGroupsTotal;\n            }\n\n            return that._calculateGroupsTotal(that._ranges.length ? that._ranges[0].data : [], includeExpanded);\n        },\n\n        _calculateGroupsTotal: function(groups, includeExpanded, itemsField, ignoreState) {\n            var that = this;\n            itemsField = itemsField || \"items\";\n            var total;\n            var length;\n\n            if (that._group.length && groups) {\n                total = 0;\n                length = groups.length;\n\n                for (var i = 0; i < length; i++) {\n                    total += that.groupCount(groups[i], includeExpanded, itemsField, ignoreState);\n                }\n                that._groupsTotal = total;\n                return total;\n            }\n\n            that._groupsTotal = that._data.length;\n            return that._groupsTotal;\n        },\n\n        groupCount: function(group, includeExpanded, itemsField, ignoreState) {\n            var that = this;\n            var total = 0;\n\n            if (group.hasSubgroups && that._groupsState[group.uid]) {\n                if (includeExpanded && !group.excludeHeader || ignoreState) {\n                    total += 1;\n                }\n\n                group[itemsField].forEach(function(subgroup) {\n                    total += that.groupCount(subgroup, includeExpanded, itemsField, ignoreState);\n                });\n            } else {\n                if (that._groupsState[group.uid]) {\n                    if (includeExpanded && !group.excludeHeader || ignoreState) {\n                        total++;\n                    }\n                    total += group[itemsField] ? group[itemsField].length : 0;\n                } else {\n                    total++;\n                }\n            }\n            return total;\n        },\n\n        countGroupRange: function(range) {\n            var total = 0;\n            var length = range.length;\n\n            for (var i = 0; i < length; i++) {\n                total += this.groupCount(range[i], true);\n            }\n\n            return total;\n        },\n\n        aggregate: function(val) {\n            var that = this;\n\n            if (val !== undefined) {\n                that._query({ aggregate: val });\n                return;\n            }\n\n            return that._aggregate;\n        },\n\n        aggregates: function() {\n            var result = this._aggregateResult;\n\n            if (isEmptyObject(result)) {\n                result = this._emptyAggregates(this.aggregate());\n            }\n\n            return result;\n        },\n\n        _emptyAggregates: function(aggregates) {\n            var result = {};\n\n            if (!isEmptyObject(aggregates)) {\n                var aggregate = {};\n\n                if (!isArray(aggregates)) {\n                    aggregates = [aggregates];\n                }\n\n                for (var idx = 0; idx < aggregates.length; idx++) {\n                    aggregate[aggregates[idx].aggregate] = 0;\n                    result[aggregates[idx].field] = aggregate;\n                }\n            }\n\n            return result;\n        },\n\n        _pageableQueryOptions: function(options) {\n            return options;\n        },\n\n        _wrapInEmptyGroup: function(model) {\n            var groups = this.group(),\n                parent,\n                group,\n                idx,\n                length;\n\n            for (idx = groups.length - 1, length = 0; idx >= length; idx--) {\n                group = groups[idx];\n                parent = {\n                    value: model.get ? model.get(group.field) : model[group.field],\n                    field: group.field,\n                    items: parent ? [parent] : [model],\n                    hasSubgroups: !!parent,\n                    aggregates: this._emptyAggregates(group.aggregates)\n                };\n            }\n\n            return parent;\n        },\n\n        totalPages: function() {\n            var that = this,\n                pageSize = that.pageSize() || that.total(),\n                total = that._isGroupPaged() ? that.groupsTotal(true) : that.total();\n\n            return math.ceil((total || 0) / pageSize);\n        },\n\n        inRange: function(skip, take) {\n            var that = this,\n                end = math.min(skip + take, that.total());\n\n            if (!that.options.serverPaging && that._data.length > 0) {\n                return true;\n            }\n\n            return that._findRange(skip, end).length > 0;\n        },\n\n        lastRange: function() {\n            var ranges = this._ranges;\n            return ranges[ranges.length - 1] || { start: 0, end: 0, data: [] };\n        },\n\n        firstItemUid: function() {\n            var ranges = this._ranges;\n            return ranges.length && ranges[0].data.length && ranges[0].data[0].uid;\n        },\n\n        enableRequestsInProgress: function() {\n            this._skipRequestsInProgress = false;\n        },\n\n        _timeStamp: function() {\n            return new Date().getTime();\n        },\n\n        range: function(skip, take, callback, action) {\n            this._currentRequestTimeStamp = this._timeStamp();\n            this._skipRequestsInProgress = true;\n            var total = this._isGroupPaged() ? this.groupsTotal(true) : this.total();\n\n            if (action === \"expandGroup\" || action === \"collapseGroup\") {\n                this._updateOuterRangesLength();\n            }\n\n            skip = math.min(skip || 0, total);\n            callback = isFunction(callback) ? callback : noop;\n\n            var that = this,\n                pageSkip = math.max(math.floor(skip / take), 0) * take,\n                size = math.min(pageSkip + take, total),\n                data;\n\n            data = that._findRange(skip, math.min(skip + take, total), callback);\n\n            if ((data.length || total === 0) && !that._fetchingGroupItems) {\n                that._processRangeData(data, skip, take, that._originalPageSkip || pageSkip, that._originalSize || size, {\n                    action: action\n                });\n                that._originalPageSkip = null;\n                that._originalSize = null;\n                callback();\n                return;\n            }\n\n            if (that._isGroupPaged()) {\n                that._originalPageSkip = pageSkip;\n                that._originalSize = size;\n\n                pageSkip = math.max(math.floor(that._adjustPageSkip(skip, take) / take), 0) * take;\n                size = math.min(pageSkip + take, total);\n            }\n\n            if (take !== undefined && !that._fetchingGroupItems) {\n                if ((that._isGroupPaged() && !that._groupRangeExists(pageSkip, take)) || !that._rangeExists(pageSkip, size)) {\n                    that.prefetch(pageSkip, take, function() {\n                        if (skip > pageSkip && size < that.total() && !that._rangeExists(size, math.min(size + take, that.total()))) {\n                            that.prefetch(size, take, function() {\n                                that.range(skip, take, callback );\n                            });\n                        } else {\n                            that.range(skip, take, callback);\n                        }\n                    });\n                } else if (pageSkip < skip) {\n                    that.prefetch(size, take, function() {\n                        that.range(skip, take, callback );\n                    });\n                }\n            }\n        },\n\n        _findRange: function(start, end, callback) {\n            var that = this,\n                ranges = that._ranges,\n                range,\n                data = [],\n                skipIdx,\n                takeIdx,\n                startIndex,\n                endIndex,\n                rangeData,\n                rangeEnd,\n                processed,\n                options = that.options,\n                remote = options.serverSorting || options.serverPaging || options.serverFiltering || options.serverGrouping || options.serverAggregates,\n                flatData,\n                count,\n                length,\n                groupMapOptions = {\n                        take: end - start,\n                        skip: start,\n                        skipped: 0,\n                        taken: 0,\n                        includeParents: true\n                    },\n                prevRangeEnd,\n                isGroupPaged = that._isGroupPaged(),\n                startField = isGroupPaged ? \"outerStart\" : \"start\",\n                endField = isGroupPaged ? \"outerEnd\" : \"end\",\n                currentDataLength;\n\n            for (skipIdx = 0, length = ranges.length; skipIdx < length; skipIdx++) {\n                range = ranges[skipIdx];\n\n                if (isGroupPaged) {\n                    if (range.outerStart >= end) {\n                        return [];\n                    }\n\n                    if (start > range.outerEnd) {\n                        groupMapOptions.skipped += range.outerEnd - (prevRangeEnd || 0);\n                        prevRangeEnd = range.outerEnd;\n                        continue;\n                    }\n\n                    if (typeof prevRangeEnd !== \"undefined\" && prevRangeEnd != range.outerStart) {\n                        groupMapOptions.skipped += range.outerStart - prevRangeEnd;\n                    }\n\n                    if (groupMapOptions.skipped > groupMapOptions.skip) {\n                        return [];\n                    }\n\n                    if (typeof prevRangeEnd === \"undefined\" && start > 0 && range.start > 0) {\n                        groupMapOptions.skipped = range.outerStart;\n                    }\n\n                    takeIdx = skipIdx;\n                    while (true) {\n                        this._findGroupedRange(range.data, data, groupMapOptions, null, callback);\n                        currentDataLength = that._calculateGroupsTotal(data, true, \"currentItems\");\n\n                        if (currentDataLength >= groupMapOptions.take) {\n                            return data;\n                        }\n\n                        if (that._fetchingGroupItems) {\n                            return [];\n                        }\n                        takeIdx++;\n\n                        if (ranges[takeIdx] && ranges[takeIdx].outerStart === range.outerEnd) {\n                            range = ranges[takeIdx];\n                        } else {\n                            break;\n                        }\n                    }\n                } else if (start >= range[startField] && start <= range[endField]) {\n                    count = 0;\n\n                    for (takeIdx = skipIdx; takeIdx < length; takeIdx++) {\n                        range = ranges[takeIdx];\n                        flatData = that._flatData(range.data, true);\n\n                        if (flatData.length && start + count >= range.start) {\n                            rangeData = range.data;\n                            rangeEnd = range.end;\n\n                            if (!remote) {\n                                if (options.inPlaceSort) {\n                                    processed = that._queryProcess(range.data, { filter: that.filter() });\n                                } else {\n                                    var sort = normalizeGroupWithoutCompare(that.group() || []).concat(normalizeSort(that.sort() || []));\n                                    processed = that._queryProcess(range.data, { sort: sort, filter: that.filter() });\n                                }\n                                flatData = rangeData = processed.data;\n\n                                if (processed.total !== undefined) {\n                                    rangeEnd = processed.total;\n                                }\n                            }\n\n                            startIndex = 0;\n                            if (start + count > range.start) {\n                                startIndex = (start + count) - range.start;\n                            }\n                            endIndex = flatData.length;\n                            if (rangeEnd > end) {\n                                endIndex = endIndex - (rangeEnd - end);\n                            }\n                            count += endIndex - startIndex;\n                            data = that._mergeGroups(data, rangeData, startIndex, endIndex);\n\n                            if (end <= range.end && count == end - start) {\n                                return data;\n                            }\n                        }\n                    }\n                    break;\n                }\n                prevRangeEnd = range.outerEnd;\n            }\n            return [];\n        },\n\n        _getRangesMismatch: function(pageSkip) {\n            var that = this;\n            var ranges = that._ranges;\n            var mismatch = 0;\n            var i = 0;\n\n            while (true) {\n                var range = ranges[i];\n                if (!range || range.outerStart > pageSkip) {\n                    break;\n                }\n\n                if (range.outerEnd != range.end) {\n                    mismatch = range.outerEnd - range.end;\n                }\n                i++;\n            }\n\n            return mismatch;\n        },\n\n        _mergeGroups: function(data, range, skip, take) {\n            if (this._isServerGrouped()) {\n                var temp = range.toJSON(),\n                    prevGroup;\n\n                if (data.length) {\n                    prevGroup = data[data.length - 1];\n                }\n\n                mergeGroups(prevGroup, temp, skip, take);\n\n                return data.concat(temp);\n            }\n            return data.concat(range.slice(skip, take));\n        },\n\n        _processRangeData: function(data, skip, take, pageSkip, size, eventData) {\n            var that = this;\n\n            that._pending = undefined;\n\n            that._skip = skip > that.skip() && !that._omitPrefetch ? math.min(size, (that.totalPages() - 1) * that.take()) : pageSkip;\n\n            that._currentRangeStart = skip;\n\n            that._take = take;\n\n            var paging = that.options.serverPaging;\n            var sorting = that.options.serverSorting;\n            var filtering = that.options.serverFiltering;\n            var aggregates = that.options.serverAggregates;\n            try {\n                that.options.serverPaging = true;\n                if (!that._isServerGrouped() && !(that.group() && that.group().length)) {\n                    that.options.serverSorting = true;\n                }\n                that.options.serverFiltering = true;\n                that.options.serverPaging = true;\n                that.options.serverAggregates = true;\n\n                if (paging) {\n                    that._detachObservableParents();\n                    that._data = data = that._observe(data);\n                }\n                that._process(data, eventData);\n            } finally {\n                that.options.serverPaging = paging;\n                that.options.serverSorting = sorting;\n                that.options.serverFiltering = filtering;\n                that.options.serverAggregates = aggregates;\n            }\n        },\n\n        skip: function() {\n            var that = this;\n\n            if (that._skip === undefined) {\n                return (that._page !== undefined ? (that._page - 1) * (that.take() || 1) : undefined);\n            }\n            return that._skip;\n        },\n\n        currentRangeStart: function() {\n            return this._currentRangeStart || 0;\n        },\n\n        take: function() {\n            return this._take || this._pageSize;\n        },\n\n        _prefetchSuccessHandler: function(skip, size, callback, force) {\n            var that = this;\n            var timestamp = that._timeStamp();\n\n            return function(data) {\n                var found = false,\n                    range = { start: skip, end: size, data: [], timestamp: that._timeStamp() },\n                    idx,\n                    length,\n                    temp;\n\n                that._dequeueRequest();\n\n                that.trigger(REQUESTEND, { response: data, type: \"read\" });\n\n                data = that.reader.parse(data);\n\n                temp = that._readData(data);\n\n                if (temp.length) {\n                    for (idx = 0, length = that._ranges.length; idx < length; idx++) {\n                        if (that._ranges[idx].start === skip) {\n                            found = true;\n                            range = that._ranges[idx];\n\n                            if (!that._isGroupPaged()) {\n                                range.pristineData = temp;\n                                range.data = that._observe(temp);\n                                range.end = range.start + that._flatData(range.data, true).length;\n                                that._sortRanges();\n                            }\n\n                            break;\n                        }\n                    }\n\n                    if (!found) {\n                        that._addRange(that._observe(temp), skip);\n                    }\n                }\n\n                that._total = that.reader.total(data);\n\n                if (force || (timestamp >= that._currentRequestTimeStamp || !that._skipRequestsInProgress)) {\n                    if (callback && temp.length) {\n                        callback();\n                    } else {\n                        that.trigger(CHANGE, {});\n                    }\n                }\n            };\n        },\n\n        prefetch: function(skip, take, callback) {\n            var that = this,\n                size = math.min(skip + take, that.total()),\n                options = {\n                    take: take,\n                    skip: skip,\n                    page: skip / take + 1,\n                    pageSize: take,\n                    sort: that._sort,\n                    filter: that._filter,\n                    group: that._group,\n                    aggregate: that._aggregate\n                };\n\n\n            if ((that._isGroupPaged() && !that._isServerGrouped() && that._groupRangeExists(skip, size))) {\n                if (callback) {\n                    callback();\n                }\n                return;\n            }\n\n            if ((that._isServerGroupPaged() && !that._groupRangeExists(skip, size)) || !that._rangeExists(skip, size)) {\n                that._queueWithTimeout(options, function() {\n                    if (!that.trigger(REQUESTSTART, { type: \"read\" })) {\n                        if (that._omitPrefetch) {\n                            that.trigger(PROGRESS);\n                        }\n                        that.transport.read({\n                            data: that._params(options),\n                            success: that._prefetchSuccessHandler(skip, size, callback),\n                            error: function() {\n                                var args = slice.call(arguments);\n                                that.error.apply(that, args);\n                            }\n                        });\n                    } else {\n                        that._dequeueRequest();\n                    }\n                }, 100);\n            } else if (callback) {\n                callback();\n            }\n        },\n\n        _multiplePrefetch: function(skip, take, callback) {\n            var that = this,\n                size = math.min(skip + take, that.total()),\n                options = {\n                    take: take,\n                    skip: skip,\n                    page: skip / take + 1,\n                    pageSize: take,\n                    sort: that._sort,\n                    filter: that._filter,\n                    group: that._group,\n                    aggregate: that._aggregate\n                };\n\n            if (!that._rangeExists(skip, size)) {\n                if (!that.trigger(REQUESTSTART, { type: \"read\" })) {\n                    that.transport.read({\n                        data: that._params(options),\n                        success: that._prefetchSuccessHandler(skip, size, callback, true)\n                    });\n                }\n            } else if (callback) {\n                callback();\n            }\n        },\n\n        _adjustPageSkip: function(start, take) {\n            var that = this;\n            var prevRange = that._getPrevRange(start);\n            var result;\n            var total = that.total();\n            var mismatch;\n\n            if (prevRange) {\n                mismatch = that._getRangesMismatch(start);\n\n                if (!mismatch) {\n                    return start;\n                }\n                start -= mismatch;\n            }\n            result = math.max(math.floor(start / take), 0) * take;\n\n            if (result > total) {\n                while (true) {\n                    result -= take;\n                    if (result < total) {\n                        break;\n                    }\n                }\n            }\n            return result;\n        },\n\n        _getNextRange: function(end) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                length;\n\n            for (idx = 0, length = ranges.length; idx < length; idx++) {\n                if (ranges[idx].start <= end && ranges[idx].end >= end) {\n                    return ranges[idx];\n                }\n            }\n        },\n\n        _getPrevRange: function(start) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                range,\n                length = ranges.length;\n\n            for (idx = length - 1; idx >= 0; idx--) {\n                if (ranges[idx].outerStart <= start) {\n                    range = ranges[idx];\n                    break;\n                }\n\n            }\n\n            return range;\n        },\n\n        _rangeExists: function(start, end) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                length;\n\n            for (idx = 0, length = ranges.length; idx < length; idx++) {\n                if (ranges[idx].start <= start && ranges[idx].end >= end) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        _groupRangeExists: function(start, end) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                length,\n                availableItemsCount = 0,\n                total = that.groupsTotal(true);\n\n            if (end > total && !that._isServerGrouped()) {\n                end = total;\n            }\n\n            for (idx = 0, length = ranges.length; idx < length; idx++) {\n                var range = ranges[idx];\n                if (range.outerStart <= start && range.outerEnd >= start) {\n                    availableItemsCount += range.outerEnd - start;\n                } else if (range.outerStart <= end && range.outerEnd >= end) {\n                    availableItemsCount += end - range.outerStart;\n                }\n            }\n\n            return availableItemsCount >= end - start;\n        },\n\n        _getCurrentRangeSpan: function() {\n            var that = this;\n            var ranges = that._ranges;\n            var start = that.currentRangeStart();\n            var end = start + (that.take() || 0);\n            var rangeSpan = [];\n            var range;\n            var idx;\n            var length = ranges.length;\n\n            for (idx = 0; idx < length; idx++) {\n                range = ranges[idx];\n\n                if ((range.start <= start && range.end >= start) || (range.start >= start && range.start <= end)) {\n                    rangeSpan.push(range);\n                }\n            }\n\n            return rangeSpan;\n        },\n\n        _removeModelFromRanges: function(model) {\n            var that = this;\n            var range;\n\n            for (var idx = 0, length = this._ranges.length; idx < length; idx++) {\n                range = this._ranges[idx];\n\n                that._removeModelFromRange(range, model);\n            }\n\n            that._updateRangesLength();\n        },\n\n        _removeModelFromRange: function(range, model) {\n            this._eachItem(range.data, function(data) {\n                if (!data) {\n                    return;\n                }\n                for (var idx = 0; idx < data.length; idx++) {\n                    var dataItem = data[idx];\n\n                    if (dataItem.uid && dataItem.uid == model.uid) {\n                        [].splice.call(data, idx, 1);\n                        break;\n                    }\n                }\n            });\n        },\n\n        _insertModelInRange: function(index, model) {\n            var that = this;\n            var ranges = that._ranges || [];\n            var rangesLength = ranges.length;\n            var range;\n            var i;\n\n            for (i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n\n                if (range.start <= index && range.end >= index) {\n                    if (!that._getByUid(model.uid, range.data)) {\n                        if (that._isServerGrouped()) {\n                            range.data.splice(index, 0, that._wrapInEmptyGroup(model));\n                        } else {\n                            range.data.splice(index, 0, model);\n                        }\n                    }\n\n                    break;\n                }\n            }\n\n            that._updateRangesLength();\n        },\n\n        _updateRangesLength: function() {\n            var that = this;\n            var ranges = that._ranges || [];\n            var rangesLength = ranges.length;\n            var mismatchFound = false;\n            var mismatchLength = 0;\n            var lengthDifference = 0;\n            var rangeLength;\n            var range;\n            var i;\n\n            for (i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n                rangeLength = that._isGroupPaged() ? range.data.length : that._flatData(range.data, true).length;\n                lengthDifference = rangeLength - math.abs(range.end - range.start);\n\n                if (!mismatchFound && lengthDifference !== 0) {\n                    mismatchFound = true;\n                    mismatchLength = lengthDifference;\n                    range.end += mismatchLength;\n                    continue;\n                }\n\n                if (mismatchFound) {\n                    range.start += mismatchLength;\n                    range.end += mismatchLength;\n                }\n            }\n        },\n\n        _updateOuterRangesLength: function() {\n            var that = this;\n            var ranges = that._ranges || [];\n            var rangesLength = ranges.length;\n            var mismatchLength = 0;\n            var range;\n            var i;\n            var prevRange;\n            var rangeLength;\n\n            for (i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n                rangeLength = that._isGroupPaged() ? that._calculateGroupsTotal(range.data, true, \"items\", true) : that._flatData(range.data, true).length;\n\n                if (prevRange) {\n                    if (prevRange.end != range.start) {\n                        mismatchLength = range.start - prevRange.end;\n                    }\n                    range.outerStart = prevRange.outerEnd + mismatchLength;\n                    mismatchLength = 0;\n                } else {\n                    range.outerStart = range.start;\n                }\n\n                range.outerEnd = range.outerStart + rangeLength;\n                prevRange = range;\n            }\n        },\n        isLocalTransport: function() {\n            return this.transport instanceof LocalTransport;\n        },\n        isRemoteTransport: function() {\n            return this.transport instanceof RemoteTransport;\n        }\n    });\n\n    var Transport = {};\n\n    Transport.create = function(options, data, dataSource) {\n        var transport,\n            transportOptions = options.transport ? $.extend({}, options.transport) : null;\n\n        if (transportOptions) {\n            transportOptions.read = typeof transportOptions.read === STRING ? { url: transportOptions.read } : transportOptions.read;\n\n            if (options.type === \"jsdo\") {\n                transportOptions.dataSource = dataSource;\n            }\n\n            if (options.type) {\n                kendo.data.transports = kendo.data.transports || {};\n                kendo.data.schemas = kendo.data.schemas || {};\n\n                if (!kendo.data.transports[options.type]) {\n                    kendo.logToConsole(\"Unknown DataSource transport type '\" + options.type + \"'.\\nVerify that registration scripts for this type are included after Kendo UI on the page.\", \"warn\");\n                } else if (!isPlainObject(kendo.data.transports[options.type])) {\n                    transport = new kendo.data.transports[options.type](extend(transportOptions, { data: data }));\n                } else {\n                    transportOptions = extend(true, {}, kendo.data.transports[options.type], transportOptions);\n                }\n\n                options.schema = extend(true, {}, kendo.data.schemas[options.type], options.schema);\n            }\n\n            if (!transport) {\n                transport = isFunction(transportOptions.read) ? transportOptions : new RemoteTransport(transportOptions);\n            }\n        } else {\n            transport = new LocalTransport({ data: options.data || [] });\n        }\n        return transport;\n    };\n\n    DataSource.create = function(options) {\n        if (isArray(options) || options instanceof ObservableArray) {\n           options = { data: options };\n        }\n\n        var dataSource = options || {},\n            data = dataSource.data,\n            fields = dataSource.fields,\n            table = dataSource.table,\n            select = dataSource.select,\n            idx,\n            length,\n            model = {},\n            field;\n\n        if (!data && fields && !dataSource.transport) {\n            if (table) {\n                data = inferTable(table, fields);\n            } else if (select) {\n                data = inferSelect(select, fields);\n\n                if (dataSource.group === undefined && data[0] && data[0].optgroup !== undefined) {\n                    dataSource.group = \"optgroup\";\n                }\n            }\n        }\n\n        if (kendo.data.Model && fields && (!dataSource.schema || !dataSource.schema.model)) {\n            for (idx = 0, length = fields.length; idx < length; idx++) {\n                field = fields[idx];\n                if (field.type) {\n                    model[field.field] = field;\n                }\n            }\n\n            if (!isEmptyObject(model)) {\n                dataSource.schema = extend(true, dataSource.schema, { model: { fields: model } });\n            }\n        }\n\n        dataSource.data = data;\n\n        select = null;\n        dataSource.select = null;\n        table = null;\n        dataSource.table = null;\n\n        return dataSource instanceof DataSource ? dataSource : new DataSource(dataSource);\n    };\n\n    function inferSelect(select, fields) {\n        select = $(select)[0];\n        var options = select.options;\n        var firstField = fields[0];\n        var secondField = fields[1];\n\n        var data = [];\n        var idx, length;\n        var optgroup;\n        var option;\n        var record;\n        var value;\n\n        for (idx = 0, length = options.length; idx < length; idx++) {\n            record = {};\n            option = options[idx];\n            optgroup = option.parentNode;\n\n            if (optgroup === select) {\n                optgroup = null;\n            }\n\n            if (option.disabled || (optgroup && optgroup.disabled)) {\n                continue;\n            }\n\n            if (optgroup) {\n                record.optgroup = optgroup.label;\n            }\n\n            record[firstField.field] = option.text;\n\n            value = option.attributes.value;\n\n            if (value && value.specified) {\n                value = option.value;\n            } else {\n                value = option.text;\n            }\n\n            record[secondField.field] = value;\n\n            data.push(record);\n        }\n\n        return data;\n    }\n\n    function inferTable(table, fields) {\n        var tbody = $(table)[0].tBodies[0],\n        rows = tbody ? tbody.rows : [],\n        idx,\n        length,\n        fieldIndex,\n        fieldCount = fields.length,\n        data = [],\n        cells,\n        record,\n        cell,\n        empty;\n\n        for (idx = 0, length = rows.length; idx < length; idx++) {\n            record = {};\n            empty = true;\n            cells = rows[idx].cells;\n\n            for (fieldIndex = 0; fieldIndex < fieldCount; fieldIndex++) {\n                cell = cells[fieldIndex];\n                if (cell.nodeName.toLowerCase() !== \"th\") {\n                    empty = false;\n                    record[fields[fieldIndex].field] = cell.innerHTML;\n                }\n            }\n            if (!empty) {\n                data.push(record);\n            }\n        }\n\n        return data;\n    }\n\n    var Node = Model.define({\n        idField: \"id\",\n\n        init: function(value) {\n            var that = this,\n                hasChildren = that.hasChildren || value && value.hasChildren,\n                childrenField = \"items\",\n                childrenOptions = {};\n\n            kendo.data.Model.fn.init.call(that, value);\n\n            if (typeof that.children === STRING) {\n                childrenField = that.children;\n            }\n\n            childrenOptions = {\n                schema: {\n                    data: childrenField,\n                    model: {\n                        hasChildren: hasChildren,\n                        id: that.idField,\n                        fields: that.fields\n                    }\n                }\n            };\n\n            if (typeof that.children !== STRING) {\n                extend(childrenOptions, that.children);\n            }\n\n            childrenOptions.data = value;\n\n            if (!hasChildren) {\n                hasChildren = childrenOptions.schema.data;\n            }\n\n            if (typeof hasChildren === STRING) {\n                hasChildren = kendo.getter(hasChildren);\n            }\n\n            if (isFunction(hasChildren)) {\n                var hasChildrenObject = hasChildren.call(that, that);\n\n                if (hasChildrenObject && hasChildrenObject.length === 0) {\n                    that.hasChildren = false;\n                } else {\n                    that.hasChildren = !!hasChildrenObject;\n                }\n            }\n\n            that._childrenOptions = childrenOptions;\n\n            if (that.hasChildren) {\n                that._initChildren();\n            }\n\n            that._loaded = !!(value && value._loaded);\n        },\n\n        _initChildren: function() {\n            var that = this;\n            var children, transport, parameterMap;\n\n            if (!(that.children instanceof HierarchicalDataSource)) {\n                children = that.children = new HierarchicalDataSource(that._childrenOptions);\n\n                transport = children.transport;\n                parameterMap = transport.parameterMap;\n\n                transport.parameterMap = function(data, type) {\n                    data[that.idField || \"id\"] = that.id;\n\n                    if (parameterMap) {\n                        data = parameterMap.call(that, data, type);\n                    }\n\n                    return data;\n                };\n\n                children.parent = function() {\n                    return that;\n                };\n\n                children.bind(CHANGE, function(e) {\n                    e.node = e.node || that;\n                    that.trigger(CHANGE, e);\n                });\n\n                children.bind(ERROR, function(e) {\n                    var collection = that.parent();\n\n                    if (collection) {\n                        e.node = e.node || that;\n                        collection.trigger(ERROR, e);\n                    }\n                });\n\n                children.bind(ITEMSLOADED, function(e) {\n                    var collection = that.parent();\n\n                    if (collection) {\n                        collection.trigger(ITEMSLOADED, e);\n                    }\n                });\n\n                that._updateChildrenField();\n            }\n        },\n\n        append: function(model) {\n            this._initChildren();\n            this.loaded(true);\n            this.children.add(model);\n        },\n\n        hasChildren: false,\n\n        level: function() {\n            var parentNode = this.parentNode(),\n                level = 0;\n\n            while (parentNode && parentNode.parentNode) {\n                level++;\n                parentNode = parentNode.parentNode ? parentNode.parentNode() : null;\n            }\n\n            return level;\n        },\n\n        _updateChildrenField: function() {\n            var fieldName = this._childrenOptions.schema.data;\n\n            this[fieldName || \"items\"] = this.children.data();\n        },\n\n        _childrenLoaded: function() {\n            this._loaded = true;\n            this._loading = false;\n            this._loadingPromise = null;\n\n            this._updateChildrenField();\n        },\n\n        load: function() {\n            var options = {};\n            var method = \"_query\";\n            var children, promise;\n\n            if (this.loading()) {\n                return this._loadingPromise || $.Deferred().resolve().promise();\n            }\n\n            if (this.hasChildren) {\n                this._initChildren();\n\n                children = this.children;\n\n                options[this.idField || \"id\"] = this.id;\n\n                if (!this._loaded) {\n                    children._data = undefined;\n                    method = \"read\";\n                    this.loading(true);\n                }\n\n                children.one(CHANGE, this._childrenLoaded.bind(this));\n\n                if (this._matchFilter) {\n                    options.filter = { field: '_matchFilter', operator: 'eq', value: true };\n                }\n\n                promise = children[method](options);\n                if (!this._loaded) {\n                    this._loadingPromise = promise;\n                    this.trigger(ITEMLOAD, { promise: promise, node: this });\n                }\n            } else {\n                this.loaded(true);\n            }\n\n            return promise || $.Deferred().resolve().promise();\n        },\n\n        parentNode: function() {\n            var array = this.parent();\n\n            return array.parent();\n        },\n\n        loaded: function(value) {\n            if (value !== undefined) {\n                this._loaded = value;\n                this.loading(false);\n            } else {\n                return this._loaded;\n            }\n        },\n\n        loading: function(value) {\n            if (value !== undefined) {\n                this._loading = value;\n            } else {\n                return this._loading || false;\n            }\n        },\n\n        shouldSerialize: function(field) {\n            return Model.fn.shouldSerialize.call(this, field) &&\n                    field !== \"children\" &&\n                    field !== \"_loaded\" &&\n                    field !== \"hasChildren\" &&\n                    field !== \"_childrenOptions\";\n        }\n    });\n\n    function dataMethod(name) {\n        return function() {\n            var data = this._data,\n                result = DataSource.fn[name].apply(this, slice.call(arguments));\n\n            if (this._data != data) {\n                this._attachBubbleHandlers();\n            }\n\n            return result;\n        };\n    }\n\n    var HierarchicalDataSource = DataSource.extend({\n        init: function(options) {\n            var node = Node.define({\n                children: options\n            });\n\n            if (options.filter && !options.serverFiltering) {\n                this._hierarchicalFilter = options.filter;\n                options.filter = null;\n            }\n\n            DataSource.fn.init.call(this, extend(true, {}, { schema: { modelBase: node, model: node } }, options));\n\n            this._attachBubbleHandlers();\n        },\n\n        _attachBubbleHandlers: function() {\n            var that = this;\n\n            that._data.bind(ERROR, function(e) {\n                that.trigger(ERROR, e);\n            });\n\n            that._data.bind(ITEMSLOADED, function(e) {\n                that.trigger(ITEMSLOADED, e);\n            });\n        },\n\n        loading: function() {\n            if (this._data) {\n                return this._data.loading() || this._childrenLoading();\n            }\n            return false;\n        },\n\n        _childrenLoading: function() {\n            var isLoading = false;\n            this._data.forEach(function(node) {\n                if (node.hasChildren && node.children.loading()) {\n                    isLoading = true;\n                }\n            });\n            return isLoading;\n        },\n\n        read: function(data) {\n            var result = DataSource.fn.read.call(this, data);\n\n            if (this._hierarchicalFilter) {\n                if (this._data && this._data.length > 0) {\n                    this.filter(this._hierarchicalFilter);\n                } else {\n                    this.options.filter = this._hierarchicalFilter;\n                    this._filter = normalizeFilter(this.options.filter);\n                    this._hierarchicalFilter = null;\n                }\n            }\n\n            return result;\n        },\n\n        remove: function(node) {\n            var parentNode = node.parentNode(),\n                dataSource = this,\n                result;\n\n            if (parentNode && parentNode._initChildren) {\n                dataSource = parentNode.children;\n            }\n\n            result = DataSource.fn.remove.call(dataSource, node);\n\n            if (parentNode && !dataSource.data().length) {\n                parentNode.hasChildren = false;\n            }\n\n            return result;\n        },\n\n        success: dataMethod(\"success\"),\n\n        data: dataMethod(\"data\"),\n\n        insert: function(index, model) {\n            var parentNode = this.parent();\n\n            if (parentNode && parentNode._initChildren) {\n                parentNode.hasChildren = true;\n                parentNode._initChildren();\n            }\n\n            return DataSource.fn.insert.call(this, index, model);\n        },\n\n        filter: function(val) {\n            if (val === undefined) {\n                 return this._filter;\n            }\n\n            if (!this.options.serverFiltering && this._markHierarchicalQuery(val)) {\n                val = { logic: \"or\", filters: [val, { field: '_matchFilter', operator: 'equals', value: true }] };\n            }\n\n            this.trigger(\"reset\");\n            this._query({ filter: val, page: 1 });\n        },\n\n        _markHierarchicalQuery: function(expressions) {\n            var compiled;\n            var accentFoldingFiltering = this.options.accentFoldingFiltering;\n\n            expressions = accentFoldingFiltering ? $.extend({}, normalizeFilter(expressions), { accentFoldingFiltering: accentFoldingFiltering }) : normalizeFilter(expressions);\n\n            if (!expressions || expressions.filters.length === 0) {\n                this._updateHierarchicalFilter(function() {return true;});\n                return false;\n            }\n\n            compiled = Query.filterExpr(expressions, { noEval: true });\n\n            this._updateHierarchicalFilter(compiled);\n            return true;\n        },\n\n         _updateHierarchicalFilter: function(filter) {\n            var current;\n            var data = this._data;\n            var result = false;\n\n            for (var idx = 0; idx < data.length; idx++) {\n                 current = data[idx];\n\n                 if (current.hasChildren) {\n                     current._matchFilter = current.children._updateHierarchicalFilter(filter);\n                    if (!current._matchFilter) {\n                        current._matchFilter = filter(current);\n                    }\n                } else {\n                    current._matchFilter = filter(current);\n                }\n\n                if (current._matchFilter) {\n                    result = true;\n                }\n            }\n            return result;\n        },\n\n        _find: function(method, value) {\n            var idx, length, node, children;\n            var data = this._data;\n\n            if (!data) {\n                return;\n            }\n\n            node = DataSource.fn[method].call(this, value);\n\n            if (node) {\n                return node;\n            }\n\n            data = this._flatData(this._data);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                children = data[idx].children;\n\n                if (!(children instanceof HierarchicalDataSource)) {\n                    continue;\n                }\n\n                node = children[method](value);\n\n                if (node) {\n                    return node;\n                }\n            }\n        },\n\n        get: function(id) {\n            return this._find(\"get\", id);\n        },\n\n        getByUid: function(uid) {\n            return this._find(\"getByUid\", uid);\n        }\n    });\n\n    function inferList(list, fields) {\n        var items = $(list).children(),\n            idx,\n            length,\n            data = [],\n            record,\n            textField = fields[0].field,\n            urlField = fields[1] && fields[1].field,\n            spriteCssClassField = fields[2] && fields[2].field,\n            imageUrlField = fields[3] && fields[3].field,\n            item,\n            id,\n            textChild,\n            className,\n            children;\n\n        function elements(collection, tagName) {\n            return collection.filter(tagName).add(collection.find(tagName));\n        }\n\n        for (idx = 0, length = items.length; idx < length; idx++) {\n            record = { _loaded: true };\n            item = items.eq(idx);\n\n            textChild = item[0].firstChild;\n            children = item.children();\n            list = children.filter(\"ul\");\n            children = children.filter(\":not(ul)\");\n\n            id = item.attr(\"data-id\");\n\n            if (id) {\n                record.id = id;\n            }\n\n            if (textChild) {\n                record[textField] = textChild.nodeType == 3 ? textChild.nodeValue : children.text();\n            }\n\n            if (urlField) {\n                record[urlField] = elements(children, \"a\").attr(\"href\");\n            }\n\n            if (imageUrlField) {\n                record[imageUrlField] = elements(children, \"img\").attr(\"src\");\n            }\n\n            if (spriteCssClassField) {\n                className = elements(children, \".k-sprite\").prop(\"className\");\n                record[spriteCssClassField] = className && kendo.trim(className.replace(\"k-sprite\", \"\"));\n            }\n\n            if (list.length) {\n                record.items = inferList(list.eq(0), fields);\n            }\n\n            if (item.attr(\"data-hasChildren\") == \"true\") {\n                record.hasChildren = true;\n            }\n\n            data.push(record);\n        }\n\n        return data;\n    }\n\n    HierarchicalDataSource.create = function(options) {\n        options = options && options.push ? { data: options } : options;\n\n        var dataSource = options || {},\n            data = dataSource.data,\n            fields = dataSource.fields,\n            list = dataSource.list;\n\n        if (data && data._dataSource) {\n            return data._dataSource;\n        }\n\n        if (!data && fields && !dataSource.transport) {\n            if (list) {\n                data = inferList(list, fields);\n            }\n        }\n\n        dataSource.data = data;\n\n        return dataSource instanceof HierarchicalDataSource ? dataSource : new HierarchicalDataSource(dataSource);\n    };\n\n    var Buffer = kendo.Observable.extend({\n        init: function(dataSource, viewSize, disablePrefetch) {\n            kendo.Observable.fn.init.call(this);\n\n            this._prefetching = false;\n            this.dataSource = dataSource;\n            this.prefetch = !disablePrefetch;\n\n            var buffer = this;\n\n            dataSource.bind(\"change\", function() {\n                buffer._change();\n            });\n\n            dataSource.bind(\"reset\", function() {\n                buffer._reset();\n            });\n\n            this._syncWithDataSource();\n\n            this.setViewSize(viewSize);\n        },\n\n        setViewSize: function(viewSize) {\n            this.viewSize = viewSize;\n            this._recalculate();\n        },\n\n        at: function(index) {\n            var pageSize = this.pageSize,\n                itemPresent = true;\n\n            if (index >= this.total()) {\n                this.trigger(\"endreached\", { index: index });\n                return null;\n            }\n\n            if (!this.useRanges) {\n               return this.dataSource.view()[index];\n            }\n            if (this.useRanges) {\n                // out of range request\n                if (index < this.dataOffset || index >= this.skip + pageSize) {\n                    itemPresent = this.range(Math.floor(index / pageSize) * pageSize);\n                }\n\n                // prefetch\n                if (index === this.prefetchThreshold) {\n                    this._prefetch();\n                }\n\n                // mid-range jump - prefetchThreshold and nextPageThreshold may be equal, do not change to else if\n                if (index === this.midPageThreshold) {\n                    this.range(this.nextMidRange, true);\n                }\n                // next range jump\n                else if (index === this.nextPageThreshold) {\n                    this.range(this.nextFullRange);\n                }\n                // pull-back\n                else if (index === this.pullBackThreshold) {\n                    if (this.offset === this.skip) { // from full range to mid range\n                        this.range(this.previousMidRange);\n                    } else { // from mid range to full range\n                        this.range(this.previousFullRange);\n                    }\n                }\n\n                if (itemPresent) {\n                    return this.dataSource.at(index - this.dataOffset);\n                } else {\n                    this.trigger(\"endreached\", { index: index });\n                    return null;\n                }\n            }\n        },\n\n        indexOf: function(item) {\n            return this.dataSource.data().indexOf(item) + this.dataOffset;\n        },\n\n        total: function() {\n            return parseInt(this.dataSource.total(), 10);\n        },\n\n        next: function() {\n            var buffer = this,\n                pageSize = buffer.pageSize,\n                offset = buffer.skip - buffer.viewSize + pageSize,\n                pageSkip = math.max(math.floor(offset / pageSize), 0) * pageSize;\n\n            this.offset = offset;\n            this.dataSource.prefetch(pageSkip, pageSize, function() {\n                buffer._goToRange(offset, true);\n            });\n        },\n\n        range: function(offset, nextRange) {\n            if (this.offset === offset) {\n                return true;\n            }\n\n            var buffer = this,\n                pageSize = this.pageSize,\n                pageSkip = math.max(math.floor(offset / pageSize), 0) * pageSize,\n                dataSource = this.dataSource;\n\n            if (nextRange) {\n                pageSkip += pageSize;\n            }\n\n            if (dataSource.inRange(offset, pageSize)) {\n                this.offset = offset;\n                this._recalculate();\n                this._goToRange(offset);\n                return true;\n            } else if (this.prefetch) {\n                dataSource.prefetch(pageSkip, pageSize, function() {\n                    buffer.offset = offset;\n                    buffer._recalculate();\n                    buffer._goToRange(offset, true);\n                });\n                return false;\n            }\n\n            return true;\n        },\n\n        syncDataSource: function() {\n            var offset = this.offset;\n            this.offset = null;\n            this.range(offset);\n        },\n\n        destroy: function() {\n            this.unbind();\n        },\n\n        _prefetch: function() {\n            var buffer = this,\n                pageSize = this.pageSize,\n                prefetchOffset = this.skip + pageSize,\n                dataSource = this.dataSource;\n\n            if (!dataSource.inRange(prefetchOffset, pageSize) && !this._prefetching && this.prefetch) {\n                this._prefetching = true;\n                this.trigger(\"prefetching\", { skip: prefetchOffset, take: pageSize });\n\n                dataSource.prefetch(prefetchOffset, pageSize, function() {\n                    buffer._prefetching = false;\n                    buffer.trigger(\"prefetched\", { skip: prefetchOffset, take: pageSize });\n                });\n            }\n        },\n\n        _goToRange: function(offset, expanding) {\n            if (this.offset !== offset) {\n                return;\n            }\n\n            this.dataOffset = offset;\n            this._expanding = expanding;\n            this.dataSource.range(offset, this.pageSize);\n            this.dataSource.enableRequestsInProgress();\n        },\n\n        _reset: function() {\n            this._syncPending = true;\n        },\n\n        _change: function() {\n            var dataSource = this.dataSource;\n\n            this.length = this.useRanges ? dataSource.lastRange().end : dataSource.view().length;\n\n            if (this._syncPending) {\n                this._syncWithDataSource();\n                this._recalculate();\n                this._syncPending = false;\n                this.trigger(\"reset\", { offset: this.offset });\n            }\n\n            this.trigger(\"resize\");\n\n            if (this._expanding) {\n                this.trigger(\"expand\");\n            }\n\n            delete this._expanding;\n        },\n\n        _syncWithDataSource: function() {\n            var dataSource = this.dataSource;\n\n            this._firstItemUid = dataSource.firstItemUid();\n            this.dataOffset = this.offset = dataSource.skip() || 0;\n            this.pageSize = dataSource.pageSize();\n            this.useRanges = dataSource.options.serverPaging;\n        },\n\n        _recalculate: function() {\n            var pageSize = this.pageSize,\n                offset = this.offset,\n                viewSize = this.viewSize,\n                skip = Math.ceil(offset / pageSize) * pageSize;\n\n            this.skip = skip;\n            this.midPageThreshold = skip + pageSize - 1;\n            this.nextPageThreshold = skip + viewSize - 1;\n            this.prefetchThreshold = skip + Math.floor(pageSize / 3 * 2);\n            this.pullBackThreshold = this.offset - 1;\n\n            this.nextMidRange = skip + pageSize - viewSize;\n            this.nextFullRange = skip;\n            this.previousMidRange = offset - viewSize;\n            this.previousFullRange = skip - pageSize;\n        }\n    });\n\n    var BatchBuffer = kendo.Observable.extend({\n        init: function(dataSource, batchSize) {\n            var batchBuffer = this;\n\n            kendo.Observable.fn.init.call(batchBuffer);\n\n            this.dataSource = dataSource;\n            this.batchSize = batchSize;\n            this._total = 0;\n\n            this.buffer = new Buffer(dataSource, batchSize * 3);\n\n            this.buffer.bind({\n                \"endreached\": function(e) {\n                    batchBuffer.trigger(\"endreached\", { index: e.index });\n                },\n                \"prefetching\": function(e) {\n                    batchBuffer.trigger(\"prefetching\", { skip: e.skip, take: e.take });\n                },\n                \"prefetched\": function(e) {\n                    batchBuffer.trigger(\"prefetched\", { skip: e.skip, take: e.take });\n                },\n                \"reset\": function() {\n                    batchBuffer._total = 0;\n                    batchBuffer.trigger(\"reset\");\n                },\n                \"resize\": function() {\n                    batchBuffer._total = Math.ceil(this.length / batchBuffer.batchSize);\n                    batchBuffer.trigger(\"resize\", { total: batchBuffer.total(), offset: this.offset });\n                }\n            });\n        },\n\n        syncDataSource: function() {\n            this.buffer.syncDataSource();\n        },\n\n        at: function(index) {\n            var buffer = this.buffer,\n                skip = index * this.batchSize,\n                take = this.batchSize,\n                view = [],\n                item;\n\n            if (buffer.offset > skip) {\n                buffer.at(buffer.offset - 1);\n            }\n\n            for (var i = 0; i < take; i++) {\n                item = buffer.at(skip + i);\n\n                if (item === null) {\n                    break;\n                }\n\n                view.push(item);\n            }\n\n            return view;\n        },\n\n        total: function() {\n            return this._total;\n        },\n\n        destroy: function() {\n            this.buffer.destroy();\n            this.unbind();\n        }\n    });\n\n    extend(true, kendo.data, {\n        readers: {\n            json: DataReader\n        },\n        Query: Query,\n        DataSource: DataSource,\n        HierarchicalDataSource: HierarchicalDataSource,\n        Node: Node,\n        Comparer: Comparer,\n        ObservableObject: ObservableObject,\n        ObservableArray: ObservableArray,\n        LazyObservableArray: LazyObservableArray,\n        LocalTransport: LocalTransport,\n        RemoteTransport: RemoteTransport,\n        AISmartPasteTransport: AISmartPasteTransport,\n        AiTransport: AiTransport,\n        Cache: Cache,\n        DataReader: DataReader,\n        Model: Model,\n        Buffer: Buffer,\n        BatchBuffer: BatchBuffer\n    });\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":";omBAkBA,IAAM,EAAQ,CACV,GAAM,CACF,QAAS,EAAK,IAAO,GAAK,EAAI,EAAE,EAAI,EAAG,EAAE,CACzC,aAAgB,GACnB,CACD,IAAO,CACH,QAAS,EAAK,IAAO,GAAK,EAAI,EAAE,EAAI,EAAG,EAAE,CACzC,aAAgB,GACnB,CACJ,CAEK,EAAe,CACjB,cAAgB,GAAM,MAAM,QAAQ,EAAE,EAAI,IAAM,GAChD,iBAAmB,GAAM,MAAM,UAAU,EAAE,EAAI,IAAM,GACrD,UAAW,EAAG,KAAO,EAAI,IAAI,QAAQ,EAAE,EAAI,EAC3C,gBAAiB,EAAG,KAAO,EAAI,IAAI,QAAQ,EAAE,GAAK,GAClD,gBAAiB,EAAG,KAAO,EAAI,IAAI,QAAQ,GAAI,GAAK,IAAI,QAAU,GAAK,IAAI,OAAO,CAAG,EACrF,kBAAmB,EAAG,KAAO,EAAI,IAAI,YAAY,EAAG,EAAE,GAAK,GAC3D,UAAW,EAAG,KAAO,EAAI,IAAI,QAAQ,GAAI,GAAK,IAAI,QAAU,GAAK,IAAI,OAAO,EAAI,EAChF,IAAK,EAAG,IAAM,IAAM,EACpB,IAAK,EAAG,IAAM,EAAI,EAClB,KAAM,EAAG,IAAM,GAAK,EACpB,QAAU,GAAM,IAAM,GACtB,WAAa,GAAM,IAAM,GACzB,UAAY,GAAM,MAAM,UAAU,EAAE,CACpC,OAAS,GAAM,MAAM,QAAQ,EAAE,CAC/B,IAAK,EAAG,IAAM,EAAI,EAClB,KAAM,EAAG,IAAM,GAAK,EACpB,KAAM,EAAG,IAAM,GAAK,EACpB,YAAa,EAAG,KAAO,EAAI,IAAI,YAAY,EAAG,EAAE,GAAK,EACxD,CAEK,EAAa,sBAEb,GAAgB,EAAO,EAAY,IAA2B,CAChE,GAAI,GAAS,MAAQ,MAAM,SAAS,EAAM,CAAE,CACxC,IAAM,EAAO,EAAW,KAAK,EAAM,CACnC,GAAI,EACA,OAAO,IAAI,KAAK,CAAC,EAAK,GAAG,CAAC,SAAS,IAC5B,EACP,OAAO,EAAyB,EAAM,kBAAkB,EAAuB,CAAG,EAAM,aAAa,SAElG,GAAS,MAAQ,MAAM,OAAO,EAAM,CAC3C,OAAO,EAAM,SAAS,CAE1B,OAAO,GAGL,GAAe,EAAM,EAAO,EAAY,IAA2B,CACrE,GAAI,CAAC,MAAM,UAAU,EAAM,CACvB,OAAO,EAGX,IAAI,EAAM,EAEV,GAAI,MAAM,SAAS,EAAM,CAAE,CACvB,IAAM,EAAO,EAAW,KAAK,EAAM,CAC/B,EACA,EAAQ,IAAI,KAAK,CAAC,EAAK,GAAG,CAE1B,EAAM,GAAK,CACP,IAAM,EAAI,EAAK,EAAE,CAIb,OAHA,OAAO,GAAM,UAAY,EAClB,EAAyB,EAAE,kBAAkB,EAAuB,CAAG,EAAE,aAAa,CAEtF,MAAM,UAAU,EAAE,CAAG,EAAI,GAAK,GAYrD,OANI,MAAM,OAAO,EAAM,CACZ,GAAK,CACR,IAAM,EAAI,EAAI,EAAE,CAChB,OAAO,MAAM,OAAO,EAAE,CAAG,EAAE,SAAS,CAAG,GAGxC,GAGL,GAAmB,CAAE,QAAO,aAAY,QAAO,WAAW,KAAM,4BAA6B,CAC/F,EAAS,MAAM,UAAU,EAAM,CAAY,EAAT,GAAK,EAEvC,EAAa,MAAM,UAAU,EAAW,CAAG,EAAa,GAExD,IAAM,EAAW,EACb,MAAM,WAAW,EAAM,CAAG,EAAQ,MAAM,OAAO,EAAO,GAAK,CAC3D,EACA,EACA,EACH,CAED,EAAQ,EAAa,EAAO,EAAY,EAAuB,CAE/D,IAAM,EAAK,MAAM,WAAW,EAAS,CAAG,EAAW,EAAa,GAEhE,MAAO,IAAK,EAAG,EAAS,EAAE,CAAE,EAAO,EAAW,EAG5C,EAA+B,GAAW,MAAM,UAAU,EAAO,QAAQ,CAEzE,EAA4B,GAAW,CACzC,IAAM,EAAyB,EAAO,uBAChC,EAAW,EAAM,EAAO,OAAS,OACvC,OAAO,EAAO,QACT,OAAO,MAAM,UAAU,CACvB,IAAI,GAAM,EAA4B,EAAE,CAAG,EAAyB,EAAoB,EAAG,EAAuB,CAAC,CAAG,EAAgB,EAAoB,EAAG,EAAuB,CAAC,CAAE,CACvL,OAAO,EAAS,OAAQ,EAAS,SAAS,EAG7C,GAAuB,EAAQ,IAA4B,MAAM,UAAU,EAAuB,CAAG,OAAO,OAAO,EAAQ,CAAE,yBAAwB,CAAC,CAAG,EAElJ,EAAmB,SAAS,EAAM,CAC3C,OAAO,EAAyB,EAAK,EC9H5B,EAAW,CACpB,GAAI,OACJ,KAAM,cACN,SAAU,YACV,YAAa,gIACb,QAAS,CAAE,OAAQ,CACnB,SAAU,CAAE,CACR,GAAI,aACJ,KAAM,QACN,YAAa,6DACb,QAAS,CAAE,aAAc,CAC5B,CAAE,CACC,GAAI,eACJ,KAAM,UACN,YAAa,uCACb,QAAS,CAAE,eAAgB,CAC9B,CAAE,CACC,GAAI,WACJ,KAAM,MACN,YAAa,8BACb,QAAS,CAAE,WAAY,CAC1B,CAAC,CACL,EAGA,SAAS,EAAG,EAAW,CACpB,IAAI,EAAS,EAAE,OACX,EAAgB,EAAE,cAClB,EAAgB,EAAE,cAClB,EAAU,MAAM,QAChB,EAAO,EAAE,KACT,EAAO,EAAE,KACT,EACA,EAAO,EAAE,KACT,EAAO,EAAE,KACT,EAAQ,OAAO,MACf,EAAa,EAAM,WACnB,EAAa,EAAM,WACnB,EAAQ,EAAM,MACd,EAAS,SACT,EAAW,WACX,EAAY,MACZ,EAAS,SACT,EAAO,OACP,EAAS,SACT,EAAU,UACV,EAAS,SACT,GAAO,OACP,EAAM,MACN,EAAQ,QACR,EAAe,eACf,EAAW,WACX,EAAa,aACb,EAAc,cACd,GAAW,WACX,GAAO,CAAC,EAAQ,EAAM,EAAQ,EAAQ,CACtC,EAAW,SAAS,EAAG,CAAE,OAAO,GAChC,EAAS,EAAM,OACf,EAAY,EAAM,UAClB,EAAO,KACP,GAAO,EAAE,CAAC,KACV,GAAO,EAAE,CAAC,KACV,GAAM,EAAE,CAAC,IACT,GAAS,EAAE,CAAC,OACZ,GAAQ,EAAE,CAAC,MACX,EAAQ,EAAE,CAAC,MACX,GAAU,EAAE,CAAC,QACb,EAAW,EAAE,CAAC,SACd,GAAa,EAAM,QAAQ,WAC3B,GAAa,sBACb,GAAa,EAAE,CAEf,EAAkB,EAAW,OAAO,CACpC,KAAM,SAAS,EAAO,EAAM,CACxB,IAAI,EAAO,KAEX,EAAK,KAAO,GAAQ,EAEpB,EAAW,GAAG,KAAK,KAAK,EAAK,CAE7B,EAAK,OAAS,EAAM,OAEpB,EAAK,QAAQ,EAAO,EAAK,CACzB,EAAK,cAAgB,EAAE,CACvB,EAAK,aAAe,EAAE,EAG1B,GAAI,SAAS,EAAO,CAChB,OAAO,KAAK,IAGhB,OAAQ,SAAS,EAAoB,CACjC,IAAI,EAAK,EAAS,KAAK,OAAQ,EAAO,EAAW,MAAM,EAAO,CAE9D,IAAK,EAAM,EAAG,EAAM,EAAQ,IACxB,EAAQ,KAAK,GAET,aAAiB,IACjB,EAAQ,EAAM,OAAO,EAAmB,EAG5C,EAAK,GAAO,EAGhB,OAAO,GAGX,OAAQ,EAER,QAAS,SAAS,EAAQ,EAAQ,CAC9B,IAAI,EAAO,KACP,EACA,EACA,EAAS,UAAW,CAChB,OAAO,GAKf,IAFA,IAAmB,EAAE,CAEhB,EAAM,EAAG,EAAS,EAAO,OAAQ,EAAM,EAAQ,IAChD,EAAO,GAAO,EAAK,KAAK,EAAO,GAAM,EAAO,CAGhD,OAAO,GAGX,KAAM,SAAS,EAAQ,EAAQ,CAC3B,IAAI,EAAO,KACP,EAyCJ,OAvCI,IAAW,MAAQ,EAAS,KAAK,EAAO,GAAK,oBAC7C,EAAa,aAAkB,EAAK,MAAQ,aAAkB,EAEzD,IACD,EAAS,aAAkB,EAAmB,EAAO,QAAQ,CAAG,EAChE,EAAS,IAAI,EAAK,KAAK,EAAO,EAGlC,EAAO,OAAS,EAEhB,EAAO,KAAK,EAAQ,SAAS,EAAG,CAC5B,IAAI,EAAU,EAAO,eAAe,eAAe,CACnD,EAAK,QAAQ,EAAQ,CACjB,MAAO,EAAE,MACT,KAAM,EAAE,KACR,MAAO,EAAE,MACT,MAAO,EAAE,OAAS,CAAC,KAAK,CACxB,OAAQ,EAAE,MAAQ,EAAW,EAAE,QAAU,aAAgB,aAC5D,CAAC,EACJ,CAEF,EAAO,KAAK,GAAU,SAAS,EAAG,CAC9B,EAAK,cAAc,KAAK,EAAE,QAAQ,CAClC,EAAK,SAAW,GAEhB,EAAE,QAAQ,KAAK,UAAW,CACtB,EAAK,aAAa,KAAK,EAAE,KAAK,CAC9B,IAAI,EAAQ,EAAK,cAAc,QAAQ,EAAE,QAAQ,CACjD,EAAK,cAAc,OAAO,EAAO,EAAE,CAE9B,EAAK,cAAc,SACpB,EAAK,SAAW,GAChB,EAAK,QAAQ,EAAa,CAAE,WAAY,EAAM,MAAO,EAAK,aAAc,CAAC,CACzE,EAAK,aAAe,EAAE,GAE5B,EACJ,EAGC,GAGX,QAAS,UAAW,CAChB,OAAO,KAAK,UAGhB,KAAM,UAAW,CACb,IAAI,EAAQ,KAAK,OACb,EAAQ,KAAK,QAAQ,UAAU,CAC/B,EAEK,GAAK,MAAM,KAAM,EAAM,CAUhC,OARK,KAAK,iBACN,KAAK,QAAQ,EAAQ,CACjB,OAAQ,MACD,QACA,QACV,CAAC,CAGC,GAGJ,QAEP,KAAM,EAAE,CAAC,KAEH,QAEN,IAAK,UAAW,CACZ,IAAI,EAAS,KAAK,OAAQ,EAAS,GAAI,MAAM,KAAK,CAUlD,OARI,GACA,KAAK,QAAQ,EAAQ,CACjB,OAAQ,SACR,MAAO,EAAS,EAChB,MAAO,CAAC,EAAO,CAClB,CAAC,CAGC,GAGX,OAAQ,SAAS,EAAO,EAAS,EAAM,CACnC,IAAI,EAAQ,KAAK,QAAQ,EAAM,KAAK,UAAW,EAAE,CAAC,CAC9C,EAEK,GAAO,MAAM,KAAM,CAAC,EAAO,EAAQ,CAAC,OAAO,EAAM,CAAC,CAF/C,EAAG,EAIf,GAAI,EAAO,OAUP,IATK,KAAK,kBACN,KAAK,QAAQ,EAAQ,CACjB,OAAQ,SACD,QACP,MAAO,KAAK,WAAa,KAAK,UAAU,OAAS,EAAO,OAAO,KAAK,UAAU,CAAG,EACpF,CAAC,CACF,KAAK,UAAY,EAAE,EAGlB,EAAI,EAAG,EAAM,EAAO,OAAQ,EAAI,EAAK,IAClC,EAAO,IAAM,EAAO,GAAG,UACvB,EAAO,GAAG,OAAO,EAAO,CAcpC,OATI,IACK,KAAK,iBACN,KAAK,QAAQ,EAAQ,CACjB,OAAQ,MACD,QACA,QACV,CAAC,EAGH,GAGX,MAAO,UAAW,CACd,IAAI,EAAS,KAAK,OAAQ,EAAS,GAAM,MAAM,KAAK,CAUpD,OARI,GACA,KAAK,QAAQ,EAAQ,CACjB,OAAQ,SACR,MAAO,EACP,MAAO,CAAC,EAAO,CAClB,CAAC,CAGC,GAGX,QAAS,UAAW,CAChB,IAAI,EAAQ,KAAK,QAAQ,UAAU,CAC/B,EAEK,GAAQ,MAAM,KAAM,EAAM,CAQnC,OANA,KAAK,QAAQ,EAAQ,CACjB,OAAQ,MACR,MAAO,EACA,QACV,CAAC,CAEK,GAGX,QAAS,SAAS,EAAM,CACpB,IAAI,EAAO,KACP,EACA,EAEJ,IAAK,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAC9C,GAAI,EAAK,KAAS,EACd,OAAO,EAGf,MAAO,IAGX,QAAS,SAAS,EAAU,EAAS,CAKjC,IAJA,IAAI,EAAM,EACN,EAAS,KAAK,OACd,EAAU,GAAW,OAElB,EAAM,EAAQ,IACjB,EAAS,KAAK,EAAS,KAAK,GAAM,EAAK,KAAK,EAIpD,IAAK,SAAS,EAAU,EAAS,CAM7B,IALA,IAAI,EAAM,EACN,EAAS,EAAE,CACX,EAAS,KAAK,OACd,EAAU,GAAW,OAElB,EAAM,EAAQ,IACjB,EAAO,GAAO,EAAS,KAAK,EAAS,KAAK,GAAM,EAAK,KAAK,CAG9D,OAAO,GAGX,OAAQ,SAAS,EAAU,CACvB,IAAI,EAAM,EACN,EACA,EAAS,KAAK,OAQlB,IANI,UAAU,QAAU,EACpB,EAAS,UAAU,GACZ,EAAM,IACb,EAAS,KAAK,MAGX,EAAM,EAAQ,IACjB,EAAS,EAAS,EAAQ,KAAK,GAAM,EAAK,KAAK,CAGnD,OAAO,GAGX,YAAa,SAAS,EAAU,CAC5B,IAAI,EAAM,KAAK,OAAS,EACpB,EAQJ,IANI,UAAU,QAAU,EACpB,EAAS,UAAU,GACZ,EAAM,IACb,EAAS,KAAK,MAGX,GAAO,EAAG,IACb,EAAS,EAAS,EAAQ,KAAK,GAAM,EAAK,KAAK,CAGnD,OAAO,GAGX,OAAQ,SAAS,EAAU,EAAS,CAOhC,IANA,IAAI,EAAM,EACN,EAAS,EAAE,CACX,EACA,EAAS,KAAK,OACd,EAAU,GAAW,OAElB,EAAM,EAAQ,IACjB,EAAO,KAAK,GACR,EAAS,KAAK,EAAS,EAAM,EAAK,KAAK,GACvC,EAAO,EAAO,QAAU,GAIhC,OAAO,GAGX,KAAM,SAAS,EAAU,EAAS,CAM9B,IALA,IAAI,EAAM,EACN,EACA,EAAS,KAAK,OACd,EAAU,GAAW,OAElB,EAAM,EAAQ,IAEjB,GADA,EAAO,KAAK,GACR,EAAS,KAAK,EAAS,EAAM,EAAK,KAAK,CACvC,OAAO,GAKnB,MAAO,SAAS,EAAU,EAAS,CAM/B,IALA,IAAI,EAAM,EACN,EACA,EAAS,KAAK,OACd,EAAU,GAAW,OAElB,EAAM,EAAQ,IAEjB,GADA,EAAO,KAAK,GACR,CAAC,EAAS,KAAK,EAAS,EAAM,EAAK,KAAK,CACxC,MAAO,GAIf,MAAO,IAGX,KAAM,SAAS,EAAU,EAAS,CAM9B,IALA,IAAI,EAAM,EACN,EACA,EAAS,KAAK,OACd,EAAU,GAAW,OAElB,EAAM,EAAQ,IAEjB,GADA,EAAO,KAAK,GACR,EAAS,KAAK,EAAS,EAAM,EAAK,KAAK,CACvC,MAAO,GAIf,MAAO,IAIX,OAAQ,SAAS,EAAM,CACnB,IAAI,EAAM,KAAK,QAAQ,EAAK,CAExB,IAAQ,IACR,KAAK,OAAO,EAAK,EAAE,EAI3B,MAAO,UAAW,CACd,KAAK,OAAO,EAAG,KAAK,OAAO,EAElC,CAAC,CAGE,OAAO,OAAW,KAAe,OAAO,UAAY,CAAC,EAAgB,UAAU,OAAO,YACtF,EAAgB,UAAU,OAAO,UAAY,EAAE,CAAC,OAAO,WAG3D,IAAI,EAAsB,EAAgB,OAAO,CAC7C,KAAM,SAAS,EAAM,EAAM,EAAQ,CAC/B,IAAI,EAAW,UAAW,CAAE,OAAO,MAEnC,EAAW,GAAG,KAAK,KAAK,KAAK,CAE7B,KAAK,KAAO,GAAQ,EAEhB,IACA,KAAK,QAAU,GAGnB,IAAK,IAAI,EAAM,EAAG,EAAM,EAAK,OAAQ,IACjC,KAAK,GAAO,EAAK,GAGrB,KAAK,OAAS,EACd,KAAK,QAAU,EAAS,KAAK,KAAK,CAClC,KAAK,cAAgB,EAAE,CACvB,KAAK,aAAe,EAAE,EAE1B,GAAI,SAAS,EAAO,CAChB,IAAI,EAAO,KAAK,GAQhB,OANM,aAAgB,KAAK,KAGvB,EAAK,OAAS,KAAK,QAFnB,EAAO,KAAK,GAAS,KAAK,KAAK,EAAM,KAAK,QAAQ,CAK/C,GAEd,CAAC,CAEF,SAAS,EAAa,EAAS,EAAM,EAAO,EAAQ,CAChD,OAAO,SAAS,EAAG,CACf,IAAI,EAAQ,EAAE,CAAE,EAEhB,IAAK,KAAO,EACR,EAAM,GAAO,EAAE,GAGf,EACA,EAAM,MAAQ,EAAQ,IAAM,EAAE,MAE9B,EAAM,MAAQ,EAGd,GAAQ,GAAU,EAAQ,eAC1B,EAAQ,cAAc,EAAM,CAGhC,EAAQ,QAAQ,EAAM,EAAM,EAIpC,SAAS,GAAgB,EAAO,CAC5B,OAAQ,OAAO,GAAU,UAAY,OAAO,eAAe,EAAM,GAAK,OAAO,eAAe,EAAE,CAAC,EACpF,OAAO,eAAe,EAAM,GAAK,OAAO,eAAe,IAAI,KAAO,EAClE,OAAO,GAAU,SAGhC,SAAS,GAAQ,EAAO,EAAkB,CACtC,IAAI,EAAQ,EAAE,CACV,EAAY,EAAE,CACd,EAAM,EAcV,IAZA,IAAiB,EAAE,CAEd,GAAgB,EAAM,GACvB,EAAY,OAAO,oBAAoB,OAAO,eAAe,EAAM,CAAC,CAAC,OAAO,GAAK,EAAE,QAAQ,KAAK,GAAK,EAAE,EAG3G,EAAO,OAAO,oBAAoB,EAAM,CAAC,OAAO,EAAU,CAE1D,EAAqB,GAAW,OAAO,SAAS,EAAK,CACjD,OAAO,EAAK,QAAQ,EAAI,CAAG,GAC7B,CAEK,GACH,OAAO,oBAAoB,EAAM,CAAC,QAAQ,SAAS,EAAM,CACjD,EAAM,QAAQ,EAAK,GAAK,KAAO,CAAC,GAAoB,EAAmB,QAAQ,EAAK,CAAG,IACvF,EAAM,KAAK,EAAK,EAEtB,CACF,EAAQ,OAAO,eAAe,EAAM,CAGxC,OAAO,EAGX,GAAa,GAAQ,EAAE,CAAE,GAAM,CAE/B,IAAI,EAAmB,EAAW,OAAO,CACrC,KAAM,SAAS,EAAO,CAClB,IAAI,EAAO,KACP,EACA,EAAO,GAAQ,EAAO,GAAK,CAC3B,EAAS,UAAW,CAChB,OAAO,GAGf,EAAW,GAAG,KAAK,KAAK,KAAK,CAE7B,KAAK,UAAY,EAAE,CAEnB,EAAK,QAAQ,SAAS,EAAO,CACzB,EAAS,EAAM,GAEX,OAAO,GAAW,UAAY,GAAU,CAAC,EAAO,SAAW,EAAM,OAAO,EAAE,EAAI,MAC9E,EAAS,EAAK,KAAK,EAAQ,EAAO,EAAO,EAG7C,EAAK,GAAS,GAChB,CAEF,EAAK,IAAM,EAAM,MAAM,EAG3B,gBAAiB,SAAS,EAAO,EAAoB,CAKjD,OAHI,OAAO,GAAuB,WAC9B,IAA4C,EAAmB,IAE5D,KAAK,eAAe,EAAM,EAAI,IAAU,aAAe,IAAU,YAAc,GAAsB,OAAO,KAAK,KAAW,IAAa,IAAU,OAG9J,QAAS,SAAS,EAAG,CACjB,IAAK,IAAI,KAAK,KACN,KAAK,gBAAgB,EAAE,EACvB,EAAE,KAAK,GAAI,EAAE,EAKzB,OAAQ,SAAS,EAAoB,CACjC,IAAI,EAAS,EAAE,CAAE,EAAO,EAExB,IAAK,KAAS,KACN,KAAK,gBAAgB,EAAO,EAAmB,GAC/C,EAAQ,KAAK,IAET,aAAiB,GAAoB,aAAiB,KACtD,EAAQ,EAAM,OAAO,EAAmB,EAG5C,EAAO,GAAS,GAIxB,OAAO,GAGX,IAAK,SAAS,EAAO,CACjB,IAAI,EAAO,KAAM,EAUjB,OARA,EAAK,QAAQ,EAAK,CAAS,QAAO,CAAC,CAEnC,AAGI,EAHA,IAAU,OACD,EAEA,EAAM,OAAO,EAAO,GAAK,CAAC,EAAK,CAGrC,GAGX,KAAM,SAAS,EAAO,EAAO,CACzB,IAAI,EAAO,KACP,EAAY,EAAM,QAAQ,IAAI,EAAI,EAEtC,GAAI,EAIA,IAHA,IAAI,EAAQ,EAAM,MAAM,IAAI,CACxB,EAAO,GAEJ,EAAM,OAAS,GAAG,CACrB,GAAQ,EAAM,OAAO,CACrB,IAAI,EAAM,EAAM,OAAO,EAAM,GAAK,CAAC,EAAK,CACxC,GAAI,aAAe,EAEf,OADA,EAAI,IAAI,EAAM,KAAK,IAAI,CAAE,EAAM,CACxB,EAEX,GAAQ,IAMhB,OAFA,EAAM,OAAO,EAAM,CAAC,EAAM,EAAM,CAEzB,GAGX,IAAK,SAAS,EAAO,EAAO,CACxB,IAAI,EAAO,KACP,EAAiB,GACjB,EAAY,EAAM,QAAQ,IAAI,EAAI,EAClC,EAAU,EAAM,OAAO,EAAO,GAAK,CAAC,EAAK,CAsB7C,OApBI,IAAY,IACR,aAAmB,GAAc,KAAK,UAAU,KAC5C,KAAK,UAAU,GAAO,KACvB,EAAQ,OAAO,EAAK,KAAK,UAAU,GAAO,IAAI,CAEjD,EAAQ,OAAO,EAAQ,KAAK,UAAU,GAAO,OAAO,EAGxD,EAAiB,EAAK,QAAQ,MAAO,CAAS,QAAc,QAAO,CAAC,CAE/D,IACI,IACD,EAAQ,EAAK,KAAK,EAAO,EAAO,UAAW,CAAE,OAAO,GAAQ,GAE3D,CAAC,EAAK,KAAK,EAAO,EAAM,EAAI,EAAM,QAAQ,IAAI,EAAI,GAAK,EAAM,QAAQ,IAAI,EAAI,IAC9E,EAAK,QAAQ,EAAQ,CAAS,QAAO,CAAC,GAK3C,GAGX,OAAQ,EAER,KAAM,SAAS,EAAQ,EAAO,EAAQ,CAClC,IAAI,EAAO,KACP,EACA,EACA,EAAO,EAAS,KAAK,EAAO,CAEhC,GAAI,GAAU,OAAS,IAAS,mBAAqB,IAAS,kBAAmB,CAC7E,IAAI,EAAoB,aAAkB,EACtC,EAAe,aAAkB,EAEjC,IAAS,mBAAqB,CAAC,GAAgB,CAAC,GAC1C,aAAkB,IACpB,EAAS,IAAI,EAAiB,EAAO,EAGzC,EAAM,EAAa,EAAM,EAAK,EAAO,GAAK,CAC1C,EAAO,KAAK,EAAK,EAAI,CACrB,EAAS,EAAa,EAAM,EAAQ,EAAO,GAAK,CAChD,EAAO,KAAK,EAAQ,EAAO,CAE3B,EAAK,UAAU,GAAS,CAAO,MAAa,SAAQ,GAC7C,IAAS,kBAAoB,GAAqB,KACrD,CAAC,GAAqB,CAAC,IACvB,EAAS,IAAI,EAAgB,EAAO,EAGxC,EAAS,EAAa,EAAM,EAAQ,EAAO,GAAM,CAEjD,EAAO,KAAK,EAAQ,EAAO,CAE3B,EAAK,UAAU,GAAS,CAAU,SAAQ,EAG9C,EAAO,OAAS,EAGpB,OAAO,GAEd,CAAC,CAEF,SAAS,GAAM,EAAG,EAAG,CACjB,GAAI,IAAM,EACN,MAAO,GAGX,IAAI,EAAQ,EAAM,KAAK,EAAE,CAAE,EAAQ,EAAM,KAAK,EAAE,CAAE,EAElD,GAAI,IAAU,EACV,MAAO,GAGX,GAAI,IAAU,OACV,OAAO,EAAE,SAAS,GAAK,EAAE,SAAS,CAGtC,GAAI,IAAU,UAAY,IAAU,QAChC,MAAO,GAGX,IAAK,KAAS,EACV,GAAI,CAAC,GAAM,EAAE,GAAQ,EAAE,GAAO,CAC1B,MAAO,GAIf,MAAO,GAGX,IAAI,GAAU,CACV,OAAU,SAAS,EAAO,CAItB,OAHI,OAAO,IAAU,GAAU,EAAM,aAAa,GAAK,OAC5C,KAEJ,EAAM,WAAW,EAAM,EAGlC,KAAQ,SAAS,EAAO,CAIpB,OAHI,OAAO,IAAU,GAAU,EAAM,aAAa,GAAK,OAC5C,KAEJ,EAAM,UAAU,EAAM,EAGjC,QAAW,SAAS,EAAO,CAQvB,OAPI,OAAO,IAAU,EACb,EAAM,aAAa,GAAK,OACjB,KAEA,EAAM,aAAa,GAAK,OAGhC,GAAS,KAAiB,EAAV,CAAC,CAAC,GAG7B,OAAU,SAAS,EAAO,CAItB,OAHI,OAAO,IAAU,GAAU,EAAM,aAAa,GAAK,OAC5C,KAEJ,GAAS,KAAsB,EAAd,EAAQ,IAGpC,QAAW,SAAS,EAAO,CACvB,OAAO,GAEd,CAEG,GAAgB,CAChB,OAAU,GACV,OAAU,EACV,KAAQ,IAAI,KACZ,QAAW,GACX,QAAW,GACd,CAED,SAAS,GAAe,EAAK,EAAM,CAC/B,IAAI,EACA,EAEJ,IAAK,KAAa,KACd,EAAQ,EAAI,GACR,EAAc,EAAM,EAAI,EAAM,OAAS,EAAM,QAAU,GAEhD,IAAU,EACjB,OAAO,EAGf,OAAO,KAGX,IAAI,EAAQ,EAAiB,OAAO,CAChC,KAAM,SAAS,EAAM,CACjB,IAAI,EAAO,KAEX,IAAI,CAAC,GAAQ,EAAE,cAAc,EAAK,IAC9B,EAAO,EAAE,OAAO,EAAE,CAAE,EAAK,SAAU,EAAK,CAEpC,EAAK,eACL,IAAK,IAAI,EAAM,EAAG,EAAM,EAAK,cAAc,OAAQ,IAAO,CACrD,IAAI,EAAO,EAAK,cAAc,GAC9B,EAAK,GAAQ,EAAK,SAAS,IAAO,CAK/C,EAAiB,GAAG,KAAK,KAAK,EAAM,EAAK,CAEzC,EAAK,MAAQ,GACb,EAAK,YAAc,EAAE,CAEjB,EAAK,UACL,EAAK,GAAK,EAAK,IAAI,EAAK,QAAQ,CAE5B,EAAK,KAAO,IACZ,EAAK,GAAK,EAAK,cAK3B,gBAAiB,SAAS,EAAO,CAC7B,OAAO,EAAiB,GAAG,gBAAgB,KAAK,KAAM,EAAM,EACxD,IAAU,OAAS,EAAE,KAAK,UAAY,MAAQ,IAAU,OACxD,IAAU,SAAW,IAAU,eAAiB,IAAU,cAGlE,OAAQ,SAAS,EAAO,EAAO,CAC3B,IAAI,EAAO,KACP,EAAY,EACZ,EAAU,EAAK,QAAU,EAAE,CAC3B,EAaJ,MAXA,GAAQ,EAAO,GACf,AACI,IAAQ,GAAe,EAAQ,EAAU,CAEzC,IACA,EAAQ,EAAM,MACV,CAAC,GAAS,EAAM,OAChB,EAAQ,GAAQ,EAAM,KAAK,aAAa,IAIzC,EAAQ,EAAM,EAAM,CAAG,GAGlC,cAAe,SAAS,EAAG,CACvB,IAAI,EAAS,EAAE,QAEX,GAAU,OAAS,GAAU,YAC7B,KAAK,MAAQ,GACb,KAAK,YAAY,EAAE,OAAS,KAIpC,SAAU,SAAS,EAAO,CAEtB,MADA,IAAS,KAAK,QAAU,EAAE,EAAE,GACrB,EAAQ,EAAM,WAAa,GAAQ,IAG9C,IAAK,SAAS,EAAO,EAAO,CACxB,IAAI,EAAO,KACP,EAAQ,EAAK,MAEb,EAAK,SAAS,EAAM,GACpB,EAAQ,EAAK,OAAO,EAAO,EAAM,CAE5B,GAAM,EAAO,EAAK,IAAI,EAAM,CAAC,CAY9B,EAAK,QAAQ,WAAY,CAAS,QAAc,QAAO,CAAC,EAXxD,EAAK,MAAQ,GACb,EAAK,YAAY,GAAS,GAEtB,EAAiB,GAAG,IAAI,KAAK,EAAM,EAAO,EAAM,EAAI,CAAC,IACrD,EAAK,MAAQ,EAER,EAAK,QACN,EAAK,YAAY,GAAS,QAS9C,OAAQ,SAAS,EAAM,CACnB,IAAI,EAAO,KACP,EAAS,UAAW,CAAE,OAAO,GAC7B,EAEJ,IAAK,KAAS,EAAM,CAChB,IAAI,EAAQ,EAAK,GAEb,EAAM,OAAO,EAAE,EAAI,MACnB,EAAQ,EAAK,KAAK,EAAK,GAAQ,EAAO,EAAO,EAGjD,EAAK,KAAK,EAAO,EAAM,CAGvB,EAAK,UACL,EAAK,GAAK,EAAK,IAAI,EAAK,QAAQ,EAGpC,EAAK,MAAQ,GACb,EAAK,YAAc,EAAE,EAGzB,MAAO,UAAW,CACd,OAAO,KAAK,KAAO,KAAK,YAE/B,CAAC,CAEF,EAAM,OAAS,SAAS,EAAM,EAAS,CAC/B,IAAY,IACZ,EAAU,EACV,EAAO,GAGX,IAAI,EACA,EAAQ,EAAO,CAAE,SAAU,EAAE,CAAE,CAAE,EAAQ,CACzC,EACA,EACA,EACA,EACA,EACA,EACA,EAAS,EAAE,CACX,EACA,EAAK,EAAM,GACX,EAAiB,EAAE,CAcvB,GAZI,IACA,EAAM,QAAU,GAGhB,EAAM,IACN,OAAO,EAAM,GAGb,IACA,EAAM,SAAS,GAAM,EAAM,WAAa,IAGxC,EAAS,KAAK,EAAM,OAAO,GAAK,iBAAkB,CAClD,IAAK,EAAM,EAAG,EAAS,EAAM,OAAO,OAAQ,EAAM,EAAQ,IACtD,EAAQ,EAAM,OAAO,GACjB,OAAO,IAAU,EACjB,EAAO,GAAS,EAAE,CACX,EAAM,QACb,EAAO,EAAM,OAAS,GAG9B,EAAM,OAAS,EAGnB,IAAK,KAAQ,EAAM,OAAQ,CACvB,EAAQ,EAAM,OAAO,GACrB,EAAO,EAAM,MAAQ,UACrB,EAAQ,KACR,EAAe,EAEf,IAAI,EAAY,OAAQ,EAAM,QAAW,EAAS,EAAM,MAAQ,GAE5D,CAAC,EAAM,UAAY,EAAM,gBACzB,EAAQ,EAAM,SAAS,IAAiB,EAA2B,EAAf,GAA4B,EAAM,eAAiB,EAAiC,GAAc,EAAK,aAAa,EAArD,EAAM,aAErH,OAAO,GAAU,YACjB,EAAe,KAAK,EAAU,EAIlC,EAAQ,KAAO,IACf,EAAM,WAAa,GAGvB,EAAM,SAAS,IAAiB,EAA2B,EAAf,GAA4B,EAEpE,EAAE,cAAc,EAAM,CACtB,EAAM,MAAQ,EAAM,OAAS,GAAQ,GAErC,EAAQ,CACJ,MAAO,GAAQ,GAClB,CAkBT,OAdI,EAAe,OAAS,IACxB,EAAM,cAAgB,GAG1B,EAAQ,EAAK,OAAO,EAAM,CAC1B,EAAM,OAAS,SAAS,EAAS,CAC7B,OAAO,EAAM,OAAO,EAAO,EAAQ,EAGnC,EAAM,SACN,EAAM,OAAS,EAAM,OACrB,EAAM,QAAU,EAAM,SAGnB,GAGX,IAAI,EAAW,CACX,SAAU,SAAS,EAAO,CACtB,OAAO,EAAW,EAAM,CAAG,EAAQ,EAAO,EAAM,EAGpD,QAAS,SAAS,EAAO,CACrB,IAAI,EAAW,KAAK,SAAS,EAAM,CACnC,OAAO,SAAS,EAAG,EAAG,CAoBlB,MAnBA,GAAI,EAAS,EAAE,CACf,EAAI,EAAS,EAAE,CAEX,GAAK,MAAQ,GAAK,KACX,EAGP,GAAK,KACE,GAGP,GAAK,KACE,EAGP,EAAE,cACK,EAAE,cAAc,EAAE,CAGtB,EAAI,EAAI,EAAK,EAAI,EAAI,GAAK,IAIzC,OAAQ,SAAS,EAAM,CACnB,IAAI,EAAU,EAAK,SAAW,KAAK,QAAQ,EAAK,MAAM,CAQtD,OANI,EAAK,KAAO,OACL,SAAS,EAAG,EAAG,CAClB,OAAO,EAAQ,EAAG,EAAG,GAAK,EAI3B,GAGX,QAAS,SAAS,EAAW,CACzB,OAAO,SAAS,EAAG,EAAG,CAClB,IAAI,EAAS,EAAU,GAAG,EAAG,EAAE,CAC3B,EACA,EAEJ,IAAK,EAAM,EAAG,EAAS,EAAU,OAAQ,EAAM,EAAQ,IACnD,IAAmB,EAAU,GAAK,EAAG,EAAE,CAG3C,OAAO,IAGlB,CAEG,GAAiB,EAAO,EAAE,CAAE,EAAU,CACtC,IAAK,SAAS,EAAO,CACjB,IAAI,EAAW,KAAK,SAAS,EAAM,CACnC,OAAO,SAAS,EAAG,EAAG,CAClB,IAAI,EAAS,EAAS,EAAE,CACpB,EAAS,EAAS,EAAE,CAuBxB,OArBI,GAAU,EAAO,SAAW,GAAU,EAAO,UAC7C,EAAS,EAAO,SAAS,CACzB,EAAS,EAAO,SAAS,EAGzB,IAAW,EACJ,EAAE,WAAa,EAAE,WAGxB,GAAU,KACH,GAGP,GAAU,KACH,EAGP,EAAO,cACA,EAAO,cAAc,EAAO,CAGhC,EAAS,EAAS,EAAI,KAIrC,KAAM,SAAS,EAAO,CAClB,IAAI,EAAW,KAAK,SAAS,EAAM,CACnC,OAAO,SAAS,EAAG,EAAG,CAClB,IAAI,EAAS,EAAS,EAAE,CACpB,EAAS,EAAS,EAAE,CAuBxB,OArBI,GAAU,EAAO,SAAW,GAAU,EAAO,UAC7C,EAAS,EAAO,SAAS,CACzB,EAAS,EAAO,SAAS,EAGzB,IAAW,EACJ,EAAE,WAAa,EAAE,WAGxB,GAAU,KACH,EAGP,GAAU,KACH,GAGP,EAAO,cACA,EAAO,cAAc,EAAO,CAGhC,EAAS,EAAS,EAAI,KAGrC,OAAQ,SAAS,EAAM,CACpB,OAAO,KAAK,EAAK,KAAK,EAAK,MAAM,EAEvC,CAAC,CAEF,EAAM,SAAS,EAAO,EAAU,CAC5B,IAAI,EAAK,EAAS,EAAM,OAAQ,EAAa,MAAM,EAAO,CAE1D,IAAK,EAAM,EAAG,EAAM,EAAQ,IACxB,EAAO,GAAO,EAAS,EAAM,GAAM,EAAK,EAAM,CAGlD,OAAO,GAGX,IAAI,IAAa,UAAW,CAExB,SAAS,EAAM,EAAK,CAIhB,OAHI,OAAO,GAAO,WACd,EAAM,EAAI,QAAQ,WAAY,GAAG,EAE9B,KAAK,UAAU,EAAI,CAG9B,SAAS,EAAO,EAAM,CAClB,OAAO,SAAS,EAAG,EAAG,EAAQ,EAAwB,CAMlD,MALA,IAAK,GACD,IACA,EAAI,IAAM,EAAI,qBAAwB,EAA0B,uBAAyB,EAAyB,KAAO,kBACzH,EAAM,EAA0B,EAAE,kBAAkB,EAAuB,CAAG,EAAE,aAAa,EAE1F,EAAK,EAAG,EAAM,EAAE,CAAE,EAAO,EAIxC,SAAS,EAAS,EAAI,EAAG,EAAG,EAAQ,EAAwB,CACxD,GAAI,GAAK,KAAM,CACX,GAAI,OAAO,IAAM,EAAQ,CACrB,IAAI,EAAO,GAAW,KAAK,EAAE,CACzB,EACA,EAAI,IAAI,KAAK,CAAC,EAAK,GAAG,CACf,GACP,EAAI,EAAQ,EAA0B,EAAE,kBAAkB,EAAuB,CAAG,EAAE,aAAa,CAAE,CACrG,EAAI,KAAO,EAAI,eAAkB,EAA0B,uBAAyB,EAAyB,KAAO,mBAEpH,EAAI,EAAM,EAAE,CAIhB,EAAE,UAEF,EAAI,IAAM,EAAI,KAAO,EAAI,YAAc,EAAI,cAAgB,EAAI,IAC/D,EAAI,EAAE,SAAS,EAIvB,OAAO,EAAI,IAAM,EAAK,IAAM,EAGhC,SAAS,EAAe,EAAS,CAS7B,IAAK,IAAI,EAAK,KAAM,EAAM,GAAO,EAAI,EAAG,EAAI,EAAQ,OAAQ,EAAE,EAAG,CAC7D,IAAI,EAAK,EAAQ,OAAO,EAAE,CAC1B,GAAI,EACA,GAAM,KAAO,UACN,GAAM,IAAK,CAClB,EAAM,GACN,cACO,GAAM,IACb,GAAM,KACC,GAAM,IACb,GAAM,IACC;oBAAqC,QAAQ,EAAG,EAAI,EAC3D,GAAM,KAAO,EAEb,GAAM,EAEV,EAAM,GAEV,OAAO,EAAK,KAGhB,MAAO,CACH,MAAO,SAAS,EAAO,CAInB,OAHI,GAAS,EAAM,QACR,YAAc,EAAM,SAAS,CAAG,IAEpC,EAAM,EAAM,EAEvB,GAAI,SAAS,EAAG,EAAG,EAAQ,EAAwB,CAC/C,OAAO,EAAS,KAAM,EAAG,EAAG,EAAQ,EAAuB,EAE/D,IAAK,SAAS,EAAG,EAAG,EAAQ,EAAwB,CAChD,OAAO,EAAS,KAAM,EAAG,EAAG,EAAQ,EAAuB,EAE/D,GAAI,SAAS,EAAG,EAAG,EAAQ,CACvB,OAAO,EAAS,IAAK,EAAG,EAAG,EAAO,EAEtC,IAAK,SAAS,EAAG,EAAG,EAAQ,CACxB,OAAO,EAAS,KAAM,EAAG,EAAG,EAAO,EAEvC,GAAI,SAAS,EAAG,EAAG,EAAQ,CACvB,OAAO,EAAS,IAAK,EAAG,EAAG,EAAO,EAEtC,IAAK,SAAS,EAAG,EAAG,EAAQ,CACxB,OAAO,EAAS,KAAM,EAAG,EAAG,EAAO,EAEvC,WAAY,EAAO,SAAS,EAAG,EAAG,CAC9B,OAAO,EAAI,gBAAkB,EAAI,aACnC,CACF,iBAAkB,EAAO,SAAS,EAAG,EAAG,CACpC,OAAO,EAAI,gBAAkB,EAAI,cACnC,CACF,SAAU,EAAO,SAAS,EAAG,EAAG,CAC5B,IAAI,EAAI,EAAI,EAAE,OAAS,EAAI,EAC3B,OAAO,EAAI,YAAc,EAAI,KAAO,EAAI,aAAe,EAAI,UAC7D,CACF,eAAgB,EAAO,SAAS,EAAG,EAAG,CAClC,IAAI,EAAI,EAAI,EAAE,OAAS,EAAI,EAC3B,OAAO,EAAI,YAAc,EAAI,KAAO,EAAI,aAAe,EAAI,SAC7D,CACF,SAAU,EAAO,SAAS,EAAG,EAAG,CAC5B,OAAO,EAAI,YAAc,EAAI,UAC/B,CACF,eAAgB,EAAO,SAAS,EAAG,EAAG,CAClC,OAAO,EAAI,YAAc,EAAI,WAC/B,CACF,QAAS,EAAO,SAAS,EAAG,EAAG,CAE3B,MADA,GAAI,EAAE,UAAU,EAAG,EAAE,OAAS,EAAE,CACzB,EAAe,EAAE,CAAG,SAAW,EAAI,KAC5C,CACF,aAAc,EAAO,SAAS,EAAG,EAAG,CAEhC,MADA,GAAI,EAAE,UAAU,EAAG,EAAE,OAAS,EAAE,CACzB,IAAM,EAAe,EAAE,CAAG,SAAW,EAAI,KAClD,CACF,QAAS,SAAS,EAAG,CACjB,OAAO,EAAI,WAEf,WAAY,SAAS,EAAG,CACpB,OAAO,EAAI,WAEf,OAAQ,SAAS,EAAG,CAChB,MAAO,IAAM,EAAI,aAErB,UAAW,SAAS,EAAG,CACnB,MAAO,IAAM,EAAI,aAErB,cAAe,SAAS,EAAG,CACvB,MAAO,IAAM,EAAI,kBAAoB,EAAI,YAE7C,iBAAkB,SAAS,EAAG,CAC1B,MAAO,IAAM,EAAI,kBAAoB,EAAI,YAEhD,IACD,CAEJ,SAAS,EAAM,EAAM,CACjB,KAAK,KAAO,GAAQ,EAAE,CAI1B,EAAM,WAAa,SAAS,EAAY,EAAU,CAAE,OAAQ,GAAO,CAAE,CACjE,GAAI,EAAQ,OAER,OAAO,EAAiB,EAAW,CAGvC,IAAI,EAAc,EAAE,CAChB,EAAQ,CAAE,IAAK,OAAQ,GAAI,OAAQ,CACnC,EACA,EACA,EACA,EACA,EAAiB,EAAE,CACnB,EAAoB,EAAE,CACtB,EACA,EACA,EAAU,EAAW,QAEzB,IAAK,EAAM,EAAG,EAAS,EAAQ,OAAQ,EAAM,EAAQ,IACjD,EAAS,EAAQ,GACjB,EAAQ,EAAO,MACf,EAAW,EAAO,SAEd,EAAO,SACP,EAAO,EAAM,WAAW,EAAO,CAE/B,EAAS,EAAK,WACb,QAAQ,gBAAiB,SAAS,EAAO,EAAO,CAE7C,MADA,GAAQ,CAAC,EACF,QAAU,EAAkB,OAAS,GAAS,KACvD,CACD,QAAQ,gBAAiB,SAAS,EAAO,EAAO,CAE7C,MADA,GAAQ,CAAC,EACF,QAAU,EAAe,OAAS,GAAS,KACpD,CAEF,EAAkB,KAAK,MAAM,EAAmB,EAAK,UAAU,CAC/D,EAAe,KAAK,MAAM,EAAgB,EAAK,OAAO,GAElD,OAAO,IAAU,GACjB,EAAO,OAAS,EAAe,OAAS,OACxC,EAAe,KAAK,EAAM,EAE1B,EAAO,EAAM,KAAK,EAAM,CAGxB,OAAO,IAAa,GACpB,EAAS,OAAS,EAAkB,OAAS,KAAO,EAAO,KAAO,GAAU,MAAM,EAAO,MAAM,CAAG,IAClG,EAAkB,KAAK,EAAS,EAEhC,EAAS,IAAW,GAAY,MAAM,aAAa,EAAE,EAAM,EAAO,MAAO,EAAO,aAAe,EAAgC,GAApB,EAAO,WAAmB,EAAW,uBAAuB,EAI/K,EAAY,KAAK,EAAO,CAG5B,MAAO,CAAE,WAAY,IAAM,EAAY,KAAK,EAAM,EAAW,OAAO,CAAG,IAAK,OAAQ,EAAgB,UAAW,EAAmB,EAGtI,SAAS,EAAc,EAAO,EAAK,CAC/B,GAAI,EAAO,CACP,IAAI,EAAa,OAAO,IAAU,EAAS,CAAS,QAAY,MAAK,CAAG,EAGxE,OAAO,EAFO,EAAQ,EAAW,CAAG,EAAc,IAAe,EAA2B,EAAE,CAAjB,CAAC,EAAW,CAEhE,SAAS,EAAG,CAAE,MAAO,CAAC,CAAC,EAAE,KAAO,EAIjE,SAAS,GAAW,EAAO,EAAK,CAC5B,IAAI,EAAa,EAAE,CAEnB,GAAI,EAIA,IAAK,IAHD,EAAa,OAAO,IAAU,EAAS,CAAE,MAAO,EAAY,MAAK,CAAG,EACxE,EAAc,EAAQ,EAAW,CAAG,EAAc,IAAe,EAA2B,EAAE,CAAjB,CAAC,EAAW,CAEhF,EAAI,EAAG,EAAI,EAAY,OAAQ,IACpC,EAAW,EAAY,GAAG,OAAS,CAAE,IAAK,EAAY,GAAG,IAAK,MAAO,EAAI,EAAG,CAIpF,OAAO,EAGX,IAAI,GAAc,CACd,KAAM,KACN,OAAQ,KACR,UAAW,KACX,QAAS,KACT,MAAO,KACP,KAAM,MACN,GAAI,MACJ,UAAW,MACX,aAAc,MACd,WAAY,MACZ,SAAU,MACV,IAAK,KACL,WAAY,KACZ,SAAU,KACV,KAAM,KACN,KAAM,MACN,GAAI,MACJ,oBAAqB,MACrB,cAAe,MACf,IAAK,KACL,cAAe,KACf,YAAa,KACb,QAAS,KACT,KAAM,MACN,uBAAwB,MACxB,iBAAkB,MAClB,GAAI,MACJ,eAAgB,iBAChB,OAAQ,SACR,QAAS,UACT,WAAY,aACf,CAED,SAAS,GAAkB,EAAY,CACnC,IAAI,EACJ,EACA,EACA,EACA,EAAU,EAAW,QAErB,GAAI,EACA,IAAK,EAAM,EAAG,EAAS,EAAQ,OAAQ,EAAM,EAAQ,IACjD,EAAS,EAAQ,GACjB,EAAW,EAAO,SAEd,GAAY,OAAO,IAAa,IAChC,EAAO,SAAW,GAAY,EAAS,aAAa,GAAK,GAG7D,GAAkB,EAAO,CAKrC,SAAS,EAAgB,EAAY,CACjC,GAAI,GAAc,CAAC,EAAc,EAAW,CAUxC,OATI,EAAQ,EAAW,EAAI,CAAC,EAAW,WACnC,EAAa,CACT,MAAO,MACP,QAAS,EAAQ,EAAW,CAAG,EAAa,CAAC,EAAW,CAC3D,EAGL,GAAkB,EAAW,CAEtB,EAIf,EAAM,gBAAkB,EAExB,SAAS,GAAkB,EAAI,EAAI,CAK/B,OAJI,EAAG,OAAS,EAAG,MACR,GAGJ,EAAG,QAAU,EAAG,OAAS,EAAG,QAAU,EAAG,OAAS,EAAG,WAAa,EAAG,SAGhF,SAAS,GAAoB,EAAQ,CAOjC,MANA,KAAmB,EAAE,CAEjB,EAAc,EAAO,CACd,CAAE,MAAO,MAAO,QAAS,EAAE,CAAE,CAGjC,EAAgB,EAAO,CAGlC,SAAS,GAAc,EAAG,EAAG,CAMrB,OALA,EAAE,OAAU,EAAE,MAAQ,EAAE,MACjB,EACA,EAAE,MAAQ,EAAE,MACZ,GAEA,EAIf,SAAS,GAAmB,EAAO,EAAO,EAAK,CAC3C,IAAK,IAAI,EAAM,EAAO,EAAM,EAAK,IAC7B,GAAI,EAAM,GAAK,WACX,MAAO,GAGf,MAAO,GAGX,SAAS,GAAe,EAAO,EAAO,CAIlC,GAHA,EAAQ,GAAoB,EAAM,CAClC,EAAQ,GAAoB,EAAM,CAE9B,EAAM,QAAU,EAAM,MACtB,MAAO,GAGX,IAAI,EAAI,EACJ,GAAY,EAAM,SAAW,EAAE,EAAE,OAAO,CACxC,GAAY,EAAM,SAAW,EAAE,EAAE,OAAO,CAE5C,GAAI,EAAS,SAAW,EAAS,OAC7B,MAAO,GAGX,EAAW,EAAS,KAAK,GAAc,CACvC,EAAW,EAAS,KAAK,GAAc,CAEvC,IAAK,IAAI,EAAM,EAAG,EAAM,EAAS,OAAQ,IAIrC,GAHA,EAAK,EAAS,GACd,EAAK,EAAS,GAEV,EAAG,OAAS,EAAG,MACf,IAAI,CAAC,GAAe,EAAI,EAAG,CACvB,MAAO,WAEJ,CAAC,GAAkB,EAAI,EAAG,CACjC,MAAO,GAIf,MAAO,GAGX,EAAM,eAAiB,GAEvB,SAAS,GAAmB,EAAa,CACrC,OAAO,EAAQ,EAAY,CAAG,EAAc,CAAC,EAAY,CAG7D,SAAS,EAAe,EAAO,EAAK,EAAS,EAAiB,CAC1D,IAAI,EAAa,OAAO,IAAU,EAAS,CAAS,QAAY,MAAc,UAA0B,kBAAiB,CAAG,EAC5H,EAAc,EAAQ,EAAW,CAAG,EAAc,IAAe,EAA2B,EAAE,CAAjB,CAAC,EAAW,CAEzF,OAAO,EAAI,EAAa,SAAS,EAAG,CAChC,MAAO,CACH,MAAO,EAAE,MACT,IAAK,EAAE,KAAO,MACd,WAAY,EAAE,WACd,QAAS,EAAE,QACX,gBAAiB,EAAE,gBACtB,EACH,CAGN,SAAS,GAA6B,EAAO,EAAK,EAAS,CAGvD,IAAK,IAFD,EAAc,EAAe,EAAO,EAAK,EAAQ,CAE5C,EAAI,EAAG,EAAI,EAAY,OAAQ,IACpC,OAAO,EAAY,GAAG,QAG1B,OAAO,EAGX,SAAS,GAA6B,EAAkB,CAGpD,IAAK,IAFD,EAAc,EAAQ,EAAiB,CAAG,EAAmB,CAAC,EAAiB,CAE1E,EAAI,EAAG,EAAI,EAAY,OAAQ,IACpC,GAAI,EAAY,IAAM,EAAW,EAAY,GAAG,QAAQ,CACpD,MAAO,GAIf,MAAO,GAGX,EAAM,UAAY,CACd,QAAS,UAAW,CAChB,OAAO,KAAK,MAEhB,MAAO,SAAS,EAAO,EAAO,CAC1B,OAAO,IAAI,EAAM,KAAK,KAAK,MAAM,EAAO,EAAQ,EAAM,CAAC,EAE3D,KAAM,SAAS,EAAO,CAClB,OAAO,IAAI,EAAM,KAAK,KAAK,MAAM,EAAM,CAAC,EAE5C,KAAM,SAAS,EAAO,CAClB,OAAO,IAAI,EAAM,KAAK,KAAK,MAAM,EAAG,EAAM,CAAC,EAE/C,OAAQ,SAAS,EAAU,CACvB,OAAO,IAAI,EAAM,EAAI,KAAK,KAAM,EAAS,CAAC,EAE9C,MAAO,SAAS,EAAU,EAAK,EAAS,CACpC,IAAI,EAAO,CAAO,MAAK,CAcvB,OAZI,IACI,EAAS,QACT,EAAK,QAAU,EAAS,QAExB,EAAK,MAAQ,GAIjB,EACO,IAAI,EAAM,KAAK,KAAK,KAAK,EAAS,OAAO,EAAK,CAAC,CAAC,CAGpD,IAAI,EAAM,KAAK,KAAK,MAAM,EAAE,CAAC,KAAK,EAAS,OAAO,EAAK,CAAC,CAAC,EAEpE,QAAS,SAAS,EAAU,EAAS,CACjC,OAAO,KAAK,MAAM,EAAU,MAAO,EAAQ,EAE/C,kBAAmB,SAAS,EAAU,EAAS,CAC3C,OAAO,KAAK,MAAM,EAAU,OAAQ,EAAQ,EAEhD,KAAM,SAAS,EAAO,EAAK,EAAU,EAAS,CAC1C,IAAI,EACJ,EACA,EAAc,EAAc,EAAO,EAAI,CACvC,EAAY,EAAE,CAId,GAFA,IAAuB,EAEnB,EAAY,OAAQ,CACpB,IAAK,EAAM,EAAG,EAAS,EAAY,OAAQ,EAAM,EAAQ,IACrD,EAAU,KAAK,EAAS,OAAO,EAAY,GAAK,CAAC,CAGrD,OAAO,KAAK,QAAQ,CAAE,QAAS,EAAS,QAAQ,EAAU,CAAE,CAAE,EAAQ,CAG1E,OAAO,MAGX,OAAQ,SAAS,EAAa,CAC1B,IAAI,EACJ,EAAO,KAAK,KACZ,EAAS,EAAE,CAWX,MATA,GAAc,EAAgB,EAAY,CAEtC,CAAC,GAAe,EAAY,QAAQ,SAAW,EACxC,MAGX,EAAW,EAAM,WAAW,EAAa,CAAE,OAAQ,GAAM,CAAC,CAE1D,EAAS,EAAK,OAAO,EAAS,CACvB,IAAI,EAAM,EAAO,GAG5B,MAAO,SAAS,EAAa,EAAS,EAAS,CAC3C,EAAc,EAAe,GAAe,EAAE,CAAC,CAC/C,IAAqB,KAAK,KAE1B,IACA,EAAS,IAAI,EADF,KACa,KAAK,CAC7B,EAEI,GAAmB,EAAG,KACtB,IAAe,IAAI,EAAM,EAAQ,CAAC,OAAO,CAAC,CACtC,MAAO,EAAE,MACT,SAAU,KACV,MAAO,EAAE,MACT,WAAY,GACf,CAAC,CAAC,CAEI,GAqCX,OAlCI,EAAY,OAAS,IACrB,EAAa,EAAY,GAEzB,AAmBI,EAnBA,GAAW,EAAQ,YACV,IAAI,EAAM,EAAQ,CAAC,aAAa,EAAY,EAAQ,CAAC,OAAO,SAAS,EAAO,CACjF,IAAI,EAEA,EAAQ,EAAY,OAAS,EAAI,IAAI,EAAM,EAAM,MAAM,CAAC,MAAM,EAAY,MAAM,EAAE,CAAE,EAAgB,EAAO,EAAmB,CAAC,SAAS,CAAE,EAAQ,CAAC,SAAS,CAAG,EAAM,MAEzK,MAAO,CACH,MAAO,EAAM,MACb,MAAO,EAAM,MACb,aAAc,EAAY,OAAS,EAC5B,QACP,WAAY,EAAW,YAAc,EAAW,WAAW,OAAS,EAAgB,EAAO,EAAmB,CAAC,UAAU,EAAW,WAAW,CAAG,EAAE,CACpJ,IAAK,EAAM,MAAM,CACjB,UAAW,EAAM,OACjB,cAAe,EAAM,OACxB,EACH,CAGO,EAAO,QAAQ,EAAW,CAAC,OAAO,SAAS,EAAO,CACvD,IAAI,EACJ,MAAO,CACH,MAAO,EAAM,MACb,MAAO,EAAM,MACb,MAAO,EAAY,OAAS,EAAI,IAAI,EAAM,EAAM,MAAM,CAAC,MAAM,EAAY,MAAM,EAAE,CAAE,EAAgB,EAAO,EAAmB,CAAC,SAAS,CAAC,CAAC,SAAS,CAAG,EAAM,MAC3J,aAAc,EAAY,OAAS,EACnC,WAAY,EAAW,YAAc,EAAW,WAAW,OAAS,EAAgB,EAAO,EAAmB,CAAC,UAAU,EAAW,WAAW,CAAG,EAAE,CACvJ,EACH,EAGH,GAGX,QAAS,SAAS,EAAY,CAC1B,IAAI,EAAO,KAEX,GAAI,EAAc,EAAW,EAAI,CAAC,KAAK,KAAK,OACxC,OAAO,IAAI,EAAM,EAAE,CAAC,CAGxB,IAAI,EAAQ,EAAW,MACnB,EAAS,EAAW,gBAAkB,KAAK,KAAO,KAAK,iBAAiB,EAAO,EAAW,KAAO,MAAM,CACvG,EAAW,EAAM,SAAS,EAAM,CAChC,EACA,EAAa,EAAS,IAAI,EAAO,GAAI,EAAM,CAC3C,EAAQ,CACG,QACP,MAAO,EACP,MAAO,EAAE,CACZ,CACD,EACA,EACA,EACA,EAAS,CAAC,EAAM,CAEpB,IAAK,EAAM,EAAG,EAAM,EAAO,OAAQ,EAAM,EAAK,IAC1C,EAAO,EAAO,GACd,EAAe,EAAS,IAAI,EAAM,EAAM,CACnC,GAAmB,EAAY,EAAa,GAC7C,EAAa,EACb,EAAQ,CACG,QACP,MAAO,EACP,MAAO,EAAE,CACZ,CACD,EAAO,KAAK,EAAM,EAEtB,EAAM,MAAM,KAAK,EAAK,CAK1B,MAFA,GAAS,EAAK,YAAY,EAAQ,EAAW,CAEtC,IAAI,EAAM,EAAO,EAG5B,aAAc,SAAS,EAAY,EAAS,CACxC,GAAI,EAAc,EAAW,EAAI,KAAK,MAAQ,CAAC,KAAK,KAAK,OACrD,OAAO,IAAI,EAAM,EAAE,CAAC,CAGxB,IAAI,EAAQ,EAAW,MACnB,EAAS,EAAW,gBAAkB,EAAU,IAAI,EAAM,EAAQ,CAAC,KAAK,EAAO,EAAW,KAAO,MAAO,GAAe,CAAC,SAAS,CACjI,EAAW,EAAM,SAAS,EAAM,CAChC,EACA,EAAa,EAAS,IAAI,EAAO,GAAI,EAAM,CAC3C,EAAQ,CACG,QACP,MAAO,EACP,MAAO,EAAE,CACZ,CACD,EACA,EACA,EACA,EAAS,CAAC,EAAM,CAEpB,IAAK,EAAM,EAAG,EAAM,EAAO,OAAQ,EAAM,EAAK,IAC1C,EAAO,EAAO,GACd,EAAe,EAAS,IAAI,EAAM,EAAM,CACnC,GAAmB,EAAY,EAAa,GAC7C,EAAa,EACb,EAAQ,CACG,QACP,MAAO,EACP,MAAO,EAAE,CACZ,CACD,EAAO,KAAK,EAAM,EAEtB,EAAM,MAAM,KAAK,EAAK,CAK1B,MAFA,GAAS,KAAK,YAAY,EAAQ,EAAW,CAEtC,IAAI,EAAM,EAAO,EAG5B,iBAAkB,SAAS,EAAO,EAAK,CACnC,IAAI,EAAK,EACL,EAAO,KAAK,KAEhB,GAAI,CAAC,GAAY,CACb,IAAK,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAC9C,EAAK,GAAK,WAAa,EAK3B,IAFA,EAAO,IAAI,EAAM,EAAK,CAAC,KAAK,EAAO,EAAK,GAAe,CAAC,SAAS,CAE5D,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAC9C,OAAO,EAAK,GAAK,WAErB,OAAO,EAGX,OAAO,KAAK,KAAK,EAAO,EAAI,CAAC,SAAS,EAG1C,YAAa,SAAS,EAAQ,EAAY,CACtC,IAAI,EAAS,EAMb,OAJI,GAAc,EAAW,EAAW,QAAQ,GAC5C,EAAS,IAAI,EAAM,EAAO,CAAC,MAAM,CAAE,QAAS,EAAW,QAAS,CAAE,EAAW,KAAO,EAAU,CAAC,SAAS,EAGrG,GAGX,UAAW,SAAS,EAAY,CAC5B,IAAI,EACA,EACA,EAAS,EAAE,CACX,EAAQ,EAAE,CAEd,GAAI,GAAc,EAAW,OACzB,IAAK,EAAM,EAAG,EAAM,KAAK,KAAK,OAAQ,EAAM,EAAK,IAC7C,GAAmB,EAAQ,EAAY,KAAK,KAAK,GAAM,EAAK,EAAK,EAAM,CAG/E,OAAO,GAEd,CAED,SAAS,GAAmB,EAAG,EAAG,CAI9B,OAHI,GAAK,EAAE,SAAW,GAAK,EAAE,QAClB,EAAE,SAAS,GAAK,EAAE,SAAS,CAE/B,IAAM,EAGjB,SAAS,GAAmB,EAAa,EAAY,EAAM,EAAO,EAAQ,EAAO,CAC7E,IAA2B,EAAE,CAC7B,IAAI,EACA,EACA,EACA,EAAM,EAAW,OAErB,IAAK,EAAM,EAAG,EAAM,EAAK,IAAO,CAC5B,EAAO,EAAW,GAClB,EAAe,EAAK,UACpB,IAAI,EAAQ,EAAK,MACjB,EAAY,GAAS,EAAY,IAAU,EAAE,CAC7C,EAAM,GAAS,EAAM,IAAU,EAAE,CACjC,EAAM,GAAO,GAAgB,EAAM,GAAO,IAAiB,EAAE,CAC7D,EAAY,GAAO,GAAgB,GAAU,EAAa,aAAa,EAAE,EAAY,GAAO,GAAe,EAAM,EAAM,SAAS,EAAM,CAAE,EAAO,EAAQ,EAAM,GAAO,GAAc,EAI1L,IAAI,GAAY,CACZ,IAAK,SAAS,EAAa,EAAM,EAAU,CACvC,IAAI,EAAQ,EAAS,IAAI,EAAK,CAQ9B,OANK,EAAS,EAAY,CAEf,EAAS,EAAM,GACtB,GAAe,GAFf,EAAc,EAKX,GAEX,MAAO,SAAS,EAAa,CACzB,OAAQ,GAAe,GAAK,GAEhC,QAAS,SAAS,EAAa,EAAM,EAAU,EAAO,EAAQ,EAAO,CACjE,IAAI,EAAQ,EAAS,IAAI,EAAK,CAmB9B,OAjBI,EAAM,QAAU,IAChB,EAAM,MAAQ,GAGb,EAAS,EAAY,CAEf,EAAS,EAAM,GACtB,GAAe,GAFf,EAAc,EAKd,EAAS,EAAM,EACf,EAAM,QAGN,GAAS,EAAS,GAAK,EAAS,EAAY,GAC5C,GAA4B,EAAM,OAE/B,GAEX,IAAK,SAAS,EAAa,EAAM,EAAU,CACvC,IAAI,EAAQ,EAAS,IAAI,EAAK,CAS9B,MAPI,CAAC,EAAS,EAAY,EAAI,CAAC,EAAO,EAAY,GAC9C,EAAc,GAGd,EAAc,IAAU,EAAS,EAAM,EAAI,EAAO,EAAM,IACxD,EAAc,GAEX,GAEX,IAAK,SAAS,EAAa,EAAM,EAAU,CACvC,IAAI,EAAQ,EAAS,IAAI,EAAK,CAS9B,MAPI,CAAC,EAAS,EAAY,EAAI,CAAC,EAAO,EAAY,GAC9C,EAAc,GAGd,EAAc,IAAU,EAAS,EAAM,EAAI,EAAO,EAAM,IACxD,EAAc,GAEX,GAEd,CAED,SAAS,EAAS,EAAK,CACnB,OAAO,OAAO,GAAQ,UAAY,CAAC,MAAM,EAAI,CAGjD,SAAS,EAAO,EAAK,CACjB,OAAO,GAAO,EAAI,QAGtB,SAAS,EAAO,EAAO,CACnB,IAAI,EAAK,EAAS,EAAM,OAAQ,EAAa,MAAM,EAAO,CAE1D,IAAK,EAAM,EAAG,EAAM,EAAQ,IACxB,EAAO,GAAO,EAAM,GAAK,QAAQ,CAGrC,OAAO,EAGX,EAAM,eAAiB,EACvB,EAAM,cAAgB,EAEtB,EAAM,QAAU,SAAS,EAAM,EAAS,EAAS,CAC7C,IAAqB,EAAE,CAEvB,IAAI,EAAQ,EAAQ,MAChB,EAAkB,GAA6B,EAAe,GAAS,EAAE,CAAC,CAAC,CAC3E,EAAQ,IAAI,EAAM,EAAK,CACvB,EAAiC,GAA6B,GAAS,EAAE,CAAC,CAC1E,EAAiB,EAAc,EAAQ,MAAQ,EAAE,CAAC,CAClD,EAAO,EAAkB,EAAiB,EAA+B,OAAO,EAAe,CAC/F,EACA,EACA,EAAiB,EAAQ,eACzB,EAAS,EAAQ,OACjB,EAAO,EAAQ,KACf,EAAO,EAAQ,KAwDnB,OAtDI,GAAQ,IACR,EAAQ,EAAM,KAAK,EAAM,EAAW,EAAW,EAAQ,EAGvD,IACA,EAAQ,EAAM,OAAO,EAAO,CAExB,IACA,EAAQ,EAAe,EAAM,EAGjC,EAAQ,EAAM,SAAS,CAAC,QAGxB,IACK,IACD,EAAQ,EAAM,KAAK,EAAK,EAGxB,IACA,EAAO,EAAM,SAAS,GAI1B,GACA,EAAQ,EAAM,MAAM,EAAO,EAAM,EAAQ,CAErC,IAAS,GAAa,IAAS,GAAa,CAAC,EAAQ,cACrD,EAAQ,IAAI,EAAM,GAAW,EAAM,SAAS,CAAC,CAAC,CAAC,MAAM,EAAM,EAAK,CAEhE,EAA8B,EAAI,EAAgC,SAAS,EAAiB,CACxF,OAAO,EAAO,EAAE,CAAE,EAAiB,CAC/B,gBAAiB,GACpB,CAAC,EACJ,CAEF,EAAQ,EAAM,MAAM,EAA6B,EAAM,EAAQ,IAG/D,IAAS,GAAa,IAAS,IAC/B,EAAQ,EAAM,KAAK,OAEf,EAAO,EAAO,GAAS,EAAQ,UAC/B,GAAQ,EAAO,EAAO,EACtB,EAAO,EAAO,EAAI,EAAI,GAE1B,EAAQ,EAAM,MAAM,EAAM,EAAK,EAG/B,IAAU,CAAC,EAAc,EAAM,EAAI,EAAM,SAAW,KACpD,EAAQ,EAAM,MAAM,EAAO,EAAM,EAAQ,GAI1C,CACI,QACP,KAAM,EAAM,SAAS,CACxB,EAGL,IAAI,GAAiB,EAAM,OAAO,CAC9B,KAAM,SAAS,EAAS,CACpB,KAAK,KAAO,EAAQ,MAGxB,KAAM,SAAS,EAAS,CACpB,EAAQ,QAAQ,KAAK,KAAK,EAE9B,OAAQ,SAAS,EAAS,CACtB,EAAQ,QAAQ,EAAQ,KAAK,EAEjC,OAAQ,SAAS,EAAS,CACtB,EAAQ,QAAQ,EAAQ,KAAK,EAEjC,QAAS,SAAS,EAAS,CACvB,EAAQ,QAAQ,EAAQ,KAAK,EAEpC,CAAC,CAEE,GAAkB,EAAM,OAAQ,CAChC,KAAM,SAAS,EAAS,CACpB,IAAI,EAAO,KAAM,EAEjB,EAAU,EAAK,QAAU,EAAO,EAAE,CAAE,EAAK,QAAS,EAAQ,CAE1D,EAAK,GAAM,SAAS,EAAO,EAAM,CACzB,OAAO,EAAQ,KAAU,IACzB,EAAQ,GAAQ,CACZ,IAAK,EAAQ,GAChB,GAEP,CAEF,EAAK,MAAQ,EAAQ,MAAQ,EAAM,OAAO,EAAQ,MAAM,CAAG,CACvD,KAAM,EACN,IAAK,EACR,CAED,EAAe,EAAQ,aAEnB,EAAQ,SACR,EAAK,OAAS,EAAQ,QAGtB,EAAW,EAAQ,KAAK,GACxB,EAAK,KAAO,EAAQ,MAGxB,AACI,EAAK,OAAO,EAGhB,EAAK,aAAe,EAAW,EAAa,CAAG,EAAe,SAAS,EAAS,CAC5E,IAAI,EAAS,EAAE,CAcf,OAZA,EAAK,EAAS,SAAS,EAAQ,EAAO,CAC9B,KAAU,IACV,EAAS,EAAa,GAClB,EAAc,EAAO,GACrB,EAAQ,EAAO,MAAM,EAAM,CAC3B,EAAS,EAAO,MAIxB,EAAO,GAAU,GACnB,CAEK,IAIf,QAAS,CACL,aAAc,EACjB,CAED,OAAQ,SAAS,EAAS,CACtB,OAAO,EAAK,KAAK,MAAM,EAAS,EAAO,CAAC,EAG5C,KAAM,SAAS,EAAS,CACpB,IAAI,EAAO,KACP,EAEA,EACA,EAAQ,EAAK,MAEjB,EAAU,EAAK,MAAM,EAAS,EAAK,CAEnC,EAAU,EAAQ,SAAW,EACrB,EAAQ,MAEhB,EAAS,EAAM,KAAK,EAAQ,KAAK,CAE7B,IAAW,GAGX,EAAQ,QAAU,SAAS,EAAQ,CAC/B,EAAM,IAAI,EAAQ,KAAM,EAAO,CAE/B,EAAQ,EAAO,EAGnB,EAAE,KAAK,EAAQ,EARf,EAAQ,EAAO,EAYvB,OAAQ,SAAS,EAAS,CACtB,OAAO,EAAK,KAAK,MAAM,EAAS,EAAO,CAAC,EAG5C,QAAS,SAAS,EAAS,CACvB,OAAO,EAAK,KAAK,MAAM,EAAS,EAAQ,CAAC,EAG7C,MAAO,SAAS,EAAS,EAAM,CAC3B,IAAqB,EAAE,CAEvB,IAAI,EAAO,KACP,EACA,EAAY,EAAK,QAAQ,GACzB,EAAO,EAAW,EAAU,KAAK,CAAG,EAAU,KAAK,EAAQ,KAAK,CAAG,EAAU,KAWjF,MATA,GAAU,EAAO,GAAM,EAAE,CAAE,EAAW,EAAQ,CAC9C,EAAa,EAAO,GAAM,EAAE,CAAE,EAAM,EAAQ,KAAK,CAEjD,EAAQ,KAAO,EAAK,aAAa,EAAY,EAAK,CAE9C,EAAW,EAAQ,IAAI,GACvB,EAAQ,IAAM,EAAQ,IAAI,EAAW,EAGlC,GAEd,CAAC,CAEE,GAAwB,EAAM,OAAQ,CACtC,KAAM,SAAS,EAAS,CACpB,IAAM,EAAO,KAEb,EAAU,EAAK,QAAU,EAAO,EAAE,CAAE,EAAK,QAAS,EAAQ,EAG9D,KAAM,SAAS,EAAS,CACpB,IAAM,EAAO,KACb,EAAU,EAAK,QAAU,EAAO,EAAE,CAAE,EAAK,QAAS,EAAQ,CAC1D,EAAU,EAAK,MAAM,EAAQ,CAEzB,EAAK,QAAQ,cACb,EAAK,QAAQ,aAAa,EAAQ,CAGtC,EAAE,KAAK,EAAQ,EAGnB,MAAO,SAAS,EAAS,CACrB,IAAM,EAAO,KACP,EAAU,GAAS,SAAW,EAAK,QAAQ,QAC3C,EAAO,EAAK,QAAQ,EAAQ,CAE5B,EAAiB,CACV,IAFD,OAAO,GAAY,SAAW,EAAU,EAAQ,IAGpD,KAAM,OACN,YAAa,mBACb,KAAM,KAAK,UAAU,EAAK,CAC1B,QAAS,SAAS,EAAU,CACpB,EAAK,QAAQ,SACb,EAAK,QAAQ,QAAQ,EAAS,EAGtC,MAAO,SAAS,EAAU,CACtB,IAAM,EAAY,CACd,OAAQ,EAAS,OACjB,WAAY,EAAS,WACrB,aAAc,EAAS,aAC1B,CACG,EAAK,QAAQ,OACb,EAAK,QAAQ,MAAM,EAAU,EAGvC,CAMD,OAJI,GAAS,UACT,EAAe,QAAU,EAAQ,SAG9B,GAEhB,QAAS,SAAS,EAAU,EAAE,CAAE,CAC5B,IAAM,EAAU,GAAS,QAIjB,EAAc,CACF,WAJD,GAAS,WAKX,QAJD,GAAS,QAKpB,CAUD,OARI,GAAS,MAAQ,EAAW,GAAS,KAAK,CACnC,EAAE,OAAO,EAAE,CAAE,EAAa,EAAQ,MAAM,CAAC,CAGhD,GAAS,MAAQ,OAAO,KAAK,EAAQ,KAAK,CAAC,OACpC,EAAE,OAAO,EAAE,CAAE,EAAa,EAAQ,KAAK,CAG3C,GAEf,QAAS,SAAS,EAAU,CACxB,IAAM,EAAO,KAMb,OAJI,EAAK,QAAQ,SACb,EAAK,QAAQ,QAAQ,EAAS,CAG3B,GAEX,MAAO,SAAS,EAAU,CACtB,IAAM,EAAO,KAEP,EAAY,CACd,OAAQ,EAAS,OACjB,WAAY,EAAS,WACrB,aAAc,EAAS,aAC1B,CAEG,EAAK,QAAQ,OACb,EAAK,QAAQ,MAAM,EAAU,EAGxC,CAAC,CAEE,GAAc,EAAM,OAAQ,CAC5B,KAAM,SAAS,EAAS,CACpB,IAAM,EAAO,KAEb,EAAU,EAAK,QAAU,EAAO,EAAE,CAAE,EAAK,QAAS,EAAQ,CAE1D,EAAK,aAAe,CAChB,GAAM,YACN,OAAU,SACV,KAAQ,OACR,KAAQ,OACX,EAGL,KAAM,SAAS,EAAS,CACpB,IAAM,EAAO,KAQb,MANA,GAAU,EAAK,MAAM,EAAQ,CAEzB,EAAK,QAAQ,cACb,EAAK,QAAQ,aAAa,EAAQ,CAG/B,EAAE,KAAK,EAAQ,EAG1B,QAAS,SAAS,EAAU,EAAS,CACjC,IAAM,EAAO,KAEP,GADU,GAAS,SAAW,EAAK,QAAQ,UACnB,cAAgB,EAAK,iBAC7C,EAAU,GAAS,QACnB,EAAS,GAAS,OAClB,EAAS,CACX,GAAI,EAAM,MAAM,CAChB,OAAQ,EAAa,EAAS,CACtB,SACC,UACC,WACb,CAEG,EAAK,QAAQ,SACb,EAAK,QAAQ,QAAQ,EAAO,EAIpC,MAAO,SAAS,EAAU,EAAS,CAC/B,IAAM,EAAO,KAEP,GADU,GAAS,SAAW,EAAK,QAAQ,UACnB,cAAgB,EAAK,iBAC7C,EAAU,GAAS,QACnB,EAAS,GAAS,OAElB,EAAY,CACd,OAAQ,EAAS,OACjB,WAAY,EAAS,WACrB,aAAc,EAAS,aAC1B,CAEK,EAAS,CACX,GAAI,EAAM,MAAM,CAChB,OAAQ,EAAa,EAAU,CACvB,SACC,UACC,WACb,CAEG,EAAK,QAAQ,OACb,EAAK,QAAQ,MAAM,EAAO,EAIlC,MAAO,SAAS,EAAU,EAAE,CAAE,CAC1B,IAAM,EAAO,KACP,EAAU,GAAS,SAAW,EAAK,QAAQ,QAC3C,EAAO,EAAK,QAAQ,EAAQ,CAE5B,EAAiB,CACd,IAFG,OAAO,GAAY,SAAW,EAAU,EAAQ,IAGxD,KAAM,OACN,YAAa,mBACb,KAAM,KAAK,UAAU,EAAK,CAC1B,QAAS,SAAS,EAAU,CACxB,EAAK,QAAQ,KAAK,EAAM,EAAU,EAAQ,EAE9C,MAAO,SAAS,EAAU,CACtB,EAAK,MAAM,KAAK,EAAM,EAAU,EAAQ,EAE/C,CAMD,OAJI,GAAS,UACT,EAAe,QAAU,EAAQ,SAG9B,GAGX,QAAS,SAAS,EAAS,CACvB,IAAM,EAAO,KACP,EAAU,GAAS,QACnB,EAAU,GAAS,QACnB,EAAU,GAAS,SAAW,EAAE,CAChC,EAAS,GAAS,OAEpB,EAAc,CACd,GAAG,EACH,CACI,KAAM,EAAK,aAAa,KACxB,SAAU,CACN,CACI,MAAO,OACP,KAAM,EACT,CACJ,CACJ,CACJ,CAUD,OARI,GAAS,MAAQ,EAAW,GAAS,KAAK,CACnC,EAAQ,KAAK,EAAQ,EAAS,EAAQ,CAG7C,GAAS,MAAQ,OAAO,KAAK,EAAQ,KAAK,CAAC,OACpC,EAAE,OAAO,EAAE,CAAE,EAAQ,KAAM,CAAE,SAAU,EAAa,CAAC,CAGzD,GAGX,iBAAkB,SAAS,EAAU,CACjC,OAAO,GAAU,WAAW,IAAI,WAAW,IAAI,MAAQ,mDAE9D,CAAC,CAEE,EAAQ,EAAM,OAAO,CACrB,KAAM,UAAW,CACb,KAAK,OAAS,EAAE,EAEpB,IAAK,SAAS,EAAK,EAAM,CACjB,IAAQ,IACR,KAAK,OAAO,EAAU,EAAI,EAAI,IAGtC,KAAM,SAAS,EAAK,CAChB,OAAO,KAAK,OAAO,EAAU,EAAI,GAErC,MAAO,UAAW,CACd,KAAK,OAAS,EAAE,EAEpB,OAAQ,SAAS,EAAK,CAClB,OAAO,KAAK,OAAO,EAAU,EAAI,GAExC,CAAC,CAEF,EAAM,OAAS,SAAS,EAAS,CAa7B,OARI,EAAc,EAAQ,EAAI,EAAW,EAAQ,KAAK,CAC3C,EAGP,IAAY,GACL,IAAI,EATH,CACR,SAAY,UAAW,CAAE,OAAO,IAAI,GACvC,CAUY,IAAU,EAG3B,SAAS,GAAiB,EAAM,EAAS,EAAe,EAAoB,EAAY,CACpF,IAAI,EACA,EACA,EACA,EACA,EAAU,EAAE,CACZ,EAEJ,IAAK,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAE9C,IAAK,IADL,GAAS,EAAK,GACC,EACX,EAAe,EAAW,GAEtB,GAAgB,IAAiB,IAC5B,EAAQ,KACT,EAAQ,GAAgB,EAAM,OAAO,EAAa,EAEtD,EAAQ,GAAc,EAAQ,EAAQ,GAAQ,EAAO,CAAC,CACtD,OAAO,EAAO,IAM9B,SAAS,GAAe,EAAM,EAAS,EAAe,EAAoB,EAAY,CAClF,IAAI,EACA,EACA,EACA,EACA,EAEJ,IAAK,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAE9C,IAAK,IADL,GAAS,EAAK,GACC,EACX,EAAO,GAAU,EAAc,OAAO,EAAQ,EAAQ,GAAQ,EAAO,CAAC,CAEtE,EAAe,EAAW,GACtB,GAAgB,IAAiB,GACjC,OAAO,EAAO,GAM9B,SAAS,GAAa,EAAM,EAAS,EAAe,EAAoB,EAAY,CAChF,IAAI,EACA,EACA,EACA,EAEJ,IAAK,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAC9C,EAAS,EAAK,GAEd,EAAY,EAAmB,EAAO,OAClC,GAAa,GAAa,EAAO,QACjC,EAAO,MAAQ,GAGnB,EAAO,MAAQ,EAAc,OAAO,EAAO,MAAO,EAAO,MAAM,CAE3D,EAAO,QACH,EAAO,aACP,GAAa,EAAO,MAAO,EAAS,EAAe,EAAoB,EAAW,CAElF,GAAe,EAAO,MAAO,EAAS,EAAe,EAAoB,EAAW,EAMpG,SAAS,GAAe,EAAkB,EAAO,EAAW,EAAS,EAAoB,EAAY,CACjG,OAAO,SAAS,EAAM,CAGlB,MAFA,GAAO,EAAiB,EAAK,CAEtB,GAAmB,EAAO,EAAW,EAAS,EAAoB,EAAW,CAAC,EAAK,EAIlG,SAAS,GAAmB,EAAO,EAAW,EAAS,EAAoB,EAAY,CACnF,OAAO,SAAS,EAAM,CAUlB,OARI,GAAQ,CAAC,EAAc,EAAQ,GAC3B,EAAS,KAAK,EAAK,GAAK,kBAAoB,EAAE,aAAgB,KAC9D,EAAO,CAAC,EAAK,EAGjB,EAAU,EAAM,EAAS,IAAI,EAAS,EAAoB,EAAW,EAGlE,GAAQ,EAAE,EAIzB,IAAI,GAAa,EAAM,OAAO,CAC1B,KAAM,SAAS,EAAQ,CACnB,IAAI,EAAO,KAAM,EAAQ,EAAK,EAAO,EAIrC,IAAK,IAFL,KAAmB,EAAE,CAEN,EACX,EAAM,EAAO,GAEb,EAAK,GAAU,OAAO,IAAQ,EAAS,EAAO,EAAI,CAAG,EAGzD,EAAO,EAAO,WAAa,EAEvB,EAAc,EAAK,MAAM,GACzB,EAAK,MAAQ,EAAQ,EAAK,OAAO,EAAK,MAAM,EAGhD,IAAI,EAAe,EAAK,KAAK,KAAK,EAAK,CAIvC,GAFA,EAAK,oBAAsB,EAEvB,EAAK,MAAO,CACZ,IAAI,EAAiB,EAAK,OAAO,KAAK,EAAK,CACvC,EAAoB,EAAK,UAAU,KAAK,EAAK,CAC7C,EAAqB,EAAE,CACvB,EAAU,EAAE,CACZ,EAAmB,EAAE,CACrB,EAAa,EAAE,CACf,EAAkB,GAClB,EACA,EAEJ,EAAQ,EAAK,MAET,EAAM,SACN,EAAK,EAAM,OAAQ,SAAS,EAAO,EAAO,CACtC,IAAI,EAEJ,EAAY,EAER,EAAc,EAAM,EAAI,EAAM,MAC9B,EAAY,EAAM,MACX,OAAO,IAAU,IACxB,EAAY,GAGZ,EAAc,EAAM,EAAI,EAAM,OAC9B,EAAW,EAAM,MAGrB,EAAkB,GAAoB,GAAY,IAAa,GAAU,IAAc,EACvF,EAAO,GAAY,EACnB,EAAQ,GAAS,EAAK,QAAQ,IAAI,GAAK,GAA0B,EAAO,EAAK,CAAjC,EAAO,EAAM,GAAK,CAC9D,EAAiB,GAAS,EAAO,EAAM,CACvC,EAAmB,GAAY,GAAa,EAC5C,EAAW,GAAS,GAAY,GAClC,CAEE,CAAC,EAAO,WAAa,IACrB,EAAK,UAAY,GAAe,EAAmB,EAAO,GAAkB,EAAkB,EAAoB,EAAW,GAIrI,EAAK,oBAAsB,EAC3B,EAAK,oBAAsB,GAAmB,EAAO,GAAgB,EAAS,EAAoB,EAAW,CAC7G,EAAK,KAAO,GAAe,EAAc,EAAO,GAAgB,EAAS,EAAoB,EAAW,CACxG,EAAK,OAAS,GAAe,EAAgB,EAAO,GAAc,EAAS,EAAoB,EAAW,GAGlH,OAAQ,SAAS,EAAM,CACnB,OAAO,EAAO,EAAK,OAAS,MAEhC,MAAO,EACP,KAAM,EACN,MAAO,SAAS,EAAM,CAClB,OAAO,EAAK,QAEhB,OAAQ,EACR,WAAY,UAAW,CACnB,MAAO,EAAE,EAEb,UAAW,SAAS,EAAM,CACtB,OAAO,GAEd,CAAC,CAEF,SAAS,GAAc,EAAe,EAAU,CAC5C,IAAI,EACA,EAEJ,GAAI,EAAS,OAAS,EAAS,MAAM,OACjC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,OAAQ,IACvC,EAAe,EAAc,MAAM,EAAc,MAAM,OAAS,GAChE,EAAa,EAAS,MAAM,GACxB,GAAgB,EACZ,EAAa,cAAgB,EAAa,OAAS,EAAW,MAC9D,GAAc,EAAc,EAAW,CAChC,EAAa,OAAS,EAAa,OAAS,EAAW,OAC9D,EAAa,MAAM,gBAAkB,GACrC,EAAa,MAAM,KAAK,MAAM,EAAa,MAAO,EAAW,MAAM,CACnE,EAAa,MAAM,gBAAkB,KAErC,EAAc,MAAM,gBAAkB,GACtC,EAAc,MAAM,KAAK,MAAM,EAAc,MAAO,CAAC,EAAW,CAAC,CACjE,EAAc,MAAM,gBAAkB,IAEnC,IACP,EAAc,MAAM,gBAAkB,GACtC,EAAc,MAAM,KAAK,MAAM,EAAc,MAAO,CAAC,EAAW,CAAC,CACjE,EAAc,MAAM,gBAAkB,IAKtD,SAAS,GAAY,EAAQ,EAAM,EAAM,EAAM,CAK3C,IAJA,IAAI,EACA,EAAM,EACN,EAEG,EAAK,QAAU,GAAM,CACxB,EAAQ,EAAK,GACb,EAAQ,EAAM,MAEd,IAAI,EAAS,EAAM,OA+BnB,GA7BI,GAAU,EAAO,QAAU,EAAM,OAAS,EAAO,QAAU,EAAM,OAC7D,EAAO,cAAgB,EAAO,MAAM,OACpC,GAAY,EAAO,MAAM,EAAO,MAAM,OAAS,GAAI,EAAM,MAAO,EAAM,EAAK,EAE3E,EAAQ,EAAM,MAAM,EAAM,EAAO,EAAK,CACtC,EAAO,MAAQ,EAAO,MAAM,OAAO,EAAM,EAE7C,EAAK,OAAO,IAAO,EAAE,EACd,EAAM,cAAgB,EAAM,QACnC,GAAY,EAAO,EAAO,EAAM,EAAK,CAChC,EAAM,MAAM,QACb,EAAK,OAAO,IAAO,EAAE,GAGzB,EAAQ,EAAM,MAAM,EAAM,EAAO,EAAK,CACtC,EAAM,MAAQ,EAET,EAAM,MAAM,QACb,EAAK,OAAO,IAAO,EAAE,EAIzB,EAAM,SAAW,EACjB,GAAQ,GAER,EAAO,EACP,GAAQ,EAAM,QAGd,EAAE,GAAO,EAAK,OACd,MAIJ,EAAM,EAAK,QACX,EAAK,OAAO,EAAK,EAAK,OAAS,EAAI,CAI3C,SAAS,GAAW,EAAQ,EAAe,CASvC,IAAK,IARD,EAAS,EAAE,CACX,GAAgB,GAAU,EAAE,EAAE,OAC9B,EACA,EACA,EAAU,EAAW,EAAc,CAAG,EAAgB,SAAS,EAAO,EAAO,CAC7E,OAAO,EAAM,IAGR,EAAa,EAAG,EAAa,EAAc,IAGhD,GAFA,EAAQ,EAAQ,EAAQ,EAAW,CAE/B,EAAM,aACN,EAAS,EAAO,OAAO,GAAW,EAAM,MAAM,CAAC,KAC5C,CACH,EAAQ,EAAM,MAEd,IAAK,IAAI,EAAY,EAAG,EAAY,EAAM,OAAQ,IAC9C,EAAO,KAAK,EAAQ,EAAO,EAAU,CAAC,CAIlD,OAAO,EAGX,SAAS,EAAc,EAAM,CACzB,IAAI,EACA,EAAS,EAAE,CACX,EACA,EACA,EAEJ,IAAK,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAAO,CACrD,IAAI,EAAQ,EAAK,GAAG,EAAI,CACxB,GAAI,EAAM,MACN,GAAI,EAAM,aACN,EAAS,EAAO,OAAO,EAAc,EAAM,MAAM,CAAC,MAGlD,IADA,EAAQ,EAAM,MACT,EAAY,EAAG,EAAY,EAAM,OAAQ,IAC1C,EAAO,KAAK,EAAM,GAAG,EAAU,CAAC,CAKhD,OAAO,EAGX,SAAS,GAAe,EAAM,EAAO,CACjC,IAAI,EAAK,EAAQ,EACjB,GAAI,EACA,IAAK,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAC9C,EAAQ,EAAK,GAAG,EAAI,CAChB,EAAM,QACF,EAAM,aACN,GAAe,EAAM,MAAO,EAAM,CAElC,EAAM,MAAQ,IAAI,EAAoB,EAAM,MAAO,EAAO,EAAM,MAAM,QAAQ,EAOlG,SAAS,GAAe,EAAM,EAAM,CAChC,IAAK,IAAI,EAAM,EAAG,EAAM,EAAK,OAAQ,IACjC,GAAI,EAAK,GAAK,aACV,IAAI,GAAe,EAAK,GAAK,MAAO,EAAK,CACrC,MAAO,WAEJ,EAAK,EAAK,GAAK,MAAO,EAAK,GAAK,CACvC,MAAO,GAKnB,SAAS,GAAgB,EAAQ,EAAM,EAAM,EAAY,CACrD,IAAK,IAAI,EAAM,EAAG,EAAM,EAAO,QAIvB,EAHA,EAAO,GAAK,OAAS,GAGrB,GAAe,EAAO,GAAK,KAAM,EAAM,EAAW,EAJnB,MAU3C,SAAS,GAAe,EAAO,EAAM,EAAY,CAC7C,IAAK,IAAI,EAAM,EAAG,EAAS,EAAM,OAAQ,EAAM,EAAQ,IAAO,CAC1D,GAAI,EAAM,IAAQ,EAAM,GAAK,aACzB,OAAO,GAAe,EAAM,GAAK,MAAO,EAAM,EAAW,IAClD,EAAM,KAAS,GAAQ,EAAM,KAAS,EAE9C,MADA,GAAM,GAAO,EACN,IAKlB,SAAS,GAAsB,EAAM,EAAM,EAAQ,EAAM,EAAgB,CACrE,IAAK,IAAI,EAAY,EAAG,EAAS,EAAK,OAAQ,EAAY,EAAQ,IAAa,CAC3E,IAAI,EAAO,EAAK,GAEZ,MAAC,GAAQ,aAAgB,GAI7B,IAAI,EAAK,eAAiB,GAAa,CAAC,EACpC,GAAsB,EAAK,MAAO,EAAM,EAAQ,EAAM,EAAe,MAErE,IAAK,IAAI,EAAM,EAAG,EAAM,EAAK,OAAQ,IACjC,GAAI,EAAK,KAAS,EAAM,CACpB,EAAK,GAAa,EAAK,GAAG,EAAI,CAC9B,GAAgB,EAAQ,EAAM,EAAM,EAAK,GAAW,CACpD,SAOpB,SAAS,GAAY,EAAM,EAAO,CACzB,KAGL,KAAI,EAAS,EAAK,OACd,EACA,EAEJ,IAAK,EAAM,EAAG,EAAM,EAAQ,IAGxB,GAFA,EAAW,EAAK,GAEZ,EAAS,KAAO,EAAS,KAAO,EAAM,IAEtC,OADA,EAAK,OAAO,EAAK,EAAE,CACZ,GAKnB,SAAS,GAAqB,EAAM,EAAO,CAMvC,OALI,EACO,GAAQ,EAAM,SAAS,EAAM,CAChC,OAAQ,EAAK,KAAO,EAAK,KAAO,EAAM,KAAS,EAAK,EAAM,WAAa,EAAM,IAAM,EAAM,KAAO,EAAM,YACxG,CAEC,GAGX,SAAS,GAAa,EAAM,EAAO,CAM/B,OALI,EACO,GAAQ,EAAM,SAAS,EAAM,CAChC,OAAO,EAAK,KAAO,EAAM,KAC3B,CAEC,GAGX,SAAS,GAAQ,EAAM,EAAU,CAC7B,IAAI,EAAK,EACJ,KAIL,KAAK,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAC9C,GAAI,EAAS,EAAK,GAAK,CACnB,OAAO,EAIf,MAAO,IAGX,SAAS,GAAmB,EAAQ,EAAM,CACtC,GAAI,GAAU,CAAC,EAAc,EAAO,CAAE,CAClC,IAAI,EAAa,EAAO,GACpB,EACA,EAAc,EAAW,CACb,EAAW,MAAQ,EAAW,OAAS,EAEvC,EAAO,IAAS,EAOhC,OAJI,EAAW,EAAU,CACd,EAGJ,EAEX,OAAO,EAGX,SAAS,GAA8B,EAAY,EAAO,CACtD,IAAI,EACA,EACA,EAAS,EAAE,CAEf,IAAK,IAAI,KAAS,EACV,IAAU,YACV,EAAO,GAAS,EAAW,IAInC,GAAI,EAAW,QAEX,IADA,EAAO,QAAU,EAAE,CACd,EAAM,EAAG,EAAS,EAAW,QAAQ,OAAQ,EAAM,EAAQ,IAC5D,EAAO,QAAQ,GAAO,GAA8B,EAAW,QAAQ,GAAM,EAAM,MAGvF,EAAO,MAAQ,GAAmB,EAAM,OAAQ,EAAO,MAAM,CAEjE,OAAO,EAGX,SAAS,EAAwB,EAAa,EAAO,CACjD,IAAI,EACA,EACA,EAAS,EAAE,CACX,EACA,EAEJ,IAAK,EAAM,EAAG,EAAS,EAAY,OAAQ,EAAM,EAAQ,IAAQ,CAK7D,IAAK,IAAI,IAJT,GAAS,EAAE,CAEX,EAAa,EAAY,GAEP,EACd,EAAO,GAAS,EAAW,GAG/B,EAAO,MAAQ,GAAmB,EAAM,OAAQ,EAAO,MAAM,CAEzD,EAAO,YAAc,EAAQ,EAAO,WAAW,GAC/C,EAAO,WAAa,EAAwB,EAAO,WAAY,EAAM,EAEzE,EAAO,KAAK,EAAO,CAEvB,OAAO,EAGX,SAAS,GAA4B,EAAM,EAAS,EAAS,CACzD,IAAI,EAA0B,SAAS,EAAS,EAAQ,CACpD,IAAM,EAAc,EAAO,OAAS,OAAO,KAAK,EAAO,MAAM,CAAC,OAAS,EAAI,EAAO,MAAQ,GACpF,EAAM,EAAE,CACV,EAAK,EAET,IAAK,EAAM,EAAG,EAAS,EAAQ,OAAQ,EAAM,EAAQ,IAAO,CACxD,IAAM,EAAO,EAAQ,GACrB,GAAI,GAAQ,EAAK,MAAQ,EAAW,CAChC,IAAM,EAAM,OAAO,EAAK,GAAS,CACjC,EAAI,GAAO,GAInB,OAAO,GAGX,IAAI,EAAU,EAAE,CACZ,EAAK,EAAQ,EAAQ,EAAc,EAEvC,GAAI,CAAC,EAAQ,EAAQ,CACjB,OAAO,EAGX,IAAK,EAAM,EAAG,EAAS,EAAQ,OAAQ,EAAM,EAAQ,IACjD,EAAS,EAAQ,GACb,IACA,EAAe,IAAI,EAAM,EAAK,CAAC,OAAO,EAAO,CAAC,SAAS,CACvD,EAAmB,EAAwB,EAAc,EAAO,CAE5D,IACA,EAAU,EAAO,GAAM,EAAS,EAAiB,GAK7D,OAAO,EAGX,IAAI,EAAa,EAAW,OAAO,CAC/B,KAAM,SAAS,EAAS,CACpB,IAAI,EAAO,KAAa,EA2CxB,GAzCI,IACA,EAAO,EAAQ,MAGnB,EAAU,EAAK,QAAU,EAAO,EAAE,CAAE,EAAK,QAAS,EAAQ,CAE1D,EAAK,KAAO,EAAE,CACd,EAAK,UAAY,EAAE,CACnB,EAAK,MAAQ,EAAE,CACf,EAAK,cAAgB,EAAE,CACvB,EAAK,QAAU,EAAE,CACjB,EAAK,MAAQ,EAAE,CACf,EAAK,eAAiB,EACtB,EAAK,WAAa,EAAE,CACpB,EAAK,UAAY,EAAQ,SACzB,EAAK,MAAQ,EAAQ,OAAS,EAAQ,SAAW,EAAI,GACrD,EAAK,MAAQ,EAAc,EAAQ,KAAK,CACxC,EAAK,YAAc,GAAW,EAAQ,KAAK,CAC3C,EAAK,QAAU,EAAgB,EAAQ,OAAO,CAC9C,EAAK,OAAS,EAAe,EAAQ,MAAM,CAC3C,EAAK,WAAa,EAAQ,UAC1B,EAAK,OAAS,EAAQ,MACtB,EAAK,aAAe,EAAQ,YAExB,EAAK,eACL,EAAK,aAAe,EAAE,EAE1B,EAAK,+BAAiC,GAEtC,EAAW,GAAG,KAAK,KAAK,EAAK,CAE7B,EAAK,UAAY,GAAU,OAAO,EAAS,EAAM,EAAK,CAElD,EAAW,EAAK,UAAU,KAAK,EAC/B,EAAK,UAAU,KAAK,CAChB,WAAY,EAAK,YAAY,KAAK,EAAK,CACvC,WAAY,EAAK,YAAY,KAAK,EAAK,CACvC,YAAa,EAAK,aAAa,KAAK,EAAK,CAC5C,CAAC,CAGF,EAAQ,gBAAkB,KAC1B,GAAI,OAAO,EAAQ,gBAAkB,SAAU,CAC3C,IAAI,EAAM,EAAQ,eAElB,EAAK,SAAW,CACZ,QAAS,UAAW,CAChB,OAAO,KAAK,MAAM,aAAa,QAAQ,EAAI,CAAC,EAEhD,QAAS,SAAS,EAAM,CACpB,aAAa,QAAQ,EAAK,EAAU,EAAK,OAAO,UAAU,EAAK,CAAC,CAAC,EAExE,MAED,EAAK,SAAW,EAAQ,eAIhC,EAAK,OAAS,IAAI,EAAM,KAAK,QAAQ,EAAQ,OAAO,MAAQ,QAAS,EAAQ,OAAO,CAE5E,EAAK,OAAO,MAEpB,EAAK,0BAA0B,CAE/B,EAAK,MAAQ,EAAK,SAAS,EAAK,MAAM,CACtC,EAAK,QAAU,GAEf,EAAK,KAAK,CAAC,OAAQ,EAAO,EAAQ,EAAc,GAAM,EAAY,EAAS,CAAE,EAAQ,EAGzF,QAAS,CACL,KAAM,KACN,OAAQ,CACL,UAAW,EACb,CACD,eAAgB,KAChB,cAAe,GACf,aAAc,GACd,gBAAiB,GACjB,eAAgB,GAChB,iBAAkB,GAClB,MAAO,GACP,YAAa,GAChB,CAED,MAAO,UAAW,CACd,OAAO,MAGX,OAAQ,SAAS,EAAO,CAYhB,OAXA,IAAU,EAWH,KAAK,QAVR,KAAK,SAAW,IAChB,KAAK,QAAU,EAEX,GACO,KAAK,MAAM,CAInB,EAAE,UAAU,CAAC,SAAS,CAAC,SAAS,EAM/C,YAAa,SAAS,EAAO,CASzB,OARI,KAAK,QAAQ,gBAAkB,KACxB,KAGP,IAAU,EAIP,KAAK,SAAS,SAAS,EAAI,EAAE,CAHzB,KAAK,SAAS,QAAQ,EAAM,EAM3C,WAAY,UAAW,CAGnB,OAFY,KAAK,OAAO,EAAI,EAAE,EAEjB,QAGjB,iBAAkB,UAAW,CACzB,IAAI,EAAQ,KAAK,OAAO,EAAI,EAAE,CAE9B,OAAO,KAAK,QAAQ,gBAAkB,EAAM,QAGhD,oBAAqB,UAAW,CAC5B,OAAO,KAAK,kBAAkB,EAAI,KAAK,cAG3C,cAAe,UAAW,CACtB,IAAI,EAAQ,KAAK,QAAU,EAAE,CAE7B,OAAO,KAAK,cAAgB,EAAM,QAGtC,YAAa,SAAS,EAAQ,CAC1B,KAAK,MAAM,EAAQ,aAAa,EAGpC,YAAa,SAAS,EAAQ,CAC1B,KAAK,MAAM,EAAQ,aAAa,EAGpC,aAAc,SAAS,EAAQ,CAC3B,KAAK,MAAM,EAAQ,cAAc,EAGrC,MAAO,SAAS,EAAQ,EAAW,CAC/B,IAAI,EAAO,KAAK,UAAU,EAAO,CAEjC,AACI,IAAO,EAGX,KAAK,GAAW,EAAK,EAGzB,UAAW,SAAS,EAAM,EAAM,CAC5B,GAAI,EAAM,CACN,GAAI,KAAK,kBAAkB,CACvB,OAAO,EAAc,EAAK,CAG9B,GAAI,CAAC,EACD,IAAK,IAAI,EAAM,EAAG,EAAM,EAAK,OAAQ,IACjC,EAAK,GAAG,EAAI,CAKxB,OAAO,GAGX,OAAQ,EAER,IAAK,SAAS,EAAI,CACd,IAAI,EAAK,EAAQ,EAAO,KAAK,UAAU,KAAK,MAAO,KAAK,QAAQ,UAAU,CAE1E,IAAK,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAC9C,GAAI,EAAK,GAAK,IAAM,EAChB,OAAO,EAAK,IAKxB,SAAU,SAAS,EAAI,CACnB,OAAO,KAAK,UAAU,EAAI,KAAK,MAAM,EAGzC,UAAW,SAAS,EAAI,EAAW,CAC/B,IAAI,EAAK,EAAQ,EAAO,KAAK,UAAU,EAAW,KAAK,QAAQ,UAAU,CAEpE,KAIL,KAAK,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAC9C,GAAI,EAAK,GAAK,KAAO,EACjB,OAAO,EAAK,KAKxB,QAAS,SAAS,EAAO,CACrB,OAAO,GAAa,KAAK,MAAO,EAAM,EAG1C,GAAI,SAAS,EAAO,CAChB,OAAO,KAAK,MAAM,GAAG,EAAM,EAG/B,KAAM,SAAS,EAAO,CAClB,IAAI,EAAO,KACX,GAAI,IAAU,EACV,EAAK,0BAA0B,CAC/B,EAAK,MAAQ,KAAK,SAAS,EAAM,CAEjC,EAAK,cAAgB,EAAM,MAAM,EAAE,CAEnC,EAAK,YAAY,CAEjB,EAAK,QAAU,EAAE,CACjB,EAAK,QAAQ,QAAQ,CACrB,EAAK,UAAU,EAAK,MAAM,CAE1B,EAAK,OAAS,EAAK,MAAM,OACzB,EAAK,eAAiB,EAAK,OAE3B,EAAK,SAAS,EAAK,MAAM,KACtB,CACH,GAAI,EAAK,MACL,IAAK,IAAI,EAAM,EAAG,EAAM,EAAK,MAAM,OAAQ,IACvC,EAAK,MAAM,GAAG,EAAI,CAI1B,OAAO,EAAK,QAIpB,KAAM,SAAS,EAAO,CAClB,GAAI,IAAU,EACV,OAAO,KAAK,MAEZ,KAAK,MAAQ,KAAK,aAAa,EAAM,EAI7C,aAAc,SAAS,EAAM,CACzB,IAAI,EAAO,KACX,GAAsB,EAAM,EAAK,MAAO,EAAK,QAAS,EAAK,OAAO,OAAS,EAAkB,EAAK,kBAAkB,CAAC,CAErH,IAAI,EAAO,IAAI,EAAoB,EAAM,EAAK,OAAO,MAAM,CAE3D,MADA,GAAK,OAAS,UAAW,CAAE,OAAO,EAAK,QAAQ,EACxC,GAGX,SAAU,UAAW,CAMb,OALS,KAAK,OAAO,EAAI,EAAE,EAEpB,OACA,EAAc,KAAK,MAAM,CAEzB,KAAK,OAIpB,IAAK,SAAS,EAAO,CACjB,OAAO,KAAK,OAAO,KAAK,MAAM,OAAQ,EAAM,EAGhD,gBAAiB,SAAS,EAAO,CAS7B,OARI,KAAK,OAAO,MACL,IAAI,KAAK,OAAO,MAAM,EAAM,CAGnC,aAAiB,EACV,EAGJ,IAAI,EAAiB,EAAM,EAGtC,OAAQ,SAAS,EAAO,EAAO,CAkB3B,OAjBK,IACD,EAAQ,EACR,EAAQ,GAGN,aAAiB,IACnB,EAAQ,KAAK,gBAAgB,EAAM,EAGnC,KAAK,kBAAkB,CACvB,KAAK,MAAM,OAAO,EAAO,EAAG,KAAK,kBAAkB,EAAM,CAAC,CAE1D,KAAK,MAAM,OAAO,EAAO,EAAG,EAAM,CAGtC,KAAK,oBAAoB,EAAO,EAAM,CAE/B,GAGX,WAAY,SAAS,EAAO,EAAO,CAE/B,IAAI,EADO,KACU,sBAAsB,CAEtC,IACD,EAAQ,EACR,EAAQ,GAGP,EAAQ,EAAM,GACf,EAAQ,CAAC,EAAM,EAGnB,IAAI,EAAS,EAAE,CACX,EAAW,KAAK,QAAQ,SAC5B,KAAK,QAAQ,SAAW,GAExB,GAAI,CACA,IAAK,IAAI,EAAM,EAAG,EAAM,EAAM,OAAQ,IAAQ,CAC1C,IAAI,EAAO,EAAM,GAEb,EAAS,KAAK,OAAO,EAAO,EAAK,CAErC,EAAO,KAAK,EAAO,CAEnB,IAAI,EAAW,EAAO,QAAQ,CAE1B,KAAK,kBAAkB,GACvB,EAAW,KAAK,kBAAkB,EAAS,EAG/C,KAAK,cAAc,KAAK,EAAS,CAE7B,GAAa,EAAU,QACvB,EAAE,EAAU,CAAC,MAAM,CAAC,GAAG,aAAa,KAAK,EAAS,CAGtD,YAEE,CACN,KAAK,QAAQ,SAAW,EAGxB,EAAO,QACP,KAAK,QAAQ,OAAQ,CACjB,KAAM,SACN,MAAO,EACV,CAAC,EAIV,WAAY,SAAS,EAAO,CACxB,KAAK,WAAW,KAAK,MAAM,OAAQ,EAAM,EAG7C,WAAY,SAAS,EAAO,CACnB,EAAQ,EAAM,GACf,EAAQ,CAAC,EAAM,EAKnB,IAAK,IAFD,EAAS,EAAE,CAEN,EAAM,EAAG,EAAM,EAAM,OAAQ,IAAQ,CAC1C,IAAI,EAAO,EAAM,GACb,EAAQ,KAAK,gBAAgB,EAAK,CAElC,EAAS,KAAK,IAAI,EAAM,GAAG,CAE3B,GACA,EAAO,KAAK,EAAO,CAEnB,EAAO,OAAO,EAAK,CAEnB,EAAO,QAAQ,EAAO,CAEtB,KAAK,wBAAwB,EAAQ,EAAK,EAE1C,KAAK,WAAW,EAAK,CAIzB,EAAO,QACP,KAAK,QAAQ,OAAQ,CACjB,KAAM,SACN,MAAO,EACV,CAAC,EAIV,YAAa,SAAS,EAAO,CACzB,IAAI,EAAS,KAAK,aAAa,EAAM,CAEjC,EAAO,QACP,KAAK,QAAQ,OAAQ,CACjB,KAAM,UACN,MAAO,EACV,CAAC,EAIV,aAAc,SAAS,EAAe,EAAgB,CAC7C,EAAQ,EAAc,GACvB,EAAgB,CAAC,EAAc,EAGnC,IAAI,EAA8B,IAAmB,OAA+B,GAAjB,EAE/D,EAAY,EAAE,CACd,EAAW,KAAK,QAAQ,SAC5B,KAAK,QAAQ,SAAW,GACxB,GAAI,CACA,IAAK,IAAI,EAAM,EAAG,EAAM,EAAc,OAAQ,IAAQ,CAClD,IAAI,EAAO,EAAc,GACrB,EAAQ,KAAK,gBAAgB,EAAK,CAClC,EAAQ,GACR,EAAQ,EAEZ,KAAK,UAAU,KAAK,MAAO,SAAS,EAAO,CAEnC,IAAU,EAAc,OAAS,EAIjC,EAAM,gBAAkB,IAHxB,EAAM,gBAAkB,GACxB,EAAM,UAAY,EAAM,WAAa,EAAE,EAK3C,IAAK,IAAI,EAAM,EAAG,EAAM,EAAM,OAAQ,IAAO,CACzC,IAAI,EAAO,EAAM,GAAG,EAAI,CACxB,GAAI,EAAK,KAAO,EAAM,GAAI,CAGlB,EAAM,iBACN,EAAM,UAAU,KAAK,EAAK,CAE9B,EAAU,KAAK,EAAK,CACpB,EAAM,OAAO,EAAK,EAAE,CACpB,EAAQ,GACR,SAGV,CAEE,GAAS,IACT,KAAK,wBAAwB,EAAM,CACnC,KAAK,WAAW,KAAK,UAGvB,CACN,KAAK,QAAQ,SAAW,EAG5B,OAAO,GAGX,SAAU,SAAS,EAAO,EAAO,CAC7B,IAAI,EAAS,KAAK,WAAW,EAAO,EAAM,CAEtC,EAAO,QACP,KAAK,QAAQ,OAAQ,CACjB,KAAM,SACN,MAAO,EACV,CAAC,EAIV,WAAY,SAAS,EAAO,EAAO,CAC1B,EAAQ,EAAM,GACf,EAAQ,CAAC,EAAM,EAGnB,IAAI,EAAQ,EAAE,CACV,EAAW,KAAK,QAAQ,SAC5B,KAAK,QAAQ,SAAW,GAExB,GAAI,CACA,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,OAAQ,IAAM,CACpC,IAAI,EAAO,EAAM,GAEjB,KAAK,UAAU,KAAK,MAAO,SAAS,EAAW,CAC3C,IAAK,IAAI,EAAM,EAAG,EAAM,EAAU,OAAQ,IAAO,CAC7C,IAAI,EAAW,EAAU,GAAG,EAAI,CAChC,GAAI,EAAS,MAAQ,EAAK,IAAK,CAC3B,EAAM,KAAK,EAAS,CACpB,EAAU,OAAO,GAAS,EAAM,EAAE,EAAQ,EAAO,EAAG,EAAU,OAAO,EAAK,EAAE,CAAC,GAAG,CAChF,IACA,SAGV,SAEA,CACN,KAAK,QAAQ,SAAW,EAG5B,OAAO,GAGX,OAAQ,SAAS,EAAO,CACpB,IAAI,EACA,EAAO,KACP,EAAY,EAAK,kBAAkB,CAgBvC,OAdI,GAAa,EAAM,MAAQ,CAAC,EAAM,OAAS,CAAC,EAAM,OAAO,GACzD,EAAK,iBAAiB,EAAM,CAGhC,KAAK,UAAU,EAAK,MAAO,SAAS,EAAO,CAGvC,GAFA,EAAS,GAAY,EAAO,EAAM,CAE9B,GAAU,EACV,MAAO,IAEb,CAEF,KAAK,uBAAuB,EAAM,CAE3B,GAGX,UAAW,UAAW,CAClB,OAAO,KAAK,YAGhB,QAAS,UAAW,CAChB,IAAI,EACA,EACA,EAAS,EAAE,CACX,EAAO,KAAK,UAAU,KAAK,MAAO,KAAK,QAAQ,UAAU,CAE7D,IAAK,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAC1C,EAAK,GAAK,OAAS,EAAK,GAAK,OAAO,EAAI,CAAC,EAAK,GAAK,YACnD,EAAO,KAAK,EAAK,GAAK,CAG9B,OAAO,GAGX,QAAS,UAAW,CAChB,IAAI,EACA,EACA,EAAS,EAAE,CACX,EAAO,KAAK,UAAU,KAAK,MAAO,KAAK,QAAQ,UAAU,CAE7D,IAAK,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IACzC,EAAK,GAAK,OAAS,CAAC,EAAK,GAAK,OAAO,EAAK,EAAK,GAAK,OACrD,EAAO,KAAK,EAAK,GAAK,CAG9B,OAAO,GAGX,KAAM,UAAW,CACb,IAAI,EAAO,KACP,EAAU,EAAE,CACZ,EAAU,EAAE,CACZ,EACA,EAAK,WAAa,EAAK,WAClB,OAAO,GAAQ,CAAC,EAAK,eAAe,WAAW,CAAC,CAErD,EAAY,EAAK,WAErB,IAAI,EAAU,EAAE,UAAU,CAAC,SAAS,CAAC,SAAS,CAE9C,GAAI,EAAK,QAAQ,CAAE,CAEf,GAAI,CAAC,EAAK,OAAO,MACb,OAAO,EAGX,EAAU,EAAK,SAAS,CACxB,EAAU,EAAK,SAAS,CAExB,IAAI,EAAW,EAAE,CAEb,EAAK,QAAQ,OAAS,EAAK,UAAU,OACrC,EAAW,EAAK,YAAY,EAAS,EAAS,EAAU,EAExD,EAAS,KAAK,MAAM,EAAU,EAAK,MAAM,SAAU,EAAQ,CAAC,CAC5D,EAAS,KAAK,MAAM,EAAU,EAAK,MAAM,SAAU,EAAQ,CAAC,CAC5D,EAAS,KAAK,MAAM,EAAU,EAAK,MAAM,UAAW,EAAU,CAAC,EAGnE,EAAU,EAAE,KACV,MAAM,KAAM,EAAS,CACrB,KAAK,UAAW,CACd,IAAI,EAAK,EAAQ,EAAe,EAAE,CAElC,IAAK,EAAM,EAAG,EAAS,UAAU,OAAQ,EAAM,EAAQ,IAC/C,UAAU,KACV,EAAK,QAAQ,UAAU,GAAK,CAC5B,EAAa,KAAK,GAAG,UAAU,GAAK,OAAO,EAInD,EAAK,WAAW,GAAK,CAErB,EAAK,UAAU,CAEf,EAAK,QAAQ,CAAE,OAAQ,OAAsB,eAAc,CAAC,CAE5D,EAAK,QAAQ,GAAK,CAEd,EAAK,qBAAqB,EAC1B,EAAK,MAAM,CAGf,EAAK,MAAM,CAAC,IAAI,SAAS,EAAM,CAI3B,OAHI,EAAK,eAAe,WAAW,EAC/B,OAAO,EAAK,SAET,GACT,EACJ,MAEF,EAAK,WAAW,GAAK,CAErB,EAAK,UAAU,CAEf,EAAK,QAAQ,CAAE,OAAQ,OAAQ,CAAC,CAGpC,OAAO,GAGX,SAAU,EAEV,cAAe,SAAS,EAAO,CAC3B,IAAI,EAAO,KAEP,aAAiB,EAAM,KAAK,MAC5B,EAAK,aAAa,EAAM,EAExB,EAAK,WAAa,EAAE,CACpB,EAAK,0BAA0B,CAC/B,EAAK,MAAQ,EAAK,SAAS,EAAK,cAAc,CAC1C,EAAK,QAAQ,eACb,EAAK,OAAS,EAAK,gBAGvB,EAAK,QAAU,EAAE,CACjB,EAAK,UAAU,EAAK,MAAO,EAAE,CAE7B,EAAK,kBAAkB,CAEvB,EAAK,SAAS,CAEd,EAAK,4BAA4B,CAE7B,EAAK,kBAAkB,EACvB,EAAK,MAAM,GAKvB,iBAAkB,EAElB,2BAA4B,UAAW,CACnC,IAAI,EAAO,KAEP,EAAK,QAAQ,gBAAkB,MAC/B,EAAK,UAAU,EAAK,MAAO,SAAS,EAAO,CACvC,IAAK,IAAI,EAAM,EAAG,EAAM,EAAM,OAAQ,IAAO,CACzC,IAAI,EAAO,EAAM,GAAG,EAAI,EACpB,EAAK,WAAa,UAAY,EAAK,WAAa,YAChD,EAAK,MAAQ,MAGvB,EAIV,WAAY,UAAW,CACnB,IAAI,EACA,EACA,EAAO,KAAK,UAAU,KAAK,MAAO,KAAK,QAAQ,UAAU,CAE7D,GAAI,KAAK,WAAW,OAChB,MAAO,GAGX,IAAK,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAC9C,GAAK,EAAK,GAAK,OAAS,EAAK,GAAK,OAAO,EAAK,EAAK,GAAK,MACpD,MAAO,GAIf,MAAO,IAGX,QAAS,SAAS,EAAQ,CACtB,IAAI,EAAO,KACP,EAAS,EAAO,OAChB,EAAW,EAAO,SAClB,EAAM,EACN,EAAc,EAAK,kBAAkB,CACrC,EAAW,EAAK,cAChB,EAAO,EAAO,KACd,EAIJ,GAFA,EAAK,QAAQ,EAAY,CAAY,WAAgB,OAAM,CAAC,CAExD,GAAY,CAAC,EAAc,EAAS,CAAE,CAGtC,GAFA,EAAW,EAAK,OAAO,MAAM,EAAS,CAElC,EAAK,oBAAoB,EAAS,CAClC,OAGJ,EAAW,EAAK,OAAO,KAAK,EAAS,CAEhC,EAAQ,EAAS,GAClB,EAAW,CAAC,EAAS,OAGzB,EAAW,EAAE,IAAI,EAAQ,SAAS,EAAO,CAAE,OAAO,EAAM,QAAQ,EAAK,CAOzE,IAJI,IAAS,YACT,EAAK,WAAa,EAAE,EAGnB,EAAM,EAAG,EAAS,EAAO,OAAQ,EAAM,EAAQ,IAC5C,IAAS,UAST,EAAK,wBAAwB,EAAO,GAAK,EARzC,EAAO,GAAK,OAAO,EAAS,GAAK,CAE7B,IAAS,SACT,EAAS,KAAK,EAAc,EAAK,kBAAkB,EAAO,GAAK,QAAQ,CAAC,CAAG,EAAS,GAAK,CAClF,IAAS,UAChB,EAAK,wBAAwB,EAAO,GAAM,EAAS,GAAK,GAQxE,wBAAyB,SAAS,EAAO,EAAQ,CAC7C,KAAK,2BAA2B,EAAO,SAAS,EAAO,EAAO,CAC1D,EAAM,WAAW,EAAM,GAAQ,EAAO,EACxC,EAGN,2BAA4B,SAAS,EAAO,EAAU,CAClD,KAAK,kBACD,SAAS,EAAO,CACZ,IAAI,EAAQ,GAAqB,EAAO,EAAM,CAC9C,GAAI,EAAQ,GAER,OADA,EAAS,EAAO,EAAM,CACf,IAEb,EAGV,wBAAyB,SAAS,EAAO,CACrC,KAAK,2BAA2B,EAAO,SAAS,EAAO,EAAO,CAC1D,EAAM,OAAO,EAAO,EAAE,EACxB,EAGN,UAAW,SAAS,EAAM,CAEtB,OADY,KAAK,kBAAkB,CAAsB,KAAK,OAAO,OAA/B,KAAK,OAAO,MACtC,KAAK,KAAK,OAAQ,EAAK,EAGvC,kBAAmB,SAAS,EAAU,CAClC,IAAI,EAAO,KACP,EAAU,EAAK,QACf,EAAY,EAAK,sBAAsB,CAE3C,EAAK,UAAU,EAAK,cAAe,EAAS,CAExC,EAAQ,cAAgB,EAAQ,WAChC,EAAK,EAAW,SAAS,EAAG,EAAO,CAC/B,EAAK,UAAU,EAAM,aAAc,EAAS,EAC9C,EAIX,UAAW,SAAS,EAAM,EAAU,CAC3B,GAAQ,EAAK,SACT,KAAK,kBAAkB,CACvB,GAAe,EAAM,EAAS,CAE9B,EAAS,EAAK,GAK1B,kBAAmB,SAAS,EAAO,CAC/B,IAAI,EACA,EAWJ,OAFA,KAAK,kBARU,SAAS,EAAO,CAEvB,GADA,EAAM,GAAqB,EAAO,EAAM,CACpC,EAAM,GAEN,MADA,GAAW,EAAM,GACV,IAIa,CAEzB,GAGX,aAAc,SAAS,EAAO,CAC1B,IAAI,EAAO,KACP,EAAW,KAAK,kBAAkB,EAAM,CAE5C,KAAK,UAAU,KAAK,MAAO,SAAS,EAAO,CACvC,IAAI,EAAM,GAAa,EAAO,EAAM,CAChC,GAAO,IACH,IAAa,CAAC,EAAM,OAAO,EAAI,EAAS,YACxC,EAAM,GAAK,OAAO,EAAS,CAEvB,EAAS,WAAa,WACtB,EAAM,GAAK,MAAQ,MAIvB,EAAK,eAAe,EAAM,CAE1B,EAAM,OAAO,EAAK,EAAE,CAEpB,EAAK,uBAAuB,EAAM,IAG5C,EAGN,eAAgB,EAEhB,QAAS,SAAS,EAAU,EAAM,CAC9B,IAAI,EAAO,KAEX,EAAK,QAAQ,EAAc,CAAE,KAAM,SAAU,CAAC,CAE9C,EAAK,QAAQ,EAAS,CAEtB,EAAK,UAAU,OAAO,EAAO,CACzB,QAAS,SAAS,EAAU,EAAM,CAC9B,IAAI,EAAU,EAAE,KAAK,EAAU,SAAS,EAAG,CACvC,OAAO,EAAE,MAAQ,GACnB,CAAC,GAEC,GACA,EAAQ,QAAQ,CACF,WACV,OAAQ,EAAQ,OACV,OACT,CAAC,EAGV,MAAO,SAAS,EAAU,EAAQ,EAAO,CACrC,IAAK,IAAI,EAAM,EAAG,EAAM,EAAS,OAAQ,IACrC,EAAS,GAAK,OAAO,EAAS,CAGlC,EAAK,MAAM,EAAU,EAAQ,EAAM,EAE1C,CAAE,EAAK,CAAC,EAGb,YAAa,SAAS,EAAS,EAAS,EAAW,CAC/C,IAAI,EAAO,KACP,EAAW,EAAE,CAiCjB,OA/BI,EAAK,QAAQ,QACT,EAAQ,QACR,EAAS,KAAK,EAAE,SAAS,SAAS,EAAU,CACxC,EAAS,KAAO,SAChB,EAAS,OAAS,GACpB,CAAC,CAGH,EAAQ,QACR,EAAS,KAAK,EAAE,SAAS,SAAS,EAAU,CACxC,EAAS,KAAO,SAChB,EAAS,OAAS,GACpB,CAAC,CAGH,EAAU,QACV,EAAS,KAAK,EAAE,SAAS,SAAS,EAAU,CACxC,EAAS,KAAO,UAChB,EAAS,OAAS,GACpB,CAAC,CAGP,EAAK,QAAQ,EAAU,CACnB,KAAM,CACF,QAAS,EAAK,OAAO,UAAU,EAAO,EAAQ,CAAC,CAC/C,QAAS,EAAK,OAAO,UAAU,EAAO,EAAQ,CAAC,CAC/C,UAAW,EAAK,OAAO,UAAU,EAAO,EAAU,CAAC,CACtD,CACJ,CAAC,EAGC,GAGX,SAAU,SAAS,EAAM,EAAQ,EAAM,CACnC,IAAI,EAAO,KAEX,OAAO,EAAE,SAAS,SAAS,EAAU,CACjC,EAAK,QAAQ,EAAc,CAAQ,OAAM,CAAC,CAE1C,EAAK,QAAQ,EAAS,CAEtB,EAAK,UAAU,GAAM,KAAK,EAAK,UAAW,EAAO,CAC7C,QAAS,SAAS,EAAU,CACxB,EAAS,QAAQ,CACH,WACF,SACF,OACT,CAAC,EAEN,MAAO,SAAS,EAAU,EAAQ,EAAO,CACrC,EAAS,OAAO,EAAS,CACzB,EAAK,MAAM,EAAU,EAAQ,EAAM,EAE1C,CAAE,EAAK,CAAC,EACX,CAAC,SAAS,EAGhB,MAAO,SAAS,EAAQ,EAAM,CAC1B,IAAI,EAAO,KACP,EACA,EACA,EAAW,EAAE,CACb,EAAY,EAAK,OAAO,UAAU,EAAO,EAAK,CAAC,CAEnD,GAAI,EAAK,QAAQ,MACT,EAAK,QACL,EAAS,KAAK,EAAK,SAAU,CAAE,KAAM,CAAE,OAAQ,EAAW,CAAE,CAAE,EAAO,EAAO,CAAC,MAGjF,IAAK,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAC9C,EAAS,KAAK,EAAK,SAAU,CAAE,KAAM,EAAU,GAAM,CAAE,CAAE,EAAK,GAAM,CAAE,EAAO,CAAC,CAItF,OAAO,GAGX,KAAM,SAAS,EAAM,CACjB,IAAI,EAAO,KAAM,EAAS,EAAK,QAAQ,EAAK,CACxC,EAAW,EAAE,UAAU,CAsC3B,OApCA,EAAK,cAAc,EAAQ,UAAW,CAClC,IAAI,EAAc,EAAK,QAAQ,EAAc,CAAE,KAAM,OAAQ,CAAC,CACzD,GA4BD,EAAK,iBAAiB,CAEtB,EAAS,QAAQ,EAAY,GA7B7B,EAAK,QAAQ,EAAS,CAEtB,EAAK,QAAU,EAAE,CACjB,EAAK,QAAQ,QAAQ,CACjB,EAAK,QAAQ,CACb,EAAK,UAAU,KAAK,CAChB,KAAM,EACN,QAAS,SAAS,EAAM,CACpB,EAAK,QAAU,EAAE,CACjB,EAAK,QAAQ,EAAM,EAAO,CAE1B,EAAS,SAAS,EAEtB,MAAO,UAAW,CACd,IAAI,EAAO,EAAM,KAAK,UAAU,CAEhC,EAAK,MAAM,MAAM,EAAM,EAAK,CAE5B,EAAS,OAAO,MAAM,EAAU,EAAK,EAE5C,CAAC,CACK,EAAK,QAAQ,gBAAkB,OACtC,EAAK,QAAQ,EAAK,aAAa,CAAE,EAAO,CAExC,EAAS,SAAS,IAO5B,CAEK,EAAS,SAAS,EAG7B,gBAAiB,SAAS,EAAM,CAC5B,OAAO,KAAK,OAAO,WAAW,EAAK,EAGvC,QAAS,SAAS,EAAM,CACpB,IAAI,EAAO,KACP,EAAU,EAAK,QACf,EACA,EAIJ,GAFA,EAAK,QAAQ,EAAY,CAAE,SAAU,EAAM,KAAM,OAAQ,CAAC,CAEtD,EAAK,QAAQ,CAAE,CAGf,GAFA,EAAO,EAAK,OAAO,MAAM,EAAK,CAE1B,EAAK,oBAAoB,EAAK,CAAE,CAChC,EAAK,iBAAiB,CACtB,OAGJ,EAAK,OAAS,EAAK,OAAO,MAAM,EAAK,CAEjC,EAAK,qBAAqB,GAC1B,EAAK,mBAAqB,EAAK,QAG/B,EAAK,UAAY,EAAK,SACtB,EAAK,UAAY,EAAK,OAClB,EAAK,QAAQ,UAAY,EAAK,QAAQ,SAAW,EAAK,YACtD,EAAK,UAAY,EAAK,QAAQ,WAIlC,EAAK,YAAc,EAAQ,mBAC3B,EAAK,iBAAmB,EAAK,gBAAgB,EAAK,EAGtD,EAAO,EAAK,UAAU,EAAK,CAE3B,EAAK,WAAa,EAAE,KACjB,CACH,EAAO,EAAK,UAAU,EAAK,CAE3B,EAAQ,EAAE,CACV,IAAI,EAAU,EAAE,CACZ,EAAQ,EAAK,OAAO,MACpB,EAAU,EAAQ,EAAM,QAAU,KAClC,EAEJ,IAAK,EAAM,EAAG,EAAM,KAAK,WAAW,OAAQ,IAAO,CAC/C,IAAI,EAAK,KAAK,WAAW,GAAK,GAC9B,EAAQ,GAAM,EAGlB,IAAK,EAAM,EAAG,EAAM,EAAK,OAAQ,IAAO,CACpC,IAAI,EAAO,EAAK,GACJ,EAAK,WACJ,UACJ,EAAQ,EAAK,KACd,KAAK,iBAAiB,KAAK,gBAAgB,EAAK,CAAC,CAGrD,EAAM,KAAK,EAAK,CAIxB,EAAO,EAEP,EAAK,OAAS,EAAK,OAMvB,GAHA,EAAK,eAAiB,EAAK,OAC3B,EAAgB,EAAK,OAAS,EAAK,MAAM,QAAU,EAAK,MAAQ,EAAK,MAAM,OAEvE,EAAK,QAAQ,QAAS,CAClB,GACA,EAAK,cAAc,OAAO,EAAK,MAAO,EAAK,cAAc,OAAO,CAEpE,EAAQ,EAAK,MAAM,EAAE,CACrB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,OAAQ,IAC9B,EAAK,cAAc,KAAK,EAAM,GAAG,MAGjC,EAAM,QAAQ,EAAK,GACnB,EAAO,EAAE,EAEb,EAAK,cAAgB,EAAK,MAAM,EAAE,CAKtC,GAFA,EAAK,0BAA0B,CAE3B,EAAK,QAAQ,QAAS,CACtB,EAAK,MAAM,OAAO,EAAQ,EAAK,eAAe,CAE1C,EAAK,kBAAkB,EAAI,EAAK,MAAM,EAAK,MAAM,OAAS,GAAG,QAAU,EAAK,GAAG,QAC/E,GAAc,EAAK,MAAM,EAAK,MAAM,OAAS,GAAI,EAAK,GAAG,CACzD,EAAK,OAAO,EAGhB,EAAO,EAAK,SAAS,EAAK,CACtB,GACA,EAAK,MAAM,OAAO,EAAK,MAAO,EAAK,MAAM,OAAO,CAEpD,IAAK,IAAI,EAAI,EAAG,EAAI,EAAK,OAAQ,IAC7B,EAAK,MAAM,KAAK,EAAK,GAAG,CAE5B,EAAK,MAAM,KAAK,EAAQ,EAAK,eAAe,MAE5C,EAAK,MAAQ,EAAK,SAAS,EAAK,CAGpC,EAAK,4BAA4B,CAEjC,EAAK,YAAY,CAEjB,EAAK,UAAU,EAAK,MAAM,CAE1B,EAAK,SAAS,EAAK,MAAM,CAEzB,EAAK,iBAAiB,EAG1B,yBAA0B,UAAW,CACjC,GAAI,KAAK,OAAS,KAAK,+BACnB,IAAK,IAAI,EAAM,EAAG,EAAM,KAAK,MAAM,OAAQ,IACnC,KAAK,MAAM,GAAK,SAChB,KAAK,MAAM,GAAK,OAAS,IAMzC,WAAY,SAAS,EAAgB,CACjC,IAAI,EAAiB,KAAK,kBAAkB,CACxC,EAAQ,KAAK,OAAO,MAExB,SAAS,EAAM,EAAM,CAGjB,IAAK,IAFD,EAAQ,EAAE,CAEL,EAAM,EAAG,EAAM,EAAK,OAAQ,IAAO,CACxC,IAAI,EAAW,EAAK,GAAG,EAAI,CACvB,EAAO,EAAS,QAAQ,CAExB,GAAkB,EAAS,MAC3B,EAAK,MAAQ,EAAM,EAAS,MAAM,EAElC,EAAK,IAAM,EAAS,IAEhB,IACI,EAAS,OAAO,CAChB,EAAK,UAAY,SACV,EAAS,QAChB,EAAK,UAAY,YAI7B,EAAM,KAAK,EAAK,CAGpB,OAAO,EAGX,GAAI,KAAK,QAAQ,gBAAkB,KAAM,CAKrC,IAAK,IAJD,EAAQ,EAAM,KAAK,MAAM,CAEzB,EAAY,EAAE,CAET,EAAM,EAAG,EAAM,KAAK,WAAW,OAAQ,IAAO,CACnD,IAAI,EAAO,KAAK,WAAW,GAAK,QAAQ,CACxC,EAAK,UAAY,UACjB,EAAU,KAAK,EAAK,CAGxB,KAAK,YAAY,EAAM,OAAO,EAAU,CAAC,CAErC,IACA,KAAK,cAAgB,KAAK,OAAO,OAAS,KAAK,OAAO,OAAO,oBAAoB,EAAM,CAAG,KAAK,OAAO,oBAAoB,EAAM,IAK5I,UAAW,SAAS,EAAM,EAAM,CAC5B,IAAI,EAAO,KACP,EAAgB,IAAU,OAAsB,EAAK,OAAS,EAAtB,EACxC,EACA,EAAQ,CACE,OACN,aAAc,EAAK,QAAQ,CAC3B,UAAW,EAAK,YAAY,CAC/B,CAED,KAAK,eAAe,EACpB,EAAM,EAAQ,EAAK,OACnB,EAAM,WAAa,EACnB,EAAM,SAAW,GAEjB,EAAM,EAAQ,EAAK,UAAU,EAAM,GAAK,CAAC,OAG7C,EAAM,MAAQ,EACd,EAAM,IAAM,EACZ,EAAK,QAAQ,KAAK,EAAM,CACxB,EAAK,aAAa,CAEd,EAAK,eAAe,GACpB,AACI,EAAK,cAAc,EAAE,CAEzB,EAAK,oBAAoB,EAAM,KAAK,CACpC,EAAK,0BAA0B,GAIvC,oBAAqB,SAAS,EAAM,CAGhC,IAAK,IAFD,EAAS,EAAK,OAET,EAAI,EAAG,EAAI,EAAQ,IACxB,KAAK,YAAY,KAAK,EAAK,GAAG,EAItC,eAAgB,SAAS,EAAK,CAI1B,IAAK,IAHD,EAAS,KAAK,YAAY,OAC1B,EAEK,EAAI,EAAG,EAAI,EAAQ,IAExB,GADA,EAAQ,KAAK,YAAY,GACrB,EAAM,MAAQ,EACd,OAAO,GAKnB,YAAa,UAAW,CACpB,KAAK,QAAQ,KAAK,SAAS,EAAG,EAAG,CAC7B,OAAO,EAAE,MAAQ,EAAE,OACrB,EAGN,MAAO,SAAS,EAAK,EAAQ,EAAa,CACtC,KAAK,iBAAiB,CACtB,KAAK,QAAQ,EAAY,EAAG,CAAC,CAC7B,KAAK,QAAQ,EAAO,CAAO,MAAa,SAAqB,cAAa,CAAC,EAG/E,QAAS,SAAS,EAAM,CACpB,IAAI,EAAO,KACP,EAAU,EAAO,CACb,KAAM,EAAK,MAAM,CACjB,KAAM,EAAK,MAAM,CACjB,KAAM,EAAK,MAAM,CACjB,SAAU,EAAK,UAAU,CACzB,KAAM,EAAK,MACX,OAAQ,EAAK,QACb,MAAO,EAAK,OACZ,UAAW,EAAK,WAChB,YAAa,CAAC,CAAC,EAAK,aACpB,qBAAsB,EAAK,QAAQ,qBACtC,CAAE,EAAK,CAyCZ,OAvCK,EAAK,QAAQ,eACd,OAAO,EAAQ,KACf,OAAO,EAAQ,KACf,OAAO,EAAQ,KACf,OAAO,EAAQ,UAGd,EAAK,QAAQ,eAEP,EAAK,OAAO,OAAS,EAAQ,QACpC,EAAQ,MAAQ,EAAwB,EAAQ,MAAO,EAAK,OAAO,MAAM,EAFzE,OAAO,EAAQ,MAKd,EAAK,QAAQ,gBAEP,EAAK,OAAO,OAAS,EAAQ,SACrC,EAAQ,OAAS,GAA8B,EAAQ,OAAQ,EAAK,OAAO,MAAM,EAFhF,OAAO,EAAQ,OAKd,EAAK,QAAQ,cAEP,EAAK,OAAO,OAAS,EAAQ,OACpC,EAAQ,KAAO,EAAwB,EAAQ,KAAM,EAAK,OAAO,MAAM,EAFvE,OAAO,EAAQ,KAKd,EAAK,QAAQ,iBAEP,EAAK,OAAO,OAAS,EAAQ,YACpC,EAAQ,UAAY,EAAwB,EAAQ,UAAW,EAAK,OAAO,MAAM,EAFjF,OAAO,EAAQ,WAKf,CAAC,EAAK,QAAQ,aAAe,EAAE,EAAK,QAAQ,cAAgB,EAAK,QAAQ,kBACzE,OAAO,EAAQ,YAGd,EAAK,QAAQ,sBACd,OAAO,EAAQ,qBAGZ,GAGX,cAAe,SAAS,EAAS,EAAU,CACvC,IAAI,EAAO,KACN,EAAK,mBAKN,EAAK,SAAW,CAAE,SAAU,EAAS,KAAK,EAAK,CAAW,UAAS,EAJnE,EAAK,mBAAqB,GAC1B,EAAK,SAAW,EAChB,GAAU,GAMlB,gBAAiB,UAAW,CACxB,IAAI,EAAO,KACX,EAAK,mBAAqB,GACtB,EAAK,UACL,EAAK,cAAc,EAAK,SAAS,QAAS,EAAK,SAAS,SAAS,EAIzE,oBAAqB,SAAS,EAAU,CACpC,GAAI,KAAK,OAAO,OAAQ,CACpB,IAAI,EAAS,KAAK,OAAO,OAAO,EAAS,CACzC,GAAI,EAEA,OADA,KAAK,QAAQ,EAAO,CAAE,IAAK,KAAM,OAAQ,cAAe,YAAa,eAAwB,SAAQ,CAAC,CAC/F,GAGf,MAAO,IAGX,YAAa,SAAS,EAAM,CACxB,IAAI,EAAQ,KAAK,OAAO,MAMxB,OAJI,GAAS,EAAK,OACP,EAAE,EAAK,aAAc,GAGzB,IAGX,SAAU,SAAS,EAAM,CACrB,IAAI,EAAO,KACP,EAAQ,EAAK,OAAO,MA2BxB,MAzBA,GAAK,+BAAiC,GAElC,aAAgB,GAChB,EAAK,+BAAiC,GAClC,EAAK,YAAY,EAAK,GACtB,EAAK,KAAO,EAAK,OAAO,MACxB,EAAK,QAAQ,EAAM,EAAK,IAI5B,EAAO,IADS,EAAK,UAAU,EAAI,CAAC,EAAK,QAAQ,aAAe,EAAsB,GACjE,EAAM,EAAK,OAAO,MAAM,CAC7C,EAAK,OAAS,UAAW,CAAE,OAAO,EAAK,QAAQ,GAG/C,EAAK,kBAAkB,EACvB,GAAe,EAAM,EAAM,CAG3B,EAAK,gBAAkB,EAAK,OAAS,EAAK,iBAAiB,GAC3D,EAAE,EAAK,QAAQ,WAAa,EAAK,QAAQ,cACzC,EAAK,MAAM,OAAO,EAAQ,EAAK,eAAe,CAE9C,EAAK,eAAiB,EAAK,QAAQ,KAAK,EAAK,CAG1C,EAAK,KAAK,EAAQ,EAAK,eAAe,EAGjD,sBAAuB,SAAS,EAAQ,EAAO,CAC3C,IAAI,EAAO,KAEP,EAAQ,SAAS,EAAK,OAAQ,GAAG,CAEhC,EAAS,EAAK,OAAO,GACtB,EAAQ,SAAS,EAAK,eAAgB,GAAG,EAEzC,IAAW,MACX,GAAS,EAAM,OACR,IAAW,SAClB,GAAS,EAAM,OACR,IAAW,cAAgB,IAAW,QAAU,CAAC,EAAK,QAAQ,aACrE,EAAQ,EAAK,eACN,IAAW,SAClB,EAAQ,EAAK,eAAiB,SAAS,EAAK,OAAQ,GAAG,EAG3D,EAAK,OAAS,GAGlB,4BAA6B,UAAW,CACpC,IAAM,EAAO,KACT,EAAgB,EAAK,gBAAkB,EAAE,CACzC,EAAa,EAAE,CAEf,EAAQ,GACR,EAUJ,MARA,GAAW,KAAO,EAAK,MACvB,EAAW,OAAS,EAAK,QACzB,EAAW,MAAQ,EAAK,OACxB,EAAW,UAAY,EAAK,WAE5B,EAAc,EAAU,EAAW,CACnC,EAAQ,EAAc,KAAK,GAAK,EAAY,QAAS,YAAY,EAAE,GAAI,CAAG,GAAG,CAEtE,CAAC,GAGZ,iBAAkB,SAAS,EAAO,CACf,KAAK,WAAW,KAAK,SAAS,EAAM,CAC/C,OAAO,EAAK,MAAQ,EAAM,KAC5B,EAEE,KAAK,WAAW,KAAK,EAAM,EAInC,QAAS,SAAS,EAAG,CACjB,IAAI,EAAO,KAAM,EAAK,EAAO,EAAQ,EAAS,EAAI,EAAE,OAAS,GAE7D,GAAI,IAAW,SACX,IAAK,EAAM,EAAG,EAAS,EAAE,MAAM,OAAQ,EAAM,EAAQ,KAC7C,CAAC,EAAE,MAAM,GAAK,OAAS,CAAC,EAAE,MAAM,GAAK,OAAO,GAC5C,EAAK,iBAAiB,EAAE,MAAM,GAAK,CAK/C,GAAI,IACA,EAAQ,EAAE,OAAS,EAAE,CACrB,EAAE,cAAgB,EAAK,6BAA6B,EAAI,CAAC,EAAK,sBAE1D,EAAE,SAAW,cAAgB,EAAM,KAAK,GAAK,EAAE,YAAY,EAAE,CAC7D,IAAI,EAAO,EAAE,MAAM,GACf,EAAO,OAAO,KAAK,EAAK,YAAY,CACpC,EAAS,EAEb,IAAK,IAAM,KAAO,EACd,GAAI,EAAK,aAAgB,OAAQ,CAC7B,IAAI,EAAiB,EAAM,UAAU,EAAK,GAAK,CAE/C,GAAI,EAAgB,CAChB,IAAI,EAAc,KAAK,MAAM,EAAe,CAC5C,EAAkB,OAAO,KAAK,EAAY,CAAC,IAAK,GAAM,EAAM,IAAM,EAAE,CAEpE,EAAO,KAAK,GAAG,EAAgB,EAK3C,EAAK,eAAiB,EAI9B,GAAI,EAAK,QAAQ,WAAa,IAAW,OAAS,IAAW,UAAY,IAAW,cAAe,CAC3F,IAAW,QACX,EAAK,sBAAwB,IAGjC,IAAI,EAAU,SAAS,EAAM,CACrB,EAAK,SAAW,SAChB,EAAK,sBAAwB,GAC7B,EAAK,OAAO,SAAU,EAAQ,CAC9B,EAAK,sBAAsB,EAAQ,EAAE,MAAM,GAInD,EAAK,MAAM,SAAU,EAAQ,CAE7B,EAAK,MAAM,MAGX,EAAK,sBAAsB,EAAQ,EAAI,EAAE,MAAQ,EAAE,CAAC,CAEpD,EAAK,SAAS,EAAK,MAAO,EAAE,EAIpC,qBAAsB,SAAS,EAAM,EAAS,CAC1C,IAAqB,EAAE,CAEvB,IAAI,EAAQ,IAAI,EAAM,EAAK,CACvB,EAAa,EAAQ,UACrB,EAAS,EAAQ,OAMrB,OAJI,IACA,EAAQ,EAAM,OAAO,EAAO,EAGzB,EAAM,UAAU,EAAW,EAGtC,SAAU,SAAS,EAAM,EAAG,CACxB,IAAI,EAAO,KACP,EAAU,EAAE,CACZ,EA6CJ,GA3CI,EAAK,QAAQ,eAAiB,KAC9B,EAAQ,KAAO,EAAK,MACpB,EAAQ,KAAO,EAAK,OAAS,EAAK,UAE9B,EAAQ,OAAS,GAAa,EAAK,QAAU,GAAa,EAAK,YAAc,IAC7E,EAAQ,MAAQ,EAAK,MAAQ,GAAK,EAAK,WAGvC,EAAK,QAAQ,YACb,EAAQ,KAAO,EAAK,mBAAmB,GAI3C,EAAK,QAAQ,gBAAkB,KAC/B,EAAQ,KAAO,EAAK,OAGpB,EAAK,QAAQ,kBAAoB,KACjC,EAAQ,OAAS,EAAK,SAGtB,EAAK,QAAQ,iBAAmB,KAChC,EAAQ,MAAQ,EAAK,QAGrB,EAAK,QAAQ,mBAAqB,KAClC,EAAQ,UAAY,EAAK,YAGzB,EAAK,QAAQ,gBACb,EAAK,kBAAkB,EAAK,CAGhC,EAAQ,YAAc,EAAK,aAE3B,AAKI,EALA,EAAK,eAAe,EAAI,IAAM,EAAE,SAAW,QAAU,EAAE,SAAW,eAAiB,EAAE,SAAW,iBACvF,EAAK,cAAc,EAAM,CAC9B,UAAW,EAAK,WACnB,CAAC,CAEO,EAAK,cAAc,EAAM,EAAQ,CAG1C,EAAK,SAAW,GAAK,EAAE,SAAW,MAAO,CACzC,IAAI,EAAQ,EAAE,MAAM,GAChB,EAAa,EAAO,KAEpB,EAAK,YAAY,EAAI,CAAC,KAAK,kBAAkB,GAC7C,EAAa,EAAc,EAAW,EAOtC,CAJgB,EAAW,KAAK,SAAS,EAAM,CAC/C,OAAO,EAAK,MAAQ,EAAM,KAC5B,GAEqB,EAAM,OAAS,EAAM,KAAO,QAC/C,EAAO,KAAK,OAAO,EAAM,MAAO,EAAG,EAAK,YAAY,CAAG,EAAK,kBAAkB,EAAM,CAAG,EAAM,CAC7F,EAAO,SAIX,EAAK,QAAQ,mBAAqB,KAGlC,EAAK,iBAAmB,EAAK,qBAAqB,EAAO,iBAAmB,EAAM,EAAQ,EAG9F,EAAK,SAAS,EAAQ,EAAS,EAAE,CAEjC,EAAK,gBAAgB,EAAO,MAAO,GAAM,CAEzC,IAAS,EAAE,CAEX,EAAE,MAAQ,EAAE,OAAS,EAAK,MAE1B,EAAK,QAAQ,EAAQ,EAAE,EAG3B,SAAU,SAAS,EAAQ,EAAS,EAAG,CACnC,IAAI,EAAO,KAEX,GAAI,EAAK,eAAe,EAAI,CAAC,EAAK,kBAAkB,CAChD,GAAI,IAAM,EAAE,SAAW,QAAU,EAAE,SAAW,eAAiB,EAAE,SAAW,iBACxE,EAAK,KAAK,EAAO,KAAK,CACtB,EAAK,0BAA0B,KAC5B,CACH,EAAK,QAAU,EAAE,CACjB,IAAI,EAAQ,IAAI,EAAM,EAAO,KAAK,CAClC,EAAK,UAAU,EAAK,SAAS,EAAO,KAAK,CAAC,CAEtC,EAAQ,KAAO,EAAQ,KAAO,EAAO,KAAK,SAC1C,EAAQ,KAAO,KAAK,IAAI,EAAG,EAAO,KAAK,OAAS,EAAQ,KAAK,EAGjE,EAAK,KAAK,EAAM,MAAM,EAAQ,KAAM,EAAQ,KAAK,CAAC,SAAS,CAAC,MAIhE,EAAK,KAAK,EAAO,KAAK,EAI9B,kBAAmB,SAAS,EAAM,CAC9B,IAAK,IAAI,EAAM,EAAK,OAAS,EAAG,GAAO,EAAG,IAAO,CAC7C,IAAI,EAAQ,EAAK,GACb,EAAM,cACN,KAAK,kBAAkB,EAAM,MAAM,CAGnC,EAAM,OAAS,CAAC,EAAM,MAAM,QAAU,CAAC,EAAM,WAC7C,GAAO,MAAM,EAAM,QAAQ,CAAE,CAAC,EAAK,EAAE,CAAC,GAKlD,cAAe,SAAS,EAAM,EAAS,CAK/B,OAJA,KAAK,QAAQ,YACN,EAAM,QAAQ,EAAM,EAAS,KAAK,QAAQ,YAAY,CAGtD,EAAM,QAAQ,EAAM,EAAQ,EAI3C,YAAa,SAAS,EAAS,CAC3B,IAAI,EAAO,KA0CX,OAxCI,IAAY,IACZ,EAAK,UAAY,EAAQ,SACzB,EAAK,MAAQ,EAAQ,KACrB,EAAK,MAAQ,EAAQ,KACrB,EAAK,QAAU,EAAQ,OACvB,EAAK,OAAS,EAAQ,MACtB,EAAK,WAAa,EAAQ,UAC1B,EAAK,MAAQ,EAAK,mBAAqB,EAAQ,KAC/C,EAAK,MAAQ,EAAQ,KAEjB,EAAK,QAAU,IACf,EAAK,MAAQ,EAAK,mBAAqB,EAAK,MAAM,CAClD,EAAQ,KAAO,EAAK,MAAM,EAG1B,EAAK,QAAU,GAAa,EAAK,YAAc,IAC/C,EAAK,MAAQ,EAAK,UAClB,EAAQ,KAAO,EAAK,OAGpB,EAAK,QAAQ,UACb,EAAQ,QAAU,EAAK,QAAQ,SAG/B,EAAQ,OACR,EAAK,MAAQ,EAAQ,KAAO,EAAc,EAAQ,KAAK,CACvD,EAAK,YAAc,GAAW,EAAQ,KAAK,EAG3C,EAAQ,SACR,EAAK,QAAU,EAAQ,OAAU,EAAK,QAAQ,wBAA0B,CAAC,EAAE,cAAc,EAAQ,OAAO,CAAI,EAAE,OAAO,EAAE,CAAE,EAAgB,EAAQ,OAAO,CAAE,CAAE,uBAAwB,EAAK,QAAQ,uBAAwB,CAAC,CAAG,EAAgB,EAAQ,OAAO,EAG5P,EAAQ,QACR,EAAK,OAAS,EAAQ,MAAQ,EAAe,EAAQ,MAAM,EAE3D,EAAQ,YACR,EAAK,WAAa,EAAQ,UAAY,GAAmB,EAAQ,UAAU,GAG5E,GAGX,MAAO,SAAS,EAAS,CACrB,IAAI,EAGJ,GAFa,KAAK,QAAQ,eAAiB,KAAK,QAAQ,cAAgB,KAAK,QAAQ,iBAAmB,KAAK,QAAQ,gBAAkB,KAAK,QAAQ,mBAEpI,KAAK,QAAU,GAAa,KAAK,MAAM,SAAW,IAAM,CAAC,KAAK,WAAW,OAAS,CAC9F,GAAI,KAAK,QAAQ,QAAS,CACtB,IAAI,EAAiB,EAAQ,SAAW,KAAK,UAAU,CACnD,EAAiB,GACjB,EAAiB,KAAK,UAAU,CAChC,EAAQ,KAAO,EAAQ,SAAW,EAClC,EAAQ,SAAW,IAEnB,EAAQ,KAAO,EACf,KAAK,QAAQ,QAAU,IAG/B,OAAO,KAAK,KAAK,KAAK,YAAY,EAAQ,CAAC,CAG/C,IAAI,EAAc,KAAK,QAAQ,EAAc,CAAE,KAAM,OAAQ,CAAC,CAgB9D,OAfK,IACD,KAAK,QAAQ,EAAS,CAClB,IACA,EAAQ,YAAc,KAAK,cAE/B,EAAS,KAAK,cAAc,KAAK,MAAO,KAAK,YAAY,EAAQ,CAAC,CAElE,KAAK,gBAAgB,EAAO,MAAO,GAAK,CAExC,KAAK,iBAAmB,KAAK,qBAAqB,EAAO,iBAAmB,KAAK,MAAO,EAAQ,CAChG,KAAK,SAAS,EAAQ,EAAQ,CAC9B,KAAK,QAAQ,EAAY,CAAE,KAAM,OAAQ,CAAC,CAC1C,KAAK,QAAQ,EAAQ,CAAE,MAAO,EAAO,KAAM,OAAQ,EAAU,EAAQ,OAAS,GAAI,CAAC,EAGhF,EAAE,UAAU,CAAC,QAAQ,EAAY,CAAC,SAAS,EAGtD,sBAAuB,SAAS,EAAO,CACnC,IAAI,EAAS,GACT,EAAS,EAAM,MAAQ,EAAM,MAAM,OAAS,EAEhD,GAAI,CAAC,EAAM,aACP,MAAO,GAGX,IAAK,IAAI,EAAI,EAAG,EAAI,EAAQ,IACxB,GAAI,KAAK,aAAa,EAAM,MAAM,GAAG,KAAM,CACvC,EAAS,GACT,MAGR,OAAO,GAGX,kBAAmB,SAAS,EAAM,EAAQ,EAAS,EAAS,EAAU,CASlE,IAAK,IARD,EAAO,KACP,EAAS,EAAK,OACd,EACA,EACA,EACA,EACA,EAEK,EAAI,EAAG,EAAI,IAChB,EAAQ,EAAK,GAET,IAAQ,OAAS,EAAQ,OAHL,IAWxB,GAJK,EAAK,eAAe,EAAM,IAAI,EAC/B,EAAK,YAAY,KAAK,EAAM,CAG5B,EAAK,aAAa,EAAM,KAAM,CAC9B,GAAI,EAAK,qBAAqB,CAAE,CAC7B,GAAI,EAAK,iBAAiB,EAAO,EAAS,EAAS,EAAS,CAAE,CACzD,EAAK,oBAAsB,GAC3B,OAIL,GAFA,GAAc,EAAM,eAAiB,EAAM,WAAa,EACxD,EAAc,EAAQ,KAAO,EAAQ,QACjC,CAAC,EAAK,sBAAsB,EAAM,EAAI,EAAc,EAAY,CAChE,EAAQ,SAAW,EACnB,UAYP,GARI,EAAQ,gBAAkB,EAAQ,QAAU,EAAQ,MACpD,EAAQ,UACR,EAAM,cAAgB,IACf,EAAQ,iBACf,EAAQ,QACR,EAAM,cAAgB,IAGtB,EAAM,cAAgB,EAAM,OAAS,EAAM,MAAM,OACjD,EAAM,aAAe,EAAE,CAEvB,AACI,IAAU,EAAE,CAEhB,EAAQ,KAAK,EAAM,CAEnB,EAAK,kBAAkB,EAAM,MAAO,EAAM,aAAc,EAAS,EAAS,EAAS,CACnF,EAAQ,KAAK,CAET,EAAM,aAAa,QAAU,EAAQ,MAAQ,EAC7C,EAAO,KAAK,EAAM,CAElB,EAAM,cAAgB,OAEvB,CACH,EAAU,EAAE,CACZ,EAAc,EAAM,MAAM,OAE1B,IAAK,IAAI,EAAI,EAAG,EAAI,EAAa,IAAK,CAClC,GAAI,EAAQ,QAAU,EAAQ,KAAM,CAChC,EAAQ,UACR,SAGJ,GAAI,EAAQ,OAAS,EAAQ,KACzB,MAEJ,EAAQ,KAAK,EAAM,MAAM,GAAG,CAC5B,EAAQ,QAGR,EAAQ,QAAU,EAAQ,MAAQ,GAClC,EAAM,aAAe,EACrB,EAAO,KAAK,EAAM,EAElB,EAAM,cAAgB,QAG3B,CACH,GAAI,EAAQ,QAAU,EAAQ,KAAM,CAChC,EAAQ,UACR,SAEJ,EAAO,KAAK,EAAM,CAClB,EAAQ,UAKpB,4BAA6B,SAAS,EAAO,EAAK,EAAqB,CACnE,IAAI,EAAO,KACP,EAAS,EACT,EACA,EAAe,OAAO,GAAQ,SAC9B,EAAS,EAAe,EAAM,EAAM,cACpC,EAEJ,GAAI,CAAC,EAAM,aACP,OAAO,EAGX,IAAK,IAAI,EAAI,EAAG,EAAI,IAChB,EAAW,EAAM,MAAM,GAElB,GAHmB,IA6BxB,GAtBI,EAAS,cAAgB,EAAK,aAAa,EAAM,MACjD,EAAO,EAAK,4BAA4B,EAAU,EAAQ,GAAK,CAC/D,GAAU,EAEN,IACA,GAAU,IAEP,CAAC,EAAS,cAAgB,EAAK,aAAa,EAAS,OAC5D,EAAO,EAAS,MAAQ,EAAS,MAAM,OAAS,EAChD,GAAU,EACN,IACA,GAAU,IAId,IACA,GAAU,EACN,GACA,KAIJ,GAAgB,EAAS,EACzB,OAAO,EAIf,OAAO,GAGX,iBAAkB,SAAS,EAAO,EAAS,EAAS,EAAU,CAC1D,IAAI,EAAO,KACP,EACA,EACA,EACA,EAAiB,EAAM,aAAe,EAAM,cAAgB,EAAM,UAClE,EAAO,EAAQ,KACf,EAAU,EAAQ,QAClB,EAAW,EAAK,MAAM,CACtB,EAUJ,GARI,EAAQ,iBACJ,EAAU,EAAQ,KAClB,GAAW,EAEX,KAIJ,CAAC,EAAM,OAAU,EAAM,OAAS,CAAC,EAAM,MAAM,OAE7C,OADA,EAAK,cAAc,EAAO,EAAS,EAAS,EAAU,EAAE,CACjD,GACJ,CAIH,GAHA,EAA6B,KAAK,4BAA4B,EAAO,EAAQ,KAAO,EAAQ,CAC5F,EAAiB,KAAK,IAAI,EAAQ,MAAQ,EAAU,GAA6B,EAAE,CAE/E,GAAkB,EAClB,MAAO,GAGX,IAAI,EAAgB,KAAK,IAAI,EAAiB,EAAM,EAAiB,EAAE,CAIvE,GAHA,EAAY,EAAM,MAAM,GACxB,EAAW,EAAM,MAAM,GAEnB,EAAU,WAEV,OADA,EAAK,cAAc,EAAO,EAAS,EAAS,EAAU,EAAgB,EAAK,OAAO,EAAiB,GAAY,EAAS,CAAC,CAClH,GAGX,GAAI,EAAS,WAET,OADA,EAAK,cAAc,EAAO,EAAS,EAAS,EAAU,EAAK,IAAI,EAAK,OAAO,EAAiB,GAAY,EAAS,CAAE,EAAE,CAAG,EAAU,EAAK,OAAO,EAAiB,GAAY,EAAS,CAAC,CAC9K,GAGX,GAAI,CAAC,EAAU,YAAc,CAAC,EAAS,YAAc,GAAmB,EAAM,MAAO,EAAgB,EAAc,CAE/G,OADA,EAAK,cAAc,EAAO,EAAS,EAAS,EAAU,EAAgB,EAAc,CAC7E,KAKnB,cAAe,SAAS,EAAO,EAAS,EAAS,EAAU,EAAgB,EAAM,CAC7E,IAAI,EAAO,KACP,EACA,EACA,EACA,EAEJ,AACI,EAAM,QAAQ,EAAE,CAGpB,EAAO,EAAK,MAAM,CAClB,EAAS,KAAK,oBAAoB,EAAO,EAAQ,CACjD,EAAO,CACH,KAAM,GAAQ,EACd,SAAU,EACV,KAAM,EACA,OACE,SACR,UAAW,EAAK,WAChB,KAAM,EAAK,MACd,CACD,EAAY,EAAK,cAAc,EAAM,CAEjC,GAAa,EAAU,SACvB,EAAK,MAAQ,GAGjB,EAAK,YAAc,GACnB,EAAK,kBAAkB,EAAM,UAAW,CAC/B,EAAK,QAAQ,EAAc,CACxB,KAAM,OACT,CAAC,CAUF,EAAK,iBAAiB,CATtB,EAAK,UAAU,KAAK,CACV,OACN,QAAS,EAAK,0BAA0B,EAAO,EAAQ,KAAM,EAAK,MAAM,CAAE,EAAU,EAAe,CACnG,MAAO,UAAW,CACd,IAAI,EAAO,EAAM,KAAK,UAAU,CAChC,EAAK,MAAM,MAAM,EAAM,EAAK,EAEnC,CAAC,EAIP,IAAI,EAGX,kBAAmB,SAAS,EAAS,EAAU,EAAO,CAClD,IAAI,EAAO,KAEX,aAAa,EAAK,SAAS,CAC3B,EAAK,SAAW,WAAW,UAAW,CAClC,EAAK,cAAc,EAAS,EAAS,EACtC,EAAM,EAGb,0BAA2B,SAAS,EAAO,EAAM,EAAM,EAAU,EAAgB,CAC7E,IAAI,EAAO,KACP,EAAY,EAAK,YAAY,CACjC,EAAW,EAAW,EAAS,CAAG,EAAW,EAC7C,IAAI,EAAa,EAAK,QAAQ,QAAU,EAAK,QAAQ,OAAO,MAAQ,EAAK,QAAQ,OAAO,MAAQ,QAEhG,OAAO,SAAS,EAAM,CAClB,IAAI,EACA,EAAQ,EAAM,OAAO,EAAK,QAAQ,OAAO,MAAM,CAC/C,EAEJ,EAAK,iBAAiB,CAEtB,EAAK,QAAQ,EAAY,CACrB,SAAU,EACV,KAAM,OACT,CAAC,CAEF,AAGI,EAHA,EAAW,EAAW,CACT,EAAW,EAAK,CAEhB,EAAK,GAGtB,EAAO,EAAK,OAAO,MAAM,EAAK,CAE1B,EAAM,cACN,EAAO,EAAK,OAAO,OAAO,EAAK,CAC/B,EAAM,cAAgB,IAEtB,EAAO,EAAK,OAAO,KAAK,EAAK,CAC7B,EAAO,EAAK,IAAI,SAAS,EAAM,CAC3B,OAAO,IAAI,EAAM,EAAK,EACxB,EAGN,EAAM,MAAM,gBAAkB,GAC9B,IAAK,IAAI,EAAI,EAAG,EAAI,EAAY,IACxB,GAAK,GAAkB,EAAK,EAAiB,EAC7C,EAAM,MAAM,OAAO,EAAG,EAAG,EAAK,EAAI,GAAgB,CAE7C,EAAM,MAAM,IACb,EAAM,MAAM,OAAO,EAAG,EAAG,CAAE,WAAY,GAAM,CAAC,CAI1D,EAAM,MAAM,gBAAkB,GAE9B,EAAK,yBAAyB,EAAM,CACpC,EAAK,oBAAsB,GAE3B,AAEI,EAAM,cADN,EAAK,oBAAsB,EACR,IAGvB,EAAK,MAAM,EAAM,EAAM,EAAU,cAAc,EAE3C,GAAa,EAAK,0BAA4B,CAAC,EAAK,0BACpD,EAAK,QAAQ,EAAQ,EAAE,CAAC,GAKpC,cAAe,SAAS,EAAO,CAC3B,IAAI,EAAsB,KAAK,OAAO,IAAI,SAAS,EAAG,CAClD,OAAO,EAAE,OACX,CAAC,QAAQ,EAAM,MAAM,CAEvB,OAAO,KAAK,OAAO,MAAM,EAAsB,EAAG,KAAK,OAAO,OAAO,EAGzE,oBAAqB,SAAS,EAAO,EAAS,CAC1C,IAAI,EAAS,CACT,MAAO,MACP,QAAS,EAAE,CACd,CAaD,GAXI,KAAK,QAAQ,EACb,EAAO,QAAQ,KAAK,KAAK,QAAQ,CAAC,CAGtC,EAAS,EAAO,GAAM,EAAE,CAAE,EAAO,CACjC,EAAO,QAAQ,KAAK,CAChB,MAAO,EAAM,MACb,SAAU,KACV,MAAO,EAAM,MAChB,CAAC,CAEE,EACA,IAAK,IAAI,EAAI,EAAG,EAAI,EAAQ,OAAQ,IAChC,EAAO,QAAQ,KAAK,CAChB,MAAO,EAAQ,GAAG,MAClB,SAAU,KACV,MAAO,EAAQ,GAAG,MACrB,CAAC,CAIV,OAAO,GAGX,yBAA0B,SAAS,EAAO,CAWtC,IAAK,IAVD,EAAO,KACP,EAAS,EAAK,QACd,EAAe,EAAO,OACtB,EACA,EACA,EACA,EACA,EACA,EAEK,EAAI,EAAG,EAAI,EAAc,IAAK,CACnC,EAAQ,EAAO,GACf,EAAa,EAAM,KAAK,OACxB,EAAU,EAAE,CACZ,EAAO,KAEP,IAAK,IAAI,EAAI,EAAG,EAAI,IAChB,EAAe,EAAM,KAAK,GAC1B,EAAQ,KAAK,EAAE,CAEV,IAAa,MAAQ,EAAM,KAAS,EAAa,cAAgB,EAAa,MAAM,QAAU,EAAK,kBAAkB,EAAc,EAAO,EAAQ,GAJ3H,IAO5B,EAAQ,KAAK,CAGjB,GAAI,EAAQ,OAAQ,CAGhB,IAFA,EAAO,EAAO,GAAG,aAEV,EAAQ,OAAS,GACpB,EAAU,EAAQ,OAAO,EAAG,EAAE,CAAC,GAC/B,EAAO,EAAK,GAAS,MAEzB,EAAK,EAAQ,IAAM,EAAK,YAAY,EAAM,CAC1C,SAKZ,kBAAmB,SAAS,EAAO,EAAU,EAAS,CAClD,IAAI,EAAO,KACP,EAAS,EAAM,MAAM,OACrB,EAEJ,GAAI,EAAM,cAAgB,EACtB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAQ,IAAK,CAG7B,GAFA,EAAkB,EAAM,MAAM,GAC9B,EAAQ,KAAK,EAAE,CACX,EAAgB,MAAQ,EAAS,KAC5B,EAAgB,cACjB,EAAgB,MAAM,QACtB,EAAK,kBAAkB,EAAiB,EAAU,EAAQ,CAC9D,MAAO,GAEX,EAAQ,KAAK,GAMzB,YAAa,SAAS,EAAO,CACzB,IAAI,EAAO,KASX,MARA,GAAQ,OAAO,EAAM,QAAU,WAAa,EAAM,QAAQ,CAAG,EAEzD,EAAM,OAAS,EAAM,MAAM,SAC3B,EAAM,MAAQ,EAAM,MAAM,IAAI,SAAS,EAAM,CACzC,OAAO,EAAK,YAAY,EAAK,EAC/B,EAGC,GAGX,gBAAiB,SAAS,EAAa,EAAiB,CACpD,IAAI,EAAO,KAEN,EAAK,QAAQ,kBACV,IAAgB,EAET,IACP,EAAK,OAAS,EAAK,MAAM,QAFzB,EAAK,OAAS,IAO1B,MAAO,SAAS,EAAU,CACtB,IAAI,EAAO,KAOX,OAAO,KAAK,QAAQ,CAAC,KANZ,SAAS,EAAa,CACvB,IAAgB,IAAQ,EAAW,EAAS,EAC5C,EAAS,KAAK,EAAK,EAIE,EAGjC,OAAQ,SAAS,EAAS,CACtB,IAAI,EAAO,KAEX,OAAO,EAAK,MAAM,EAAO,EAAE,CAAE,CACzB,KAAM,EAAK,MAAM,CACjB,SAAU,EAAK,UAAU,CACzB,KAAM,EAAK,MAAM,CACjB,OAAQ,EAAK,QAAQ,CACrB,MAAO,EAAK,OAAO,CACnB,UAAW,EAAK,WAAW,CAC9B,CAAE,EAAQ,CAAC,EAGhB,KAAM,SAAS,EAAS,CACpB,IAAI,EAAO,KACP,EAAO,EAAK,MAAM,CAClB,EAAQ,EAAK,OAAO,CAExB,OAAqB,EAAE,CAEnB,GAAC,GAAS,GAAS,EAAO,EAAI,EAAK,YAAY,EAWnD,MAPA,GAAK,MAAQ,EAAK,mBAAqB,EAAO,EAAK,MAAM,CAEzD,GAAQ,EACR,EAAQ,KAAO,EAEf,EAAK,OAAO,EAAQ,CAEb,GAGX,KAAM,SAAS,EAAS,CACpB,IAAI,EAAO,KACP,EAAO,EAAK,MAAM,CAEtB,OAAqB,EAAE,CAEnB,GAAC,GAAQ,IAAS,GAWtB,MAPA,GAAK,MAAQ,EAAK,mBAAqB,EAAK,MAAQ,EAAK,MAAM,CAE/D,IACA,EAAQ,KAAO,EAEf,EAAK,OAAO,EAAQ,CAEb,GAGX,KAAM,SAAS,EAAK,CAChB,IAAI,EAAO,KACX,EAEA,GAAI,IAAQ,EAAW,CACnB,EAAM,EAAK,IAAI,EAAK,IAAI,EAAK,IAAI,EAAK,EAAE,CAAE,EAAK,YAAY,CAAC,CAAE,EAAE,CAChE,IAAI,EAAO,EAAK,MAAM,CAEtB,GAAI,EAAK,eAAe,CAAE,CACtB,IACA,EAAK,MAAM,EAAM,EAAM,EAAM,KAAM,OAAO,CAC1C,OAEJ,EAAK,OAAO,EAAK,sBAAsB,CAAE,KAAM,EAAK,CAAC,CAAC,CACtD,OAIJ,MAFA,GAAO,EAAK,MAAM,CAEX,IAAS,EAA+D,EAAnD,EAAK,OAAO,GAAQ,IAAM,EAAK,MAAM,EAAI,GAAG,CAAG,GAG/E,SAAU,SAAS,EAAK,CACpB,IAAI,EAAO,KAEX,GAAI,IAAQ,EAAW,CACnB,EAAK,OAAO,EAAK,sBAAsB,CAAE,SAAU,EAAK,KAAM,EAAG,CAAC,CAAC,CACnE,OAGJ,OAAO,EAAK,MAAM,EAGtB,KAAM,SAAS,EAAK,CAChB,IAAI,EAAO,KAEX,GAAI,IAAQ,EAAW,CACnB,EAAK,QAAQ,OAAO,CACpB,EAAK,OAAO,CAAE,KAAM,EAAK,CAAC,CAC1B,OAGJ,OAAO,EAAK,OAGhB,OAAQ,SAAS,EAAK,CAClB,IAAI,EAAO,KAEX,GAAI,IAAQ,EACR,OAAO,EAAK,QAGhB,EAAK,QAAQ,QAAQ,CACrB,EAAK,OAAO,CAAE,OAAQ,EAAK,KAAM,EAAG,CAAC,EAGzC,MAAO,SAAS,EAAK,CACjB,IAAI,EAAO,KACP,EAAU,CAAE,MAAO,EAAK,CAU5B,GARI,EAAK,eAED,IAAQ,IAAc,CAAC,GAAO,CAAC,EAAI,UACnC,EAAK,QAAU,EAAE,EAErB,EAAQ,KAAO,GAGf,IAAQ,EAAW,CACnB,EAAK,OAAO,EAAQ,CACpB,OAGJ,OAAO,EAAK,QAGhB,0BAA2B,SAAS,EAAa,EAAS,CACtD,IAAM,EAAO,KAAK,MAAQ,KAAK,UAAU,KAAK,MAAM,CAAG,EAAE,CAMzD,MALI,CAAC,GAAe,CAAC,EAAY,QAAU,CAAC,EAAK,OACtC,EAAE,CAGgB,GAA4B,EAAM,EAAa,GAAW,KAAK,EAIhG,cAAe,SAAS,EAAM,CAC1B,IAAI,EACA,EAAS,EAAE,CACX,EAEJ,IAAK,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAAO,CACrD,IAAI,EAAQ,EAAK,GACb,EAAM,eACN,EAAS,EAAO,OAAO,KAAK,cAAc,EAAM,MAAM,CAAC,EAG3D,EAAO,KAAK,EAAM,CAGtB,OAAO,GAGX,MAAO,UAAW,CACd,OAAO,SAAS,KAAK,QAAU,EAAG,GAAG,EAGzC,YAAa,SAAS,EAAiB,CACnC,IAAI,EAAO,KAeX,OAbK,EAAK,OAAO,OAIb,EAAK,kBAAkB,EACnB,AAGJ,EAAK,qBAAqB,EAAK,OAAO,CAF3B,EAAK,oBAOb,EAAK,sBAAsB,EAAK,QAAQ,OAAS,EAAK,QAAQ,GAAG,KAAO,EAAE,CAAE,EAAgB,CAZxF,EAAK,OAAO,EAe3B,sBAAuB,SAAS,EAAQ,EAAiB,EAAY,EAAa,CAC9E,IAAI,EAAO,KACX,IAA2B,QAC3B,IAAI,EACA,EAEJ,GAAI,EAAK,OAAO,QAAU,EAAQ,CAC9B,EAAQ,EACR,EAAS,EAAO,OAEhB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAQ,IACxB,GAAS,EAAK,WAAW,EAAO,GAAI,EAAiB,EAAY,EAAY,CAGjF,MADA,GAAK,aAAe,EACb,EAIX,MADA,GAAK,aAAe,EAAK,MAAM,OACxB,EAAK,cAGhB,WAAY,SAAS,EAAO,EAAiB,EAAY,EAAa,CAClE,IAAI,EAAO,KACP,EAAQ,EAoBZ,OAlBI,EAAM,cAAgB,EAAK,aAAa,EAAM,OAC1C,GAAmB,CAAC,EAAM,eAAiB,KAC3C,GAAS,GAGb,EAAM,GAAY,QAAQ,SAAS,EAAU,CACzC,GAAS,EAAK,WAAW,EAAU,EAAiB,EAAY,EAAY,EAC9E,EAEE,EAAK,aAAa,EAAM,OACpB,GAAmB,CAAC,EAAM,eAAiB,IAC3C,IAEJ,GAAS,EAAM,GAAc,EAAM,GAAY,OAAS,GAExD,IAGD,GAGX,gBAAiB,SAAS,EAAO,CAI7B,IAAK,IAHD,EAAQ,EACR,EAAS,EAAM,OAEV,EAAI,EAAG,EAAI,EAAQ,IACxB,GAAS,KAAK,WAAW,EAAM,GAAI,GAAK,CAG5C,OAAO,GAGX,UAAW,SAAS,EAAK,CACrB,IAAI,EAAO,KAEX,GAAI,IAAQ,EAAW,CACnB,EAAK,OAAO,CAAE,UAAW,EAAK,CAAC,CAC/B,OAGJ,OAAO,EAAK,YAGhB,WAAY,UAAW,CACnB,IAAI,EAAS,KAAK,iBAMlB,OAJI,EAAc,EAAO,GACrB,EAAS,KAAK,iBAAiB,KAAK,WAAW,CAAC,EAG7C,GAGX,iBAAkB,SAAS,EAAY,CACnC,IAAI,EAAS,EAAE,CAEf,GAAI,CAAC,EAAc,EAAW,CAAE,CAC5B,IAAI,EAAY,EAAE,CAEb,EAAQ,EAAW,GACpB,EAAa,CAAC,EAAW,EAG7B,IAAK,IAAI,EAAM,EAAG,EAAM,EAAW,OAAQ,IACvC,EAAU,EAAW,GAAK,WAAa,EACvC,EAAO,EAAW,GAAK,OAAS,EAIxC,OAAO,GAGX,sBAAuB,SAAS,EAAS,CACrC,OAAO,GAGX,kBAAmB,SAAS,EAAO,CAC/B,IAAI,EAAS,KAAK,OAAO,CACrB,EACA,EACA,EACA,EAEJ,IAAK,EAAM,EAAO,OAAS,EAAG,EAAS,EAAG,GAAO,EAAQ,IACrD,EAAQ,EAAO,GACf,EAAS,CACL,MAAO,EAAM,IAAM,EAAM,IAAI,EAAM,MAAM,CAAG,EAAM,EAAM,OACxD,MAAO,EAAM,MACb,MAAO,EAAS,CAAC,EAAO,CAAG,CAAC,EAAM,CAClC,aAAc,CAAC,CAAC,EAChB,WAAY,KAAK,iBAAiB,EAAM,WAAW,CACtD,CAGL,OAAO,GAGX,WAAY,UAAW,CACnB,IAAI,EAAO,KACP,EAAW,EAAK,UAAU,EAAI,EAAK,OAAO,CAC1C,EAAQ,EAAK,eAAe,CAAG,EAAK,YAAY,GAAK,CAAG,EAAK,OAAO,CAExE,OAAO,EAAK,MAAM,GAAS,GAAK,EAAS,EAG7C,QAAS,SAAS,EAAM,EAAM,CAC1B,IAAI,EAAO,KACP,EAAM,EAAK,IAAI,EAAO,EAAM,EAAK,OAAO,CAAC,CAM7C,MAJI,CAAC,EAAK,QAAQ,cAAgB,EAAK,MAAM,OAAS,EAC3C,GAGJ,EAAK,WAAW,EAAM,EAAI,CAAC,OAAS,GAG/C,UAAW,UAAW,CAClB,IAAI,EAAS,KAAK,QAClB,OAAO,EAAO,EAAO,OAAS,IAAM,CAAE,MAAO,EAAG,IAAK,EAAG,KAAM,EAAE,CAAE,EAGtE,aAAc,UAAW,CACrB,IAAI,EAAS,KAAK,QAClB,OAAO,EAAO,QAAU,EAAO,GAAG,KAAK,QAAU,EAAO,GAAG,KAAK,GAAG,KAGvE,yBAA0B,UAAW,CACjC,KAAK,wBAA0B,IAGnC,WAAY,UAAW,CACnB,OAAO,IAAI,MAAM,CAAC,SAAS,EAG/B,MAAO,SAAS,EAAM,EAAM,EAAU,EAAQ,CAC1C,KAAK,yBAA2B,KAAK,YAAY,CACjD,KAAK,wBAA0B,GAC/B,IAAI,EAAQ,KAAK,eAAe,CAAG,KAAK,YAAY,GAAK,CAAG,KAAK,OAAO,EAEpE,IAAW,eAAiB,IAAW,kBACvC,KAAK,0BAA0B,CAGnC,EAAO,EAAK,IAAI,GAAQ,EAAG,EAAM,CACjC,EAAW,EAAW,EAAS,CAAG,EAAW,EAE7C,IAAI,EAAO,KACP,EAAW,EAAK,IAAI,EAAK,MAAM,EAAO,EAAK,CAAE,EAAE,CAAG,EAClD,EAAO,EAAK,IAAI,EAAW,EAAM,EAAM,CACvC,EAEG,EAAK,WAAW,EAAM,EAAK,IAAI,EAAO,EAAM,EAAM,CAAE,EAAS,CAEpE,IAAK,EAAK,QAAU,IAAU,IAAM,CAAC,EAAK,oBAAqB,CAC3D,EAAK,kBAAkB,EAAM,EAAM,EAAM,EAAK,mBAAqB,EAAU,EAAK,eAAiB,EAAM,CAC7F,SACX,CAAC,CACF,EAAK,kBAAoB,KACzB,EAAK,cAAgB,KACrB,GAAU,CACV,OAGA,EAAK,eAAe,GACpB,EAAK,kBAAoB,EACzB,EAAK,cAAgB,EAErB,EAAW,EAAK,IAAI,EAAK,MAAM,EAAK,gBAAgB,EAAM,EAAK,CAAG,EAAK,CAAE,EAAE,CAAG,EAC9E,EAAO,EAAK,IAAI,EAAW,EAAM,EAAM,EAGvC,IAAS,GAAa,CAAC,EAAK,sBACvB,EAAK,eAAe,EAAI,CAAC,EAAK,kBAAkB,EAAU,EAAK,EAAK,CAAC,EAAK,aAAa,EAAU,EAAK,CACvG,EAAK,SAAS,EAAU,EAAM,UAAW,CACjC,EAAO,GAAY,EAAO,EAAK,OAAO,EAAI,CAAC,EAAK,aAAa,EAAM,EAAK,IAAI,EAAO,EAAM,EAAK,OAAO,CAAC,CAAC,CACvG,EAAK,SAAS,EAAM,EAAM,UAAW,CACjC,EAAK,MAAM,EAAM,EAAM,EAAU,EACnC,CAEF,EAAK,MAAM,EAAM,EAAM,EAAS,EAEtC,CACK,EAAW,GAClB,EAAK,SAAS,EAAM,EAAM,UAAW,CACjC,EAAK,MAAM,EAAM,EAAM,EAAU,EACnC,GAKd,WAAY,SAAS,EAAO,EAAK,EAAU,CACvC,IAAI,EAAO,KACP,EAAS,EAAK,QACd,EACA,EAAO,EAAE,CACT,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EAAU,EAAK,QACf,EAAS,EAAQ,eAAiB,EAAQ,cAAgB,EAAQ,iBAAmB,EAAQ,gBAAkB,EAAQ,iBACvH,EACA,EACA,EACA,EAAkB,CACV,KAAM,EAAM,EACZ,KAAM,EACN,QAAS,EACT,MAAO,EACP,eAAgB,GACnB,CACL,EACA,EAAe,EAAK,eAAe,CACnC,EAAa,EAAe,aAAe,QAC3C,GAAW,EAAe,WAAa,MACvC,EAEJ,IAAK,EAAU,EAAG,EAAS,EAAO,OAAQ,EAAU,EAAQ,IAAW,CAGnE,GAFA,EAAQ,EAAO,GAEX,EAAc,CACd,GAAI,EAAM,YAAc,EACpB,MAAO,EAAE,CAGb,GAAI,EAAQ,EAAM,SAAU,CACxB,EAAgB,SAAW,EAAM,UAAY,GAAgB,GAC7D,EAAe,EAAM,SACrB,SAOJ,GAJW,IAAiB,QAAe,GAAgB,EAAM,aAC7D,EAAgB,SAAW,EAAM,WAAa,GAG9C,EAAgB,QAAU,EAAgB,KAC1C,MAAO,EAAE,CAQb,IALW,IAAiB,QAAe,EAAQ,GAAK,EAAM,MAAQ,IAClE,EAAgB,QAAU,EAAM,YAGpC,EAAU,IACG,CAIT,GAHA,KAAK,kBAAkB,EAAM,KAAM,EAAM,EAAiB,KAAM,EAAS,CACzE,EAAoB,EAAK,sBAAsB,EAAM,GAAM,eAAe,CAEtE,GAAqB,EAAgB,KACrC,OAAO,EAGX,GAAI,EAAK,oBACL,MAAO,EAAE,CAIb,GAFA,IAEI,EAAO,IAAY,EAAO,GAAS,aAAe,EAAM,SACxD,EAAQ,EAAO,QAEf,eAGD,GAAS,EAAM,IAAe,GAAS,EAAM,IAAW,CAG/D,IAFA,EAAQ,EAEH,EAAU,EAAS,EAAU,EAAQ,IAItC,GAHA,EAAQ,EAAO,GACf,EAAW,EAAK,UAAU,EAAM,KAAM,GAAK,CAEvC,EAAS,QAAU,EAAQ,GAAS,EAAM,MAAO,CAIjD,GAHA,EAAY,EAAM,KAClB,EAAW,EAAM,IAEb,CAAC,EAAQ,CACT,GAAI,EAAQ,YACR,EAAY,EAAK,cAAc,EAAM,KAAM,CAAE,OAAQ,EAAK,QAAQ,CAAE,CAAC,KAClE,CACH,IAAI,EAAO,GAA6B,EAAK,OAAO,EAAI,EAAE,CAAC,CAAC,OAAO,EAAc,EAAK,MAAM,EAAI,EAAE,CAAC,CAAC,CACpG,EAAY,EAAK,cAAc,EAAM,KAAM,CAAQ,OAAM,OAAQ,EAAK,QAAQ,CAAE,CAAC,CAErF,EAAW,EAAY,EAAU,KAE7B,EAAU,QAAU,IACpB,EAAW,EAAU,OAe7B,GAXA,EAAa,EACT,EAAQ,EAAQ,EAAM,QACtB,EAAc,EAAQ,EAAS,EAAM,OAEzC,EAAW,EAAS,OAChB,EAAW,IACX,GAAuB,EAAW,GAEtC,GAAS,EAAW,EACpB,EAAO,EAAK,aAAa,EAAM,EAAW,EAAY,EAAS,CAE3D,GAAO,EAAM,KAAO,GAAS,EAAM,EACnC,OAAO,EAInB,MAEJ,EAAe,EAAM,SAEzB,MAAO,EAAE,EAGb,mBAAoB,SAAS,EAAU,CAMnC,IAJA,IAAI,EADO,KACO,QACd,EAAW,EACX,EAAI,IAEK,CACT,IAAI,EAAQ,EAAO,GACnB,GAAI,CAAC,GAAS,EAAM,WAAa,EAC7B,MAGA,EAAM,UAAY,EAAM,MACxB,EAAW,EAAM,SAAW,EAAM,KAEtC,IAGJ,OAAO,GAGX,aAAc,SAAS,EAAM,EAAO,EAAM,EAAM,CAC5C,GAAI,KAAK,kBAAkB,CAAE,CACzB,IAAI,EAAO,EAAM,QAAQ,CACrB,EAQJ,OANI,EAAK,SACL,EAAY,EAAK,EAAK,OAAS,IAGnC,GAAY,EAAW,EAAM,EAAM,EAAK,CAEjC,EAAK,OAAO,EAAK,CAE5B,OAAO,EAAK,OAAO,EAAM,MAAM,EAAM,EAAK,CAAC,EAG/C,kBAAmB,SAAS,EAAM,EAAM,EAAM,EAAU,EAAM,EAAW,CACrE,IAAI,EAAO,KAEX,EAAK,SAAW,EAEhB,EAAK,MAAQ,EAAO,EAAK,MAAM,EAAI,CAAC,EAAK,cAAgB,EAAK,IAAI,GAAO,EAAK,YAAY,CAAG,GAAK,EAAK,MAAM,CAAC,CAAG,EAEjH,EAAK,mBAAqB,EAE1B,EAAK,MAAQ,EAEb,IAAI,EAAS,EAAK,QAAQ,aACtB,EAAU,EAAK,QAAQ,cACvB,EAAY,EAAK,QAAQ,gBACzB,EAAa,EAAK,QAAQ,iBAC9B,GAAI,CACA,EAAK,QAAQ,aAAe,GACxB,CAAC,EAAK,kBAAkB,EAAI,EAAE,EAAK,OAAO,EAAI,EAAK,OAAO,CAAC,UAC3D,EAAK,QAAQ,cAAgB,IAEjC,EAAK,QAAQ,gBAAkB,GAC/B,EAAK,QAAQ,aAAe,GAC5B,EAAK,QAAQ,iBAAmB,GAE5B,IACA,EAAK,0BAA0B,CAC/B,EAAK,MAAQ,EAAO,EAAK,SAAS,EAAK,EAE3C,EAAK,SAAS,EAAM,EAAU,QACxB,CACN,EAAK,QAAQ,aAAe,EAC5B,EAAK,QAAQ,cAAgB,EAC7B,EAAK,QAAQ,gBAAkB,EAC/B,EAAK,QAAQ,iBAAmB,IAIxC,KAAM,UAAW,CACb,IAAI,EAAO,KAKX,OAHI,EAAK,QAAU,EACP,EAAK,QAAU,EAAoD,GAAvC,EAAK,MAAQ,IAAM,EAAK,MAAM,EAAI,GAEnE,EAAK,OAGhB,kBAAmB,UAAW,CAC1B,OAAO,KAAK,oBAAsB,GAGtC,KAAM,UAAW,CACb,OAAO,KAAK,OAAS,KAAK,WAG9B,wBAAyB,SAAS,EAAM,EAAM,EAAU,EAAO,CAC3D,IAAI,EAAO,KACP,EAAY,EAAK,YAAY,CAEjC,OAAO,SAAS,EAAM,CAClB,IAAI,EAAQ,GACR,EAAQ,CAAE,MAAO,EAAM,IAAK,EAAM,KAAM,EAAE,CAAE,UAAW,EAAK,YAAY,CAAE,CAC1E,EACA,EACA,EAUJ,GARA,EAAK,iBAAiB,CAEtB,EAAK,QAAQ,EAAY,CAAE,SAAU,EAAM,KAAM,OAAQ,CAAC,CAE1D,EAAO,EAAK,OAAO,MAAM,EAAK,CAE9B,EAAO,EAAK,UAAU,EAAK,CAEvB,EAAK,OAAQ,CACb,IAAK,EAAM,EAAG,EAAS,EAAK,QAAQ,OAAQ,EAAM,EAAQ,IACtD,GAAI,EAAK,QAAQ,GAAK,QAAU,EAAM,CAClC,EAAQ,GACR,EAAQ,EAAK,QAAQ,GAEhB,EAAK,eAAe,GACrB,EAAM,aAAe,EACrB,EAAM,KAAO,EAAK,SAAS,EAAK,CAChC,EAAM,IAAM,EAAM,MAAQ,EAAK,UAAU,EAAM,KAAM,GAAK,CAAC,OAC3D,EAAK,aAAa,EAGtB,MAIH,GACD,EAAK,UAAU,EAAK,SAAS,EAAK,CAAE,EAAK,CAIjD,EAAK,OAAS,EAAK,OAAO,MAAM,EAAK,EAEjC,GAAU,GAAa,EAAK,0BAA4B,CAAC,EAAK,2BAC1D,GAAY,EAAK,OACjB,GAAU,CAEV,EAAK,QAAQ,EAAQ,EAAE,CAAC,IAMxC,SAAU,SAAS,EAAM,EAAM,EAAU,CACrC,IAAI,EAAO,KACP,EAAO,EAAK,IAAI,EAAO,EAAM,EAAK,OAAO,CAAC,CAC1C,EAAU,CACA,OACA,OACN,KAAM,EAAO,EAAO,EACpB,SAAU,EACV,KAAM,EAAK,MACX,OAAQ,EAAK,QACb,MAAO,EAAK,OACZ,UAAW,EAAK,WACnB,CAGL,GAAK,EAAK,eAAe,EAAI,CAAC,EAAK,kBAAkB,EAAI,EAAK,kBAAkB,EAAM,EAAK,CAAG,CACtF,GACA,GAAU,CAEd,OAGC,EAAK,qBAAqB,EAAI,CAAC,EAAK,kBAAkB,EAAM,EAAK,EAAK,CAAC,EAAK,aAAa,EAAM,EAAK,CACrG,EAAK,kBAAkB,EAAS,UAAW,CAClC,EAAK,QAAQ,EAAc,CAAE,KAAM,OAAQ,CAAC,CAa7C,EAAK,iBAAiB,EAZlB,EAAK,eACL,EAAK,QAAQ,EAAS,CAE1B,EAAK,UAAU,KAAK,CAChB,KAAM,EAAK,QAAQ,EAAQ,CAC3B,QAAS,EAAK,wBAAwB,EAAM,EAAM,EAAS,CAC3D,MAAO,UAAW,CACd,IAAI,EAAO,EAAM,KAAK,UAAU,CAChC,EAAK,MAAM,MAAM,EAAM,EAAK,EAEnC,CAAC,GAIP,IAAI,CACA,GACP,GAAU,EAIlB,kBAAmB,SAAS,EAAM,EAAM,EAAU,CAC9C,IAAI,EAAO,KACP,EAAO,EAAK,IAAI,EAAO,EAAM,EAAK,OAAO,CAAC,CAC1C,EAAU,CACA,OACA,OACN,KAAM,EAAO,EAAO,EACpB,SAAU,EACV,KAAM,EAAK,MACX,OAAQ,EAAK,QACb,MAAO,EAAK,OACZ,UAAW,EAAK,WACnB,CAEA,EAAK,aAAa,EAAM,EAAK,CAOvB,GACP,GAAU,CAPL,EAAK,QAAQ,EAAc,CAAE,KAAM,OAAQ,CAAC,EAC7C,EAAK,UAAU,KAAK,CAChB,KAAM,EAAK,QAAQ,EAAQ,CAC3B,QAAS,EAAK,wBAAwB,EAAM,EAAM,EAAU,GAAK,CACpE,CAAC,EAOd,gBAAiB,SAAS,EAAO,EAAM,CACnC,IAAI,EAAO,KACP,EAAY,EAAK,cAAc,EAAM,CACrC,EACA,EAAQ,EAAK,OAAO,CACpB,EAEJ,GAAI,EAAW,CAGX,GAFA,EAAW,EAAK,mBAAmB,EAAM,CAErC,CAAC,EACD,OAAO,EAEX,GAAS,EAIb,GAFA,EAAS,EAAK,IAAI,EAAK,MAAM,EAAQ,EAAK,CAAE,EAAE,CAAG,EAE7C,EAAS,EACT,KACI,GAAU,EACN,IAAS,KAKrB,OAAO,GAGX,cAAe,SAAS,EAAK,CACzB,IACI,EADO,KACO,QACd,EACA,EAEJ,IAAK,EAAM,EAAG,EAAS,EAAO,OAAQ,EAAM,EAAQ,IAChD,GAAI,EAAO,GAAK,OAAS,GAAO,EAAO,GAAK,KAAO,EAC/C,OAAO,EAAO,IAK1B,cAAe,SAAS,EAAO,CAC3B,IACI,EADO,KACO,QACd,EACA,EAGJ,IAAK,EAFQ,EAAO,OAEA,EAAG,GAAO,EAAG,IAC7B,GAAI,EAAO,GAAK,YAAc,EAAO,CACjC,EAAQ,EAAO,GACf,MAKR,OAAO,GAGX,aAAc,SAAS,EAAO,EAAK,CAC/B,IACI,EADO,KACO,QACd,EACA,EAEJ,IAAK,EAAM,EAAG,EAAS,EAAO,OAAQ,EAAM,EAAQ,IAChD,GAAI,EAAO,GAAK,OAAS,GAAS,EAAO,GAAK,KAAO,EACjD,MAAO,GAIf,MAAO,IAGX,kBAAmB,SAAS,EAAO,EAAK,CACpC,IAAI,EAAO,KACP,EAAS,EAAK,QACd,EACA,EACA,EAAsB,EACtB,EAAQ,EAAK,YAAY,GAAK,CAMlC,IAJI,EAAM,GAAS,CAAC,EAAK,kBAAkB,GACvC,EAAM,GAGL,EAAM,EAAG,EAAS,EAAO,OAAQ,EAAM,EAAQ,IAAO,CACvD,IAAI,EAAQ,EAAO,GACf,EAAM,YAAc,GAAS,EAAM,UAAY,EAC/C,GAAuB,EAAM,SAAW,EACjC,EAAM,YAAc,GAAO,EAAM,UAAY,IACpD,GAAuB,EAAM,EAAM,YAI3C,OAAO,GAAuB,EAAM,GAGxC,qBAAsB,UAAW,CAC7B,IAAI,EAAO,KACP,EAAS,EAAK,QACd,EAAQ,EAAK,mBAAmB,CAChC,EAAM,GAAS,EAAK,MAAM,EAAI,GAC9B,EAAY,EAAE,CACd,EACA,EACA,EAAS,EAAO,OAEpB,IAAK,EAAM,EAAG,EAAM,EAAQ,IACxB,EAAQ,EAAO,IAEV,EAAM,OAAS,GAAS,EAAM,KAAO,GAAW,EAAM,OAAS,GAAS,EAAM,OAAS,IACxF,EAAU,KAAK,EAAM,CAI7B,OAAO,GAGX,uBAAwB,SAAS,EAAO,CAIpC,IAAK,IAHD,EAAO,KACP,EAEK,EAAM,EAAG,EAAS,KAAK,QAAQ,OAAQ,EAAM,EAAQ,IAC1D,EAAQ,KAAK,QAAQ,GAErB,EAAK,sBAAsB,EAAO,EAAM,CAG5C,EAAK,qBAAqB,EAG9B,sBAAuB,SAAS,EAAO,EAAO,CAC1C,KAAK,UAAU,EAAM,KAAM,SAAS,EAAM,CACjC,KAGL,IAAK,IAAI,EAAM,EAAG,EAAM,EAAK,OAAQ,IAAO,CACxC,IAAI,EAAW,EAAK,GAEpB,GAAI,EAAS,KAAO,EAAS,KAAO,EAAM,IAAK,CAC3C,EAAE,CAAC,OAAO,KAAK,EAAM,EAAK,EAAE,CAC5B,SAGV,EAGN,oBAAqB,SAAS,EAAO,EAAO,CACxC,IAAI,EAAO,KACP,EAAS,EAAK,SAAW,EAAE,CAC3B,EAAe,EAAO,OACtB,EACA,EAEJ,IAAK,EAAI,EAAG,EAAI,EAAc,IAG1B,GAFA,EAAQ,EAAO,GAEX,EAAM,OAAS,GAAS,EAAM,KAAO,EAAO,CACvC,EAAK,UAAU,EAAM,IAAK,EAAM,KAAK,GAClC,EAAK,kBAAkB,CACvB,EAAM,KAAK,OAAO,EAAO,EAAG,EAAK,kBAAkB,EAAM,CAAC,CAE1D,EAAM,KAAK,OAAO,EAAO,EAAG,EAAM,EAI1C,MAIR,EAAK,qBAAqB,EAG9B,oBAAqB,UAAW,CAC5B,IAAI,EAAO,KACP,EAAS,EAAK,SAAW,EAAE,CAC3B,EAAe,EAAO,OACtB,EAAgB,GAChB,EAAiB,EACjB,EAAmB,EACnB,EACA,EACA,EAEJ,IAAK,EAAI,EAAG,EAAI,EAAc,IAAK,CAK/B,GAJA,EAAQ,EAAO,GACf,EAAc,EAAK,eAAe,CAAG,EAAM,KAAK,OAAS,EAAK,UAAU,EAAM,KAAM,GAAK,CAAC,OAC1F,EAAmB,EAAc,EAAK,IAAI,EAAM,IAAM,EAAM,MAAM,CAE9D,CAAC,GAAiB,IAAqB,EAAG,CAC1C,EAAgB,GAChB,EAAiB,EACjB,EAAM,KAAO,EACb,SAGA,IACA,EAAM,OAAS,EACf,EAAM,KAAO,KAKzB,yBAA0B,UAAW,CACjC,IAAI,EAAO,KACP,EAAS,EAAK,SAAW,EAAE,CAC3B,EAAe,EAAO,OACtB,EAAiB,EACjB,EACA,EACA,EACA,EAEJ,IAAK,EAAI,EAAG,EAAI,EAAc,IAC1B,EAAQ,EAAO,GACf,EAAc,EAAK,eAAe,CAAG,EAAK,sBAAsB,EAAM,KAAM,GAAM,QAAS,GAAK,CAAG,EAAK,UAAU,EAAM,KAAM,GAAK,CAAC,OAEhI,GACI,EAAU,KAAO,EAAM,QACvB,EAAiB,EAAM,MAAQ,EAAU,KAE7C,EAAM,WAAa,EAAU,SAAW,EACxC,EAAiB,GAEjB,EAAM,WAAa,EAAM,MAG7B,EAAM,SAAW,EAAM,WAAa,EACpC,EAAY,GAGpB,iBAAkB,UAAW,CACzB,OAAO,KAAK,qBAAqB,IAErC,kBAAmB,UAAW,CAC1B,OAAO,KAAK,qBAAqB,IAExC,CAAC,CAEE,GAAY,EAAE,CAElB,GAAU,OAAS,SAAS,EAAS,EAAM,EAAY,CACnD,IAAI,EACA,EAAmB,EAAQ,UAAY,EAAE,OAAO,EAAE,CAAE,EAAQ,UAAU,CAAG,KA8B7E,OA5BI,GACA,EAAiB,KAAO,OAAO,EAAiB,OAAS,EAAS,CAAE,IAAK,EAAiB,KAAM,CAAG,EAAiB,KAEhH,EAAQ,OAAS,SACjB,EAAiB,WAAa,GAG9B,EAAQ,OACR,EAAM,KAAK,WAAa,EAAM,KAAK,YAAc,EAAE,CACnD,EAAM,KAAK,QAAU,EAAM,KAAK,SAAW,EAAE,CAExC,EAAM,KAAK,WAAW,EAAQ,MAEvB,EAAc,EAAM,KAAK,WAAW,EAAQ,MAAM,CAG1D,EAAmB,EAAO,GAAM,EAAE,CAAE,EAAM,KAAK,WAAW,EAAQ,MAAO,EAAiB,CAF1F,EAAY,IAAI,EAAM,KAAK,WAAW,EAAQ,MAAM,EAAO,EAAkB,CAAQ,OAAM,CAAC,CAAC,CAF7F,EAAM,aAAa,sCAAwC,EAAQ,KAAO;yFAA+F,OAAO,CAOpL,EAAQ,OAAS,EAAO,GAAM,EAAE,CAAE,EAAM,KAAK,QAAQ,EAAQ,MAAO,EAAQ,OAAO,EAGvF,AACI,IAAY,EAAW,EAAiB,KAAK,CAAG,EAAmB,IAAI,GAAgB,EAAiB,EAG5G,EAAY,IAAI,GAAe,CAAE,KAAM,EAAQ,MAAQ,EAAE,CAAE,CAAC,CAEzD,GAGX,EAAW,OAAS,SAAS,EAAS,EAC9B,EAAQ,EAAQ,EAAI,aAAmB,KACxC,EAAU,CAAE,KAAM,EAAS,EAG9B,IAAI,EAAa,GAAW,EAAE,CAC1B,EAAO,EAAW,KAClB,EAAS,EAAW,OACpB,EAAQ,EAAW,MACnB,EAAS,EAAW,OACpB,EACA,EACA,EAAQ,EAAE,CACV,EAcJ,GAZI,CAAC,GAAQ,GAAU,CAAC,EAAW,YAC3B,EACA,EAAO,GAAW,EAAO,EAAO,CACzB,IACP,EAAO,GAAY,EAAQ,EAAO,CAE9B,EAAW,QAAU,GAAa,EAAK,IAAM,EAAK,GAAG,WAAa,IAClE,EAAW,MAAQ,cAK3B,EAAM,KAAK,OAAS,IAAW,CAAC,EAAW,QAAU,CAAC,EAAW,OAAO,OAAQ,CAChF,IAAK,EAAM,EAAG,EAAS,EAAO,OAAQ,EAAM,EAAQ,IAChD,EAAQ,EAAO,GACX,EAAM,OACN,EAAM,EAAM,OAAS,GAIxB,EAAc,EAAM,GACrB,EAAW,OAAS,EAAO,GAAM,EAAW,OAAQ,CAAE,MAAO,CAAE,OAAQ,EAAO,CAAE,CAAC,EAWzF,MAPA,GAAW,KAAO,EAElB,EAAS,KACT,EAAW,OAAS,KACpB,EAAQ,KACR,EAAW,MAAQ,KAEZ,aAAsB,EAAa,EAAa,IAAI,EAAW,EAAW,EAGrF,SAAS,GAAY,EAAQ,EAAQ,CACjC,EAAS,EAAE,EAAO,CAAC,GACnB,IAAI,EAAU,EAAO,QACjB,EAAa,EAAO,GACpB,EAAc,EAAO,GAErB,EAAO,EAAE,CACT,EAAK,EACL,EACA,EACA,EACA,EAEJ,IAAK,EAAM,EAAG,EAAS,EAAQ,OAAQ,EAAM,EAAQ,IACjD,EAAS,EAAE,CACX,EAAS,EAAQ,GACjB,EAAW,EAAO,WAEd,IAAa,IACb,EAAW,MAGX,IAAO,UAAa,GAAY,EAAS,YAIzC,IACA,EAAO,SAAW,EAAS,OAG/B,EAAO,EAAW,OAAS,EAAO,KAElC,EAAQ,EAAO,WAAW,MAE1B,AAGI,EAHA,GAAS,EAAM,UACP,EAAO,MAEP,EAAO,KAGnB,EAAO,EAAY,OAAS,EAE5B,EAAK,KAAK,EAAO,EAGrB,OAAO,EAGX,SAAS,GAAW,EAAO,EAAQ,CAC/B,IAAI,EAAQ,EAAE,EAAM,CAAC,GAAG,QAAQ,GAChC,EAAO,EAAQ,EAAM,KAAO,EAAE,CAC9B,EACA,EACA,EACA,EAAa,EAAO,OACpB,EAAO,EAAE,CACT,EACA,EACA,EACA,EAEA,IAAK,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAAO,CAKrD,IAJA,EAAS,EAAE,CACX,EAAQ,GACR,EAAQ,EAAK,GAAK,MAEb,EAAa,EAAG,EAAa,EAAY,IAC1C,EAAO,EAAM,GACT,EAAK,SAAS,aAAa,GAAK,OAChC,EAAQ,GACR,EAAO,EAAO,GAAY,OAAS,EAAK,WAG3C,GACD,EAAK,KAAK,EAAO,CAIzB,OAAO,EAGX,IAAI,GAAO,EAAM,OAAO,CACpB,QAAS,KAET,KAAM,SAAS,EAAO,CAClB,IAAI,EAAO,KACP,EAAc,EAAK,aAAe,GAAS,EAAM,YACjD,EAAgB,QAChB,EAAkB,EAAE,CAiCxB,GA/BA,EAAM,KAAK,MAAM,GAAG,KAAK,KAAK,EAAM,EAAM,CAEtC,OAAO,EAAK,WAAa,IACzB,EAAgB,EAAK,UAGzB,EAAkB,CACd,OAAQ,CACJ,KAAM,EACN,MAAO,CACU,cACb,GAAI,EAAK,QACT,OAAQ,EAAK,OAChB,CACJ,CACJ,CAEG,OAAO,EAAK,WAAa,GACzB,EAAO,EAAiB,EAAK,SAAS,CAG1C,EAAgB,KAAO,EAEvB,AACI,IAAc,EAAgB,OAAO,KAGrC,OAAO,IAAgB,IACvB,EAAc,EAAM,OAAO,EAAY,EAGvC,EAAW,EAAY,CAAE,CACzB,IAAI,EAAoB,EAAY,KAAK,EAAM,EAAK,CAEhD,GAAqB,EAAkB,SAAW,EAClD,EAAK,YAAc,GAEnB,EAAK,YAAc,CAAC,CAAC,EAI7B,EAAK,iBAAmB,EAEpB,EAAK,aACL,EAAK,eAAe,CAGxB,EAAK,QAAU,CAAC,EAAE,GAAS,EAAM,UAGrC,cAAe,UAAW,CACtB,IAAI,EAAO,KACP,EAAU,EAAW,EAEnB,EAAK,oBAAoB,IAC3B,EAAW,EAAK,SAAW,IAAI,EAAuB,EAAK,iBAAiB,CAE5E,EAAY,EAAS,UACrB,EAAe,EAAU,aAEzB,EAAU,aAAe,SAAS,EAAM,EAAM,CAO1C,MANA,GAAK,EAAK,SAAW,MAAQ,EAAK,GAE9B,IACA,EAAO,EAAa,KAAK,EAAM,EAAM,EAAK,EAGvC,GAGX,EAAS,OAAS,UAAW,CACzB,OAAO,GAGX,EAAS,KAAK,EAAQ,SAAS,EAAG,CAC9B,EAAE,KAAO,EAAE,MAAQ,EACnB,EAAK,QAAQ,EAAQ,EAAE,EACzB,CAEF,EAAS,KAAK,EAAO,SAAS,EAAG,CAC7B,IAAI,EAAa,EAAK,QAAQ,CAE1B,IACA,EAAE,KAAO,EAAE,MAAQ,EACnB,EAAW,QAAQ,EAAO,EAAE,GAElC,CAEF,EAAS,KAAK,EAAa,SAAS,EAAG,CACnC,IAAI,EAAa,EAAK,QAAQ,CAE1B,GACA,EAAW,QAAQ,EAAa,EAAE,EAExC,CAEF,EAAK,sBAAsB,GAInC,OAAQ,SAAS,EAAO,CACpB,KAAK,eAAe,CACpB,KAAK,OAAO,GAAK,CACjB,KAAK,SAAS,IAAI,EAAM,EAG5B,YAAa,GAEb,MAAO,UAAW,CAId,IAHA,IAAI,EAAa,KAAK,YAAY,CAC9B,EAAQ,EAEL,GAAc,EAAW,YAC5B,IACA,EAAa,EAAW,WAAa,EAAW,YAAY,CAAG,KAGnE,OAAO,GAGX,qBAAsB,UAAW,CAC7B,IAAI,EAAY,KAAK,iBAAiB,OAAO,KAE7C,KAAK,GAAa,SAAW,KAAK,SAAS,MAAM,EAGrD,gBAAiB,UAAW,CACxB,KAAK,QAAU,GACf,KAAK,SAAW,GAChB,KAAK,gBAAkB,KAEvB,KAAK,sBAAsB,EAG/B,KAAM,UAAW,CACb,IAAI,EAAU,EAAE,CACZ,EAAS,SACT,EAAU,EAkCd,OAhCI,KAAK,SAAS,CACP,KAAK,iBAAmB,EAAE,UAAU,CAAC,SAAS,CAAC,SAAS,EAG/D,KAAK,aACL,KAAK,eAAe,CAEpB,EAAW,KAAK,SAEhB,EAAQ,KAAK,SAAW,MAAQ,KAAK,GAEhC,KAAK,UACN,EAAS,MAAQ,EACjB,EAAS,OACT,KAAK,QAAQ,GAAK,EAGtB,EAAS,IAAI,EAAQ,KAAK,gBAAgB,KAAK,KAAK,CAAC,CAEjD,KAAK,eACL,EAAQ,OAAS,CAAE,MAAO,eAAgB,SAAU,KAAM,MAAO,GAAM,EAG3E,EAAU,EAAS,GAAQ,EAAQ,CAC9B,KAAK,UACN,KAAK,gBAAkB,EACvB,KAAK,QAAQ,GAAU,CAAW,UAAS,KAAM,KAAM,CAAC,GAG5D,KAAK,OAAO,GAAK,CAGd,GAAW,EAAE,UAAU,CAAC,SAAS,CAAC,SAAS,GAGtD,WAAY,UAAW,CAGnB,OAFY,KAAK,QAAQ,CAEZ,QAAQ,EAGzB,OAAQ,SAAS,EAAO,CACpB,GAAI,IAAU,EACV,KAAK,QAAU,EACf,KAAK,QAAQ,GAAM,MAEnB,OAAO,KAAK,SAIpB,QAAS,SAAS,EAAO,CACrB,GAAI,IAAU,EACV,KAAK,SAAW,OAEhB,OAAO,KAAK,UAAY,IAIhC,gBAAiB,SAAS,EAAO,CAC7B,OAAO,EAAM,GAAG,gBAAgB,KAAK,KAAM,EAAM,EACzC,IAAU,YACV,IAAU,WACV,IAAU,eACV,IAAU,oBAEzB,CAAC,CAEF,SAAS,GAAW,EAAM,CACtB,OAAO,UAAW,CACd,IAAI,EAAO,KAAK,MACZ,EAAS,EAAW,GAAG,GAAM,MAAM,KAAM,EAAM,KAAK,UAAU,CAAC,CAMnE,OAJI,KAAK,OAAS,GACd,KAAK,uBAAuB,CAGzB,GAIf,IAAI,EAAyB,EAAW,OAAO,CAC3C,KAAM,SAAS,EAAS,CACpB,IAAI,EAAO,GAAK,OAAO,CACnB,SAAU,EACb,CAAC,CAEE,EAAQ,QAAU,CAAC,EAAQ,kBAC3B,KAAK,oBAAsB,EAAQ,OACnC,EAAQ,OAAS,MAGrB,EAAW,GAAG,KAAK,KAAK,KAAM,EAAO,GAAM,EAAE,CAAE,CAAE,OAAQ,CAAE,UAAW,EAAM,MAAO,EAAM,CAAE,CAAE,EAAQ,CAAC,CAEtG,KAAK,uBAAuB,EAGhC,sBAAuB,UAAW,CAC9B,IAAI,EAAO,KAEX,EAAK,MAAM,KAAK,EAAO,SAAS,EAAG,CAC/B,EAAK,QAAQ,EAAO,EAAE,EACxB,CAEF,EAAK,MAAM,KAAK,EAAa,SAAS,EAAG,CACrC,EAAK,QAAQ,EAAa,EAAE,EAC9B,EAGN,QAAS,UAAW,CAIhB,OAHI,KAAK,MACE,KAAK,MAAM,SAAS,EAAI,KAAK,kBAAkB,CAEnD,IAGX,iBAAkB,UAAW,CACzB,IAAI,EAAY,GAMhB,OALA,KAAK,MAAM,QAAQ,SAAS,EAAM,CAC1B,EAAK,aAAe,EAAK,SAAS,SAAS,GAC3C,EAAY,KAElB,CACK,GAGX,KAAM,SAAS,EAAM,CACjB,IAAI,EAAS,EAAW,GAAG,KAAK,KAAK,KAAM,EAAK,CAYhD,OAVI,KAAK,sBACD,KAAK,OAAS,KAAK,MAAM,OAAS,EAClC,KAAK,OAAO,KAAK,oBAAoB,EAErC,KAAK,QAAQ,OAAS,KAAK,oBAC3B,KAAK,QAAU,EAAgB,KAAK,QAAQ,OAAO,CACnD,KAAK,oBAAsB,OAI5B,GAGX,OAAQ,SAAS,EAAM,CACnB,IAAI,EAAa,EAAK,YAAY,CAC9B,EAAa,KACb,EAYJ,OAVI,GAAc,EAAW,gBACzB,EAAa,EAAW,UAG5B,EAAS,EAAW,GAAG,OAAO,KAAK,EAAY,EAAK,CAEhD,GAAc,CAAC,EAAW,MAAM,CAAC,SACjC,EAAW,YAAc,IAGtB,GAGX,QAAS,GAAW,UAAU,CAE9B,KAAM,GAAW,OAAO,CAExB,OAAQ,SAAS,EAAO,EAAO,CAC3B,IAAI,EAAa,KAAK,QAAQ,CAO9B,OALI,GAAc,EAAW,gBACzB,EAAW,YAAc,GACzB,EAAW,eAAe,EAGvB,EAAW,GAAG,OAAO,KAAK,KAAM,EAAO,EAAM,EAGxD,OAAQ,SAAS,EAAK,CAClB,GAAI,IAAQ,EACP,OAAO,KAAK,QAGb,CAAC,KAAK,QAAQ,iBAAmB,KAAK,uBAAuB,EAAI,GACjE,EAAM,CAAE,MAAO,KAAM,QAAS,CAAC,EAAK,CAAE,MAAO,eAAgB,SAAU,SAAU,MAAO,GAAM,CAAC,CAAE,EAGrG,KAAK,QAAQ,QAAQ,CACrB,KAAK,OAAO,CAAE,OAAQ,EAAK,KAAM,EAAG,CAAC,EAGzC,uBAAwB,SAAS,EAAa,CAC1C,IAAI,EACA,EAAyB,KAAK,QAAQ,uBAY1C,MAVA,GAAc,EAAyB,EAAE,OAAO,EAAE,CAAE,EAAgB,EAAY,CAAE,CAA0B,yBAAwB,CAAC,CAAG,EAAgB,EAAY,CAEhK,CAAC,GAAe,EAAY,QAAQ,SAAW,GAC/C,KAAK,0BAA0B,UAAW,CAAC,MAAO,IAAO,CAClD,KAGX,EAAW,EAAM,WAAW,EAAa,CAAE,OAAQ,GAAM,CAAC,CAE1D,KAAK,0BAA0B,EAAS,CACjC,KAGV,0BAA2B,SAAS,EAAQ,CAKzC,IAAK,IAJD,EACA,EAAO,KAAK,MACZ,EAAS,GAEJ,EAAM,EAAG,EAAM,EAAK,OAAQ,IAChC,EAAU,EAAK,GAEX,EAAQ,aACR,EAAQ,aAAe,EAAQ,SAAS,0BAA0B,EAAO,CAC1E,AACI,EAAQ,eAAe,EAAO,EAAQ,EAG1C,EAAQ,aAAe,EAAO,EAAQ,CAGtC,EAAQ,eACR,EAAS,IAGjB,OAAO,GAGX,MAAO,SAAS,EAAQ,EAAO,CAC3B,IAAI,EAAK,EAAQ,EAAM,EACnB,EAAO,KAAK,MAEX,KAML,IAFA,EAAO,EAAW,GAAG,GAAQ,KAAK,KAAM,EAAM,CAE1C,EACA,OAAO,EAKX,IAFA,EAAO,KAAK,UAAU,KAAK,MAAM,CAE5B,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAC9C,KAAW,EAAK,GAAK,SAEf,aAAoB,IAI1B,EAAO,EAAS,GAAQ,EAAM,CAE1B,GACA,OAAO,IAKnB,IAAK,SAAS,EAAI,CACd,OAAO,KAAK,MAAM,MAAO,EAAG,EAGhC,SAAU,SAAS,EAAK,CACpB,OAAO,KAAK,MAAM,WAAY,EAAI,EAEzC,CAAC,CAEF,SAAS,GAAU,EAAM,EAAQ,CAC7B,IAAI,EAAQ,EAAE,EAAK,CAAC,UAAU,CAC1B,EACA,EACA,EAAO,EAAE,CACT,EACA,EAAY,EAAO,GAAG,MACtB,EAAW,EAAO,IAAM,EAAO,GAAG,MAClC,EAAsB,EAAO,IAAM,EAAO,GAAG,MAC7C,EAAgB,EAAO,IAAM,EAAO,GAAG,MACvC,EACA,EACA,EACA,EACA,EAEJ,SAAS,EAAS,EAAY,EAAS,CACnC,OAAO,EAAW,OAAO,EAAQ,CAAC,IAAI,EAAW,KAAK,EAAQ,CAAC,CAGnE,IAAK,EAAM,EAAG,EAAS,EAAM,OAAQ,EAAM,EAAQ,IAC/C,EAAS,CAAE,QAAS,GAAM,CAC1B,EAAO,EAAM,GAAG,EAAI,CAEpB,EAAY,EAAK,GAAG,WACpB,EAAW,EAAK,UAAU,CAC1B,EAAO,EAAS,OAAO,KAAK,CAC5B,EAAW,EAAS,OAAO,WAAW,CAEtC,EAAK,EAAK,KAAK,UAAU,CAErB,IACA,EAAO,GAAK,GAGZ,IACA,EAAO,GAAa,EAAU,UAAY,EAAI,EAAU,UAAY,EAAS,MAAM,EAGnF,IACA,EAAO,GAAY,EAAS,EAAU,IAAI,CAAC,KAAK,OAAO,EAGvD,IACA,EAAO,GAAiB,EAAS,EAAU,MAAM,CAAC,KAAK,MAAM,EAG7D,IACA,EAAY,EAAS,EAAU,YAAY,CAAC,KAAK,YAAY,CAC7D,EAAO,GAAuB,GAAa,EAAM,KAAK,EAAU,QAAQ,WAAY,GAAG,CAAC,EAGxF,EAAK,SACL,EAAO,MAAQ,GAAU,EAAK,GAAG,EAAE,CAAE,EAAO,EAG5C,EAAK,KAAK,mBAAmB,EAAI,SACjC,EAAO,YAAc,IAGzB,EAAK,KAAK,EAAO,CAGrB,OAAO,EAGX,EAAuB,OAAS,SAAS,EAAS,CAC9C,EAAU,GAAW,EAAQ,KAAO,CAAE,KAAM,EAAS,CAAG,EAExD,IAAI,EAAa,GAAW,EAAE,CAC1B,EAAO,EAAW,KAClB,EAAS,EAAW,OACpB,EAAO,EAAW,KActB,OAZI,GAAQ,EAAK,YACN,EAAK,aAGZ,CAAC,GAAQ,GAAU,CAAC,EAAW,WAC3B,IACA,EAAO,GAAU,EAAM,EAAO,EAItC,EAAW,KAAO,EAEX,aAAsB,EAAyB,EAAa,IAAI,EAAuB,EAAW,GAG7G,IAAI,GAAS,EAAM,WAAW,OAAO,CACjC,KAAM,SAAS,EAAY,EAAU,EAAiB,CAClD,EAAM,WAAW,GAAG,KAAK,KAAK,KAAK,CAEnC,KAAK,aAAe,GACpB,KAAK,WAAa,EAClB,KAAK,SAAW,CAAC,EAEjB,IAAI,EAAS,KAEb,EAAW,KAAK,SAAU,UAAW,CACjC,EAAO,SAAS,EAClB,CAEF,EAAW,KAAK,QAAS,UAAW,CAChC,EAAO,QAAQ,EACjB,CAEF,KAAK,qBAAqB,CAE1B,KAAK,YAAY,EAAS,EAG9B,YAAa,SAAS,EAAU,CAC5B,KAAK,SAAW,EAChB,KAAK,cAAc,EAGvB,GAAI,SAAS,EAAO,CAChB,IAAI,EAAW,KAAK,SAChB,EAAc,GAElB,GAAI,GAAS,KAAK,OAAO,CAErB,OADA,KAAK,QAAQ,aAAc,CAAS,QAAO,CAAC,CACrC,KAGX,GAAI,CAAC,KAAK,UACP,OAAO,KAAK,WAAW,MAAM,CAAC,GAEjC,GAAI,KAAK,UAgCD,OA9BA,EAAQ,KAAK,YAAc,GAAS,KAAK,KAAO,KAChD,EAAc,KAAK,MAAM,KAAK,MAAM,EAAQ,EAAS,CAAG,EAAS,EAIjE,IAAU,KAAK,mBACf,KAAK,WAAW,CAIhB,IAAU,KAAK,iBACf,KAAK,MAAM,KAAK,aAAc,GAAK,CAG9B,IAAU,KAAK,kBACpB,KAAK,MAAM,KAAK,cAAc,CAGzB,IAAU,KAAK,oBAChB,KAAK,SAAW,KAAK,KACrB,KAAK,MAAM,KAAK,iBAAiB,CAEjC,KAAK,MAAM,KAAK,kBAAkB,EAItC,EACO,KAAK,WAAW,GAAG,EAAQ,KAAK,WAAW,EAElD,KAAK,QAAQ,aAAc,CAAS,QAAO,CAAC,CACrC,OAKnB,QAAS,SAAS,EAAM,CACpB,OAAO,KAAK,WAAW,MAAM,CAAC,QAAQ,EAAK,CAAG,KAAK,YAGvD,MAAO,UAAW,CACd,OAAO,SAAS,KAAK,WAAW,OAAO,CAAE,GAAG,EAGhD,KAAM,UAAW,CACb,IAAI,EAAS,KACT,EAAW,EAAO,SAClB,EAAS,EAAO,KAAO,EAAO,SAAW,EACzC,EAAW,EAAK,IAAI,EAAK,MAAM,EAAS,EAAS,CAAE,EAAE,CAAG,EAE5D,KAAK,OAAS,EACd,KAAK,WAAW,SAAS,EAAU,EAAU,UAAW,CACpD,EAAO,WAAW,EAAQ,GAAK,EACjC,EAGN,MAAO,SAAS,EAAQ,EAAW,CAC/B,GAAI,KAAK,SAAW,EAChB,MAAO,GAGX,IAAI,EAAS,KACT,EAAW,KAAK,SAChB,EAAW,EAAK,IAAI,EAAK,MAAM,EAAS,EAAS,CAAE,EAAE,CAAG,EACxD,EAAa,KAAK,WAoBtB,OAlBI,IACA,GAAY,GAGZ,EAAW,QAAQ,EAAQ,EAAS,EACpC,KAAK,OAAS,EACd,KAAK,cAAc,CACnB,KAAK,WAAW,EAAO,CAChB,IACA,KAAK,UACZ,EAAW,SAAS,EAAU,EAAU,UAAW,CAC/C,EAAO,OAAS,EAChB,EAAO,cAAc,CACrB,EAAO,WAAW,EAAQ,GAAK,EACjC,CACK,IAGJ,IAGX,eAAgB,UAAW,CACvB,IAAI,EAAS,KAAK,OAClB,KAAK,OAAS,KACd,KAAK,MAAM,EAAO,EAGtB,QAAS,UAAW,CAChB,KAAK,QAAQ,EAGjB,UAAW,UAAW,CAClB,IAAI,EAAS,KACT,EAAW,KAAK,SAChB,EAAiB,KAAK,KAAO,EAC7B,EAAa,KAAK,WAElB,CAAC,EAAW,QAAQ,EAAgB,EAAS,EAAI,CAAC,KAAK,cAAgB,KAAK,WAC5E,KAAK,aAAe,GACpB,KAAK,QAAQ,cAAe,CAAE,KAAM,EAAgB,KAAM,EAAU,CAAC,CAErE,EAAW,SAAS,EAAgB,EAAU,UAAW,CACrD,EAAO,aAAe,GACtB,EAAO,QAAQ,aAAc,CAAE,KAAM,EAAgB,KAAM,EAAU,CAAC,EACxE,GAIV,WAAY,SAAS,EAAQ,EAAW,CAChC,KAAK,SAAW,IAIpB,KAAK,WAAa,EAClB,KAAK,WAAa,EAClB,KAAK,WAAW,MAAM,EAAQ,KAAK,SAAS,CAC5C,KAAK,WAAW,0BAA0B,GAG9C,OAAQ,UAAW,CACf,KAAK,aAAe,IAGxB,QAAS,UAAW,CAChB,IAAI,EAAa,KAAK,WAEtB,KAAK,OAAS,KAAK,UAAY,EAAW,WAAW,CAAC,IAAM,EAAW,MAAM,CAAC,OAE1E,KAAK,eACL,KAAK,qBAAqB,CAC1B,KAAK,cAAc,CACnB,KAAK,aAAe,GACpB,KAAK,QAAQ,QAAS,CAAE,OAAQ,KAAK,OAAQ,CAAC,EAGlD,KAAK,QAAQ,SAAS,CAElB,KAAK,YACL,KAAK,QAAQ,SAAS,CAG1B,OAAO,KAAK,YAGhB,oBAAqB,UAAW,CAC5B,IAAI,EAAa,KAAK,WAEtB,KAAK,cAAgB,EAAW,cAAc,CAC9C,KAAK,WAAa,KAAK,OAAS,EAAW,MAAM,EAAI,EACrD,KAAK,SAAW,EAAW,UAAU,CACrC,KAAK,UAAY,EAAW,QAAQ,cAGxC,aAAc,UAAW,CACrB,IAAI,EAAW,KAAK,SAChB,EAAS,KAAK,OACd,EAAW,KAAK,SAChB,EAAO,KAAK,KAAK,EAAS,EAAS,CAAG,EAE1C,KAAK,KAAO,EACZ,KAAK,iBAAmB,EAAO,EAAW,EAC1C,KAAK,kBAAoB,EAAO,EAAW,EAC3C,KAAK,kBAAoB,EAAO,KAAK,MAAM,EAAW,EAAI,EAAE,CAC5D,KAAK,kBAAoB,KAAK,OAAS,EAEvC,KAAK,aAAe,EAAO,EAAW,EACtC,KAAK,cAAgB,EACrB,KAAK,iBAAmB,EAAS,EACjC,KAAK,kBAAoB,EAAO,GAEvC,CAAC,CAEE,GAAc,EAAM,WAAW,OAAO,CACtC,KAAM,SAAS,EAAY,EAAW,CAClC,IAAI,EAAc,KAElB,EAAM,WAAW,GAAG,KAAK,KAAK,EAAY,CAE1C,KAAK,WAAa,EAClB,KAAK,UAAY,EACjB,KAAK,OAAS,EAEd,KAAK,OAAS,IAAI,GAAO,EAAY,EAAY,EAAE,CAEnD,KAAK,OAAO,KAAK,CACb,WAAc,SAAS,EAAG,CACtB,EAAY,QAAQ,aAAc,CAAE,MAAO,EAAE,MAAO,CAAC,EAEzD,YAAe,SAAS,EAAG,CACvB,EAAY,QAAQ,cAAe,CAAE,KAAM,EAAE,KAAM,KAAM,EAAE,KAAM,CAAC,EAEtE,WAAc,SAAS,EAAG,CACtB,EAAY,QAAQ,aAAc,CAAE,KAAM,EAAE,KAAM,KAAM,EAAE,KAAM,CAAC,EAErE,MAAS,UAAW,CAChB,EAAY,OAAS,EACrB,EAAY,QAAQ,QAAQ,EAEhC,OAAU,UAAW,CACjB,EAAY,OAAS,KAAK,KAAK,KAAK,OAAS,EAAY,UAAU,CACnE,EAAY,QAAQ,SAAU,CAAE,MAAO,EAAY,OAAO,CAAE,OAAQ,KAAK,OAAQ,CAAC,EAEzF,CAAC,EAGN,eAAgB,UAAW,CACvB,KAAK,OAAO,gBAAgB,EAGhC,GAAI,SAAS,EAAO,CAChB,IAAI,EAAS,KAAK,OACd,EAAO,EAAQ,KAAK,UACpB,EAAO,KAAK,UACZ,EAAO,EAAE,CACT,EAEA,EAAO,OAAS,GAChB,EAAO,GAAG,EAAO,OAAS,EAAE,CAGhC,IAAK,IAAI,EAAI,EAAG,EAAI,IAChB,EAAO,EAAO,GAAG,EAAO,EAAE,CAEtB,IAAS,MAHS,IAOtB,EAAK,KAAK,EAAK,CAGnB,OAAO,GAGX,MAAO,UAAW,CACd,OAAO,KAAK,QAGhB,QAAS,UAAW,CAChB,KAAK,OAAO,SAAS,CACrB,KAAK,QAAQ,EAEpB,CAAC,CAEF,EAAO,GAAM,EAAM,KAAM,CACrB,QAAS,CACL,KAAM,GACT,CACM,QACK,aACY,yBAClB,QACI,WACQ,mBACD,kBACI,sBACL,kBACC,mBACM,yBACV,eACN,QACK,cACL,QACC,UACK,eAChB,CAAC,GACH,OAAO,MAAM,OAAO,CACvB,IAAA,EAAe"}