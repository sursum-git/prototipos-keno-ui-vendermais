/**
 * Kendo UI v2026.1.212 (http://www.telerik.com/kendo-ui)
 * Copyright 2026 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
(function(e,t){typeof exports==`object`&&typeof module<`u`?t(exports,require(`kendo.core.min.js`),require(`kendo.listview.min.js`),require(`kendo.treeview.min.js`),require(`kendo.icons.min.js`),require(`kendo.data.min.js`),require(`kendo.menu.min.js`),require(`kendo.toolbar.min.js`),require(`kendo.breadcrumb.min.js`),require(`kendo.upload.min.js`),require(`kendo.dialog.min.js`),require(`kendo.resizable.min.js`),require(`kendo.switch.min.js`),require(`kendo.textbox.min.js`)):typeof define==`function`&&define.amd?define([`exports`,`kendo.core.min`,`kendo.listview.min`,`kendo.treeview.min`,`kendo.icons.min`,`kendo.data.min`,`kendo.menu.min`,`kendo.toolbar.min`,`kendo.breadcrumb.min`,`kendo.upload.min`,`kendo.dialog.min`,`kendo.resizable.min`,`kendo.switch.min`,`kendo.textbox.min`],t):(e=typeof globalThis<`u`?globalThis:e||self,t((e.kendo=e.kendo||{},e.kendo._globals=e.kendo._globals||{},e.kendo._globals.Filemanager={}),e.kendo._globals.Core,e.kendo._globals.Listview,e.kendo._globals.Treeview,e.kendo._globals.Icons,e.kendo._globals.Data,e.kendo._globals.Menu,e.kendo._globals.Toolbar,e.kendo._globals.Breadcrumb,e.kendo._globals.Upload,e.kendo._globals.Dialog,e.kendo._globals.Resizable,e.kendo._globals.Switch,e.kendo._globals.Textbox))})(this,function(e,t,n,r,i,a,o,s,c,l,u,d,f,p){Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:`Module`}}),(function(e,t){var n=window.kendo,r=e.extend,i=e.Deferred,a=n.Class,o=a.extend({init:function(e){this.options=e,this.filemanager=e.filemanager}}),s=o.extend({init:function(e){o.fn.init.call(this,e)},_renameNewFolder:function(t){let r=this,i=r.filemanager||r,a=i.view().widgetComponent,o=n.attr(`uid`),s=a.items().filter(function(n,r){return e(r).attr(o)==t}).first();s.length>0&&(a.select(s[0]),i.executeCommand({command:`RenameCommand`,options:{target:e(s),item:i.getSelected()[0]}}))},exec:function(){var e=this,t=e.filemanager,n=t._commandStack,r=t._viewDataSource||t.dataSource,i=e._remove.bind(e);e._item=r._createNewModel(),e._item._fromCreateFolderCommand=!0;let a={item:e._item.toJSON(),renameFolderProxy:e._renameNewFolder};n.push(a).fail(i),r.add(e._item)},_remove:function(){var e=this,t=e.filemanager;(t._viewDataSource||t.dataSource).pushDestroy(e._item)}}),c=o.extend({init:function(e){o.fn.init.call(this,e)},exec:function(){var e=this,t=e.options.target,n=e.filemanager,r=n._commandStack,i=n._view.widgetComponent.dataItem(t);t&&i?(r.push({target:t,item:i}),e.filemanager._view.edit(t)):e._renameTreeViewItem(t)},_renameTreeViewItem:function(e){var t=this,n=t.filemanager._commandStack,r=e.data(`uid`),i=t.filemanager.treeView.widgetComponent.dataSource.getByUid(r),a=t.filemanager.dataSource.get(i.id);t.filemanager._prompt({type:`rename`,defaultInput:a.name,target:e}).done(function(t){n.push({target:e,item:a}),a.set(`name`,t)})}}),l=o.extend({init:function(e){o.fn.init.call(this,e)},exec:function(){var e=this,t=e.options.target,n=e.filemanager,r=n.getSelected(),i=e.filemanager._view.widgetComponent.dataItem(t),a;if(t&&t.is(`.k-selected`)&&r&&r.length)a=r;else if(t&&i)a=i;else if(t){var o=t.data(`uid`),s=e.filemanager.treeView.widgetComponent.dataSource.getByUid(o);a=e.filemanager.dataSource.get(s.id)}n._confirm({type:`delete`,target:t}).done(function(){e.removeItems(a)})},removeItems:function(e){var t=this;t._itemsToRemove=Array.isArray(e)?e:[e],t._removeItem()},_removeItem:function(){var e=this,t=e.filemanager,n=t._commandStack,r=t.dataSource,i=!!e._itemsToRemove.length&&e._itemsToRemove.splice(0,1)[0];i&&(n.push({item:i}).then(e._removeItem.bind(e),e._removeItem.bind(e)),r.remove(i))}}),u=o.extend({init:function(e){o.fn.init.call(this,e)},exec:function(){for(var e=this,t=e.filemanager,n=t.dataSource,r=t._commandStack,i=e.options.items,a=n.get(e.options.target),o=a.children,s=0;s<i.length;s++){var c=n.get(i[s]).toJSON();c.fileManagerNewItem=!0,r.push({item:c,target:a}),o.add(c)}}}),d=o.extend({init:function(e){var t=this;o.fn.init.call(t,e),t._itemsToRemove=[]},exec:function(){for(var e=this,t=e.filemanager,r=t._commandStack,i=t.dataSource,a=e.options.items,o=i.get(e.options.target),s=o.children,c=[],l=0;l<a.length;l++){var u=i.get(a[l]),d=u.toJSON();d.fileManagerNewItem=!0;var f=r.push({item:u,target:o}).then(e._delete.bind(e));c.push(f),s.add(d)}n.whenAll(c).always(e._removeItem.bind(e))},_delete:function(e){this._itemsToRemove.push(e.item)},_removeItem:function(){var e=this,t=e.filemanager,n=t._commandStack,r=t.dataSource,i=!!e._itemsToRemove.length&&e._itemsToRemove.splice(0,1)[0];i&&(n.push({item:i}).then(e._removeItem.bind(e),e._removeItem.bind(e)),r.remove(i))}}),f=o.extend({init:function(e){o.fn.init.call(this,e)},exec:function(){var e=this,t=e.options,n=e.filemanager,i=n.defaultSortOption;r(i,{dir:t.dir,field:t.field}),n._view.widgetComponent.dataSource.sort([n.folderSortOption,i])}}),p=o.extend({init:function(e){o.fn.init.call(this,e)},exec:function(){var e=this,t=e.options,n=e.filemanager,r={field:t.field,operator:t.operator,value:t.value||``};n._view.widgetComponent.dataSource.filter(r)}}),m=o.extend({init:function(e){o.fn.init.call(this,e)},exec:function(){var e=this,t=e.options,n=e.filemanager;n.view(t.value),n.resize(!0)}}),h=o.extend({init:function(e){o.fn.init.call(this,e)},exec:function(){var e=this,t=e.filemanager[e.options.type];t?t.open():window.console.warn(n.format(`The {0} dialog is not available!`,e.options.type))}}),g=o.extend({init:function(e){o.fn.init.call(this,e)},exec:function(){var e=this,t=e.filemanager,n=t[e.options.type],r=e.getResizable();n&&(n.toggle(),r&&t.wrapper.find(r.options.handle).toggle())},getResizable:function(){var e=this,t=e.filemanager,n=e.options.type;if(t._resizeDraggable)return t._resizeDraggable[n]}}),_=a.extend({init:function(){var e=this;e._stack={},e._keys=[]},push:function(e){var t=this,r=n.guid();return t._keys.push(r),t._stack[r]={guid:r,data:e,deferred:i()},t._stack[r].deferred},next:function(){var e=this,t=e.keys().splice(0,1);return e._stack[t]},resolve:function(e){var t=this;delete t._stack[e.guid],e.deferred.resolve(e.data)},reject:function(e){var t=this;delete t._stack[e.guid],e.deferred.reject(e.data)},keys:function(){return this._keys},empty:function(){return this.keys().length===0}});r(n.ui,{filemanager:{FileManagerCommand:o,CommandStack:_,commands:{CreateFolderCommand:s,RenameCommand:c,DeleteCommand:l,MoveCommand:d,CopyCommand:u,SortCommand:f,SearchCommand:p,ChangeViewCommand:m,OpenDialogCommand:h,TogglePaneCommand:g}}})})(window.kendo.jQuery),(function(e,t){var n=window.kendo,r=n.ui,i=n.Observable,a=e.extend,o=n.htmlEncode,s=n.keys,c=`navigate`,l=`select`,u=`expand`,d=`change`,f=`open`,p=`load`,m=`keydown`,h=`keydownAction`,g=`.kendoFileManagerViewComponent`,_=[],v=null,y=function(e,t){r.filemanager.ViewComponents[e]=t},b=function(e){return r.filemanager.ViewComponents[e]||null},x=i.extend({init:function(e,t,n){var r=this;if(r.element=t,r.options=n,e)r.widgetComponent=new e(t,n);else throw Error(`The widget for the ViewComponent is not available! Please add the corresponding scripts!`);i.fn.init.call(r)},_bindEvents:function(){this.widgetComponent.bind(`dataBinding`,this._binding.bind(this)),this.widgetComponent.bind(`dataBound`,this._bound.bind(this))},_binding:function(e){this.trigger(`dataBinding`,e)&&e.preventDefault()},_bound:function(){this.trigger(`dataBound`)},_setDSOptions:function(e,t){!e.dataSource&&t&&(e.dataSource=t)},_initDragAndDrop:function(e,t){var n=this;t||=n.options.dropFilter,e||=n.element,n.draggable=e.kendoDraggable({filter:t,hint:n._hint.bind(n),cursorOffset:{top:-10,left:-50},holdToDrag:!0,ignore:`input, .k-focusable`,hold:n._hold.bind(n)}).data(`kendoDraggable`),n.draggable.userEvents.minHold=150,n.droptarget=e.kendoDropTargetArea({filter:t,drop:n._onDrop.bind(n),dragenter:function(e){e.dropTarget.addClass(`k-filemanager-drop-target`)},dragleave:function(e){e.dropTarget.removeClass(`k-filemanager-drop-target`)}}).data(`kendoDraggable`)},_hold:function(e){var t=this,n=e.currentTarget;n.is(`.k-selected`)||(t.widgetComponent.selectable&&t.widgetComponent.selectable.clear(),t.widgetComponent.select(n)),t.widgetComponent.selectable&&t.widgetComponent.selectable.userEvents.cancel()},_hint:function(e){var t=this,r=t.widgetComponent.dataItem(e),i=t.widgetComponent.select();return v=t.widgetComponent,_=i,i.length>1?`<div class='k-filemanager-drag-hint'>${n.ui.icon(`file`)} <span>${i.length} ${t.options.messages.items}</span></div>`:`<div class='k-filemanager-drag-hint'>${n.ui.icon(r.isDirectory?`folder`:`file`)} <span>${r.name}</span></div>`},_onDrop:function(e){var t=this.widgetComponent.dataItem(e.dropTarget),n=t.id,r=[];if(t.isDirectory){for(var i=0;i<_.length;i++){var a=v.dataItem(_[i]).id;r.push(a)}this.trigger(`drop`,{target:n,items:r})}},getSelected:function(){throw Error(`Not Implemented!`)},refresh:function(e){this.widgetComponent.setDataSource(e)},destroy:function(){n.destroy(this.element)}});a(n.ui.filemanager,{ViewComponent:x,ViewComponents:{},registerViewComponent:y,getViewComponent:b});var S=x.extend({init:function(e,t,n){var i=this,o=n.dataSource,s=n.messages;t=a({},i.defaultOptions,t,{messages:s,ariaLabel:n.ariaLabel}),i._setDSOptions(t,o),t.kendoKeydown=t.kendoKeydown||i._kendoKeydown.bind(i),x.fn.init.call(this,r.ListView,e,t),i.listView=i.widgetComponent,i._bindEvents(),n.draggable!==!1&&!o.isLocalBinding&&i._initDragAndDrop()},defaultOptions:{layout:`flex`,flex:{direction:`row`,wrap:`wrap`},selectable:n.support.mobileOS?`row`:`multiple`,template:({name:e,extension:t,isDirectory:r})=>`<div class='k-listview-item' title='${o(e)}${o(t??``)}'><div class='k-file-preview'>${n.ui.icon({icon:r?`folder`:n.getFileGroup(t,!0),iconClass:`k-file-icon`,size:`xxxlarge`})}</div><div class='k-file-name file-name'>${o(e)}${o(t??``)}</div></div>`,editTemplate:({extension:e,isDirectory:t})=>`<div class='k-listview-item'><div class='k-file-preview'>${n.ui.icon({icon:t?`folder`:n.getFileGroup(e,!0),iconClass:`k-file-icon`,size:`xxxlarge`})}</div><div class='k-file-name'><span class='k-textbox k-input'><input type='text' class='k-input-inner' data-bind='value:name' name='name' required='required' /><span></div></div>`,dropFilter:`.k-listview-item`,navigatable:!0},_bindEvents:function(){var e=this,t=e.listView;t.bind(d,e._select.bind(e)),t.element.on(`dblclick`+g,e._dblClick.bind(e)),t.element.on(`mousedown`+g,`.k-listview-item:not(.k-edit-item)`,e._mousedown.bind(e)),t.element.on(m+g,`.k-edit-item`,e._keydown.bind(e)),t.element.on(m+g,e._keydownAction.bind(e)),t.bind(`edit`,function(t){var n=t.sender;t.item.find(`input`).on(`blur`,function(){var t=n._modelFromElement(n.editable.element)?.dirty;n._closeEditable(),t||e.trigger(`cancel`)})}),t.bind(`cancel`,function(){e.trigger(`cancel`)}),x.fn._bindEvents.call(this)},_select:function(){var e=this,t=e.getSelected();e.trigger(l,{entries:t})},_keydown:function(e){var t=this;e.keyCode===n.keys.ESC&&(t.listView._closeEditable(),t.trigger(`cancel`))},_keydownAction:function(t){var n=this,r=e(t.target).find(`.k-focus`);r.length&&!r.is(`.k-edit-item`)&&n.trigger(h,{target:r,keyCode:t.keyCode})},_mousedown:function(t){var n=this,r=e(t.target).closest(`.k-listview-item`);t.which===3&&!r.is(`.k-selected`)&&(n.listView.selectable.clear(),n.listView.select(r))},_kendoKeydown:function(e){var t=this;e.keyCode===s.ENTER&&!e.preventKendoKeydown&&t._handleEnterKey(e)},_handleEnterKey:function(t){var n=this,r=e(t.target),i=n.listView.current();n.widgetComponent.editable&&r.is(`input`)?r.trigger(`blur`):n.widgetComponent.editable||n._triggerOpen(i),t.preventKendoKeydown=!0},_dblClick:function(t){var n=this,r=e(t.target).closest(`.k-listview-item`);n._triggerOpen(r)},_triggerOpen:function(e){var t=this;if(!e.is(`.k-edit-item`)){var n=t.listView.dataItem(e);n&&t.trigger(f,{entry:n})}},addFolder:function(){this.listView.add()},edit:function(e){var t=this,n=t.listView.select();t.listView.edit(e||n)},getSelected:function(){for(var e=this,t=e.listView.select(),n=[],r=0;r<t.length;r++){var i=e.listView.dataItem(t[r]);i&&n.push(i)}return n},destroy:function(){this.listView.element.off(g),x.fn.destroy.call(this)}});r.filemanager.registerViewComponent(`list`,S);var C=x.extend({init:function(e,t,n){var i=this,o=n.messages;t=a({},i.defaultOptions,t,{messages:o}),x.fn.init.call(this,r.TreeView,e,t),i.treeView=i.widgetComponent,i._bindEvents(),n.draggable!==!1&&!n.isLocalBinding&&i._initDragAndDrop()},defaultOptions:{dataTextField:`name`,dropFilter:`.k-treeview-item`},_refreshDataSource:function(r){var i=this,o=i.treeView,s=r.action,c=r.node,l=null,u=o.element,d=u.attr(`aria-activedescendant`),f=r.items.filter(function(e){return e.isDirectory}).map(function(e){return a({},e.toJSON(),{id:e.id||n.guid(),hasChildren:e.hasDirectories&&e.hasChildren,items:[]})});if(c){let e=o.dataSource.get(c.id)?.uid;l=e?o.findByUid(e):null,l&&f.length&&o._progress(l,!1)}if(f.length){if(l&&(s==`itemloaded`||s===`sync`))l.find(`.k-treeview-item`).each(function(e,t){o.remove(t)}),o.append(f,l),i._shouldFocus&&(o.current(l),o.focus());else if(s==`remove`)this._remove(f[0].id);else if(s==`itemchange`){var p=o.dataSource.get(f[0].id);p?p.set(r.field,f[0][r.field]):l&&o.append(f[0],l)}else o.dataSource.data().length?(s===`sync`||s===t&&!l)&&(o.items().each(function(e,t){o.remove(t)}),o.append(f),i._shouldFocus&&(o.current(o._nextVisible(e())),o.focus())):o.append(f);d&&u.find(`#`+d).length===0&&u.removeAttr(`aria-activedescendant`)}},_remove:function(e){var t=this.treeView,n=t.dataSource.get(e),r;n&&(r=t.findByUid(n.uid),t.remove(r))},_bindEvents:function(){var e=this;e.treeView.bind(l,e._navigate.bind(e)),e.treeView.bind(u,e._expand.bind(e)),e.treeView.element.on(m,e._keydownAction.bind(e))},_keydownAction:function(t){var n=this,r=e(t.target).find(`.k-focus`).closest(`.k-treeview-item`);n.trigger(h,{target:r,keyCode:t.keyCode})},_expand:function(e){var t=this,n=t.treeView.dataItem(e.node);e.preventDefault(),t.trigger(p,{entryId:n.id})},_navigate:function(e){var t=this,n=e.node,r=t.treeView.dataItem(n),i=r.id;e.preventDefault(),t.trigger(c,{path:i,entry:r.toJSON()})},_hold:e.noop,getSelected:function(){var e=this,t=e.treeView.element.find(`.k-selected`).closest(`.k-treeview-item`);return e.treeView.dataItem(t)},refresh:function(e){var t=this.treeView,n=t.dataSource.get(e),r=n&&t.findByUid(n.uid);n&&r&&(t.element.find(`.k-selected`).removeClass(`k-selected`),r.find(`> span.k-treeview-item-content`).removeClass(`k-hover`).addClass(`k-selected`))},reload:function(){this.treeView.dataSource.read()}});if(r.filemanager.registerViewComponent(`tree`,C),n.ui.Grid){var w=x.extend({init:function(e,t,n){var i=this,o=n.dataSource,s=n.messages;t=a({},i.defaultOptions,t,{messages:s}),i._setDSOptions(t,o),i._setupColumns(t,s),t.kendoKeydown=t.kendoKeydown||i._kendoKeydown.bind(i),x.fn.init.call(this,r.Grid,e,t),i.grid=i.widgetComponent,i._bindEvents(),n.draggable!==!1&&!o.isLocalBinding&&i._initDragAndDrop(),n.ariaLabel&&i.element.find(`[role=grid]`).attr(`aria-label`,n.ariaLabel)},defaultOptions:{selectable:n.support.mobileOS?`row`:`multiple`,editable:{mode:`inline`,confirmation:!1},sortable:!0,dropFilter:`tr:not(.k-grid-edit-row)`,navigatable:!0},_setupColumns:function(e,t){e.columns||=[{field:`name`,title:t.nameField||`Name`,template:function(e){let t=e.isDirectory?`folder`:n.getFileGroup(e.extension,!0),r=n.htmlEncode(e.name+(e.extension??``));return`<div class='file-group-icon'>`+n.ui.icon(t)+`</div><div class='file-name'>`+r+`<div>`}},{field:`created`,title:t.dateCreatedField,format:`{0:G}`},{field:`size`,title:t.sizeField,template:function(e){return e.size>0?n.getFileSizeMessage(e.size):``}}]},_bindEvents:function(){var t=this,n=t.grid;n.bind(d,t._select.bind(t)),n.table.on(`dblclick`+g,t._dblClick.bind(t)),n.table.on(`mousedown`+g,`tr:not(.k-grid-edit-row)`,t._mousedown.bind(t)),n.table.on(m+g,`.k-grid-edit-row`,t._keydown.bind(t)),n.table.on(m+g,t._keydownAction.bind(t)),n.bind(`edit`,function(){t._toggleFocusable(!0)}),n.bind(`cancel`,function(){t.trigger(`cancel`)}),n.saveRow=e.noop,x.fn._bindEvents.call(this)},_kendoKeydown:function(e){var t=this,n=t.grid.current(),r=n?n.closest(`tr[data-uid]`):null;r&&e.keyCode===s.ENTER&&!e.preventKendoKeydown&&(t._triggerOpen(r),e.preventKendoKeydown=!0),e.keyCode===s.F2&&(e.preventKendoKeydown=!0)},_keydownAction:function(t){var n=this,r=e(t.target).find(`.k-focus`).closest(`tr`);r.length&&!r.is(`.k-grid-edit-row`)&&n.trigger(h,{target:r,keyCode:t.keyCode})},_keydown:function(t){var r=this,i=r.grid;e(t.target).closest(`.k-grid-edit-row`).length&&(t.keyCode===n.keys.ENTER&&(setTimeout(function(){(r.grid._editContainer||e()).find(`input`).trigger(`blur`),r._closeEditable()}),r._tryCancel()),t.keyCode===n.keys.ESC&&(i.cancelChanges(),r.trigger(`cancel`)))},_mousedown:function(t){var n=this,r=e(t.target).closest(`tr[data-uid]`);t.which===1&&n.grid.editable&&(setTimeout(function(){n._closeEditable()}),n._tryCancel()),t.which===3&&!r.is(`.k-selected`)&&(n.grid.selectable.clear(),n.grid.select(r))},_tryCancel:function(){var e=this,t=e.grid,n;t.editable&&(n=t._editContainer,n.find(`input`).val()||t.cancelChanges()),setTimeout(function(){e._toggleFocusable(!1)})},_toggleFocusable:function(e){this.grid.table.find(`tr,td`).children().addBack().toggleClass(`k-focusable`,e)},_closeEditable:function(){var e=this,t;e.grid.editable&&!e.grid.editable.options.model.dirty&&(t=e.grid._editContainer,e.grid._destroyEditable(),e.grid._displayRow(t),e.trigger(`cancel`))},_select:function(){var e=this,t=e.getSelected();e.trigger(l,{entries:t})},_dblClick:function(t){var n=this,r=e(t.target).closest(`tr[data-uid]`);n._triggerOpen(r)},_triggerOpen:function(e){var t=this;if(!e.is(`.k-grid-edit-row`)){var n=t.grid.dataItem(e);n&&t.trigger(f,{entry:n})}},items:function(){return this.grid.tbody.find(`tr`)},getSelected:function(){for(var e=this,t=e.grid.select(),n=[],r=0;r<t.length;r++)n.push(e.grid.dataItem(t[r]));return n},addFolder:function(){this.grid.addRow()},edit:function(e){var t=this,n=t.grid.select();t.grid.editRow(e||n)},destroy:function(){this.grid.table.off(g),this.grid.element.off(g),x.fn.destroy.call(this)}});r.filemanager.registerViewComponent(`grid`,w)}})(window.kendo.jQuery),(function(e,t){var n=window.kendo,r=e.extend,i=n.data,a=i.Node,o=i.HierarchicalDataSource,s=i.DataSource;r(!0,n.data,{schemas:{filemanager:{data:function(e){return e.items||e||[]},model:{id:`path`,hasChildren:`hasDirectories`,fields:{name:{editable:!0,type:`string`,defaultValue:`New Folder`},size:{editable:!1,type:`number`},path:{editable:!1,type:`string`},extension:{editable:!1,type:`string`},isDirectory:{editable:!1,defaultValue:!0,type:`boolean`},hasDirectories:{editable:!1,defaultValue:!1,type:`boolean`},created:{type:`date`,editable:!1},createdUtc:{type:`date`,editable:!1},modified:{type:`date`,editable:!1},modifiedUtc:{type:`date`,editable:!1}}}}}});var c=a.define({init:function(e){var t=this,r=this.isDirectory;if(a.fn.init.call(this,e),typeof r==`string`&&(r=n.getter(r)),n.isFunction(r)){var i=r.call(t,t);i&&i.length===0?t.isDirectory=!1:t.isDirectory=!!i}t.isDirectory&&t._initChildren()},_initChildren:function(){var e=this,t,r,i;e.children instanceof n.data.FileManagerDataSource||(t=e.children=new n.data.FileManagerDataSource(e._childrenOptions),r=t.transport,i=r.parameterMap,r.parameterMap=function(t,n){return(n===`read`||n===`create`)&&(t.target=e.id),i&&(t=i.call(e,t,n)),t},t.parent=function(){return e},t.bind(`change`,function(t){t.node=t.node||e,e.trigger(`change`,t)}),t.bind(`error`,function(t){var n=e.parent();n&&(t.node=t.node||e,n.trigger(`error`,t))}),e._updateChildrenField())},isNew:function(){return this.fileManagerNewItem?(delete this.fileManagerNewItem,!0):this.id===this._defaultId}}),l=o.extend({init:function(t){var r=c.define({children:t});t.filter&&!t.serverFiltering&&(this._hierarchicalFilter=t.filter,t.filter=null),s.fn.init.call(this,e.extend(!0,{},{schema:{modelBase:r,model:r}},t)),this.isLocalBinding=this.transport instanceof n.data.LocalTransport,this._attachBubbleHandlers()},insert:function(e,t){var n=this.parent();return n&&n._initChildren&&(t&&t.isDirectory&&(n.hasDirectories=!0),n.hasChildren=!0,n._initChildren()),s.fn.insert.call(this,e,t)},remove:function(e){var t=this,n=e.parentNode(),r=t,i;return n&&n._initChildren&&(r=n.children),t._cleanDestroyed(e),i=s.fn.remove.call(r,e),n&&r.data()&&!r.data().length?n.hasChildren=!1:n&&!this._hasDirectories(n)&&(n.hasDirectories=!1),i},_cleanDestroyed:function(e){var t=this,n=t;e.parentNode&&e.parentNode()?(e=e.parentNode(),n=e.children,n._destroyed=[],t._cleanDestroyed(e)):n._destroyed=[]},_hasDirectories:function(e){var t;return e.children.data()?(t=e.children.data().filter(function(e){return e.isDirectory}),!!t.length):!1}});l.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},n=t.data;return n&&n._dataSource?n._dataSource:(t.data=n,t instanceof l?t:new l(t))},n.observableFileManagerData=function(e){var t=l.create({data:e,schema:n.data.schemas.filemanager});return t.fetch(),t._data._dataSource=t,t._data},r(n.data,{FileManagerDataSource:l,FileEntry:c})})(window.kendo.jQuery),(function(e,t){var n=window.kendo,r=e.extend,i=n.template,a=n.ui.ContextMenu,o=`action`,s=a.extend({init:function(e,t){var n=this;a.fn.init.call(n,e,t),n._overrideTemplates(),n._initDefaultItems(),n._extendItems(),n.bind(`select`,n._onSelect.bind(n)),n.bind(`open`,n._onOpen.bind(n))},_overrideTemplates:function(){this.templates.sprite=i(({spriteCssClass:e,icon:t})=>e?`<span class="${e}"></span>`:``)},_initDefaultItems:function(){var e=this,t=e.options.messages;e.options.isLocalBinding?e.defaultItems={}:e.defaultItems={rename:{text:t.rename,icon:`pencil`,command:`RenameCommand`},delete:{text:t.delete,icon:`trash`,command:`DeleteCommand`}}},events:a.fn.events.concat([o]),_extendItems:function(){var t=this,n=t.options.items,r,i;if(n&&n.length)for(var a=0;a<n.length;a++)r=n[a],i=e.isPlainObject(r)&&Object.keys(r).length===1&&r.name,i&&(r=r.name),e.isPlainObject(r)?(t._extendItem(r),t.append(r)):t.defaultItems[r]&&(r=t.defaultItems[r],t._extendItem(r),t.append(r));else for(var o in t.defaultItems)r=t.defaultItems[o],t._extendItem(r),t.append(r)},_extendItem:function(e){var t=this.options.messages;r(e,{text:t[e.text],spriteCssClass:e.spriteCssClass||``,attr:{"data-command":e.command}})},_onSelect:function(t){var n=e(t.item).data(`command`),r=e(t.target);n&&this.action({command:n,options:{target:r}})},_onOpen:function(t){!t.sender.options.items&&e.isEmptyObject(this.defaultItems)&&t.preventDefault()},action:function(e){this.trigger(o,e)}});r(n.ui.filemanager,{ContextMenu:s})})(window.kendo.jQuery);let m={id:`filemanager`,name:`FileManager`,category:`web`,description:`The FileManager widget displays offers file management functionality.`,depends:[`core`,`data`,`listview`,`toolbar`,`breadcrumb`,`menu`,`treeview`,`upload`,`dialog`,`switch`,`resizable`,`selectable`,`editable`,`textbox`,`icons`],features:[{id:`filemanager-grid-view`,name:`GridView`,description:`Support for GridView`,depends:[`grid`]}]};(function(e,t){var n=kendo.ui,r=e.extend,i=kendo.htmlEncode,a=e.isPlainObject,o=Array.isArray,s=n.DataBoundWidget,c=kendo.template,l=kendo._outerHeight,u=`.kendoFileManager`,d=`navigate`,f=`select`,p=`open`,m=`error`,h=`change`,g=`upload`,_=`success`,v=`click`,y=`toggle`,b=`close`,x=`hide`,S=`load`,C=`dataBinding`,w=`dataBound`,T=`drop`,E=`execute`,D=`command`,O=`keydownAction`,k=`cancel`,A=`tree`,j=`.`,M={wrapper:`k-widget k-filemanager`,header:`k-filemanager-header`,navigation:`k-filemanager-navigation`,contentContainer:`k-filemanager-content-container`,content:`k-filemanager-content`,preview:`k-filemanager-preview`,toolbar:`k-filemanager-toolbar`,treeview:`k-filemanager-treeview`,breadcrumb:`k-filemanager-breadcrumb`,view:`k-filemanager-view`,grid:`k-filemanager-grid`,list:`k-filemanager-listview`,upload:`k-filemanager-upload`,uploadDialog:`k-filemanager-upload-dialog`,splitBar:`k-splitbar`,splitBarHorizontal:`k-splitbar-horizontal k-splitbar-draggable-horizontal`,splitBarHover:`k-splitbar-horizontal-hover`,splitBarIcon:`k-icon k-resize-handle`,splitBarNavigation:`k-filemanager-splitbar-navigation`,splitBarPreview:`k-filemanager-splitbar-preview`,resizable:`k-filemanager-resizable`},N={filePreview:`k-file-preview`,fileInfo:`k-file-info`,fileName:`k-file-name`,fileMeta:`k-file-meta`,metaLabel:`k-file-meta-label`,metaValue:`k-file-meta-value`,extension:`k-file-type`,size:`k-file-size`,created:`k-file-created`,modified:`k-file-modified`},P=s.extend({init:function(e,t){var r=this;s.fn.init.call(r,e,t),r.options=kendo.deepExtend({},r.options,t),r.defaultSortOption={field:`name`,dir:`asc`},r.folderSortOption={field:`isDirectory`,dir:`desc`},r._commandStack=new n.filemanager.CommandStack,r._dataSource(),r._wrapper(),r._renderHeader(),r._renderContentContainer(),r._initContextMenu(),r._renderNavigation(),r._renderContent(),r._renderPreview(),r._initUploadDialog(),r._resizable(),r._attachKeyDown(),r.resize(),kendo.notify(r,kendo.ui)},options:{name:`FileManager`,height:500,resizable:!0,initialView:{grid:`grid`,list:`list`}.list,toolbar:{resizable:!0},contextMenu:{},upload:{},uploadUrl:``,views:{},breadcrumb:{},draggable:!0,dialogs:{upload:{width:530},moveConfirm:{width:350,closable:!0},deleteConfirm:{width:360,closable:!0},renamePrompt:{width:350,closable:!0}},previewPane:{metaFields:[`extension`,`size`,`created`,`modified`],noFileTemplate:({styles:e,messages:t})=>`<div class="${i(e.fileInfo)}"><div class="${i(e.filePreview)}"><span class="k-file-icon k-icon k-svg-icon k-i-none" aria-hidden="true"></span></div><span class="${i(e.fileName)}" k-no-file-selected>${i(t.noFileSelected)}</span></div>`,singleFileTemplate:({styles:e,selection:t,metaFields:n,messages:r})=>{let a=``;if(a+=`<div class="${i(e.fileInfo)}"><div class="${i(e.filePreview)}">`+kendo.ui.icon({icon:t[0].isDirectory?`folder`:i(kendo.getFileGroup(t[0].extension,!0)),iconClass:`k-file-icon`,size:`xxxlarge`})+`</div><span class="${i(e.fileName)}">${i(t[0].name)}</span>`,n){a+=`<dl class="${i(e.fileMeta)}">`;for(var o=0;o<n.length;o+=1){var s=n[o];a+=`<dt class="${i(e.metaLabel)}">${i(r[s])}: </dt><dd class="${i(e.metaValue)} ${i(e[s])}">`,s==`size`?a+=` ${i(kendo.getFileSizeMessage(t[0][s]))}`:t[0][s]instanceof Date?a+=` ${i(kendo.toString(t[0][s],`G`))}`:s==`extension`?a+=` ${i(t[0].isDirectory?`folder`:kendo.getFileGroup(t[0].extension))}`:a+=` ${i(t[0][s])}`,a+=`</dd><dd class="k-line-break"></dd>`}a+=`</dl>`}return a+=`</div>`,a},multipleFilesTemplate:({styles:e,selection:t,messages:n})=>`<div class="${i(e.fileInfo)}"><div class="${i(e.filePreview)}">`+kendo.ui.icon({icon:`file`,iconClass:`k-file-icon`,size:`xxxlarge`})+`</div><span class="${i(e.fileName)}">${i(t.length)} ${i(n.items)}</span></div>`},messages:{toolbar:{createFolder:`New Folder`,upload:`Upload`,sortDirection:`Sort Direction`,sortDirectionAsc:`Sort Direction Ascending`,sortDirectionDesc:`Sort Direction Descending`,sortField:`Sort By`,nameField:`Name`,sizeField:`File Size`,typeField:`Type`,dateModifiedField:`Date Modified`,dateCreatedField:`Date Created`,listView:`List View`,gridView:`Grid View`,search:`Search`,details:`View Details`,detailsChecked:`On`,detailsUnchecked:`Off`,delete:`Delete`,rename:`Rename`},views:{nameField:`Name`,sizeField:`File Size`,typeField:`Type`,dateModifiedField:`Date Modified`,dateCreatedField:`Date Created`,items:`items`,listLabel:`FileManager ListView`,gridLabel:`FileManager Grid`,treeLabel:`FileManager TreeView`},dialogs:{upload:{title:`Upload Files`,clear:`Clear List`,done:`Done`},moveConfirm:{title:`Confirm`,content:`<p class='k-text-center'>Do you want to move or copy?</p>`,okText:`Copy`,cancel:`Move`,close:`close`},deleteConfirm:{title:`Confirm`,content:`<p class='k-text-center'>Are you sure you want to delete the selected file(s)?</br>You cannot undo this action.</p>`,okText:`Delete`,cancel:`Cancel`,close:`close`},renamePrompt:{title:`Prompt`,content:`<p class='k-text-center'>Enter new name for the file.</p>`,okText:`Rename`,cancel:`Cancel`,close:`close`}},previewPane:{noFileSelected:`No File Selected`,extension:`Type`,size:`Size`,created:`Date Created`,createdUtc:`Date Created UTC`,modified:`Date Modified`,modifiedUtc:`Date Modified UTC`,items:`items`}}},events:[d,f,p,C,w,m,T,E,D],defaultTools:{createFolder:{type:`button`,name:`createFolder`,command:`CreateFolderCommand`,rules:{remote:!0}},upload:{type:`button`,name:`upload`,command:`OpenDialogCommand`,options:`{ "type": "uploadDialog" }`,rules:{remote:!0}},sortDirection:{type:`buttonGroup`,buttons:[{name:`sortDirectionAsc`,showText:`overflow`,icon:`sort-asc-small`,togglable:!0,group:`sortDirection`,command:`SortCommand`,options:`{ "dir": "asc" }`,selected:!0},{name:`sortDirectionDesc`,showText:`overflow`,icon:`sort-desc-small`,togglable:!0,group:`sortDirection`,command:`SortCommand`,options:`{ "dir": "desc" }`}]},sortField:{type:`splitButton`,name:`sortField`,command:`SortCommand`,menuButtons:[{name:`nameField`,options:`{"field": "name"}`,command:`SortCommand`},{name:`typeField`,options:`{"field": "extension"}`,command:`SortCommand`},{name:`sizeField`,options:`{"field": "size"}`,command:`SortCommand`},{name:`dateCreatedField`,options:`{"field": "created"}`,command:`SortCommand`},{name:`dateModifiedField`,options:`{"field": "modified"}`,command:`SortCommand`}]},changeView:{type:`buttonGroup`,buttons:[{name:`gridView`,showText:`overflow`,icon:`grid`,togglable:!0,group:`changeView`,command:`ChangeViewCommand`,options:`grid`},{name:`listView`,showText:`overflow`,icon:`grid-layout`,togglable:!0,group:`changeView`,command:`ChangeViewCommand`,options:`list`}]},spacer:{type:`spacer`},details:{type:`component`,name:`details`,items:[{template:function(e){return`<label for='details-toggle'>`+i(e.componentOptions.messages.text)+`</label>`},overflow:`never`,componentOptions:{messages:{text:`details`}}},{name:`details`,command:`TogglePaneCommand`,options:`{ "type": "preview" }`,overflow:`never`,element:`<input id='details-toggle' class='k-filemanager-details-toggle' />`,component:`Switch`,componentOptions:{messages:{checked:`detailsChecked`,unchecked:`detailsUnchecked`},commandOn:`change`}}]},search:{type:`component`,name:`search`,command:`SearchCommand`,options:`{ "field": "name", "operator": "startswith" }`,overflow:`never`,component:`TextBox`,componentOptions:{placeholder:`search`,icon:`search`,commandOn:`input`}}},_attachKeyDown:function(){var e=this;e.wrapper.on(`keydown`+u,t=>{t.keyCode===kendo.keys.F10&&(t.preventDefault(),e.toolbar.element.find(`[tabindex=0]`).first().trigger(`focus`))})},_dataSource:function(){var e=this,t=e.options.dataSource||{},n=e.folderSortOption,i=e.defaultSortOption,s;t instanceof kendo.data.FileManagerDataSource?s=t:(s=o(t)?{data:t,autoSync:!1,sort:[n,i]}:r(!0,t,{autoSync:!1,sort:[n,i]}),t&&a(t.schema)?s.schema=t.schema:a(kendo.data.schemas.filemanager)&&(s.schema=kendo.data.schemas.filemanager)),e.dataSource&&e._errorHandler?(e.dataSource.unbind(m,e._errorHandler),e.dataSource.unbind(h,e._changeHandler)):(e._errorHandler=e._error.bind(e),e._changeHandler=e._change.bind(e)),e.dataSource=kendo.data.FileManagerDataSource.create(s).bind(m,e._errorHandler).bind(h,e._changeHandler)},_error:function(e){this.trigger(m,e)||window.console.warn(`Error! The requested URL returned `+e.xhr.status+` - `+e.xhr.statusText)},_wrapper:function(){var e=this,t=e.options,n=t.width,r=t.height;e.wrapper=e.element.addClass(M.wrapper),n&&e.wrapper.width(n),r&&e.wrapper.height(r),e._resizeHandler=kendo.onResize(function(){e.resize(!0)})},_renderHeader:function(){var t=this,n=t.options;n.toolbar&&(t.header=e(`<div />`).addClass(M.header)),t.wrapper.append(t.header),n.toolbar&&(t._initToolbar(),t.toolbar._tabIndex())},_renderContentContainer:function(){var t=this;t.contentContainer=e(`<div />`).addClass(M.contentContainer),t.wrapper.append(t.contentContainer)},_initContextMenu:function(){var e=this,t=e.options,i=r({},t.contextMenu,{filemanager:e,messages:t.messages.toolbar,target:e.contentContainer,filter:`[data-uid]`,action:e.executeCommand.bind(e),isLocalBinding:e.dataSource.isLocalBinding});t.contextMenu!==!1&&(e.contextMenu=new n.filemanager.ContextMenu(`<ul></ul>`,i),e.contextMenu.bind(p,e._cacheFocus.bind(e)))},_renderNavigation:function(){var t=this;t.navigation=e(`<div />`).addClass(M.navigation),t.navigation.append(t._initTreeView().element),t.contentContainer.append(t.navigation)},_renderContent:function(){var t=this,n=t.options,r=t.toolbar;t.content=e(`<div />`).addClass(M.content),n.breadcrumb&&t.content.append(t._initBreadcrumb().element),t.content.append(t._initView()),(!r||!t._isToolEnabled(t.defaultTools.upload.name))&&t.content.append(t._initUpload().wrapper.hide()),t.contentContainer.append(t.content)},_renderPreview:function(){var t=this;t.options.previewPane&&(t.preview=e(`<div tabindex='0' />`).addClass(M.preview),t.previewContainer=e(`<div />`).addClass(M.previewContainer),t.preview.append(t.previewContainer),t._setPreviewPaneContent(),t.contentContainer.append(t.preview.hide()))},_setPreviewPaneContent:function(){var e=this,t=e.options,n=t.messages.previewPane,r=t.previewPane,i=e.getSelected(),a;if(!i){a=c(r.noFileTemplate)({styles:N,messages:n}),e.previewContainer.html(a);return}a=i.length===1?r.singleFileTemplate:r.multipleFilesTemplate,a=c(a)({styles:N,messages:n,selection:i,metaFields:r.metaFields}),e.previewContainer.html(a)},_initToolbar:function(){var t=this,n=t.options,i=e(`<div />`).addClass(M.toolbar),a=r({},n.toolbar),o=a.items?a.items:Object.keys(t.defaultTools);return o=t._processTools(o),a.tools=o,a.defaultTools=t.defaultTools,a.parentMessages=t.options.messages.toolbar,t.header.append(i),t.toolbar=new kendo.ui.ToolBar(i,a),t.options.toolbar=t.toolbar.options,t.toolbar.bind(y,t._toolbarClick.bind(t)),t.toolbar.bind(b,t._toolbarClick.bind(t)),t.toolbar.bind(v,t._toolbarClick.bind(t)),t.toolbar.bind(h,t._toolbarClick.bind(t)),t.toolbar},_processTools:function(e){var t=this;return e.forEach(e=>{var n=e.rules||(t.defaultTools[e]?t.defaultTools[e].rules:null);n&&n.remote&&t.dataSource.isLocalBinding&&(e.rules?e.hidden=!0:t.defaultTools[e].hidden=!0),e.name===`changeView`?t.defaultTools[e.name].buttons.forEach((n,r)=>{n.options===t.options.initialView&&(t.defaultTools[e.name].buttons[r].selected=!0)}):e.buttons&&e.buttons[0].group===`changeView`&&e.buttons.forEach((n,r)=>{n.options===t.options.initialView&&(e.buttons[r].selected=!0)})}),e},_toolbarClick:function(t){var n=e(t.target).data(`command`),i=e(t.target).data(`options`);e(t.target).val()&&(i=r({},i,{value:e(t.target).val()})),n&&this.executeCommand({command:n,options:i})},_isToolEnabled:function(e){for(var t=this,n=t.options.toolbar.items||t.defaultTools,r=!1,i=0;i<n.length;i++)if(n[i].name==e){r=!0;break}return n[e]||r},_initTreeView:function(){var t=this,i=e(`<div />`).addClass(M.treeview),a=t.options.views[A],o=r(!0,{},{dataSource:t.options.dataSource,messages:t.options.messages.views,draggable:t.options.draggable,isLocalBinding:t.dataSource.isLocalBinding});return t.treeView=new n.filemanager.ViewComponents[A](i,a,o),t.treeView.bind(d,t._navigate.bind(t)).bind(S,t._load.bind(t)).bind(T,t._drop.bind(t)).bind(O,t._keydownAction.bind(t)),t.treeView},_drop:function(e){var t=this;!t.trigger(T,e)&&e.items.indexOf(e.target)<0&&t._confirm({type:`move`,target:e.target}).done(function(){t.executeCommand({command:`CopyCommand`,options:e})}).fail(function(){t.executeCommand({command:`MoveCommand`,options:e})})},_keydownAction:function(e){var t=this,n=e.keyCode,r=kendo.keys;n===r.DELETE&&t.executeCommand({command:`DeleteCommand`,options:{target:e.target}}),n===r.F2&&t.executeCommand({command:`RenameCommand`,options:{target:e.target}})},_confirm:function(t){var n=this,i=n.options.messages.dialogs[t.type+`Confirm`],a=e(`<div></div>`).kendoConfirm(r({},{title:i.title,content:i.content,messages:i},n.options.dialogs[t.type+`Confirm`])).data(`kendoConfirm`);return a.bind(p,n._cacheFocus.bind(n)),a.bind(x,n._restoreFocus.bind(n,t.target)),a.open(),a.wrapper.removeClass(`k-confirm`),a.result},_prompt:function(t){var n=this,i=this.options.messages.dialogs[t.type+`Prompt`],a=e(`<div></div>`).kendoPrompt(r({},{title:i.title,content:i.content,messages:i,value:t.defaultInput},this.options.dialogs[t.type+`Prompt`])).data(`kendoPrompt`);return a.bind(p,n._cacheFocus.bind(n)),a.bind(b,n._restoreFocus.bind(n,t.target)),a.open(),a.wrapper.removeClass(`k-prompt`),a.result},_cacheFocus:function(){var t=this,n=e(document.activeElement),r=t.view(),i=t.treeView.widgetComponent;if(!(t.contextMenu&&t.contextMenu.popup.visible())){if(t.treeView._shouldFocus=!1,i.current()&&i.current().find(`.k-focus`).length||n.hasClass(M.treeview)){t.treeView._shouldFocus=!0,r._focusElement=n;return}r._focusElement=n.hasClass(M[t._viewType])?n:null}},_restoreFocus:function(e){var t=this.view();e&&(t._focusElement?t._focusElement.trigger(`focus`):e.closest&&e.closest(`:kendoFocusable`).length&&e.closest(`:kendoFocusable`).trigger(`focus`))},_initView:function(){var t=this,n=e(`<div />`).addClass(M.view),r=t.options.initialView;return t.viewWrapper=n,t.viewWrapper.append(t.view(r)),n},_initBreadcrumb:function(){var t=this,i=t.options,a=e(`<nav />`).addClass(M.breadcrumb),o=r({},{items:[{type:`rootitem`,text:``}],change:t._breadcrumbChange.bind(t)},i.breadcrumb);return t.breadcrumb=new n.Breadcrumb(a,o),t.breadcrumb},_breadcrumbChange:function(e){var t=e.sender.items().filter(function(t){return t.path===e.value.substring(1)}).shift();this._navigate({path:t?t.id:``})},_initUploadDialog:function(){var t=this,i=t.options,a=i.messages.dialogs.upload,o=e(`<div />`),s=r({},{title:a.title,modal:!0,visible:!1,width:500,actions:[{text:()=>a.done,primary:!0},{text:()=>a.clear,action:t._clearUploadFilesList.bind(t)}],messages:a},i.dialogs.upload),c;if(t._shouldInitUpload())return c=t._initUpload(!0),t.uploadDialog=new n.Dialog(o,s),t.uploadDialog.wrapper.addClass(M.uploadDialog),t.uploadDialog.element.append(c.wrapper),t.uploadDialog},_shouldInitUpload:function(){var e=this.options,t=!1;return(e.uploadUrl||e.upload.async&&e.upload.async.saveUrl)&&e.upload!==!1&&(t=!0),t},_initUpload:function(t=!1){var i=this,a=i.options,o=e(`<input type='file' name='file'/>`).addClass(M.upload),s=r(!0,{async:{autoUpload:!0,saveUrl:a.uploadUrl}},a.upload);return t||(s.dropZone=i.viewWrapper),i.upload=new n.Upload(o[0],s),i.upload.bind(g,i._sendUploadPathParameter.bind(i)),i.upload.bind(_,i._success.bind(i)),i.upload},_sendUploadPathParameter:function(e){e.data=r(e.data,{path:this.path()})},_success:function(){this._view.widgetComponent.dataSource.read()},_clearUploadFilesList:function(){var e=this.upload;e&&e.clearAllFiles()},_toggleUploadDropZone:function(e){var t=this.upload;t&&t.setOptions({dropZone:e})},_binding:function(e){this.trigger(C,{source:`view`,action:e.action,items:e.items,index:e.index})&&e.preventDefault()},_bound:function(){this.options.previewPane&&this._setPreviewPaneContent(),this.trigger(w)},_createResizableSplitBar:function(t){var n=e(`<div />`).addClass(M.splitBar).addClass(M.splitBarHorizontal).addClass(t),r=e(`<span />`).addClass(M.splitBarIcon);return n.append(r),n.hover(function(){e(this).toggleClass(M.splitBarHover)}),n},_initResizableNavigation:function(){var e=this,t=e.wrapper,n=e._createResizableSplitBar(M.splitBarNavigation),r=t.find(j+M.content),i=t.find(j+M.navigation),a,o;n.insertAfter(i),e._resizeDraggable.navigation=e.wrapper.find(n).end().kendoResizable({handle:j+M.splitBarNavigation,start:function(){a=r.width(),o=i.width()},resize:function(e){var n=e.x.initialDelta;kendo.support.isRtl(t)&&(n*=-1),!(o+n<-2||a-n<-2)&&i.width(o+n)}}).getKendoResizable()},_initResizablePreview:function(){var e=this,t=e.wrapper,n=e._createResizableSplitBar(M.splitBarPreview),r=t.find(j+M.content),i=t.find(j+M.preview),a,o;e.options.previewPane&&(n.insertBefore(i).hide(),e._resizeDraggable.preview=t.find(n).end().kendoResizable({handle:j+M.splitBarPreview,start:function(){a=r.width(),o=i.width()},resize:function(e){var n=e.x.initialDelta;kendo.support.isRtl(t)&&(n*=-1),!(o-n<-2||a+n<-2)&&i.width(o-n)}}).getKendoResizable())},_resizable:function(){var e=this,t=e.options;e._resizeDraggable={},t.resizable&&(e.wrapper.addClass(M.resizable),e._initResizableNavigation(),e._initResizablePreview())},view:function(i){var a=this,o=e(`<div></div>`),s=a.options.views[i],c=r(!0,{},{dataSource:a._viewDataSource||a.dataSource,messages:a.options.messages.views,draggable:a.options.draggable,ariaLabel:a.options.messages.views[i+`Label`]});if(i===t)return a._view;if(!n.filemanager.ViewComponents[i])throw Error(kendo.format(`There is no {0} ViewComponent registered!`,i));if(a._view&&a._view.destroy&&(a._view.destroy(),a.viewWrapper.empty()),a._viewType=i,a._view=new n.filemanager.ViewComponents[i](o,s,c),a._view.bind(f,a._select.bind(a)),a._view.bind(p,a._open.bind(a)),a._view.bind(C,a._binding.bind(a)),a._view.bind(w,a._bound.bind(a)),a._view.bind(T,a._drop.bind(a)),a._view.bind(O,a._keydownAction.bind(a)),a._view.bind(k,a._cancel.bind(a)),a._view.element.addClass(M[i]),a.viewWrapper.removeClass(Object.keys(n.filemanager.ViewComponents).map(function(e){return M.view+`-`+e}).join(` `)).addClass(M.view+`-`+i),a.toolbar){let e=a.toolbar.wrapper.find(`[data-options="${i}"]`);e&&a.toolbar.toggle(e,!0)}a.viewWrapper.append(a._view.element)},executeCommand:function(e){var t=e.command,i=r({filemanager:this},a(e.options)?e.options:{value:e.options}),o=new n.filemanager.commands[t](i);if(!this.trigger(E,e))return o.exec()},_navigate:function(e){var t=this,n=e.path;t.trigger(d,{path:n})||t.navigate(n)},_load:function(e){this.dataSource.get(e.entryId).load()},_select:function(e){this.options.previewPane&&this._setPreviewPaneContent(),this.trigger(f,{entries:e.entries})},_open:function(e){var t=this,n=e.entry;t.trigger(p,{entry:n}),n.isDirectory&&t._navigate({path:n.id})},_cancel:function(){var e=this,t=e._commandStack,n=t.next();t.reject(n),e.trigger(D,{status:`cancel`,action:`itemchange`,data:n.data})},_change:function(e){var t=this,n=t._commandStack,r=e.node?e.node.children:t.dataSource;if(!t.trigger(C,{source:`tree`,action:e.action,items:e.items,index:e.index})){if(t.treeView._refreshDataSource(e),e.action===`remove`||e.action===`itemchange`||e.action===`add`)if(n.empty())r.sync();else{var i=n.next();r.sync().then(function(r){if(n.resolve(i),t.trigger(D,{status:`success`,action:e.action,data:i.data,response:r}),e.action===`add`&&i.data.item.hasOwnProperty(`_fromCreateFolderCommand`)){let n=e.items[0].uid;i.data.renameFolderProxy?.call(t,n),delete i.data.item._fromCreateFolderCommand,delete i.data.renameFolderProxy}}).fail(function(r){n.reject(i),t.trigger(D,{status:`fail`,action:e.action,data:i.data,response:r})})}e.action===`remove`&&t._viewDataSource&&t._viewDataSource.parent()&&e.items[0]===t._viewDataSource.parent()&&t._navigateToParent(e.items[0]),e.action==`itemchange`&&t._viewDataSource&&t._viewDataSource.parent()&&t.path().indexOf(e.items[0].id)>=0&&t._navigateToParent(e.items[0]),e.action===`itemchange`&&e.items[0].loaded(!1)}},_navigateToParent:function(e){var t=this,n=e.parentNode(),r=n?n.id:``;t._navigate({path:r})},_buildBreadcrumbPath:function(e){for(var t=this.breadcrumb,n=[];e;)n.push({id:e.id,text:e.name,path:e.path}),e=e.parentNode&&e.parentNode();n.push({type:`rootItem`,id:``,text:``}),t.items(n.reverse())},_adjustDimensions:function(){var e=this,t=e.wrapper,n=j+M.grid,r=j+M.list,i=j+M.contentContainer,a=t.height(),o=0,s=0;e.toolbar&&(o=l(e.toolbar.wrapper)),e.breadcrumb&&(s=l(e.breadcrumb.wrapper)),e.options.height!==`auto`&&(t.find([n].join(`,`)).height(a-(o+s+1)),t.find(r).parent().height(a-(o+s+1)),t.find(i).height(a-o))},_resize:function(){this._adjustDimensions(),kendo.resize(this.element.children())},setDataSource:function(e){var t=this;t.options.dataSource=e,t._dataSource(),t.toolbar&&(t.toolbar.destroy(),t.header.empty(),t._initToolbar(),t.toolbar._tabIndex()),t.treeView&&(t.treeView.destroy(),t.navigation.empty(),t.navigation.append(t._initTreeView().element)),t._view&&t.view(t._viewType||t.options.initialView),t._initContextMenu()},refresh:function(){var e=this;(e._viewDataSource||e.dataSource).read()},getSize:function(){return kendo.dimensions(this.wrapper)},getSelected:function(){var e=this,t=e._view.getSelected(),n=e.treeView;if(t&&t.length)return t;var r=n.getSelected();if(r)return[e.dataSource.get(r.id)]},path:function(){return this._path||``},navigate:function(t){var n=this,r=n.dataSource,i=r.get(t.replace(/^\//,``)),a=n._view,o=n.treeView,s=n.breadcrumb,c=t===``||t===`/`;if(!i&&!c){window.console.warn(`Error! Could not navigate to the folder at the requested path(`+t+`). Make sure that the parent folder of the target folder has already been loaded.`);return}if(n._path=t,!n.trigger(C,{source:`navigation`,action:`rebind`,items:[i]})){if(s&&n._buildBreadcrumbPath(i),c){r.sort([n.folderSortOption,n.defaultSortOption]),n._viewDataSource=r,a.refresh(n._viewDataSource),o.treeView.select(e()),n.options.previewPane&&n._setPreviewPaneContent();return}if(i.loaded&&!i.loaded()){let e=i.load();a.listView&&a.listView._progress(!0),a.grid&&a.grid._progress(!0),e.always(()=>{a.listView&&a.listView._progress(!1),a.grid&&a.grid._progress(!1)})}a&&(n._viewDataSource=i.children,n._viewDataSource._sort=[n.folderSortOption,n.defaultSortOption],a.listView&&(a.listView.options.autoBind=i.loaded()),a.grid&&(a.grid.options.autoBind=i.loaded()),a.refresh(n._viewDataSource)),o&&o.refresh(i.id),n.options.previewPane&&n._setPreviewPaneContent()}},items:function(){var e=this;return e.treeView.widgetComponent.items().add(e._view.widgetComponent.items())},destroy:function(){var e=this;s.fn.destroy.call(e),e.dataSource.unbind(m,e._errorHandler).unbind(h,e._changeHandler),e._resizeDraggable.navigation&&(e._resizeDraggable.navigation.destroy(),e._resizeDraggable.navigation=null),e._resizeDraggable.preview&&(e._resizeDraggable.preview.destroy(),e._resizeDraggable.preview=null),e.uploadDialog&&=(e.uploadDialog.destroy(),null),e.upload&&=(e.upload.destroy(),null),e.contextMenu&&=(e.contextMenu.destroy(),null),kendo.unbindResize(e._resizeHandler),e.dataSource=null,e._viewDataSource=null,kendo.destroy(e.element)}});n.plugin(P)})(window.kendo.jQuery);var h=kendo;e.__meta__=m,e.default=h});
//# sourceMappingURL=kendo.filemanager.min.js.map