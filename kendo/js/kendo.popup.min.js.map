{"version":3,"file":"kendo.popup.min.js","names":[],"sources":["../../src/kendo.popup.js"],"sourcesContent":["import \"./kendo.core.js\";\n\nexport const __meta__ = {\n    id: \"popup\",\n    name: \"Pop-up\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    advanced: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        Class = kendo.Class,\n        support = kendo.support,\n        getOffset = kendo.getOffset,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        DEACTIVATE = \"deactivate\",\n        ACTIVATE = \"activate\",\n        CENTER = \"center\",\n        LEFT = \"left\",\n        RIGHT = \"right\",\n        TOP = \"top\",\n        BOTTOM = \"bottom\",\n        ABSOLUTE = \"absolute\",\n        HIDDEN = \"hidden\",\n        BODY = \"body\",\n        LOCATION = \"location\",\n        POSITION = \"position\",\n        VISIBLE = \"visible\",\n        EFFECTS = \"effects\",\n        ACTIVE = \"k-active\",\n        ACTIVECHILDREN = \".k-picker-wrap, .k-dropdown-wrap, .k-link\",\n        MOUSEDOWN = \"down\",\n        DOCUMENT_ELEMENT = $(document.documentElement),\n        WINDOW = $(window),\n        SCROLL = \"scroll\",\n        TRANSFORM = \"transform\",\n        extend = $.extend,\n        NS = \".kendoPopup\",\n        styles = [\"font-size\",\n                  \"font-family\",\n                  \"font-stretch\",\n                  \"font-style\",\n                  \"font-weight\",\n                  \"line-height\"];\n\n    function contains(container, target) {\n        if (!container || !target) {\n            return false;\n        }\n        return container === target || $.contains(container, target);\n    }\n\n    var Popup = Widget.extend({\n        init: function(element, options) {\n            var that = this, parentPopup;\n            options = options || {};\n\n            if (options.isRtl) {\n                options.origin = options.origin || BOTTOM + \" \" + RIGHT;\n                options.position = options.position || TOP + \" \" + RIGHT;\n            }\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            that.collisions = options.collision ? options.collision.split(\" \") : [];\n            that.downEvent = kendo.applyEventMap(MOUSEDOWN, kendo.guid());\n\n            if (that.collisions.length === 1) {\n                that.collisions.push(that.collisions[0]);\n            }\n\n            parentPopup = $(that.options.anchor).closest(\".k-popup,.k-group,.k-menu-group\").filter(\":not([class^=km-])\"); // When popup is in another popup, make it relative.\n\n            options.appendTo = $($(options.appendTo)[0] || parentPopup[0] || document.body);\n\n            that.element.hide()\n                .addClass(\"k-popup\")\n                .toggleClass(\"k-rtl\", !!options.isRtl)\n                .appendTo(options.appendTo)\n                .attr(\"aria-hidden\", true)\n                .on(\"mouseenter\" + NS, function() {\n                    that._hovered = true;\n                })\n                .on(\"wheel\" + NS, function(e) {\n                    var list = $(e.target).find(\".k-list\");\n                    var scrollArea = list.parent();\n                    if (list.length && list.is(\":visible\") && ((scrollArea.scrollTop() === 0 && e.originalEvent.deltaY < 0) ||\n                        (scrollArea.scrollTop() === scrollArea.prop('scrollHeight') - scrollArea.prop('offsetHeight') && e.originalEvent.deltaY > 0))) {\n                           e.preventDefault();\n                    }\n                })\n                .on(\"mouseleave\" + NS, function() {\n                    that._hovered = false;\n                });\n\n            that.wrapper = $();\n\n            if (options.animation === false) {\n                options.animation = { open: { effects: {} }, close: { hide: true, effects: {} } };\n            }\n\n            extend(options.animation.open, {\n                complete: function() {\n                    that.wrapper.addClass(\"k-animation-container-shown\"); // Forcing refresh causes flickering in mobile.\n                    that.wrapper.css(\"overflow\",\"\");\n                    that._activated = true;\n                    that._trigger(ACTIVATE);\n                }\n            });\n\n            extend(options.animation.close, {\n                complete: function() {\n                    that._animationClose();\n                }\n            });\n\n            that._mousedownProxy = function(e) {\n                that._mousedown(e);\n            };\n\n            if (support.mobileOS.android) {\n                that._resizeProxy = function(e) {\n                    setTimeout(function() {\n                        that._resize(e);\n                    }, 600); //Logic from kendo.onResize\n                };\n            } else {\n                that._resizeProxy = function(e) {\n                    that._resize(e);\n                };\n            }\n\n            if (options.toggleTarget) {\n                $(options.toggleTarget).on(options.toggleEvent + NS, that.toggle.bind(that));\n            }\n        },\n\n        events: [\n            OPEN,\n            ACTIVATE,\n            CLOSE,\n            DEACTIVATE\n        ],\n\n        options: {\n            name: \"Popup\",\n            toggleEvent: \"click\",\n            origin: BOTTOM + \" \" + LEFT,\n            position: TOP + \" \" + LEFT,\n            anchor: BODY,\n            appendTo: null,\n            collision: \"flip fit\",\n            viewport: window,\n            copyAnchorStyles: true,\n            autosize: false,\n            autowidth: false,\n            modal: false,\n            adjustSize: {\n                width: 0,\n                height: 0\n            },\n            animation: {\n                open: {\n                    effects: \"slideIn:down\",\n                    transition: true,\n                    duration: 200\n                },\n                close: { // if close animation effects are defined, they will be used instead of open.reverse\n                    duration: 100,\n                    hide: true\n                }\n            },\n            omitOriginOffsets: false\n        },\n\n        _animationClose: function() {\n            var that = this;\n            var location = that.wrapper.data(LOCATION);\n            that.wrapper.hide();\n\n            if (location) {\n                that.wrapper.css(location);\n            }\n\n            if (that.options.anchor != BODY) {\n                that._hideActiveClass();\n            }\n\n            that._closing = false;\n            that._trigger(DEACTIVATE);\n            // This fixes an issue with aria-hidden error - https://github.com/telerik/kendo-ui-core/issues/8096\n            setTimeout(function() {\n                that.element.attr(\"aria-hidden\", true);\n            }, 0);\n        },\n\n        destroy: function() {\n            var that = this,\n                options = that.options,\n                element = that.element.off(NS),\n                parent;\n\n            Widget.fn.destroy.call(that);\n\n            if (options.toggleTarget) {\n                $(options.toggleTarget).off(NS);\n            }\n\n            if (!options.modal) {\n                DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy);\n                that._toggleResize(false);\n            }\n\n            kendo.destroy(that.element.children());\n            element.removeData();\n\n            if (options.appendTo[0] === document.body) {\n                parent = element.closest(\".k-animation-container\");\n\n                if (parent[0]) {\n                    parent.remove();\n                } else {\n                    element.remove();\n                }\n            }\n        },\n\n        open: function(x, y) {\n            var that = this,\n                fixed = { isFixed: !isNaN(parseInt(y,10)), x: x, y: y },\n                shouldCorrectWidth = that._shouldCorrectWidth,\n                element = that.element,\n                options = that.options,\n                animation, wrapper,\n                anchor = $(options.anchor),\n                mobile = element[0] && element.hasClass(\"km-widget\"),\n                listbox = element.find(\"[role='listbox']\"),\n                parent;\n\n            if (!that.visible()) {\n                if (options.copyAnchorStyles) {\n                    if (mobile && styles[0] == \"font-size\") {\n                        styles.shift();\n                    }\n                    element.css(kendo.getComputedStyles(anchor[0], styles));\n                }\n\n                if (that.element.parent().data(\"animating\") || that._trigger(OPEN)) {\n                    return;\n                }\n\n                that._activated = false;\n\n                if (!options.modal) {\n                    DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy)\n                                .on(that.downEvent, that._mousedownProxy);\n\n                    // this binding hangs iOS in editor\n                    // all elements in IE7/8 fire resize event, causing mayhem\n                    that._toggleResize(false);\n                    that._toggleResize(true);\n                }\n\n                that.wrapper = wrapper = kendo.wrap(element, options.autosize, options._resizeOnWrap, shouldCorrectWidth, options.autowidth)\n                    .css({\n                        overflow: HIDDEN,\n                        display: \"block\",\n                        position: ABSOLUTE\n                    });\n\n                parent = element.parent();\n\n                if (listbox.attr(\"aria-label\")) {\n                    wrapper.attr(\"aria-label\", listbox.attr(\"aria-label\"));\n                } else if (listbox.attr(\"aria-labelledby\")) {\n                    wrapper.attr(\"aria-labelledby\", listbox.attr(\"aria-labelledby\"));\n                }\n\n                if (support.mobileOS.android) {\n                    parent.css(TRANSFORM, \"translatez(0)\"); // Android is VERY slow otherwise. Should be tested in other droids as well since it may cause blur.\n                }\n\n                wrapper.css(POSITION);\n\n                if ($(options.appendTo)[0] == document.body) {\n                    wrapper.css(TOP, \"-10000px\");\n                }\n\n                that.flipped = that._position(fixed);\n                animation = that._openAnimation();\n\n                if (options.anchor != BODY && !that.element.hasClass(\"k-tooltip\")) {\n                    that._addActiveClass();\n                }\n\n                parent.hide();\n                element.show();\n                that.wrapper.show();\n\n                parent.data(EFFECTS, animation.effects)\n                       .kendoStop(true)\n                       .kendoAnimate(animation);\n\n                element.attr(\"aria-hidden\", false);\n\n            }\n        },\n\n        _updateDimensions: function() {\n            const that = this;\n            const shouldCorrectWidth = that._shouldCorrectWidth;\n            const element = that.element;\n            const options = that.options;\n\n            that.wrapper = kendo.wrap(element, options.autosize, options._resizeOnWrap, shouldCorrectWidth, options.autowidth)\n            .css({\n                display: \"block\",\n                position: ABSOLUTE\n            })\n            .attr(\"aria-hidden\", false);\n        },\n\n        _location: function(isFixed) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                wrapper,\n                anchor = $(options.anchor),\n                mobile = element[0] && element.hasClass(\"km-widget\");\n\n            if (options.copyAnchorStyles) {\n                if (mobile && styles[0] == \"font-size\") {\n                    styles.shift();\n                }\n                element.css(kendo.getComputedStyles(anchor[0], styles));\n            }\n\n            that.wrapper = wrapper = kendo.wrap(element, options.autosize)\n                                    .css({\n                                        overflow: HIDDEN,\n                                        display: \"block\",\n                                        position: ABSOLUTE\n                                    });\n\n            if (support.mobileOS.android) {\n                wrapper.css(TRANSFORM, \"translatez(0)\"); // Android is VERY slow otherwise. Should be tested in other droids as well since it may cause blur.\n            }\n\n            wrapper.css(POSITION);\n\n            if ($(options.appendTo)[0] == document.body) {\n                wrapper.css(TOP, \"-10000px\");\n            }\n\n            that._position(isFixed || {});\n\n            var offset = wrapper.offset();\n            return {\n                width: kendo._outerWidth(wrapper),\n                height: kendo._outerHeight(wrapper),\n                left: offset.left,\n                top: offset.top\n            };\n        },\n\n        _openAnimation: function() {\n            var animation = extend(true, {}, this.options.animation.open);\n            animation.effects = kendo.parseEffects(animation.effects, this.flipped);\n\n            return animation;\n        },\n\n        _hideActiveClass: function() {\n            var anchor = $(this.options.anchor);\n            anchor\n                .children(ACTIVECHILDREN)\n                .removeClass(ACTIVE);\n\n        },\n\n        _addActiveClass: function() {\n            $(this.options.anchor)\n                .children(ACTIVECHILDREN)\n                .addClass(ACTIVE);\n        },\n\n        position: function() {\n            if (this.visible()) {\n                this._updateDimensions();\n                this.flipped = this._position();\n            }\n        },\n\n        toggle: function() {\n            var that = this;\n\n            that[that.visible() ? CLOSE : OPEN]();\n        },\n\n        visible: function() {\n            return this.wrapper.is(\":\" + VISIBLE) && this.element.is(\":\" + VISIBLE);\n        },\n\n        close: function(skipEffects) {\n            var that = this,\n                parent = that.element.parent(),\n                options = that.options, wrap,\n                animation, openEffects, closeEffects;\n\n            if (that.visible()) {\n                wrap = (that.wrapper[0] ? that.wrapper : kendo.wrap(that.element).hide());\n\n                that._toggleResize(false);\n\n                if (that._closing || that._trigger(CLOSE)) {\n                    that._toggleResize(true);\n                    return;\n                }\n\n                that.wrapper.removeClass(\"k-animation-container-shown\");\n\n                // Close all inclusive popups.\n                that.element.find(\".k-popup\").each(function() {\n                    var that = $(this),\n                        popup = that.data(\"kendoPopup\");\n\n                    if (popup) {\n                        popup.close(skipEffects);\n                    }\n                });\n\n                DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy);\n\n                if (skipEffects) {\n                    animation = { hide: true, effects: {} };\n                } else {\n                    animation = extend(true, {}, options.animation.close);\n                    openEffects = parent.data(EFFECTS);\n                    closeEffects = animation.effects;\n\n                    if (!closeEffects && !kendo.size(closeEffects) && openEffects && kendo.size(openEffects)) {\n                        animation.effects = openEffects;\n                        animation.reverse = true;\n                    }\n\n                    that._closing = true;\n                }\n\n                parent.kendoStop(true);\n                wrap\n                    .css({ overflow: HIDDEN }); // stop callback will remove hidden overflow\n\n                parent.kendoAnimate(animation);\n\n                if (skipEffects) {\n                    that._animationClose();\n                }\n            }\n        },\n\n        _trigger: function(ev) {\n            return this.trigger(ev, { type: ev });\n        },\n\n        _resize: function(e) {\n            var that = this;\n\n            if (support.resize.indexOf(e.type) !== -1) {\n                clearTimeout(that._resizeTimeout);\n                that._resizeTimeout = setTimeout(function() {\n                    that._position();\n                    that._resizeTimeout = null;\n                }, 50);\n            } else {\n                if (!that._hovered || (that._activated && that.element.find(\".k-list:visible\").length > 0)) {\n                    that.close();\n                }\n            }\n        },\n\n        _toggleResize: function(toggle) {\n            var method = toggle ? \"on\" : \"off\";\n            var eventNames = support.resize;\n\n            if (!(support.mobileOS.ios || support.mobileOS.android || support.browser.safari)) {\n                eventNames += \" \" + SCROLL;\n            }\n\n            if (toggle && !this.scrollableParents) {\n                this.scrollableParents = this._scrollableParents();\n            }\n\n            if (this.scrollableParents && this.scrollableParents.length) {\n                this.scrollableParents[method](SCROLL, this._resizeProxy);\n            }\n\n            WINDOW[method](eventNames, this._resizeProxy);\n        },\n\n        _mousedown: function(e) {\n            var that = this,\n                container = that.element[0],\n                options = that.options,\n                anchor = $(options.anchor)[0],\n                toggleTarget = options.toggleTarget,\n                target = kendo.eventTarget(e),\n                popup = $(target).closest(\".k-popup\"),\n                mobile = popup.parent().parent(\".km-shim\").length;\n\n            popup = popup[0];\n            if (!mobile && popup && popup !== that.element[0]) {\n                return;\n            }\n\n            // This MAY result in popup not closing in certain cases.\n            if ($(e.target).closest(\"a\").data(\"rel\") === \"popover\") {\n                return;\n            }\n\n            if (!contains(container, target) && !contains(anchor, target) && !(toggleTarget && contains($(toggleTarget)[0], target))) {\n                that.close();\n            }\n        },\n\n        _fit: function(position, size, viewPortSize) {\n            var output = 0;\n\n            if (position + size > viewPortSize) {\n                output = viewPortSize - (position + size);\n            }\n\n            if (position < 0) {\n                output = -position;\n            }\n\n            return output;\n        },\n\n        _flip: function(offset, size, anchorSize, viewPortSize, origin, position, boxSize) {\n            var output = 0;\n                boxSize = boxSize || size;\n\n            if (position !== origin && position !== CENTER && origin !== CENTER) {\n                if (offset + boxSize > viewPortSize) {\n                    output += -(anchorSize + size);\n                }\n\n                if (offset + output < 0) {\n                    output += anchorSize + size;\n                }\n            }\n            return output;\n        },\n\n        _scrollableParents: function() {\n            return $(this.options.anchor)\n                       .parentsUntil(\"body\")\n                       .filter(function(index, element) {\n                           return kendo.isScrollable(element);\n                       });\n        },\n\n        _position: function(fixed) {\n            var that = this,\n                //element = that.element.css(POSITION, \"\"), /* fixes telerik/kendo-ui-core#790, comes from telerik/kendo#615 */\n                element = that.element,\n                wrapper = that.wrapper,\n                options = that.options,\n                viewport = $(options.viewport),\n                zoomLevel = support.zoomLevel(),\n                isWindow = !!((viewport[0] == window) && window.innerWidth && (zoomLevel <= 1.02)),\n                anchor = $(options.anchor),\n                origins = options.origin.toLowerCase().split(\" \"),\n                positions = options.position.toLowerCase().split(\" \"),\n                collisions = that.collisions,\n                siblingContainer, parents,\n                parentZIndex, zIndex = 10002,\n                idx = 0,\n                docEl = document.documentElement,\n                length, viewportOffset, viewportWidth, viewportHeight;\n\n            if (options.viewport === window) {\n                viewportOffset = {\n                    top: (window.pageYOffset || document.documentElement.scrollTop || 0),\n                    left: (window.pageXOffset || document.documentElement.scrollLeft || 0)\n                };\n            } else {\n                viewportOffset = viewport.offset();\n            }\n\n            if (isWindow) {\n                viewportWidth = window.innerWidth;\n                viewportHeight = window.innerHeight;\n            } else {\n                viewportWidth = viewport.width();\n                viewportHeight = viewport.height();\n            }\n\n            if (isWindow && docEl.scrollHeight - docEl.clientHeight > 0) {\n                 var sign = options.isRtl ? -1 : 1;\n\n                 viewportWidth -= sign * kendo.support.scrollbar();\n            }\n\n            siblingContainer = anchor.parents().filter(wrapper.siblings());\n\n            if (siblingContainer[0]) {\n                parentZIndex = Math.max(Number(siblingContainer.css(\"zIndex\")), 0);\n\n                // set z-index to be more than that of the container/sibling\n                // compensate with more units for window z-stack\n                if (parentZIndex) {\n                    zIndex = parentZIndex + 10;\n                } else {\n                    parents = anchor.parentsUntil(siblingContainer);\n                    for (length = parents.length; idx < length; idx++) {\n                        parentZIndex = Number($(parents[idx]).css(\"zIndex\"));\n                        if (parentZIndex && zIndex < parentZIndex) {\n                            zIndex = parentZIndex + 10;\n                        }\n                    }\n                }\n            }\n\n            wrapper.css(\"zIndex\", zIndex);\n\n            if (fixed && fixed.isFixed) {\n                wrapper.css({ left: fixed.x, top: fixed.y });\n            } else {\n                wrapper.css(that._align(origins, positions));\n            }\n\n            var pos = getOffset(wrapper, POSITION, anchor[0] === wrapper.offsetParent()[0]),\n                offset = getOffset(wrapper),\n                anchorParent = anchor.offsetParent().parent(\".k-animation-container,.k-popup,.k-group,.k-menu-group\"); // If the parent is positioned, get the current positions\n\n            if (anchorParent.length) {\n                pos = getOffset(wrapper, POSITION, true);\n                offset = getOffset(wrapper);\n            }\n\n            offset.top -= viewportOffset.top;\n            offset.left -= viewportOffset.left;\n\n            if (!that.wrapper.data(LOCATION)) { // Needed to reset the popup location after every closure - fixes the resize bugs.\n                wrapper.data(LOCATION, extend({}, pos));\n            }\n\n            var offsets = extend({}, offset),\n                location = extend({}, pos),\n                adjustSize = options.adjustSize;\n\n            if (collisions[0] === \"fit\") {\n                location.top += that._fit(offsets.top, outerHeight(wrapper) + adjustSize.height, viewportHeight / zoomLevel);\n            }\n\n            if (collisions[1] === \"fit\") {\n                location.left += that._fit(offsets.left, outerWidth(wrapper) + adjustSize.width, viewportWidth / zoomLevel);\n            }\n\n            var flipPos = extend({}, location);\n            var elementHeight = outerHeight(element);\n            var wrapperHeight = outerHeight(wrapper);\n\n            if (!wrapper.height() && elementHeight) {\n                wrapperHeight = wrapperHeight + elementHeight;\n            }\n\n            if (collisions[0] === \"flip\") {\n                location.top += that._flip(offsets.top, elementHeight, outerHeight(anchor), viewportHeight / zoomLevel, origins[0], positions[0], wrapperHeight);\n            }\n\n            if (collisions[1] === \"flip\") {\n                location.left += that._flip(offsets.left, outerWidth(element), outerWidth(anchor), viewportWidth / zoomLevel, origins[1], positions[1], outerWidth(wrapper));\n            }\n\n            wrapper.css(location);\n\n            return (location.left != flipPos.left || location.top != flipPos.top);\n        },\n\n        _align: function(origin, position) {\n            var that = this,\n                element = that.wrapper,\n                anchor = $(that.options.anchor),\n                verticalOrigin = origin[0],\n                horizontalOrigin = origin[1],\n                verticalPosition = position[0],\n                horizontalPosition = position[1],\n                anchorOffset = getOffset(anchor),\n                appendTo = $(that.options.appendTo),\n                appendToOffset,\n                width = outerWidth(element) || outerWidth(element.find(\".k-child-animation-container\").children().first()),\n                height = outerHeight(element) || outerHeight(element.find(\".k-child-animation-container\").children().first()),\n                anchorWidth = outerWidth(anchor),\n                anchorHeight = outerHeight(anchor),\n                top = that.options.omitOriginOffsets ? 0 : anchorOffset.top,\n                left = that.options.omitOriginOffsets ? 0 : anchorOffset.left,\n                round = Math.round;\n\n            if (appendTo[0] != document.body) {\n                appendToOffset = getOffset(appendTo);\n                top -= appendToOffset.top;\n                left -= appendToOffset.left;\n            }\n\n\n            if (verticalOrigin === BOTTOM) {\n                top += anchorHeight;\n            }\n\n            if (verticalOrigin === CENTER) {\n                top += round(anchorHeight / 2);\n            }\n\n            if (verticalPosition === BOTTOM) {\n                top -= height;\n            }\n\n            if (verticalPosition === CENTER) {\n                top -= round(height / 2);\n            }\n\n            if (horizontalOrigin === RIGHT) {\n                left += anchorWidth;\n            }\n\n            if (horizontalOrigin === CENTER) {\n                left += round(anchorWidth / 2);\n            }\n\n            if (horizontalPosition === RIGHT) {\n                left -= width;\n            }\n\n            if (horizontalPosition === CENTER) {\n                left -= round(width / 2);\n            }\n\n            return {\n                top: top,\n                left: left\n            };\n        }\n    });\n\n    ui.plugin(Popup);\n\n    var stableSort = kendo.support.stableSort;\n    var tabKeyTrapNS = \"kendoTabKeyTrap\";\n    var focusableNodesSelector = \"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]\";\n    var TabKeyTrap = Class.extend({\n        init: function(element, options) {\n            this.element = $(element);\n            this.element.autoApplyNS(tabKeyTrapNS);\n        },\n\n        trap: function() {\n            this.element.on(\"keydown\", this._keepInTrap.bind(this));\n        },\n\n        removeTrap: function() {\n            this.element.kendoDestroy(tabKeyTrapNS);\n        },\n\n        destroy: function() {\n            this.element.kendoDestroy(tabKeyTrapNS);\n            this.element = undefined;\n        },\n\n        shouldTrap: function() {\n            return true;\n        },\n\n        _keepInTrap: function(e) {\n            if (e.which !== 9 || !this.shouldTrap() || e.isDefaultPrevented()) {\n                return;\n            }\n\n            var elements = this._focusableElements();\n            var sortedElements = this._sortFocusableElements(elements);\n            var next = this._nextFocusable(e, sortedElements);\n\n            if (next) {\n                this._focus(next);\n            }\n\n            e.preventDefault();\n        },\n        _focusableElements: function() {\n            var elements = this.element.find(focusableNodesSelector).filter(function(i, item) {\n                return item.tabIndex >= 0 && $(item).is(':visible') && !$(item).is('[disabled]');\n            });\n\n            if (this.element.is(\"[tabindex]\")) {\n                [].push.call(elements, this.element[0]);\n            }\n\n            return elements;\n        },\n        _sortFocusableElements: function(elements) {\n            var sortedElements;\n\n            if (stableSort) {\n                sortedElements = [].sort.call(elements, function(prev, next) {\n                    return prev.tabIndex - next.tabIndex;\n                });\n            } else {\n                var attrName = \"__k_index\";\n                elements.each(function(i, item) {\n                    item.setAttribute(attrName, i);\n                });\n\n                sortedElements = [].sort.call(elements, function(prev, next) {\n                    return prev.tabIndex === next.tabIndex ?\n                        parseInt(prev.getAttribute(attrName), 10) - parseInt(next.getAttribute(attrName), 10) :\n                        prev.tabIndex - next.tabIndex;\n                });\n\n                elements.removeAttr(attrName);\n            }\n\n            return sortedElements;\n        },\n        _nextFocusable: function(e, elements) {\n            var count = elements.length;\n            var current = elements.index(e.target);\n\n            return elements.get((current + (e.shiftKey ? -1 : 1)) % count);\n        },\n        _focus: function(element) {\n            if (element.nodeName == \"IFRAME\") {\n                element.contentWindow.document.body.focus();\n                return;\n            }\n\n            element.focus();\n\n            if (element.nodeName == \"INPUT\" && element.setSelectionRange && this._haveSelectionRange(element)) {\n                element.setSelectionRange(0, element.value.length);\n            }\n        },\n        _haveSelectionRange: function(element) {\n            var elementType = element.type.toLowerCase();\n\n            return elementType === \"text\" || elementType === \"search\" ||\n            elementType === \"url\" || elementType === \"tel\" ||\n            elementType === \"password\";\n        }\n    });\n    ui.Popup.TabKeyTrap = TabKeyTrap;\n})(window.kendo.jQuery);\nexport default kendo;\n\n\n"],"mappings":"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"}