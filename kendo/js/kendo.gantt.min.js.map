{"version":3,"file":"kendo.gantt.min.js","names":[],"sources":["../../src/kendo.gantt.js"],"sourcesContent":["import \"./kendo.data.js\";\nimport \"./kendo.resizable.js\";\nimport \"./kendo.switch.js\";\nimport \"./kendo.gantt.data.js\";\nimport \"./kendo.gantt.editors.js\";\nimport \"./kendo.gantt.list.js\";\nimport \"./kendo.gantt.timeline.js\";\nimport \"./kendo.splitter.js\";\nimport \"./kendo.pdf.js\";\nimport \"./kendo.toolbar.js\";\nimport \"./kendo.html.button.js\";\n\nexport const __meta__ = {\n    id: \"gantt\",\n    name: \"Gantt\",\n    category: \"web\",\n    description: \"The Gantt component.\",\n    depends: [ \"data\", \"resizable\", \"switch\", \"gantt.data\", \"gantt.editors\", \"gantt.list\", \"gantt.timeline\", \"pdf\", \"toolbar\", \"html.button\" ]\n};\n(function($, undefined) {\n\n    var kendo = window.kendo,\n        keys = kendo.keys,\n        supportsMedia = \"matchMedia\" in window,\n        mobileOS = kendo.support.mobileOS,\n        Widget = kendo.ui.Widget,\n        TreeList = kendo.ui.TreeList,\n        encode = kendo.htmlEncode,\n        ObservableObject = kendo.data.ObservableObject,\n        ObservableArray = kendo.data.ObservableArray,\n        Query = kendo.data.Query,\n        isArray = Array.isArray,\n        isFunction = kendo.isFunction,\n        extend = $.extend,\n        isPlainObject = $.isPlainObject,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        defaultIndicatorWidth = 3,\n\n        NS = \".kendoGantt\",\n        PERCENTAGE_FORMAT = \"p0\",\n        TABINDEX = \"tabIndex\",\n        STRING = \"string\",\n        DOT = \".\",\n        TASK_DELETE_CONFIRM = \"Are you sure you want to delete this task?\",\n        DEPENDENCY_DELETE_CONFIRM = \"Are you sure you want to delete this dependency?\",\n        VIEWS_DROPDOWN_TEMPLATE = ({ label, styles, views }) => `<select aria-label=\"${label}\" class=\"k-dropdown k-picker k-dropdown-list ${styles.viewsDropdown} ${styles.viewsDropdownDefaults}\">` +\n            `${Object.keys(views).map(view => '<option value=\"' + view + '\">' + kendo.htmlEncode(views[view].title) + '</option>').join(\"\")}` +\n        '</select>',\n        MIN_SCREEN = \"(max-width: 480px)\",\n        ADD_ACTIONS = [{\n            data: \"add\",\n            text: \"addChild\"\n        },\n        {\n            data: \"insert-before\",\n            text: \"insertBefore\"\n        },\n        {\n            data: \"insert-after\",\n            text: \"insertAfter\"\n        }];\n\n    var ganttStyles = {\n        wrapper: \"k-gantt\",\n        plannedTasks: \"k-gantt-planned\",\n        rowHeight: \"k-gantt-rowheight\",\n        content: \"k-gantt-content\",\n        listWrapper: \"k-gantt-treelist\",\n        list: \"k-gantt-treelist\",\n        timelineWrapper: \"k-gantt-timeline-pane\",\n        timeline: \"k-gantt-timeline-pane\",\n        splitBar: \"k-splitbar\",\n        splitter: \"k-splitter\",\n        popupWrapper: \"k-list-container\",\n        popupList: \"k-list k-reset\",\n        resizeHandle: \"k-resize-handle\",\n        icon: \"k-icon\",\n        item: \"k-item\",\n        line: \"k-gantt-line\",\n        buttonDelete: \"k-gantt-delete\",\n        buttonCancel: \"k-gantt-cancel\",\n        buttonSave: \"k-gantt-update\",\n        buttonToggle: \"k-gantt-toggle\",\n        buttonDefaults: \"\",\n        primary: \"k-button-primary\",\n        hovered: \"k-hover\",\n        selected: \"k-selected\",\n        focused: \"k-focus\",\n        focusedCell: \"k-focus\",\n        gridHeader: \"k-grid-header\",\n        gridHeaderWrap: \"k-grid-header-wrap\",\n        gridContent: \"k-grid-content\",\n        tasks: \"k-gantt-tasks\",\n        popup: {\n            form: \"k-popup-edit-form\",\n            editForm: \"k-gantt-edit-form\",\n            formContainer: \"k-edit-form-container\",\n            resourcesFormContainer: \"k-resources-form-container\",\n            message: \"k-popup-message\",\n            buttonsContainer: \"k-edit-buttons\",\n            button: \"k-button\",\n            editField: \"k-edit-field\",\n            editLabel: \"k-edit-label\",\n            resourcesField: \"k-gantt-resources\"\n        },\n        toolbar: {\n            headerWrapper: \"k-gantt-header k-gantt-toolbar\",\n            footerWrapper: \"k-gantt-footer k-gantt-toolbar\",\n            toolbar: \"k-gantt-toolbar\",\n            views: \"k-gantt-views\",\n            viewsWrapper: \"k-gantt-views-wrapper\",\n            viewsDropdown: \"k-views-dropdown\",\n            viewsDropdownDefaults: \"\",\n            button: \"k-button\",\n            buttonToggle: \"k-gantt-toggle\",\n            buttonDefaults: \"\",\n            iconPlus: \"plus\",\n            iconPdf: \"file-pdf\",\n            iconToggle: \"layout-1-by-4\",\n            viewButton: \"k-view\",\n            link: \"k-link\",\n            pdfButton: \"k-gantt-pdf\",\n            appendButton: \"k-gantt-create\"\n        }\n    };\n\n    function selector(uid) {\n        return \"[\" + kendo.attr(\"uid\") + (uid ? \"='\" + uid + \"']\" : \"]\");\n    }\n\n    function trimOptions(options) {\n        delete options.name;\n        delete options.prefix;\n\n        delete options.remove;\n        delete options.edit;\n        delete options.add;\n        delete options.navigate;\n\n        return options;\n    }\n\n    function getDifference(updated, current) {\n        return updated.filter(u => !current.some(c => c.id === u.id && c.value === u.value))\n        .concat(current.filter(c => !updated.some(u => u.id === c.id && c.value === u.value)));\n    }\n\n    function focusTable(table, direct) {\n        var wrapper = table.parents('[' + kendo.attr(\"role\") + '=\"gantt\"]');\n        var scrollPositions = [];\n        var parents = scrollableParents(wrapper);\n\n        table.attr(TABINDEX, 0);\n\n        if (direct) {\n            parents.each(function(index, parent) {\n                scrollPositions[index] = $(parent).scrollTop();\n            });\n        }\n\n        try {\n            //The setActive method does not cause the document to scroll to the active object in the current page\n            table[0].setActive();\n        } catch (e) {\n            table[0].focus();\n        }\n\n        if (direct) {\n            parents.each(function(index, parent) {\n                $(parent).scrollTop(scrollPositions[index]);\n            });\n        }\n    }\n\n    function scrollableParents(element) {\n        return $(element).parentsUntil(\"body\")\n                .filter(function(index, element) {\n                    var computedStyle = kendo.getComputedStyles(element, [\"overflow\"]);\n                    return computedStyle.overflow != \"visible\";\n                })\n                .add(window);\n    }\n\n    var Gantt = Widget.extend({\n        init: function(element, options, events) {\n            if (isArray(options)) {\n                options = { dataSource: options };\n            }\n\n            Widget.fn.init.call(this, element, options);\n\n            if (events) {\n                this._events = events;\n            }\n\n            this._wrapper();\n\n            this._resources();\n\n            if (!this.options.views || !this.options.views.length) {\n                this.options.views = [\"day\", \"week\", \"month\"];\n            }\n\n            this._timeline();\n\n            this._processDefaults();\n            this._toolbar();\n            this._footer();\n            this._splitter();\n\n            this._adjustDimensions();\n\n            // Prevent extra refresh from setting the view\n            this._preventRefresh = true;\n\n            this.view(this.timeline._selectedViewName);\n\n            this._preventRefresh = false;\n\n            this._dataSource();\n\n            this._assignments();\n\n            this._list();\n\n            this._dependencies();\n\n            this._scrollable();\n\n            this._dataBind();\n\n            this._attachEvents();\n\n            this._createEditor();\n\n            kendo.notify(this);\n\n            if (this._showWatermarkOverlay) {\n                this._showWatermarkOverlay(this.wrapper[0]);\n            }\n        },\n\n        events: [\n            \"dataBinding\",\n            \"dataBound\",\n            \"add\",\n            \"edit\",\n            \"remove\",\n            \"cancel\",\n            \"save\",\n            \"change\",\n            \"navigate\",\n            \"moveStart\",\n            \"move\",\n            \"moveEnd\",\n            \"resizeStart\",\n            \"resize\",\n            \"resizeEnd\",\n            \"columnHide\",\n            \"columnReorder\",\n            \"columnResize\",\n            \"columnShow\",\n            \"togglePlannedTasks\"\n        ],\n\n        options: {\n            name: \"Gantt\",\n            autoBind: true,\n            navigatable: true,\n            selectable: true,\n            editable: true,\n            resizable: false,\n            columnResizeHandleWidth: defaultIndicatorWidth,\n            columns: [],\n            views: [],\n            dataSource: {},\n            dependencies: {},\n            resources: {},\n            assignments: {},\n            taskTemplate: null,\n            tooltip: {\n                visible: true\n            },\n            messages: {\n                save: \"Save\",\n                cancel: \"Cancel\",\n                destroy: \"Delete\",\n                deleteTaskConfirmation: TASK_DELETE_CONFIRM,\n                deleteDependencyConfirmation: DEPENDENCY_DELETE_CONFIRM,\n                deleteTaskWindowTitle: \"Delete task\",\n                deleteDependencyWindowTitle: \"Delete dependency\",\n                selectView: \"Select view\",\n                views: {\n                    day: \"Day\",\n                    week: \"Week\",\n                    month: \"Month\",\n                    year: \"Year\",\n                    start: \"Start\",\n                    end: \"End\"\n                },\n                actions: {\n                    append: \"Add Task\",\n                    addChild: \"Add Child\",\n                    insertBefore: \"Add Above\",\n                    insertAfter: \"Add Below\",\n                    pdf: \"Export to PDF\",\n                    toggle: \"Toggle pane\"\n                },\n                editor: {\n                    editorTitle: \"Task\",\n                    resourcesEditorTitle: \"Resources\",\n                    title: \"Title\",\n                    start: \"Start\",\n                    end: \"End\",\n                    plannedStart: \"Planned Start\",\n                    plannedEnd: \"Planned End\",\n                    percentComplete: \"Complete\",\n                    resources: \"Resources\",\n                    assignButton: \"Assign\",\n                    resourcesHeader: \"Resources\",\n                    unitsHeader: \"Units\",\n                    parent: \"Parent\",\n                    addNew: \"Add\",\n                    name: \"Name\",\n                    percentCompleteHint: \"value from 0 to 1\",\n                    remove: \"Remove\",\n                    actualStart: \"Actual Start\",\n                    actualEnd: \"Actual End\",\n                    parentOptionLabel: \"-None-\",\n                    general: \"General\",\n                    predecessors: \"Predecessors\",\n                    successors: \"Successors\",\n                    other: \"Other\",\n                    dependencyType: \"Type\"\n                },\n                plannedTasks: {\n                    switchText: \"Planned Tasks\",\n                    offsetTooltipAdvanced: \"Met deadline earlier\",\n                    offsetTooltipDelay: \"Delay\",\n                    seconds: \"seconds\",\n                    minutes: \"minutes\",\n                    hours: \"hours\",\n                    days: \"days\"\n                }\n            },\n            showWorkHours: true,\n            showWorkDays: true,\n            toolbar: null,\n            workDayStart: new Date(1980, 1, 1, 8, 0, 0),\n            workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\n            workWeekStart: 1,\n            workWeekEnd: 5,\n            hourSpan: 1,\n            snap: true,\n            height: 600,\n            listWidth: \"30%\",\n            rowHeight: null,\n            showPlannedTasks: false\n        },\n\n        select: function(value) {\n            var list = this.list;\n\n            if (!value) {\n                return list.select();\n            }\n\n            if (typeof value === STRING) {\n                value = list.content.find(value);\n            }\n\n            list.select(value);\n            this._selectionUpdate();\n\n            return;\n        },\n\n        clearSelection: function() {\n            this.list.clearSelection();\n            this._selectionUpdate();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            if (this.dataSource) {\n                this.dataSource.unbind(\"change\", this._refreshHandler);\n                this.dataSource.unbind(\"progress\", this._progressHandler);\n                this.dataSource.unbind(\"error\", this._errorHandler);\n            }\n\n            if (this.dependencies) {\n                this.dependencies.unbind(\"change\", this._dependencyRefreshHandler);\n                this.dependencies.unbind(\"error\", this._dependencyErrorHandler);\n            }\n\n            if (this.timeline) {\n                this.timeline.unbind();\n                this.timeline.destroy();\n            }\n\n            if (this.list) {\n                this.list.unbind();\n                this.list.destroy();\n            }\n\n            if (this.toolbar && this.toolbar.getKendoToolBar()) {\n                this.toolbar.getKendoToolBar().destroy();\n            }\n\n            if (this.footer && this.footer.getKendoToolBar()) {\n                this.footer.getKendoToolBar().destroy();\n            }\n\n            if (this._editor) {\n                this._editor.destroy();\n            }\n\n            if (this._resourceEditorWindow) {\n                this._resourceEditorWindow.destroy();\n            }\n\n            if (this._resizeDraggable) {\n                this._resizeDraggable.destroy();\n            }\n\n            if (this.layout && this._getGanttSplitter()) {\n                this._getGanttSplitter().destroy();\n            }\n\n            this.toolbar.off(NS);\n\n            if (supportsMedia) {\n                this._mediaQuery.removeListener(this._mediaQueryHandler);\n                this._mediaQuery = null;\n            }\n\n            $(window).off(\"resize\" + NS, this._resizeHandler);\n            $(this.wrapper).off(NS);\n\n            this.toolbar = null;\n            this.footer = null;\n\n            kendo.destroy(this.element);\n        },\n\n        setOptions: function(options) {\n            var newOptions = kendo.deepExtend({}, this.options, options);\n\n            var events = this._events;\n\n            if (!options.views) {\n                var selectedView = this.view().name;\n\n                newOptions.views = $.map(this.options.views, function(view) {\n                    var isSettings = isPlainObject(view);\n                    var name = isSettings ? ((typeof view.type !== \"string\") ? view.title : view.type) : view;\n\n                    if (selectedView === name) {\n                        if (isSettings) {\n                            view.selected = true;\n                        } else {\n                            view = { type: name, selected: true };\n                        }\n                    } else if (isSettings) {\n                        view.selected = false;\n                    }\n\n                    return view;\n                });\n            }\n\n            if (!options.dataSource) { newOptions.dataSource = this.dataSource; }\n            if (!options.dependencies) { newOptions.dependencies = this.dependencies; }\n            if (!options.resources) { newOptions.resources = this.resources; }\n            if (!options.assignments) { newOptions.assignments = this.assignments; }\n\n            this.destroy();\n            this.element.empty();\n            this.options = null;\n\n            this.init(this.element, newOptions, events);\n\n            Widget.fn._setEvents.call(this, newOptions);\n        },\n\n        _attachEvents: function() {\n            this._resizeHandler = this.resize.bind(this, false);\n            $(window).on(\"resize\" + NS, this._resizeHandler);\n\n            if (supportsMedia) {\n                this._mediaQueryHandler({ matches: this._mediaQuery.matches });\n            }\n        },\n\n        _splitter: function() {\n            this.splitter = this.layout.find(\".k-gantt-splitter\").kendoSplitter({\n                navigatable: this.options.navigatable,\n                orientation: \"horizontal\",\n                panes: [\n                    { collapsible: false, scrollable: false, label: \"Gantt List\", size: this.options.listWidth },\n                    { collapsible: false, scrollable: false, label: \"Gantt Timeline\" }\n                ]\n            }).getKendoSplitter();\n\n            if (this.options.listWidth) {\n                this.splitter.size(\".k-pane:first\", this.options.listWidth);\n            }\n        },\n        _getGanttSplitter: function() {\n            return this.layout.find(\".k-gantt-splitter\").getKendoSplitter();\n        },\n\n        _wrapper: function() {\n            var ganttStyles = Gantt.styles;\n            var options = this.options;\n            var height = options.height;\n            var width = options.width;\n\n            this.wrapper = this.element.addClass(ganttStyles.wrapper).attr(\"role\", \"application\");\n            let splitter = $(\"<div class='k-gantt-splitter'></div>\")\n                .append(\"<div class='\" + ganttStyles.listWrapper + \"'><div></div></div>\")\n                .append(\"<div class='\" + ganttStyles.timelineWrapper + \"'><div></div></div>\");\n            this.layout = $(\"<div class='\" + ganttStyles.content + \"'></div>\").appendTo(this.wrapper)\n                .append(splitter);\n\n            if (options.showPlannedTasks) {\n                this.wrapper.addClass(ganttStyles.plannedTasks);\n            }\n\n            if (height) {\n                this.wrapper.css(\"height\", height);\n            }\n\n            if (width) {\n                this.wrapper.css(\"width\", width);\n            }\n\n            if (options.rowHeight) {\n                this.wrapper.addClass(ganttStyles.rowHeight);\n            }\n\n            this.treelistWrapper = this.wrapper.find(DOT + ganttStyles.list);\n            this.timelineWrapper = this.wrapper.find(DOT + ganttStyles.timeline);\n\n            this.treelistWrapper.css(\"width\", options.listWidth);\n            this.timelineWrapper.css(\"width\", this.wrapper.width() - this.treelistWrapper.outerWidth());\n        },\n\n        _viewClickHandler: function(e) {\n            var list = this.list;\n            var name = e.target.attr(kendo.attr(\"name\"));\n\n            if (list.editor && !list.editor.end()) {\n                return;\n            }\n\n            if (!this.trigger(\"navigate\", { view: name })) {\n                this.view(name);\n            } else {\n                e.preventDefault();\n            }\n        },\n\n        _togglePane: function(e) {\n            var that = this,\n                treelist = that.treelistWrapper,\n                timeline = that.timelineWrapper,\n                contentSelector = DOT + ganttStyles.gridContent;\n\n            e.preventDefault();\n\n            if (treelist.is(\":visible\")) {\n                treelist.addClass(\"k-hidden\");\n                timeline.removeClass(\"k-hidden\");\n\n                that.refresh();\n\n                timeline\n                    .find(contentSelector)\n                    .scrollTop(that.scrollTop);\n            } else {\n                treelist.removeClass(\"k-hidden\");\n                timeline.addClass(\"k-hidden\");\n\n                treelist\n                    .find(contentSelector)\n                    .scrollTop(that.scrollTop);\n            }\n\n            that._resize();\n        },\n\n        _processDefaults: function() {\n            var that = this,\n                views = that.timeline.views,\n                ns = kendo.ns,\n                viewsButtons = [],\n                toolbarStyles = Gantt.styles.toolbar,\n                actionsMessages = this.options.messages.actions,\n                items = ADD_ACTIONS.map((m) => ({\n                    text: actionsMessages[m.text],\n                    attributes: { \"data-type\": m.data }\n                })),\n                defaults = {\n                    append: {\n                        name: \"append\",\n                        type: \"dropDownButton\",\n                        menuButtons: items,\n                        icon: toolbarStyles.iconPlus,\n                        attributes: {\n                            class: toolbarStyles.appendButton\n                        },\n                        click: that._addClickHandler.bind(that),\n                        open: that._openAddClickHandler.bind(that)\n                    },\n                    pdf: {\n                        name: \"pdf\",\n                        type: \"button\",\n                        attributes: {\n                            class: toolbarStyles.pdfButton\n                        },\n                        icon: toolbarStyles.iconPdf,\n                        click: that.saveAsPDF.bind(that)\n                    },\n                    toggle: {\n                        name: \"toggle\",\n                        type: \"button\",\n                        showText: \"overflow\",\n                        attributes: {\n                            class: \"k-gantt-toggle\"\n                        },\n                        icon: toolbarStyles.iconToggle,\n                        click: that._togglePane.bind(that)\n                    },\n                    switchLabel: {\n                        template: \"<label for=planned-switch>\" + that.options.messages.plannedTasks.switchText + \"</label>\"\n                    },\n                    plannedTasks: {\n                        type: \"component\",\n                        component: \"Switch\",\n                        element: \"<input id='planned-switch' class='k-gantt-planned-switch'>\",\n                        componentOptions: {\n                            checked: that.options.showPlannedTasks,\n                            change: that._togglePlannedTasks.bind(that),\n                            messages: {\n                                checked: \"\",\n                                unchecked: \"\"\n                            }\n                        }\n                    },\n                    viewsDdl: {\n                        template: VIEWS_DROPDOWN_TEMPLATE({\n                            views: that.timeline.views,\n                            styles: toolbarStyles,\n                            label: that.options.messages.selectView\n                        })\n                    },\n                    view: {\n                        name: \"view\",\n                        type: \"button\",\n                        togglable: true,\n                        group: \"views\"\n                    },\n                    viewsGroup: {\n                        type: \"buttonGroup\",\n                        attributes: {\n                            class: toolbarStyles.views\n                        }\n                    }\n                };\n\n            Object.keys(views).map(name => {\n                var current = $.extend(true, {}, defaults.view);\n\n                current.text = views[name].title;\n                current.attributes = {\n                    class: \"k-view-\" + name.toLowerCase()\n                };\n                current.attributes[\"data\" + ns + \"-name\"] = name;\n\n                defaults[name] = current;\n\n                viewsButtons.push(name);\n            });\n\n            Object.values(defaults).map(t => {\n                if (t.name === \"view\") {\n                    t.click = that._viewClickHandler.bind(that);\n                }\n            });\n\n            defaults.viewsGroup.buttons = viewsButtons;\n\n            that._viewsButtons = viewsButtons;\n            that.defaultCommands = defaults;\n        },\n\n        _processTools: function(items) {\n            var editable = this.options.editable,\n                commands = [],\n                tools = [\"toggle\"],\n                spacerPresent = false,\n                defaults = this.defaultCommands;\n\n            if (!Array.isArray(items)) {\n                if (editable && editable.create !== false) {\n                    tools.push(\"append\");\n                }\n            } else {\n                commands = items;\n            }\n\n            commands.map(c => {\n                if (c === \"plannedTasks\" || c.name === \"plannedTasks\") {\n                    spacerPresent = true;\n\n                    tools.push({\n                        type: \"spacer\"\n                    });\n\n                    tools.push(\"switchLabel\");\n                }\n\n                if (!defaults[c] && !defaults[c.name] && !c.template) {\n                    if (typeof c === STRING) {\n                        c = {\n                            name: c,\n                            type: \"button\",\n                            text: c,\n                            attributes: {\n                                class: \"k-gantt-\" + c\n                            }\n                        };\n                    } else {\n                        c = $.extend({}, {\n                            type: \"button\",\n                            text: c.name,\n                            attributes: {\n                                class: \"k-gantt-\" + c.name\n                            }\n                        }, c);\n                    }\n                }\n\n                tools.push(c);\n            });\n\n            if (!spacerPresent) {\n                tools.push({\n                    type: \"spacer\"\n                });\n            }\n\n            if (this._viewsButtons && this._viewsButtons.length > 0) {\n                if (this._viewsButtons.length > 1) {\n                    tools.push(\"viewsDdl\");\n                }\n\n                tools.push(\"viewsGroup\");\n            }\n\n            return tools;\n        },\n\n        _mediaQueryHandler: function(e) {\n            var that = this;\n            var splitbar = that.layout.find(\".k-splitbar\");\n            var splitter = that._getGanttSplitter();\n            var treelist = that.treelistWrapper;\n            var timeline = that.timelineWrapper;\n            var contentSelector = DOT + ganttStyles.gridContent;\n\n            var toolbarEl = that.toolbar;\n            var toolbar = toolbarEl.getKendoToolBar();\n\n            if (e.matches) {\n                treelist.addClass(\"k-hidden\");\n                splitbar.addClass(\"k-hidden\");\n                splitter._suppressResize = true;\n                toolbar.hide(toolbarEl.find(\".k-gantt-views\"));\n                toolbar.show(toolbarEl.find(\".k-views-dropdown\"));\n\n                treelist.width(\"100%\");\n            } else {\n                splitter._suppressResize = false;\n                treelist.removeClass(\"k-hidden\");\n                splitbar.removeClass(\"k-hidden\");\n                timeline.removeClass(\"k-hidden\");\n\n                toolbar.show(toolbarEl.find(\".k-gantt-views\"));\n                toolbar.hide(toolbarEl.find(\".k-views-dropdown\"));\n\n                treelist.width(treelist.outerWidth());\n\n                timeline\n                    .find(contentSelector)\n                    .scrollTop(that.scrollTop);\n            }\n\n            that._resize();\n        },\n\n        _toolbar: function() {\n            var that = this;\n            var ganttStyles = Gantt.styles;\n            var viewsDropdownSelector = DOT + ganttStyles.toolbar.viewsDropdown;\n            var toolsOptions = this.options.toolbar;\n            var tools;\n            var toolbar;\n\n            if (typeof toolsOptions === STRING) {\n                toolsOptions = kendo.template(toolsOptions).bind(this);\n            }\n\n            if (isFunction(toolsOptions)) {\n                tools = this._processTools([{\n                    template: toolsOptions({})\n                }]);\n            } else {\n                tools = this._processTools(toolsOptions);\n            }\n\n            toolbar = $(\"<div class='\" + ganttStyles.toolbar.headerWrapper + \"'>\");\n\n            this.wrapper.prepend(toolbar);\n            this.toolbar = toolbar;\n\n            toolbar.kendoToolBar({\n                resizable: false,\n                tools: tools,\n                defaultTools: this.defaultCommands,\n                parentMessages: this.options.messages.actions\n            });\n\n            if (supportsMedia) {\n                this._mediaQuery = window.matchMedia(MIN_SCREEN);\n                this._mediaQuery.addListener(this._mediaQueryHandler.bind(this));\n            }\n\n            toolbar.on(\"change\" + NS, viewsDropdownSelector, function() {\n                var list = that.list;\n                var name = $(this).val();\n\n                if (list.editable && list.editable.trigger(\"validate\")) {\n                    return;\n                }\n\n                if (!that.trigger(\"navigate\", { view: name })) {\n                    that.view(name);\n                }\n            });\n\n            this.toggleSwitch = toolbar.find('input.k-gantt-planned-switch').data(\"kendoSwitch\");\n        },\n\n        _footer: function() {\n            var editable = this.options.editable;\n\n            if (!editable || editable.create === false) {\n                return;\n            }\n\n            var ganttStyles = Gantt.styles.toolbar;\n            var messages = this.options.messages.actions;\n            var footer = $(\"<div class='\" + ganttStyles.footerWrapper + \"'>\");\n\n            this.wrapper.append(footer);\n            this.footer = footer;\n\n            footer.kendoToolBar({\n                resizable: false,\n                tools: [\"append\"],\n                defaultTools: {\n                    append: extend(true, {}, this.defaultCommands.append, {\n                        direction: \"up\",\n                        animation: {\n                            open: {\n                                effects: \"slideIn:up\"\n                            }\n                        }\n                    })\n                },\n                parentMessages: messages\n            });\n        },\n\n        _adjustDimensions: function() {\n            var element = this.element;\n            var toolbarHeight = outerHeight(this.toolbar);\n            var footerHeight = this.footer ? outerHeight(this.footer) : 0;\n            var totalHeight = element.height();\n            var totalWidth = element.width();\n            var treeListVisible = this.treelistWrapper.is(\":visible\");\n            var splitBar = this.layout.find(\".k-splitbar\");\n            var splitBarWidth = splitBar.is(\":visible\") ? outerWidth(splitBar) : 0;\n            var treeListWidth = treeListVisible ? outerWidth(this.treelistWrapper) : 0;\n            var timelineWidth = totalWidth - ( treeListWidth + splitBarWidth );\n\n            this.layout.children().height(totalHeight - (toolbarHeight + footerHeight));\n            this.timelineWrapper.width(timelineWidth);\n            if (!treeListVisible) {\n                this.timelineWrapper.css(\"left\", 0);\n            }\n\n            if (totalWidth < (treeListWidth + splitBarWidth)) {\n                this.treelistWrapper.width(totalWidth - splitBarWidth);\n            }\n        },\n\n        _scrollTo: function(value) {\n            var view = this.timeline.view();\n            var list = this.list;\n            var attr = kendo.attr(\"uid\");\n            var id = typeof value === \"string\" ? value :\n                value.closest(\"tr\" + selector()).attr(attr);\n            var action;\n            var scrollTarget;\n            var scrollIntoView = function() {\n                if (scrollTarget.length !== 0) {\n                    action();\n                }\n            };\n\n            if (view.content.is(\":visible\")) {\n                scrollTarget = view.content.find(selector(id));\n                action = function() {\n                    view._scrollTo(scrollTarget);\n                };\n            } else {\n                scrollTarget = list.element.find(selector(id));\n                action = function() {\n                    scrollTarget.get(0).scrollIntoView();\n                };\n            }\n\n            scrollIntoView();\n        },\n\n        _addTask: function(selected, parent, type) {\n            var dataSource = this.dataSource,\n                task = dataSource._createNewModel({}),\n                timeline = this.timeline,\n                firstSlot = timeline.view()._timeSlots()[0],\n                editable = this.list.editor,\n                orderId;\n\n            if (editable && editable.trigger(\"validate\")) {\n                return;\n            }\n\n            task.set(\"title\", \"New task\");\n\n            if (parent) {\n                task.set(\"parentId\", parent.get(\"id\"));\n                task.set(\"start\", parent.get(\"start\"));\n                task.set(\"end\", parent.get(\"end\"));\n                task.set(\"plannedStart\", parent.get(\"plannedStart\"));\n                task.set(\"plannedEnd\", parent.get(\"plannedEnd\"));\n            } else {\n                task.set(\"start\", firstSlot.start);\n                task.set(\"end\", firstSlot.end);\n            }\n\n            if (type && type !== \"add\") {\n                orderId = selected.get(\"orderId\");\n                orderId = type === \"insert-before\" ? orderId : orderId + 1;\n            }\n\n            this._createTask(task, orderId);\n        },\n\n        _addClickHandler: function(e) {\n            var type = e.target.data(\"type\");\n            var dataSource = this.dataSource;\n            var selected = this.dataItem(this.select());\n            var parent = dataSource.taskParent(selected);\n            var target = type === \"add\" ? selected : parent;\n\n            this._addTask(selected, target, type);\n        },\n\n        _openAddClickHandler: function(e) {\n            var selected = this.select();\n\n            if (!selected || selected.length === 0) {\n                e.preventDefault();\n\n                this._addTask();\n            }\n        },\n\n        _getListEditable: function() {\n            var editable = false,\n                options = this.options;\n\n            if (options.editable !== false) {\n                editable = \"incell\";\n\n                if (options.editable && options.editable.update === false) {\n                    editable = false;\n                } else {\n                    if (!options.editable || options.editable.reorder !== false) {\n                        editable = {\n                            mode: \"incell\",\n                            move: {\n                                reorderable: true,\n                                clickMoveClick: options.editable.clickMoveClick === false ? false : true\n                            }\n                        };\n                    }\n                }\n            }\n\n            return editable;\n        },\n\n        _getListOptions: function() {\n            var options = this.options,\n                editable = this._getListEditable(),\n                listWrapper = this.wrapper.find(DOT + ganttStyles.list),\n                ganttListOptions = {\n                    columns: options.columns || [],\n                    dataSource: this.dataSource,\n                    navigatable: options.navigatable,\n                    selectable: options.selectable,\n                    reorderable: options.reorderable,\n                    editable: editable,\n                    messages: TreeList.prototype.options.messages,\n                    resizable: options.resizable,\n                    filterable: options.filterable,\n                    columnMenu: options.columnMenu,\n                    columnResizeHandleWidth: this.options.columnResizeHandleWidth,\n                    listWidth: outerWidth(listWrapper),\n                    resourcesField: this.resources.field,\n                    rowHeight: this.options.rowHeight\n                };\n\n            return ganttListOptions;\n        },\n\n        _attachResourceEditor: function(columns) {\n            var column;\n\n            for (var i = 0; i < columns.length; i++) {\n                column = columns[i];\n\n                if (column.field === this.resources.field && typeof column.editor !== \"function\") {\n                    column.editor = this._resourcePopupEditor.bind(this);\n                }\n            }\n        },\n\n        _attachListEvents: function() {\n            var that = this;\n\n            that.list\n                .bind(\"columnShow\", function(e) {\n                    that.trigger(\"columnShow\", { column: e.column });\n                })\n                .bind(\"columnHide\", function(e) {\n                    that.trigger(\"columnHide\", { column: e.column });\n                })\n                .bind(\"columnReorder\", function(e) {\n                    that.trigger(\"columnReorder\", { column: e.column, oldIndex: e.oldIndex, newIndex: e.newIndex });\n                })\n                .bind(\"columnResize\", function(e) {\n                    that.trigger(\"columnResize\", { column: e.column, oldWidth: e.oldWidth, newWidth: e.newWidth });\n                })\n                .bind(\"render\", function() {\n                    that._navigatable();\n                 }, true)\n                .bind(\"beforeEdit\", function(e) {\n\n                    if (that.trigger(\"edit\", { task: e.model, container: e.container })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"cancel\", function(e) {\n                    if (that.trigger(\"cancel\", { task: e.model, container: e.cell })) {\n                        e.preventDefault();\n                        return;\n                    }\n\n                    that._preventItemChange = true;\n                    that.list.closeCell(true);\n                })\n                .bind(\"save\", function(e) {\n                    var updatedValues = e.values,\n                        key;\n\n                    that.previousTask = {};\n                    that._preventRefresh = true;\n\n                    if (that.updateDuration === null || that.updateDuration === undefined) {\n                        that.updateDuration = e.model.duration();\n                    }\n\n                    if (that.updatePlannedDuration === null || that.updatePlannedDuration === undefined) {\n                        that.updatePlannedDuration = e.model.plannedDuration();\n                    }\n\n                    if (updatedValues.hasOwnProperty(\"start\")) {\n                        updatedValues.end = new Date(updatedValues.start.getTime() + that.updateDuration);\n                    }\n\n                    if (updatedValues.hasOwnProperty(\"plannedStart\") && updatedValues.plannedStart) {\n                        updatedValues.plannedEnd = new Date(updatedValues.plannedStart.getTime() + that.updatePlannedDuration);\n                    }\n\n                    for (key in updatedValues) {\n                        if (updatedValues.hasOwnProperty(key)) {\n                            that.previousTask[key] = e.model.get(key);\n                        }\n                    }\n\n                    that.updatedValues = updatedValues;\n                })\n                .bind(\"itemChange\", function(e) {\n                    var updateInfo = that.updatedValues,\n                        task = e.data,\n                        resourcesField = that.resources.field,\n                        previousTask = that.previousTask,\n                        current,\n                        isCurrentInHeader,\n                        currentIndex,\n                        rowIndex,\n                        navigatable = that.options.navigatable,\n                        key;\n\n                    if (that._preventItemChange) {\n                        that._preventItemChange = false;\n                        return;\n                    }\n\n                    for (key in previousTask) {\n                        if (previousTask.hasOwnProperty(key)) {\n                            task.set(key, previousTask[key]);\n                        }\n                    }\n\n                    that.previousTask = {};\n\n                    if (!that.trigger(\"save\", { task: task, values: updateInfo })) {\n                        if (updateInfo) {\n                            that._preventRefresh = true;\n                            that.dataSource.update(task, updateInfo);\n\n                            if (updateInfo[resourcesField]) {\n                                that._updateAssignments(task.get(\"id\"), updateInfo[resourcesField]);\n                            }\n                        }\n\n                        if (navigatable) {\n                            current = $(that.list.current());\n                            isCurrentInHeader = current.is(\"th\");\n                            rowIndex = current.closest(\"tr\").index();\n                            currentIndex = isCurrentInHeader ? current.parent().children(\":not(.k-group-cell)\").index(current[0]) : Math.max(that.list.cellIndex(current), 0);\n                        }\n\n                        that._preventRefresh = false;\n                        that._requestStart();\n                        that.dataSource.sync().then(function() {\n                            if (that.options.navigatable && !that._tabPressed) {\n                                if (!isCurrentInHeader) {\n                                    const tbody = that.list.tbody;\n                                    if (tbody) {\n                                        const row = that.list.tbody.children().eq(rowIndex);\n\n                                        const td = row.find(\">td:visible\")\n                                            .eq(currentIndex);\n\n                                        that.list._setCurrent(td, false, true);\n                                    }\n                                }\n                            }\n                            that._tabPressed = false;\n                        });\n                    } else if (that.dataSource.hasChanges()) {\n                        that.dataSource.cancelChanges(task);\n                        that._preventRefresh = false;\n                        that.refresh();\n                    }\n\n                    that.updatedValues = null;\n                    that.updateDuration = null;\n                })\n                .bind(\"change\", function() {\n                    that.trigger(\"change\");\n\n                    that._selectionUpdate();\n\n                })\n                .bind(\"navigate\", function(e) {\n                    var treeList = e.sender;\n                    var current = treeList.current();\n                    var uid;\n\n                    that._scrollTo(current);\n                    that.timeline.element.find(\"div.k-task\").attr(\"tabindex\", \"-1\");\n                    uid = current.closest(\"tr\").attr(\"data-uid\");\n                    that.timeline.element.find(\"div.k-task[data-uid='\" + uid + \"']\").attr(\"tabindex\", \"0\");\n                })\n                .bind(\"expand\", function(e) {\n                    e.preventDefault();\n                    e.model.set(\"expanded\", true);\n                    // Update the pristine data as well. Otherwise, upon cancellation, the rows will collapse.\n                    that.dataSource._updatePristineForModel(e.model, { expanded: true });\n                })\n                .bind(\"collapse\", function(e) {\n                    e.preventDefault();\n                    e.model.set(\"expanded\", false);\n                    // Update the pristine data as well. Otherwise, upon cancellation, the rows will expand.\n                    that.dataSource._updatePristineForModel(e.model, { expanded: false });\n                })\n                .bind(\"dragend\", function(e) {\n                    var dataSource = that.dataSource,\n                        task, updateInfo;\n\n                    if (e.position === \"over\") {\n                        dataSource.cancelChanges();\n\n                        updateInfo = {\n                            parentId: e.source.parentId\n                        };\n\n                        task = dataSource.get(e.source.id);\n\n                        if (!that.trigger(\"save\", { task: task, values: updateInfo })) {\n                            dataSource.update(task, updateInfo);\n                        }\n\n                        dataSource.sync();\n                    }\n                })\n                .bind(\"dataBound\", function() {\n                    if (that.dataSource.sort().length === 0) {\n                        that.dataSource.sort([{ field: \"orderId\", dir: \"asc\" }]);\n                    }\n                })\n                .bind(\"reorder\", function(e) {\n                    that._updateTask(e.task, e.updateInfo);\n                });\n        },\n\n        _selectionUpdate: function() {\n            var that = this,\n                selection = that.list.select();\n\n            if (selection.length) {\n                that.timeline.select(\"[data-uid='\" + selection.attr(\"data-uid\") + \"']\");\n            } else {\n                that.timeline.clearSelection();\n            }\n        },\n\n        _list: function() {\n            var ganttStyles = Gantt.styles,\n                listWrapper = this.wrapper.find(DOT + ganttStyles.list),\n                listElement = listWrapper.find(\"> div\"),\n                listOptions = this._getListOptions();\n\n            this._attachResourceEditor(listOptions.columns);\n\n            this.list = new kendo.ui.GanttList(listElement, listOptions);\n\n            this._attachListEvents();\n        },\n\n        _timeline: function() {\n            var that = this;\n            var ganttStyles = Gantt.styles;\n            var options = trimOptions(extend(true, { resourcesField: this.resources.field }, this.options));\n            var element = this.wrapper.find(DOT + ganttStyles.timeline + \" > div\");\n\n            this.timeline = new kendo.ui.GanttTimeline(element, options);\n\n            this.timeline\n                .bind(\"navigate\", function(e) {\n                    var viewName = e.view.replace(/\\./g, \"\\\\.\").toLowerCase();\n                    var viewsEl = that.toolbar.find(DOT + ganttStyles.toolbar.views);\n                    var viewsGroup = viewsEl.getKendoButtonGroup();\n\n                    if (viewsGroup) {\n                        viewsGroup.select(viewsEl.find(DOT + ganttStyles.toolbar.viewButton + \"-\" + viewName));\n                    }\n\n                    that.toolbar\n                        .find(DOT + ganttStyles.toolbar.viewsDropdown)\n                        .val(e.view);\n\n                    that.refresh();\n                })\n                .bind(\"moveStart\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        e.preventDefault();\n                        return;\n                    }\n\n                    if (that.trigger(\"moveStart\", { task: e.task })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"move\", function(e) {\n                    var task = e.task;\n                    var start = e.start;\n                    var end = new Date(start.getTime() + task.duration());\n\n                    if (that.trigger(\"move\", { task: task, start: start, end: end })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"moveEnd\", function(e) {\n                    var task = e.task;\n                    var start = e.start;\n                    var end = new Date(start.getTime() + task.duration());\n\n                    if (!that.trigger(\"moveEnd\", { task: task, start: start, end: end })) {\n                        that._updateTask(that.dataSource.getByUid(task.uid), {\n                            start: start,\n                            end: end\n                        });\n                    }\n                })\n                .bind(\"resizeStart\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        e.preventDefault();\n                        return;\n                    }\n\n                    if (that.trigger(\"resizeStart\", { task: e.task })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"resize\", function(e) {\n                    if (that.trigger(\"resize\", { task: e.task, start: e.start, end: e.end })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"resizeEnd\", function(e) {\n                    var task = e.task;\n                    var updateInfo = {};\n\n                    if (e.resizeStart) {\n                        updateInfo.start = e.start;\n                    } else {\n                        updateInfo.end = e.end;\n                    }\n\n                    if (!that.trigger(\"resizeEnd\", { task: task, start: e.start, end: e.end })) {\n                        that._updateTask(that.dataSource.getByUid(task.uid), updateInfo);\n                    }\n                })\n                .bind(\"percentResizeStart\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"percentResizeEnd\", function(e) {\n                    that._updateTask(that.dataSource.getByUid(e.task.uid), { percentComplete: e.percentComplete });\n                })\n                .bind(\"dependencyDragStart\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"dependencyDragEnd\", function(e) {\n                    var dependency = that.dependencies._createNewModel({\n                        type: e.type,\n                        predecessorId: e.predecessor.id,\n                        successorId: e.successor.id\n                    });\n\n                    that._createDependency(dependency);\n                })\n                .bind(\"select\", function(e) {\n                    var editable = that.list.editor,\n                        current = that.select(),\n                        currentUid;\n\n                    if (editable) {\n                        editable.end();\n                    }\n\n                    if (current && current.length) {\n                        currentUid = current.data(\"uid\");\n                    }\n\n                    if (currentUid !== e.uid) {\n                        that.select(\"[data-uid='\" + e.uid + \"']\");\n                        that.trigger(\"change\");\n                    }\n                })\n                .bind(\"editTask\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        return;\n                    }\n\n                    that.editTask(e.uid);\n                })\n                .bind(\"clear\", function() {\n                    that.clearSelection();\n                    that.trigger(\"change\");\n                })\n                .bind(\"removeTask\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        return;\n                    }\n\n                    that.removeTask(that.dataSource.getByUid(e.uid));\n                })\n                .bind(\"expand\", function(e) {\n                    var model = that.dataSource.getByUid(e.uid);\n                    if (model.summary && !model.get(\"expanded\")) {\n                        model.set(\"expanded\", true);\n                    } else {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"collapse\", function(e) {\n                    var model = that.dataSource.getByUid(e.uid);\n\n                    if (model.summary && model.get(\"expanded\")) {\n                        model.set(\"expanded\", false);\n                    } else {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"removeDependency\", function(e) {\n                    var editable = that.list.editor;\n\n                    if (editable && !editable.end()) {\n                        return;\n                    }\n\n                    that.removeDependency(that.dependencies.getByUid(e.uid));\n                });\n        },\n\n        _dataSource: function() {\n            var options = this.options;\n            var dataSource = options.dataSource;\n\n            dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            if (this.dataSource && this._refreshHandler) {\n                this.dataSource\n                    .unbind(\"change\", this._refreshHandler)\n                    .unbind(\"progress\", this._progressHandler)\n                    .unbind(\"error\", this._errorHandler);\n            } else {\n                this._refreshHandler = this.refresh.bind(this);\n                this._progressHandler = this._requestStart.bind(this);\n                this._errorHandler = this._error.bind(this);\n            }\n\n            this.dataSource = kendo.data.GanttDataSource.create(dataSource)\n                .bind(\"change\", this._refreshHandler)\n                .bind(\"progress\", this._progressHandler)\n                .bind(\"error\", this._errorHandler);\n        },\n\n        _dependencies: function() {\n            var dependencies = this.options.dependencies || {};\n            var dataSource = isArray(dependencies) ? { data: dependencies } : dependencies;\n\n            if (this.dependencies && this._dependencyRefreshHandler) {\n                this.dependencies\n                    .unbind(\"change\", this._dependencyRefreshHandler)\n                    .unbind(\"error\", this._dependencyErrorHandler);\n            } else {\n                this._dependencyRefreshHandler = this.refreshDependencies.bind(this);\n                this._dependencyErrorHandler = this._error.bind(this);\n            }\n\n            this.dependencies = kendo.data.GanttDependencyDataSource.create(dataSource)\n                .bind(\"change\", this._dependencyRefreshHandler)\n                .bind(\"error\", this._dependencyErrorHandler);\n        },\n\n        _resources: function() {\n            var resources = this.options.resources;\n            var dataSource = resources.dataSource || {};\n\n            this.resources = {\n                field: \"resources\",\n                dataTextField: \"name\",\n                dataColorField: \"color\",\n                dataFormatField: \"format\"\n            };\n\n            extend(this.resources, resources);\n\n            this.resources.dataSource = kendo.data.DataSource.create(dataSource);\n        },\n\n        _assignments: function() {\n            var assignments = this.options.assignments;\n            var dataSource = assignments.dataSource || { };\n\n            if (this.assignments) {\n                this.assignments.dataSource\n                    .unbind(\"change\", this._assignmentsRefreshHandler);\n            } else {\n                this._assignmentsRefreshHandler = this.refresh.bind(this);\n            }\n\n            this.assignments = {\n                dataTaskIdField: \"taskId\",\n                dataResourceIdField: \"resourceId\",\n                dataValueField: \"value\"\n            };\n\n            extend(this.assignments, assignments);\n\n            this.assignments.dataSource = kendo.data.DataSource.create(dataSource);\n\n            this.assignments.dataSource\n                .bind(\"change\", this._assignmentsRefreshHandler);\n        },\n\n        _createEditor: function() {\n            var that = this;\n\n            var editor = this._editor = new kendo.gantt.PopupEditor(this.wrapper, extend({}, this.options, {\n                target: this,\n                resources: {\n                    field: this.resources.field,\n                    editor: this._createResourceEditor.bind(this)\n                }\n            }));\n\n            editor\n                .bind(\"cancel\", function(e) {\n                    var task = that.dataSource.getByUid(e.model.uid);\n\n                    if (that.trigger(\"cancel\", { container: e.container, task: task })) {\n                        e.preventDefault();\n                        return;\n                    }\n\n                    if (that.dependencies) {\n                        that.dependencies.filter({});\n                    }\n\n                    that.cancelTask();\n                    if (that.options.navigatable) {\n                        that.timeline.element.find('div[data-uid=\"' + e.model.uid + '\"]').trigger(\"focus\");\n                    }\n                })\n                .bind(\"edit\", function(e) {\n                    var task = that.dataSource.getByUid(e.model.uid);\n\n                    if (that.trigger(\"edit\", { container: e.container, task: task })) {\n                        e.preventDefault();\n                    }\n                })\n                .bind(\"save\", function(e) {\n                    var task = that.dataSource.getByUid(e.model.uid);\n\n                    that.saveTask(task, e.updateInfo, e.updateDependencies);\n                })\n                .bind(\"remove\", function(e) {\n                    that.removeTask(e.model.uid);\n                })\n                .bind(\"close\", function(options) {\n                    if (that.options.navigatable) {\n                        that.element.find('div[data-uid=\"' + options.window.attr(\"data-uid\") + '\"]').trigger(\"focus\");\n                    }\n                });\n        },\n\n        _resourcePopupEditor: function(container, options) {\n            var that = this,\n                editor = that._createResourceEditor($(\"<div>\"), options),\n                popupStyles = ganttStyles.popup,\n                wrapper = that.element,\n                dialogEl = $(kendo.format('<div class=\"' + popupStyles.formContainer + '\">')).appendTo(wrapper),\n                messages = that.options.messages,\n                buttonsEl, dialog;\n\n            dialogEl.append(editor.wrapper);\n            buttonsEl = $('<div class=\"' + popupStyles.buttonsContainer + '\">');\n            dialogEl.append(buttonsEl);\n\n            buttonsEl.append($(\"<button class='\" + ganttStyles.buttonSave + \"'>\" + encode(messages.save) + \"</button>\").kendoButton({\n                name: \"save\",\n                themeColor: \"primary\",\n                icon: \"save\",\n                click: () => {\n                    if (!editor.updateModel()) {\n                        return;\n                    }\n                    editor.trigger(\"save\", { model: editor.model });\n                    that._updateAssignments(editor.model.get(\"id\"), editor.model.get(that.resources.field));\n\n                    dialog.trigger(\"close\");\n                    dialog.close();\n                }\n            }));\n\n            buttonsEl.append($(\"<button class='\" + ganttStyles.buttonCancel + \"'>\" + encode(messages.cancel) + \"</button>\").kendoButton({\n                name: \"cancel\",\n                icon: \"cancel\",\n                click: () => {\n                    dialog.trigger(\"close\");\n                    dialog.close();\n                }\n            }));\n\n            this._resourceEditorWindow = dialog = dialogEl.kendoWindow({\n                modal: true,\n                resizable: false,\n                draggable: true,\n                visible: false,\n                title: messages.editor.resourcesEditorTitle,\n                deactivate: () => {\n                    editor.destroy();\n                    dialog.destroy();\n                    dialog.element.closest(\".k-window\").remove();\n                }\n            }).data(\"kendoWindow\");\n\n            dialog.center().open();\n\n            return editor;\n        },\n\n        _createResourceEditor: function(container, options) {\n            var that = this;\n            var model = options instanceof ObservableObject ? options : options.model;\n            var messages = this.options.messages;\n            var resourcesField = this.resources.field;\n            var unitsValidation = { step: 0.01, min: 0.01, max: 1 };\n            var assignmentsModel = this.assignments.dataSource.options.schema.model;\n            var resourceTextField = that.resources.dataTextField;\n            var resources = this.resources.dataSource.view();\n\n\n            if (assignmentsModel && assignmentsModel.fields.Units && assignmentsModel.fields.Units.validation) {\n                extend(true, unitsValidation, assignmentsModel.fields.Units.validation);\n            }\n\n            var editor = this._resourceEditor = new kendo.gantt.ResourceEditor(container, {\n                resourcesField: resourcesField,\n                unitsValidation: unitsValidation,\n                resources: resources.map(r => ({ value: r.id, text: r[resourceTextField] })),\n                model: model,\n                messages: extend({}, messages.editor)\n            });\n\n            return editor;\n        },\n\n        view: function(type) {\n            return this.timeline.view(type);\n        },\n\n        range: function(range) {\n            var dataSource = this.dataSource;\n            var view = this.view();\n            var timeline = this.timeline;\n\n            if (range) {\n                view.options.range = {\n                    start: range.start,\n                    end: range.end\n                };\n\n                timeline._render(dataSource.taskTree());\n                timeline._renderDependencies(this.dependencies.view());\n            }\n\n            return {\n                start: view.start,\n                end: view.end\n            };\n        },\n\n        date: function(date) {\n            var view = this.view();\n\n            if (date) {\n                view.options.date = date;\n                view._scrollToDate(date);\n            }\n\n            return view.options.date;\n        },\n\n        dataItem: function(value) {\n            if (!value) {\n                return null;\n            }\n\n            var list = this.list;\n            var element = list.element.find(value);\n\n            return list._modelFromElement(element);\n        },\n\n        setDataSource: function(dataSource) {\n            this.options.dataSource = dataSource;\n\n            this._dataSource();\n\n            this.list.setDataSource(this.dataSource);\n\n            if (this.options.autoBind) {\n                dataSource.fetch();\n            }\n        },\n\n        setDependenciesDataSource: function(dependencies) {\n            this.options.dependencies = dependencies;\n\n            this._dependencies();\n\n            if (this.options.autoBind) {\n                dependencies.fetch();\n            }\n        },\n\n        items: function() {\n            return this.wrapper.children(\".k-task\");\n        },\n\n        _updateAssignments: function(id, resources) {\n            var dataSource = this.assignments.dataSource;\n            var taskId = this.assignments.dataTaskIdField;\n            var resourceId = this.assignments.dataResourceIdField;\n            var hasMatch = false;\n            var assignments = new Query(dataSource.view())\n                .filter({\n                    field: taskId,\n                    operator: \"eq\",\n                    value: id\n                }).toArray();\n            var assignment;\n            var resource;\n            var value;\n\n            while (assignments.length) {\n                assignment = assignments[0];\n\n                for (var i = 0, length = resources.length; i < length; i++) {\n                    resource = resources[i];\n\n                    if (assignment.get(resourceId) === resource.get(\"id\")) {\n                        value = resources[i].get(\"value\");\n                        this._updateAssignment(assignment, value);\n                        resources.splice(i, 1);\n                        hasMatch = true;\n                        break;\n                    }\n                }\n\n                if (!hasMatch) {\n                    this._removeAssignment(assignment);\n                }\n\n                hasMatch = false;\n\n                assignments.shift();\n            }\n\n            for (var j = 0, newLength = resources.length; j < newLength; j++) {\n                resource = resources[j];\n\n                if (resource.id !== undefined && resource.value) {\n                    this._createAssignment(resource, id);\n                }\n            }\n\n            dataSource.sync();\n        },\n\n        cancelTask: function() {\n            var editor = this._editor;\n            var container = editor.container;\n\n            if (container) {\n                editor.close();\n            }\n\n            if (this.dependencies) {\n                this.dependencies.cancelChanges();\n            }\n        },\n\n        editTask: function(uid) {\n            var task = typeof uid === \"string\" ? this.dataSource.getByUid(uid) : uid;\n\n            if (!task) {\n                return;\n            }\n\n            var taskCopy = this.dataSource._createNewModel(task.toJSON());\n            taskCopy.uid = task.uid;\n\n            this.cancelTask();\n\n            this._editTask(taskCopy);\n        },\n\n        _editTask: function(task) {\n            this._editor.editTask(task, this.options.editable.plannedTasks);\n        },\n\n        saveTask: function(task, updateInfo, updateDependencies) {\n            var that = this,\n                editor = this._editor,\n                container = editor.container,\n                editable = editor.editable,\n                hasChanges = false,\n                hasResourceChanges = false,\n                updateInfo = updateInfo || {},\n                resourcesField = that.options.resources.field,\n                difference;\n\n            Object.keys(updateInfo).map(k => {\n                var updated = updateInfo[k],\n                    current = task.get(k);\n\n                if (updated instanceof Date) {\n                    updated = updated.getTime();\n                    current = current ? current.getTime() : undefined;\n                }\n\n                if (updated !== current) {\n                    if (k === resourcesField) {\n                        difference = getDifference(updated, current);\n\n                        if (difference && difference.length > 0) {\n                            hasResourceChanges = true;\n                        }\n                    } else {\n                        hasChanges = true;\n                    }\n                }\n            });\n\n            if (container &&\n                editable &&\n                editable.end() &&\n                (hasChanges || hasResourceChanges || updateDependencies)) {\n                    if (!that.trigger(\"save\", { task: task, values: updateInfo, updateDependencies: updateDependencies })) {\n                        if (hasChanges) {\n                            that._preventRefresh = true;\n\n                            that.dataSource.update(task, updateInfo);\n                        }\n\n                        if (hasResourceChanges) {\n                            this._updateAssignments(task.get(\"id\"), updateInfo[resourcesField]);\n                        }\n\n                        that._syncDataSource();\n\n                        if (this.dependencies) {\n                            this._updateDependency(updateDependencies);\n                        }\n\n                        this._editor.close();\n                    } else {\n                        if (task && task.dirty) {\n                            that.dataSource.cancelChanges(task);\n                            that._preventRefresh = false;\n                            that.refresh();\n                        }\n\n                        if (that.dependencies) {\n                            that.dependencies.cancelChanges();\n                        }\n                    }\n            } else if (editable && editable.end()) {\n                this._editor.close();\n            }\n        },\n\n        _updateDependency: function(updateDependencies) {\n            this.dependencies.filter({});\n\n            if (updateDependencies) {\n                updateDependencies.created.map(d => {\n                    this._preventDependencyRefresh = true;\n                    this.dependencies.add(d);\n                    this._preventDependencyRefresh = false;\n                });\n\n                updateDependencies.destroyed.map(d => {\n                    this.dependencies.remove(d);\n                });\n            }\n\n            this.dependencies.sync();\n        },\n\n        _updateTask: function(task, updateInfo) {\n            var that = this;\n            var resourcesField = that.resources.field;\n\n            if (!that.trigger(\"save\", { task: task, values: updateInfo })) {\n                if (updateInfo) {\n                    that._preventRefresh = true;\n\n                    that.dataSource.update(task, updateInfo);\n\n                    if (updateInfo[resourcesField]) {\n                        that._updateAssignments(task.get(\"id\"), updateInfo[resourcesField]);\n                    }\n                }\n\n                that._syncDataSource();\n            } else {\n                if (task && task.dirty) {\n                    that.dataSource.cancelChanges(task);\n                    that._preventRefresh = false;\n                    that.refresh();\n                }\n\n                if (that.dependencies) {\n                    that.dependencies.cancelChanges();\n                }\n            }\n        },\n\n        _updateAssignment: function(assignment, value) {\n            var resourceValueField = this.assignments.dataValueField;\n\n            assignment.set(resourceValueField, value);\n        },\n\n        removeTask: function(uid) {\n            var that = this;\n            var task = typeof uid === \"string\" ? this.dataSource.getByUid(uid) : uid;\n\n            if (!task) {\n                return;\n            }\n\n            this._taskConfirm(function(cancel) {\n                if (!cancel) {\n                    that._removeTask(task);\n                }\n            }, task);\n        },\n\n        _createTask: function(task, index) {\n            if (!this.trigger(\"add\", {\n                task: task,\n                dependency: null\n            })) {\n                var dataSource = this.dataSource;\n\n                this._preventRefresh = true;\n\n                if (index === undefined) {\n                    dataSource.add(task);\n                } else {\n                    dataSource.insert(index, task);\n                }\n\n                this._scrollToUid = task.uid;\n                this._syncDataSource();\n            }\n        },\n\n        _createDependency: function(dependency) {\n            if (!this.trigger(\"add\", {\n                task: null,\n                dependency: dependency\n            })) {\n                this._preventDependencyRefresh = true;\n\n                this.dependencies.add(dependency);\n\n                this._preventDependencyRefresh = false;\n\n                this.dependencies.sync();\n            }\n        },\n\n        _createAssignment: function(resource, id) {\n            var assignments = this.assignments;\n            var dataSource = assignments.dataSource;\n            var taskId = assignments.dataTaskIdField;\n            var resourceId = assignments.dataResourceIdField;\n            var resourceValue = assignments.dataValueField;\n            var assignment = dataSource._createNewModel();\n\n            assignment[taskId] = id;\n            assignment[resourceId] = resource.get(\"id\");\n            assignment[resourceValue] = resource.get(\"value\");\n\n            dataSource.add(assignment);\n        },\n\n        removeDependency: function(uid) {\n            var that = this;\n            var dependency = typeof uid === \"string\" ? this.dependencies.getByUid(uid) : uid;\n\n            if (!dependency) {\n                return;\n            }\n\n            this._dependencyConfirm(function(cancel) {\n                if (!cancel) {\n                    that._removeDependency(dependency);\n                }\n            }, dependency);\n        },\n\n        _removeTaskDependencies: function(task, dependencies) {\n            this._preventDependencyRefresh = true;\n\n            for (var i = 0, length = dependencies.length; i < length; i++) {\n                this.dependencies.remove(dependencies[i]);\n            }\n\n            this._preventDependencyRefresh = false;\n\n            this.dependencies.sync();\n        },\n\n        _removeTaskAssignments: function(task) {\n            var dataSource = this.assignments.dataSource;\n            var assignments = dataSource.view();\n            var filter = {\n                field: this.assignments.dataTaskIdField,\n                operator: \"eq\",\n                value: task.get(\"id\")\n            };\n\n            assignments = new Query(assignments).filter(filter).toArray();\n\n            this._preventRefresh = true;\n\n            for (var i = 0, length = assignments.length; i < length; i++) {\n                dataSource.remove(assignments[i]);\n            }\n\n            this._preventRefresh = false;\n\n            dataSource.sync();\n        },\n\n        _removeTask: function(task) {\n            var dependencies = this.dependencies.dependencies(task.id);\n\n            if (!this.trigger(\"remove\", {\n                task: task,\n                dependencies: dependencies\n            })) {\n                this._removeTaskDependencies(task, dependencies);\n                this._removeTaskAssignments(task);\n\n                this._preventRefresh = true;\n\n                if (this.dataSource.remove(task)) {\n                    this._syncDataSource();\n                }\n\n                if (this.dependencies) {\n                    this.dependencies.filter({});\n                }\n\n                this._preventRefresh = false;\n            }\n        },\n\n        _removeDependency: function(dependency) {\n            if (!this.trigger(\"remove\", {\n                task: null,\n                dependencies: [dependency]\n            })) {\n                if (this.dependencies.remove(dependency)) {\n                    this.dependencies.sync();\n                }\n            }\n        },\n\n        _removeAssignment: function(assignment) {\n            this.assignments.dataSource.remove(assignment);\n        },\n\n        _taskConfirm: function(callback, task) {\n            let messages = this.options.messages;\n\n            this._confirm(callback, {\n                model: task,\n                text: encode(messages.deleteTaskConfirmation),\n                title: encode(messages.deleteTaskWindowTitle)\n            });\n        },\n\n        _dependencyConfirm: function(callback, dependency) {\n            let messages = this.options.messages;\n\n            this._confirm(callback, {\n                model: dependency,\n                text: encode(messages.deleteDependencyConfirmation),\n                title: encode(messages.deleteDependencyWindowTitle)\n            });\n        },\n\n        _confirm: function(callback, options) {\n            var editable = this.options.editable;\n\n            if (editable === true || editable.confirmation !== false) {\n                this.showDialog(extend(true, {}, options, { callback: callback }));\n            } else {\n                callback();\n            }\n        },\n\n        showDialog: function(options) {\n            this._editor.showDialog(options);\n        },\n\n        refresh: function() {\n            if (this._preventRefresh || !this.list || this.list.editor) {\n                return;\n            }\n\n            this._progress(false);\n\n            var dataSource = this.dataSource;\n            var taskTree = dataSource.taskTree();\n            var scrollToUid = this._scrollToUid;\n            var current;\n            var cachedUid;\n            var cachedIndex = -1;\n            var selected = this.select()[0] ? this.select().data(\"uid\") : this._selected;\n\n            if (this.current) {\n                cachedUid = this.current.closest(\"tr\").attr(kendo.attr(\"uid\"));\n                cachedIndex = this.current.index();\n            }\n\n            if (this.trigger(\"dataBinding\")) {\n                return;\n            }\n\n            if (this.resources.dataSource.data().length !== 0) {\n                this._assignResources(taskTree);\n            }\n\n            if (this._editor) {\n                this._editor.close();\n            }\n\n            this.clearSelection();\n            this.list._renderTree(taskTree);\n            this.timeline._render(taskTree);\n            this.timeline._renderDependencies(this.dependencies.view());\n\n            if (scrollToUid) {\n                this._scrollTo(scrollToUid);\n                this.select(selector(scrollToUid));\n            }\n\n            if ((scrollToUid || cachedUid) && cachedIndex >= 0) {\n                current = this.list.element\n                    .find(\"tr\" + selector((scrollToUid || cachedUid)) + \" > td\").eq(cachedIndex);\n\n                this._current(current);\n            }\n\n            this._scrollToUid = null;\n\n            if (selected) {\n                this._selected = selected;\n                this.select(\"[data-uid=\" + selected + \"]\");\n            }\n\n            this.trigger(\"dataBound\");\n        },\n\n        refreshDependencies: function() {\n            if (this._preventDependencyRefresh) {\n                return;\n            }\n\n            if (this.trigger(\"dataBinding\")) {\n                return;\n            }\n\n            this.timeline._renderDependencies(this.dependencies.view());\n\n            this.trigger(\"dataBound\");\n        },\n\n        _assignResources: function(taskTree) {\n            var resources = this.resources;\n            var assignments = this.assignments;\n            var groupAssigments = function() {\n                var data = assignments.dataSource.view();\n                var group = {\n                    field: assignments.dataTaskIdField\n                };\n\n                data = new Query(data).group(group).toArray();\n\n                return data;\n            };\n            var assigments = groupAssigments();\n            var applyTaskResource = function(task, action) {\n                var taskId = task.get(\"id\");\n\n                kendo.setter(resources.field)(task, new ObservableArray([]));\n\n                for (var i = 0, length = assigments.length; i < length; i++) {\n                    if (assigments[i].value === taskId) {\n                        action(task, assigments[i].items);\n                    }\n                }\n            };\n            var wrapTask = function(task, items) {\n                for (var j = 0, length = items.length; j < length; j++) {\n                    var item = items[j];\n                    var resource = resources.dataSource.get(item.get(assignments.dataResourceIdField));\n                    var resourceValue = item.get(assignments.dataValueField);\n                    var resourcedId = item.get(assignments.dataResourceIdField);\n                    var valueFormat = resource.get(resources.dataFormatField) || PERCENTAGE_FORMAT;\n                    var formatedValue = kendo.toString(resourceValue, valueFormat);\n\n                    task[resources.field].push(new ObservableObject({\n                        id: resourcedId,\n                        name: resource.get(resources.dataTextField),\n                        color: resource.get(resources.dataColorField),\n                        value: resourceValue,\n                        formatedValue: formatedValue,\n                        format: valueFormat\n                    }));\n                }\n            };\n\n            for (var i = 0, length = taskTree.length; i < length; i++) {\n                applyTaskResource(taskTree[i], wrapTask);\n            }\n        },\n\n        _wrapResourceData: function(id) {\n            var that = this;\n            var result = [];\n            var resource;\n            var resources = this.resources.dataSource.view();\n            var assignments = this.assignments.dataSource.view();\n            var taskAssignments = new Query(assignments).filter({\n                field: that.assignments.dataTaskIdField,\n                operator: \"eq\",\n                value: id\n            }).toArray();\n            var valuePerResource = function(id) {\n                var resourceValue = null;\n\n                new Query(taskAssignments).filter({\n                    field: that.assignments.dataResourceIdField,\n                    operator: \"eq\",\n                    value: id\n                }).select(function(assignment) {\n                    resourceValue += assignment.get(that.assignments.dataValueField);\n                });\n\n                return resourceValue;\n            };\n\n            for (var i = 0, length = resources.length; i < length; i++) {\n                resource = resources[i];\n                result.push({\n                    id: resource.get(\"id\"),\n                    name: resource.get(that.resources.dataTextField),\n                    format: resource.get(that.resources.dataFormatField) || PERCENTAGE_FORMAT,\n                    value: valuePerResource(resource.id)\n                });\n            }\n\n            return result;\n        },\n\n        _syncDataSource: function() {\n            this._preventRefresh = false;\n            this._requestStart();\n            this.dataSource.sync();\n        },\n\n        _requestStart: function() {\n            this._progress(true);\n        },\n\n        _error: function() {\n            this._progress(false);\n        },\n\n        _progress: function(toggle) {\n            kendo.ui.progress(this.element, toggle);\n        },\n\n        _scrollable: function() {\n            var that = this;\n            var ganttStyles = Gantt.styles;\n            var contentSelector = DOT + ganttStyles.gridContent;\n            var headerSelector = DOT + ganttStyles.gridHeaderWrap;\n            var timelineHeader = this.timeline.element.find(headerSelector);\n            var timelineContent = this.timeline.element.find(contentSelector);\n            var treeListHeader = this.list.element.find(headerSelector);\n            var treeListContent = this.list.element.find(contentSelector);\n\n            if (mobileOS) {\n                treeListContent.css(\"overflow-y\", \"auto\");\n            }\n\n            timelineContent.on(\"scroll\", function() {\n                that.scrollTop = this.scrollTop;\n                kendo.scrollLeft(timelineHeader, this.scrollLeft);\n                treeListContent.scrollTop(this.scrollTop);\n            });\n\n            treeListContent\n                .on(\"scroll\", function() {\n                    kendo.scrollLeft(treeListHeader, this.scrollLeft);\n                })\n                .on(\"DOMMouseScroll\" + NS + \" mousewheel\" + NS, function(e) {\n                    var scrollTop = timelineContent.scrollTop();\n                    var delta = kendo.wheelDeltaY(e);\n\n                    if (delta) {\n                        e.preventDefault();\n                        //In Firefox DOMMouseScroll event cannot be canceled\n                        $(e.currentTarget).one(\"wheel\" + NS, false);\n\n                        timelineContent.scrollTop(scrollTop + (-delta));\n                    }\n                });\n        },\n\n        _navigatable: function() {\n            var that = this;\n            var navigatable = this.options.navigatable;\n            var editable = this.options.editable;\n            var ganttStyles = Gantt.styles;\n            var contentSelector = DOT + ganttStyles.gridContent;\n            var listWrapper = DOT + ganttStyles.listWrapper;\n            var headerSelector = DOT + ganttStyles.gridHeaderWrap;\n            var headerTable = this.list.element.find(headerSelector).find(\"table\");\n            var contentTable = this.list.element.find(contentSelector).find(\"table\");\n            var tables = headerTable.add(contentTable);\n            var attr = selector();\n            var deleteAction = function() {\n                var editable = that.options.editable;\n\n                if (!editable || editable.destroy === false || that.list.editor) {\n                    return;\n                }\n\n                var selectedTask = that.select();\n                var uid = kendo.attr(\"uid\");\n\n                if (selectedTask.length) {\n                    that.removeTask(selectedTask.attr(uid));\n                }\n            };\n\n            $(this.wrapper)\n                .on(\"mousedown\" + NS, listWrapper + \" tr\" + attr, function(e) {\n                    var isInput = $(e.target).is(\":button,a,:input,a>.k-icon,.k-svg-icon,k-svg-icon,svg,path,textarea,span.k-icon:not(.k-i-none),span.k-svg-icon:not(.k-svg-i-none),span.k-link,.k-input,.k-multiselect-wrap,.k-input-value-text,.k-input-inner\");\n\n                    if (e.ctrlKey) {\n                        return;\n                    }\n\n\n                    if ((navigatable || editable) && !isInput) {\n                        that._focusTimeout = setTimeout(function() {\n                            focusTable(that.list.content.find(\"table\"), true);\n                        }, 2);\n                    }\n                })\n                .on(\"keydown\" + NS, function(e) {\n                    var key = e.keyCode;\n                    var that = this;\n                    var uid;\n                    var cell;\n                    var target = $(e.target);\n                    var focusedIndex;\n                    var focusSequence = [\n                        that.toolbar,\n                        that.layout.find(\".k-splitbar\"),\n                        that.layout.find(\".k-gantt-treelist\"),\n                        that.layout.find(\".k-gantt-timeline-pane\")\n                    ];\n\n                    that._tabPressed = false;\n\n                    if (that.footer) {\n                        focusSequence.push(that.footer);\n                    }\n\n                    for (var i = 0; i < focusSequence.length; i++) {\n                        if ($.contains(focusSequence[i][0], e.target) || focusSequence[i][0] === e.target) {\n                            focusedIndex = i;\n                            break;\n                        }\n                    }\n\n                    if (key === keys.F10) {\n                        that.toolbar.find(\"[tabindex=0]:visible\").first().addClass(ganttStyles.focused).trigger(\"focus\");\n                        e.preventDefault();\n                    } else if (key == keys.TAB) {\n                        if (focusedIndex == 2) {\n                            that._tabPressed = true;\n                        }\n                        if (e.shiftKey) {\n                            for (i = focusedIndex - 1; i >= 0; i--) {\n                                if (!focusSequence[i].hasClass(\"k-hidden\")) {\n                                    uid = target.attr(\"data-uid\");\n                                    if (i === 2 && uid) {\n                                        cell = that.list.content.find(\"tr[data-uid='\" + uid + \"']\").find(\"td\").last();\n                                        that.list.current(cell);\n                                        focusTable(that.list.content.find(\"table\"), true);\n                                    } else {\n                                        if (focusSequence[i].is(\":kendoFocusable\")) {\n                                            focusSequence[i].trigger(\"focus\");\n                                        } else {\n                                            focusSequence[i].find(\"[tabindex=0]:visible\").trigger(\"focus\");\n                                        }\n                                    }\n                                    e.preventDefault();\n                                    break;\n                                }\n                            }\n                        } else {\n                            for (i = focusedIndex + 1; i < focusSequence.length; i++) {\n                                if (!focusSequence[i].hasClass(\"k-hidden\")) {\n                                    if (focusSequence[i].is(\":kendoFocusable\")) {\n                                        focusSequence[i].trigger(\"focus\");\n                                    } else {\n                                        focusSequence[i].find(\"[tabindex=0]:visible\").trigger(\"focus\");\n                                    }\n                                    e.preventDefault();\n                                  break;\n                                }\n                            }\n                        }\n                    }\n\n                }.bind(this));\n\n            if (navigatable) {\n                contentTable\n                    .on(\"keydown\" + NS, function(e) {\n                        var key = e.keyCode;\n                        if (e.keyCode == keys.DELETE) {\n                            deleteAction();\n                        } else if (key >= 49 && key <= 57 && e.target.tagName.toLowerCase() !== \"input\") {\n                           that.view(that.timeline._viewByIndex(key - 49));\n                        }\n                    });\n\n                return;\n            }\n\n            tables\n                .on(\"focus\" + NS, function() {\n                    $(that.toolbar.find(DOT + ganttStyles.focused)).removeClass(ganttStyles.focused);\n                })\n                .on(\"blur\" + NS, function() {\n\n                    if (this == headerTable) {\n                        $(this).attr(TABINDEX, -1);\n                    }\n                });\n        },\n\n\n        _dataBind: function() {\n            var that = this;\n\n            if (that.options.autoBind) {\n                this._preventRefresh = true;\n                this._preventDependencyRefresh = true;\n\n                var promises = $.map([\n                    this.dataSource,\n                    this.dependencies,\n                    this.resources.dataSource,\n                    this.assignments.dataSource\n                ],\n                function(dataSource) {\n                    return dataSource.fetch();\n                });\n\n                $.when.apply(null, promises)\n                    .done(function() {\n                        that._preventRefresh = false;\n                        that._preventDependencyRefresh = false;\n                        that.refresh();\n                    });\n            }\n        },\n\n        _resize: function() {\n            this._adjustDimensions();\n            this.timeline.view()._adjustHeight();\n            this.timeline.view()._renderCurrentTime();\n            this.list._adjustHeight();\n        },\n\n        _togglePlannedTasks: function(e) {\n            var timeline = this.timeline;\n\n            if (!this.trigger(\"togglePlannedTasks\", { showPlannedTasks: !timeline.options.showPlannedTasks })) {\n                this.wrapper.toggleClass(ganttStyles.plannedTasks);\n                timeline._setPlanned(!timeline.options.showPlannedTasks);\n                timeline._render(this.dataSource.taskTree());\n                timeline._renderDependencies(this.dependencies.view());\n            } else {\n                e.preventDefault();\n            }\n        }\n    });\n\n    if (kendo.PDFMixin) {\n        kendo.PDFMixin.extend(Gantt.fn);\n\n        Gantt.fn._drawPDF = function() {\n            const ganttStyles = Gantt.styles;\n            // Get the width of the treelist portion.\n            const listTableWidth = this.wrapper.find(DOT + ganttStyles.list + \" \" + DOT + ganttStyles.gridContent + \">table\").width();\n            // Get the height of the treelist portion.\n            const listTableHeight = this.wrapper.find(DOT + ganttStyles.list + \" \" + DOT + ganttStyles.gridContent + \">table\").height();\n            // Get the height of the table header.\n            const gridHeaderHeight = this.wrapper.find(DOT + ganttStyles.list + \" \" + DOT + ganttStyles.gridHeader).outerHeight();\n            // Get the width of the timeline portion.\n            const timelineTableWidth = this.wrapper.find(DOT + ganttStyles.timeline + \" \" + DOT + ganttStyles.gridContent + \" table\").width();\n            const content = this.wrapper.clone();\n\n            content.find(DOT + ganttStyles.list).css(\"height\", listTableHeight + gridHeaderHeight);\n            content.find(DOT + ganttStyles.splitter).css(\"width\", timelineTableWidth + listTableWidth);\n            content.find(DOT + ganttStyles.splitter).css(\"height\", listTableHeight + gridHeaderHeight);\n\n            return this._drawPDFShadow({\n                content: content\n            }, {\n                avoidLinks: this.options.pdf.avoidLinks\n            });\n        };\n    }\n\n    kendo.ui.plugin(Gantt);\n\n    extend(true, Gantt, { styles: ganttStyles });\n\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}