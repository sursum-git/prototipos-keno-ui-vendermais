{"version":3,"file":"kendo.router.min.js","names":[],"sources":["../../src/kendo.router.js"],"sourcesContent":["import \"./kendo.core.js\";\n\nexport const __meta__ = {\n    id: \"router\",\n    name: \"Router\",\n    category: \"framework\",\n    description: \"The Router class is responsible for tracking the application state and navigating between the application states.\",\n    depends: [ \"core\" ],\n    hidden: false\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        CHANGE = \"change\",\n        BACK = \"back\",\n        SAME = \"same\",\n        support = kendo.support,\n        location = window.location,\n        history = window.history,\n        CHECK_URL_INTERVAL = 50,\n        BROKEN_BACK_NAV = kendo.support.browser.msie,\n        hashStrip = /^#*/,\n        document = window.document;\n\n    function absoluteURL(path, pathPrefix) {\n        if (!pathPrefix) {\n            return path;\n        }\n\n        if (path + \"/\" === pathPrefix) {\n            path = pathPrefix;\n        }\n\n        var regEx = new RegExp(\"^\" + pathPrefix, \"i\");\n\n        if (!regEx.test(path)) {\n            path = pathPrefix + \"/\" + path;\n        }\n\n        return location.protocol + '//' + (location.host + \"/\" + path).replace(/\\/\\/+/g, '/');\n    }\n\n    function hashDelimiter(bang) {\n        return bang ? \"#!\" : \"#\";\n    }\n\n    function locationHash(hashDelimiter) {\n        var href = location.href;\n\n        // ignore normal anchors if in hashbang mode - however, still return \"\" if no hash present\n        if (hashDelimiter === \"#!\" && href.indexOf(\"#\") > -1 && href.indexOf(\"#!\") < 0) {\n            return null;\n        }\n\n        return href.split(hashDelimiter)[1] || \"\";\n    }\n\n    function stripRoot(root, url) {\n        if (url.indexOf(root) === 0) {\n            return (url.substr(root.length)).replace(/\\/\\//g, '/');\n        } else {\n            return url;\n        }\n    }\n\n    var HistoryAdapter = kendo.Class.extend({\n        back: function() {\n            if (BROKEN_BACK_NAV) {\n                setTimeout(function() { history.back(); });\n            } else {\n                history.back();\n            }\n        },\n\n        forward: function() {\n            if (BROKEN_BACK_NAV) {\n                setTimeout(function() { history.forward(); });\n            } else {\n                history.forward();\n            }\n        },\n\n        length: function() {\n            return history.length;\n        },\n\n        replaceLocation: function(url) {\n            location.replace(url);\n        }\n    });\n\n    var PushStateAdapter = HistoryAdapter.extend({\n        init: function(root) {\n            this.root = root;\n        },\n\n        navigate: function(to) {\n            history.pushState({}, document.title, absoluteURL(to, this.root));\n        },\n\n        replace: function(to) {\n            history.replaceState({}, document.title, absoluteURL(to, this.root));\n        },\n\n        normalize: function(url) {\n            return stripRoot(this.root, url);\n        },\n\n        current: function() {\n            var current = location.pathname;\n\n            if (location.search) {\n                current += location.search;\n            }\n\n            return stripRoot(this.root, current);\n        },\n\n        change: function(callback) {\n            $(window).bind(\"popstate.kendo\", callback);\n        },\n\n        stop: function() {\n            $(window).unbind(\"popstate.kendo\");\n        },\n\n        normalizeCurrent: function(options) {\n            var fixedUrl,\n                root = options.root,\n                pathname = location.pathname,\n                hash = locationHash(hashDelimiter(options.hashBang));\n\n            if (root === pathname + \"/\") {\n                fixedUrl = root;\n            }\n\n            if (root === pathname && hash) {\n                fixedUrl = absoluteURL(hash.replace(hashStrip, ''), root);\n            }\n\n            if (fixedUrl) {\n                history.pushState({}, document.title, fixedUrl);\n            }\n        }\n    });\n\n    function fixHash(url) {\n        return url.replace(/^(#)?/, \"#\");\n    }\n\n    function fixBang(url) {\n        return url.replace(/^(#(!)?)?/, \"#!\");\n    }\n\n    var HashAdapter = HistoryAdapter.extend({\n        init: function(bang) {\n            this._id = kendo.guid();\n            this.prefix = hashDelimiter(bang);\n            this.fix = bang ? fixBang : fixHash;\n        },\n\n        navigate: function(to) {\n            location.hash = this.fix(to);\n        },\n\n        replace: function(to) {\n            this.replaceLocation(this.fix(to));\n        },\n\n        normalize: function(url) {\n            if (url.indexOf(this.prefix) < 0) {\n               return url;\n            } else {\n                return url.split(this.prefix)[1];\n            }\n        },\n\n        change: function(callback) {\n            if (support.hashChange) {\n                $(window).on(\"hashchange.\" + this._id, callback);\n            } else {\n                this._interval = setInterval(callback, CHECK_URL_INTERVAL);\n            }\n        },\n\n        stop: function() {\n            $(window).off(\"hashchange.\" + this._id);\n            clearInterval(this._interval);\n        },\n\n        current: function() {\n            return locationHash(this.prefix);\n        },\n\n        normalizeCurrent: function(options) {\n            var pathname = location.pathname,\n                root = options.root;\n\n            if (options.pushState && root !== pathname) {\n                this.replaceLocation(root + this.prefix + stripRoot(root, pathname));\n                return true; // browser will reload at this point.\n            }\n\n            return false;\n        }\n    });\n\n    var History = kendo.Observable.extend({\n        start: function(options) {\n            options = options || {};\n\n            this.bind([CHANGE, BACK, SAME], options);\n\n            if (this._started) {\n                return;\n            }\n\n            this._started = true;\n\n            options.root = options.root || \"/\";\n\n            var adapter = this.createAdapter(options),\n                current;\n\n            // adapter may reload the document\n            if (adapter.normalizeCurrent(options)) {\n                return;\n            }\n\n            current = adapter.current();\n\n            $.extend(this, {\n                adapter: adapter,\n                root: options.root,\n                historyLength: adapter.length(),\n                current: current,\n                locations: [current]\n            });\n\n            adapter.change(this._checkUrl.bind(this));\n        },\n\n        createAdapter: function(options) {\n           return support.pushState && options.pushState ? new PushStateAdapter(options.root) : new HashAdapter(options.hashBang);\n        },\n\n        stop: function() {\n            if (!this._started) {\n                return;\n            }\n            this.adapter.stop();\n            this.unbind(CHANGE);\n            this._started = false;\n        },\n\n        change: function(callback) {\n            this.bind(CHANGE, callback);\n        },\n\n        replace: function(to, silent) {\n\n            this._navigate(to, silent, function(adapter) {\n                adapter.replace(to);\n                this.locations[this.locations.length - 1] = this.current;\n            });\n        },\n\n        navigate: function(to, silent) {\n            if (to === \"#:back\") {\n                this.backCalled = true;\n                this.adapter.back();\n                return;\n            }\n\n            this._navigate(to, silent, function(adapter) {\n                adapter.navigate(to);\n                this.locations.push(this.current);\n            });\n        },\n\n        _navigate: function(to, silent, callback) {\n            var adapter = this.adapter;\n\n            to = adapter.normalize(to);\n\n            if (this.current === to || this.current === decodeURIComponent(to)) {\n                this.trigger(SAME);\n                return;\n            }\n\n            if (!silent) {\n                if (this.trigger(CHANGE, { url: to, decode: false })) {\n                    return;\n                }\n            }\n\n            this.current = to;\n\n            callback.call(this, adapter);\n\n            this.historyLength = adapter.length();\n        },\n\n        _checkUrl: function() {\n            var adapter = this.adapter,\n                current = adapter.current(),\n                newLength = adapter.length(),\n                navigatingInExisting = this.historyLength === newLength,\n                back = current === this.locations[this.locations.length - 2] && navigatingInExisting,\n                backCalled = this.backCalled,\n                prev = this.current;\n\n            if (current === null || this.current === current || this.current === decodeURIComponent(current)) {\n                return true;\n            }\n\n            this.historyLength = newLength;\n            this.backCalled = false;\n\n            this.current = current;\n\n            if (back && this.trigger(\"back\", { url: prev, to: current })) {\n                adapter.forward();\n                this.current = prev;\n                return;\n            }\n\n            if (this.trigger(CHANGE, { url: current, backButtonPressed: !backCalled })) {\n                if (back) {\n                    adapter.forward();\n                } else {\n                    adapter.back();\n                    this.historyLength --;\n                }\n                this.current = prev;\n                return;\n            }\n\n            if (back) {\n                this.locations.pop();\n            } else {\n                this.locations.push(current);\n            }\n        }\n    });\n\n    kendo.History = History;\n    kendo.History.HistoryAdapter = HistoryAdapter;\n    kendo.History.HashAdapter = HashAdapter;\n    kendo.History.PushStateAdapter = PushStateAdapter;\n    kendo.absoluteURL = absoluteURL;\n    kendo.history = new History();\n})(window.kendo.jQuery);\nexport default kendo;\n\n(function() {\n    var kendo = window.kendo,\n        history = kendo.history,\n        Observable = kendo.Observable,\n        INIT = \"init\",\n        ROUTE_MISSING = \"routeMissing\",\n        CHANGE = \"change\",\n        BACK = \"back\",\n        SAME = \"same\",\n        optionalParam = /\\((.*?)\\)/g,\n        namedParam = /(\\(\\?)?:\\w+/g,\n        splatParam = /\\*\\w+/g,\n        escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n    function namedParamReplace(match, optional) {\n        return optional ? match : '([^\\/]+)';\n    }\n\n    function routeToRegExp(route, ignoreCase) {\n        return new RegExp('^' + route\n            .replace(escapeRegExp, '\\\\$&')\n            .replace(optionalParam, '(?:$1)?')\n            .replace(namedParam, namedParamReplace)\n            .replace(splatParam, '(.*?)') + '$', ignoreCase ? \"i\" : \"\");\n    }\n\n    function stripUrl(url) {\n        return url.replace(/(\\?.*)|(#.*)/g, \"\");\n    }\n\n    var Route = kendo.Class.extend({\n        init: function(route, callback, ignoreCase) {\n            if (!(route instanceof RegExp)) {\n                route = routeToRegExp(route, ignoreCase);\n            }\n\n            this.route = route;\n            this._callback = callback;\n        },\n\n        callback: function(url, back, decode) {\n            var params,\n                idx = 0,\n                length,\n                queryStringParams = kendo.parseQueryStringParams(url);\n                queryStringParams._back = back;\n\n            url = stripUrl(url);\n            params = this.route.exec(url).slice(1);\n            length = params.length;\n\n            if (decode) {\n                for (; idx < length; idx ++) {\n                    if (typeof params[idx] !== 'undefined') {\n                        params[idx] = decodeURIComponent(params[idx]);\n                    }\n                }\n            }\n\n            params.push(queryStringParams);\n\n            this._callback.apply(null, params);\n        },\n\n        worksWith: function(url, back, decode) {\n            if (this.route.test(stripUrl(url))) {\n                this.callback(url, back, decode);\n                return true;\n            } else {\n                return false;\n            }\n        }\n    });\n\n    var Router = Observable.extend({\n        init: function(options) {\n            if (!options) {\n                options = {};\n            }\n\n            Observable.fn.init.call(this);\n\n            this.routes = [];\n            this.pushState = options.pushState;\n            this.hashBang = options.hashBang;\n            this.root = options.root;\n            this.ignoreCase = options.ignoreCase !== false;\n\n            this.bind([INIT, ROUTE_MISSING, CHANGE, SAME, BACK], options);\n        },\n\n        destroy: function() {\n            history.unbind(CHANGE, this._urlChangedProxy);\n            history.unbind(SAME, this._sameProxy);\n            history.unbind(BACK, this._backProxy);\n            this.unbind();\n        },\n\n        start: function() {\n            var that = this,\n                sameProxy = function() { that._same(); },\n                backProxy = function(e) { that._back(e); },\n                urlChangedProxy = function(e) { that._urlChanged(e); };\n\n            history.start({\n                same: sameProxy,\n                change: urlChangedProxy,\n                back: backProxy,\n                pushState: that.pushState,\n                hashBang: that.hashBang,\n                root: that.root\n            });\n\n\n            var initEventObject = { url: history.current || \"/\", preventDefault: $.noop };\n\n            if (!that.trigger(INIT, initEventObject)) {\n                that._urlChanged(initEventObject);\n            }\n\n            this._urlChangedProxy = urlChangedProxy;\n            this._backProxy = backProxy;\n        },\n\n        route: function(route, callback) {\n            this.routes.push(new Route(route, callback, this.ignoreCase));\n        },\n\n        navigate: function(url, silent) {\n            kendo.history.navigate(url, silent);\n        },\n\n        replace: function(url, silent) {\n            kendo.history.replace(url, silent);\n        },\n\n        _back: function(e) {\n            if (this.trigger(BACK, { url: e.url, to: e.to })) {\n                e.preventDefault();\n            }\n        },\n\n        _same: function() {\n            this.trigger(SAME);\n        },\n\n        _urlChanged: function(e) {\n            var url = e.url;\n            var decode = !!e.decode;\n            var back = e.backButtonPressed;\n\n            if (!url) {\n                url = \"/\";\n            }\n\n            if (this.trigger(CHANGE, { url: e.url, params: kendo.parseQueryStringParams(e.url), backButtonPressed: back })) {\n                e.preventDefault();\n                return;\n            }\n\n            var idx = 0,\n                routes = this.routes,\n                route,\n                length = routes.length;\n\n            for (; idx < length; idx ++) {\n                 route = routes[idx];\n\n                 if (route.worksWith(url, back, decode)) {\n                    return;\n                 }\n            }\n\n            if (this.trigger(ROUTE_MISSING, { url: url, params: kendo.parseQueryStringParams(url), backButtonPressed: back })) {\n                e.preventDefault();\n            }\n        }\n    });\n\n    kendo.Router = Router;\n})();\n\n"],"mappings":"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"}