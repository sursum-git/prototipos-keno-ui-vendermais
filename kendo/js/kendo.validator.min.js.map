{"version":3,"file":"kendo.validator.min.js","names":[],"sources":["../../src/kendo.validator.js"],"sourcesContent":["import \"./kendo.core.js\";\n\nexport const __meta__ = {\n    id: \"validator\",\n    name: \"Validator\",\n    category: \"web\",\n    description: \"The Validator offers an easy way to do a client-side form validation.\",\n    depends: [ \"core\" ]\n};\n\n\n(function($, undefined) {\n    let kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        NS = \".kendoValidator\",\n        INVALIDMSG = \"k-invalid-msg\",\n        invalidMsgRegExp = new RegExp(INVALIDMSG,'i'),\n        INVALIDINPUT = \"k-invalid\",\n        VALIDINPUT = \"k-valid\",\n        VALIDATIONSUMMARY = \"k-validation-summary\",\n        INVALIDLABEL = \"k-text-error\",\n        MESSAGEBOX = \"k-messagebox k-messagebox-error\",\n        INPUTINNER = \".k-input-inner\",\n        UPLOADBUTTONWRAPPER = \".k-upload-button-wrap\",\n        CHECKBOXWRAPPER= \".k-checkbox-wrap\",\n        INPUTWRAPPER = \".k-input\",\n        ARIAINVALID = \"aria-invalid\",\n        ARIADESCRIBEDBY = \"aria-describedby\",\n        emailRegExp = /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i,\n        ALLOWED_URL_PROTOCOLS = [\"http:\", \"https:\", \"ftp:\", \"ftps:\"],\n        INPUTSELECTOR = \":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])\",\n        CHECKBOXSELECTOR = \":checkbox:not([disabled],[readonly])\",\n        NUMBERINPUTSELECTOR = \"[type=number],[type=range]\",\n        BLUR = \"blur\",\n        NAME = \"name\",\n        FORM = \"form\",\n        NOVALIDATE = \"novalidate\",\n        //events\n        VALIDATE = \"validate\",\n        CHANGE = \"change\",\n        VALIDATE_INPUT = \"validateInput\",\n\n        patternMatcher = function(value, pattern) {\n            if (typeof pattern === \"string\") {\n                pattern = new RegExp('^(?:' + pattern + ')$');\n            }\n            return pattern.test(value);\n        },\n        matcher = function(input, selector, pattern) {\n            var value = input.val();\n\n            if (input.filter(selector).length && value !== \"\") {\n                return patternMatcher(value, pattern);\n            }\n            return true;\n        },\n        hasAttribute = function(input, name) {\n            if (input.length) {\n                return input[0].attributes[name] != null;\n            }\n            return false;\n        };\n\n    if (!kendo.ui.validator) {\n        kendo.ui.validator = { rules: {}, messages: {}, allowSubmit: $.noop, validateOnInit: $.noop };\n    }\n\n    function resolveRules(element) {\n        var resolvers = kendo.ui.validator.ruleResolvers || {},\n            rules = {},\n            name;\n\n        for (name in resolvers) {\n            $.extend(true, rules, resolvers[name].resolve(element));\n        }\n        return rules;\n    }\n\n    function decode(value) {\n        return value.replace(/&amp/g, '&amp;')\n            .replace(/&quot;/g, '\"')\n            .replace(/&#39;/g, \"'\")\n            .replace(/&lt;/g, '<')\n            .replace(/&gt;/g, '>');\n    }\n\n    function numberOfDecimalDigits(value) {\n        value = (value + \"\").split('.');\n        if (value.length > 1) {\n            return value[1].length;\n        }\n        return 0;\n    }\n\n    function parseHtml(text) {\n        if ($.parseHTML) {\n            return $($.parseHTML(text));\n        }\n        return $(text);\n    }\n\n    function searchForMessageContainer(elements, fieldName) {\n        var containers = $(),\n            element,\n            attr;\n\n        for (var idx = 0, length = elements.length; idx < length; idx++) {\n            element = elements[idx];\n            if (invalidMsgRegExp.test(element.className)) {\n                attr = element.getAttribute(kendo.attr(\"for\"));\n                if (attr === fieldName) {\n                    containers = containers.add(element);\n                }\n            }\n        }\n        return containers;\n    }\n\n    function isLabelFor(label, element) {\n        if (!label) {\n            return false;\n        }\n        if (typeof label.nodeName !== 'string' || label.nodeName !== 'LABEL') {\n            return false;\n        }\n        if (typeof label.getAttribute('for') !== 'string' || typeof element.getAttribute('id') !== 'string') {\n            return false;\n        }\n        if (label.getAttribute('for') !== element.getAttribute('id')) {\n            return false;\n        }\n\n        return true;\n    }\n\n    var SUMMARYTEMPLATE = ({ errors }) => {\n        let result = '<ul>';\n        for (var i = 0; i < errors.length; i += 1) {\n            result += `<li><a data-field=\"${errors[i].field}\" href=\"#\">${errors[i].message}</a></li>`;\n        }\n\n        result += '</ul>';\n        return result;\n    };\n\n    var Validator = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                resolved = resolveRules(element),\n                validateAttributeSelector = \"[\" + kendo.attr(\"validate\") + \"!=false]\";\n\n            options = options || {};\n\n            options.rules = $.extend({}, kendo.ui.validator.rules, resolved.rules, options.rules);\n            options.messages = $.extend({}, kendo.ui.validator.messages, resolved.messages, options.messages);\n\n            Widget.fn.init.call(that, element, options);\n\n            that._errorTemplate = kendo.template(that.options.errorTemplate);\n            that._summaryTemplate = kendo.template(that.options.validationSummary.template || SUMMARYTEMPLATE);\n\n            if (that.element.is(FORM)) {\n                that.element.attr(NOVALIDATE, NOVALIDATE);\n            }\n\n            const formId = that.element.attr(\"id\");\n            that._shouldSearchDocument = that.element.is(FORM) && formId != undefined && $(`:input[form='${formId}']`).length > 0;\n            that._containerElement = that._shouldSearchDocument ? $(document) : that.element;\n            that._inputSelector = that._buildSelector(INPUTSELECTOR, validateAttributeSelector);\n            that._checkboxSelector = that._buildSelector(CHECKBOXSELECTOR, validateAttributeSelector);\n\n            that._errors = {};\n            that._attachEvents();\n            that._isValidated = false;\n\n            if (that._validateOnInit()) {\n                that.validate();\n            }\n        },\n\n        events: [ VALIDATE, CHANGE, VALIDATE_INPUT ],\n\n        options: {\n            name: \"Validator\",\n            errorTemplate: ({ message }) => `<span class=\"k-form-error\">${message}</span>`,\n            messages: {\n                required: \"{0} is required\",\n                pattern: \"{0} is not valid\",\n                min: \"{0} should be greater than or equal to {1}\",\n                max: \"{0} should be smaller than or equal to {1}\",\n                step: \"{0} is not valid\",\n                email: \"{0} is not valid email\",\n                url: \"{0} is not valid URL\",\n                date: \"{0} is not valid date\",\n                dateCompare: \"End date should be greater than or equal to the start date\",\n                captcha: \"The text you entered doesn't match the image.\"\n            },\n            rules: {\n                required: function(input) {\n                    let containerElement = this._containerElement,\n                        noNameCheckbox = !input.attr(\"name\") && !input.is(\":checked\"),\n                        name = input.attr(\"name\"),\n                        quote = !!name && name.indexOf(\"'\") > -1 ? '\\\"' : \"'\",\n                        namedCheckbox = input.attr(\"name\") && !containerElement.find(\"input[name=\" + quote + input.attr(\"name\") + quote + \"]:checked\").length,\n                        checkbox = input.filter(\"[type=checkbox]\").length && (noNameCheckbox || namedCheckbox),\n                        file = input.filter(\"[type=file]\").parents(UPLOADBUTTONWRAPPER).children(\"input\").length,\n                        radio = input.filter(\"[type=radio]\").length && !containerElement.find(\"input[name=\" + quote + input.attr(\"name\") + quote + \"]:checked\").length,\n                        value = input.val();\n\n                        if (file) {\n                            let isValid = false;\n\n                            input.filter(\"[type=file]\")\n                                .parents(UPLOADBUTTONWRAPPER)\n                                .children(\"input\")\n                                .each(function(idx) {\n                                    if (input.val()) {\n                                        isValid = true;\n                                    }\n                                });\n\n                            return !(hasAttribute(input, \"required\") && !isValid);\n                        }\n\n                        return !(hasAttribute(input, \"required\") && (!value || value === \"\" || value.length === 0 || checkbox || radio));\n                },\n                pattern: function(input) {\n                    if (input.filter(\"[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]\").filter(\"[pattern]\").length && input.val() !== \"\") {\n                        return patternMatcher(input.val(), input.attr(\"pattern\"));\n                    }\n                    return true;\n                },\n                min: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[min]\").length && input.val() !== \"\") {\n                        var min = parseFloat(input.attr(\"min\")) || 0,\n                            val = kendo.parseFloat(input.val());\n\n                        return min <= val;\n                    }\n                    return true;\n                },\n                max: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[max]\").length && input.val() !== \"\") {\n                        var max = parseFloat(input.attr(\"max\")) || 0,\n                            val = kendo.parseFloat(input.val());\n\n                        return max >= val;\n                    }\n                    return true;\n                },\n                step: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[step]\").length && input.val() !== \"\") {\n                        var min = parseFloat(input.attr(\"min\")) || 0,\n                            step = kendo.parseFloat(input.attr(\"step\")) || 1,\n                            val = parseFloat(input.val()),\n                            decimals = numberOfDecimalDigits(step),\n                            raise;\n\n                        if (decimals) {\n                            raise = Math.pow(10, decimals);\n                            return ((Math.floor((val - min) * raise)) % (step * raise)) / Math.pow(100, decimals) === 0;\n                        }\n                        return ((val - min) % step) === 0;\n                    }\n                    return true;\n                },\n                email: function(input) {\n                    return matcher(input, \"[type=email],[\" + kendo.attr(\"type\") + \"=email]\", emailRegExp);\n                },\n                url: function(input) {\n                    if (input.filter(\"[type=url],[\" + kendo.attr(\"type\") + \"=url]\").length && input.val() !== \"\") {\n                        try {\n                            const url = new URL(input.val());\n                            return ALLOWED_URL_PROTOCOLS.includes(url.protocol);\n                        } catch {\n                            return false;\n                        }\n                    }\n                    return true;\n                },\n                date: function(input) {\n                    if (input.filter(\"[type^=date],[\" + kendo.attr(\"type\") + \"=date]\").length && input.val() !== \"\") {\n                        return kendo.parseDate(input.val(), input.attr(kendo.attr(\"format\"))) !== null;\n                    }\n                    return true;\n                },\n                captcha: function(input) {\n                    if (input.filter(\"[\" + kendo.attr(\"role\") + \"=captcha]\").length) {\n                        var that = this,\n                            captcha = kendo.widgetInstance(input),\n                            isValidated = function(isValid) {\n                                return typeof(isValid) !== 'undefined' && isValid !== null;\n                            };\n\n                        if (!input.data(\"captcha_validating\") && !isValidated(captcha.isValid()) && !!captcha.getCaptchaId()) {\n                            input.data(\"captcha_validating\", true);\n                            that._validating = true;\n                            captcha.validate().done(function() {\n                                that._validating = false;\n                                that._checkElement(input);\n                            }).fail(function(data) {\n                                that._validating = false;\n                                if (data.error && data.error === \"handler_not_defined\") {\n                                    window.console.warn(\"Captcha's validationHandler is not defined! You should either define a proper validation endpoint or declare a callback function to ensure the required behavior.\");\n                                }\n                            });\n                        }\n\n                        if (isValidated(captcha.isValid())) {\n                            input.removeData(\"captcha_validating\");\n                            return captcha.isValid();\n                        }\n                    }\n                    return true;\n                }\n            },\n            validateOnBlur: true,\n            validationSummary: false\n        },\n\n        _buildSelector: function(selectorConstant, validateAttributeSelector) {\n            if (!this._shouldSearchDocument) {\n                return selectorConstant + validateAttributeSelector;\n            }\n            const id = this.element.attr(\"id\");\n\n            return `#${id} ` + selectorConstant + validateAttributeSelector + `,[form=\"${id}\"]`;\n        },\n\n        _allowSubmit: function() {\n            return kendo.ui.validator.allowSubmit(this.element, this.errors());\n        },\n\n        _validateOnInit: function() {\n            return kendo.ui.validator.validateOnInit(this.element);\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this.element.off(NS);\n\n            if (this.validationSummary) {\n                this.validationSummary.off(NS);\n                this.validationSummary = null;\n            }\n        },\n\n        value: function() {\n            if (!this._isValidated) {\n                return false;\n            }\n\n            return this.errors().length === 0;\n        },\n\n        _submit: function(e) {\n            if ((!this.validate() && !this._allowSubmit()) || this._validating) {\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n                e.preventDefault();\n                return false;\n            }\n            return true;\n        },\n\n        _checkElement: function(element) {\n            var state = this.value();\n\n            this.validateInput(element);\n\n            if (this.value() !== state) {\n                this.trigger(CHANGE);\n            }\n        },\n\n        _attachEvents: function() {\n            const that = this,\n            element = that._containerElement;\n\n            if (that.element.is(FORM)) {\n                that.element.on(\"submit\" + NS, that._submit.bind(that));\n            }\n\n            if (that.options.validateOnBlur) {\n                if (!element.is(INPUTSELECTOR)) {\n                    element.on(BLUR + NS, that._inputSelector, function() {\n                        that._checkElement($(this));\n                    });\n\n                    element.on(\"click\" + NS, that._checkboxSelector, function() {\n                        that._checkElement($(this));\n                    });\n                } else {\n                    element.on(BLUR + NS, function() {\n                        that._checkElement(that.element);\n                    });\n\n                    if (element.is(CHECKBOXSELECTOR)) {\n                        element.on(\"click\" + NS, function() {\n                            that._checkElement(that.element);\n                        });\n                    }\n                }\n            }\n        },\n\n        validate: function() {\n            let inputs;\n            let idx;\n            let result = false;\n            let length;\n            let containerElement = this._containerElement;\n            let isValid = this.value();\n\n            this._errors = {};\n\n            if (!this.element.is(INPUTSELECTOR)) {\n                let invalid = false;\n\n                inputs = containerElement.find(this._inputSelector);\n\n                containerElement.find(UPLOADBUTTONWRAPPER).each(function() {\n                    let uploadContainer = $($(this).parents(\".k-upload\")[0]),\n                        firstFileInput = $(this).find(\"input:hidden[type='file']\").first();\n\n                    if (firstFileInput.length) {\n                        if (uploadContainer.length && !uploadContainer.hasClass(\"k-disabled\")) {\n                            Array.prototype.push.call(inputs, firstFileInput[0]);\n                        }\n                    }\n                });\n\n                for (idx = 0, length = inputs.length; idx < length; idx++) {\n                    if (!this.validateInput(inputs.eq(idx))) {\n                        invalid = true;\n                    }\n                }\n\n                result = !invalid;\n            } else {\n                result = this.validateInput(this.element);\n            }\n\n            if (this.options.validationSummary && !isValid) {\n                this.showValidationSummary();\n            }\n\n            this.trigger(VALIDATE, { valid: result, errors: this.errors() });\n\n            if (isValid !== result) {\n                this.trigger(CHANGE);\n            }\n\n            return result;\n        },\n\n        validateInput: function(input) {\n            input = $(input);\n\n            if (!kendo.isEmpty(input.closest('.k-otp'))) {\n                let otpContainer = input.closest(\".k-otp\");\n                input = otpContainer.find(\"input[data-role='otpinput']\");\n            }\n\n\n            this._isValidated = true;\n\n            const that = this,\n                template = that._errorTemplate,\n                result = that._checkValidity(input),\n                valid = result.valid,\n                className = \".\" + INVALIDMSG,\n                fieldName = (input.attr(NAME) || \"\"),\n                lbl = that._findMessageContainer(fieldName).add(input.next(className).filter(function() {\n                    let element = that._shouldSearchDocument ? $(document) : $(this);\n                    if (element.filter(\"[\" + kendo.attr(\"for\") + \"]\").length) {\n                        return element.attr(kendo.attr(\"for\")) === fieldName;\n                    }\n\n                    return true;\n\n                })).addClass(\"k-hidden\"),\n                messageText = !valid ? that._extractMessage(input, result.key) : \"\",\n                messageLabel = !valid ? parseHtml(template({ message: decode(messageText), field: fieldName })) : \"\",\n                wasValid = !input.attr(ARIAINVALID),\n                isInputInner = input.is(INPUTINNER),\n                inputWrapper = input.parent(INPUTWRAPPER);\n            let widgetInstance;\n\n            input.removeAttr(ARIAINVALID);\n\n            if (input.hasClass(\"k-hidden\") && (input.attr(\"data-role\") == \"otpinput\" || input.attr(\"data-role\") == \"upload\")) {\n                widgetInstance = kendo.widgetInstance(input);\n            }\n            if (input.hasClass(\"k-hidden\") && input.attr(\"data-role\") == \"signature\") {\n                widgetInstance = kendo.widgetInstance(input.closest(\".k-signature\"));\n            }\n\n            if (input.is(\"[type=radio]\")) {\n                widgetInstance = kendo.widgetInstance(input.closest(\".k-radio-list\"));\n            }\n\n            if (input.is(\"[type=checkbox]\")) {\n                widgetInstance = kendo.widgetInstance(input.closest(\".k-checkbox-list\"));\n            }\n\n            if (!valid && !input.data(\"captcha_validating\")) {\n                that._errors[fieldName] = messageText;\n                let lblId = lbl.attr('id');\n\n                that._decorateMessageContainer(messageLabel, fieldName);\n\n\n                if (lblId) {\n                    messageLabel.attr('id', lblId);\n                }\n\n                if (lbl.length !== 0) {\n                    lbl.replaceWith(messageLabel);\n                } else {\n                    widgetInstance = widgetInstance || kendo.widgetInstance(input);\n                    let parentElement = input.parent().get(0);\n                    let nextElement = input.next().get(0);\n                    let prevElement = input.prev().get(0);\n\n                    // Get the instance of the RadioGroup which is not initialized on the input element\n                    if (!widgetInstance && input.is(\"[type=radio]\")) {\n                        widgetInstance = kendo.widgetInstance(input.closest(\".k-radio-list\"));\n                    }\n\n                    // Get the instance of the CheckBoxGroup which is not initialized on the input element\n                    if (!widgetInstance && input.is(\"[type=checkbox]\")) {\n                        widgetInstance = kendo.widgetInstance(input.closest(\".k-checkbox-list\"));\n                    }\n\n                    if (widgetInstance && widgetInstance.wrapper && (widgetInstance.element !== widgetInstance.wrapper || [\"Signature\", \"RadioGroup\", \"CheckBoxGroup\"].indexOf(widgetInstance.options.name) > -1)) {\n                        messageLabel.insertAfter(widgetInstance.wrapper);\n                    } else if (parentElement && parentElement.nodeName === \"LABEL\") {\n                        // Input inside label\n                        messageLabel.insertAfter(parentElement);\n                    } else if (nextElement && isLabelFor(nextElement, input[0])) {\n                        // Input before label\n                        messageLabel.insertAfter(nextElement);\n                    } else if (prevElement && isLabelFor(prevElement, input[0])) {\n                        // Input after label\n                        messageLabel.insertAfter(input);\n                    } else if (isInputInner && inputWrapper.length) {\n                        // Input after input wrapper\n                        messageLabel.insertAfter(inputWrapper);\n                    } else {\n                        messageLabel.insertAfter(input);\n                    }\n                }\n\n                messageLabel.removeClass(\"k-hidden\");\n\n                input.attr(ARIAINVALID, true);\n            } else {\n                delete that._errors[fieldName];\n            }\n\n            if (wasValid !== valid) {\n                this.trigger(VALIDATE_INPUT, { valid: valid, input: input, error: messageText, field: fieldName });\n            }\n\n            widgetInstance = (widgetInstance && widgetInstance.options.name == \"Signature\") ? widgetInstance : kendo.widgetInstance(input);\n\n            if (!widgetInstance || !(widgetInstance._inputWrapper || widgetInstance.wrapper) || (input.is(\"[type=checkbox]\") || input.is(\"[type=radio]\"))) {\n                input.toggleClass(INVALIDINPUT, !valid);\n                input.toggleClass(VALIDINPUT, valid);\n            }\n\n            if (widgetInstance) {\n                let widgetName = widgetInstance.options.name;\n                let inputWrap = widgetInstance._inputWrapper || widgetInstance.wrapper;\n                let inputLabel = widgetInstance._inputLabel;\n\n                if (widgetName == \"OTPInput\") {\n                    if (!valid) {\n                        widgetInstance._addInvalidState.bind(that);\n                        widgetInstance._addInvalidState(inputWrap, true);\n                    } else {\n                        widgetInstance._removeInvalidState.bind(that);\n                        widgetInstance._removeInvalidState(inputWrap, true);\n                    }\n                } else if (inputWrap && !(input.is(\"[type=checkbox]\") || input.is(\"[type=radio]\"))) {\n                    inputWrap.toggleClass(INVALIDINPUT, !valid);\n                    inputWrap.toggleClass(VALIDINPUT, valid);\n                }\n                if (inputLabel) {\n                    inputLabel.toggleClass(INVALIDLABEL, !valid);\n                }\n            }\n\n            if (wasValid !== valid) {\n                let errorId = messageLabel ? messageLabel.attr(\"id\") : lbl.attr(\"id\");\n\n                that._associateMessageContainer(input, errorId);\n\n                if (this.options.validationSummary && this.options.validateOnBlur) {\n                    this.showValidationSummary();\n                }\n            }\n\n            return valid;\n        },\n\n        hideMessages: function() {\n            const that = this,\n                className = \".\" + INVALIDMSG,\n                element = that._containerElement;\n\n            that._disassociateMessageContainers();\n\n            if (!element.is(INPUTSELECTOR)) {\n                element.find(className).addClass(\"k-hidden\");\n            } else {\n                element.next(className).addClass(\"k-hidden\");\n            }\n        },\n\n        reset: function() {\n            const that = this,\n                containerElement = that._containerElement,\n                inputs = containerElement.find(\".\" + INVALIDINPUT),\n                labels = containerElement.find(\".\" + INVALIDLABEL);\n\n            that._errors = [];\n\n            that.hideMessages();\n\n            that.hideValidationSummary();\n\n            inputs.removeAttr(ARIAINVALID);\n            inputs.removeClass(INVALIDINPUT);\n            labels.removeClass(INVALIDLABEL);\n        },\n\n        _findMessageContainer: function(fieldName) {\n            let locators = kendo.ui.validator.messageLocators,\n                name,\n                containers = $();\n\n            for (let idx = 0, length = this.element.length; idx < length; idx++) {\n                let target = this._shouldSearchDocument ? document : this.element[idx];\n                containers = containers.add(searchForMessageContainer(target.getElementsByTagName(\"*\"), fieldName));\n            }\n\n            for (name in locators) {\n                containers = containers.add(locators[name].locate(this._containerElement, fieldName));\n            }\n\n            return containers;\n        },\n\n        _decorateMessageContainer: function(container, fieldName) {\n            var locators = kendo.ui.validator.messageLocators,\n                name;\n\n            container.addClass(INVALIDMSG)\n                .attr(kendo.attr(\"for\"), fieldName || \"\");\n\n            if (!container.attr(\"id\")) {\n                container.attr(\"id\", fieldName + \"-error\");\n            }\n\n            for (name in locators) {\n                locators[name].decorate(container, fieldName);\n            }\n        },\n\n        _extractMessage: function(input, ruleKey) {\n            var that = this,\n                customMessage = that.options.messages[ruleKey],\n                fieldName = input.attr(NAME),\n                nonDefaultMessage;\n\n            if (!kendo.ui.Validator.prototype.options.messages[ruleKey]) {\n                 nonDefaultMessage = kendo.isFunction(customMessage) ? customMessage(input) : customMessage;\n            }\n\n            customMessage = kendo.isFunction(customMessage) ? customMessage(input) : customMessage;\n\n            const closestParentWithFieldName = input.parent().closest(\"[name='\" + fieldName + \"']\");\n            const target = closestParentWithFieldName.length ? closestParentWithFieldName : input;\n\n            return kendo.format(target.attr(kendo.attr(ruleKey + \"-msg\")) || target.attr(\"validationMessage\") || nonDefaultMessage || customMessage || target.attr(\"title\") || \"\",\n                fieldName,\n                target.attr(ruleKey) || input.attr(kendo.attr(ruleKey)));\n        },\n\n        _checkValidity: function(input) {\n            var rules = this.options.rules,\n                rule;\n\n            for (rule in rules) {\n                if (!rules[rule].call(this, input)) {\n                    return { valid: false, key: rule };\n                }\n            }\n\n            return { valid: true };\n        },\n\n        errors: function() {\n            var results = [],\n                errors = this._errors,\n                error;\n\n            for (error in errors) {\n                results.push(errors[error]);\n            }\n            return results;\n        },\n\n        setOptions: function(options) {\n            if (options.validationSummary) {\n                this.hideValidationSummary();\n            }\n\n            kendo.deepExtend(this.options, options);\n\n            this.destroy();\n\n            this.init(this.element, this.options);\n\n            this._setEvents(this.options);\n        },\n\n        _getInputNames: function() {\n            const that = this,\n                containerElement = this._containerElement,\n                inputs = containerElement.find(that._inputSelector);\n            let sorted = [];\n            let checkBoxNames = [];\n\n            for (let idx = 0, length = inputs.length; idx < length; idx++) {\n                let input = $(inputs[idx]);\n\n                if (hasAttribute(input, NAME)) {\n                    // Add current name if:\n                    // - not present so far;\n                    // - present but not part of CheckBoxGroup or RadioGroup.\n\n                    if (sorted.indexOf(input.attr(NAME)) === -1 ||\n                        (input.closest(\".k-checkbox-list\").length === 0 &&\n                        input.closest(\".k-radio-list\").length === 0)) {\n                            if (input.parents(CHECKBOXWRAPPER).length) {\n                                checkBoxNames.push(input.attr(NAME));\n                                sorted.push(input.attr(NAME));\n                            }\n                            else {\n                                if (!checkBoxNames.includes(input.attr(NAME))) {\n                                    sorted.push(input.attr(NAME));\n                                }\n                            }\n                    }\n                }\n            }\n\n            return sorted;\n        },\n\n        _associateMessageContainer: function(input, errorId) {\n            var nextFocusable = kendo.getWidgetFocusableElement(input);\n\n            if (!nextFocusable || !errorId) {\n                return;\n            }\n\n            kendo.toggleAttribute(nextFocusable, ARIADESCRIBEDBY, errorId);\n        },\n\n        _disassociateMessageContainers: function() {\n            var that = this,\n                inputs = that.element.find(\".\" + INVALIDINPUT).addBack(),\n                input, errorId;\n\n            for (var i = 0; i < inputs.length; i += 1) {\n                input = $(inputs[i]);\n\n                if (input.is(\"input\")) {\n                    errorId = that._findMessageContainer(input.attr(NAME))\n                        .add(input.next(\".\" + INVALIDMSG))\n                        .attr(\"id\");\n\n                    that._associateMessageContainer(input, errorId);\n                }\n            }\n        },\n\n        _errorsByName: function() {\n            var that = this,\n                inputNames = that._getInputNames(),\n                sorted = [];\n\n            for (var i = 0; i < inputNames.length; i += 1) {\n                var name = inputNames[i];\n\n                if (that._errors[name]) {\n                    sorted.push({\n                        field: name,\n                        message: that._errors[name]\n                    });\n                }\n            }\n\n            return sorted;\n        },\n\n        _renderSummary: function() {\n            var that = this,\n                options = this.options.validationSummary,\n                element = this.element,\n                prevElement = element.prev(),\n                container;\n\n            if (options.container) {\n                container = $(options.container);\n            } else if (prevElement && prevElement.hasClass(VALIDATIONSUMMARY)) {\n                container = prevElement;\n            } else {\n                container = $(\"<div />\").insertBefore(that.element);\n            }\n\n            container.addClass([VALIDATIONSUMMARY, MESSAGEBOX].join(\" \"));\n            container.attr(\"role\", \"alert\");\n\n            container.on(\"click\" + NS, that._summaryClick.bind(that));\n\n            return container;\n        },\n\n        _summaryClick: function(e) {\n            e.preventDefault();\n\n            var that = this,\n                link = $(e.target),\n                target = that.element.find(\"[name='\" + link.data(\"field\") + \"']\"),\n                nextFocusable;\n\n            if (!target.length) {\n                return;\n            }\n\n            nextFocusable = kendo.getWidgetFocusableElement(target);\n\n            if (nextFocusable) {\n                nextFocusable.trigger(\"focus\");\n            }\n        },\n\n        showValidationSummary: function() {\n            var that = this,\n                summary = that.validationSummary,\n                errors = that._errorsByName(),\n                errorsList;\n\n            if (!summary) {\n                summary = that.validationSummary = that._renderSummary();\n            }\n\n            errorsList = parseHtml(that._summaryTemplate({\n                errors: errors\n            }));\n\n            summary.html(errorsList);\n\n            summary.toggleClass(\"k-hidden\", !errors.length);\n        },\n\n        hideValidationSummary: function() {\n            var that = this,\n                summary = that.validationSummary;\n\n            if (!summary) {\n                return;\n            }\n\n            summary.addClass(\"k-hidden\");\n        }\n    });\n\n    kendo.ui.plugin(Validator);\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}