{"version":3,"file":"kendo.scheduler.timelineview.min.js","names":[],"sources":["../../src/kendo.scheduler.timelineview.js"],"sourcesContent":["import \"./kendo.scheduler.view.js\";\nimport \"./kendo.icons.js\";\n\nexport const __meta__ = {\n    id: \"scheduler.timelineview\",\n    name: \"Scheduler Timeline View\",\n    category: \"web\",\n    description: \"The Scheduler Timeline View\",\n    depends: [ \"scheduler.view\", \"icons\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        setTime = kendo.date.setTime,\n        SchedulerView = ui.SchedulerView,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        extend = $.extend,\n        encode = kendo.htmlEncode,\n        getDate = kendo.date.getDate,\n        getMilliseconds = kendo.date.getMilliseconds,\n        MS_PER_DAY = kendo.date.MS_PER_DAY,\n        MS_PER_MINUTE = kendo.date.MS_PER_MINUTE,\n        CURRENT_TIME_MARKER_CLASS = \"k-current-time\",\n        CURRENT_TIME_MARKER_ARROW_CLASS = \"k-current-time-arrow\",\n        SCHEDULER_HEADER_WRAP_CLASS = \"k-scheduler-header-wrap\",\n        INVERSE_COLOR_CLASS = \"k-event-inverse\",\n        BORDER_SIZE_COEFF = 0.8666,\n        DOT = \".\",\n        NS = \".kendoTimelineView\";\n\n    var EVENT_TEMPLATE = kendo.template(({ title, start, end }) =>'<div>' +\n        `<div class=\"k-event-template k-event-time\">${encode(kendo.format(\"{0:t} - {1:t}\", start, end))}</div>` +\n        `<div class=\"k-event-template\">${title}</div></div>`),\n        DATA_HEADER_TEMPLATE = kendo.template(({ date }) => `<span class='k-link k-nav-day'>${kendo.format('{0:m}', date)}</span>`),\n        EVENT_WRAPPER_TEMPLATE = (task) =>\n            `<div role=\"button\" aria-label=\"${encode(task.ariaLabel)}\" data-${task.ns}uid=\"${task.uid}\" ` +\n            `${task.resources[0] ? `${kendo.attr(\"style-background-color\")}=\"${task.resources[0].color}\" ${kendo.attr(\"style-border-color\")}=\"${task.resources[0].color}\" class=\"k-event\">` : 'class=\"k-event\">'}` +\n                '<span class=\"k-event-actions\">' +\n                    `${task.tail ? kendo.ui.icon(\"caret-alt-left\") : ''}` +\n                    `${task.isException() ? kendo.ui.icon(\"arrows-no-repeat\") :\n                        (task.isRecurring() ? kendo.ui.icon(\"arrow-rotate-cw\") : '')}` +\n                '</span>' +\n                `${kendo.template(task.template)(task)}` +\n                '<span class=\"k-event-actions\">' +\n                    `${task.showDelete ? `<a href=\"#\" class=\"k-link k-event-delete\" title=\"${task.messages.destroy}\" aria-label=\"${task.messages.destroy}\">${kendo.ui.icon(\"x\")}</a>` : ''}` +\n                    `${task.head ? kendo.ui.icon(\"caret-alt-right\") : ''}` +\n                '</span>' +\n                `${task.resizable && !task.tail ? '<span class=\"k-resize-handle k-resize-w\"></span>' : ''}` +\n                `${task.resizable && !task.head ? '<span class=\"k-resize-handle k-resize-e\"></span>' : ''}` +\n            '</div>';\n\n    function toInvariantTime(date) {\n        var staticDate = new Date(1980, 1, 1, 0, 0, 0);\n        setTime(staticDate, getMilliseconds(date));\n        return staticDate;\n    }\n\n    function createZeroWidthEvent() {\n        return $(\"<div class='k-event'></div>\").appendTo(document.body);\n    }\n\n    function getWorkDays(options) {\n        if (options.workDays && options.workDays.length) {\n            return options.workDays;\n        }\n\n        var workDays = [];\n        var dayIndex = options.workWeekStart % 7;\n        var workWeekEnd = Math.abs(options.workWeekEnd % 7);\n\n        workDays.push(dayIndex);\n\n        while (workWeekEnd != dayIndex) {\n            if (dayIndex > 6 ) {\n                dayIndex -= 7;\n            } else {\n                dayIndex++;\n            }\n            workDays.push(dayIndex);\n        }\n        return workDays;\n    }\n\n    function setColspan(columnLevel) {\n        var count = 0;\n        if (columnLevel.columns) {\n            for (var i = 0; i < columnLevel.columns.length; i++) {\n                count += setColspan(columnLevel.columns[i]);\n            }\n            columnLevel.colspan = count;\n            return count;\n        } else {\n            columnLevel.colspan = 1;\n            return 1;\n        }\n    }\n\n    var TimelineGroupedView = kendo.Class.extend({\n        init: function(view) {\n            this._view = view;\n        },\n\n        _getTimeSlotByPosition: function(x, y, groupIndex) {\n            var group = this._view.groups[groupIndex];\n\n            return group.timeSlotByPosition(x, y);\n        },\n\n        _hideHeaders: function() {\n            var view = this._view;\n\n            view.timesHeader.find(\"table tr\").last().hide(); /*Chrome fix, use CSS selector*/\n            view.datesHeader.find(\"table tr\").last().hide();\n        },\n\n        _setColspan: function(timeColumn) {\n            setColspan(timeColumn);\n        },\n\n        _createRowsLayout: function(resources, rows, groupHeaderTemplate) {\n            var view = this._view;\n\n            return view._createRowsLayout(resources, rows, groupHeaderTemplate);\n        },\n\n        _createVerticalColumnsLayout: function(resources, rows, groupHeaderTemplate, columns) {\n\n            return columns;\n        },\n\n        _createColumnsLayout: function(resources, columns, groupHeaderTemplate) {\n            var view = this._view;\n\n            return view._createColumnsLayout(resources, columns, groupHeaderTemplate);\n        },\n\n        _getRowCount: function() {\n            var view = this._view;\n\n            return view._groupCount();\n        },\n\n        _getGroupsCount: function() {\n            return 1;\n        },\n\n        _addContent: function(dates, columnCount, groupsCount, rowCount, start, end, slotTemplate, isVerticalGrouped) {\n            var view = this._view;\n            var html = '';\n            var options = view.options;\n\n            var resources = function(groupIndex) {\n                return function() {\n                    return view._resourceBySlot({ groupIndex: groupIndex });\n                };\n            };\n\n            var appendRow = function(date) {\n                var content = \"\";\n                var classes = \"\";\n                var tmplDate;\n\n                if (kendo.date.isToday(dates[idx])) {\n                    classes += \"k-today\";\n                }\n\n                if (kendo.date.getMilliseconds(date) < kendo.date.getMilliseconds(options.workDayStart) ||\n                    kendo.date.getMilliseconds(date) >= kendo.date.getMilliseconds(options.workDayEnd) ||\n                    !view._isWorkDay(dates[idx])) {\n                    classes += \" k-nonwork-hour\";\n                }\n\n                content += '<td' + (classes !== \"\" ? ' class=\"' + classes + '\"' : \"\") + \">\";\n                tmplDate = kendo.date.getDate(dates[idx]);\n                kendo.date.setTime(tmplDate, kendo.date.getMilliseconds(date));\n\n                content += slotTemplate({ date: tmplDate, resources: resources(isVerticalGrouped ? rowIdx : groupIdx) });\n                content += \"</td>\";\n\n                return content;\n            };\n\n            for (var rowIdx = 0; rowIdx < rowCount; rowIdx++) {\n                html += '<tr>';\n                for (var groupIdx = 0; groupIdx < groupsCount; groupIdx++) {\n                    for (var idx = 0, length = columnCount; idx < length; idx++) {\n                        html += view._forTimeRange(start, end, appendRow);\n                    }\n                }\n                html += \"</tr>\";\n            }\n            return html;\n        },\n\n        _addTimeSlotsCollections: function(groupCount, datesCount, tableRows, interval, isVerticallyGrouped) {\n            var view = this._view;\n            var rowCount = tableRows.length;\n\n            if (isVerticallyGrouped) {\n                rowCount = Math.floor(rowCount / groupCount);\n            }\n\n            for (var groupIndex = 0; groupIndex < groupCount; groupIndex++) {\n                var rowMultiplier = 0;\n                var group = view.groups[groupIndex];\n                var time;\n\n                if (isVerticallyGrouped) {\n                    rowMultiplier = groupIndex;\n                }\n\n                var rowIndex = rowMultiplier * rowCount;\n                var cellMultiplier = 0;\n\n                if (!isVerticallyGrouped) {\n                    cellMultiplier = groupIndex;\n                }\n\n                var cells = tableRows[rowIndex].children;\n                var cellsPerGroup = cells.length / (!isVerticallyGrouped ? groupCount : 1);\n                var cellsPerDay = cellsPerGroup / datesCount;\n\n                for (var dateIndex = 0; dateIndex < datesCount; dateIndex++) {\n                    var cellOffset = dateIndex * cellsPerDay + (cellsPerGroup * cellMultiplier);\n                    time = getMilliseconds(new Date(+view.startTime()));\n\n                    for (var cellIndex = 0; cellIndex < cellsPerDay; cellIndex++) {\n\n                        view._addTimeSlotToCollection(group, cells, cellIndex, cellOffset, dateIndex, time, interval);\n                        time += interval;\n                    }\n                }\n            }\n        },\n\n        _getVerticalGroupCount: function(groupsCount) {\n\n            return groupsCount;\n        },\n\n        _getVerticalRowCount: function(eventGroups, groupIndex, maxRowCount) {\n            var view = this._view;\n\n            return view._isVerticallyGrouped() ? eventGroups[groupIndex].maxRowCount : maxRowCount;\n        },\n\n        _renderEvent: function(eventGroup, event, adjustedEvent, group, range, container) {\n            var view = this._view;\n            var element;\n\n            element = view._createEventElement(adjustedEvent.occurrence, event, range.head || adjustedEvent.head, range.tail || adjustedEvent.tail);\n            element.appendTo(container).css({ top: 0, height: view.options.eventHeight });\n\n            var eventObject = {\n                start: adjustedEvent.occurrence._startTime || adjustedEvent.occurrence.start,\n                end: adjustedEvent.occurrence._endTime || adjustedEvent.occurrence.end,\n                element: element,\n                uid: event.uid,\n                slotRange: range,\n                rowIndex: 0,\n                offsetTop: 0\n            };\n\n            eventGroup.events[event.uid] = eventObject;\n\n            view._inverseEventColor(element);\n            view.addContinuousEvent(group, range, element, event.isAllDay);\n            view._arrangeRows(eventObject, range, eventGroup);\n        },\n\n        _verticalCountForLevel: function(level) {\n            var view = this._view;\n\n            return view._rowCountForLevel(level);\n        },\n\n        _horizontalCountForLevel: function(level) {\n            var view = this._view;\n\n            return view._columnCountForLevel(level);\n        },\n\n        _updateCurrentVerticalTimeMarker: function(ranges, currentTime) {\n            var view = this._view;\n            var elementHtml = \"<div class='\" + CURRENT_TIME_MARKER_CLASS + \"'></div>\";\n            var headerWrap = view.datesHeader.find(DOT + SCHEDULER_HEADER_WRAP_CLASS);\n            var left = Math.round(ranges[0].innerRect(currentTime, new Date(currentTime.getTime() + 1), false).left);\n            var timesTableMarker = $(elementHtml)\n                    .prependTo(headerWrap)\n                    .addClass(CURRENT_TIME_MARKER_ARROW_CLASS + \"-down\");\n\n            timesTableMarker.css({\n                left: view._adjustLeftPosition(left - (outerWidth(timesTableMarker) * BORDER_SIZE_COEFF / 2)),\n                top: headerWrap.find(\"tr\").last().prev().position().top\n            });\n\n            $(elementHtml).prependTo(view.content).css({\n                left: view._adjustLeftPosition(left),\n                width: \"1px\",\n                height: view.content[0].scrollHeight - 1,\n                top: 0\n            });\n        },\n\n        _changeGroup: function() {\n            return undefined;\n        },\n\n        _prevGroupSlot: function(slot, group, isDay) {\n            var view = this._view;\n\n            if (view._isVerticallyGrouped()) {\n                return slot;\n            } else {\n                var collection = group._collection(0, isDay);\n                return collection.last();\n            }\n        },\n\n        _nextGroupSlot: function(slot, group, isDay) {\n            var view = this._view;\n\n            if (view._isVerticallyGrouped()) {\n                return slot;\n            } else {\n                var collection = group._collection(0, isDay);\n                return collection.first();\n            }\n        },\n\n        _verticalSlots: function(selection, reverse) {\n             var view = this._view;\n\n             return view._changeGroup(selection, reverse);\n        },\n\n         _verticalMethod: function(reverse) {\n\n              return reverse ? \"leftSlot\" : \"rightSlot\";\n         },\n\n         _normalizeVerticalSelection: function() {\n             return undefined;\n         },\n\n         _horizontalSlots: function(selection, group, method, startSlot, endSlot, multiple, reverse) {\n            var view = this._view;\n            var result = {};\n\n            result.startSlot = group[method](startSlot);\n            result.endSlot = group[method](endSlot);\n\n            if (!multiple && view._isHorizontallyGrouped() && (!result.startSlot || !result.endSlot)) {\n                result.startSlot = result.endSlot = view._changeGroup(selection, reverse);\n            }\n\n            return result;\n        },\n\n        _changeVerticalViewPeriod: function() {\n            return false;\n        },\n\n        _changeHorizontalViewPeriod: function(slots, shift, selection, reverse) {\n            var view = this._view;\n\n            if ((!slots.startSlot || !slots.endSlot ) && !shift && view._changeViewPeriod(selection, reverse, false)) {\n                return true;\n            }\n            return false;\n        },\n\n        _updateDirection: function(selection, ranges, shift, reverse) {\n            var view = this._view;\n\n            view._updateDirection(selection, ranges, shift, reverse, true);\n        },\n\n         _createMoveHint: function(range, adjustedEvent) {\n                var view = this._view;\n                var startSlot = range.start;\n\n                var hint = view._createEventElement(adjustedEvent.occurrence ,adjustedEvent.occurrence, false, false);\n\n                hint.addClass(\"k-event-drag-hint\");\n\n                var rect = range.innerRect(adjustedEvent.occurrence.start, adjustedEvent.occurrence.end, view.options.snap);\n                var width = rect.right - rect.left;\n\n                if (width < 0) {\n                    width = 0;\n                }\n\n                var left = view._adjustLeftPosition(rect.left);\n\n                var css = {\n                    left: left,\n                    top: startSlot.offsetTop,\n                    height: startSlot.offsetHeight,\n                    width: width\n                };\n\n                hint.css(css);\n\n                if (adjustedEvent.occurrence.inverseColor) {\n                    hint.addClass(INVERSE_COLOR_CLASS);\n                }\n\n                view._appendMoveHint(hint);\n         },\n\n         _adjustLeftPosition: function(left) {\n            var view = this._view;\n\n            if (view._isRtl) {\n                left -= (view.content[0].scrollWidth - view.content[0].clientWidth);\n            }\n\n            return left;\n         }\n    });\n\n    var TimelineGroupedByDateView = kendo.Class.extend({\n        init: function(view) {\n            this._view = view;\n        },\n\n        _getTimeSlotByPosition: function(x, y, groupIndex) {\n            var group = this._view.groups[groupIndex];\n\n            return group.timeSlotByPosition(x, y, true);\n        },\n\n        _hideHeaders: function() {\n            var view = this._view;\n\n            if (!view._isVerticallyGrouped()) {\n                view.timesHeader.find(\"table tr\").eq(2).hide();\n                view.datesHeader.find(\"table tr\").eq(2).hide();\n            } else {\n                        view.times.find(\".k-last\").hide();\n            }\n        },\n        _setColspan: function() {},\n\n        _createRowsLayout: function(resources, rows, groupHeaderTemplate, columns) {\n            var view = this._view;\n\n            return view._createDateLayout(columns, null, true);\n        },\n\n        _createVerticalColumnsLayout: function(resources, rows, groupHeaderTemplate) {\n            var view = this._view;\n\n            return view._createColumnsLayout(resources, null, groupHeaderTemplate);\n        },\n\n        _createColumnsLayout: function(resources, columns, groupHeaderTemplate, subColumns) {\n            var view = this._view;\n\n            return view._createColumnsLayout(resources, columns, groupHeaderTemplate, subColumns, true);\n        },\n\n        _getRowCount: function(level) {\n            var view = this._view;\n\n            return view._rowCountForLevel(level);\n        },\n\n        _getGroupsCount: function() {\n            var view = this._view;\n\n            return view._groupCount();\n        },\n\n        _addContent: function(dates, columnCount, groupsCount, rowCount, start, end, slotTemplate, isVerticalGrouped) {\n            var view = this._view;\n            var html = '';\n            var options = view.options;\n\n            var resources = function(groupIndex) {\n                return function() {\n                    return view._resourceBySlot({ groupIndex: groupIndex });\n                };\n            };\n\n            var appendRow = function(date, isMajorTickColumn, isMiddleColumn, isLastSlotColumn, minorTickColumns, groupIdx) {\n                var content = \"\";\n                var classes = \"\";\n                var tmplDate;\n                var workDateIndex = view._isVerticallyGrouped() ? dateIndex : idx;\n\n                if (kendo.date.isToday(dates[idx])) {\n                    classes += \"k-today\";\n                }\n\n                if (kendo.date.getMilliseconds(date) < kendo.date.getMilliseconds(options.workDayStart) ||\n                    kendo.date.getMilliseconds(date) >= kendo.date.getMilliseconds(options.workDayEnd) ||\n                    !view._isWorkDay(dates[workDateIndex])) {\n                    classes += \" k-nonwork-hour\";\n                }\n\n                content += '<td' + (classes !== \"\" ? ' class=\"' + classes + '\"' : \"\") + \">\";\n                tmplDate = kendo.date.getDate(dates[idx]);\n                kendo.date.setTime(tmplDate, kendo.date.getMilliseconds(date));\n\n                content += slotTemplate({ date: tmplDate, resources: resources(groupIdx) });\n                content += \"</td>\";\n\n                return content;\n            };\n\n            var tempStart = new Date(start),\n                minorTickCount = view.options.minorTickCount,\n                msMajorInterval = view.options.majorTick * MS_PER_MINUTE,\n                msInterval = msMajorInterval / minorTickCount || 1,\n                dateIndex;\n\n            for (var rowIdx = 0; rowIdx < rowCount; rowIdx++) {\n                html += '<tr>';\n\n                 if ((rowIdx % (rowCount / view._dates.length)) === 0) {\n                   dateIndex = (rowIdx / (rowCount / view._dates.length));\n                   tempStart = new Date(view._dates[dateIndex]);\n                   kendo.date.setTime(tempStart, kendo.date.getMilliseconds(start));\n                  }\n\n                for (var idx = 0, length = columnCount; idx < length; idx++) {\n\n                    html += view._forTimeRange(tempStart, end, appendRow, isVerticalGrouped, groupsCount);\n\n                    if (isVerticalGrouped) {\n                    setTime(tempStart, msInterval, false);\n                        break;\n                    }\n                }\n               html += \"</tr>\";\n            }\n\n            return html;\n        },\n\n        _addTimeSlotsCollections: function(groupCount, datesCount, tableRows, interval, isVerticallyGrouped) {\n            var view = this._view;\n            var rowCount = tableRows.length;\n\n             if (isVerticallyGrouped) {\n                rowCount = rowCount / datesCount;\n             }\n\n            for (var dateIndex = 0; dateIndex < datesCount; dateIndex++) {\n                var rowMultiplier = 0;\n                var time;\n\n                if (isVerticallyGrouped) {\n                    rowMultiplier = dateIndex;\n                }\n\n                var rowIndex = rowMultiplier * rowCount;\n                var cellMultiplier = 0;\n                var cells = tableRows[rowIndex].children;\n                var cellsPerGroup = isVerticallyGrouped ? rowCount : cells.length / (datesCount * groupCount);\n                var cellsPerDay = cells.length / datesCount;\n                var cellOffset;\n\n                time = getMilliseconds(new Date(+view.startTime()));\n\n                for (var cellIndex = 0; cellIndex < cellsPerGroup; cellIndex++) {\n                    if (!isVerticallyGrouped) {\n                        cellOffset = (dateIndex * cellsPerDay) + (groupCount * cellIndex);\n                        cellMultiplier++;\n                    } else {\n                        cellOffset = 0;\n                        cells = tableRows[cellIndex + (cellsPerGroup * dateIndex)].children;\n                    }\n\n                    for (var groupIndex = 0; groupIndex < groupCount; groupIndex++) {\n                        var group = view.groups[groupIndex];\n\n                        view._addTimeSlotToCollection(group, cells, groupIndex, cellOffset, dateIndex, time, interval);\n                    }\n                    time += interval;\n                }\n             }\n        },\n\n        _getVerticalGroupCount: function() {\n            var view = this._view;\n\n            return view.content.find(\"tr\").length;\n        },\n\n        _getVerticalRowCount: function(eventGroups, groupIndex, maxRowCount) {\n\n            return maxRowCount;\n        },\n\n        _renderEvent: function(eventGroup, event, adjustedEvent, group, range, container, startIndex, endIndex) {\n            var view = this._view;\n            var element;\n            var eventObjects = [];\n\n            for (var i = range.start.index; i <= range.end.index; i++) {\n                element = view._createEventElement(adjustedEvent.occurrence, event, i !== endIndex, i !== startIndex);\n                element.appendTo(container).css({ top: 0, height: view.options.eventHeight });\n                var currentSlot = group._timeSlotCollections[0]._slots[i];\n                var dateRange = group.timeSlotRanges(currentSlot.start, currentSlot.end, false)[0];\n\n                    var eventObject = {\n                    start: i === startIndex ? adjustedEvent.occurrence._startTime || adjustedEvent.occurrence.start : currentSlot.start,\n                    end: i === endIndex ? adjustedEvent.occurrence._endTime || adjustedEvent.occurrence.end : currentSlot.end,\n                    element: element,\n                    uid: event.uid,\n                    slotRange: dateRange,\n                    rowIndex: 0,\n                    offsetTop: 0\n                };\n\n                eventGroup.events[event.uid] = eventObject;\n                eventObjects.push(eventObject);\n\n                view.addContinuousEvent(group, dateRange, element, event.isAllDay);\n                view._arrangeRows(eventObject, dateRange, eventGroup);\n            }\n            eventGroup.events[event.uid] = eventObjects;\n        },\n\n        _verticalCountForLevel: function(level) {\n            var view = this._view;\n\n            return view._columnCountForLevel(level);\n        },\n\n        _horizontalCountForLevel: function(level, columnLevel) {\n            var view = this._view;\n\n            return view._columnCountForLevel(columnLevel) / view._columnCountForLevel(2);\n        },\n\n        _updateCurrentVerticalTimeMarker: function(ranges,currentTime) {\n            var view = this._view;\n            var firstTimesCell = view.times.find(\"tr\").first().find(\"th\").first();\n            var lastTimesCell = view.times.find(\"tr\").first().find(\"th\").last();\n            var elementHtml = \"<div class='\" + CURRENT_TIME_MARKER_CLASS + \"'></div>\";\n            var timesTableMarker = $(elementHtml).prependTo(view.times);\n            var markerTopPosition = Math.round(ranges[0].innerRect(currentTime, new Date(currentTime.getTime() + 1), false).top);\n            var timesTableMarkerCss = {};\n\n            if (this._isRtl) {\n                timesTableMarkerCss.right = firstTimesCell.position().left + outerHeight(firstTimesCell) - outerHeight(lastTimesCell);\n                timesTableMarker.addClass(CURRENT_TIME_MARKER_ARROW_CLASS + \"-left\");\n            } else {\n                timesTableMarkerCss.left = lastTimesCell.position().left;\n                timesTableMarker.addClass(CURRENT_TIME_MARKER_ARROW_CLASS + \"-right\");\n            }\n\n            timesTableMarkerCss.top = markerTopPosition - (outerWidth(timesTableMarker) * BORDER_SIZE_COEFF / 2);\n\n            timesTableMarker.css(timesTableMarkerCss);\n\n            $(elementHtml).prependTo(view.content).css({\n                top: markerTopPosition,\n                height: \"1px\",\n                right: \"1px\",\n                width: view.content[0].scrollWidth,\n                left: 0\n            });\n        },\n\n        _changeGroup: function(selection, previous, slot) {\n             var view = this._view;\n\n             if (!slot) {\n                selection.groupIndex = previous ? view.groups.length - 1 : 0;\n             }\n        },\n\n         _prevGroupSlot: function(slot) {\n              return slot;\n        },\n\n        _nextGroupSlot: function(slot) {\n              return slot;\n        },\n\n        _changeDate: function(selection, reverse, slot) {\n            var view = this._view;\n            var group = view.groups[selection.groupIndex];\n            var collections, index;\n\n            if (reverse) {\n                  collections = group._getCollections(false);\n                  index = slot.index - 1;\n\n                  if (index >= 0) {\n                      return collections[0]._slots[index];\n                  }\n              } else {\n                  collections = group._getCollections(false);\n                  index = slot.index + 1;\n\n                  if (collections[0] && collections[0]._slots[index]) {\n                      return collections[0]._slots[index];\n                  }\n               }\n        },\n\n        _verticalSlots: function(selection, reverse, slot) {\n            return this._changeDate(selection, reverse, slot);\n        },\n\n        _verticalMethod: function(reverse, multiple) {\n            if (multiple) {\n               return reverse ? \"upSlot\" : \"downSlot\";\n            } else {\n               return reverse ? \"leftSlot\" : \"rightSlot\";\n            }\n        },\n\n        _normalizeVerticalSelection: function(selection, ranges, reverse, multiple) {\n            var view = this._view;\n\n            if (!multiple) {\n                return view._normalizeVerticalSelection(selection, ranges, reverse);\n            }\n\n            return undefined;\n        },\n\n        _horizontalSlots: function(selection, group, method, startSlot, endSlot, multiple, reverse) {\n             var view = this._view;\n             var tempSlot = view._changeGroup(selection, reverse);\n             var result = {};\n\n            if (!tempSlot) {\n                if (!view._isVerticallyGrouped()) {\n                    result.startSlot = group[method](startSlot);\n                    result.endSlot = group[method](endSlot);\n                }\n\n            } else {\n                result.startSlot = result.endSlot = tempSlot;\n            }\n\n            return result;\n        },\n\n        _changeVerticalViewPeriod: function(slots, shift, selection, reverse) {\n            var view = this._view;\n\n            if ((!slots.startSlot || !slots.endSlot) && !shift &&\n                view._changeViewPeriod(selection, reverse, view._isVerticallyGrouped())) {\n                return true;\n            }\n            return false;\n        },\n\n        _changeHorizontalViewPeriod: function(slots, shift, selection, reverse) {\n           var view = this._view;\n\n           if ( view._isVerticallyGrouped()) {\n               return false;\n           }\n\n           if ((!slots.startSlot || !slots.endSlot ) && !shift && view._changeViewPeriod(selection, reverse, false)) {\n                return true;\n            }\n            return false;\n        },\n\n        _updateDirection: function(selection, ranges, shift, reverse) {\n            var view = this._view;\n\n            view._updateDirection(selection, ranges, shift, reverse, !view._isVerticallyGrouped());\n        },\n\n         _createMoveHint: function(range, adjustedEvent) {\n                var view = this._view;\n                var startSlot = range.start;\n                var startEnd = range.end;\n\n                for (var slotIdx = startSlot.index; slotIdx <= startEnd.index; slotIdx++) {\n                    var slot = range.collection._slots[slotIdx];\n                    var hint = view._createEventElement(adjustedEvent.occurrence ,adjustedEvent.occurrence, false, false);\n\n                    hint.addClass(\"k-event-drag-hint\");\n\n                    var css = {\n                        left: slot.offsetLeft + 2,\n                        top: slot.offsetTop,\n                        height: view.options.eventHeight,\n                        width: slot.offsetWidth\n                    };\n\n                    hint.css(css);\n\n                    if (adjustedEvent.occurrence.inverseColor) {\n                        hint.addClass(INVERSE_COLOR_CLASS);\n                    }\n\n                    view._appendMoveHint(hint);\n                }\n         },\n\n         _adjustLeftPosition: function(left) {\n             var view = this._view;\n\n            if (view._isRtl && !view._isVerticallyGrouped()) {\n                left -= (view.content[0].scrollWidth - view.content[0].offsetWidth);\n            }\n\n            return left;\n         }\n });\n\n    kendo.ui.scheduler.TimelineGroupedView = TimelineGroupedView;\n    kendo.ui.scheduler.TimelineGroupedByDateView = TimelineGroupedByDateView;\n\n    var TimelineView = SchedulerView.extend({\n        init: function(element, options) {\n            var that = this,\n            zeroWidthEvent = createZeroWidthEvent();\n\n            SchedulerView.fn.init.call(that, element, options);\n\n            that._zeroWidthEventOffset = zeroWidthEvent.outerWidth();\n            zeroWidthEvent.remove();\n\n            that._groupedView = that._getGroupedView();\n\n            that.title = that.options.title || that.options.name;\n\n            that._workDays = getWorkDays(that.options);\n\n            that._templates();\n\n            that._editable();\n\n            that.calculateDateRange();\n\n            that._groups();\n\n            that._currentTime(true);\n        },\n        name: \"timeline\",\n\n        _isVirtualized: function() {\n            return false;\n        },\n\n        _getGroupedView: function() {\n\n            if (this._isGroupedByDate()) {\n                   return new kendo.ui.scheduler.TimelineGroupedByDateView(this);\n            } else {\n                   return new kendo.ui.scheduler.TimelineGroupedView(this);\n            }\n        },\n\n        _getNextEventIndexBySlot: function(slot, sortedEvents, groupIndex) {\n           if (this._isVerticallyGrouped()) {\n               return kendo.ui.SchedulerView.fn._getNextEventIndexBySlot.call(this, slot, sortedEvents, groupIndex);\n           }\n\n            var tempIndex = 0;\n\n            for (var i = 0; i < sortedEvents.length; i++) {\n                if (slot.startDate() > sortedEvents[i].start.startDate()) {\n                    tempIndex++;\n                    continue;\n                }\n\n                if (slot.startDate().getTime() === sortedEvents[i].start.startDate().getTime() &&\n                 groupIndex > sortedEvents[i].start.groupIndex) {\n                      tempIndex++;\n                      continue;\n                }\n\n                 break;\n\n            }\n            return tempIndex;\n        },\n\n        _getSelectedSlot: function(slot, sortedEvents, event, idx, pad, prev) {\n            if (this._isVerticallyGrouped()) {\n               return kendo.ui.SchedulerView.fn._getSelectedSlot.call(this, slot, sortedEvents, event, idx, pad, prev);\n            }\n\n            return slot;\n        },\n\n        _getSortedEvents: function(uniqueAllEvents) {\n            if (this._isVerticallyGrouped()) {\n               return kendo.ui.SchedulerView.fn._getSortedEvents.call(this, uniqueAllEvents);\n            }\n\n            return uniqueAllEvents.sort(function(first, second) {\n                var result = first.start.startDate().getTime() - second.start.startDate().getTime();\n\n                if (result === 0) {\n                    if (first.start.isDaySlot && !second.start.isDaySlot) {\n                            result = -1;\n                    }\n\n                    if (!first.start.isDaySlot && second.start.isDaySlot) {\n                            result = 1;\n                    }\n                }\n\n                if (result === 0) {\n                    result = first.start.groupIndex - second.start.groupIndex;\n                }\n\n                if (result === 0) {\n                    result = $(first.element).index() - $(second.element).index();\n                }\n\n                return result;\n            });\n        },\n\n        _currentTimeMarkerUpdater: function() {\n            this._updateCurrentTimeMarker(new Date());\n        },\n\n        _scrollTo: function(element, container) {\n            SchedulerView.fn._scrollTo.call(this, element, container);\n\n            var elementOffset = element.offsetLeft,\n                elementOffsetDir = element.offsetWidth,\n                containerScroll = container.scrollLeft,\n                containerOffsetDir = container.clientWidth,\n                rightDistance = elementOffset + elementOffsetDir,\n                result = 0;\n\n                if (containerScroll > elementOffset) {\n                    result = elementOffset;\n                } else if (rightDistance > (containerScroll + containerOffsetDir)) {\n                    if (elementOffsetDir <= containerOffsetDir) {\n                        result = (rightDistance - containerOffsetDir);\n                    } else {\n                        result = elementOffset;\n                    }\n                } else {\n                    result = containerScroll;\n                }\n                container.scrollLeft = result;\n        },\n\n        _updateCurrentTimeMarker: function(currentTime) {\n            var options = this.options;\n\n            this.datesHeader.find(DOT + CURRENT_TIME_MARKER_CLASS).remove();\n            this.times.find(DOT + CURRENT_TIME_MARKER_CLASS).remove();\n            this.content.find(DOT + CURRENT_TIME_MARKER_CLASS).remove();\n\n            if (!this._isInDateSlot({ start: currentTime, end: currentTime })) {\n                return;\n            }\n\n            if (options.currentTimeMarker.useLocalTimezone === false) {\n                var timezone = options.dataSource.options.schema.timezone;\n\n                if (options.dataSource && timezone) {\n                    var timezoneOffset = kendo.timezone.offset(currentTime, timezone);\n                    currentTime = kendo.timezone.convert(currentTime, currentTime.getTimezoneOffset(), timezoneOffset);\n                }\n            }\n\n            var groupsCount = !options.group || options.group.orientation == \"vertical\" ? 1 : this.groups.length;\n\n            for (var groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\n                var currentGroup = this.groups[groupIndex];\n\n                if (!currentGroup) {\n                    return;\n                }\n\n                var utcCurrentTime = kendo.date.toUtcTime(currentTime);\n                var ranges = currentGroup.timeSlotRanges(utcCurrentTime, utcCurrentTime + 1);\n\n                if (ranges.length === 0) {\n                    return;\n                }\n\n                var collection = ranges[0].collection;\n                var slotElement = collection.slotByStartDate(currentTime);\n\n                if (slotElement) {\n\n                    if (this._isVerticallyGrouped()) {\n                        this._groupedView._updateCurrentVerticalTimeMarker(ranges,currentTime);\n                    } else {\n                        var elementHtml = \"<div class='\" + CURRENT_TIME_MARKER_CLASS + \"'></div>\";\n                        var headerWrap = this.datesHeader.find(DOT + SCHEDULER_HEADER_WRAP_CLASS);\n                        var left = Math.round(ranges[0].innerRect(currentTime, new Date(currentTime.getTime() + 1), false).left);\n                        var timesTableMarker = $(elementHtml)\n                                .prependTo(headerWrap)\n                                .addClass(CURRENT_TIME_MARKER_ARROW_CLASS + \"-down\");\n\n                        timesTableMarker.css({\n                            left: this._adjustLeftPosition(left - (outerWidth(timesTableMarker) * BORDER_SIZE_COEFF / 2)),\n                            top: headerWrap.find(\"tr\").last().prev().position().top\n                        });\n\n                        $(elementHtml).prependTo(this.content).css({\n                            left: this._adjustLeftPosition(left),\n                            width: \"1px\",\n                            height: this.content[0].scrollHeight - 1,\n                            top: 0\n                        });\n                    }\n                }\n            }\n        },\n\n        _adjustLeftPosition: function(left) {\n            return this._groupedView._adjustLeftPosition(left);\n        },\n\n        _currentTime: function(setUpdateTimer) {\n            var that = this;\n            var markerOptions = that.options.currentTimeMarker;\n\n            if (markerOptions !== false && markerOptions.updateInterval !== undefined) {\n                that._currentTimeMarkerUpdater();\n\n                if (setUpdateTimer) {\n                    that._currentTimeUpdateTimer = setInterval(this._currentTimeMarkerUpdater.bind(that), markerOptions.updateInterval);\n                }\n            }\n        },\n\n        _editable: function() {\n            if (this.options.editable) {\n                if (this._isMobile()) {\n                    this._touchEditable();\n                } else {\n                    this._mouseEditable();\n                }\n            }\n        },\n\n        _mouseEditable: function() {\n            var that = this;\n            that.element.on(\"click\" + NS, \".k-event a:has(.k-i-x),.k-event a:has(.k-svg-i-x)\", function(e) {\n                that.trigger(\"remove\", { uid: $(this).closest(\".k-event\").attr(kendo.attr(\"uid\")) });\n                e.preventDefault();\n            });\n\n            if (that.options.editable.create !== false) {\n                that.element.on(\"dblclick\" + NS, \".k-scheduler-content > table td\", function(e) {\n                    var slot = that._slotByPosition(e.pageX, e.pageY);\n\n                    if (slot) {\n                        var resourceInfo = that._resourceBySlot(slot);\n                        that.trigger(\"add\", { eventInfo: extend({ start: slot.startDate(), end: slot.endDate() }, resourceInfo) });\n                    }\n\n                    e.preventDefault();\n                });\n            }\n\n            if (that.options.editable.update !== false) {\n                that.element.on(\"dblclick\" + NS, \".k-event\", function(e) {\n                    that.trigger(\"edit\", { uid: $(this).closest(\".k-event\").attr(kendo.attr(\"uid\")) });\n                    e.preventDefault();\n                });\n            }\n        },\n\n        _touchEditable: function() {\n            var that = this;\n            var threshold = 0;\n\n            if (kendo.support.mobileOS.android) {\n                threshold = 5;\n            }\n\n            if (that.options.editable.create !== false) {\n                that._addUserEvents = new kendo.UserEvents(that.element, {\n                    threshold: threshold,\n                    useClickAsTap: !kendo.support.browser.edge,\n                    filter: \".k-scheduler-content td\",\n                    tap: function(e) {\n                        if (that._scrolling) {\n                            return;\n                        }\n                        var x = e.x.location !== undefined ? e.x.location : e.x;\n                        var y = e.y.location !== undefined ? e.y.location : e.y;\n                        var slot = that._slotByPosition(x, y);\n\n                        if (slot) {\n                            var resourceInfo = that._resourceBySlot(slot);\n                            that.trigger(\"add\", { eventInfo: extend({ start: slot.startDate(), end: slot.endDate() }, resourceInfo) });\n                        }\n\n                        e.preventDefault();\n                    }\n                });\n            }\n\n            if (that.options.editable.update !== false) {\n                that._editUserEvents = new kendo.UserEvents(that.element, {\n                    threshold: threshold,\n                    useClickAsTap: !kendo.support.browser.edge,\n                    filter: \".k-event\",\n                    tap: function(e) {\n                        if (that._scrolling) {\n                            return;\n                        }\n                        var eventElement = $(e.target).closest(\".k-event\");\n                        var touchElement = $(e.touch.initialTouch);\n\n                        if (touchElement.is(\".k-i-x,.k-svg-i-x\")) {\n                            that.trigger(\"remove\", { uid: eventElement.attr(kendo.attr(\"uid\")) });\n                        } else if (!eventElement.hasClass(\"k-event-active\")) {\n                            that.trigger(\"edit\", { uid: eventElement.attr(kendo.attr(\"uid\")) });\n                        }\n\n                        e.preventDefault();\n                    }\n                });\n            }\n        },\n\n        _slotByPosition: function(x, y) {\n            var slot;\n            var content = this.content;\n            var offset = content.offset();\n            var groupIndex;\n\n            x -= offset.left;\n            y -= offset.top;\n\n            if (this._isRtl) {\n                var browser = kendo.support.browser;\n\n                if (browser.mozilla || (browser.webkit && browser.version >= 85)) {\n                     x += (content[0].scrollWidth - content[0].offsetWidth);\n                     x += content[0].scrollLeft;\n                } else if (browser.msie) {\n                     x -= kendo.scrollLeft(content);\n                     x += content[0].scrollWidth - content[0].offsetWidth;\n                } else if (browser.webkit) {\n                     x += content[0].scrollLeft;\n                }\n            } else {\n                x += content[0].scrollLeft;\n            }\n\n            y += content[0].scrollTop;\n\n            x = Math.ceil(x);\n            y = Math.ceil(y);\n\n            for (groupIndex = 0; groupIndex < this.groups.length; groupIndex++) {\n\n                 slot = this._groupedView._getTimeSlotByPosition(x, y, groupIndex);\n\n                 if (slot) {\n                     return slot;\n                 }\n            }\n\n            return null;\n        },\n\n        options: {\n            name: \"TimelineView\",\n            title: \"Timeline\",\n            selectedDateFormat: \"{0:D}\",\n            selectedShortDateFormat: \"{0:d}\",\n            selectedMobileDateFormat: \"{0:MMM dd}\",\n            date: kendo.date.today(),\n            startTime: kendo.date.today(),\n            endTime: kendo.date.today(),\n            showWorkHours: false,\n            minorTickCount: 2,\n            editable: true,\n            workDayStart: new Date(1980, 1, 1, 8, 0, 0),\n            workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\n            workWeekStart: 1,\n            workWeekEnd: 5,\n            majorTick: 60,\n            eventHeight: 25,\n            eventMinWidth: 0,\n            columnWidth: 100,\n            groupHeaderTemplate: ({ text }) => text,\n            majorTimeHeaderTemplate: ({ date }) => kendo.toString(date, 't'),\n            slotTemplate: () => \"&nbsp;\",\n            eventTemplate: EVENT_TEMPLATE,\n            dateHeaderTemplate: DATA_HEADER_TEMPLATE,\n            footer: {\n                command: \"workDay\"\n            },\n            currentTimeMarker: {\n                updateInterval: 10000,\n                useLocalTimezone: true\n            },\n            ongoingEvents: {\n                cssClass: null,\n                enabled: true,\n                updateInterval: 60000\n            },\n            messages: {\n                defaultRowText: \"All events\",\n                showFullDay: \"Show full day\",\n                showWorkDay: \"Show business hours\"\n            }\n        },\n\n        events: [\"remove\", \"add\", \"edit\"],\n\n        _templates: function() {\n            var options = this.options,\n                settings = extend({}, kendo.Template, options.templateSettings);\n\n            this.eventTemplate = kendo.template(EVENT_WRAPPER_TEMPLATE);\n            this.majorTimeHeaderTemplate = kendo.template(options.majorTimeHeaderTemplate, settings);\n            this.dateHeaderTemplate = kendo.template(options.dateHeaderTemplate, settings);\n            this.slotTemplate = kendo.template(options.slotTemplate, settings);\n            this.groupHeaderTemplate = kendo.template(options.groupHeaderTemplate, settings);\n        },\n\n        _render: function(dates) {\n            var that = this;\n\n            dates = dates || [];\n\n            that._dates = dates;\n\n            that._startDate = dates[0];\n\n            that._endDate = dates[(dates.length - 1) || 0];\n\n            that._calculateSlotRanges();\n\n            that.createLayout(that._layout(dates));\n\n            that._content(dates);\n\n            that._footer();\n\n            that._setContentWidth();\n\n            that.refreshLayout();\n\n            that.datesHeader.on(\"click\" + NS, \".k-nav-day\", function(e) {\n                var th = $(e.currentTarget).closest(\"th\");\n\n                var slot = that._slotByPosition(th.offset().left, that.content.offset().top);\n\n                that.trigger(\"navigate\", { view: \"timeline\", date: slot.startDate() });\n            });\n\n            that._groupedView._hideHeaders();\n        },\n\n        _setContentWidth: function() {\n            var content = this.content;\n            var contentWidth = content.width();\n            var contentTable = this.content.find(\"table\");\n            var columnCount = contentTable.find(\"tr\").first().children().length;\n\n            var minWidth = 100;\n            var calculatedWidth = columnCount * this.options.columnWidth;\n\n            if (contentWidth < calculatedWidth) {\n                minWidth = Math.ceil((calculatedWidth / contentWidth) * 100);\n            }\n\n            contentTable.add(this.datesHeader.find(\"table\"))\n                .css(\"width\", minWidth + \"%\");\n        },\n\n        _calculateSlotRanges: function() {\n            var dates = this._dates;\n            var slotStartTime = this.startTime();\n            var slotEndTime = this.endTime();\n\n            slotEndTime = getMilliseconds(slotEndTime);\n            slotStartTime = getMilliseconds(slotStartTime);\n\n            if (slotEndTime === slotStartTime) {\n                slotEndTime += MS_PER_DAY - 1;\n            } else if (slotEndTime < slotStartTime) {\n                slotEndTime += MS_PER_DAY;\n            }\n\n            var slotRanges = [];\n            for (var i = 0; i < dates.length; i++) {\n                var rangeStart = getDate(dates[i]);\n                setTime(rangeStart, slotStartTime);\n\n                var rangeEnd = getDate(dates[i]);\n                setTime(rangeEnd, slotEndTime);\n\n                slotRanges.push({\n                    start: kendo.date.toUtcTime(rangeStart),\n                    end: kendo.date.toUtcTime(rangeEnd)\n                });\n            }\n\n            this._slotRanges = slotRanges;\n        },\n\n        _forTimeRange: function(min, max, action, verticalByDate, groupsCount) {\n            min = toInvariantTime(min); //convert the date to 1/2/1980 and sets the time\n            max = toInvariantTime(max);\n\n            var that = this,\n                msMin = getMilliseconds(min),\n                msMax = getMilliseconds(max),\n                minorTickCount = that.options.minorTickCount,\n                msMajorInterval = that.options.majorTick * MS_PER_MINUTE,\n                msInterval = msMajorInterval / minorTickCount || 1,\n                start = new Date(+min),\n                idx = 0, length,\n                html = \"\";\n\n            length = MS_PER_DAY / msInterval;\n\n            if (msMin != msMax) {\n                if (msMin > msMax) {\n                    msMax += MS_PER_DAY;\n                }\n\n                length = ((msMax - msMin) / msInterval);\n            }\n\n            length = verticalByDate ? 1 : Math.round(length);\n\n            if (groupsCount) {\n                length = length * groupsCount;\n            }\n\n            for (; idx < length; idx++) {\n                var majorTickDivider = idx % (msMajorInterval / msInterval);\n                var isMajorTickColumn = majorTickDivider === 0;\n                var isMiddleColumn = majorTickDivider < minorTickCount - 1;\n                var isLastSlotColumn = majorTickDivider === minorTickCount - 1;\n                var minorTickColumns = minorTickCount;\n\n                if (length % minorTickCount !== 0) {\n                    var isLastMajorSlot = (length - (idx + 1)) < minorTickCount;\n                    if (isMajorTickColumn && isLastMajorSlot) {\n                        minorTickColumns = length % minorTickCount;\n                    }\n                }\n\n                html += action(start, isMajorTickColumn, isMiddleColumn, isLastSlotColumn, minorTickColumns, idx % groupsCount);\n\n                if (!verticalByDate) {\n                    if (groupsCount) {\n                        if ((idx % groupsCount) === groupsCount - 1) {\n                            setTime(start, msInterval, false);\n                        }\n                    } else {\n                        setTime(start, msInterval, false);\n                    }\n                }\n            }\n\n            return html;\n        },\n\n        _layout: function(dates) {\n            var timeColumns = [];\n            var columns = [];\n            var that = this;\n            var rows = [{ text: that.options.messages.defaultRowText }];\n            var groupedView = that._groupedView;\n\n            var minorTickSlots = [];\n            for (var minorTickIndex = 0; minorTickIndex < that.options.minorTickCount; minorTickIndex++) {\n                minorTickSlots.push({\n                    text: \"&#8203;\",\n                    minorTicks: true\n                });\n            }\n\n            this._forTimeRange(that.startTime(), that.endTime(), function(date, majorTick, middleColumn, lastSlotColumn, minorSlotsCount) {\n                var template = that.majorTimeHeaderTemplate;\n\n                if (majorTick) {\n                    var timeColumn = {\n                        text: template({ date: date }),\n                        className: lastSlotColumn ? \"k-slot-cell\" : \"\",\n                        columns: minorTickSlots.slice(0, minorSlotsCount)\n                    };\n\n                    groupedView._setColspan(timeColumn);\n\n                    timeColumns.push(timeColumn);\n                }\n            });\n\n            for (var idx = 0; idx < dates.length; idx++) {\n                columns.push({\n                    text: that.dateHeaderTemplate({ date: dates[idx] }),\n                    className: \"k-slot-cell\",\n                    columns: timeColumns.slice(0)\n                });\n            }\n\n            var resources = this.groupedResources;\n            if (resources.length) {\n                if (this._groupOrientation() === \"vertical\") {\n                    rows = groupedView._createRowsLayout(resources, null, this.groupHeaderTemplate, columns);\n                    columns = groupedView._createVerticalColumnsLayout(resources, null, this.groupHeaderTemplate, columns);\n\n                } else {\n                    columns = groupedView._createColumnsLayout(resources, columns, this.groupHeaderTemplate, columns);\n                }\n            }\n\n            return {\n                columns: columns,\n                rows: rows\n            };\n        },\n\n        _footerItems: function() {\n            var that = this,\n                items = [],\n                options = this.options,\n                command = options.footer.command;\n\n            if (that._isMobile()) {\n                items.push(that._defaultTools.todayMobile);\n            }\n\n            if (command && command === \"workDay\") {\n                if (that._isMobile()) {\n                    items.push(that._defaultTools.fulldayMobile);\n                } else {\n                    items.push(that._defaultTools.fulldayDesktop);\n                }\n            }\n\n            return items;\n        },\n\n        toggleFullDay: function() {\n            var options = this.options;\n\n            this.trigger(\"navigate\", { view: this.name || options.name, date: options.date, isWorkDay: !options.showWorkHours });\n        },\n\n        _columnCountForLevel: function(level) {\n            var columnLevel = this.columnLevels[level];\n            return columnLevel ? columnLevel.length : 0;\n        },\n\n        _rowCountForLevel: function(level) {\n            var rowLevel = this.rowLevels[level];\n            return rowLevel ? rowLevel.length : 0;\n        },\n\n        _isWorkDay: function(date) {\n            var day = date.getDay();\n            var workDays = this._workDays;\n\n            for (var i = 0; i < workDays.length; i++) {\n                if (workDays[i] === day) {\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        _content: function(dates) {\n            var that = this;\n            var start = that.startTime();\n            var end = this.endTime();\n            var groupsCount = 1;\n            var rowCount = 1;\n            var columnCount = dates.length;\n            var html = '';\n            var resources = this.groupedResources;\n            var slotTemplate = this.slotTemplate;\n            var isVerticalGrouped = false;\n\n            if (resources.length) {\n                isVerticalGrouped = that._groupOrientation() === \"vertical\";\n\n                if (isVerticalGrouped) {\n                    rowCount = that._groupedView._getRowCount(this.rowLevels.length - 1);\n                    groupsCount = that._groupedView._getGroupsCount();\n                } else {\n                    groupsCount = that._groupCount();\n                }\n            }\n\n            html += '<tbody>';\n            html += that._groupedView._addContent(dates, columnCount, groupsCount, rowCount, start, end, slotTemplate, isVerticalGrouped);\n            html += '</tbody>';\n\n            this.content.find(\"table\").append(html);\n        },\n\n        _groups: function() {\n            var groupCount = this._groupCount();\n            var dates = this._dates;\n            var columnCount = dates.length;\n\n            this.groups = [];\n\n            for (var idx = 0; idx < groupCount; idx++) {\n                var view = this._addResourceView(idx);\n\n                var start = dates[0];\n                var end = dates[(dates.length - 1) || 0];\n\n                var startTime = getMilliseconds(this.startTime());\n                var endTime = getMilliseconds(this.endTime());\n\n                if (startTime !== 0 && endTime <= startTime) {\n                    start = getDate(start);\n                    setTime(start, startTime);\n\n                    end = getDate(end);\n                    setTime(end, endTime);\n                }\n\n                view.addTimeSlotCollection(start, kendo.date.addDays(end, 1));\n            }\n\n            this._timeSlotGroups(groupCount, columnCount);\n        },\n\n        _isHorizontallyGrouped: function() {\n            return this.groupedResources.length && this._groupOrientation() === \"horizontal\";\n        },\n\n        _timeSlotGroups: function(groupCount, datesCount) {\n            var interval = this._timeSlotInterval();\n            var isVerticallyGrouped = this._isVerticallyGrouped();\n            var tableRows = this.content.find(\"tr\");\n\n            this._groupedView._addTimeSlotsCollections(groupCount, datesCount, tableRows, interval, isVerticallyGrouped);\n\n        },\n\n        _addTimeSlotToCollection: function(group, cells, cellIndex, cellOffset, dateIndex, time, interval) {\n              var cell = cells[cellIndex + cellOffset];\n              var collection = group.getTimeSlotCollection(0);\n              var currentDate = this._dates[dateIndex];\n              var currentTime = Date.UTC(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate());\n              var start = currentTime + time;\n              var end = start + interval;\n\n              collection.addTimeSlot(cell, start, end, true);\n        },\n\n        startDate: function() {\n            return this._startDate;\n        },\n\n        endDate: function() {\n            return this._endDate;\n        },\n\n        visibleEndDate: function() {\n            var startTime = getMilliseconds(this.startTime());\n            var endTime = getMilliseconds(this.endTime());\n            var endDate = this.endDate();\n\n            if (startTime !== 0 && endTime <= startTime) {\n                endDate = kendo.date.addDays(endDate, 1);\n            }\n\n            return endDate;\n        },\n\n        startTime: function() {\n            var options = this.options;\n            return options.showWorkHours ? options.workDayStart : options.startTime;\n        },\n\n        endTime: function() {\n            var options = this.options;\n            return options.showWorkHours ? options.workDayEnd : options.endTime;\n        },\n\n        _timeSlotInterval: function() {\n            var options = this.options;\n            return (options.majorTick / options.minorTickCount) * MS_PER_MINUTE;\n        },\n\n        nextDate: function() {\n            return kendo.date.nextDay(this.endDate());\n        },\n\n        previousDate: function() {\n            return kendo.date.previousDay(this.startDate());\n        },\n\n        calculateDateRange: function() {\n            this._render([this.options.date]);\n        },\n\n        render: function(events) {\n            this._headerColumnCount = 0;\n\n            this._groups();\n\n            this.element.find(\".k-event\").remove();\n\n            events = new kendo.data.Query(events)\n                .sort([{ field: \"start\", dir: \"asc\" },{ field: \"end\", dir: \"desc\" }])\n                .toArray();\n\n            var eventsByResource = [];\n\n            this._eventsByResource(events, this.groupedResources, eventsByResource);\n\n            var eventGroups = [];\n            var maxRowCount = 0;\n\n            for (var groupIndex = 0; groupIndex < eventsByResource.length; groupIndex++) {\n                var eventGroup = {\n                    groupIndex: groupIndex,\n                    maxRowCount: 0,\n                    events: {}\n                };\n\n                eventGroups.push(eventGroup);\n\n                this._renderEvents(eventsByResource[groupIndex], groupIndex, eventGroup);\n\n                if (maxRowCount < eventGroup.maxRowCount) {\n                    maxRowCount = eventGroup.maxRowCount;\n                }\n            }\n\n            this._setRowsHeight(eventGroups, eventsByResource.length, maxRowCount);\n\n            this._positionEvents(eventGroups, eventsByResource.length);\n\n            this._currentTime(false);\n            this._ongoingEvents(events);\n\n            this.trigger(\"activate\");\n        },\n\n        _positionEvents: function(eventGroups, groupsCount) {\n            for (var groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\n                var eventsForGroup = eventGroups[groupIndex].events;\n                for (var eventUid in eventsForGroup) {\n                    var eventObject = eventsForGroup[eventUid];\n                    if (Array.isArray(eventObject)) {\n                        for (var eventIndex = 0; eventIndex < eventObject.length; eventIndex++) {\n                            this._positionEvent(eventObject[eventIndex]);\n                        }\n                    } else {\n                        this._positionEvent(eventObject);\n                    }\n                }\n            }\n        },\n\n        _setRowsHeight: function(eventGroups, groupsCount, maxRowCount) {\n            var eventHeight = this.options.eventHeight;\n            var eventBottomOffset = this._getBottomRowOffset();\n            var groupedView = this._groupedView;\n            var verticalGroupCount = groupedView._getVerticalGroupCount(groupsCount);\n\n            groupsCount = this._isVerticallyGrouped() ? verticalGroupCount : 1;\n\n            for (var groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\n                var rowsCount = groupedView._getVerticalRowCount(eventGroups, groupIndex, maxRowCount);\n\n                rowsCount = rowsCount ? rowsCount : 1;\n\n                var rowHeight = ((eventHeight + 2) * rowsCount) + eventBottomOffset;\n                var timesRow = $(this.times.find(\"tr\")[groupIndex]);\n                var row = $(this.content.find(\"tr\")[groupIndex]);\n\n                timesRow.height(rowHeight);\n                row.height(rowHeight);\n            }\n\n            this._setContentWidth();\n            this.refreshLayout();\n            this._refreshSlots();\n        },\n\n        _getBottomRowOffset: function() {\n            var eventBottomOffset = this.options.eventHeight * 0.50;\n            var isMobile = this._isMobile();\n            var minOffset;\n            var maxOffset;\n\n            if (isMobile) {\n                minOffset = 30;\n                maxOffset = 60;\n            } else {\n                minOffset = 15;\n                maxOffset = 30;\n            }\n\n            if (eventBottomOffset > maxOffset) {\n                eventBottomOffset = maxOffset;\n            } else if (eventBottomOffset < minOffset) {\n                eventBottomOffset = minOffset;\n            }\n\n            return eventBottomOffset;\n        },\n\n        _positionEvent: function(eventObject) {\n            var eventHeight = this.options.eventHeight;\n            var eventOffset = 2;\n            var rect = eventObject.slotRange.innerRect(eventObject.start, eventObject.end, false);\n            var left = this._adjustLeftPosition(rect.left);\n            var width = rect.right - rect.left;\n\n            if (width < 0) {\n                width = 0;\n            }\n\n            if (width < this.options.eventMinWidth) {\n                var slotsCollection = eventObject.slotRange.collection;\n                var lastSlot = slotsCollection._slots[slotsCollection._slots.length - 1];\n                var offsetRight = lastSlot.offsetLeft + lastSlot.offsetWidth;\n\n                width = this.options.eventMinWidth;\n\n                if (offsetRight < left + width) {\n                    width = offsetRight - rect.left;\n                }\n            }\n\n            eventObject.element.css({\n                top: eventObject.slotRange.start.offsetTop + eventObject.rowIndex * (eventHeight + eventOffset) + \"px\",\n                left: left,\n                width: width\n            });\n        },\n\n        _refreshSlots: function() {\n            for (var groupIndex = 0; groupIndex < this.groups.length; groupIndex++) {\n                this.groups[groupIndex].refresh();\n            }\n        },\n\n        _eventsByResource: function(events, resources, result, parentValue) {\n            var resource = resources[0];\n\n            if (resource) {\n                var view = resource.dataSource.view();\n\n                view = view.filter(function(item) {\n                    var itemParentValue = kendo.getter(resource.dataParentValueField)(item);\n\n                    return itemParentValue === null || itemParentValue === undefined || itemParentValue === parentValue;\n                });\n\n                for (var itemIdx = 0; itemIdx < view.length; itemIdx++) {\n                    var value = this._resourceValue(resource, view[itemIdx]);\n\n                    var eventsFilteredByResource = new kendo.data.Query(events).filter({ field: resource.field, operator: SchedulerView.groupEqFilter(value) }).toArray();\n\n                    if (resources.length > 1) {\n                        this._eventsByResource(eventsFilteredByResource, resources.slice(1), result, value);\n                    } else {\n                        result.push(eventsFilteredByResource);\n                    }\n                }\n            } else {\n                result.push(events);\n            }\n        },\n\n        _isInDateSlot: function(event) {\n            var startTime = event.start;\n            var endTime = event.end;\n            var rangeStart = getDate(this._startDate);\n            var rangeEnd = kendo.date.addDays(getDate(this.visibleEndDate()), 1);\n\n            if (startTime < rangeEnd && rangeStart <= endTime) {\n                return true;\n            }\n            return false;\n        },\n\n        _isInTimeSlot: function(event) {\n            var startTime = event._startTime || kendo.date.toUtcTime(event.start);\n            var endTime = event._endTime || kendo.date.toUtcTime(event.end);\n\n            var slotRanges = this._slotRanges;\n\n            if (startTime === endTime) {\n                endTime = endTime + 1;\n            }\n\n            for (var slotIndex = 0; slotIndex < slotRanges.length; slotIndex++) {\n                if (startTime < slotRanges[slotIndex].end && slotRanges[slotIndex].start < endTime) {\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        _adjustEvent: function(event) {\n            var start = event.start;\n            var end = event.end;\n            var eventStartTime = event._time(\"start\");\n            var eventEndTime = event._time(\"end\");\n            var startTime = getMilliseconds(this.startTime());\n            var endTime = getMilliseconds(this.endTime());\n            var adjustedStartDate = null;\n            var adjustedEndDate = null;\n            var occurrence;\n            var head = false;\n            var tail = false;\n\n            if (event.isAllDay) {\n                start = getDate(start);\n                eventStartTime = 0;\n\n                end = getDate(end);\n                eventEndTime = MS_PER_DAY;\n                adjustedEndDate = kendo.date.addDays(end, 1);\n            }\n\n            if (endTime === 0) {\n                endTime = MS_PER_DAY;\n            }\n\n            if (endTime <= startTime) {\n                if (eventStartTime < startTime && eventStartTime >= endTime) {\n                    adjustedStartDate = getDate(start);\n                    setTime(adjustedStartDate, startTime);\n                    tail = true;\n                }\n\n                if (eventEndTime > endTime && eventEndTime <= startTime) {\n                    adjustedEndDate = getDate(end);\n                    setTime(adjustedEndDate, endTime);\n                    head = true;\n                }\n            } else {\n                if (startTime > eventStartTime) {\n                    adjustedStartDate = getDate(start);\n                    setTime(adjustedStartDate, startTime);\n                    tail = true;\n                } else if (endTime <= eventStartTime) {\n                    adjustedStartDate = getDate(start);\n                    adjustedStartDate = kendo.date.addDays(adjustedStartDate, 1);\n                    setTime(adjustedStartDate, startTime);\n                    tail = true;\n                }\n\n                if (endTime < eventEndTime) {\n                    adjustedEndDate = getDate(end);\n                    setTime(adjustedEndDate, endTime);\n                    head = true;\n                } else if (startTime > eventEndTime) {\n                    adjustedEndDate = getDate(end);\n                    adjustedEndDate = kendo.date.addDays(adjustedEndDate,-1);\n                    setTime(adjustedEndDate, endTime);\n                    head = true;\n                }\n            }\n\n            occurrence = event.clone({\n                start: adjustedStartDate ? adjustedStartDate : start,\n                end: adjustedEndDate ? adjustedEndDate : end,\n                _startTime: adjustedStartDate ? kendo.date.toUtcTime(adjustedStartDate) : event._startTime,\n                _endTime: adjustedEndDate ? kendo.date.toUtcTime(adjustedEndDate) : event._endTime,\n                isAllDay: false\n            });\n\n            return {\n                occurrence: occurrence,\n                head: head,\n                tail: tail\n            };\n        },\n\n        _renderEvents: function(events, groupIndex, eventGroup) {\n            var event;\n            var idx;\n            var length;\n\n            for (idx = 0, length = events.length; idx < length; idx++) {\n                event = events[idx];\n\n                if (this._isInDateSlot(event)) {\n                    var isMultiDayEvent = event.isAllDay || event.duration() >= MS_PER_DAY;\n                    var container = this.content;\n\n                    if (isMultiDayEvent || this._isInTimeSlot(event)) {\n                        var adjustedEvent = this._adjustEvent(event);\n                        var group = this.groups[groupIndex];\n\n                        if (!group._continuousEvents) {\n                            group._continuousEvents = [];\n                        }\n\n                        if (this._isInTimeSlot(adjustedEvent.occurrence)) {\n                            var ranges = group.slotRanges(adjustedEvent.occurrence, false);\n                            var range = ranges[0];\n                            var startIndex = range.start.index;\n                            var endIndex = range.end.index;\n\n                            this._groupedView._renderEvent(eventGroup, event, adjustedEvent, group, range, container, startIndex, endIndex);\n                        }\n                    }\n                }\n            }\n        },\n\n        addContinuousEvent: function(group, range, element, isAllDay) {\n            var events = group._continuousEvents;\n\n            events.push({\n                element: element,\n                isAllDay: isAllDay,\n                uid: element.attr(kendo.attr(\"uid\")),\n                start: range.start,\n                end: range.end\n            });\n        },\n\n        _createEventElement: function(occurrence, event, head, tail) {\n            var template = this.eventTemplate;\n            var editable = this.options.editable;\n            var isMobile = this._isMobile();\n            var showDelete = editable && editable.destroy !== false && !isMobile;\n            var resizable = editable && editable.resize !== false;\n            var eventStartTime = event._time(\"start\");\n            var eventEndTime = event._time(\"end\");\n            var eventStartDate = event.start;\n            var eventEndDate = event.end;\n\n            var resources = this.eventResources(event);\n\n            if (event._startTime && eventStartTime !== kendo.date.getMilliseconds(event.start)) {\n                eventStartDate = new Date(eventStartTime);\n                eventStartDate = kendo.timezone.apply(eventStartDate, \"Etc/UTC\");\n            }\n\n            if (event._endTime && eventEndTime !== kendo.date.getMilliseconds(event.end)) {\n                eventEndDate = new Date(eventEndTime);\n                eventEndDate = kendo.timezone.apply(eventEndDate, \"Etc/UTC\");\n            }\n\n            var data = extend({}, {\n                ns: kendo.ns,\n                resizable: resizable,\n                showDelete: showDelete,\n                head: head,\n                tail: tail,\n                singleDay: this._dates.length == 1,\n                resources: resources,\n                inverseColor: false,\n                messages: this.options.messages,\n                ariaLabel: this._formatEventAriaLabel(event.title, eventStartDate, eventEndDate, event.isAllDay),\n                template: this.options.eventTemplate\n            }, event, {\n                start: eventStartDate,\n                end: eventEndDate\n            });\n\n            var element = $(template(data));\n            kendo.applyStylesFromKendoAttributes(element, [\"background-color\", \"border-color\"]);\n\n            return element;\n        },\n\n        _arrangeRows: function(eventObject, slotRange, eventGroup) {\n            var that = this;\n            var startIndex = slotRange.start.index;\n            var endIndex = slotRange.end.index;\n\n            var rect = eventObject.slotRange.innerRect(eventObject.start, eventObject.end, false);\n            var rectRight = rect.right + this.options.eventMinWidth;\n\n            var events = SchedulerView.collidingEvents(slotRange.events(), rect.left, rectRight);\n\n            slotRange.addEvent({\n                slotIndex: startIndex,\n                slotIndexEnd: endIndex,\n                start: rect.left,\n                end: rectRight,\n                zeroWidthEventOffset: that._zeroWidthEventOffset,\n                rectLeft: rect.left,\n                rectRight: rectRight,\n                element: eventObject.element,\n                uid: eventObject.uid\n            });\n\n            events.push({\n                slotIndex: startIndex,\n                slotIndexEnd: endIndex,\n                start: rect.left,\n                end: rectRight,\n                zeroWidthEventOffset: that._zeroWidthEventOffset,\n                uid: eventObject.uid\n            });\n\n            var rows = SchedulerView.createRows(events);\n\n            if (eventGroup.maxRowCount < rows.length) {\n                eventGroup.maxRowCount = rows.length;\n            }\n\n            for (var idx = 0, length = rows.length; idx < length; idx++) {\n                var rowEvents = rows[idx].events;\n                for (var j = 0, eventLength = rowEvents.length; j < eventLength; j++) {\n                    eventGroup.events[rowEvents[j].uid].rowIndex = idx;\n                }\n            }\n        },\n\n        _groupCount: function() {\n            var resources = this.groupedResources;\n            var groupedView = this._groupedView;\n\n            if (resources.length) {\n                if (this._groupOrientation() === \"vertical\") {\n                    return groupedView._verticalCountForLevel(resources.length - 1);\n                } else {\n                    return groupedView._horizontalCountForLevel(resources.length - 1, this.columnLevels.length - 1);\n                }\n            }\n            return 1;\n        },\n\n        _updateEventForSelection: function(event) {\n            var adjustedEvent = this._adjustEvent(event.clone());\n            return adjustedEvent.occurrence;\n        },\n\n        _eventOptionsForMove: function(event) {\n            if (event.isAllDay) {\n                return { isAllDay: false };\n            }\n\n            return {};\n        },\n\n        _updateEventForResize: function(event) {\n            if (event.isAllDay) {\n                event.set(\"isAllDay\", false);\n            }\n        },\n\n        _updateMoveHint: function(event, groupIndex, distance) {\n            var group = this.groups[groupIndex];\n\n            var clonedEvent = event.clone({ start: event.start, end: event.end });\n\n            var eventDuraton = clonedEvent.duration();\n            clonedEvent.start = new Date(clonedEvent.start.getTime() + distance);\n            clonedEvent.end = new Date(+clonedEvent.start + eventDuraton);\n\n            this._removeMoveHint(event.uid);\n\n            if (this._isInDateSlot(clonedEvent)) {\n                if (clonedEvent.isAllDay || clonedEvent.duration() >= MS_PER_DAY || this._isInTimeSlot(clonedEvent)) {\n                    var adjustedEvent = this._adjustEvent(clonedEvent);\n                    var ranges = group.slotRanges(adjustedEvent.occurrence, false);\n\n                    for (var rangeIndex = 0; rangeIndex < ranges.length; rangeIndex++) {\n                        this._groupedView._createMoveHint(ranges[rangeIndex], adjustedEvent);\n                    }\n                }\n            }\n        },\n\n       _appendMoveHint: function(hint) {\n            hint.appendTo(this.content);\n\n            this._moveHint = this._moveHint.add(hint);\n       },\n\n        _updateResizeHint: function(event, groupIndex, startTime, endTime) {\n            var group = this.groups[groupIndex];\n            var ranges = group.ranges(startTime, endTime, false, false);\n\n            this._removeResizeHint();\n\n            for (var rangeIndex = 0; rangeIndex < ranges.length; rangeIndex++) {\n                var range = ranges[rangeIndex];\n                var start = range.startSlot();\n\n                var startRect = range.innerRect(startTime, endTime, false);\n                startRect.top = start.offsetTop;\n\n                var width = startRect.right - startRect.left;\n\n                if (width < 0) {\n                    for (var i = 0; i < range.events().length; i++) {\n                        if (range.events()[i].uid === event.uid) {\n                            width = range.events()[i].rectRight - startRect.left;\n                            break;\n                        }\n                    }\n                }\n\n                var height = range.endSlot().offsetTop + start.offsetHeight - startRect.top;\n\n                var left = this._adjustLeftPosition(startRect.left);\n\n                var hint = SchedulerView.fn._createResizeHint.call(this,\n                    left,\n                    startRect.top,\n                    width,\n                    height\n                );\n\n                this._resizeHint = this._resizeHint.add(hint);\n            }\n\n            var format = \"t\";\n            var container = this.content;\n\n            this._resizeHint.appendTo(container);\n\n            this._resizeHint.find(\".k-label-top,.k-label-bottom\").text(\"\");\n\n            this._resizeHint.first().addClass(\"k-first\").find(\".k-label-top\").text(kendo.toString(kendo.timezone.toLocalDate(startTime), format));\n\n            this._resizeHint.last().addClass(\"k-last\").find(\".k-label-bottom\").text(kendo.toString(kendo.timezone.toLocalDate(endTime), format));\n        },\n\n        selectionByElement: function(cell) {\n            var offset = cell.offset();\n            return this._slotByPosition(offset.left, offset.top);\n        },\n\n        _updateDirection: function(selection, ranges, multiple, reverse, vertical) {\n\n            var startSlot = ranges[0].start;\n            var endSlot = ranges[ranges.length - 1].end;\n            if (multiple && !vertical) {\n                if (startSlot.index === endSlot.index &&\n                    startSlot.collectionIndex === endSlot.collectionIndex) {\n                    selection.backward = reverse;\n                }\n            }\n        },\n\n        _changeGroup: function(selection, previous) {\n            var method = previous ? \"prevGroupSlot\" : \"nextGroupSlot\";\n\n            var slot = this[method](selection.start, selection.groupIndex, false);\n\n            if (slot) {\n                selection.groupIndex += previous ? -1 : 1;\n            }\n\n            this._groupedView._changeGroup(selection, previous, slot);\n            return slot;\n        },\n\n        prevGroupSlot: function(date, groupIndex, isDay) {\n            var group = this.groups[groupIndex];\n            var slot = group.ranges(date, date, isDay, false)[0].start;\n\n            if (groupIndex <= 0) {\n                return;\n            }\n\n            return this._groupedView._prevGroupSlot(slot, group, isDay);\n        },\n\n        nextGroupSlot: function(date, groupIndex, isDay) {\n            var group = this.groups[groupIndex];\n            var slot = group.ranges(date, date, isDay, false)[0].start;\n\n            if (groupIndex >= this.groups.length - 1) {\n                return;\n            }\n\n            return this._groupedView._nextGroupSlot(slot, group, isDay);\n        },\n\n        _verticalSlots: function(selection, ranges, multiple, reverse) {\n            var groupedView = this._groupedView;\n            var method = groupedView._verticalMethod(reverse, multiple);\n            var startSlot = ranges[0].start;\n            var endSlot = ranges[ranges.length - 1].end;\n            var group = this.groups[selection.groupIndex];\n            var slot = groupedView._normalizeVerticalSelection(selection, ranges, reverse, multiple);\n\n            if (slot) {\n                startSlot = endSlot = slot;\n            }\n\n            startSlot = group[method](startSlot);\n            endSlot = group[method](endSlot);\n\n            if (!multiple && this._isVerticallyGrouped() && (!startSlot || !endSlot)) {\n                startSlot = endSlot = groupedView._verticalSlots(selection, reverse, slot);\n            }\n\n            return {\n                startSlot: startSlot,\n                endSlot: endSlot\n            };\n        },\n\n        _horizontalSlots: function(selection, ranges, multiple, reverse) {\n            var method = reverse ? \"upSlot\" : \"downSlot\";\n            var startSlot = ranges[0].start;\n            var endSlot = ranges[ranges.length - 1].end;\n            var group = this.groups[selection.groupIndex];\n            var result = {};\n\n            if (!multiple) {\n                result = this._groupedView._horizontalSlots(selection, group, method, startSlot, endSlot, multiple, reverse);\n            } else {\n                result.startSlot = group[method](startSlot);\n                result.endSlot = group[method](endSlot);\n\n                if (!multiple && this._isHorizontallyGrouped() && (!startSlot || !endSlot)) {\n                    result.startSlot = result.endSlot = this._changeGroup(selection, reverse);\n                }\n            }\n\n            return result;\n        },\n\n        _changeViewPeriod: function(selection, reverse) {\n            var date = reverse ? this.previousDate() : this.nextDate();\n            var start = selection.start;\n            var end = selection.end;\n            var newStart, newEnd;\n\n            newStart = new Date(date);\n            newEnd = new Date(date);\n\n            if (this._isInRange(newStart, newEnd)) {\n                return false;\n            }\n            selection.start = newStart;\n            selection.end = newEnd;\n\n            if (this._isHorizontallyGrouped()) {\n               selection.groupIndex = reverse ? this.groups.length - 1 : 0;\n            }\n\n            var duration = end - start;\n\n            if (reverse) {\n                end = getMilliseconds(this.endTime());\n                end = end === 0 ? MS_PER_DAY : end;\n\n                setTime(selection.start, end - duration);\n                setTime(selection.end, end);\n            } else {\n                start = getMilliseconds(this.startTime());\n\n                setTime(selection.start, start);\n                setTime(selection.end, start + duration);\n            }\n\n            selection.events = [];\n\n            return true;\n        },\n\n        move: function(selection, key, shift) {\n            var handled = false;\n            var group = this.groups[selection.groupIndex];\n            var keys = kendo.keys;\n            var groupedView = this._groupedView;\n            var ranges = group.ranges(selection.start, selection.end, false, false);\n            var startSlot, endSlot, reverse, slots;\n\n            if (key === keys.DOWN || key === keys.UP) {\n                handled = true;\n                reverse = key === keys.UP;\n\n                groupedView._updateDirection(selection, ranges, shift, reverse);\n\n                slots = this._verticalSlots(selection, ranges, shift, reverse);\n\n                if (groupedView._changeVerticalViewPeriod(slots, shift, selection, reverse)) {\n                    return handled;\n                }\n            } else if (key === keys.LEFT || key === keys.RIGHT) {\n                handled = true;\n                reverse = key === keys.LEFT;\n\n                this._updateDirection(selection, ranges, shift, reverse, false);\n\n                slots = this._horizontalSlots(selection, ranges, shift, reverse);\n\n                if (groupedView._changeHorizontalViewPeriod(slots, shift, selection, reverse)) {\n                     return handled;\n                }\n            }\n\n           if (handled) {\n               startSlot = slots.startSlot;\n               endSlot = slots.endSlot;\n\n               if (shift) {\n                   var backward = selection.backward;\n\n                   if (backward && startSlot) {\n                       selection.start = startSlot.startDate();\n                   } else if (!backward && endSlot) {\n                       selection.end = endSlot.endDate();\n                   }\n               } else if (startSlot && endSlot) {\n                   selection.start = startSlot.startDate();\n                   selection.end = endSlot.endDate();\n               }\n\n               selection.events = [];\n           }\n\n            return handled;\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.element) {\n                that.element.off(NS);\n            }\n\n            if (that._currentTimeUpdateTimer) {\n                clearInterval(that._currentTimeUpdateTimer);\n            }\n\n            SchedulerView.fn.destroy.call(this);\n\n            if (this._isMobile() && that.options.editable) {\n                if (that.options.editable.create !== false) {\n                    that._addUserEvents.destroy();\n                }\n\n                if (that.options.editable.update !== false) {\n                    that._editUserEvents.destroy();\n                }\n            }\n        },\n\n        _resourceBySlot: function(slot) {\n            var resources = this.groupedResources;\n            var result = {},\n            groupOptions = this.options.group;\n\n            if (resources.length && groupOptions.orientation === \"horizontal\" && groupOptions.date) {\n                var resourceIndex = slot.groupIndex,\n                    levels = this.columnLevels,\n                    groupLevel = levels[levels.length - 1],\n                    resource = resources[resources.length - 1],\n                    groupLevelMember = groupLevel[resourceIndex],\n                    passedChildren, numberOfChildren, j, i;\n\n                this._setResourceValue(groupLevelMember, resource, result);\n\n                for (j = levels.length - 2; j >= 3; j--) {\n                    groupLevel = levels[j];\n                    resource = resources[j - 3];\n                    passedChildren = 0;\n\n                    for (i = 0; i < groupLevel.length; i++) {\n                        groupLevelMember = groupLevel[i];\n                        numberOfChildren = groupLevelMember.columns.length;\n\n                        if (numberOfChildren > resourceIndex - passedChildren) {\n                            this._setResourceValue(groupLevelMember, resource, result);\n\n                            break;\n                        } else {\n                            passedChildren += numberOfChildren;\n                        }\n                    }\n                }\n\n                return result;\n            } else {\n                return SchedulerView.fn._resourceBySlot.call(this, slot);\n            }\n        }\n    });\n\n    extend(true, ui, {\n        TimelineView: TimelineView,\n        TimelineWeekView: TimelineView.extend({\n            options: {\n                name: \"TimelineWeekView\",\n                title: \"Timeline Week\",\n                selectedDateFormat: \"{0:D} - {1:D}\",\n                selectedShortDateFormat: \"{0:d} - {1:d}\",\n                selectedMobileDateFormat: \"{0:MMM dd} - {1:dd}\",\n                majorTick: 120\n            },\n            name: \"timelineWeek\",\n            calculateDateRange: function() {\n                var selectedDate = this.options.date,\n                    start = kendo.date.dayOfWeek(selectedDate, this.calendarInfo().firstDay, -1),\n                    idx, length,\n                    dates = [];\n\n                for (idx = 0, length = 7; idx < length; idx++) {\n                    dates.push(start);\n                    start = kendo.date.nextDay(start);\n                }\n                this._render(dates);\n            }\n        }),\n        TimelineWorkWeekView: TimelineView.extend({\n            options: {\n                name: \"TimelineWorkWeekView\",\n                title: \"Timeline Work Week\",\n                selectedDateFormat: \"{0:D} - {1:D}\",\n                selectedShortDateFormat: \"{0:d} - {1:d}\",\n                selectedMobileDateFormat: \"{0:MMM dd} - {1:dd}\",\n                majorTick: 120\n            },\n            name: \"timelineWorkWeek\",\n            nextDate: function() {\n                var weekStart = kendo.date.dayOfWeek(kendo.date.nextDay(this.endDate()), this.calendarInfo().firstDay, 1);\n\n                return kendo.date.addDays(weekStart, this._workDays[0]);\n            },\n            previousDate: function() {\n                var weekStart = kendo.date.dayOfWeek(this.startDate(), this.calendarInfo().firstDay, -1);\n                var workDays = this._workDays;\n\n                return kendo.date.addDays(weekStart, workDays[workDays.length - 1] - 7);\n            },\n            calculateDateRange: function() {\n                var options = this.options,\n                    selectedDate = options.date,\n                    dayOfWeek = kendo.date.dayOfWeek,\n                    weekStart = dayOfWeek(selectedDate, this.calendarInfo().firstDay, -1),\n                    start = dayOfWeek(weekStart, options.workWeekStart, 1),\n                    end = dayOfWeek(start, options.workWeekEnd, 1),\n                    dates = [],\n                    workDays = (options.workDays && options.workDays.length) ? options.workDays.map(function(day) {\n                        return dayOfWeek(weekStart, day, 1).getTime();\n                    }) : null;\n\n                if (workDays) {\n                    start = weekStart;\n                    end = dayOfWeek(start, this.calendarInfo().firstDay + 6, 1);\n                }\n\n                while (start <= end) {\n                    if (workDays && workDays.indexOf(start.getTime()) > -1) {\n                        dates.push(start);\n                    } else if (!workDays) {\n                        dates.push(start);\n                    }\n\n                    start = kendo.date.nextDay(start);\n                }\n\n                this._render(dates);\n            }\n        }),\n        TimelineMonthView: TimelineView.extend({\n            options: {\n                name: \"TimelineMonthView\",\n                title: \"Timeline Month\",\n                selectedDateFormat: \"{0:D} - {1:D}\",\n                selectedShortDateFormat: \"{0:d} - {1:d}\",\n                workDayStart: new Date(1980, 1, 1, 0, 0, 0),\n                workDayEnd: new Date(1980, 1, 1, 23, 59, 59),\n                footer: false,\n                majorTick: 1440,\n                minorTickCount: 1\n            },\n            name: \"timelineMonth\",\n            calculateDateRange: function() {\n                var selectedDate = this.options.date,\n                    start = kendo.date.firstDayOfMonth(selectedDate),\n                    end = kendo.date.lastDayOfMonth(selectedDate),\n                    idx, length,\n                    dates = [];\n\n                for (idx = 0, length = end.getDate(); idx < length; idx++) {\n                    dates.push(start);\n                    start = kendo.date.nextDay(start);\n                }\n                this._render(dates);\n            }\n        })\n    });\n\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}