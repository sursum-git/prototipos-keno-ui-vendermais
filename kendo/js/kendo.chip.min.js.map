{"version":3,"file":"kendo.chip.min.js","names":[],"sources":["../../src/kendo.chip.js"],"sourcesContent":["import \"./kendo.core.js\";\nimport \"./kendo.html.chip.js\";\n\nexport const __meta__ = {\n    id: \"chip\",\n    name: \"Chip\",\n    category: \"web\", // suite\n    docsCategory: \"navigation\",\n    description: \"Displays a Chip that represents an input, attribute or an action\",\n    depends: [\"core\", \"html.chip\"] // dependencies\n};\n\n(function($, undefined) {\n    var kendo = window.kendo;\n    var Widget = kendo.ui.Widget;\n    var html = kendo.html;\n    var ui = kendo.ui,\n        keys = kendo.keys,\n        SELECT = \"select\",\n        CLICK = \"click\",\n        REMOVE = \"remove\";\n\n    var NS = \".kendoChip\",\n        DOT = \".\";\n\n\n    var chipStyles = {\n        widget: \"k-chip\",\n        iconElement: \"k-chip-icon\",\n        removeIconElement: \"k-chip-remove-action\",\n        selected: \"k-selected\",\n        disabled: \"k-disabled\",\n        focus: \"k-focus\",\n        avatarClass: \"k-chip-avatar\"\n    };\n\n    var Chip = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            html.renderChip(element, $.extend({},that.options));\n\n            options = that.options;\n\n            that.wrapper = that.element.closest(\".k-chip\");\n            that._enabled = that.options.enabled = options.enabled !== undefined ? options.enabled : !(Boolean(that.element.is(\"[disabled]\")));\n            that._selected = that.options.selected;\n            that._selectable = that.options.selectable;\n\n            that._setTabIndex();\n\n            that._applyAriaAttributes();\n            that._bindEvents();\n            kendo.notify(that);\n        },\n\n        options: {\n            name: 'Chip',\n            enabled: true,\n            selectable: false,\n            selected: false,\n            removable: false,\n            icon: '',\n            iconClass: '',\n            avatarClass: '',\n            label: '',\n            removeIcon: 'x-circle',\n            removeIconClass: '',\n            fillMode: undefined,\n            rounded: undefined,\n            size: undefined,\n            themeColor: undefined\n        },\n\n        events: [\n            SELECT,\n            CLICK,\n            REMOVE\n        ],\n\n        destroy: function() {\n            var that = this;\n\n            that.wrapper.off(NS);\n            Widget.fn.destroy.call(that);\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            that.wrapper.off(NS);\n            that.element.insertBefore(that.wrapper);\n            that.wrapper.remove();\n\n            Widget.fn.setOptions.call(that, options);\n\n            that.element.empty();\n            html.renderChip(that.element, that.options);\n\n            that.wrapper = that.element.closest(\".k-chip\");\n\n            that._setTabIndex();\n            that._applyAriaAttributes();\n            that._bindEvents();\n        },\n\n        enable: function(state) {\n            var that = this;\n            if (state === undefined) {\n                return that._enabled;\n            }\n\n            that._enabled = state !== false;\n            that.wrapper.toggleClass(chipStyles.disabled, !that._enabled);\n            that.wrapper.attr(\"aria-disabled\", !that._enabled);\n        },\n\n        select: function(state) {\n            var that = this;\n\n            if (state == undefined) {\n                return that._selected;\n            }\n\n            state = state !== false;\n\n            if (that._selectable) {\n                that._selected = state;\n                that.wrapper.toggleClass(chipStyles.selected, state);\n            }\n\n            that._applyAriaAttributes();\n        },\n\n        focus: function() {\n            if (this._enabled) {\n                this.wrapper.trigger(\"focus\");\n            }\n        },\n\n        _bindEvents: function() {\n            var that = this,\n                clickProxy = that._click.bind(that),\n                removeProxy = that._remove.bind(that),\n                keydownProxy = that._keydown.bind(that);\n\n            that.wrapper.on(CLICK + \" touchend\" + NS, clickProxy)\n                .on(CLICK + \" touchend\" + NS, DOT + chipStyles.removeIconElement, removeProxy)\n                .on(\"keydown\" + NS, keydownProxy);\n        },\n\n        _click: function(ev) {\n            var that = this;\n\n            if (!that.enable()) {\n                ev.preventDefault();\n                return;\n            }\n\n            if (that.trigger(CLICK, { originalEvent: ev })) {\n                return;\n            }\n\n            that._triggerSelect(that, ev);\n        },\n\n        _remove: function(ev) {\n            ev.preventDefault();\n            ev.stopPropagation();\n\n            var that = this;\n\n            if (!that.enable()) {\n                ev.preventDefault();\n                return;\n            }\n\n            that.trigger(REMOVE, { originalEvent: ev });\n        },\n\n        _triggerSelect: function(item, ev) {\n            var that = this;\n\n            if (!that._selectable || !that._enabled || that.trigger(SELECT, { originalEvent: ev })) {\n                return;\n            }\n\n            that._toggleSelect();\n        },\n\n        _toggleSelect: function() {\n            var that = this;\n            that.select(!that.select());\n        },\n\n        _keydown: function(ev) {\n            var that = this,\n                target = $(ev.target),\n                key = ev.keyCode;\n\n            if (key === keys.ENTER || key === keys.SPACEBAR) {\n                if (!that.enable()) {\n                    ev.preventDefault();\n                    return;\n                }\n\n                if (that.trigger(CLICK, { originalEvent: ev })) {\n                    return;\n                }\n\n                that._triggerSelect(target, ev);\n\n                if (key === keys.SPACEBAR) {\n                    ev.preventDefault();\n                }\n            } else if (key === keys.DELETE || key === keys.BACKSPACE) {\n                if (that.options.removable) {\n                    that.trigger(REMOVE, { originalEvent: ev });\n                }\n            }\n        },\n\n        _setTabIndex: function() {\n            var that = this;\n            var tabindex = that.enable() ? that.options.tabindex || \"0\" : \"-1\";\n            if (that.options.attributes && that.options.attributes.class) {\n                that.options.attributes.class = `${that.wrapper.attr(\"class\") || ''} ${that.options.attributes.class}`;\n            }\n\n            that.wrapper.attr($.extend({}, that.options.attributes, {\n                    tabindex: tabindex,\n                    // skip rendering of this attribute\n                    ariaSelectedAttributeName: null\n                }));\n        },\n\n        _applyAriaAttributes: function() {\n            var that = this;\n            var role = (that.options.attributes || {}).role || \"button\";\n\n            that.wrapper.attr(\"role\", role);\n            if (that._selectable && role == \"button\") {\n                that.wrapper.attr(\"aria-pressed\", that._selected);\n            }\n            that.wrapper.attr(\"aria-disabled\", that.enable() === false);\n        }\n    });\n\n    ui.plugin(Chip);\n\n})(window.kendo.jQuery);\nexport default kendo;"],"mappings":"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"}