{"version":3,"file":"kendo.editor.min.js","names":[],"sources":["../../src/util/undoredostack.js","../../src/editor/main.js","../../src/editor/dom.js","../../src/editor/serializer.js","../../src/editor/range.js","../../src/editor/immutables.js","../../src/editor/command.js","../../src/editor/plugins/viewhtml.js","../../src/editor/plugins/format.js","../../src/editor/plugins/inlineformat.js","../../src/editor/plugins/link.js","../../src/editor/plugins/formatblock.js","../../src/editor/plugins/lists.js","../../src/editor/plugins/formatting.js","../../src/editor/plugins/image.js","../../src/editor/plugins/import.js","../../src/editor/plugins/insert.js","../../src/editor/plugins/export.js","../../src/editor/plugins/indent.js","../../src/editor/plugins/linebreak.js","../../src/editor/plugins/file.js","../../src/editor/plugins/tables.js","../../src/editor/plugins/clipboard.js","../../src/editor/plugins/keyboard.js","../../src/editor/plugins/exportpdf.js","../../src/editor/plugins/print.js","../../src/editor/plugins/formatpainter.js","../../src/editor/plugins/lineheight.js","../../src/editor/plugins/formattingmarks.js","../../src/editor/resizing/resizing-utils.js","../../src/editor/resizing/table-element-resizing.js","../../src/editor/resizing/column-resizing.js","../../src/editor/resizing/row-resizing.js","../../src/editor/resizing/element-resize-handle.js","../../src/editor/resizing/element-resizing.js","../../src/editor/table-wizard/table-wizard-command.js","../../src/editor/table-wizard/table-wizard-dialog.js","../../src/kendo.editor.js"],"sourcesContent":["import \"../kendo.core.js\";\n\n(function(kendo) {\n    var UndoRedoStack = kendo.Observable.extend({\n        init: function(options) {\n            kendo.Observable.fn.init.call(this, options);\n            this.clear();\n        },\n        events: [ \"undo\", \"redo\" ],\n        push: function (command) {\n            this.stack = this.stack.slice(0, this.currentCommandIndex + 1);\n            this.currentCommandIndex = this.stack.push(command) - 1;\n        },\n        undo: function () {\n            if (this.canUndo()) {\n                var command = this.stack[this.currentCommandIndex--];\n                command.undo();\n                this.trigger(\"undo\", { command: command });\n            }\n        },\n        redo: function () {\n            if (this.canRedo()) {\n                var command = this.stack[++this.currentCommandIndex];\n                command.redo();\n                this.trigger(\"redo\", { command: command });\n            }\n        },\n        clear: function() {\n            this.stack = [];\n            this.currentCommandIndex = -1;\n        },\n        canUndo: function () {\n            return this.currentCommandIndex >= 0;\n        },\n        canRedo: function () {\n            return this.currentCommandIndex != this.stack.length - 1;\n        }\n    });\n\n    kendo.deepExtend(kendo, {\n        util: {\n            UndoRedoStack: UndoRedoStack\n        }\n    });\n})(kendo);\n","import \"../util/undoredostack.js\";\nimport \"../kendo.aiprompt.js\";\nimport \"../kendo.buttongroup.js\";\nimport \"../kendo.combobox.js\";\nimport \"../kendo.dropdownlist.js\";\nimport \"../kendo.window.js\";\nimport \"../kendo.colorpicker.js\";\nimport \"../kendo.toolbar.js\";\nimport \"../kendo.icons.js\";\nimport \"../kendo.splitter.js\";\nimport \"../kendo.html.input.js\";\nimport \"../kendo.html.icon.js\";\nimport \"../kendo.inlineaiprompt.js\";\n\n(function($, undefined) {\n\n    // Imports ================================================================\n    var kendo = window.kendo,\n        Class = kendo.Class,\n        Widget = kendo.ui.Widget,\n        os = kendo.support.mobileOS,\n        browser = kendo.support.browser,\n        extend = $.extend,\n        deepExtend = kendo.deepExtend,\n        keys = kendo.keys,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        NS = \".kendoEditor\";\n\n    const FORMATTING_MARKS_STYLE_ID = \"formatting-marks-style\",\n        FORMATTING_MARKS_OVERLAY_ID = \"formatting-marks-overlay\",\n        FORMATTING_MARKS_OVERLAY_WRAPPER_ID = \"formatting-marks-overlay-wrapper\";\n\n    var SELECT = \"select\";\n    var SELECT_OVERLAY_SELECTOR = \"select.k-select-overlay\";\n    var PLACEHOLDER_CLASS = \"k-placeholder\";\n    var PLACEHOLDER_TAG_ID = \"placeholder\";\n    var REFRESH_INTERVAL = 200;\n    var DEFAULT_LANGUAGE = \"en\";\n\n    var NATIVE_TOOLS = [\n        \"insertLineBreak\",\n        \"insertParagraph\",\n        \"redo\",\n        \"undo\",\n        \"autoLink\"\n    ];\n\n    const TOOLBAR_ALLOWED_CLOSE_SELECTORS = \".k-icon,.k-svg-icon,svg,path,.k-editor-window,.k-editor-toolbar,.k-editortoolbar-dragHandle,[ref-toolbar-tool],[ref-toolbar-tool] *\";\n\n    var EditorUtils = {\n        editorWrapperTemplate: () =>\n            '<div class=\"k-editor\">' +\n            '<div class=\"k-editor-toolbar\" role=\"toolbar\"></div>' +\n            '<div class=\"k-editable-area k-editor-content\"></div>' +\n            '</div>',\n\n        formatByName: function(name, format) {\n            for (var i = 0; i < format.length; i++) {\n                if ($.inArray(name, format[i].tags) >= 0) {\n                    return format[i];\n                }\n            }\n        },\n\n        getToolCssClass: function(name, icon) {\n            var toolCssClassNames = {\n                superscript: \"supscript\",\n                subscript: \"subscript\",\n                justifyLeft: \"align-left\",\n                justifyCenter: \"align-center\",\n                justifyRight: \"align-right\",\n                justifyFull: \"align-justify\",\n                insertUnorderedList: \"list-unordered\",\n                insertOrderedList: \"list-ordered\",\n                insertUpperRomanList: \"list-roman-upper\",\n                insertLowerRomanList: \"list-roman-lower\",\n                \"import\": \"import\",\n                indent: \"indent\",\n                outdent: \"outdent\",\n                createLink: \"link\",\n                unlink: \"unlink\",\n                insertImage: \"image\",\n                insertFile: \"file-add\",\n                viewHtml: \"code\",\n                foreColor: \"foreground-color\",\n                backColor: \"droplet\",\n                createTable: \"table-add\",\n                addColumnLeft: \"table-column-insert-left\",\n                addColumnRight: \"table-column-insert-right\",\n                addRowAbove: \"table-row-insert-above\",\n                addRowBelow: \"table-row-insert-below\",\n                deleteRow: \"table-row-delete\",\n                deleteColumn: \"table-column-delete\",\n                mergeCellsHorizontally: \"cells-merge-horizontally\",\n                mergeCellsVertically: \"cells-merge-vertically\",\n                splitCellHorizontally: \"cell-split-horizontally\",\n                splitCellVertically: \"cell-split-vertically\",\n                tableProperties: \"table-properties\",\n                tableCellProperties: \"table-cell-properties\",\n                tableWizardInsert: \"table-wizard\",\n                tableAlignLeft: \"table-position-start\",\n                tableAlignCenter: \"table-position-center\",\n                tableAlignRight: \"table-position-end\",\n                cleanFormatting: \"clear-css\",\n                copyFormat: \"copy-format\",\n                applyFormat: \"apply-format\",\n                pdf: \"file-pdf\"\n            };\n\n            var cssClass = toolCssClassNames[name];\n\n            if (cssClass) {\n                return cssClass;\n            }\n\n            if (icon) {\n                return icon;\n            }\n\n            return EditorUtils.nameToKebab(name);\n        },\n\n        nameToKebab: function(name) {\n            return name.replace(/([a-z])([A-Z])/g, \"$1-$2\")\n                .replace(/[\\s_]+/g, '-')\n                .toLowerCase();\n        },\n\n        registerTool: function(toolName, tool) {\n            if (!tool.name) {\n                tool.options.name = toolName;\n                tool.name = toolName.toLowerCase();\n            }\n\n            if (!tool.options.ui) {\n                tool.options.ui = {};\n            }\n\n            tool.options.ui.command = toolName;\n\n            Editor.defaultTools[toolName] = tool;\n        },\n\n        registerFormat: function(formatName, format) {\n            Editor.fn.options.formats[formatName] = format;\n        },\n\n        cacheComments: function(content, comments) {\n            for (var index in comments) {\n                content = content.replace(comments[index], \"{\" + index + \"}\");\n            }\n            return content;\n        },\n\n        retrieveComments: function(content, comments) {\n            for (var index in comments) {\n                content = content.replace(\"{\" + index + \"}\", comments[index]);\n            }\n            return content;\n        }\n    };\n\n    var messages = {\n        auto: \"Auto\",\n        bold: \"Bold\",\n        italic: \"Italic\",\n        underline: \"Underline\",\n        strikethrough: \"Strikethrough\",\n        superscript: \"Superscript\",\n        subscript: \"Subscript\",\n        fitToCell: \"Fit to cell\",\n        justifyCenter: \"Center text\",\n        justifyLeft: \"Align text left\",\n        justifyRight: \"Align text right\",\n        justifyFull: \"Justify\",\n        insertUnorderedList: \"Insert unordered list\",\n        insertOrderedList: \"Insert ordered list\",\n        lineHeight: \"Set line height\",\n        formattingMarks: \"Toggle formatting marks\",\n        indent: \"Indent\",\n        outdent: \"Outdent\",\n        createLink: \"Insert hyperlink\",\n        unlink: \"Remove hyperlink\",\n        insertImage: \"Insert image\",\n        insertFile: \"Insert file\",\n        insertHtml: \"Insert HTML\",\n        viewHtml: \"View HTML\",\n        fontName: \"Select font family\",\n        fontNameInherit: \"(inherited font)\",\n        fontSize: \"Select font size\",\n        fontSizeInherit: \"(inherited size)\",\n        formatBlock: \"Format\",\n        formatting: \"Format\",\n        foreColor: \"Color\",\n        backColor: \"Background color\",\n        style: \"Styles\",\n        emptyFolder: \"Empty Folder\",\n        editAreaTitle: \"Editable area. Press F10 for toolbar.\",\n        uploadFile: \"Upload\",\n        overflowAnchor: \"More tools\",\n        orderBy: \"Arrange by:\",\n        orderBySize: \"Size\",\n        orderByName: \"Name\",\n        invalidFileType: \"The selected file {0} is not valid. Supported file types are {1}.\",\n        deleteFile: 'Are you sure you want to delete {0}?',\n        overwriteFile: 'A file with name {0} already exists in the current directory. Do you want to overwrite it?',\n        directoryNotFound: \"A directory with this name was not found.\",\n        imageWebAddress: \"Web address\",\n        imageAltText: \"Alternate text\",\n        imageWidth: \"Width (px)\",\n        imageHeight: \"Height (px)\",\n        fileWebAddress: \"Web address\",\n        fileTitle: \"Title\",\n        fileText: \"Text\",\n        linkWebAddress: \"Web address\",\n        linkText: \"Text\",\n        linkToolTip: \"ToolTip\",\n        linkOpenInNewWindow: \"Open link in new window\",\n        dialogUpdate: \"Update\",\n        dialogInsert: \"Insert\",\n        dialogOk: \"Confirm\",\n        dialogCancel: \"Cancel\",\n        cleanFormatting: \"Clean formatting\",\n        createTable: \"Create a table\",\n        createTableHint: \"Create a {0} x {1} table\",\n        addColumnLeft: \"Add column on the left\",\n        addColumnRight: \"Add column on the right\",\n        addRowAbove: \"Add row above\",\n        addRowBelow: \"Add row below\",\n        deleteRow: \"Delete row\",\n        deleteColumn: \"Delete column\",\n        mergeCellsHorizontally: \"Merge cells horizontally\",\n        mergeCellsVertically: \"Merge cells vertically\",\n        splitCellHorizontally: \"Split cells horizontally\",\n        splitCellVertically: \"Split cells vertically\",\n        tableAlignLeft: \"Table Align Left\",\n        tableAlignCenter: \"Table Align Center\",\n        tableAlignRight: \"Table Align Right\",\n        tableWizard: \"Table Wizard\",\n        tableProperties: \"Table Properties\",\n        tableCellProperties: \"Cell Properties\",\n        tableTab: \"General\",\n        cellTab: \"Cell\",\n        accessibilityTab: \"Advanced\",\n        caption: \"Caption\",\n        summary: \"Summary\",\n        width: \"Width\",\n        height: \"Height\",\n        units: \"Units\",\n        cellSpacing: \"Cell Spacing\",\n        cellPadding: \"Cell Padding\",\n        topPadding: \"Top\",\n        leftPadding: \"Left\",\n        bottomPadding: \"Bottom\",\n        rightPadding: \"Right\",\n        independentCellPaddings: \"Independent Cell Paddings\",\n        cellMargin: \"Cell Margin\",\n        alignment: \"Alignment\",\n        captionAlignment: \"Caption alignment\",\n        position: \"Position\",\n        background: \"Background\",\n        tableBackground: \"Table background\",\n        cssClass: \"CSS Class\",\n        id: \"ID\",\n        border: \"Border\",\n        borderStyle: \"Border Style\",\n        borderWidth: \"Border Width\",\n        borderColor: \"Border Color\",\n        collapseBorders: \"Collapse borders\",\n        wrapText: \"Wrap text\",\n        associateCellsWithHeaders: \"Associate headers\",\n        alignLeft: \"Align Left\",\n        alignCenter: \"Align Center\",\n        alignRight: \"Align Right\",\n        alignLeftTop: \"Align Left Top\",\n        alignCenterTop: \"Align Center Top\",\n        alignRightTop: \"Align Right Top\",\n        alignLeftMiddle: \"Align Left Middle\",\n        alignCenterMiddle: \"Align Center Middle\",\n        alignRightMiddle: \"Align Right Middle\",\n        alignLeftBottom: \"Align Left Bottom\",\n        alignCenterBottom: \"Align Center Bottom\",\n        alignRightBottom: \"Align Right Bottom\",\n        alignRemove: \"Remove Alignment\",\n        columns: \"Columns\",\n        rows: \"Rows\",\n        selectAllCells: \"Apply to all cells\",\n        applyToColumn: \"apply to column\",\n        applyToRow: \"apply to row\",\n        exportAs: \"Export As\",\n        \"import\": \"Import\",\n        print: \"Print\",\n        headerRows: \"Header Rows\",\n        headerColumns: \"Header Cols\",\n        tableSummaryPlaceholder: \"Summary attribute is not HTML5 compatible.\",\n        associateNone: \"None\",\n        associateScope: \"Associate using 'scope' attribute\",\n        associateIds: \"Associate using Ids\",\n        copyFormat: \"Copy format\",\n        applyFormat: \"Apply format\",\n        borderNone: \"None\",\n        undo: \"Undo\",\n        redo: \"Redo\"\n    };\n\n    var supportedContentEditable = typeof (document.documentElement.contentEditable) != 'undefined';\n\n    var toolGroups = {\n        basic: [\"bold\", \"italic\", \"underline\", \"strikethrough\"],\n        undo: [\"undo\", \"redo\"],\n        scripts: [\"subscript\", \"superscript\"],\n        alignment: [\"justifyLeft\", \"justifyCenter\", \"justifyRight\", \"justifyFull\"],\n        lines: [\"lineHeight\"],\n        symbols: [\"formattingMarks\"],\n        links: [\"insertImage\", \"insertFile\", \"createLink\", \"unlink\"],\n        lists: [\"insertUnorderedList\", \"insertOrderedList\", \"insertUpperRomanList\", \"insertLowerRomanList\",],\n        dent: [\"indent\", \"outdent\"],\n        tablesWizard: [\"tableProperties\", \"tableCellProperties\"],\n        tablesInsert: [\"createTable\"],\n        tablesAddDelete: [\"addColumnLeft\", \"addColumnRight\", \"addRowAbove\", \"addRowBelow\", \"deleteRow\", \"deleteColumn\"],\n        tablesMerge: [\"mergeCellsHorizontally\", \"mergeCellsVertically\", \"splitCellHorizontally\", \"splitCellVertically\"],\n        tablesPosition: [\"tableAlignLeft\", \"tableAlignCenter\", \"tableAlignRight\"],\n        formatPainter: [\"copyFormat\", \"applyFormat\"]\n    };\n\n    var Editor = Widget.extend({\n        __suppressEditableCheck: false,\n        init: function(element, options) {\n            var that = this,\n                editorNS = kendo.ui.editor,\n                dom = editorNS.Dom,\n                toolbarContainer,\n                type, domElement;\n\n\n            /* suppress initialization in devices w/o proper contenteditable support */\n            if (!supportedContentEditable && !that.__suppressEditableCheck) {\n                return;\n            }\n\n            Widget.fn.init.call(that, element, options);\n\n            that.options = deepExtend({}, that.options, options);\n\n            element = that.element;\n            domElement = element[0];\n            type = dom.name(domElement);\n\n            this._registerHandler(\n                element.closest(\"form\"), \"submit\", that.update.bind(that, undefined)\n            );\n\n            if (that._isAiPromptEnabled()) {\n                that._addAIPromptElements();\n            }\n\n            toolbarContainer = that._setupType(element);\n\n            that._initToolbar(toolbarContainer);\n            that._setupHeight(type);\n            that._resizable();\n            that._initializeContentElement(that);\n            that._setupKeyboard();\n\n            that.clipboard = new editorNS.Clipboard(this);\n            that.undoRedoStack = new kendo.util.UndoRedoStack();\n\n            that._populateValue(options, domElement);\n\n            that._registerHandler(document, {\n                \"mousedown\": function() { that._endTyping(); },\n                \"mouseup\": function(e) { that._mouseup(e); }\n            });\n\n            that._registerHandler(window, \"resize\", that._handleSpaceAndNewLines.bind(that));\n\n            that._initializeImmutables();\n\n            if (type == \"textarea\") {\n                that._ariaLabel(that.wrapper.find(\"iframe\"));\n            }\n\n            that.toolbar.resize();\n\n            that._initInlineOverflowWrapper();\n\n            kendo.notify(that);\n\n            if (that._showWatermarkOverlay) {\n                that._showWatermarkOverlay((that.wrapper && that.wrapper[0]) || that.element[0]);\n            }\n\n            if (that._isAiPromptEnabled()) {\n                that._initAIPrompt();\n            }\n\n            if (that._isInlineAIPromptEnabled()) {\n                that._initInlineAIPrompt();\n            }\n        },\n\n        events: [\n            \"select\",\n            \"change\",\n            \"execute\",\n            \"error\",\n            \"paste\",\n            \"keydown\",\n            \"keyup\"\n        ],\n\n        options: {\n            name: \"Editor\",\n            messages: messages,\n            placeholder: \"\",\n            nonce: \"\",\n            unsafeInline: true,\n            formats: {},\n            encoded: true,\n            formattingMarksRefreshDelay: 250,\n            domain: null,\n            resizable: false,\n            deserialization: {\n                custom: null\n            },\n            serialization: {\n                entities: true,\n                semantic: true,\n                scripts: false,\n                optimizeTags: false,\n                keepEOL: false\n            },\n            pasteCleanup: {\n                all: false,\n                css: false,\n                custom: null,\n                keepNewLines: false,\n                msAllFormatting: false,\n                msConvertLists: true,\n                msTags: true,\n                none: false,\n                span: false\n            },\n            stylesheets: [],\n            dialogOptions: {\n                modal: true, resizable: false, draggable: true,\n                animation: false\n            },\n            imageBrowser: null,\n            fileBrowser: null,\n            navigateOnTab: false,\n            fontName: [\n                { text: \"Arial\", value: \"Arial, Helvetica, sans-serif\" },\n                { text: \"Courier New\", value: \"\\\"Courier New\\\", Courier, monospace\" },\n                { text: \"Georgia\", value: \"Georgia, serif\" },\n                { text: \"Impact\", value: \"Impact, Charcoal, sans-serif\" },\n                { text: \"Lucida Console\", value: \"\\\"Lucida Console\\\", Monaco, monospace\" },\n                { text: \"Tahoma\", value: \"Tahoma, Geneva, sans-serif\" },\n                { text: \"Times New Roman\", value: \"\\\"Times New Roman\\\", Times, serif\" },\n                { text: \"Trebuchet MS\", value: \"\\\"Trebuchet MS\\\", Helvetica, sans-serif\" },\n                { text: \"Verdana\", value: \"Verdana, Geneva, sans-serif\" }\n            ],\n            fontSize: [\n                { text: \"1 (8pt)\", value: \"xx-small\" },\n                { text: \"2 (10pt)\", value: \"x-small\" },\n                { text: \"3 (12pt)\", value: \"small\" },\n                { text: \"4 (14pt)\", value: \"medium\" },\n                { text: \"5 (18pt)\", value: \"large\" },\n                { text: \"6 (24pt)\", value: \"x-large\" },\n                { text: \"7 (36pt)\", value: \"xx-large\" }\n            ],\n            formatBlock: [\n                { text: \"Paragraph\", value: \"p\" },\n                { text: \"Quotation\", value: \"blockquote\" },\n                { text: \"Heading 1\", value: \"h1\" },\n                { text: \"Heading 2\", value: \"h2\" },\n                { text: \"Heading 3\", value: \"h3\" },\n                { text: \"Heading 4\", value: \"h4\" },\n                { text: \"Heading 5\", value: \"h5\" },\n                { text: \"Heading 6\", value: \"h6\" }\n            ],\n            tools: [\n                \"formatting\",\n                \"bold\",\n                \"italic\",\n                \"underline\",\n                \"undo\",\n                \"redo\",\n                \"justifyLeft\",\n                \"justifyCenter\",\n                \"justifyRight\",\n                \"copyFormat\",\n                \"applyFormat\",\n                \"insertUnorderedList\",\n                \"insertOrderedList\",\n                \"indent\",\n                \"outdent\",\n                \"createLink\",\n                \"unlink\",\n                \"insertImage\",\n                \"tableProperties\",\n                \"tableCellProperties\",\n                \"createTable\",\n                \"addRowAbove\",\n                \"addRowBelow\",\n                \"addColumnLeft\",\n                \"addColumnRight\",\n                \"deleteRow\",\n                \"deleteColumn\",\n                \"mergeCellsHorizontally\",\n                \"mergeCellsVertically\",\n                \"splitCellHorizontally\",\n                \"splitCellVertically\",\n                \"tableAlignLeft\",\n                \"tableAlignCenter\",\n                \"tableAlignRight\"\n            ],\n            ai: false\n        },\n\n        destroy: function() {\n            var editor = this;\n\n            Widget.fn.destroy.call(this);\n\n            this._endTyping(true);\n\n            this._deregisterHandlers();\n\n            clearTimeout(this._spellCorrectTimeout);\n\n            this._focusOutside();\n\n            this.toolbar.destroy();\n\n            if (this.windowInstance) {\n                this.windowInstance.destroy();\n            }\n            if (this.tablePopup) {\n                this.tablePopup.destroy();\n            }\n\n            editor._destroyUploadWidget();\n\n            if (this.interSectionObserver) {\n                this.interSectionObserver.disconnect();\n                this.interSectionObserver = null;\n            }\n\n            if (this.resizeObserver) {\n                this.resizeObserver.disconnect();\n                this.resizeObserver = null;\n                this.wrapper.css(\"min-height\", \"\");\n                this.wrapper.css(\"max-height\", \"\");\n            }\n\n            editor._destroyResizings();\n\n            editor._destroyFormattingMarksOverlay();\n\n            kendo.destroy(this.wrapper);\n        },\n\n        setOptions: function(options) {\n            var editor = this;\n\n            Widget.fn.setOptions.call(editor, options);\n\n            if (options.tools) {\n                this._setOptionsTools(options.tools);\n            }\n\n            this._initializePlaceholder();\n        },\n\n        createRange: function(document) {\n            return kendo.ui.editor.RangeUtils.createRange(document || this.document);\n        },\n\n        encodedValue: function() {\n            return kendo.ui.editor.Dom.encode(this.value());\n        },\n\n        exec: function(name, params) {\n            var that = this;\n            var command = null;\n            var defaultTools = kendo.ui.Editor.defaultTools;\n            var range, tool, prevented;\n\n            if (!name) {\n                throw new Error(\"kendoEditor.exec(): `name` parameter cannot be empty\");\n            }\n\n            if (that.body.getAttribute(\"contenteditable\") !== \"true\" &&\n                name !== \"print\" &&\n                name !== \"pdf\" &&\n                name !== \"exportAs\") {\n                return false;\n            }\n\n            if (!that.keyboard.isTypingInProgress()) {\n                that._focusBody();\n                that.selectRange(that._range || that.getRange());\n            }\n\n            tool = that.tools[name] || defaultTools[name];\n\n            if (!tool) {\n                Object.keys(defaultTools).map(key => {\n                    if (key.toLowerCase() === name) {\n                        tool = defaultTools[key];\n                    }\n                });\n            }\n\n            if (tool) {\n                range = that.getRange();\n\n                if (tool.command) {\n                    command = tool.command(extend({ range: range, body: that.body, immutables: !!that.immutables }, params));\n                }\n\n                prevented = that.trigger(\"execute\", { name: name, command: command });\n\n                if (prevented) {\n                    return;\n                }\n\n                if (/^(undo|redo)$/i.test(name)) {\n                    that.undoRedoStack[name]();\n                } else if (command) {\n                    that.execCommand(command);\n\n                    if (command.async) {\n                        command.change = that._commandChange.bind(that);\n                        return;\n                    }\n                }\n\n                // Prevent double execution when the formatting marks tool is used.\n                if (name !== \"formattingMarks\") {\n                    that._handleSpaceAndNewLines();\n                }\n                that._selectionChange();\n            }\n        },\n\n        _commandChange: function() {\n            const that = this;\n            that._selectionChange();\n            that._handleSpaceAndNewLines();\n        },\n\n        execCommand: function(command) {\n            if (!command.managesUndoRedo) {\n                this.undoRedoStack.push(command);\n            }\n\n            command.editor = this;\n            command.exec();\n        },\n\n        focus: function() {\n            this.restoreSelection();\n        },\n\n        getRange: function() {\n            var selection = this.getSelection(),\n                range = selection && selection.rangeCount > 0 ? selection.getRangeAt(0) : this.createRange(),\n                doc = this.document;\n\n            if (range.startContainer == doc && range.endContainer == doc && !range.startOffset && !range.endOffset) {\n                range.setStart(this.body, 0);\n                range.collapse(true);\n            }\n\n            return range;\n        },\n\n        getSelection: function() {\n            return kendo.ui.editor.SelectionUtils.selectionFromDocument(this.document);\n        },\n\n        paste: function(html, options) {\n            this.focus();\n\n            var command = new kendo.ui.editor.InsertHtmlCommand($.extend({\n                range: this.getRange(),\n                html: html\n            }, options));\n\n            command.editor = this;\n\n            command.exec();\n        },\n\n        insertAfterSelection: function(html, options) {\n            this.focus();\n            // Insert content after the current selection\n            const range = this.getRange();\n            range.collapse(false); // Move caret to the end of the selection\n            var command = new kendo.ui.editor.InsertHtmlCommand($.extend({\n                range: range,\n                html: html\n            }, options));\n\n            command.editor = this;\n\n            command.exec();\n        },\n\n        refresh: function() {\n            var that = this;\n\n            if (that.textarea) {\n                that._destroyResizings();\n                // preserve updated value before re-initializing\n                // don't use update() to prevent the editor from encoding the content too early\n                var value = that.value();\n                that.textarea.val(value);\n                that.wrapper.find(\"iframe\").remove();\n                that._initializeContentElement(that);\n                that.value(value);\n            }\n        },\n\n        restoreSelection: function() {\n            this._focusBody();\n\n            if (this.selectionRestorePoint) {\n                this.selectRange(this.selectionRestorePoint.toRange());\n            }\n        },\n\n        saveSelection: function(range) {\n            range = range || this.getRange();\n            var container = range.commonAncestorContainer,\n                body = this.body;\n\n            if (container == body || $.contains(body, container)) {\n                this.selectionRestorePoint = new kendo.ui.editor.RestorePoint(range, body);\n            }\n        },\n\n        selectedHtml: function() {\n            return kendo.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents());\n        },\n\n        selectRange: function(range) {\n            this._focusBody();\n            var selection = this.getSelection();\n            selection.removeAllRanges();\n            selection.addRange(range);\n            this.saveSelection(range);\n        },\n\n        state: function(toolName) {\n            var tool = kendo.ui.Editor.defaultTools[toolName];\n            var finder = tool && (tool.options.finder || tool.finder);\n            var RangeUtils = kendo.ui.editor.RangeUtils;\n            var range, textNodes;\n\n            if (finder) {\n                range = this.getRange();\n\n                textNodes = RangeUtils.textNodes(range);\n\n                if (!textNodes.length && range.collapsed) {\n                    textNodes = [range.startContainer];\n                }\n\n                return finder.getFormat ? finder.getFormat(textNodes) : finder.isFormatted(textNodes);\n            }\n\n            return false;\n        },\n\n        update: function(value) {\n            value = value || this.options.encoded ? this.encodedValue() : this.value();\n\n            if (this.textarea) {\n                this.textarea.val(value);\n                this._togglePlaceholder(!value.trim());\n            } else {\n                this._oldValue = value;\n            }\n        },\n\n        value: function(html) {\n            var body = this.body,\n                editorNS = kendo.ui.editor,\n                options = this.options,\n                currentHtml = editorNS.Serializer.domToXhtml(body, options.serialization);\n\n            if (html === undefined) {\n                return currentHtml;\n            }\n\n            if (html == currentHtml) {\n                return;\n            }\n\n            editorNS.Serializer.htmlToDom(html, body, options.deserialization);\n\n            this.selectionRestorePoint = null;\n            this.update();\n            this._refreshTools();\n        },\n\n        _bindTools: function() {\n            var that = this,\n                defaultTools = this.tools;\n\n            that.unbind(\"select\", that.toolbar.resize.bind(that.toolbar));\n\n            that.toolbar.element.find(\"[data-command]\")\n                .filter((i, el) => $(el).find(\"[data-command]\").length === 0)\n                .each((i, el) => {\n                    var toolName = el.getAttribute(\"data-command\"),\n                        tool = defaultTools[toolName];\n\n                    if (tool && tool.initialize) {\n                        tool.initialize($(el), that);\n                    }\n                });\n\n            that.bind(\"select\", that.toolbar.resize.bind(that.toolbar));\n        },\n\n        _blur: function() {\n            var textarea = this.textarea;\n            var old = textarea ? textarea.val() : this._oldValue;\n            var value = this.options.encoded ? this.encodedValue() : this.value();\n\n            this.update();\n\n            if (textarea) {\n                textarea.trigger(\"blur\");\n            }\n\n            if (value != old) {\n                this.trigger(\"change\");\n                if (textarea) {\n                    textarea.trigger(\"change\");\n                }\n            }\n        },\n\n        _containsRange: function(range) {\n            var dom = kendo.ui.editor.Dom;\n            var body = this.body;\n            return range && dom.isAncestorOrSelf(body, range.startContainer) &&\n                dom.isAncestorOrSelf(body, range.endContainer);\n        },\n\n        _createContentElement: function(stylesheets) {\n            var editor = this;\n            var iframe, wnd, doc;\n            var textarea = editor.textarea;\n            var specifiedDomain = editor.options.domain;\n            var domain = specifiedDomain || document.domain;\n            var domainScript = \"\";\n            var src = 'javascript:\"\"';\n            var lang = \"\";\n\n            textarea.hide();\n\n            iframe = $(\"<iframe />\", { title: editor.options.messages.editAreaTitle, frameBorder: \"0\" })[0];\n\n            $(iframe)\n                .css(\"display\", \"\")\n                .addClass(\"k-content k-iframe\")\n                .attr(\"tabindex\", textarea[0].tabIndex)\n                .insertBefore(textarea);\n\n            // automatically relax same-origin policy if document.domain != location.hostname,\n            // or forcefully relax if options.domain is specified (for document.domain = document.domain scenario)\n            if (specifiedDomain || domain != location.hostname) {\n                // relax same-origin policy\n                domainScript = `<script ${editor.options.nonce ? `nonce=\"${editor.options.nonce}\"` : \"\"}>document.domain=\"${domain}\"</script>`;\n                src = \"javascript:document.write('\" + domainScript + \"')\";\n                iframe.src = src;\n            }\n\n            if (!iframe.src) {\n                iframe.src = \"\";\n            }\n\n            wnd = iframe.contentWindow || iframe;\n            doc = wnd.document || iframe.contentDocument;\n\n            // https://github.com/telerik/kendo-ui-core/issues/7561\n            const observer = editor.interSectionObserver = new IntersectionObserver(entries => {\n                for (const entry of entries) {\n                    if (entry.isIntersecting) {\n                        editor._decorateFormatting(doc.body);\n                        observer.unobserve(iframe);\n                    }\n                }\n            });\n            observer.observe(iframe);\n\n            lang = document.getElementsByTagName(\"html\")[0].getAttribute(\"lang\") || DEFAULT_LANGUAGE;\n\n            doc.open();\n            doc.write(\n                \"<!DOCTYPE html><html lang='\" + lang + \"'><head>\" +\n                \"<meta charset='utf-8' />\" +\n                \"<title>Kendo UI Editor content</title>\" +\n                `<style ${editor.options.nonce ? `nonce=\"${editor.options.nonce}\"` : \"\"}>` +\n                \"html{padding:0;margin:0;height:100%;min-height:100%;cursor:text;}\" +\n                \"body{padding:0;margin:0;}\" +\n                \"body{box-sizing:border-box;font-size:12px;font-family:Verdana,Geneva,sans-serif;margin-top:-1px;padding:5px .4em 0;\" +\n                \"word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;\" +\n                (kendo.support.isRtl(textarea) ? \"direction:rtl;\" : \"\") +\n                (os.ios ? \"word-break:keep-all;\" : \"\") +\n                (browser.edge || browser.chrome ? \"height:100%;\" : \"\") +\n                \"}\" +\n                \"h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}\" +\n                \"p{margin:0 0 1em;}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}\" +\n                \"ul,ol{padding-left:2.5em}\" +\n                \"span{-ms-high-contrast-adjust:none;}\" +\n                \"a{color:#00a}\" +\n                \"code{font-size:1.23em}\" +\n                \"telerik\\\\3Ascript{display: none;}\" +\n                \".k-table{width:100%;border-spacing:0;margin: 0 0 1em;}\" +\n                \".k-table td{min-width:1px;padding:.2em .3em;}\" +\n                \".k-table,.k-table td{outline:0;border: 1px dotted #ccc;}\" +\n                \".k-table th{outline:0;border: 1px dotted #999;}\" +\n                \".k-table p{margin:0;padding:0;}\" +\n                \".k-column-resize-handle-wrapper {position: absolute; height: 10px; width:10px; cursor: col-resize; z-index: 2;}\" +\n                \".k-column-resize-handle {width: 100%; height: 100%;}\" +\n                \".k-column-resize-handle > .k-column-resize-marker {width:2px; height:100%; margin:0 auto; background-color:#00b0ff; display:none; opacity:0.8;}\" +\n                \".k-row-resize-handle-wrapper {position: absolute; cursor: row-resize; z-index:2; width: 10px; height: 10px;}\" +\n                \".k-row-resize-handle {display: table; width: 100%; height: 100%;}\" +\n                \".k-row-resize-marker-wrapper{display: table-cell; height:100%; width:100%; margin:0; padding:0; vertical-align: middle;}\" +\n                \".k-row-resize-marker{margin: 0; padding:0; width:100%; height:2px; background-color: #00b0ff; opacity:0.8; display:none;}\" +\n                \".k-element-resize-handle-wrapper {position: absolute; background-color: #fff; border: 1px solid #000; z-index: 100; width: 5px; height: 5px;}\" +\n                \".k-element-resize-handle {width: 100%; height: 100%;}\" +\n                \".k-element-resize-handle.k-resize-east{cursor:e-resize;}\" +\n                \".k-element-resize-handle.k-resize-north{cursor:n-resize;}\" +\n                \".k-element-resize-handle.k-resize-northeast{cursor:ne-resize;}\" +\n                \".k-element-resize-handle.k-resize-northwest{cursor:nw-resize;}\" +\n                \".k-element-resize-handle.k-resize-south{cursor:s-resize;}\" +\n                \".k-element-resize-handle.k-resize-southeast{cursor:se-resize;}\" +\n                \".k-element-resize-handle.k-resize-southwest{cursor:sw-resize;}\" +\n                \".k-element-resize-handle.k-resize-west{cursor:w-resize;}\" +\n                \".k-table.k-element-resizing{opacity:0.6;}\" +\n                \".k-placeholder{color:grey}\" +\n                \"k\\\\:script{display:none;}\" +\n                \"</style>\" +\n                domainScript +\n                $.map(stylesheets, function(href) {\n                    return `<link rel='stylesheet' href='${href}' ${editor.options.nonce ? `nonce=\"${editor.options.nonce}\"` : \"\"}>`;\n                }).join(\"\") +\n                `</head><body id='${editor.element.attr(\"id\")}' autocorrect='off' contenteditable='true'></body></html>`\n            );\n            doc.close();\n\n            return wnd;\n        },\n\n        _deleteSavedRange: function() {\n            if (\"_range\" in this) {\n                delete this._range;\n            }\n        },\n\n        _decorateFormatting: function(body) {\n            var formattingElement = this.toolbar.element.find(\"input[data-command=formatting]\"),\n                dom = kendo.ui.editor.Dom,\n                component, dataSource, items, i, tag, className, style;\n\n            if (formattingElement.length) {\n                component = formattingElement.getKendoDropDownList();\n                if (!component) {\n                    return;\n                }\n                dataSource = component.dataSource;\n                items = dataSource.data();\n\n                if (body) {\n                    component.list.css(\"background-color\", dom.getEffectiveBackground($(body)));\n                }\n\n                if (this.options.unsafeInline !== false) {\n\n                    for (i = 0; i < items.length; i++) {\n                        tag = items[i].tag || \"span\";\n                        className = items[i].className;\n\n                        style = dom.inlineStyle(body, tag, { className: className });\n                        style = style.replace(/\"/g, \"'\");\n\n                        items[i].style = style + \";display:inline-block\";\n                    }\n                }\n\n                dataSource.trigger(\"change\");\n            }\n        },\n\n        _appendFormattingMarksStyles: function() {\n            const that = this,\n                elementId = that.element.attr(\"id\");\n\n            let style, $head;\n\n            style = `<style id='${FORMATTING_MARKS_STYLE_ID + \"-\" + elementId}' ${that.options.nonce ? `nonce=\"${that.options.nonce}\"` : \"\"} >\n                #${elementId} p::after,\n                #${elementId} li::after,\n                #${elementId} h1::after,\n                #${elementId} h2::after,\n                #${elementId} h3::after,\n                #${elementId} h4::after,\n                #${elementId} h5::after,\n                #${elementId} h6::after {content: '\\\\00B6'; color: #6098f2;}\n                #${FORMATTING_MARKS_OVERLAY_WRAPPER_ID + \"-\" + elementId} {\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    width: 100%;\n                    z-index: 9999;\n                    pointer-events: none;\n                }\n                #${FORMATTING_MARKS_OVERLAY_ID + \"-\" + elementId} {\n                    width: 100%;\n                    height: 100%;\n                  }\n            </style>`;\n\n            $head = $(that.document.head);\n            $head.find(\"#\" + FORMATTING_MARKS_STYLE_ID + \"-\" + elementId).remove();\n            $head.append(style);\n        },\n\n        _appendFormattingMarksOverlay: function() {\n            const that = this,\n                elementId = that.element.attr(\"id\");\n\n            that._formattingMarksOverlayWrapper = $(`<div id='${FORMATTING_MARKS_OVERLAY_WRAPPER_ID + \"-\" + elementId}'></div>`);\n            that._formattingMarksOverlay = $(`<svg id='${FORMATTING_MARKS_OVERLAY_ID + \"-\" + elementId}'></svg>`).appendTo(that._formattingMarksOverlayWrapper);\n            that._bodyTopBottomPaddings = parseFloat($(that.body).css(\"padding-top\")) + parseFloat($(that.body).css(\"padding-bottom\"));\n\n            if (that._isInlineEditor()) {\n                that._formattingMarksOverlayWrapper.insertAfter(that.element);\n            } else {\n                that._formattingMarksOverlayWrapper.appendTo($(that.document).find(\"html\"));\n            }\n        },\n\n        _destroyFormattingMarksOverlay: function() {\n            const that = this,\n                elementId = that.element.attr(\"id\");\n\n            $(that.document).find(\"#\" + FORMATTING_MARKS_OVERLAY_WRAPPER_ID + \"-\" + elementId).remove();\n            $(that.document.head).find(\"#\" + FORMATTING_MARKS_STYLE_ID + \"-\" + elementId).remove();\n        },\n\n        _updateFormattingMarksOverlayHeight: function() {\n            const that = this;\n\n            if (that._isInlineEditor()) {\n                that._formattingMarksOverlayWrapper.height($(that.body).outerHeight());\n            } else {\n                that._formattingMarksOverlayWrapper.height(that.body.scrollHeight - that._bodyTopBottomPaddings);\n            }\n        },\n\n        _initInlineOverflowWrapper: function() {\n            const that = this,\n                inlineHeight = that.options.inlineHeight;\n\n            if (that._isInlineEditor() && inlineHeight > -1) {\n                that._inlineOverflowWrapper = that.element.wrap(`<div class='k-inline-editor-overflow-wrapper k-pos-relative k-overflow-auto'></div>`).parent();\n                that._inlineOverflowWrapper.height(inlineHeight);\n            }\n        },\n\n        _addAIPromptElements: function() {\n            const that = this;\n            const splitterElement = $('<div/>');\n            const aiPromptElement = $('<div/>');\n\n\n            that.splitterElement = splitterElement;\n            that.aiPromptElement = aiPromptElement;\n            splitterElement.insertBefore(that.element);\n            aiPromptElement.appendTo(splitterElement);\n            that.element.appendTo(splitterElement);\n        },\n\n        _initInlineAIPrompt: function() {\n            const that = this;\n            const element = $(\"<div/>\").insertAfter(that.element);\n            const defaultCommands = that._mapCommands(that.options.ai?.inlineAIPrompt?.commands || that.options.ai?.commands || kendo.ui.InlineAIPrompt.fn.options.commands);\n\n            that.inlineAIPrompt = element.kendoInlineAIPrompt({\n                popup: {\n                    width: \"768px\"\n                },\n                service: that.options.ai?.service,\n                commands: defaultCommands,\n                _isEditor: true,\n                systemPrompt: that.options.ai?.inlineAIPrompt?.systemPrompt,\n                commandExecute: (e) => {\n                    e.context = that.getRange().toString();\n                },\n                outputAction: (e) => {\n                    if (e.action === 'insert') {\n                        that.insertAfterSelection(e.content);\n                    }\n\n                    if (e.action === 'replace') {\n                        that.paste(e.content);\n                    }\n                }\n            }).data('kendoInlineAIPrompt');\n        },\n\n        _mapCommands: function(commands, parentId = null) {\n            const that = this;\n\n            return commands.map((command, i) => {\n                const id = parentId ? `${parentId}-${i}` : `${i}`;\n                const item = {\n                    id: id,\n                    text: command.text,\n                    icon: command.icon\n                };\n\n                if (command.prompt) {\n                    item.prompt = command.prompt;\n                }\n\n                if (command.items) {\n                    item.items = that._mapCommands(command.items, id);\n                }\n\n                return item;\n            });\n        },\n\n        _isAiPromptEnabled() {\n            const that = this;\n\n            return that.options.ai && that.options.ai.aiPrompt != false;\n        },\n\n        _isInlineAIPromptEnabled() {\n            const that = this;\n\n            return that.options.ai && that.options.ai.inlineAIPrompt != false;\n        },\n\n        _initAIPrompt: function() {\n            const that = this;\n            const defaultCommands = that.options.ai?.aiPrompt?.commands || that.options.ai?.commands || that._mapCommands(kendo.ui.InlineAIPrompt.fn.options.commands);\n\n            that.aiPrompt = that.aiPromptElement.kendoAIPrompt($.extend({\n                service: that.options.ai?.service,\n                speechToText: false,\n                promptTextArea: {\n                    rows: 5,\n                    suffixOptions: {\n                        template: () => `<div ref-select-context-buttongroup></div>`\n                    }\n                },\n                views: [\n                    {\n                        type: 'prompt',\n                        buttonIcon: \"\",\n                        initializeComponents: (e) => {\n                            let view = e.view;\n                            view.contentElement.find('[ref-select-context-buttongroup]').kendoButtonGroup({\n                                index: that._contextSelection,\n                                items: [\n                                    { text: \"Use with selection\", icon: \"box-sizing\" },\n                                    { text: \"Use full content\", icon: \"form-element\" }\n                                ],\n                                selection: \"multiple\",\n                                fillMode: \"flat\",\n                                select: (e) => {\n                                    let selectionToggleButton = e.sender._buttons[0];\n                                    let fullContentToggleButton = e.sender._buttons[1];\n\n                                    if (e.indices.length > 1) {\n                                        if (e.target[0] == selectionToggleButton.element[0]) {\n                                            fullContentToggleButton.toggle(false);\n                                            e.sender._toggleIndex(1);\n                                        } else {\n                                            selectionToggleButton.toggle(false);\n                                            e.sender._toggleIndex(0);\n                                        }\n                                    }\n\n                                    that._contextSelection = e.indices[0];\n                                }\n                            });\n                        },\n                    },\n                    {\n                        type: 'output',\n                    },\n                    {\n                        type: 'commands',\n                        promptCommands: defaultCommands\n                    }\n                ],\n                promptRequest: (e) => {\n                    const contextSelection = that._contextSelection;\n                    let prompt = e.prompt;\n\n                    if (contextSelection === 0) {\n                        prompt = that._contextTemplate(prompt, that.getRange().toString());\n                    } else if (contextSelection === 1) {\n                        prompt = that._contextTemplate(prompt, that.value());\n                    } else {\n                        prompt = that._contextTemplate(prompt, \"\");\n                    }\n\n                    if (e.prompt != prompt) {\n                        e.prompt = prompt;\n                    }\n                },\n                commandExecute: (e) => {\n                    const prompt = e.item.prompt;\n\n                    if (prompt) {\n                        that.aiPrompt.transport.read({\n                            prompt: prompt(that.value()),\n                            history: [],\n                            isRetry: false\n                        });\n                    }\n                }\n            }, that.options.ai?.aiPrompt)).data('kendoAIPrompt');\n            that.aiPromptSplitter = that.splitterElement.kendoSplitter({\n                panes: [$.extend({\n                    size: '50%',\n                    collapsible: true,\n                    collapsed: true,\n                    min: \"360px\"\n                }, that.options.ai?.pane), {}]\n            }).data('kendoSplitter');\n\n            if (that._isInlineAIPromptEnabled()) {\n                that.bind(\"select\", that._selectionChangeHandler.bind(that));\n            }\n        },\n\n        _contextTemplate: function(query, context) {\n            const that = this;\n            const defaultTemplate = `You are an advanced AI language assistant.\n            A user has selected a portion of their text and provided a query regarding how they want it modified.\n            Your task is to accurately respond to their request while preserving the original intent of the text.\n            Follow the instructions strictly and provide only the requested output unless explicitly asked to explain your changes.\n\n            ${context ? \"Selected Text:\" : \"\"}\n            ${context}\n\n            User's Request:\n            ${query}\n\n            Response:`;\n\n            if (!that.options.ai?.aiPrompt?.systemPrompt) {\n                return defaultTemplate;\n            }\n\n            return that.options.ai?.aiPrompt?.systemPrompt(query, context);\n        },\n\n        _selectionChangeHandler: function() {\n            const that = this,\n                range = that.getRange(),\n                selectionRect = range.getBoundingClientRect(),\n                elementRect = that.wrapper[0].getBoundingClientRect(),\n                editorNS = kendo.ui.editor,\n                rangeUtils = editorNS.RangeUtils,\n                nodes = rangeUtils.textNodes(range);\n\n            if (nodes.length === 0) {\n                that.inlineAIPrompt._popup.close();\n                return;\n            }\n\n            that.inlineAIPrompt._popup.open();\n            const popupHeight = that.inlineAIPrompt._popup.element.outerHeight();\n            const popupWidth = that.inlineAIPrompt._popup.element.outerWidth();\n            let y = window.scrollY + elementRect.top + selectionRect.top + selectionRect.height;\n            let x = window.scrollX + elementRect.left + selectionRect.left + selectionRect.width / 2 - popupWidth / 2;\n            that.inlineAIPrompt._popup.close(true);\n\n            if (window.innerHeight - selectionRect.bottom < popupHeight) {\n                y -= popupHeight;\n            } else {\n                y += popupHeight;\n            }\n\n            if (x + popupWidth > window.innerWidth + window.scrollX) {\n                x = window.innerWidth + window.scrollX - popupWidth;\n            }\n\n            that.inlineAIPrompt._popup.open(x, y);\n        },\n\n        _getSelectionPosition: function() {\n            const that = this;\n            const range = that.getRange();\n            const selectionRect = range.getBoundingClientRect();\n        },\n\n        _initContextMenu: function() {\n            const that = this;\n            const html = $(`<ul>\n                            <li>${kendo.html.renderIcon({ icon: 'arrow-rotate-cw' })} Rewrite</li>\n                            <li>${kendo.html.renderIcon({ icon: 'spell-checker' })} Fix mistakes</li>\n                            <li>${kendo.html.renderIcon({ icon: 'tell-a-friend' })} Change tone\n                                <ul>\n                                    <li>Neutral</li>\n                                    <li>Friendly</li>\n                                    <li>Casual</li>\n                                    <li>Formal</li>\n                                </ul>\n                            </li>\n                            <li>${kendo.html.renderIcon({ icon: 'apply-format' })} Polish formatting\n                            <li>${kendo.html.renderIcon({ icon: 'col-resize' })} Adjust length\n                            <li>${kendo.html.renderIcon({ icon: 'edit-tools' })} Translate\n                        </ul>`);\n\n            $('body').append(html);\n\n            that._aiContextMenu = html.kendoContextMenu({ targe: \"imposibru\" }).data('kendoContextMenu');\n        },\n\n        _insertAIResult: function() {\n            const that = this,\n                aiResult = \"Test ai result\";\n\n            that.paste(aiResult);\n        },\n\n        _deregisterHandlers: function() {\n            var handlers = this._handlers;\n\n            for (var i = 0; i < handlers.length; i++) {\n                var h = handlers[i];\n                h.element.off(h.type, h.handler);\n            }\n\n            this._handlers = [];\n        },\n\n        _destroyUploadWidget: function() {\n            var editor = this;\n            if (editor._uploadWidget) {\n                editor._uploadWidget.destroy();\n                editor._uploadWidget = null;\n            }\n        },\n\n        _endTyping: function() {\n            var keyboard = this.keyboard;\n\n            try {\n                if (keyboard.isTypingInProgress()) {\n                    keyboard.endTyping(true);\n                    this.saveSelection();\n                }\n            } catch (e) { }\n        },\n\n        _focusBody: function() {\n            var body = this.body;\n            var iframe = this.wrapper && this.wrapper.find(\"iframe\")[0];\n            var documentElement = this.document.documentElement;\n            var activeElement = kendo._activeElement();\n            var scrollTop;\n\n\n            if (!iframe && body.scrollHeight > body.clientHeight) {\n                scrollTop = body.scrollTop;\n                body.focus();\n                body.scrollTop = scrollTop;\n\n            } else if (activeElement != body && activeElement != iframe) {\n                scrollTop = documentElement.scrollTop;\n                body.focus();\n                documentElement.scrollTop = scrollTop;\n            }\n        },\n\n        _focusOutside: function() {\n            // move focus outside the Editor, see https://github.com/telerik/kendo/issues/3673\n            if (kendo.support.browser.msie && this.textarea) {\n                var tempInput = $(\"<input />\")\n                    .css({\n                        position: \"fixed\",\n                        left: \"1px\",\n                        top: \"1px\",\n                        width: \"1px\",\n                        height: \"1px\",\n                        \"font-size\": \"0\",\n                        border: \"0\",\n                        opacity: \"0\"\n                    })\n                    .appendTo(document.body).trigger(\"focus\");\n                tempInput.trigger(\"blur\").remove();\n            }\n        },\n\n        _handleToolbarClick: function(e) {\n            var toolName = e.target.data(\"command\");\n\n            if (toolName && toolName !== \"createTable\") {\n                this.exec(toolName);\n            }\n        },\n\n        _immutablesContext: function(range) {\n            var editorNS = kendo.ui.editor;\n\n            if (this.options.immutables) {\n                if (range.collapsed) {\n                    return editorNS.Immutables.immutablesContext(range);\n                } else {\n                    return editorNS.RangeUtils.editableTextNodes(range).length === 0;\n                }\n            }\n        },\n\n        _initializeContentElement: function() {\n            var editor = this;\n            var doc;\n            var blurTrigger;\n            var mousedownTrigger;\n\n            if (editor.textarea) {\n                editor.window = editor._createContentElement(editor.options.stylesheets);\n                doc = editor.document = editor.window.contentDocument || editor.window.document;\n\n                // Ensure that body exists as various Firefox plugins can cause a delay of the body creation\n                // https://github.com/telerik/kendo-ui-core/issues/3515\n                if (!doc.body) {\n                    var body = doc.createElement(\"body\");\n                    body.setAttribute(\"contenteditable\", \"true\");\n                    body.setAttribute(\"autocorrect\", \"off\");\n                    doc.getElementsByTagName(\"html\")[0].appendChild(body);\n\n                    var interval = setInterval(function() {\n                        if ($(editor.document).find(\"body\").length > 1) {\n                            $(editor.document).find(\"body\").last().remove();\n                            window.clearInterval(interval);\n                        }\n                    }, 10);\n                }\n\n                editor.body = doc.body;\n\n                blurTrigger = editor.window;\n                mousedownTrigger = doc;\n\n                this._registerHandler(doc, \"mouseup\", this._mouseup.bind(this));\n            } else {\n                editor.window = window;\n                doc = editor.document = document;\n                editor.body = editor.element[0];\n\n                blurTrigger = editor.body;\n                mousedownTrigger = editor.body;\n\n                editor._wrapSingleTextNodeInParagraph();\n\n                setTimeout(() => {\n                    editor._decorateFormatting(editor.body);\n                });\n            }\n\n            this._registerHandler(blurTrigger, \"blur\", this._blur.bind(this));\n            editor._registerHandler(mousedownTrigger, \"down\", editor._mousedown.bind(editor));\n\n            try {\n                doc.execCommand(\"enableInlineTableEditing\", null, false);\n            } catch (e) { }\n\n            if (kendo.support.touch) {\n                this._registerHandler(doc, {\n                    \"keydown\": function() {\n                        // necessary in iOS when touch events are bound to the page\n                        if (kendo._activeElement() != doc.body) {\n                            editor.window.focus();\n                        }\n                    }\n                });\n            }\n\n            this._initializePlaceholder();\n\n            this._spellCorrect(editor);\n\n            this._registerHandler(editor.document, {\n                \"mouseover dragenter\": function(e) {\n                    var height = $(editor.body).height();\n                    var htmlHeight = $(editor.body.parentElement).height();\n\n                    if (htmlHeight > height && e.target.nodeName.toLowerCase() === \"html\") {\n                        editor._cachedHeight = \"\" + editor.body.style.height;\n                        editor.body.style.height = \"100%\";\n                    }\n                },\n                \"mouseout dragleave drop contextmenu\": function(e) {\n                    var restoreHeight = function() {\n                        if (editor._cachedHeight !== undefined && e.target === editor.body) {\n                            editor.body.style.height = editor._cachedHeight;\n                            delete editor._cachedHeight;\n                        }\n                    };\n\n                    if (e.type === \"contextmenu\") {\n                        setTimeout(function() {\n                            restoreHeight();\n                        }, 10);\n                    } else {\n                        restoreHeight();\n                    }\n\n                }\n            });\n\n            this._registerHandler(editor.body, {\n                \"keydown\": function(e) {\n                    var range;\n\n                    if ((e.keyCode === keys.BACKSPACE || e.keyCode === keys.DELETE) && editor.body.getAttribute(\"contenteditable\") !== \"true\") {\n                        return false;\n                    }\n\n                    if (e.keyCode === keys.F10) {\n                        editor.toolbar.element.find(\"[tabindex=0]\").first().trigger(\"focus\");\n                        editor.toolbar.preventPopupHide = true;\n                        e.preventDefault();\n                        return;\n                    } else if (e.keyCode == keys.LEFT || e.keyCode == keys.RIGHT) {\n                        // skip bom nodes when navigating with arrows\n                        range = editor.getRange();\n                        var left = e.keyCode == keys.LEFT;\n                        var container = range[left ? \"startContainer\" : \"endContainer\"];\n                        var offset = range[left ? \"startOffset\" : \"endOffset\"];\n                        var direction = left ? -1 : 1;\n\n                        var next = offset + direction;\n                        var nextChar = left ? next : offset;\n\n                        if (container.nodeType == 3 && container.nodeValue[nextChar] == \"\\ufeff\") {\n                            range.setStart(container, next);\n                            range.collapse(true);\n                            editor.selectRange(range);\n                        }\n                    }\n\n                    var tools = editor.tools;\n                    var toolName = editor.keyboard.toolFromShortcut(tools, e);\n                    var toolOptions = toolName ? tools[toolName].options : {};\n\n                    if (toolName && !toolOptions.keyPressCommand) {\n                        e.preventDefault();\n\n                        if (!/^(undo|redo)$/.test(toolName)) {\n                            editor.keyboard.endTyping(true);\n                        }\n\n                        editor.trigger(\"keydown\", e);\n                        editor.exec(toolName);\n                        editor._runPostContentKeyCommands(e);\n\n                        return false;\n                    }\n\n                    editor.keyboard.clearTimeout();\n\n                    editor.keyboard.keydown(e);\n                },\n                \"keypress\": function(e) {\n                    setTimeout(function() {\n                        editor._runPostContentKeyCommands(e);\n                        editor._showElementResizeHandles();\n                    }, 0);\n                },\n                \"keyup\": function(e) {\n                    var selectionCodes = [\n                        keys.BACKSPACE,\n                        keys.TAB,\n                        keys.PAGEUP,\n                        keys.PAGEDOWN,\n                        keys.END,\n                        keys.HOME,\n                        keys.LEFT,\n                        keys.UP,\n                        keys.RIGHT,\n                        keys.DOWN,\n                        keys.INSERT,\n                        keys.DELETE\n                    ];\n\n                    if ($.inArray(e.keyCode, selectionCodes) > -1 || (e.keyCode == 65 && e.ctrlKey && !e.altKey && !e.shiftKey)) {\n                        window.clearTimeout(this._refreshInterval);\n                        this._refreshInterval = window.setTimeout(function() {\n                            editor._selectionChange();\n                        }, REFRESH_INTERVAL);\n                    }\n\n                    if (e.keyCode === keys.BACKSPACE || e.keyCode === keys.DELETE) {\n                        editor._handleSpaceAndNewLines();\n                    }\n\n                    editor.keyboard.keyup(e);\n                },\n                \"click\": function(e) {\n                    var dom = kendo.ui.editor.Dom, range;\n\n                    if (dom.name(e.target) === \"img\") {\n                        range = editor.createRange();\n                        range.selectNode(e.target);\n                        editor.selectRange(range);\n                    }\n                },\n                \"cut copy paste drop dragover\": function(e) {\n                    editor.clipboard[\"on\" + e.type](e);\n                    editor._handleSpaceAndNewLines();\n                },\n                \"focusin\": function() {\n                    if (editor.body.hasAttribute(\"contenteditable\")) {\n                        $(this).addClass(\"k-active\");\n                        // To be moved to the Editor\n                        editor._showWindow();\n                        editor._togglePlaceholder(false);\n                    }\n                },\n                \"focusout\": function() {\n                    setTimeout(function() {\n                        var active = kendo._activeElement();\n                        var body = editor.body;\n                        // All below to be moved to the Editor\n                        var toolbar = editor.toolbar;\n\n                        if (toolbar.options.popup) {\n                            var toolbarContainerElement = editor.windowInstance.element.get(0);\n                            if (toolbarContainerElement && !($.contains(toolbarContainerElement, active) || toolbarContainerElement == active)) {\n                                toolbar.preventPopupHide = false;\n                            }\n                        }\n\n                        if (active != body && !$.contains(body, active) && !editor._toolbarFocused() && !toolbar.preventPopupHide && !$(active).hasClass(\"k-context-menu\") && !$(active).hasClass(\"k-colorpalette\")) {\n                            $(body).removeClass(\"k-active\");\n                            editor._hideWindow();\n                        }\n\n                        editor._togglePlaceholder(!editor.value().trim());\n                    }, 10);\n                }\n            });\n\n            editor._initializeColumnResizing();\n            editor._initializeRowResizing();\n            editor._initializeElementResizing();\n        },\n\n        _initializeImmutables: function() {\n            var that = this,\n                editorNS = kendo.ui.editor;\n\n            if (that.options.immutables) {\n                that.immutables = new editorNS.Immutables(that);\n            }\n        },\n\n        _initializePlaceholder: function() {\n            var that = this,\n                placeholder = that.options.placeholder,\n                style, $head;\n\n            if (!that.textarea || !placeholder) {\n                return;\n            }\n\n            style = `<style id='${PLACEHOLDER_TAG_ID}' ${that.options.nonce ? `nonce=\"${that.options.nonce}\"` : \"\"} >.` +\n                PLACEHOLDER_CLASS + \":before { content: '\" + placeholder + \"'; }\" +\n                \"</style>\";\n\n            $head = $(that.document.head);\n            $head.find(\"#\" + PLACEHOLDER_TAG_ID).remove();\n            $head.append(style);\n\n            that._togglePlaceholder(!that.value().trim());\n        },\n\n        _initToolbar: function(toolbarContainer) {\n            var that = this,\n                tools, defaults, toolbarOptions;\n\n            that.tools = [];\n            [tools, defaults] = that._processToolbarItems(that.options.tools);\n            that._setNativeTools();\n\n            toolbarOptions = {\n                tools: tools,\n                defaultTools: defaults,\n                parentMessages: that.options.messages,\n                resizable: that.options.resizable === true || Boolean(that.options.resizable && that.options.resizable.toolbar && that.options.resizable.toolbar?.mode !== \"none\"),\n                toggle: that._handleToolbarClick.bind(this),\n                click: that._handleToolbarClick.bind(this),\n                navigateOnTab: that.options.navigateOnTab,\n                evaluateTemplates: true,\n                overflow: $.isPlainObject(that.options.resizable?.toolbar) ? that.options.resizable.toolbar : undefined,\n            };\n\n            that.toolbar = new kendo.ui.ToolBar(toolbarContainer, toolbarOptions);\n\n            that._bindTools();\n            that.bind(\"select\", that._refreshTools.bind(that));\n\n            toolbarContainer.on(\"mousedown\" + NS, function(e) {\n                const target = $(e.target);\n                const tool = target.closest('[ref-toolbar-tool]');\n\n                if (!tool.length || !tool.data(\"command\")) {\n                    return;\n                }\n\n                if (tool.length) {\n                    if (!target.is(\"input\")) {\n                        e.preventDefault();\n                    }\n                } else {\n                    e.preventDefault();\n                }\n            });\n\n            if (!that.textarea) {\n                const toolbarWidth = toolbarContainer.width();\n                if (toolbarWidth && toolbarWidth > 0) {\n                    toolbarContainer.width(toolbarWidth);\n                }\n\n                that._initToolbarWindow(toolbarContainer);\n            }\n        },\n\n        _initToolbarWindow: function(toolbarEl) {\n            var that = this;\n\n            this.windowInstance = toolbarEl\n                .wrap(\"<div class='editorToolbarWindow k-editor-window' />\")\n                .parent()\n                .prepend(\"<span class='k-editortoolbar-dragHandle'>\" + kendo.ui.icon(\"handle-drag\") + \"</span>\")\n                .kendoWindow({\n                    title: false,\n                    resizable: false,\n                    draggable: {\n                        dragHandle: \".k-editortoolbar-dragHandle\"\n                    },\n                    animation: {\n                        open: { effects: \"fade:in\" },\n                        close: { effects: \"fade:out\" }\n                    },\n                    minHeight: 42,\n                    visible: false,\n                    autoFocus: false,\n                    actions: [],\n                    dragend: function() {\n                        this._moved = true;\n                    }\n                })\n                .on(\"mousedown\", function(e) {\n                    if (!$(e.target).is(TOOLBAR_ALLOWED_CLOSE_SELECTORS)) {\n                        that.toolbar.preventPopupHide = true;\n                    }\n                })\n                .on(\"focusout\", function() {\n                    that.element.focusout();\n                })\n                .data(\"kendoWindow\");\n        },\n\n        _mousedown: function(e) {\n            var editor = this;\n            editor._selectionStarted = true;\n\n            if ($(editor.body).parents('.k-window').length) {\n                e.stopPropagation();\n            }\n\n            // handle middle-click and ctrl-click on links\n            if (browser.gecko) {\n                return;\n            }\n\n            var target = $(e.target).closest(\"a[href]\");\n\n            if ((e.which == 2 || (e.which == 1 && e.ctrlKey)) && target && target.is(\"a[href]\")) {\n                window.open(target.attr(\"href\"), \"_new\");\n            }\n\n            if (e.target.tagName && e.target.tagName.toLowerCase() === \"html\") {\n                setTimeout(function() {\n                    editor.body.focus();\n                }, 0);\n            }\n        },\n\n        _mouseup: function(e) {\n            var that = this;\n\n            if (kendo.support.mobileOS.ios && e && $(e.target).is(SELECT_OVERLAY_SELECTOR)) {\n                return;\n            }\n\n            if (that._selectionStarted) {\n                setTimeout(function() {\n                    that._selectionChange();\n                }, 1);\n            }\n        },\n\n        _populateValue: function(options, domElement) {\n            var that = this,\n                editorNS = kendo.ui.editor,\n                dom = editorNS.Dom,\n                value, comments;\n\n            if (options && options.value) {\n                value = options.value;\n            } else if (that.textarea) {\n                // indented HTML introduces problematic ranges in IE\n                value = domElement.value;\n\n                if (!value.replace(/\\s/g, '').length) {\n                    value = value.replace(/\\s/g, '');\n                }\n\n                // revert encoding of value when content is fetched from cache\n                if (that.options.encoded && domElement.defaultValue && domElement.defaultValue.trim().length) {\n                    value = domElement.defaultValue;\n                }\n\n                var deserializedRoot = editorNS.Serializer.htmlToDom(value, $(\"<div></div>\")[0], that.options.deserialization);\n                comments = dom.getAllComments(deserializedRoot);\n                value = EditorUtils.cacheComments(value, comments);\n                value = value.replace(/[\\r\\n\\v\\f\\t ]+/ig, \" \");\n                value = EditorUtils.retrieveComments(value, comments);\n            } else {\n                value = domElement.innerHTML;\n            }\n\n            that.value(value || '\\ufeff');\n        },\n\n        _resetGroups: function(current) {\n            var result = {};\n\n            Object.keys(current).map(key => {\n                result[key + \"_\"] = current[key];\n            });\n\n            return result;\n        },\n\n        _processToolbarItems: function(optionsTools) {\n            var flatDefaultTools = {},\n                processedObject = {},\n                tools = [],\n                currentGroups = $.extend(true, {}, toolGroups),\n                i, j, t, name, guidGroupName;\n\n            for (i = 0; i < optionsTools.length; i++) {\n                t = optionsTools[i];\n\n                if (Array.isArray(t)) {\n                    guidGroupName = kendo.guid();\n\n                    for (j = 0; j < t.length; j++) {\n                        [flatDefaultTools, name] = this._processToolOptions(t[j], flatDefaultTools);\n\n                        if (!name) {\n                            continue;\n                        }\n\n                        flatDefaultTools[name].gr = guidGroupName;\n                    }\n                } else {\n                    [flatDefaultTools, name] = this._processToolOptions(t, flatDefaultTools);\n\n                    if (!name) {\n                        continue;\n                    } else if (name === \"separator\") {\n                        currentGroups = this._resetGroups(currentGroups);\n                    }\n\n                    Object.keys(currentGroups).map(key => {\n                        var group = currentGroups[key];\n\n                        if (group.includes(name)) {\n                            flatDefaultTools[name].gr = key;\n                        }\n                    });\n                }\n            }\n\n            Object.values(flatDefaultTools).map((tool) => {\n                var group = tool.gr;\n\n                delete tool.gr;\n\n                if (group === undefined) {\n                    processedObject[tool.name] = tool;\n                } else {\n                    if (!processedObject[group]) {\n                        processedObject[group] = [];\n                    }\n\n                    processedObject[group].push(tool);\n                }\n            });\n\n            tools = Object.values(processedObject).map((g) => {\n                var result;\n\n                if (g.length) {\n                    result = g.map((to) => to.name);\n                } else {\n                    result = g.name;\n                }\n\n                if (result.length === 1) {\n                    result = result[0];\n                }\n\n                return result;\n            });\n\n            return [tools, flatDefaultTools];\n        },\n\n        _processDefaultTool: function(tool, defaultTools) {\n            var name = tool.name,\n                result = {},\n                options;\n\n            if ($.isPlainObject(tool)) {\n                if (name && defaultTools[name]) {\n                    // configured tool\n                    result = extend({}, defaultTools[name]);\n                    extend(result.options, tool);\n                } else {\n                    // custom tool\n                    options = extend({ icon: \"gear\", type: \"button\" }, tool);\n\n                    if (!options.name) {\n                        options.name = \"custom\";\n                    }\n\n                    options.cssClass = \"k-\" + options.name;\n\n                    result = {\n                        options: options\n                    };\n\n                    name = options.name;\n                }\n            } else if (defaultTools[tool]) {\n                name = tool;\n                result = defaultTools[name];\n            } else {\n                return null;\n            }\n\n            this.tools[name] = result;\n\n            return result;\n        },\n\n        _processToolOptions: function(t, flatDefaultTools) {\n            var that = this,\n                defaultTools = kendo.deepExtend({}, kendo.ui.Editor.defaultTools),\n                tool, name, view, shortcuts, options, uiOptions, icon, toolOptions, originalOptions, palette;\n\n            tool = this._processDefaultTool(t, defaultTools);\n\n            if (!tool) {\n                return [flatDefaultTools, null];\n            }\n\n            options = tool.options;\n            name = options.name;\n            uiOptions = options.ui || {};\n            icon = EditorUtils.getToolCssClass(options.name, options.icon);\n\n            // We want to preserve any custom properties from the original tool object.\n            originalOptions = $.isPlainObject(t) ? $.extend({}, t) : {};\n            delete originalOptions.items;\n\n            toolOptions = $.extend({\n                name: options.name,\n                command: options.command,\n                template: options.template,\n                attributes: { class: options.cssClass },\n                type: \"button\",\n                icon: icon,\n                showText: \"overflow\",\n                showIcon: \"both\"\n            }, uiOptions, originalOptions);\n\n            if (options.tooltip) {\n                if (!toolOptions.attributes) {\n                    toolOptions.attributes = {};\n                }\n\n                toolOptions.attributes.title = options.tooltip;\n            }\n            if (options.exec) {\n                toolOptions.click = options.exec.bind(that);\n                delete toolOptions.exec;\n            }\n\n            if (toolOptions.component === \"ColorPicker\") {\n                if (options.palette !== undefined || uiOptions.palette !== kendo.ui.editor.ColorTool.fn.options.palette) {\n                    palette = options.palette || kendo.ui.editor.ColorTool.fn.options.palette;\n                    view = options.palette !== undefined && !options.palette ? \"gradient\" : \"palette\";\n                    toolOptions.componentOptions.palette = view === \"palette\" ? palette : undefined;\n                    toolOptions.componentOptions.views = [view];\n                    toolOptions.componentOptions.preview = view === \"gradient\";\n                    toolOptions.componentOptions.input = view === \"gradient\";\n                    toolOptions.componentOptions.buttons = view === \"gradient\";\n\n                    if (view === \"gradient\") {\n                        delete toolOptions.componentOptions.columns;\n                    }\n                }\n                if (view === \"palette\" && options.columns) {\n                    toolOptions.componentOptions.columns = options.columns;\n                }\n            }\n\n            if (toolOptions.component === \"DropDownList\" || toolOptions.component === \"ComboBox\") {\n                if (!toolOptions.componentOptions) {\n                    toolOptions.componentOptions = {};\n                }\n\n                if (!toolOptions.componentOptions.dataSource) {\n                    if (that.options[name] && Array.isArray(that.options[name])) {\n                        toolOptions.componentOptions.dataSource = that.options[name];\n                    } else {\n                        toolOptions.componentOptions.dataSource = options.items;\n                    }\n                }\n            }\n            if (toolOptions.template) {\n                delete toolOptions.type;\n            }\n\n            shortcuts = this._shortcutSequence(name);\n\n            if (shortcuts !== \"\") {\n                if (!toolOptions.attributes) {\n                    toolOptions.attributes = {};\n                }\n\n                toolOptions.attributes[\"aria-keyshortcuts\"] = shortcuts;\n            }\n\n            flatDefaultTools[name] = toolOptions;\n\n            return [flatDefaultTools, name];\n        },\n\n        _refreshTools: function() {\n            var that = this,\n                range = that.getRange(),\n                editorNS = kendo.ui.editor,\n                rangeUtils = editorNS.RangeUtils,\n                nodes = rangeUtils.textNodes(range),\n                immutables = that.options.immutables,\n                immutablesContext = that._immutablesContext(range),\n                defaultTools = that.tools;\n\n            nodes = editorNS.Dom.filterBy(nodes, editorNS.Dom.htmlIndentSpace, true);\n\n            if (!nodes.length) {\n                nodes = [range.startContainer];\n            }\n\n            that.toolbar.element.find(\"[data-command]\")\n                .filter((i, el) => $(el).find(\"[data-command]\").length === 0)\n                .each(function() {\n                    var toolName = this.getAttribute(\"data-command\"),\n                        tool = defaultTools[toolName],\n                        ui;\n\n                    if (tool) {\n                        ui = $(this);\n\n                        if (tool.update) {\n                            tool.update(ui, nodes, that.undoRedoStack);\n                        }\n\n                        if (immutables) {\n                            that._updateImmutablesState(tool, ui, immutablesContext);\n                        }\n                    }\n                });\n        },\n\n        _registerHandler: function(element, type, handler) {\n            var editor = this;\n            var NS = \".kendoEditor\";\n            var eventNames;\n            var i;\n\n            element = $(element);\n\n            if (!this._handlers) {\n                this._handlers = [];\n            }\n\n            if (element.length) {\n                if ($.isPlainObject(type)) {\n                    for (var t in type) {\n                        if (type.hasOwnProperty(t)) {\n                            this._registerHandler(element, t, type[t]);\n                        }\n                    }\n                } else {\n                    //map the original event to handle interaction on mobile platforms\n                    eventNames = kendo.applyEventMap(type).split(\" \");\n\n                    for (i = 0; i < eventNames.length; i++) {\n                        editor._handlers.push({\n                            element: element,\n                            type: eventNames[i] + NS,\n                            handler: handler\n                        });\n\n                        element.on(eventNames[i] + NS, handler);\n                    }\n                }\n            }\n        },\n\n        _runPostContentKeyCommands: function(e) {\n            const range = this.getRange();\n            const tools = this.keyboard.toolsFromShortcut(this.tools, e);\n\n            for (var i = 0; i < tools.length; i++) {\n                var tool = tools[i];\n                var o = tool.options;\n                if (!o.keyPressCommand) {\n                    continue;\n                }\n\n                var cmd = new o.command({ range: range });\n                if (cmd.changesContent()) {\n                    this.keyboard.endTyping(true);\n                    this.exec(tool.name);\n                }\n            }\n\n            this._wrapSingleTextNodeInParagraph();\n\n            this._handleSpaceAndNewLines();\n        },\n\n        _wrapSingleTextNodeInParagraph: function() {\n            const childNodes = this.body.childNodes;\n            const dom = kendo.ui.editor.Dom;\n\n            if (this.textarea) {\n                return;\n            }\n\n            if (childNodes.length === 1 && childNodes[0].nodeType === dom.nodeTypes.TEXT_NODE) {\n                dom.wrap(childNodes[0], this.document.createElement(\"p\"));\n            }\n        },\n\n        _handleSpaceAndNewLines: function() {\n            const that = this,\n                refreshDelay = that.options.formattingMarksRefreshDelay,\n                editorNS = kendo.ui.editor,\n                applyFormattingMarks = editorNS.applyFormattingMarks,\n                clearFormattingMarksOverlay = editorNS.clearFormattingMarksOverlay;\n\n            if (that._toggledFormattingMarks) {\n                if (that._formattingMarksOverlay.children().length) {\n                    clearFormattingMarksOverlay(that);\n                }\n\n                if (refreshDelay) {\n                    clearTimeout(that._formattingMarksTimeout);\n                    that._formattingMarksTimeout = setTimeout(() => applyFormattingMarks(that), refreshDelay);\n                } else {\n                    applyFormattingMarks(that);\n                }\n\n            }\n        },\n\n        _selectionChange: function() {\n            this._selectionStarted = false;\n            this.saveSelection();\n            this.trigger(\"select\", {});\n        },\n\n        _setOptionsTools: function(optionsTools) {\n            var that = this,\n                toolbar = that.toolbar,\n                toolbarContainer = toolbar.element,\n                tools, defaults, toolbarOptions;\n\n            toolbar.destroy();\n            toolbarContainer.empty();\n\n            that.tools = [];\n            [tools, defaults] = that._processToolbarItems(optionsTools);\n            that._setNativeTools();\n\n            toolbarOptions = {\n                tools: tools,\n                defaultTools: defaults,\n                parentMessages: that.options.messages,\n                resizable: that.options.resizable === true || Boolean(that.options.resizable && that.options.resizable.toolbar && that.options.resizable.toolbar?.mode !== \"none\"),\n                toggle: that._handleToolbarClick.bind(this),\n                click: that._handleToolbarClick.bind(this),\n                overflow: $.isPlainObject(that.options.resizable?.toolbar) ? that.options.resizable.toolbar : undefined,\n            };\n\n            that.toolbar = new kendo.ui.ToolBar(toolbarContainer, toolbarOptions);\n\n            that._bindTools();\n        },\n\n        _setNativeTools: function() {\n            var defaultTools = kendo.deepExtend({}, kendo.ui.Editor.defaultTools),\n                i;\n\n            for (i = 0; i < NATIVE_TOOLS.length; i++) {\n                if (!this.tools[NATIVE_TOOLS[i]]) {\n                    this.tools[NATIVE_TOOLS[i]] = defaultTools[NATIVE_TOOLS[i]];\n                }\n            }\n        },\n\n        _setupHeight: function(type) {\n            var that = this;\n\n            if (type == \"textarea\") {\n                setTimeout(function() {\n                    var heightStyle = that.wrapper[0].style.height;\n                    var expectedHeight = parseInt(heightStyle, 10);\n                    var actualHeight = that.wrapper.height();\n                    if (heightStyle.indexOf(\"px\") > 0 && !isNaN(expectedHeight) && actualHeight > expectedHeight) {\n                        that.wrapper.height(expectedHeight - (actualHeight - expectedHeight));\n                    }\n                });\n            }\n        },\n\n        _setupKeyboard: function() {\n            var that = this,\n                editorNS = kendo.ui.editor;\n\n            that.keyboard = new editorNS.Keyboard([\n                new editorNS.BackspaceHandler(that),\n                new editorNS.TypingHandler(that),\n                new editorNS.SystemHandler(that),\n                new editorNS.SelectAllHandler(that)\n            ]);\n        },\n\n        _setupType: function(element) {\n            var domElement = element[0],\n                type = kendo.ui.editor.Dom.name(domElement),\n                id = domElement.id,\n                toolbarContainer;\n\n            if (!id) {\n                id = kendo.guid();\n                domElement.setAttribute(\"id\", id);\n            }\n\n            if (type == \"textarea\") {\n                this._wrapTextarea();\n\n                toolbarContainer = this.wrapper.find(\".k-editor-toolbar\");\n                toolbarContainer.attr(\"aria-controls\", id);\n            } else {\n                $(domElement).attr(\"contenteditable\", true).addClass(\"k-editor k-editor-inline\");\n                toolbarContainer = $('<div class=\"k-editor-toolbar\"/>').insertBefore(element);\n            }\n\n            return toolbarContainer;\n        },\n\n        _isInlineEditor: function() {\n            return this.element.hasClass(\"k-editor-inline\");\n        },\n\n        _shortcutSequence: function(name) {\n            var tool = kendo.ui.Editor.defaultTools[name],\n                res = \"\",\n                options;\n\n            if (!tool || !tool.options) {\n                return res;\n            }\n\n            options = tool.options;\n\n            if (options.ctrl) {\n                res += \"Ctrl+\";\n            }\n\n            if (options.shift) {\n                res += \"Shift+\";\n            }\n\n            if (options.alt) {\n                res += \"Alt+\";\n            }\n\n            if (options.key) {\n                res += options.key;\n            }\n\n            return res;\n        },\n\n        _spellCorrect: function(editor) {\n            var beforeCorrection;\n            var falseTrigger = false;\n\n            this._registerHandler(editor.body, {\n                \"contextmenu\": function() {\n                    editor.one(\"select\", function() {\n                        beforeCorrection = null;\n                    });\n\n                    editor._spellCorrectTimeout = setTimeout(function() {\n                        beforeCorrection = new kendo.ui.editor.RestorePoint(editor.getRange(), editor.body);\n                        falseTrigger = false;\n                    }, 10);\n                },\n                \"input\": function() {\n                    if (!beforeCorrection) {\n                        return;\n                    }\n\n                    if (kendo.support.browser.mozilla && !falseTrigger) {\n                        falseTrigger = true;\n                        return;\n                    }\n\n                    kendo.ui.editor._finishUpdate(editor, beforeCorrection);\n                }\n            });\n        },\n\n        _togglePlaceholder: function(show) {\n            var that = this,\n                body = that.body,\n                $body = $(body),\n                placeholder = that.options.placeholder;\n\n            if (!that.textarea || !placeholder) {\n                return;\n            }\n\n            $body.attr('aria-label', function() {\n                return show ? placeholder : \"\";\n            });\n\n            $body.toggleClass(PLACEHOLDER_CLASS, show);\n        },\n\n        _toolbarFocused: function() {\n            var active = kendo._activeElement(),\n                popup = this.windowInstance,\n                overflowPopup = this.overflowPopup;\n\n            return (popup && $(active).closest(popup.wrapper).length) ||\n                (overflowPopup && overflowPopup.visible());\n        },\n\n        _updateImmutablesState: function(tool, ui, immutablesContext) {\n            let toolbar = this.toolbar,\n                name = tool.name,\n                overflowAnchor = toolbar.overflowAnchor,\n                uiElement = ui.closest(\"[ref-toolbar-tool]\"),\n                trackImmutables = tool.options.trackImmutables,\n                toolInOverflowMenuIsHidden = true,\n                editorNS = kendo.ui.editor;\n\n            if (trackImmutables === undefined) {\n                trackImmutables = $.inArray(name, editorNS.Immutables.toolsToBeUpdated) > -1;\n            }\n\n            if (overflowAnchor && !overflowAnchor.hasClass(\"k-hidden\")) {\n                const overflowMenu = toolbar.overflowMenu,\n                    toolInOverflowMenu = overflowMenu?.element.find(`[data-command=\"${tool.options.name}\"]`);\n\n                toolInOverflowMenuIsHidden = toolInOverflowMenu?.hasClass(\"k-hidden\");\n            }\n\n            if (trackImmutables) {\n                if (immutablesContext) {\n                    toolbar.hide(uiElement);\n                } else if (toolInOverflowMenuIsHidden) {\n                    toolbar.show(uiElement);\n                }\n            }\n        },\n\n        _wrapTextarea: function() {\n            var that = this,\n                textarea = that.element,\n                w = textarea[0].style.width,\n                h = textarea[0].style.height,\n                template = EditorUtils.editorWrapperTemplate(),\n                editorWrap = $(template).insertBefore(textarea),\n                editArea = editorWrap.find(\".k-editable-area\");\n\n            editorWrap.css({\n                \"width\": w,\n                \"height\": h\n            });\n\n            textarea.attr(\"autocomplete\", \"off\")\n                .appendTo(editArea).addClass(\"k-content k-raw-content\").css(\"display\", \"none\");\n\n            that.textarea = textarea;\n            that.wrapper = editorWrap;\n        },\n\n        // Resizing methods\n        _resizable: function() {\n            let that = this;\n            let resizable = this.options.resizable;\n            let isResizable = $.isPlainObject(resizable) ? (resizable.content === undefined || resizable.content === true) : resizable;\n            let resizableMin = $.isPlainObject(resizable.min) ? resizable.min : { minHeight: resizable.min };\n            let resizableMax = $.isPlainObject(resizable.max) ? resizable.max : { maxHeight: resizable.max };\n\n            if (isResizable && this.textarea) {\n                that.wrapper.addClass('k-editor-resizable');\n\n                if (resizableMin.minHeight) {\n                    that.wrapper.css(\"min-height\", resizableMin.minHeight);\n                }\n\n                if (resizableMax.maxHeight) {\n                    that.wrapper.css(\"max-height\", resizableMax.maxHeight);\n                }\n\n                if (resizableMin.minWidth) {\n                    that.wrapper.css(\"min-width\", resizableMin.minWidth);\n                }\n\n                if (resizableMax.maxWidth) {\n                    that.wrapper.css(\"max-width\", resizableMax.maxWidth);\n                }\n\n                that.resizeObserver = new ResizeObserver(() => {\n                    clearTimeout(that._resizeTimeOut);\n\n                    that._resizeTimeOut = setTimeout(function() {\n                        that.toolbar.resize();\n                        that._handleSpaceAndNewLines();\n                    }, 50);\n\n                });\n                that.resizeObserver.observe(that.wrapper[0]);\n            }\n        },\n\n        _destroyResizings: function() {\n            var editor = this;\n\n            editor._destroyElementResizing();\n            kendo.ui.editor.ElementResizingFactory.current.dispose(editor);\n            editor._destroyRowResizing();\n            kendo.ui.editor.RowResizing.dispose(editor);\n            editor._destroyColumnResizing();\n            kendo.ui.editor.ColumnResizing.dispose(editor);\n        },\n\n        _initializeElementResizing: function() {\n            var editor = this;\n\n            kendo.ui.editor.ElementResizingFactory.current.create(editor);\n\n            editor._showElementResizeHandlesProxy = editor._showElementResizeHandles.bind(editor);\n            editor.bind(SELECT, editor._showElementResizeHandlesProxy);\n        },\n\n        _destroyElementResizing: function() {\n            var editor = this;\n            var elementResizing = editor.elementResizing;\n\n            if (elementResizing) {\n                elementResizing.destroy();\n                editor.elementResizing = null;\n            }\n\n            if (editor._showElementResizeHandlesProxy) {\n                editor.unbind(SELECT, editor._showElementResizeHandlesProxy);\n            }\n        },\n\n        _showElementResizeHandles: function() {\n            var editor = this;\n            var elementResizing = editor.elementResizing;\n\n            if (elementResizing && elementResizing.element && elementResizing.element.parentNode) {\n                elementResizing.showResizeHandles();\n            } else if (elementResizing && (!elementResizing.element || !elementResizing.element.parentNode)) {\n                editor._destroyElementResizing();\n            }\n        },\n\n        _initializeColumnResizing: function() {\n            kendo.ui.editor.ColumnResizing.create(this);\n        },\n\n        _destroyColumnResizing: function() {\n            var editor = this;\n\n            if (editor.columnResizing) {\n                editor.columnResizing.destroy();\n                editor.columnResizing = null;\n            }\n        },\n\n        _initializeRowResizing: function() {\n            kendo.ui.editor.RowResizing.create(this);\n        },\n\n        _destroyRowResizing: function() {\n            var editor = this;\n\n            if (editor.rowResizing) {\n                editor.rowResizing.destroy();\n                editor.rowResizing = null;\n            }\n        },\n\n        // ToolBar Window methods\n        _getWindowWidth: function() {\n            var that = this,\n                wrapper = that.windowInstance.wrapper,\n                editorElement = that.element;\n\n            return outerWidth(editorElement) - parseInt(wrapper.css(\"border-left-width\"), 10) - parseInt(wrapper.css(\"border-right-width\"), 10);\n        },\n\n        _hideWindow: function() {\n            if (this.windowInstance) {\n                this.windowInstance.close();\n            }\n        },\n\n        _overlapsWindow: function(box) {\n            var toolbarWrapper = this.windowInstance.wrapper,\n                toolbarWrapperOffset = toolbarWrapper.offset(),\n                toolbarWrapperLeft = toolbarWrapperOffset.left,\n                toolbarWrapperTop = toolbarWrapperOffset.top,\n                boxOffset = box.offset(),\n                boxOffsetLeft = boxOffset.left,\n                boxOffsetTop = boxOffset.top;\n\n            return !(boxOffsetLeft + box.width() < toolbarWrapperLeft ||\n                boxOffsetLeft > toolbarWrapperLeft + toolbarWrapper.width() ||\n                boxOffsetTop + box.height() < toolbarWrapperTop ||\n                boxOffsetTop > toolbarWrapperTop + toolbarWrapper.height());\n        },\n\n        _showWindow: function() {\n            var that = this,\n                windowInstance = that.windowInstance,\n                wrapper, editorElement, editorOffset,\n                browser = kendo.support.browser;\n\n            if (windowInstance) {\n                wrapper = windowInstance.wrapper;\n                editorElement = that.element;\n\n                if (!wrapper.is(\":visible\") || !that.windowInstance.options.visible) {\n\n                    if (!wrapper[0].style.width) {\n                        wrapper.width(this._getWindowWidth());\n                    }\n\n                    // track content position when other parts of page change\n                    if (!windowInstance._moved) {\n                        editorOffset = editorElement.offset();\n                        wrapper.css({\n                            top: Math.max(0, parseInt(editorOffset.top, 10) - outerHeight(wrapper) - parseInt(that.windowInstance.element.css(\"padding-bottom\"), 10)),\n                            left: Math.max(0, parseInt(editorOffset.left, 10))\n                        });\n                    }\n\n                    if ((browser.msie || browser.edge) && that._overlapsWindow(editorElement)) {\n                        setTimeout(function() {\n                            windowInstance.open();\n                        }, 0);\n                    } else {\n                        windowInstance.open();\n                    }\n                }\n            }\n        }\n    });\n\n    Editor.defaultTools = {};\n\n    kendo.ui.plugin(Editor);\n\n    var Tool = Class.extend({\n        init: function(options) {\n            this.options = options;\n        },\n\n        command: function(commandArguments) {\n            return new this.options.command(commandArguments);\n        },\n\n        update: $.noop\n    });\n\n    Tool.exec = function(editor, name, value) {\n        editor.exec(name, { value: value });\n    };\n\n    var UndoTool = Tool.extend({\n        command: $.noop,\n        update: function(ui, nodes, undoRedoStack) {\n            var that = this,\n                name = that.options.name,\n                toolbar = ui.closest(\".k-toolbar\").data(\"kendoToolBar\");\n\n            switch (name) {\n                case \"undo\":\n                    toolbar.enable(ui, undoRedoStack.canUndo());\n                    break;\n                case \"redo\":\n                    toolbar.enable(ui, undoRedoStack.canRedo());\n                    break;\n                default:\n                    break;\n            }\n\n            ui.removeAttr(\"disabled\");\n        }\n    });\n\n    EditorUtils.registerTool(\"separator\", new Tool({ ui: { type: \"separator\" } }));\n    EditorUtils.registerTool(\"undo\", new UndoTool({ key: \"Z\", ctrl: true }));\n    EditorUtils.registerTool(\"redo\", new UndoTool({ key: \"Y\", ctrl: true }));\n\n    // Exports ================================================================\n\n    var emptyElementContent = '\\ufeff';\n    var emptyTableCellContent = emptyElementContent;\n\n    if (browser.msie || browser.edge) {\n        emptyTableCellContent = emptyElementContent = \"&nbsp;\";\n    }\n\n    extend(kendo.ui, {\n        editor: {\n            EditorUtils: EditorUtils,\n            Tool: Tool,\n            emptyElementContent: emptyElementContent,\n            emptyTableCellContent: emptyTableCellContent\n        }\n    });\n\n    if (kendo.PDFMixin) {\n        kendo.PDFMixin.extend(Editor.prototype);\n        Editor.prototype._drawPDF = function() {\n            return kendo.drawing.drawDOM(this.body, this.options.pdf);\n        };\n        Editor.prototype.saveAsPDF = function() {\n            var progress = new $.Deferred();\n            var promise = progress.promise();\n            var args = { promise: promise };\n\n            if (this.trigger(\"pdfExport\", args)) {\n                return;\n            }\n\n            var options = this.options.pdf;\n\n            this._drawPDF(progress)\n                .then(function(root) {\n                    return kendo.drawing.exportPDF(root, options);\n                })\n                .done(function(dataURI) {\n                    kendo.saveAs({\n                        dataURI: dataURI,\n                        fileName: options.fileName,\n                        proxyURL: options.proxyURL,\n                        proxyTarget: options.proxyTarget,\n                        forceProxy: options.forceProxy\n                    });\n                    progress.resolve();\n                })\n                .fail(function(err) {\n                    progress.reject(err);\n                });\n\n            return promise;\n        };\n    }\n\n})(window.kendo.jQuery);\n","import \"./main.js\";\n\n(function($) {\n\nvar kendo = window.kendo,\n    map = $.map,\n    extend = $.extend,\n    browser = kendo.support.browser,\n    STYLE = \"style\",\n    FLOAT = \"float\",\n    CSSFLOAT = \"cssFloat\",\n    STYLEFLOAT = \"styleFloat\",\n    CLASS = \"class\",\n    KMARKER = \"k-marker\";\n\nfunction makeMap(items) {\n    var obj = {},\n        i, len;\n\n    for (i = 0, len = items.length; i < len; i++) {\n        obj[items[i]] = true;\n    }\n    return obj;\n}\n\nvar empty = makeMap(\"area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed\".split(\",\")),\n    nonListBlockElements = \"p,div,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption\".split(\",\"),\n    blockElements = nonListBlockElements.concat([\"ul\",\"ol\",\"li\"]),\n    block = makeMap(blockElements),\n    selfClosing = makeMap(\"area,base,br,col,command,embed,hr,img,input,keygen,link,menuitem,meta,param,source,track,wbr\".split(\",\")),\n    inlineElements = \"span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby\".split(\",\"),\n    inline = makeMap(inlineElements),\n    fillAttrs = makeMap(\"checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected\".split(\",\")),\n    nonEmptyNonTextContentElements = [\"hgroup\",\"ol\",\"ul\",\"dl\",\"object\",\"video\",\"audio\",\"table\",\"colgroup\",\"tbody\",\"thead\",\"tfoot\",\"tr\",\"select\",\"optgroup\"];\n\nvar normalize = function(node) {\n    if (node.nodeType == 1) {\n        node.normalize();\n    }\n};\n\nif (browser.msie && browser.version >= 8) {\n    normalize = function(parent) {\n        if (parent.nodeType == 1 && parent.firstChild) {\n            var prev = parent.firstChild,\n                node = prev;\n\n            normalize(node);\n\n            while (true) {\n                node = node.nextSibling;\n\n                if (!node) {\n                    break;\n                }\n\n                normalize(node);\n\n                if (node.nodeType == 3 && prev.nodeType == 3) {\n                    node.nodeValue = prev.nodeValue + node.nodeValue;\n                    Dom.remove(prev);\n                }\n\n                prev = node;\n            }\n        }\n    };\n}\n\nvar whitespace = /^\\s+$/,\n    emptyspace = /^[\\n\\r\\t]+$/,\n    rgb = /rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)/i,\n    bom = /\\ufeff/g,\n    whitespaceOrBom = /^(\\s+|\\ufeff)$/,\n    persistedScrollTop,\n    cssAttributes =\n           (\"color,padding-left,padding-right,padding-top,padding-bottom,\" +\n            \"background-color,background-attachment,background-image,background-position,background-repeat,\" +\n            \"border-top-style,border-top-width,border-top-color,\" +\n            \"border-bottom-style,border-bottom-width,border-bottom-color,\" +\n            \"border-left-style,border-left-width,border-left-color,\" +\n            \"border-right-style,border-right-width,border-right-color,\" +\n            \"font-family,font-size,font-style,font-variant,font-weight,line-height\"\n           ).split(\",\"),\n    htmlRe = /[<>&]/g,\n    entityRe = /[\\u00A0-\\u2666<>&]/g,\n    entityTable = {\n            34: 'quot', 38: 'amp', 39: 'apos', 60: 'lt', 62: 'gt',\n            160: 'nbsp', 161: 'iexcl', 162: 'cent', 163: 'pound', 164: 'curren',\n            165: 'yen', 166: 'brvbar', 167: 'sect', 168: 'uml', 169: 'copy',\n            170: 'ordf', 171: 'laquo', 172: 'not', 173: 'shy', 174: 'reg',\n            175: 'macr', 176: 'deg', 177: 'plusmn', 178: 'sup2', 179: 'sup3',\n            180: 'acute', 181: 'micro', 182: 'para', 183: 'middot', 184: 'cedil',\n            185: 'sup1', 186: 'ordm', 187: 'raquo', 188: 'frac14', 189: 'frac12',\n            190: 'frac34', 191: 'iquest', 192: 'Agrave', 193: 'Aacute', 194: 'Acirc',\n            195: 'Atilde', 196: 'Auml', 197: 'Aring', 198: 'AElig', 199: 'Ccedil',\n            200: 'Egrave', 201: 'Eacute', 202: 'Ecirc', 203: 'Euml', 204: 'Igrave',\n            205: 'Iacute', 206: 'Icirc', 207: 'Iuml', 208: 'ETH', 209: 'Ntilde',\n            210: 'Ograve', 211: 'Oacute', 212: 'Ocirc', 213: 'Otilde', 214: 'Ouml',\n            215: 'times', 216: 'Oslash', 217: 'Ugrave', 218: 'Uacute', 219: 'Ucirc',\n            220: 'Uuml', 221: 'Yacute', 222: 'THORN', 223: 'szlig', 224: 'agrave',\n            225: 'aacute', 226: 'acirc', 227: 'atilde', 228: 'auml', 229: 'aring',\n            230: 'aelig', 231: 'ccedil', 232: 'egrave', 233: 'eacute', 234: 'ecirc',\n            235: 'euml', 236: 'igrave', 237: 'iacute', 238: 'icirc', 239: 'iuml',\n            240: 'eth', 241: 'ntilde', 242: 'ograve', 243: 'oacute', 244: 'ocirc',\n            245: 'otilde', 246: 'ouml', 247: 'divide', 248: 'oslash', 249: 'ugrave',\n            250: 'uacute', 251: 'ucirc', 252: 'uuml', 253: 'yacute', 254: 'thorn',\n            255: 'yuml', 402: 'fnof', 913: 'Alpha', 914: 'Beta', 915: 'Gamma',\n            916: 'Delta', 917: 'Epsilon', 918: 'Zeta', 919: 'Eta', 920: 'Theta',\n            921: 'Iota', 922: 'Kappa', 923: 'Lambda', 924: 'Mu', 925: 'Nu',\n            926: 'Xi', 927: 'Omicron', 928: 'Pi', 929: 'Rho', 931: 'Sigma',\n            932: 'Tau', 933: 'Upsilon', 934: 'Phi', 935: 'Chi', 936: 'Psi',\n            937: 'Omega', 945: 'alpha', 946: 'beta', 947: 'gamma', 948: 'delta',\n            949: 'epsilon', 950: 'zeta', 951: 'eta', 952: 'theta', 953: 'iota',\n            954: 'kappa', 955: 'lambda', 956: 'mu', 957: 'nu', 958: 'xi',\n            959: 'omicron', 960: 'pi', 961: 'rho', 962: 'sigmaf', 963: 'sigma',\n            964: 'tau', 965: 'upsilon', 966: 'phi', 967: 'chi', 968: 'psi',\n            969: 'omega', 977: 'thetasym', 978: 'upsih', 982: 'piv', 8226: 'bull',\n            8230: 'hellip', 8242: 'prime', 8243: 'Prime', 8254: 'oline', 8260: 'frasl',\n            8472: 'weierp', 8465: 'image', 8476: 'real', 8482: 'trade', 8501: 'alefsym',\n            8592: 'larr', 8593: 'uarr', 8594: 'rarr', 8595: 'darr', 8596: 'harr',\n            8629: 'crarr', 8656: 'lArr', 8657: 'uArr', 8658: 'rArr', 8659: 'dArr',\n            8660: 'hArr', 8704: 'forall', 8706: 'part', 8707: 'exist', 8709: 'empty',\n            8711: 'nabla', 8712: 'isin', 8713: 'notin', 8715: 'ni', 8719: 'prod',\n            8721: 'sum', 8722: 'minus', 8727: 'lowast', 8730: 'radic', 8733: 'prop',\n            8734: 'infin', 8736: 'ang', 8743: 'and', 8744: 'or', 8745: 'cap',\n            8746: 'cup', 8747: 'int', 8756: 'there4', 8764: 'sim', 8773: 'cong',\n            8776: 'asymp', 8800: 'ne', 8801: 'equiv', 8804: 'le', 8805: 'ge',\n            8834: 'sub', 8835: 'sup', 8836: 'nsub', 8838: 'sube', 8839: 'supe',\n            8853: 'oplus', 8855: 'otimes', 8869: 'perp', 8901: 'sdot', 8968: 'lceil',\n            8969: 'rceil', 8970: 'lfloor', 8971: 'rfloor', 9001: 'lang', 9002: 'rang',\n            9674: 'loz', 9824: 'spades', 9827: 'clubs', 9829: 'hearts', 9830: 'diams',\n            338: 'OElig', 339: 'oelig', 352: 'Scaron', 353: 'scaron', 376: 'Yuml',\n            710: 'circ', 732: 'tilde', 8194: 'ensp', 8195: 'emsp', 8201: 'thinsp',\n            8204: 'zwnj', 8205: 'zwj', 8206: 'lrm', 8207: 'rlm', 8211: 'ndash',\n            8212: 'mdash', 8216: 'lsquo', 8217: 'rsquo', 8218: 'sbquo', 8220: 'ldquo',\n            8221: 'rdquo', 8222: 'bdquo', 8224: 'dagger', 8225: 'Dagger', 8240: 'permil',\n            8249: 'lsaquo', 8250: 'rsaquo', 8364: 'euro'\n        };\n\nvar Dom = {\n    block: block,\n    inline: inline,\n\n    findNodeIndex: function(node, skipText) {\n        var i = 0;\n\n        if (!node) {\n            return -1;\n        }\n\n        while (true) {\n            node = node.previousSibling;\n\n            if (!node) {\n                break;\n            }\n\n            if (!(skipText && node.nodeType == 3)) {\n                i++;\n            }\n        }\n\n        return i;\n    },\n\n    isDataNode: function(node) {\n        return node && node.nodeValue !== null && node.data !== null;\n    },\n\n    isAncestorOf: function(parent, node) {\n        try {\n            return !Dom.isDataNode(parent) && ($.contains(parent, Dom.isDataNode(node) ? node.parentNode : node) || node.parentNode == parent);\n        } catch (e) {\n            return false;\n        }\n    },\n\n    isAncestorOrSelf: function(root, node) {\n        return Dom.isAncestorOf(root, node) || root == node;\n    },\n\n    findClosestAncestor: function(root, node) {\n        if (Dom.isAncestorOf(root, node)) {\n            while (node && node.parentNode != root) {\n                node = node.parentNode;\n            }\n        }\n\n        return node;\n    },\n\n    getAllComments: function(rootElem) {\n        var comments = [];\n        // Fourth argument, which is actually obsolete according to the DOM4 standard, is required in IE 11\n        var iterator = document.createNodeIterator(rootElem,\n            NodeFilter.SHOW_COMMENT,\n            function() {\n                return NodeFilter.FILTER_ACCEPT;\n            }, false);\n\n        var curNode = iterator.nextNode();\n        while (curNode) {\n            comments.push(curNode.nodeValue);\n            curNode = iterator.nextNode();\n        }\n        return comments;\n    },\n\n    getNodeLength: function(node) {\n        return Dom.isDataNode(node) ? node.length : node.childNodes.length;\n    },\n\n    splitDataNode: function(node, offset) {\n        var newNode = node.cloneNode(false);\n        var denormalizedText = \"\";\n        var iterator = node.nextSibling;\n        var temp;\n\n        while (iterator && iterator.nodeType == 3 && iterator.nodeValue) {\n            denormalizedText += iterator.nodeValue;\n            temp = iterator;\n            iterator = iterator.nextSibling;\n            Dom.remove(temp);\n        }\n\n        node.deleteData(offset, node.length);\n        newNode.deleteData(0, offset);\n        newNode.nodeValue += denormalizedText;\n        Dom.insertAfter(newNode, node);\n    },\n\n    attrEquals: function(node, attributes) {\n        for (var key in attributes) {\n            var value = node[key];\n\n            if (key == FLOAT) {\n                value = node[kendo.support.cssFloat ? CSSFLOAT : STYLEFLOAT];\n            }\n\n            if (typeof value == \"object\") {\n                if (!Dom.attrEquals(value, attributes[key])) {\n                    return false;\n                }\n            } else if (value != attributes[key]) {\n                return false;\n            }\n        }\n\n        return true;\n    },\n\n    blockParentOrBody: function(node) {\n        return Dom.parentOfType(node, blockElements) || node.ownerDocument.body;\n    },\n\n    blockParents: function(nodes) {\n        var blocks = [],\n            i, len;\n\n        for (i = 0, len = nodes.length; i < len; i++) {\n            var block = Dom.parentOfType(nodes[i], Dom.blockElements);\n            if (block && $.inArray(block, blocks) < 0) {\n                blocks.push(block);\n            }\n        }\n\n        return blocks;\n    },\n\n    windowFromDocument: function(document) {\n        return document.defaultView || document.parentWindow;\n    },\n\n    normalize: normalize,\n    blockElements: blockElements,\n    nonListBlockElements: nonListBlockElements,\n    inlineElements: inlineElements,\n    empty: empty,\n    fillAttrs: fillAttrs,\n    nodeTypes: {\n        ELEMENT_NODE: 1,\n        ATTRIBUTE_NODE: 2,\n        TEXT_NODE: 3,\n        CDATA_SECTION_NODE: 4,\n        ENTITY_REFERENCE_NODE: 5,\n        ENTITY_NODE: 6,\n        PROCESSING_INSTRUCTION_NODE: 7,\n        COMMENT_NODE: 8,\n        DOCUMENT_NODE: 9,\n        DOCUMENT_TYPE_NODE: 10,\n        DOCUMENT_FRAGMENT_NODE: 11,\n        NOTATION_NODE: 12\n    },\n\n    toHex: function(color) {\n        var matches = rgb.exec(color);\n\n        if (!matches) {\n            return color;\n        }\n\n        return \"#\" + map(matches.slice(1), function(x) {\n            x = parseInt(x, 10).toString(16);\n            return x.length > 1 ? x : \"0\" + x;\n        }).join(\"\");\n    },\n\n    encode: function(value, options) {\n        var encodableChars = (!options || options.entities) ? entityRe : htmlRe;\n        return value.replace(encodableChars, function(c) {\n            var charCode = c.charCodeAt(0);\n            var entity = entityTable[charCode];\n            return entity ? '&' + entity + ';' : c;\n        });\n    },\n    isBom: function(node) {\n        return node && node.nodeType === 3 && /^[\\ufeff]+$/.test(node.nodeValue);\n    },\n    stripBom: function(text) {\n        return (text || \"\").replace(bom, \"\");\n    },\n\n    stripBomNode: function(node) {\n        if (Dom.isBom(node)) {\n            node.parentNode.removeChild(node);\n        }\n    },\n\n    insignificant: function(node) {\n        var attr = node.attributes;\n\n        return node.className == \"k-marker\" || (Dom.is(node, 'br') && (node.className == \"k-br\" || attr._moz_dirty || attr._moz_editor_bogus_node)) || (Dom.is(node, 'span') && (node.className == \"k-br\"));\n    },\n    tableCell: function(node) {\n        return Dom.is(node, \"td\") || Dom.is(node, \"th\");\n    },\n    significantNodes: function(nodes) {\n        return $.grep(nodes, function(child) {\n            var name = Dom.name(child);\n\n            if (name == 'br' || Dom.insignificant(child) || Dom.emptyTextNode(child) || (child.nodeType == 1 && !empty[name] && Dom.emptyNode(child))) {\n                return false;\n            }\n            return true;\n        });\n    },\n\n    emptyTextNode: function(node) {\n        return node && node.nodeType == 3 && whitespaceOrBom.test(node.nodeValue);\n    },\n\n    emptyNode: function(node) {\n        return node.nodeType == 1 && !Dom.significantNodes(node.childNodes).length;\n    },\n\n    name: function(node) {\n        return node.nodeName.toLowerCase();\n    },\n\n    significantChildNodes: function(node) {\n        return $.grep(node.childNodes, function(child) {\n            return child.nodeType != 3 || !Dom.isWhitespace(child);\n        });\n    },\n\n    getTextNodes: function(body, nodes) {\n        const childNodes = body.childNodes;\n        nodes = nodes || [];\n\n        for (const node of childNodes) {\n            if (node.nodeType === this.nodeTypes.TEXT_NODE &&\n                (blockElements.includes(Dom.name(node.parentNode)) ||\n                inlineElements.includes(Dom.name(node.parentNode)) ||\n                node.parentNode === body)) {\n                nodes.push(node);\n            } else if (node.nodeType === this.nodeTypes.ELEMENT_NODE) {\n                this.getTextNodes(node, nodes);\n            }\n        }\n\n        return nodes;\n    },\n\n    lastTextNode: function(node) {\n        var result = null;\n\n        if (node.nodeType == 3) {\n            return node;\n        }\n\n        for (var child = node.lastChild; child; child = child.previousSibling) {\n            result = Dom.lastTextNode(child);\n\n            if (result) {\n                return result;\n            }\n        }\n\n        return result;\n    },\n\n    is: function(node, nodeName) {\n        return node && Dom.name(node) == nodeName;\n    },\n\n    isMarker: function(node) {\n        return node.className == KMARKER;\n    },\n\n    isWhitespace: function(node) {\n        return whitespace.test(node.nodeValue);\n    },\n\n    allowsTextContent: function(node) {\n        var result = true;\n\n        nonEmptyNonTextContentElements.every(function(name) {\n            if (Dom.is(node, name)) {\n                result = false;\n                return false;\n            } else {\n                return true;\n            }\n        });\n\n        return result;\n    },\n\n    allWhitespaceContent: function(node) {\n        var child = node.firstChild;\n        while (child && Dom.isWhitespace(child)) {\n            child = child.nextSibling;\n        }\n\n        return !child;\n    },\n\n    isEmptyspace: function(node) {\n        return emptyspace.test(node.nodeValue);\n    },\n\n    htmlIndentSpace: function(node) {\n        if (!(Dom.isDataNode(node) && Dom.isWhitespace(node))) {\n            return false;\n        }\n\n        if (emptyspace.test(node.nodeValue)) {\n            return true;\n        }\n\n        var sibling = function(el, direction) {\n            while (el[direction]) {\n                el = el[direction];\n                if (Dom.significantNodes([el]).length > 0) {\n                    return el;\n                }\n            }\n        };\n\n        var parent = node.parentNode;\n        var prev = sibling(node, \"previousSibling\");\n        var next = sibling(node, \"nextSibling\");\n\n        if (bom.test(node.nodeValue)) {\n            return !!(prev || next);\n        }\n\n        if ($(parent).is(\"tr,tbody,thead,tfoot,table,ol,ul\")) {\n            return true;\n        }\n\n        if (Dom.isBlock(parent) || Dom.is(parent, \"body\")) {\n            var isPrevBlock = prev && Dom.isBlock(prev);\n            var isNextBlock = next && Dom.isBlock(next);\n            if ((!next && isPrevBlock) || (!prev && isNextBlock) || (isPrevBlock && isNextBlock)) {\n                return true;\n            }\n        }\n\n        return false;\n    },\n\n    isBlock: function(node) {\n        return block[Dom.name(node)];\n    },\n\n    isSelfClosing: function(node) {\n        return selfClosing[Dom.name(node)];\n    },\n\n    isEmpty: function(node) {\n        return empty[Dom.name(node)];\n    },\n\n    isInline: function(node) {\n        return inline[Dom.name(node)];\n    },\n\n    isImg: function(node) {\n        return Dom.name(node) == \"img\";\n    },\n\n    isBr: function(node) {\n        return Dom.name(node) == \"br\";\n    },\n\n    list: function(node) {\n        var name = node ? Dom.name(node) : \"\";\n        return name == \"ul\" || name == \"ol\" || name == \"dl\";\n    },\n\n    scrollContainer: function(doc) {\n        var wnd = Dom.windowFromDocument(doc),\n            scrollContainer = (wnd.contentWindow || wnd).document || wnd.ownerDocument || wnd;\n\n        if (scrollContainer.compatMode == 'BackCompat') {\n            scrollContainer = scrollContainer.body;\n        } else {\n            scrollContainer = scrollContainer.scrollingElement || scrollContainer.documentElement;\n        }\n\n        return scrollContainer;\n    },\n\n    scrollTo: function(node, toStart) {\n        var doc = node.ownerDocument;\n        var wnd = Dom.windowFromDocument(doc);\n        var windowHeight = wnd.innerHeight;\n        var scrollContainer = Dom.scrollContainer(doc);\n        var element, elementTop, elementHeight, marker;\n\n        if (Dom.isDataNode(node)) {\n            if (toStart) {\n                marker = Dom.create(doc, \"span\", { \"innerHTML\": \"&#xfeff;\" });\n                Dom.insertBefore(marker, node);\n                element = $(marker);\n            } else {\n                element = $(node.parentNode);\n            }\n        } else {\n            element = $(node);\n        }\n\n        elementTop = element.offset().top;\n        elementHeight = element[0].offsetHeight;\n\n        if (toStart || !elementHeight) {\n            elementHeight = parseInt(element.css(\"line-height\"), 10) ||\n                            Math.ceil(1.2 * parseInt(element.css(\"font-size\"), 10)) ||\n                            15;\n        }\n\n        if (marker) {\n            Dom.remove(marker);\n        }\n\n        if (elementHeight + elementTop > scrollContainer.scrollTop + windowHeight) {\n            scrollContainer.scrollTop = elementHeight + elementTop - windowHeight;\n        }\n    },\n\n    persistScrollTop: function(doc) {\n        persistedScrollTop = Dom.scrollContainer(doc).scrollTop;\n    },\n\n    offset: function(target, offsetParent) {\n        var result = { top: target.offsetTop, left: target.offsetLeft };\n        var parent = target.offsetParent;\n\n        while (parent && (!offsetParent || Dom.isAncestorOf(offsetParent, parent))) {\n            result.top += parent.offsetTop;\n            result.left += parent.offsetLeft;\n            parent = parent.offsetParent;\n        }\n\n        return result;\n    },\n\n    restoreScrollTop: function(doc) {\n        if (typeof persistedScrollTop == \"number\") {\n            Dom.scrollContainer(doc).scrollTop = persistedScrollTop;\n            persistedScrollTop = undefined;\n        }\n    },\n\n    insertAt: function(parent, newElement, position) {\n        parent.insertBefore(newElement, parent.childNodes[position] || null);\n    },\n\n    insertBefore: function(newElement, referenceElement) {\n        if (referenceElement.parentNode) {\n            return referenceElement.parentNode.insertBefore(newElement, referenceElement);\n        } else {\n            return referenceElement;\n        }\n    },\n\n    insertAfter: function(newElement, referenceElement) {\n        return referenceElement.parentNode.insertBefore(newElement, referenceElement.nextSibling);\n    },\n\n    remove: function(node) {\n        if (node.parentNode) {\n            node.parentNode.removeChild(node);\n        }\n    },\n\n    removeChildren: function(node) {\n        while (node.firstChild) {\n            node.removeChild(node.firstChild);\n        }\n    },\n\n    removeTextSiblings: function(node) {\n        var parentNode = node.parentNode;\n\n        while (node.nextSibling && node.nextSibling.nodeType == 3) {\n            parentNode.removeChild(node.nextSibling);\n        }\n\n        while (node.previousSibling && node.previousSibling.nodeType == 3) {\n            parentNode.removeChild(node.previousSibling);\n        }\n    },\n\n    trim: function(parent) {\n        for (var i = parent.childNodes.length - 1; i >= 0; i--) {\n            var node = parent.childNodes[i];\n            if (Dom.isDataNode(node)) {\n                if (!Dom.stripBom(node.nodeValue).length) {\n                    Dom.remove(node);\n                }\n            } else if (node.className != KMARKER) {\n                Dom.trim(node);\n\n                if ((!Dom.isEmpty(node) && node.childNodes.length === 0) ||\n                    (Dom.isBlock(node) && Dom.allWhitespaceContent(node))) {\n                    Dom.remove(node);\n                }\n            }\n        }\n\n        return parent;\n    },\n\n    closest: function(node, tags) {\n        if (typeof tags === \"string\") {\n            tags = [tags];\n        }\n\n        while (node && tags.indexOf(Dom.name(node)) < 0) {\n            node = node.parentNode;\n        }\n\n        return node;\n    },\n\n    closestBy: function(node, condition, rootCondition) {\n        while (node && !condition(node)) {\n            if (rootCondition && rootCondition(node)) {\n                return null;\n            }\n            node = node.parentNode;\n        }\n        return node;\n    },\n\n    sibling: function(node, direction) {\n        do {\n            node = node[direction];\n        } while (node && node.nodeType != 1);\n\n        return node;\n    },\n\n    next: function(node) {\n        return Dom.sibling(node, \"nextSibling\");\n    },\n\n    prev: function(node) {\n        return Dom.sibling(node, \"previousSibling\");\n    },\n\n    parentOfType: function(node, tags) {\n        do {\n            node = node.parentNode;\n        } while (node && !(Dom.ofType(node, tags)));\n\n        return node;\n    },\n\n    ofType: function(node, tags) {\n        return $.inArray(Dom.name(node), tags) >= 0;\n    },\n\n    changeTag: function(referenceElement, tagName, skipAttributes) {\n        var newElement = Dom.create(referenceElement.ownerDocument, tagName),\n            attributes = referenceElement.attributes,\n            i, len, name, value, attribute;\n\n        if (!skipAttributes) {\n            for (i = 0, len = attributes.length; i < len; i++) {\n                attribute = attributes[i];\n                if (attribute.specified) {\n                    // IE < 8 cannot set class or style via setAttribute\n                    name = attribute.nodeName;\n                    value = attribute.nodeValue;\n                    if (name == CLASS) {\n                        newElement.className = value;\n                    } else if (name == STYLE) {\n                        newElement.style.cssText = referenceElement.style.cssText;\n                    } else {\n                        newElement.setAttribute(name, value);\n                    }\n                }\n            }\n        }\n\n        while (referenceElement.firstChild) {\n            newElement.appendChild(referenceElement.firstChild);\n        }\n\n        Dom.insertBefore(newElement, referenceElement);\n        Dom.remove(referenceElement);\n        return newElement;\n    },\n\n    editableParent: function(node) {\n        while (node && (node.nodeType == 3 || node.contentEditable !== 'true')) {\n            node = node.parentNode;\n        }\n\n        return node;\n    },\n\n    wrap: function(node, wrapper) {\n        Dom.insertBefore(wrapper, node);\n        wrapper.appendChild(node);\n        return wrapper;\n    },\n\n    unwrap: function(node) {\n        var parent = node.parentNode;\n        while (node.firstChild) {\n            parent.insertBefore(node.firstChild, node);\n        }\n\n        parent.removeChild(node);\n    },\n\n    wrapper: function(node) {\n        var wrapper = Dom.closestBy(node, function(el) {\n            return el.parentNode && Dom.significantNodes(el.parentNode.childNodes).length > 1;\n        });\n\n        return $(wrapper).is(\"body,.k-editor\") ? undefined : wrapper;\n    },\n\n    isChildOfBaseContainer: function(node) {\n        return $(node).parent().is(\"body,.k-editor\");\n    },\n\n    create: function(document, tagName, attributes) {\n        return Dom.attr(document.createElement(tagName), attributes);\n    },\n\n    createEmptyNode: function(document, tagName, attributes) {\n        var node = Dom.attr(document.createElement(tagName), attributes);\n        node.innerHTML = \"\\ufeff\";\n        return node;\n    },\n\n    attr: function(element, attributes) {\n        attributes = extend({}, attributes);\n\n        if (attributes && STYLE in attributes) {\n            Dom.style(element, attributes.style);\n            delete attributes.style;\n        }\n\n        for (var attr in attributes) {\n            if (attributes[attr] === null) {\n                element.removeAttribute(attr);\n                delete attributes[attr];\n            } else if (attr == \"className\") {\n                element[attr] = attributes[attr];\n            }\n        }\n\n        return extend(element, attributes);\n    },\n\n    mergeAttributes: function(origin, target, traverseCss) {\n        if (!origin.attributes.length) {\n            return;\n        }\n\n        $.each(origin.attributes, function() {\n            if (this.name !== \"contenteditable\" && (!traverseCss || this.name !== STYLE)) {\n                $(target).attr(this.name, this.value);\n            }\n\n            if (traverseCss && this.name === STYLE) {\n                $.each(origin.style, function() {\n                    target.style[this] = origin.style[this];\n                });\n            }\n        });\n    },\n\n    style: function(node, value) {\n        $(node).css(value || {});\n    },\n\n    unstyle: function(node, value) {\n        for (var key in value) {\n            if (key == FLOAT) {\n                node.style[kendo.support.cssFloat ? CSSFLOAT : STYLEFLOAT] = \"\";\n            } else {\n                node.style[key] = \"\";\n            }\n        }\n\n        if (node.style.cssText === \"\") {\n            node.removeAttribute(STYLE);\n        }\n    },\n\n    inlineStyle: function(body, name, attributes) {\n        var span = $(Dom.create(body.ownerDocument, name, attributes)),\n            style;\n\n        body.appendChild(span[0]);\n\n        style = map(cssAttributes, function(value) {\n            if (browser.msie && value == \"line-height\" && span.css(value) == \"1px\") {\n                return \"line-height:1.5\";\n            } else {\n                return value + \":\" + span.css(value);\n            }\n        }).join(\";\");\n\n        span.remove();\n\n        return style;\n    },\n\n    getEffectiveBackground: function(element) {\n        var backgroundStyle = element.css(\"background-color\") || \"\";\n\n        if (backgroundStyle.indexOf(\"rgba(0, 0, 0, 0\") < 0 && backgroundStyle !== \"transparent\") {\n            return backgroundStyle;\n        } else if (element[0].tagName.toLowerCase() === \"html\") {\n            return \"Window\";\n        } else {\n            return Dom.getEffectiveBackground(element.parent());\n        }\n    },\n\n    innerText: function(node) {\n        var text = node.innerHTML;\n        text = text.replace(/<!--(.|\\s)*?-->/gi, \"\");\n        text = text.replace(/<\\/?[^>]+?\\/?>/gm, \"\");\n\n        return text;\n    },\n\n    removeClass: function(node, classNames) {\n        var className = \" \" + node.className + \" \",\n            classes = classNames.split(\" \"),\n            i, len;\n\n        for (i = 0, len = classes.length; i < len; i++) {\n            className = className.replace(\" \" + classes[i] + \" \", \" \");\n        }\n\n        className = kendo.trim(className);\n\n        if (className.length) {\n            node.className = className;\n        } else {\n            node.removeAttribute(CLASS);\n        }\n    },\n\n    commonAncestor: function() {\n        var count = arguments.length,\n            paths = [],\n            minPathLength = Infinity,\n            output = null,\n            i, ancestors, node, first, j;\n\n        if (!count) {\n            return null;\n        }\n\n        if (count == 1) {\n            return arguments[0];\n        }\n\n        for (i = 0; i < count; i++) {\n            ancestors = [];\n            node = arguments[i];\n            while (node) {\n                ancestors.push(node);\n                node = node.parentNode;\n            }\n            paths.push(ancestors.reverse());\n            minPathLength = Math.min(minPathLength, ancestors.length);\n        }\n\n        if (count == 1) {\n            return paths[0][0];\n        }\n\n        for (i = 0; i < minPathLength; i++) {\n            first = paths[0][i];\n\n            for (j = 1; j < count; j++) {\n                if (first != paths[j][i]) {\n                    return output;\n                }\n            }\n\n            output = first;\n        }\n        return output;\n    },\n\n    closestSplittableParent: function(nodes) {\n        var result;\n\n        if (nodes.length == 1) {\n            result = Dom.parentOfType(nodes[0], [\"ul\",\"ol\"]);\n        } else {\n            result = Dom.commonAncestor.apply(null, nodes);\n        }\n\n        if (!result) {\n            result = Dom.parentOfType(nodes[0], [\"p\", \"td\"]) || nodes[0].ownerDocument.body;\n        }\n\n        if (Dom.isInline(result)) {\n            result = Dom.blockParentOrBody(result);\n        }\n\n        var editableParents = map(nodes, Dom.editableParent);\n        var editableAncestor = Dom.commonAncestor(editableParents)[0];\n\n        if ($.contains(result, editableAncestor)) {\n            result = editableAncestor;\n        }\n\n        return result;\n    },\n\n    closestEditable: function(node, types) {\n        var closest;\n        var editable = Dom.editableParent(node);\n\n        if (Dom.ofType(node, types)) {\n            closest = node;\n        } else {\n            closest = Dom.parentOfType(node, types);\n        }\n\n        if ((closest && editable && $.contains(closest, editable)) || (!closest && editable)) {\n            closest = editable;\n        }\n\n        return closest;\n    },\n\n    closestEditableOfType: function(node, types) {\n        var editable = Dom.closestEditable(node, types);\n\n        if (editable && Dom.ofType(editable, types) && !$(editable).is(\".k-editor\")) {\n            return editable;\n        }\n    },\n\n    filter: function(tagName, nodes, invert) {\n        var filterFn = function(node) {\n            return Dom.name(node) == tagName;\n        };\n\n        return Dom.filterBy(nodes, filterFn, invert);\n    },\n\n    filterBy: function(nodes, condition, invert) {\n        var i = 0;\n        var len = nodes.length;\n        var result = [];\n        var match;\n\n        for (; i < len; i++) {\n            match = condition(nodes[i]);\n            if ((match && !invert) || (!match && invert)) {\n                result.push(nodes[i]);\n            }\n        }\n\n        return result;\n    },\n\n    ensureTrailingBreaks: function(node) {\n        var elements = $(node).find(\"p,td,th\");\n        var length = elements.length;\n        var i = 0;\n\n        if (length) {\n            for (; i < length; i++) {\n                Dom.ensureTrailingBreak(elements[i]);\n            }\n        } else {\n            Dom.ensureTrailingBreak(node);\n        }\n    },\n\n    removeTrailingBreak: function(node) {\n        $(node).find(\"br[type=_moz],.k-br\").remove();\n    },\n\n    ensureTrailingBreak: function(node) {\n        Dom.removeTrailingBreak(node);\n\n        var lastChild = node.lastChild;\n        var name = lastChild && Dom.name(lastChild);\n        var br;\n\n        if (!name ||\n            (name != \"br\" && name != \"img\") ||\n            (name == \"br\" && lastChild.className != \"k-br\")) {\n            br = node.ownerDocument.createElement(\"br\");\n            br.className = \"k-br\";\n            node.appendChild(br);\n        }\n    },\n\n    // Start: Table Utilities\n\n    reMapTableColumns: function(table, colAttr) {\n        Dom._mapColIndices(table, colAttr);\n    },\n\n    clearTableMappings: function(table, colAttr) {\n        $(table).find(\"[\" + colAttr + \"]\").removeAttr(colAttr);\n    },\n\n    _mapColIndices: function(table, colAttr) {\n        var registeredColumns = {};\n\n        for (var rowIndex = 0; rowIndex < table.rows.length; rowIndex++) {\n            var cells = table.rows[rowIndex].cells;\n            var colIndex = 0;\n            for (var cellIndex = 0; cellIndex < cells.length; cellIndex++) {\n                var cell = cells[cellIndex];\n\n                if (cell.rowSpan > 1) {\n                    this._mapColspan(cell, rowIndex, colIndex, registeredColumns);\n                }\n\n                if (registeredColumns[rowIndex]) {\n                    while (registeredColumns[rowIndex][colIndex]) {\n                        colIndex++;\n                    }\n                }\n\n                cell.setAttribute(colAttr, colIndex);\n\n                if (cell.colSpan > 1) {\n                    colIndex = colIndex + cell.colSpan - 1;\n                }\n                colIndex++;\n            }\n        }\n    },\n\n    _mapColspan: function(cell, rowIndex, colIndex, registeredColumns) {\n        var rowSpan = cell.rowSpan,\n            colSpan = cell.colSpan,\n            index;\n\n        for (var ci = 0; ci < colSpan; ci++) {\n            index = colIndex + ci;\n\n            for (var ri = rowIndex + 1; ri < rowIndex + rowSpan; ri++) {\n\n                if (!registeredColumns[ri]) {\n                    registeredColumns[ri] = {};\n                    registeredColumns[ri].length = 0;\n                }\n\n                if (registeredColumns[rowIndex]) {\n                    while (registeredColumns[rowIndex][index]) {\n                        index++;\n                    }\n                }\n\n                registeredColumns[ri][index] = true;\n                registeredColumns[ri].length++;\n            }\n        }\n\n    },\n\n    associateWithIds: function(table) {\n        var that = this;\n        var numberOfTheadRows = 0;\n        var tableRows = table.rows;\n        var numberOfTableRows = tableRows.length;\n        var theadMatrix = [];\n        var tbodyMatrix = [];\n        var theadRows, i;\n\n        if (table.tHead) {\n            theadRows = table.tHead.rows;\n            numberOfTheadRows = theadRows.length;\n        } else {\n            numberOfTheadRows = that._getNumberOfHeaderRows(table);\n            theadRows = [];\n            for (i = 0; i < numberOfTheadRows; i++) {\n                theadRows.push(tableRows[i]);\n            }\n        }\n        for (i = 0; i < numberOfTheadRows; i++) {\n            theadMatrix.push([]);\n        }\n        for (i = 0; i < numberOfTableRows; i++) {\n            tbodyMatrix.push([]);\n        }\n\n        that._generateIdsForColumns(theadMatrix, theadRows);\n        that._generateIdsForRows(theadMatrix, tbodyMatrix, numberOfTheadRows, tableRows);\n        that._assignIds(theadMatrix, tbodyMatrix, numberOfTheadRows, tableRows);\n    },\n\n    _generateIdsForColumns: function(theadMatrix, theadRows) {\n        var timestamp = new Date().getTime();\n        var numberOfTheadRows = theadRows ? theadRows.length : 0;\n        var row, cells, cell, col, id, colspan, rowspan, i, j, k, l;\n\n        for (i = 0; i < numberOfTheadRows; i++) {\n            row = theadRows[i];\n            cells = row.cells;\n            col = 0;\n\n            for (j = 0; j < cells.length; j++) {\n                cell = cells[j];\n                id = \"table\" + i + j + (++timestamp);\n                cell.setAttribute(\"id\", id);\n                colspan = cell.getAttribute(\"colspan\") || 1;\n                rowspan = cell.getAttribute(\"rowspan\") || 1;\n\n                while (theadMatrix[i][j + col]) {\n                    col += 1;\n                }\n\n                for (k = 0; k < rowspan; k++) {\n                    for (l = 0; l < colspan; l++) {\n                        theadMatrix[i + k][j + col + l] = id;\n                    }\n                }\n            }\n        }\n    },\n\n    _generateIdsForRows: function(theadMatrix, tbodyMatrix, numberOfTheadRows, tableRows) {\n        var that = this;\n        var timestamp = new Date().getTime();\n        var numberOfTableRows = tableRows.length;\n        var row, cells, cell, col, id, colspan, rowspan, i, j, k, l, colIndex, headers;\n\n        var pushHeaderId = function(row) {\n            headers.push(row[colIndex]);\n        };\n\n        for (i = numberOfTheadRows; i < numberOfTableRows; i++) {\n            row = tableRows[i];\n            cells = $(row.cells).filter(\"th\");\n            col = 0;\n\n            for (j = 0; j < cells.length; j++) {\n                cell = cells[j];\n                id = \"table\" + i + j + (++timestamp);\n                cell.setAttribute(\"id\", id);\n                colspan = cell.getAttribute(\"colspan\") || 1;\n                rowspan = cell.getAttribute(\"rowspan\") || 1;\n\n                while (tbodyMatrix[i][j + col]) {\n                    col += 1;\n                }\n\n                for (k = 0; k < rowspan; k++) {\n                    for (l = 0; l < colspan; l++) {\n                        tbodyMatrix[i + k][j + col + l] = id;\n                    }\n                }\n\n                colIndex = cell.getAttribute(\"col-index\");\n                headers = [];\n                theadMatrix.forEach(pushHeaderId);\n                headers = headers.filter(that._onlyUnique);\n                cell.setAttribute(\"headers\", headers.join(\" \").trim());\n            }\n        }\n    },\n\n    _assignIds: function(theadMatrix, tbodyMatrix, numberOfTheadRows, tableRows) {\n        var that = this;\n        var numberOfTableRows = tableRows.length;\n        var row, cells, cell, i, j, colIndex, headers;\n\n        var pushHeaderId = function(row) {\n            headers.push(row[colIndex]);\n        };\n\n        for (i = numberOfTheadRows; i < numberOfTableRows; i++) {\n            row = tableRows[i];\n            cells = $(row.cells).filter(\"td\");\n\n            for (j = 0; j < cells.length; j++) {\n                cell = cells[j];\n                colIndex = cell.getAttribute(\"col-index\");\n                headers = tbodyMatrix[i].slice();\n\n                theadMatrix.forEach(pushHeaderId);\n                headers = headers.filter(that._onlyUnique);\n                cell.setAttribute(\"headers\", headers.join(\" \").trim());\n            }\n        }\n    },\n\n    _getNumberOfColumns: function(table) {\n        var cells = $(table).find(\"th, td\");\n        var numberOfCols = 0;\n        var cell, i, currentIndex;\n\n        for (i = 0; i < cells.length; i++) {\n            cell = cells[i];\n            currentIndex = Number(cell.getAttribute(\"col-index\")) + 1;\n            if (currentIndex > numberOfCols) {\n                numberOfCols = currentIndex;\n            }\n        }\n\n        return numberOfCols;\n    },\n\n    _getNumberOfHeaderColumns: function(table, numberOfHeaderRows) {\n        var rows = table.rows;\n        var numberOfCols = 0;\n        var currentIndex, row, i, j, cell;\n\n        for (i = numberOfHeaderRows; i < rows.length; i++) {\n            row = rows[i];\n\n            for (j = 0; j < row.cells.length; j++) {\n                cell = row.cells[j];\n\n                if (this.is(cell, \"th\")) {\n                    currentIndex = Number(cell.getAttribute(\"col-index\")) + 1;\n                    if (currentIndex > numberOfCols) {\n                        numberOfCols = currentIndex;\n                    }\n                }\n            }\n        }\n\n        return numberOfCols;\n    },\n\n    _getNumberOfHeaderRows: function(table) {\n        var rows = table.rows;\n        var thead = table.tHead;\n        var number = thead && table.tHead.rows ? table.tHead.rows.length : 0;\n        var j, row, cell, length;\n\n        if (number === 0) {\n            row = rows[0];\n            length = row.cells && row.cells.length;\n\n            while (row && length && this.is(row.cells[0], \"th\")) {\n                for (j = 0; j < length; j++) {\n                    cell = row ? row.cells[j] : null;\n\n                    if (!this.is(cell, \"th\")) {\n                        row = null;\n                    }\n                }\n\n                if (row) {\n                    number += 1;\n                    row = this.next(row);\n                    length = row && row.cells && row.cells.length;\n                }\n            }\n        }\n\n        return number;\n    },\n\n    // End: Table Utilities\n\n    _onlyUnique: function(value, index, self) {\n        return self.indexOf(value) === index;\n    }\n};\n\nkendo.ui.editor.Dom = Dom;\n\n})(window.kendo.jQuery);\n\n\n","import \"./dom.js\";\n\n(function($, undefined) {\n\n// Imports ================================================================\nvar kendo = window.kendo;\nvar Editor = kendo.ui.editor;\nvar dom = Editor.Dom;\nvar extend = $.extend;\n\nvar fontSizeMappings = 'xx-small,x-small,small,medium,large,x-large,xx-large'.split(',');\nvar quoteRe = /\"/g; //\"\nvar brRe = /<br[^>]*>/i;\nvar pixelRe = /^\\d+(\\.\\d*)?(px)?$/i;\nvar emptyPRe = /<p>(?:&nbsp;)?<\\/p>/i;\nvar cssDeclaration = /(\\*?[-#\\/\\*\\\\\\w]+(?:\\[[0-9a-z_-]+\\])?)\\s*:\\s*((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^\\)]*?\\)|[^};])+)/g;\nvar sizzleAttr = /^sizzle-\\d+/i;\nvar scriptAttr = /^k-script-/i;\nvar onerrorRe = /\\s*onerror\\s*=\\s*(?:'|\")?([^'\">\\s]*)(?:'|\")?/i;\nvar br = '<br class=\"k-br\">';\nvar bomSpan = \"<span class='k-br'>\\ufeff</span>\";\n\nvar div = document.createElement(\"div\");\ndiv.innerHTML = \" <hr>\";\nvar supportsLeadingWhitespace = div.firstChild.nodeType === 3;\ndiv = null;\nvar isFunction = kendo.isFunction;\n\nvar TD = \"td\";\n\nvar Serializer = {\n    toEditableHtml: function(html) {\n        return (html || \"\")\n            .replace(/<!\\[CDATA\\[(.*)?\\]\\]>/g, \"<!--[CDATA[$1]]-->\")\n            .replace(/<(\\/?)script([^>]*)>/ig, \"<$1k:script$2>\")\n            .replace(/<img([^>]*)>/ig, function(match) {\n                return match.replace(onerrorRe, \"\");\n            })\n            .replace(/(<\\/?img[^>]*>)[\\r\\n\\v\\f\\t ]+/ig, \"$1\")\n            .replace(/^<(table|blockquote)/i, br + '<$1')\n            .replace(/^[\\s]*(&nbsp;|\\u00a0)/i, '$1')\n            .replace(/<\\/(table|blockquote)>$/i, '</$1>' + br);\n    },\n\n    _toEditableImmutables: function(body) {\n        var immutable = Editor.Immutables.immutable,\n            emptyTextNode = dom.emptyTextNode,\n            first = body.firstChild,\n            last = body.lastChild;\n\n        while (emptyTextNode(first)) {\n            first = first.nextSibling;\n        }\n\n        while (emptyTextNode(last)) {\n            last = last.previousSibling;\n        }\n\n        if (first && immutable(first)) {\n            $(bomSpan).prependTo(body);\n        }\n\n        if (last && immutable(last)) {\n            $(bomSpan).appendTo(body);\n        }\n    },\n\n    _fillEmptyElements: function(body) {\n        // fills empty elements to allow them to be focused\n        $(body).find(\"p,td\").each(function() {\n            var p = $(this);\n            if (/^\\s*$/g.test(p.text()) && !p.find(\"img,input\").length) {\n                var node = this;\n                while (node.children[0] && node.children[0].nodeType != 3) {\n                    node = node.children[0];\n                }\n\n                if (node.nodeType == 1 && !dom.empty[dom.name(node)]) {\n                    if (dom.is(node, \"td\")) {\n                        node.innerHTML = kendo.ui.editor.emptyTableCellContent;\n                    }\n                    else {\n                        node.innerHTML = kendo.ui.editor.emptyElementContent;\n                    }\n                }\n            }\n        });\n    },\n\n    _removeSystemElements: function(body) {\n        // removes persisted system elements\n        $(\".k-paste-container\", body).remove();\n    },\n\n    _resetOrderedLists: function(root) {\n        // fix for IE9 OL bug -- https://connect.microsoft.com/IE/feedback/details/657695/ordered-list-numbering-changes-from-correct-to-0-0\n        var ols = root.getElementsByTagName(\"ol\"), i, ol, originalStart;\n\n        for (i = 0; i < ols.length; i++) {\n            ol = ols[i];\n            originalStart = ol.getAttribute(\"start\");\n\n            ol.setAttribute(\"start\", 1);\n\n            if (originalStart) {\n                ol.setAttribute(\"start\", originalStart);\n            } else {\n                ol.removeAttribute(originalStart);\n            }\n        }\n    },\n\n    _preventScriptExecution: function(root) {\n        $(root).find(\"*\").each(function() {\n            var attributes = this.attributes;\n            var attribute, i, l, name;\n            var attributesToRemove = [];\n\n            for (i = 0, l = attributes.length; i < l; i++) {\n                attribute = attributes[i];\n                name = attribute.nodeName;\n\n                if (attribute.specified && /^on/i.test(name)) {\n                    this.setAttribute(\"k-script-\" + name, attribute.value);\n                    attributesToRemove.push(name);\n                }\n            }\n\n            for (i = 0, l = attributesToRemove.length; i < l; i++) {\n                this.removeAttribute(attributesToRemove[i]);\n            }\n        });\n    },\n\n    htmlToDom: function(html, root, options) {\n        var browser = kendo.support.browser;\n        var msie = browser.msie;\n        var o = options || {};\n        var immutables = o.immutables;\n\n        html = Serializer.toEditableHtml(html);\n\n        if (isFunction(o.custom)) {\n            html = o.custom(html) || html;\n        }\n        root.innerHTML = html;\n\n        if (immutables) {\n            immutables.deserialize(root);\n        }\n\n        if (msie) {\n            // unicode characters denormalize the DOM tree in IE9\n            dom.normalize(root);\n\n            Serializer._resetOrderedLists(root);\n        }\n\n        Serializer._preventScriptExecution(root);\n\n        Serializer._fillEmptyElements(root);\n\n        Serializer._removeSystemElements(root);\n\n        Serializer._toEditableImmutables(root);\n\n        // add k-table class to all tables\n        $(\"table\", root).addClass(\"k-table\");\n\n        return root;\n    },\n\n    domToXhtml: function(root, options) {\n        var result = [];\n        var immutables = options && options.immutables;\n\n        function semanticFilter(attributes) {\n            return $.grep(attributes, function(attr) {\n                return attr.name != \"style\";\n            });\n        }\n\n        function mapStart(node, tag) {\n            result.push('<' + tag);\n            attr(node);\n            result.push('>');\n        }\n\n        var tagMap = {\n            iframe: {\n                start: function(node) { mapStart(node, \"iframe\"); },\n                end: function() { result.push('</iframe>'); }\n            },\n            'k:script': {\n                start: function(node) { mapStart(node, \"script\"); },\n                end: function() { result.push('</script>'); },\n                skipEncoding: true\n            },\n            span: {\n                canOptimize: true,\n                semantic: true,\n                start: function(node) {\n                    var style = node.style;\n\n                    var attributes = specifiedAttributes(node);\n                    var semanticAttributes = semanticFilter(attributes);\n\n                    if (semanticAttributes.length) {\n                        result.push(\"<span\"); attr(node, semanticAttributes); result.push(\">\");\n                    }\n\n                    if (style.textDecoration == \"underline\" || style.textDecorationLine == \"underline\") {\n                        result.push(\"<u>\");\n                    }\n\n                    var font = [];\n                    if (style.color) {\n                        font.push('color=\"' + dom.toHex(style.color) + '\"');\n                    }\n\n                    if (style.fontFamily) {\n                        font.push('face=\"' + style.fontFamily + '\"');\n                    }\n\n                    if (style.fontSize) {\n                        var size = $.inArray(style.fontSize, fontSizeMappings);\n                        font.push('size=\"' + size + '\"');\n                    }\n\n                    // Apply the rest of the inline styles back\n                    var inlineStyles = [];\n                    var ignoredStylePrefixes = [\"text-decoration\", \"text-decoration-line\", \"color\", \"font\"];\n\n                    for (let i = 0; i < style.length; i++) {\n                        var inlineStyle = style[i];\n\n                        if (ignoredStylePrefixes.filter(prop => inlineStyle.startsWith(prop)).length <= 0) {\n                            inlineStyles.push(`${inlineStyle}: ${style[inlineStyle]}`);\n                        }\n                    }\n\n                    if (inlineStyles.length) {\n                        font.push('style=\"' + inlineStyles.join(\";\") + '\"');\n                    }\n\n                    if (font.length) {\n                        result.push(\"<font \" + font.join(\" \") + \">\");\n                    }\n                },\n                end: function(node) {\n                    var style = node.style;\n\n                    if (style.color || style.fontFamily || style.fontSize) {\n                        result.push(\"</font>\");\n                    }\n\n                    if (style.textDecoration == \"underline\" || style.textDecorationLine == \"underline\") {\n                        result.push(\"</u>\");\n                    }\n\n                    if (semanticFilter(specifiedAttributes(node)).length) {\n                        result.push(\"</span>\");\n                    }\n                }\n            },\n            strong: {\n                semantic: true,\n                start: function(node) { mapStart(node, \"b\"); },\n                end: function() { result.push('</b>'); }\n            },\n            em: {\n                semantic: true,\n                start: function(node) { mapStart(node, \"i\"); },\n                end: function() { result.push('</i>'); }\n            },\n            b: {\n                semantic: false,\n                start: function(node) { mapStart(node, \"strong\"); },\n                end: function() { result.push('</strong>'); }\n            },\n            i: {\n                semantic: false,\n                start: function(node) { mapStart(node, \"em\"); },\n                end: function() { result.push('</em>'); }\n            },\n            u: {\n                semantic: false,\n                start: function(node) {\n                    result.push('<span');\n\n                    var attributes = specifiedAttributes(node);\n                    var style = $(attributes).filter(function(i, item) { return item.name == \"style\"; })[0];\n                    var styleObj = { nodeName: \"style\", value: \"text-decoration:underline;\" };\n\n                    if (style) {\n                        styleObj.value = style.value.replace(/text-decoration-line\\s*:\\s*underline;?/i, \"\");\n                        if (!/text-decoration/i.test(styleObj.value)) {\n                            styleObj.value = \"text-decoration:underline;\" + styleObj.value;\n                        }\n                        attributes.splice($.inArray(style, attributes), 1);\n                    }\n                    attributes.push(styleObj);\n\n                    attr(node, attributes);\n                    result.push('>');\n                },\n                end: function() { result.push('</span>'); }\n            },\n            font: {\n                canOptimize: true,\n                semantic: false,\n                start: function(node) {\n                    result.push('<span style=\"');\n\n                    var color = node.getAttribute('color');\n                    var size = fontSizeMappings[node.getAttribute('size')];\n                    var face = node.getAttribute('face');\n\n                    if (color) {\n                        result.push('color:');\n                        result.push(dom.toHex(color));\n                        result.push(';');\n                    }\n\n                    if (face) {\n                        result.push('font-family:');\n                        result.push(face);\n                        result.push(';');\n                    }\n\n                    if (size) {\n                        result.push('font-size:');\n                        result.push(size);\n                        result.push(';');\n                    }\n\n                    result.push('\">');\n                },\n                end: function() {\n                    result.push('</span>');\n                }\n            }\n        };\n\n        tagMap.script = tagMap[\"k:script\"];\n\n        options = options || {};\n\n        if (typeof options.semantic == \"undefined\") {\n            options.semantic = true;\n        }\n\n        function cssProperties(cssText) {\n            var trim = kendo.trim;\n            var css = trim(cssText);\n            var match;\n            var property, value;\n            var properties = [];\n\n            cssDeclaration.lastIndex = 0;\n\n            while (true) {\n                match = cssDeclaration.exec(css);\n\n                if (!match) {\n                    break;\n                }\n\n                property = trim(match[1].toLowerCase());\n                value = trim(match[2]);\n\n                if (property == \"font-size-adjust\" || property == \"font-stretch\") {\n                    continue;\n                }\n\n                if (property.indexOf('color') >= 0) {\n                    value = dom.toHex(value);\n                } else if (property.indexOf('font') >= 0) {\n                    value = value.replace(quoteRe, \"'\");\n                } else if (/\\burl\\(/g.test(value)) {\n                    value = value.replace(quoteRe, \"\");\n                }\n\n                properties.push({ property: property, value: value });\n            }\n\n            return properties;\n        }\n\n        function styleAttr(cssText) {\n            var properties = cssProperties(cssText);\n            var i;\n\n            for (i = 0; i < properties.length; i++) {\n                result.push(properties[i].property);\n                result.push(':');\n                result.push(properties[i].value);\n                result.push(';');\n            }\n        }\n\n        function specifiedAttributes(node) {\n            var result = [];\n            var attributes = node.attributes;\n            var attribute, i, l;\n            var name, value, specified;\n\n            for (i = 0, l = attributes.length; i < l; i++) {\n                attribute = attributes[i];\n\n                name = attribute.nodeName;\n                value = attribute.value;\n                specified = attribute.specified;\n\n                // In IE < 8 the 'value' attribute is not returned as 'specified'. The same goes for type=\"text\"\n                if (name == 'value' && 'value' in node && node.value) {\n                    specified = true;\n                } else if (name == 'type' && value == 'text') {\n                    specified = true;\n                } else if (name == \"class\" && !value) {\n                    specified = false;\n                } else if (sizzleAttr.test(name)) {\n                    specified = false;\n                } else if (name == 'complete') {\n                    specified = false;\n                } else if (name == 'altHtml') {\n                    specified = false;\n                } else if (name == 'start' && dom.is(node, \"ul\")) {\n                    specified = false;\n                } else if (name == 'start' && dom.is(node, \"ol\") && value == \"1\") {\n                    specified = false;\n                } else if (name.indexOf('_moz') >= 0) {\n                    specified = false;\n                } else if (scriptAttr.test(name)) {\n                    specified = !!options.scripts;\n                } else if (name == 'data-role' && value == 'resizable' && (dom.is(node, \"tr\") || dom.is(node, \"td\"))) {\n                    specified = false;\n                }\n\n                if (specified) {\n                    result.push(attribute);\n                }\n            }\n\n            return result;\n        }\n\n        function attr(node, attributes) {\n            var i, l, attribute, name, value;\n\n            attributes = attributes || specifiedAttributes(node);\n\n            if (dom.is(node, 'img')) {\n                var width = node.style.width,\n                    height = node.style.height,\n                    $node = $(node);\n\n                if (width && pixelRe.test(width)) {\n                    $node.attr('width', parseInt(width, 10));\n                    dom.unstyle(node, { width: undefined });\n                }\n\n                if (height && pixelRe.test(height)) {\n                    $node.attr('height', parseInt(height, 10));\n                    dom.unstyle(node, { height: undefined });\n                }\n            }\n\n            if (!attributes.length) {\n                return;\n            }\n\n            // Remove the following if everything seems to be in order.\n            // https://github.com/telerik/kendo-ui-core/issues/3639\n            // attributes.sort(function (a, b) {\n            //     return a.nodeName > b.nodeName ? 1 : a.nodeName < b.nodeName ? -1 : 0;\n            // });\n\n            for (i = 0, l = attributes.length; i < l; i++) {\n                attribute = attributes[i];\n                name = attribute.nodeName;\n                value = attribute.value;\n\n                if (name == \"class\" && value == \"k-table\") {\n                    continue;\n                }\n\n                name = name.replace(scriptAttr, \"\");\n\n                result.push(' ');\n                result.push(name);\n                result.push('=\"');\n\n                if (name == 'style') {\n                    styleAttr(value || node.style.cssText);\n                } else if (name == 'src' || name == 'href') {\n                    result.push(kendo.htmlEncode(node.getAttribute(name, 2)));\n                } else {\n                    result.push(dom.fillAttrs[name] ? name : value);\n                }\n\n                result.push('\"');\n            }\n        }\n\n        function children(node, skip, skipEncoding) {\n            for (var childNode = node.firstChild; childNode; childNode = childNode.nextSibling) {\n                child(childNode, skip, skipEncoding);\n            }\n        }\n\n        function text(node) {\n            return node.nodeValue.replace(/\\ufeff/g, \"\");\n        }\n\n        function isEmptyBomNode(node) {\n            if (dom.isBom(node)) {\n                do {\n                    node = node.parentNode;\n\n                    if (dom.is(node, TD) && node.childNodes.length === 1) {\n                        return true;\n                    }\n\n                    if (node.childNodes.length !== 1) {\n                        return false;\n                    }\n                } while (!dom.isBlock(node));\n\n                return true;\n            }\n\n            return false;\n        }\n\n        function child(node, skip, skipEncoding) {\n            var nodeType = node.nodeType,\n                tagName, mapper,\n                parent, value, previous, jqNode;\n\n            if (immutables && Editor.Immutables.immutable(node)) {\n                result.push(immutables.serialize(node));\n            } else if (nodeType == 1) {\n                tagName = dom.name(node);\n                jqNode = $(node);\n\n                if (jqNode.hasClass(\"k-element-resize-handle-wrapper\") || jqNode.hasClass(\"k-column-resize-handle-wrapper\") || jqNode.hasClass(\"k-row-resize-handle-wrapper\")) {\n                    return;\n                }\n\n                if (!tagName || dom.insignificant(node)) {\n                    return;\n                }\n\n                if (!options.scripts && (tagName == \"script\" || tagName == \"k:script\")) {\n                    return;\n                }\n\n                mapper = tagMap[tagName];\n\n                if (mapper) {\n                    if (mapper.canOptimize &&\n                        options.optimizeTags &&\n                        shouldOptimize(node)) {\n                            children(node, false, mapper.skipEncoding);\n                        return;\n                    }\n\n                    if (typeof mapper.semantic == \"undefined\" ||\n                        (options.semantic ^ mapper.semantic)) {\n                        mapper.start(node);\n                        children(node, false, mapper.skipEncoding);\n                        mapper.end(node);\n                        return;\n                    }\n                }\n\n                result.push('<');\n                result.push(tagName);\n\n                attr(node);\n\n                if (dom.empty[tagName]) {\n                    result.push(' />');\n                } else {\n                    result.push('>');\n                    children(node, skip || dom.is(node, 'pre'));\n                    result.push('</');\n                    result.push(tagName);\n                    result.push('>');\n                }\n            } else if (nodeType == 3) {\n                if (isEmptyBomNode(node)) {\n                    result.push('&nbsp;');\n                    return;\n                }\n\n                value = text(node);\n\n                if (!skip && supportsLeadingWhitespace) {\n                    parent = node.parentNode;\n                    previous = node.previousSibling;\n\n                    if (!previous) {\n                         previous = (dom.isInline(parent) ? parent : node).previousSibling;\n                    }\n\n                    if (!previous || previous.innerHTML === \"\" || dom.isBlock(previous)) {\n                        if (options.keepEOL) {\n                            value = value.replace(/[\\r\\n\\v\\f\\t ]+/, ' ');\n                        } else {\n                            value = value.replace(/^[\\r\\n\\v\\f\\t ]+/, '');\n                        }\n                    }\n\n                    value = value.replace(/ +/, ' ');\n                }\n\n                result.push(skipEncoding ? value : dom.encode(value, options));\n\n            } else if (nodeType == 4) {\n                result.push('<![CDATA[');\n                result.push(node.data);\n                result.push(']]>');\n            } else if (nodeType == 8) {\n                if (node.data.indexOf('[CDATA[') < 0) {\n                    result.push('<!--');\n                    result.push(node.data);\n                    result.push('-->');\n                } else {\n                    result.push('<!');\n                    result.push(node.data);\n                    result.push('>');\n                }\n            }\n        }\n\n        function shouldOptimize(node) {\n            return node.attributes.length === 0;\n        }\n\n        function textOnly(root) {\n            var childrenCount = root.childNodes.length;\n            var textChild = childrenCount && root.firstChild.nodeType == 3;\n\n            return textChild && (childrenCount == 1 || (childrenCount == 2 && dom.insignificant(root.lastChild)));\n        }\n\n        function runCustom() {\n            if (kendo.isFunction(options.custom)) {\n                result = options.custom(result) || result;\n            }\n        }\n\n        if (textOnly(root)) {\n            result = dom.encode(text(root.firstChild).replace(/[\\r\\n\\v\\f\\t ]+/, ' '), options);\n            runCustom();\n\n            return result;\n        }\n\n        children(root);\n        result = result.join('');\n        runCustom();\n\n        // if serialized dom contains only whitespace elements, consider it empty (required field validation)\n        if (result.replace(brRe, \"\").replace(emptyPRe, \"\") === \"\") {\n            return \"\";\n        }\n\n        return result;\n    }\n\n};\n\nextend(Editor, {\n    Serializer: Serializer\n});\n\n})(window.kendo.jQuery);\n\n\n","import \"./dom.js\";\n\n(function($) {\n\n    // Imports ================================================================\n    var kendo = window.kendo,\n        Class = kendo.Class,\n        extend = $.extend,\n        Editor = kendo.ui.editor,\n        browser = kendo.support.browser,\n        dom = Editor.Dom,\n        findNodeIndex = dom.findNodeIndex,\n        isDataNode = dom.isDataNode,\n        findClosestAncestor = dom.findClosestAncestor,\n        getNodeLength = dom.getNodeLength,\n        normalize = dom.normalize;\n\nvar SelectionUtils = {\n    selectionFromWindow: function(window) {\n        if (!window) {\n            return;\n        }\n\n        if (!(\"getSelection\" in window)) {\n            return new W3CSelection(window.document);\n        }\n\n        return window.getSelection();\n    },\n\n    selectionFromRange: function(range) {\n        var rangeDocument = RangeUtils.documentFromRange(range);\n        return SelectionUtils.selectionFromDocument(rangeDocument);\n    },\n\n    selectionFromDocument: function(document) {\n        return SelectionUtils.selectionFromWindow(dom.windowFromDocument(document));\n    }\n};\n\nvar W3CRange = Class.extend({\n    init: function(doc) {\n        $.extend(this, {\n            ownerDocument: doc, /* not part of the spec; used when cloning ranges, traversing the dom and creating fragments */\n            startContainer: doc,\n            endContainer: doc,\n            commonAncestorContainer: doc,\n            startOffset: 0,\n            endOffset: 0,\n            collapsed: true\n        });\n    },\n\n    // Positioning Methods\n    setStart: function(node, offset) {\n        this.startContainer = node;\n        this.startOffset = offset;\n        updateRangeProperties(this);\n        fixIvalidRange(this, true);\n    },\n\n    setEnd: function(node, offset) {\n        this.endContainer = node;\n        this.endOffset = offset;\n        updateRangeProperties(this);\n        fixIvalidRange(this, false);\n    },\n\n    setStartBefore: function(node) {\n        this.setStart(node.parentNode, findNodeIndex(node));\n    },\n\n    setStartAfter: function(node) {\n        this.setStart(node.parentNode, findNodeIndex(node) + 1);\n    },\n\n    setEndBefore: function(node) {\n        this.setEnd(node.parentNode, findNodeIndex(node));\n    },\n\n    setEndAfter: function(node) {\n        this.setEnd(node.parentNode, findNodeIndex(node) + 1);\n    },\n\n    selectNode: function(node) {\n        this.setStartBefore(node);\n        this.setEndAfter(node);\n    },\n\n    selectNodeContents: function(node) {\n        this.setStart(node, 0);\n        this.setEnd(node, node[node.nodeType === 1 ? 'childNodes' : 'nodeValue'].length);\n    },\n\n    collapse: function(toStart) {\n        var that = this;\n\n        if (toStart) {\n            that.setEnd(that.startContainer, that.startOffset);\n        } else {\n            that.setStart(that.endContainer, that.endOffset);\n        }\n    },\n\n    // Editing Methods\n\n    deleteContents: function() {\n        var that = this,\n            range = that.cloneRange();\n\n        if (that.startContainer != that.commonAncestorContainer) {\n            that.setStartAfter(findClosestAncestor(that.commonAncestorContainer, that.startContainer));\n        }\n\n        that.collapse(true);\n\n        (function deleteSubtree(iterator) {\n            while (iterator.next()) {\n                if (iterator.hasPartialSubtree()) {\n                    deleteSubtree(iterator.getSubtreeIterator());\n                } else {\n                    iterator.remove();\n                }\n            }\n        })(new RangeIterator(range));\n    },\n\n    cloneContents: function() {\n        // clone subtree\n        var document = RangeUtils.documentFromRange(this);\n        return (function cloneSubtree(iterator) {\n                var node, frag = document.createDocumentFragment();\n\n                while (node = iterator.next()) {\n                    node = node.cloneNode(!iterator.hasPartialSubtree());\n\n                    if (iterator.hasPartialSubtree()) {\n                        node.appendChild(cloneSubtree(iterator.getSubtreeIterator()));\n                    }\n\n                    frag.appendChild(node);\n                }\n\n                return frag;\n        })(new RangeIterator(this));\n    },\n\n    extractContents: function() {\n        var that = this,\n            range = that.cloneRange();\n\n        if (that.startContainer != that.commonAncestorContainer) {\n            that.setStartAfter(findClosestAncestor(that.commonAncestorContainer, that.startContainer));\n        }\n\n        that.collapse(true);\n\n        var document = RangeUtils.documentFromRange(that);\n\n        return (function extractSubtree(iterator) {\n            var node, frag = document.createDocumentFragment();\n\n            while (node = iterator.next()) {\n                if (iterator.hasPartialSubtree()) {\n                    node = node.cloneNode(false);\n                    node.appendChild(extractSubtree(iterator.getSubtreeIterator()));\n                } else {\n                    iterator.remove(that.originalRange);\n                }\n\n                frag.appendChild(node);\n            }\n\n            return frag;\n        })(new RangeIterator(range));\n    },\n\n    insertNode: function(node) {\n        var that = this;\n\n        if (isDataNode(that.startContainer)) {\n            if (that.startOffset != that.startContainer.nodeValue.length) {\n                dom.splitDataNode(that.startContainer, that.startOffset);\n            }\n\n            dom.insertAfter(node, that.startContainer);\n        } else {\n            dom.insertAt(that.startContainer, node, that.startOffset);\n        }\n\n        that.setStart(that.startContainer, that.startOffset);\n    },\n\n    cloneRange: function() {\n        // fast copy\n        return $.extend(new W3CRange(this.ownerDocument), {\n            startContainer: this.startContainer,\n            endContainer: this.endContainer,\n            commonAncestorContainer: this.commonAncestorContainer,\n            startOffset: this.startOffset,\n            endOffset: this.endOffset,\n            collapsed: this.collapsed,\n\n            originalRange: this /* not part of the spec; used to update the original range when calling extractContents() on clones */\n        });\n    },\n\n    // used for debug purposes\n    toString: function() {\n        var startNodeName = this.startContainer.nodeName,\n            endNodeName = this.endContainer.nodeName;\n\n        return [startNodeName == \"#text\" ? this.startContainer.nodeValue : startNodeName, '(', this.startOffset, ') : ',\n                endNodeName == \"#text\" ? this.endContainer.nodeValue : endNodeName, '(', this.endOffset, ')'].join('');\n    }\n});\n\nW3CRange.fromNode = function(node) {\n    return new W3CRange(node.ownerDocument);\n};\n\n/* can be used in Range.compareBoundaryPoints if we need it one day */\nfunction compareBoundaries(start, end, startOffset, endOffset) {\n    if (start == end) {\n        return endOffset - startOffset;\n    }\n\n    // end is child of start\n    var container = end;\n    while (container && container.parentNode != start) {\n        container = container.parentNode;\n    }\n\n    if (container) {\n        return findNodeIndex(container) - startOffset;\n    }\n\n    // start is child of end\n    container = start;\n    while (container && container.parentNode != end) {\n        container = container.parentNode;\n    }\n\n    if (container) {\n        return endOffset - findNodeIndex(container) - 1;\n    }\n\n    // deep traversal\n    var root = dom.commonAncestor(start, end);\n    var startAncestor = start;\n\n    while (startAncestor && startAncestor.parentNode != root) {\n        startAncestor = startAncestor.parentNode;\n    }\n\n    if (!startAncestor) {\n        startAncestor = root;\n    }\n\n    var endAncestor = end;\n    while (endAncestor && endAncestor.parentNode != root) {\n        endAncestor = endAncestor.parentNode;\n    }\n\n    if (!endAncestor) {\n        endAncestor = root;\n    }\n\n    if (startAncestor == endAncestor) {\n        return 0;\n    }\n\n    return findNodeIndex(endAncestor) - findNodeIndex(startAncestor);\n}\n\nfunction fixIvalidRange(range, toStart) {\n    function isInvalidRange(range) {\n        try {\n            return compareBoundaries(range.startContainer, range.endContainer, range.startOffset, range.endOffset) < 0;\n        } catch (ex) {\n            // range was initially invalid (e.g. when cloned from invalid range) - it must be fixed\n            return true;\n        }\n    }\n\n    if (isInvalidRange(range)) {\n        if (toStart) {\n            range.commonAncestorContainer = range.endContainer = range.startContainer;\n            range.endOffset = range.startOffset;\n        } else {\n            range.commonAncestorContainer = range.startContainer = range.endContainer;\n            range.startOffset = range.endOffset;\n        }\n\n        range.collapsed = true;\n    }\n}\n\nfunction updateRangeProperties(range) {\n    range.collapsed = range.startContainer == range.endContainer && range.startOffset == range.endOffset;\n\n    var node = range.startContainer;\n    while (node && node != range.endContainer && !dom.isAncestorOf(node, range.endContainer)) {\n        node = node.parentNode;\n    }\n\n    range.commonAncestorContainer = node;\n}\n\nvar RangeIterator = Class.extend({\n    init: function(range) {\n        $.extend(this, {\n            range: range,\n            _current: null,\n            _next: null,\n            _end: null\n        });\n\n        if (range.collapsed) {\n            return;\n        }\n\n        var root = range.commonAncestorContainer;\n\n        this._next = range.startContainer == root && !isDataNode(range.startContainer) ?\n        range.startContainer.childNodes[range.startOffset] :\n        findClosestAncestor(root, range.startContainer);\n\n        this._end = range.endContainer == root && !isDataNode(range.endContainer) ?\n        range.endContainer.childNodes[range.endOffset] :\n        findClosestAncestor(root, range.endContainer).nextSibling;\n    },\n\n    hasNext: function() {\n        return !!this._next;\n    },\n\n    next: function() {\n        var that = this,\n            current = that._current = that._next;\n        that._next = that._current && that._current.nextSibling != that._end ?\n        that._current.nextSibling : null;\n\n        if (isDataNode(that._current)) {\n            if (that.range.endContainer == that._current) {\n                current = current.cloneNode(true);\n                current.deleteData(that.range.endOffset, current.length - that.range.endOffset);\n            }\n\n            if (that.range.startContainer == that._current) {\n                current = current.cloneNode(true);\n                current.deleteData(0, that.range.startOffset);\n            }\n        }\n\n        return current;\n    },\n\n    traverse: function(callback) {\n        var that = this,\n            current;\n\n        function next() {\n            that._current = that._next;\n            that._next = that._current && that._current.nextSibling != that._end ? that._current.nextSibling : null;\n            return that._current;\n        }\n\n        while (current = next()) {\n            if (that.hasPartialSubtree()) {\n                that.getSubtreeIterator().traverse(callback);\n            } else {\n                callback(current);\n            }\n        }\n\n        return current;\n    },\n\n    remove: function(originalRange) {\n        var that = this,\n            inStartContainer = that.range.startContainer == that._current,\n            inEndContainer = that.range.endContainer == that._current,\n            start, end, delta;\n\n        if (isDataNode(that._current) && (inStartContainer || inEndContainer)) {\n            start = inStartContainer ? that.range.startOffset : 0;\n            end = inEndContainer ? that.range.endOffset : that._current.length;\n            delta = end - start;\n\n            if (originalRange && (inStartContainer || inEndContainer)) {\n                if (that._current == originalRange.startContainer && start <= originalRange.startOffset) {\n                    originalRange.startOffset -= delta;\n                }\n\n                if (that._current == originalRange.endContainer && end <= originalRange.endOffset) {\n                    originalRange.endOffset -= delta;\n                }\n            }\n\n            that._current.deleteData(start, delta);\n        } else {\n            var parent = that._current.parentNode;\n\n            if (originalRange && (that.range.startContainer == parent || that.range.endContainer == parent)) {\n                var nodeIndex = findNodeIndex(that._current);\n\n                if (parent == originalRange.startContainer && nodeIndex <= originalRange.startOffset) {\n                    originalRange.startOffset -= 1;\n                }\n\n                if (parent == originalRange.endContainer && nodeIndex < originalRange.endOffset) {\n                    originalRange.endOffset -= 1;\n                }\n            }\n\n            dom.remove(that._current);\n        }\n    },\n\n    hasPartialSubtree: function() {\n        return !isDataNode(this._current) &&\n        (dom.isAncestorOrSelf(this._current, this.range.startContainer) ||\n            dom.isAncestorOrSelf(this._current, this.range.endContainer));\n    },\n\n    getSubtreeIterator: function() {\n        return new RangeIterator(this.getSubRange());\n    },\n\n    getSubRange: function() {\n        var that = this,\n            subRange = that.range.cloneRange();\n        subRange.selectNodeContents(that._current);\n        if (dom.isAncestorOrSelf(that._current, that.range.startContainer)) {\n            subRange.setStart(that.range.startContainer, that.range.startOffset);\n        }\n        if (dom.isAncestorOrSelf(that._current, that.range.endContainer)) {\n            subRange.setEnd(that.range.endContainer, that.range.endOffset);\n        }\n\n        return subRange;\n    }\n});\n\nvar W3CSelection = Class.extend({\n    init: function(doc) {\n        this.ownerDocument = doc;\n        this.rangeCount = 1;\n    },\n\n    addRange: function(range) {\n        var textRange = this.ownerDocument.body.createTextRange();\n\n        // end container should be adopted first in order to prevent selection with negative length\n        adoptContainer(textRange, range, false);\n        adoptContainer(textRange, range, true);\n\n        textRange.select();\n    },\n\n    removeAllRanges: function() {\n        var selection = this.ownerDocument.selection;\n\n        if (selection.type != \"None\") {\n            selection.empty();\n        }\n    },\n\n    getRangeAt: function() {\n        var textRange,\n            range = new W3CRange(this.ownerDocument),\n            selection = this.ownerDocument.selection,\n            element, commonAncestor;\n\n        try {\n            textRange = selection.createRange();\n            element = textRange.item ? textRange.item(0) : textRange.parentElement();\n            if (element.ownerDocument != this.ownerDocument) {\n                return range;\n            }\n        } catch (ex) {\n            return range;\n        }\n\n        if (selection.type == \"Control\") {\n            range.selectNode(textRange.item(0));\n        } else {\n            commonAncestor = textRangeContainer(textRange);\n            adoptEndPoint(textRange, range, commonAncestor, true);\n            adoptEndPoint(textRange, range, commonAncestor, false);\n\n            if (range.startContainer.nodeType == 9) {\n                range.setStart(range.endContainer, range.startOffset);\n            }\n\n            if (range.endContainer.nodeType == 9) {\n                range.setEnd(range.startContainer, range.endOffset);\n            }\n\n            if (textRange.compareEndPoints(\"StartToEnd\", textRange) === 0) {\n                range.collapse(false);\n            }\n\n            var startContainer = range.startContainer,\n                endContainer = range.endContainer,\n                body = this.ownerDocument.body;\n\n            if (!range.collapsed && range.startOffset === 0 && range.endOffset == getNodeLength(range.endContainer) && // check for full body selection\n                !(startContainer == endContainer && isDataNode(startContainer) && startContainer.parentNode == body)) { // but not when single textnode is selected\n                var movedStart = false,\n                    movedEnd = false;\n\n                while (findNodeIndex(startContainer) === 0 && startContainer == startContainer.parentNode.firstChild && startContainer != body) {\n                    startContainer = startContainer.parentNode;\n                    movedStart = true;\n                }\n\n                while (findNodeIndex(endContainer) == getNodeLength(endContainer.parentNode) - 1 && endContainer == endContainer.parentNode.lastChild && endContainer != body) {\n                    endContainer = endContainer.parentNode;\n                    movedEnd = true;\n                }\n\n                if (startContainer == body && endContainer == body && movedStart && movedEnd) {\n                    range.setStart(startContainer, 0);\n                    range.setEnd(endContainer, getNodeLength(body));\n                }\n            }\n        }\n\n        return range;\n    }\n});\n\nfunction textRangeContainer(textRange) {\n    var left = textRange.duplicate(),\n        right = textRange.duplicate();\n\n    left.collapse(true);\n    right.collapse(false);\n\n    return dom.commonAncestor(textRange.parentElement(), left.parentElement(), right.parentElement());\n}\n\nfunction adoptContainer(textRange, range, start) {\n    // find anchor node and offset\n    var container = range[start ? \"startContainer\" : \"endContainer\"],\n        offset = range[start ? \"startOffset\" : \"endOffset\"],\n        textOffset = 0,\n        isData = isDataNode(container),\n        anchorNode = isData ? container : container.childNodes[offset] || null,\n        anchorParent = isData ? container.parentNode : container,\n        doc = range.ownerDocument,\n        cursor = doc.body.createTextRange(),\n        cursorNode;\n\n    // visible data nodes need a text offset\n    if (container.nodeType == 3 || container.nodeType == 4) {\n        textOffset = offset;\n    }\n\n    if (!anchorParent) {\n        anchorParent = doc.body;\n    }\n\n    if (anchorParent.nodeName.toLowerCase() == \"img\") {\n        cursor.moveToElementText(anchorParent);\n        cursor.collapse(false);\n        textRange.setEndPoint(start ? \"StartToStart\" : \"EndToStart\", cursor);\n    } else {\n        // create a cursor element node to position range (since we can't select text nodes)\n        cursorNode = anchorParent.insertBefore(dom.create(doc, \"a\"), anchorNode);\n\n        cursor.moveToElementText(cursorNode);\n        dom.remove(cursorNode);\n        cursor[start ? \"moveStart\" : \"moveEnd\"](\"character\", textOffset);\n        cursor.collapse(false);\n        textRange.setEndPoint(start ? \"StartToStart\" : \"EndToStart\", cursor);\n    }\n}\n\nfunction adoptEndPoint(textRange, range, commonAncestor, start) {\n    var cursorNode = dom.create(range.ownerDocument, \"a\"),\n        cursor = textRange.duplicate(),\n        comparison = start ? \"StartToStart\" : \"StartToEnd\",\n        result, parent, target,\n        previous, next,\n        args, index,\n        appended = false;\n\n    cursorNode.innerHTML = \"\\ufeff\";\n    cursor.collapse(start);\n\n    parent = cursor.parentElement();\n\n    if (!dom.isAncestorOrSelf(commonAncestor, parent)) {\n        parent = commonAncestor;\n    }\n\n    // detect range end points\n    // insert cursorNode within the textRange parent and move the cursor until it gets outside of the textRange\n    do {\n        if (appended) {\n            parent.insertBefore(cursorNode, cursorNode.previousSibling);\n        } else {\n            parent.appendChild(cursorNode);\n            appended = true;\n        }\n        cursor.moveToElementText(cursorNode);\n    } while ((result = cursor.compareEndPoints(comparison, textRange)) > 0 && cursorNode.previousSibling);\n\n    target = cursorNode.nextSibling;\n\n    if (result == -1 && isDataNode(target)) {\n        cursor.setEndPoint(start ? \"EndToStart\" : \"EndToEnd\", textRange);\n\n        dom.remove(cursorNode);\n\n        args = [target, cursor.text.length];\n    } else {\n        previous = !start && cursorNode.previousSibling;\n        next = start && cursorNode.nextSibling;\n\n        if (isDataNode(next)) {\n            args = [next, 0];\n        } else if (isDataNode(previous)) {\n            args = [previous, previous.length];\n        } else {\n            index = findNodeIndex(cursorNode);\n\n            if (parent.nextSibling && index == parent.childNodes.length - 1) {\n                args = [parent.nextSibling, 0];\n            } else {\n                args = [parent, index];\n            }\n        }\n\n        dom.remove(cursorNode);\n    }\n\n    range[start ? \"setStart\" : \"setEnd\"](...args);\n}\n\nvar RangeEnumerator = Class.extend({\n    init: function(range) {\n        this.enumerate = function() {\n            var nodes = [];\n\n            function visit(node) {\n                if (dom.is(node, \"img\") || (node.nodeType == 3 && (!dom.isEmptyspace(node) || node.nodeValue == \"\\ufeff\"))) {\n                    nodes.push(node);\n                } else {\n                    node = node.firstChild;\n                    while (node) {\n                        visit(node);\n                        node = node.nextSibling;\n                    }\n                }\n            }\n\n            new RangeIterator(range).traverse(visit);\n\n            return nodes;\n        };\n    }\n});\n\nvar ImmutablesRangeIterator = RangeIterator.extend({\n    hasPartialSubtree: function() {\n        var immutable = Editor.Immutables && Editor.Immutables.immutable;\n        return immutable && !immutable(this._current) && RangeIterator.fn.hasPartialSubtree.call(this);\n    },\n\n    getSubtreeIterator: function() {\n        return new ImmutablesRangeIterator(this.getSubRange());\n    }\n});\n\nvar ImmutablesRangeEnumerator = Class.extend({\n    init: function(range) {\n        this.enumerate = function() {\n            var nodes = [];\n            var immutable = Editor.Immutables && Editor.Immutables.immutable;\n            function visit(node) {\n                if (immutable && !immutable(node)) {\n                    if (dom.is(node, \"img\") || (node.nodeType == 3 && (!dom.isEmptyspace(node) || node.nodeValue == \"\\ufeff\"))) {\n                        nodes.push(node);\n                    } else {\n                        node = node.firstChild;\n                        while (node) {\n                            visit(node);\n                            node = node.nextSibling;\n                        }\n                    }\n                }\n            }\n\n            new ImmutablesRangeIterator(range).traverse(visit);\n\n            return nodes;\n        };\n    }\n});\n\nvar RestorePoint = Class.extend({\n    init: function(range, body, options) {\n        var that = this;\n        that.range = range;\n        that.rootNode = RangeUtils.documentFromRange(range);\n        that.body = body || that.getEditable(range);\n        if (dom.name(that.body) != \"body\") {\n            that.rootNode = that.body;\n        }\n\n        that.startContainer = that.nodeToPath(range.startContainer);\n        that.endContainer = that.nodeToPath(range.endContainer);\n        that.startOffset = that.offset(range.startContainer, range.startOffset);\n        that.endOffset = that.offset(range.endContainer, range.endOffset);\n\n        that.immutables = options && options.immutables;\n\n        if (that.immutables) {\n            that.serializedImmutables = Editor.Immutables.removeImmutables(that.body);\n        }\n\n        that.html = that.body.innerHTML;\n\n        if (that.immutables && !that.serializedImmutables.empty) {\n            Editor.Immutables.restoreImmutables(that.body, that.serializedImmutables);\n        }\n    },\n\n    index: function(node) {\n        var result = 0,\n            lastType = node.nodeType;\n\n        while (node = node.previousSibling) {\n            var nodeType = node.nodeType;\n\n            if (nodeType != 3 || lastType != nodeType) {\n                result ++;\n            }\n\n            lastType = nodeType;\n        }\n\n        return result;\n    },\n\n    getEditable: function(range) {\n        var root = range.commonAncestorContainer;\n\n        while (root && (root.nodeType == 3 || root.attributes && (!root.attributes.contentEditable || root.attributes.contentEditable.nodeValue.toLowerCase() == \"false\"))) {\n            root = root.parentNode;\n        }\n\n        return root;\n    },\n\n    restoreHtml: function() {\n        var that = this;\n\n        dom.removeChildren(that.body);\n        that.body.innerHTML = that.html;\n        if (that.immutables && !that.serializedImmutables.empty) {\n            Editor.Immutables.restoreImmutables(that.body, that.serializedImmutables);\n        }\n    },\n\n    offset: function(node, value) {\n        if (node.nodeType == 3) {\n            while ((node = node.previousSibling) && node.nodeType == 3) {\n                value += node.nodeValue.length;\n            }\n        }\n\n        return value;\n    },\n\n    nodeToPath: function(node) {\n        var path = [];\n\n        while (node != this.rootNode) {\n            path.push(this.index(node));\n            node = node.parentNode;\n        }\n\n        return path;\n    },\n\n    toRangePoint: function(range, start, path, denormalizedOffset) {\n        var node = this.rootNode,\n            length = path.length,\n            offset = denormalizedOffset;\n\n        while (length-- && node) {\n            node = node.childNodes[path[length]];\n        }\n\n        while (node && node.nodeType == 3 && node.nodeValue.length < offset) {\n            offset -= node.nodeValue.length;\n            node = node.nextSibling;\n        }\n\n        if (node && offset >= 0) {\n            range[start ? 'setStart' : 'setEnd'](node, offset);\n        }\n    },\n\n    toRange: function() {\n        var that = this,\n            result = that.range.cloneRange();\n\n        that.toRangePoint(result, true, that.startContainer, that.startOffset);\n        that.toRangePoint(result, false, that.endContainer, that.endOffset);\n\n        return result;\n    }\n\n});\n\nvar Marker = Class.extend({\n    init: function() {\n        this.caret = null;\n    },\n\n    addCaret: function(range) {\n        var that = this;\n        var caret = that.caret = dom.create(RangeUtils.documentFromRange(range), 'span', { className: 'k-marker' });\n        range.insertNode(caret);\n\n        dom.stripBomNode(caret.previousSibling);\n        dom.stripBomNode(caret.nextSibling);\n\n        range.selectNode(caret);\n        return caret;\n    },\n\n    removeCaret: function(range) {\n        var that = this,\n            previous = that.caret.previousSibling,\n            startOffset = 0;\n\n        if (previous) {\n            startOffset = isDataNode(previous) ? previous.nodeValue.length : findNodeIndex(previous);\n        }\n\n        var container = that.caret.parentNode;\n        var containerIndex = previous ? findNodeIndex(previous) : 0;\n\n        dom.remove(that.caret);\n        normalize(container);\n\n        var node = container.childNodes[containerIndex];\n\n        if (isDataNode(node)) {\n            range.setStart(node, startOffset);\n        } else if (node) {\n            var textNode = dom.lastTextNode(node);\n            if (textNode) {\n                range.setStart(textNode, textNode.nodeValue.length);\n            } else {\n                range[previous ? 'setStartAfter' : 'setStartBefore'](node);\n            }\n        } else {\n            if (!browser.msie && !container.innerHTML) {\n                container.innerHTML = '<br _moz_dirty=\"\" />';\n            }\n\n            range.selectNodeContents(container);\n        }\n        range.collapse(true);\n    },\n\n    add: function(range, expand) {\n        var that = this;\n\n        var collapsed = range.collapsed && !RangeUtils.isExpandable(range);\n        var doc = RangeUtils.documentFromRange(range);\n\n        if (expand && range.collapsed) {\n            that.addCaret(range);\n            range = RangeUtils.expand(range);\n        }\n\n        var rangeBoundary = range.cloneRange();\n\n        rangeBoundary.collapse(false);\n        that.end = dom.create(doc, 'span', { className: 'k-marker' });\n        rangeBoundary.insertNode(that.end);\n\n        rangeBoundary = range.cloneRange();\n        rangeBoundary.collapse(true);\n        that.start = that.end.cloneNode(true);\n        rangeBoundary.insertNode(that.start);\n\n        that._removeDeadMarkers(that.start, that.end);\n\n        if (collapsed) {\n            var bom = doc.createTextNode(\"\\ufeff\");\n            dom.insertAfter(bom.cloneNode(), that.start);\n            dom.insertBefore(bom, that.end);\n        }\n\n        normalize(range.commonAncestorContainer);\n\n        range.setStartBefore(that.start);\n        range.setEndAfter(that.end);\n\n        return range;\n    },\n\n    _removeDeadMarkers: function(start, end) {\n        if (start.previousSibling && start.previousSibling.nodeValue == \"\\ufeff\") {\n            dom.remove(start.previousSibling);\n        }\n\n        if (end.nextSibling && end.nextSibling.nodeValue == \"\\ufeff\") {\n            dom.remove(end.nextSibling);\n        }\n    },\n\n    _normalizedIndex: function(node) {\n        var index = findNodeIndex(node);\n        var pointer = node;\n\n        while (pointer.previousSibling) {\n            if (pointer.nodeType == 3 && pointer.previousSibling.nodeType == 3) {\n                index--;\n            }\n\n            pointer = pointer.previousSibling;\n        }\n\n        return index;\n    },\n\n    remove: function(range) {\n        var that = this,\n            start = that.start,\n            end = that.end,\n            shouldNormalizeStart,\n            shouldNormalizeEnd,\n            shouldNormalize;\n\n        normalize(range.commonAncestorContainer);\n\n        while (!start.nextSibling && start.parentNode) {\n            start = start.parentNode;\n        }\n\n        while (!end.previousSibling && end.parentNode) {\n            end = end.parentNode;\n        }\n\n        // merely accessing the siblings will solve range issues in IE\n        shouldNormalizeStart = (start.previousSibling && start.previousSibling.nodeType == 3) &&\n                               (start.nextSibling && start.nextSibling.nodeType == 3);\n\n        shouldNormalizeEnd = (end.previousSibling && end.previousSibling.nodeType == 3) &&\n                             (end.nextSibling && end.nextSibling.nodeType == 3);\n\n        shouldNormalize = shouldNormalizeStart && shouldNormalizeEnd;\n\n        start = start.nextSibling;\n        end = end.previousSibling;\n\n        var isBomSelected = start === end && dom.isBom(start);\n        if (isBomSelected && start.length > 1) {\n            start.nodeValue = start.nodeValue.charAt(0);\n        }\n\n        var collapsed = isBomSelected;\n        var collapsedToStart = false;\n        // collapsed range\n        if (start == that.end) {\n            collapsedToStart = !!that.start.previousSibling;\n            start = end = that.start.previousSibling || that.end.nextSibling;\n            collapsed = true;\n        }\n\n        dom.remove(that.start);\n        dom.remove(that.end);\n\n        if (!start || !end) {\n            range.selectNodeContents(range.commonAncestorContainer);\n            range.collapse(true);\n            return;\n        }\n\n        var startOffset = collapsed ? isDataNode(start) ? start.nodeValue.length : start.childNodes.length : 0;\n        var endOffset = isDataNode(end) ? end.nodeValue.length : end.childNodes.length;\n\n        if (start.nodeType == 3) {\n            while (start.previousSibling && start.previousSibling.nodeType == 3) {\n                start = start.previousSibling;\n                startOffset += start.nodeValue.length;\n            }\n        }\n\n        if (end.nodeType == 3) {\n            while (end.previousSibling && end.previousSibling.nodeType == 3) {\n                end = end.previousSibling;\n                endOffset += end.nodeValue.length;\n            }\n        }\n\n        var startParent = start.parentNode;\n        var endParent = end.parentNode;\n        var startIndex = this._normalizedIndex(start);\n        var endIndex = this._normalizedIndex(end);\n\n        normalize(startParent);\n        if (start.nodeType == 3) {\n            start = startParent.childNodes[startIndex];\n        }\n\n        normalize(endParent);\n        if (end.nodeType == 3) {\n            end = endParent.childNodes[endIndex];\n        }\n\n        if (collapsed) {\n            if (start.nodeType == 3) {\n                range.setStart(start, startOffset);\n            } else {\n                range[collapsedToStart ? 'setStartAfter' : 'setStartBefore'](start);\n            }\n\n            range.collapse(true);\n\n        } else {\n            if (start.nodeType == 3) {\n                range.setStart(start, startOffset);\n            } else {\n                range.setStartBefore(start);\n            }\n\n            if (end.nodeType == 3) {\n                range.setEnd(end, endOffset);\n            } else {\n                range.setEndAfter(end);\n            }\n        }\n\n        if (that.caret) {\n            that.removeCaret(range);\n        }\n    }\n});\n\nvar boundary = /[\\u0009-\\u000d]|\\u0020|\\u00a0|\\ufeff|\\.|,|;|:|!|\\(|\\)|\\?/;\n\nvar RangeUtils = {\n    nodes: function(range) {\n        var nodes = RangeUtils.textNodes(range);\n        if (!nodes.length) {\n            range.selectNodeContents(range.commonAncestorContainer);\n            nodes = RangeUtils.textNodes(range);\n            if (!nodes.length) {\n                nodes = dom.significantChildNodes(range.commonAncestorContainer);\n            }\n        }\n        return nodes;\n    },\n\n    textNodes: function(range) {\n        var allNodes = new RangeEnumerator(range).enumerate(),\n            result = allNodes.filter(function(node) {\n                return dom.allowsTextContent(node.parentElement);\n            });\n\n        return result;\n    },\n\n    editableTextNodes: function(range) {\n        var nodes = [],\n            immutableParent = Editor.Immutables && Editor.Immutables.immutableParent,\n            result = [];\n\n        if (immutableParent && !immutableParent(range.commonAncestorContainer)) {\n            nodes = new ImmutablesRangeEnumerator(range).enumerate();\n            result = nodes.filter(function(node) {\n                return dom.allowsTextContent(node.parentElement);\n            });\n        }\n\n        return result;\n    },\n\n    documentFromRange: function(range) {\n        var startContainer = range.startContainer;\n        return startContainer.nodeType == 9 ? startContainer : startContainer.ownerDocument;\n    },\n\n    createRange: function(document) {\n        return document.createRange();\n    },\n\n    selectRange: function(range) {\n        var image = RangeUtils.image(range);\n        if (image) {\n            range.setStartAfter(image);\n            range.setEndAfter(image);\n        }\n        var selection = SelectionUtils.selectionFromRange(range);\n        selection.removeAllRanges();\n        selection.addRange(range);\n    },\n\n    stringify: function(range) {\n        return kendo.format(\n            \"{0}:{1} - {2}:{3}\",\n            dom.name(range.startContainer), range.startOffset,\n            dom.name(range.endContainer), range.endOffset\n        );\n    },\n\n    split: function(range, node, trim) {\n        function partition(start) {\n            var partitionRange = range.cloneRange();\n            partitionRange.collapse(start);\n            partitionRange[start ? 'setStartBefore' : 'setEndAfter'](node);\n            var contents = partitionRange.extractContents();\n            if (trim) {\n                contents = dom.trim(contents);\n            }\n            dom[start ? 'insertBefore' : 'insertAfter'](contents, node);\n        }\n        partition(true);\n        partition(false);\n    },\n\n    mapAll: function(range, map) {\n        var nodes = [];\n\n        new RangeIterator(range).traverse(function(node) {\n            var mapped = map(node);\n\n            if (mapped && $.inArray(mapped, nodes) < 0) {\n                nodes.push(mapped);\n            }\n        });\n\n        return nodes;\n    },\n\n    getAll: function(range, predicate) {\n        var selector = predicate;\n\n        if (typeof predicate == \"string\") {\n            predicate = function(node) {\n                return dom.is(node, selector);\n            };\n        }\n\n        return RangeUtils.mapAll(range, function(node) {\n            if (predicate(node)) {\n                return node;\n            }\n        });\n    },\n\n    getMarkers: function(range) {\n        return RangeUtils.getAll(range, function(node) {\n            return node.className == 'k-marker';\n        });\n    },\n\n    image: function(range) {\n        var nodes = RangeUtils.getAll(range, \"img\");\n\n        if (nodes.length == 1) {\n            return nodes[0];\n        }\n    },\n\n    isStartOf: function(originalRange, node) {\n        if (originalRange.startOffset !== 0) {\n            return false;\n        }\n\n        var range = originalRange.cloneRange();\n\n        while (range.startOffset === 0 && range.startContainer != node) {\n            var index = dom.findNodeIndex(range.startContainer);\n            var parent = range.startContainer.parentNode;\n\n            while (index > 0 && parent[index - 1] && dom.insignificant(parent[index - 1])) {\n                index--;\n            }\n\n            range.setStart(parent, index);\n        }\n\n        return range.startOffset === 0 && range.startContainer == node;\n    },\n\n    isEndOf: function(originalRange, node) {\n        var range = originalRange.cloneRange();\n\n        range.collapse(false);\n\n        var start = range.startContainer;\n\n        if (dom.isDataNode(start) && range.startOffset == dom.getNodeLength(start)) {\n            range.setStart(start.parentNode, dom.findNodeIndex(start) + 1);\n            range.collapse(true);\n        }\n\n        range.setEnd(node, dom.getNodeLength(node));\n\n        var nodes = [];\n\n        function visit(node) {\n            if (!dom.insignificant(node) && !(dom.isDataNode(node) && /^[\\ufeff]*$/.test(node.nodeValue))) {\n                nodes.push(node);\n            }\n        }\n\n        new RangeIterator(range).traverse(visit);\n\n        return !nodes.length;\n    },\n\n    wrapSelectedElements: function(range) {\n        var startEditable = dom.editableParent(range.startContainer);\n        var endEditable = dom.editableParent(range.endContainer);\n\n        while (range.startOffset === 0 && range.startContainer != startEditable) {\n            range.setStart(range.startContainer.parentNode, dom.findNodeIndex(range.startContainer));\n        }\n\n        function isEnd(offset, container) {\n            var length = dom.getNodeLength(container);\n\n            if (offset == length) {\n                return true;\n            }\n\n            for (var i = offset; i < length; i++) {\n                if (!dom.insignificant(container.childNodes[i])) {\n                    return false;\n                }\n            }\n\n            return true;\n        }\n\n        while (isEnd(range.endOffset, range.endContainer) && range.endContainer != endEditable) {\n            range.setEnd(range.endContainer.parentNode, dom.findNodeIndex(range.endContainer) + 1);\n        }\n\n        return range;\n    },\n\n    expand: function(range) {\n        var result = range.cloneRange();\n\n        var startContainer = result.startContainer.childNodes[result.startOffset === 0 ? 0 : result.startOffset - 1];\n        var endContainer = result.endContainer.childNodes[result.endOffset];\n\n        if (!isDataNode(startContainer) || !isDataNode(endContainer)) {\n            return result;\n        }\n\n        var beforeCaret = startContainer.nodeValue;\n        var afterCaret = endContainer.nodeValue;\n\n        if (!beforeCaret || !afterCaret) {\n            return result;\n        }\n\n        var startOffset = beforeCaret.split('').reverse().join('').search(boundary);\n        var endOffset = afterCaret.search(boundary);\n\n        if (!startOffset || !endOffset) {\n            return result;\n        }\n\n        endOffset = endOffset == -1 ? afterCaret.length : endOffset;\n        startOffset = startOffset == -1 ? 0 : beforeCaret.length - startOffset;\n\n        result.setStart(startContainer, startOffset);\n        result.setEnd(endContainer, endOffset);\n\n        return result;\n    },\n\n    isExpandable: function(range) {\n        var node = range.startContainer;\n        var rangeDocument = RangeUtils.documentFromRange(range);\n\n        if (node == rangeDocument || node == rangeDocument.body) {\n            return false;\n        }\n\n        var result = range.cloneRange();\n\n        var value = node.nodeValue;\n        if (!value) {\n            return false;\n        }\n\n        var beforeCaret = value.substring(0, result.startOffset);\n        var afterCaret = value.substring(result.startOffset);\n\n        var startOffset = 0, endOffset = 0;\n\n        if (beforeCaret) {\n            startOffset = beforeCaret.split('').reverse().join('').search(boundary);\n        }\n\n        if (afterCaret) {\n            endOffset = afterCaret.search(boundary);\n        }\n\n        return startOffset && endOffset;\n    }\n};\n\nextend(Editor, {\n    SelectionUtils: SelectionUtils,\n    W3CRange: W3CRange,\n    RangeIterator: RangeIterator,\n    W3CSelection: W3CSelection,\n    RangeEnumerator: RangeEnumerator,\n    RestorePoint: RestorePoint,\n    Marker: Marker,\n    RangeUtils: RangeUtils\n});\n\n})(window.kendo.jQuery);\n","import \"./range.js\";\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Class = kendo.Class,\n        Editor = kendo.ui.editor,\n        dom = Editor.Dom,\n        template = kendo.template,\n        RangeUtils = Editor.RangeUtils,\n        complexBlocks = [\"ul\", \"ol\", \"tbody\", \"thead\", \"table\"],\n        toolsToBeUpdated = [\n            \"bold\",\n            \"italic\",\n            \"underline\",\n            \"strikethrough\",\n            \"superscript\",\n            \"subscript\",\n            \"forecolor\",\n            \"backcolor\",\n            \"fontname\",\n            \"fontsize\",\n            \"createlink\",\n            \"unlink\",\n            \"autolink\",\n            \"addcolumnleft\",\n            \"addcolumnright\",\n            \"addrowabove\",\n            \"addrowbelow\",\n            \"deleterow\",\n            \"deletecolumn\",\n            \"mergecells\",\n            \"formatting\",\n            \"cleanformatting\" ],\n        IMMUTABALE = \"k-immutable\",\n        IMMUTABALE_MARKER_SELECTOR = \"[\" + IMMUTABALE + \"]\",\n        IMMUTABLE_SELECTOR = \"[contenteditable='false']\";\n\n    var rootCondition = function(node) {\n        return $(node).is(\"body,.k-editor\");\n    };\n\n    var immutable = function(node) {\n        return node.getAttribute && node.getAttribute(\"contenteditable\") == \"false\";\n    };\n\n    var immutableParent = function(node) {\n        return dom.closestBy(node, immutable, rootCondition);\n    };\n\n    var expandImmutablesIn = function(range) {\n        var startImmutableParent = immutableParent(range.startContainer);\n        var endImmutableParent = immutableParent(range.endContainer);\n\n        if (startImmutableParent || endImmutableParent) {\n            if (startImmutableParent) {\n                range.setStartBefore(startImmutableParent);\n            }\n            if (endImmutableParent) {\n                range.setEndAfter(endImmutableParent);\n            }\n        }\n    };\n\n    var immutablesContext = function(range) {\n        if (immutableParent(range.commonAncestorContainer)) {\n            return true;\n        } else if (immutableParent(range.startContainer) || immutableParent(range.endContainer)) {\n            var editableNodes = RangeUtils.editableTextNodes(range);\n            if (editableNodes.length === 0) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    var randomId = function(length) {\n        var result = '';\n        var chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n        for (var i = length || 10; i > 0; --i) {\n            result += chars.charAt(Math.round(Math.random() * (chars.length - 1)));\n        }\n        return result;\n    };\n\n    var removeImmutables = function(root) {\n        var serializedImmutables = { empty: true }, nodeName, id, serialized;\n         $(root).find(IMMUTABLE_SELECTOR).each(function(i, node) {\n            nodeName = dom.name(node);\n            id = randomId();\n            serialized = \"<\" + nodeName + \" \" + IMMUTABALE + \"='\" + id + \"'></\" + nodeName + \">\";\n            serializedImmutables[id] = { node: node, style: $(node).attr(\"style\") };\n            serializedImmutables.empty = false;\n            $(node).replaceWith(serialized);\n        });\n\n        return serializedImmutables;\n    };\n\n    var restoreImmutables = function(root, serializedImmutables) {\n        var id, immutable;\n        $(root).find(IMMUTABALE_MARKER_SELECTOR).each(function(i, node) {\n            id = node.getAttribute(IMMUTABALE);\n            immutable = serializedImmutables[id];\n            $(node).replaceWith(immutable.node);\n            if (immutable.style != $(immutable.node).attr(\"style\")) {\n                $(immutable.node).removeAttr(\"style\").attr(\"style\", immutable.style);\n            }\n        });\n    };\n\n    var deletingKey = function(keyCode) {\n        var keys = kendo.keys;\n        return keyCode === keys.BACKSPACE || keyCode == keys.DELETE;\n    };\n    var updateToolOptions = function(tool) {\n        var options = tool ? tool.options : undefined;\n        if (options && options.finder) {\n            options.finder._initOptions({ immutables: true });\n        }\n    };\n\n    var Immutables = Class.extend({\n        init: function(editor) {\n            this.editor = editor;\n            this.serializedImmutables = {};\n            this.options = $.extend({}, editor && editor.options && editor.options.immutables);\n\n            var tools = kendo.ui.Editor.defaultTools;\n            updateToolOptions(tools.justifyLeft);\n            updateToolOptions(tools.justifyCenter);\n            updateToolOptions(tools.justifyRight);\n            updateToolOptions(tools.justifyFull);\n        },\n\n        serialize: function(node) {\n            var result = this._toHtml(node),\n                id;\n\n            if (result.indexOf(IMMUTABALE) === -1) {\n                id = this.randomId();\n                result = result.replace(/>/, ' ' + IMMUTABALE + '=\"' + id + '\">');\n            } else {\n                id = result.match(/k-immutable\\s*=\\s*['\"](.*)['\"]/)[1];\n            }\n\n            this.serializedImmutables[id] = node;\n            return result;\n        },\n\n        _toHtml: function(node) {\n            var serialization = this.options.serialization;\n            var serializationType = typeof serialization;\n            var nodeName;\n\n            switch (serializationType) {\n                case \"string\":\n                    return template(serialization)(node);\n                case \"function\":\n                    return serialization(node);\n                default:\n                    nodeName = dom.name(node);\n                    return \"<\" + nodeName + \"></\" + nodeName + \">\";\n            }\n        },\n\n        deserialize: function(node) {\n            var that = this;\n            var deserialization = this.options.deserialization;\n\n            $(IMMUTABALE_MARKER_SELECTOR, node).each(function() {\n                var id = this.getAttribute(IMMUTABALE);\n                var immutable = that.serializedImmutables[id];\n                if (kendo.isFunction(deserialization)) {\n                    deserialization(this, immutable);\n                }\n                $(this).replaceWith(immutable);\n            });\n\n            that.serializedImmutables = {};\n        },\n\n        randomId: function(length) {\n            return randomId(length);\n        },\n\n        keydown: function(e, range) {\n            var isDeleting = deletingKey(e.keyCode);\n            var shouldCancelEvent = (isDeleting && this._cancelDeleting(e, range)) ||\n                (!isDeleting && this._cancelTyping(e, range));\n\n            if (shouldCancelEvent) {\n                e.preventDefault();\n                return true;\n            }\n        },\n\n        _cancelTyping: function(e, range) {\n            var editor = this.editor;\n            var keyboard = editor.keyboard;\n\n            return range.collapsed && !keyboard.typingInProgress &&\n                keyboard.isTypingKey(e) && immutablesContext(range);\n        },\n\n        _cancelDeleting: function(e, range) {\n            var keys = kendo.keys;\n            var backspace = e.keyCode === keys.BACKSPACE;\n            var del = e.keyCode == keys.DELETE;\n\n            if (!backspace && !del) {\n                return false;\n            }\n            var cancelDeleting = false;\n            if (range.collapsed) {\n                if (immutablesContext(range)) {\n                    return true;\n                }\n                var immutable = this.nextImmutable(range, del);\n                if (immutable && backspace) {\n                    var closestSelectionLi = dom.closest(range.commonAncestorContainer, \"li\");\n                    if (closestSelectionLi) {\n                        var closestImmutableLi = dom.closest(immutable, \"li\");\n                        if (closestImmutableLi && closestImmutableLi !== closestSelectionLi) {\n                            return cancelDeleting;\n                        }\n                    }\n                }\n                if (immutable && !dom.tableCell(immutable)) {\n                    if (dom.parentOfType(immutable, complexBlocks) === dom.parentOfType(range.commonAncestorContainer, complexBlocks)) {\n                        while (immutable && immutable.parentNode.childNodes.length == 1) {\n                            immutable = immutable.parentNode;\n                        }\n                        if (dom.tableCell(immutable)) {\n                            return cancelDeleting;\n                        }\n                        this._removeImmutable(immutable, range);\n                    }\n                    cancelDeleting = true;\n                }\n            }\n            return cancelDeleting;\n        },\n\n        nextImmutable: function(range, forwards) {\n            var commonContainer = range.commonAncestorContainer;\n            if (dom.isBom(commonContainer) || ((forwards && RangeUtils.isEndOf(range, commonContainer)) || (!forwards && RangeUtils.isStartOf(range, commonContainer)))) {\n                var next = this._nextNode(commonContainer, forwards);\n                if (next && dom.isBlock(next) && !immutableParent(next)) {\n                    while (next && next.children && next.children[forwards ? 0 : next.children.length - 1]) {\n                        next = next.children[forwards ? 0 : next.children.length - 1];\n                    }\n                }\n                return immutableParent(next);\n            }\n        },\n\n        _removeImmutable: function(immutable, range) {\n            var editor = this.editor;\n            var startRestorePoint = new Editor.RestorePoint(range, editor.body);\n            dom.remove(immutable);\n            Editor._finishUpdate(editor, startRestorePoint);\n        },\n\n        _nextNode: function(node, forwards) {\n            var sibling = forwards ? \"nextSibling\" : \"previousSibling\";\n            var current = node, next;\n            while (current && !next && !dom.isChildOfBaseContainer(current)) {\n                next = current[sibling];\n                if (next && dom.isDataNode(next) && /^\\s|[\\ufeff]$/.test(next.nodeValue)) {\n                    current = next;\n                    next = current[sibling];\n                }\n                if (!next) {\n                    current = current.parentNode;\n                }\n            }\n            return next;\n        }\n    });\n\n    Immutables.immutable = immutable;\n    Immutables.immutableParent = immutableParent;\n    Immutables.expandImmutablesIn = expandImmutablesIn;\n    Immutables.immutablesContext = immutablesContext;\n    Immutables.toolsToBeUpdated = toolsToBeUpdated;\n    Immutables.removeImmutables = removeImmutables;\n    Immutables.restoreImmutables = restoreImmutables;\n\n    Editor.Immutables = Immutables;\n})(window.kendo.jQuery);\n","import \"./immutables.js\";\n\n(function($) {\n\n    // Imports ================================================================\n    var kendo = window.kendo,\n        Class = kendo.Class,\n        editorNS = kendo.ui.editor,\n        dom = editorNS.Dom,\n        RestorePoint = editorNS.RestorePoint,\n        Marker = editorNS.Marker,\n        extend = $.extend;\n\nfunction finishUpdate(editor, startRestorePoint) {\n    var endRestorePoint = editor.selectionRestorePoint = new RestorePoint(editor.getRange(), editor.body);\n    var command = new GenericCommand(startRestorePoint, endRestorePoint);\n    command.editor = editor;\n\n    editor.undoRedoStack.push(command);\n    editor._refreshTools();\n\n    return endRestorePoint;\n}\n\nvar Command = Class.extend({\n    init: function(options) {\n        this.options = options;\n        this.restorePoint = new RestorePoint(options.range, options.body, { immutables: options.immutables });\n        this.marker = new Marker();\n        this.formatter = options.formatter;\n    },\n\n    getRange: function() {\n        return this.restorePoint.toRange();\n    },\n\n    lockRange: function(expand) {\n        return this.marker.add(this.getRange(), expand);\n    },\n\n    releaseRange: function(range) {\n        this.marker.remove(range);\n        this.editor.selectRange(range);\n    },\n\n    undo: function() {\n        var point = this.restorePoint;\n        point.restoreHtml();\n        this.editor.selectRange(point.toRange());\n    },\n\n    redo: function() {\n        this.exec();\n    },\n\n    createDialog: function(content, options) {\n        var editor = this.editor;\n\n        return $(content).appendTo(document.body)\n            .kendoWindow(extend({}, editor.options.dialogOptions, options))\n            .closest(\".k-window\")\n            .addClass(\"k-editor-window\")\n            .toggleClass(\"k-rtl\", kendo.support.isRtl(editor.wrapper)).end();\n    },\n\n    exec: function() {\n        var range = this.lockRange(true);\n        this.formatter.editor = this.editor;\n        this.formatter.toggle(range);\n        this.releaseRange(range);\n    },\n\n    postExec: function() {\n        this.editor._handleSpaceAndNewLines();\n    },\n\n    immutables: function() {\n        return this.editor && this.editor.options.immutables;\n    },\n\n    expandImmutablesIn: function(range) {\n        if (this.immutables()) {\n            kendo.ui.editor.Immutables.expandImmutablesIn(range);\n            this.restorePoint = new RestorePoint(range, this.editor.body);\n        }\n    },\n\n    _actionButtonsTemplate: function({ messages, insertButtonIcon, cancelButtonIcon }) {\n        return '<div class=\"k-actions k-actions-start k-actions-horizontal k-window-buttons\">' +\n        kendo.html.renderButton(`<button class=\"k-dialog-insert\">${messages.dialogInsert}</button>`, { themeColor: \"primary\", icon: insertButtonIcon }) +\n        kendo.html.renderButton(`<button class=\"k-dialog-close\">${messages.dialogCancel}</button>`, { icon: cancelButtonIcon }) +\n    '</div>';\n    }\n});\n\nvar GenericCommand = Class.extend({\n    init: function(startRestorePoint, endRestorePoint) {\n        this.body = startRestorePoint.body;\n        this.startRestorePoint = startRestorePoint;\n        this.endRestorePoint = endRestorePoint;\n    },\n\n    redo: function() {\n        dom.removeChildren(this.body);\n\n        this.body.innerHTML = this.endRestorePoint.html;\n        this.editor.selectRange(this.endRestorePoint.toRange());\n    },\n\n    undo: function() {\n        dom.removeChildren(this.body);\n\n        this.body.innerHTML = this.startRestorePoint.html;\n        this.editor.selectRange(this.startRestorePoint.toRange());\n    }\n});\n\nextend(editorNS, {\n    _finishUpdate: finishUpdate,\n    Command: Command,\n    GenericCommand: GenericCommand\n});\n\n})(window.kendo.jQuery);\n","import \"../command.js\";\n\n(function($, undefined) {\n\nvar kendo = window.kendo,\n    extend = $.extend,\n    Editor = kendo.ui.editor,\n    EditorUtils = Editor.EditorUtils,\n    Command = Editor.Command,\n    Tool = Editor.Tool,\n    dom = Editor.Dom;\n\nvar ViewHtmlCommand = Command.extend({\n    init: function(options) {\n        var cmd = this;\n        cmd.options = options;\n        Command.fn.init.call(cmd, options);\n        cmd.attributes = null;\n        cmd.async = true;\n    },\n\n    exec: function() {\n        var that = this,\n            editor = that.editor,\n            options = editor.options,\n            messages = editor.options.messages,\n            dialog = $(kendo.template(ViewHtmlCommand.template)(messages)).appendTo(document.body),\n            textarea = \".k-editor-textarea > textarea\",\n            content, comments;\n\n        options.serialization.immutables = editor.immutables;\n\n        comments = dom.getAllComments(editor.body);\n\n        content = EditorUtils.cacheComments(editor.value(), comments);\n        content = ViewHtmlCommand.indent(content);\n        content = EditorUtils.retrieveComments(content, comments);\n\n        options.serialization.immutables = undefined;\n\n        function apply(e) {\n            options.deserialization.immutables = editor.immutables;\n            editor.value(dialog.find(textarea).val());\n            options.deserialization.immutables = undefined;\n\n            close(e);\n\n            if (that.change) {\n                that.change();\n            }\n\n            editor.trigger(\"change\");\n        }\n\n        function close(e) {\n            e.preventDefault();\n\n            dialog.data(\"kendoWindow\").destroy();\n\n            if (editor.immutables) {\n                editor.immutables.serializedImmutables = {};\n            }\n\n            editor.focus();\n        }\n\n        let window = this.createDialog(dialog, {\n            title: messages.viewHtml,\n            _footerTemplate: ViewHtmlCommand._footerTemplate,\n            _footerMessages: messages,\n            width: 600,\n            height: 400,\n            resizable: true,\n            close: close,\n            visible: false\n        })\n            .find(textarea).val(content).end()\n            .data(\"kendoWindow\");\n\n            window.center().open();\n\n            window.wrapper.find(\".k-dialog-update\").on(\"click\", apply).end();\n            window.wrapper.find(\".k-dialog-close\").on(\"click\", close).end();\n        dialog.find(textarea).trigger(\"focus\");\n    }\n});\n\nextend(ViewHtmlCommand, {\n    template: () =>\n    '<div class=\"k-editor-dialog k-popup-edit-form k-viewhtml-dialog\">' +\n        '<span class=\"k-input k-textarea k-editor-textarea\"><textarea class=\"k-input-inner !k-overflow-auto !k-resize-none\"></textarea></span>' +\n    '</div>',\n    _footerTemplate: ({ dialogUpdate, dialogCancel }) =>\n    `<div class=\"k-actions k-actions-start k-actions-horizontal k-window-actions\">` +\n        kendo.html.renderButton(`<button class=\"k-dialog-update\">${kendo.htmlEncode(dialogUpdate)}</button>`, { themeColor: \"primary\", icon: \"check\" }) +\n        kendo.html.renderButton(`<button class=\"k-dialog-close\">${kendo.htmlEncode(dialogCancel)}</button>`, { icon: \"cancel-outline\" }) +\n    `</div>`,\n    indent: function(content) {\n        return content.replace(/<\\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/ig, \"</$1>\\n\")\n                      .replace(/<(ul|ol)([^>]*)><li/ig, \"<$1$2>\\n<li\")\n                      .replace(/<br \\/>/ig, \"<br />\\n\")\n                      .replace(/\\n$/, \"\");\n    }\n});\n\nkendo.ui.editor.ViewHtmlCommand = ViewHtmlCommand;\n\nEditor.EditorUtils.registerTool(\"viewHtml\", new Tool({ command: ViewHtmlCommand }));\n\n})(window.kendo.jQuery);\n","import \"../command.js\";\n\n(function($) {\n\nvar kendo = window.kendo,\n    extend = $.extend,\n    Editor = kendo.ui.editor,\n    Tool = Editor.Tool,\n    Command = Editor.Command,\n    EditorUtils = Editor.EditorUtils;\n\nvar FormatCommand = Command.extend({\n    init: function(options) {\n        options.formatter = options.formatter();\n        var finder = options.formatter.finder;\n        if (finder && EditorUtils.formatByName(\"immutable\", finder.format)) {\n            finder._initOptions({ immutables: options.immutables });\n            options.finder && options.finder._initOptions({ immutables: options.immutables });\n        }\n        Command.fn.init.call(this, options);\n    }\n});\n\nvar FormatTool = Tool.extend({\n    init: function(options) {\n        Tool.fn.init.call(this, options);\n    },\n\n    command: function(commandArguments) {\n        var that = this;\n\n        return new FormatCommand(extend(commandArguments, {\n            formatter: that.options.formatter,\n            finder: that.options.finder\n        }));\n    },\n\n    update: function(ui, nodes) {\n        var isFormatted = this.options.finder.isFormatted(nodes),\n            toolbar = ui.closest(\".k-toolbar\").getKendoToolBar();\n\n        if (toolbar && ui.getKendoToggleButton()) {\n            toolbar.toggle(ui, isFormatted);\n        }\n    }\n});\n\n$.extend(Editor, {\n    FormatCommand: FormatCommand,\n    FormatTool: FormatTool\n});\n\n})(window.kendo.jQuery);\n","import \"./format.js\";\n(function($) {\n\nvar kendo = window.kendo,\n    Class = kendo.Class,\n    Editor = kendo.ui.editor,\n    formats = kendo.ui.Editor.fn.options.formats,\n    Tool = Editor.Tool,\n    FormatTool = Editor.FormatTool,\n    dom = Editor.Dom,\n    RangeUtils = Editor.RangeUtils,\n    extend = $.extend,\n    registerTool = Editor.EditorUtils.registerTool,\n    registerFormat = Editor.EditorUtils.registerFormat,\n    MOUSEDOWN_NS = \"mousedown.kendoEditor\",\n    KEYDOWN_NS = \"keydown.kendoEditor\",\n    KMARKER = \"k-marker\";\n\nvar InlineFormatFinder = Class.extend({\n    init: function(format) {\n        this.format = format;\n    },\n\n    numberOfSiblings: function(referenceNode) {\n        var textNodesCount = 0,\n            elementNodesCount = 0,\n            markerCount = 0,\n            parentNode = referenceNode.parentNode,\n            node;\n\n        for (node = parentNode.firstChild; node; node = node.nextSibling) {\n            if (node != referenceNode) {\n                if (node.className == KMARKER) {\n                    markerCount++;\n                } else if (node.nodeType == 3) {\n                    textNodesCount++;\n                } else {\n                    elementNodesCount++;\n                }\n            }\n        }\n\n        if (markerCount > 1 && parentNode.firstChild.className == KMARKER && parentNode.lastChild.className == KMARKER) {\n            // full node selection\n            return 0;\n        } else {\n            return elementNodesCount + textNodesCount;\n        }\n    },\n\n    findSuitable: function(sourceNode, skip) {\n        if (!skip && this.numberOfSiblings(sourceNode) > 0) {\n            return null;\n        }\n\n        var node = sourceNode.parentNode;\n        var tags = this.format[0].tags;\n\n        while (!dom.ofType(node, tags)) {\n            if (this.numberOfSiblings(node) > 0) {\n                return null;\n            }\n\n            node = node.parentNode;\n        }\n\n        return node;\n    },\n\n    findFormat: function(sourceNode) {\n        var format = this.format,\n            attrEquals = dom.attrEquals,\n            i, len, node, tags, attributes;\n\n        for (i = 0, len = format.length; i < len; i++) {\n            node = sourceNode;\n            tags = format[i].tags;\n            attributes = format[i].attr;\n\n            if (node && dom.ofType(node, tags) && attrEquals(node, attributes)) {\n                return node;\n            }\n\n            while (node) {\n                node = dom.parentOfType(node, tags);\n                if (node && attrEquals(node, attributes)) {\n                    return node;\n                }\n            }\n        }\n\n        return null;\n    },\n\n    isFormatted: function(nodes) {\n        var i, len;\n\n        for (i = 0, len = nodes.length; i < len; i++) {\n            if (this.findFormat(nodes[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n});\n\nvar InlineFormatter = Class.extend({\n    init: function(format, values) {\n        this.finder = new InlineFormatFinder(format);\n        this.attributes = extend({}, format[0].attr, values);\n        this.tag = format[0].tags[0];\n    },\n\n    wrap: function(node) {\n        return dom.wrap(node, dom.create(node.ownerDocument, this.tag, this.attributes));\n    },\n\n    activate: function(range, nodes) {\n        if (this.finder.isFormatted(nodes)) {\n            this.split(range);\n            this.remove(nodes);\n        } else {\n            this.apply(nodes);\n        }\n    },\n\n    toggle: function(range) {\n        var textNodes = this.immutables() ? RangeUtils.editableTextNodes : RangeUtils.textNodes;\n        var nodes = textNodes(range);\n\n        if (nodes.length > 0) {\n            this.activate(range, nodes);\n        }\n    },\n\n    immutables: function() {\n        return this.editor && this.editor.options.immutables;\n    },\n\n    apply: function(nodes) {\n        var formatNodes = [];\n        var i, l, node, formatNode;\n\n        if (nodes.length > 1) {\n            for (i = 0, l = nodes.length; i < l; i++) {\n                node = nodes[i];\n                formatNode = this.format(node, true);\n                formatNodes.push(formatNode);\n\n            }\n        } else {\n            node = nodes[0];\n            this.format(node, false);\n        }\n\n        this.consolidate(formatNodes);\n    },\n\n    format: function(node, outerMostInline) {\n        var formatNode = this.finder.findSuitable(node);\n        var attributes = this.attributes;\n        var styleAttr = attributes ? attributes.style || {} : {};\n\n        if (formatNode) {\n            if (dom.is(formatNode, \"font\")) {\n                if (styleAttr.color) {\n                    formatNode.removeAttribute(\"color\");\n                }\n                if (styleAttr.fontName) {\n                    formatNode.removeAttribute(\"face\");\n                }\n                if (styleAttr.fontSize) {\n                    formatNode.removeAttribute(\"size\");\n                }\n            }\n            dom.attr(formatNode, attributes);\n        } else {\n            if (outerMostInline) {\n                while (!dom.isBlock(node.parentNode) && node.parentNode.childNodes.length == 1 && node.parentNode.contentEditable !== 'true') {\n                    node = node.parentNode;\n                }\n            }\n\n            formatNode = this.wrap(node);\n        }\n\n        return formatNode;\n    },\n\n    remove: function(nodes) {\n        var i, l, formatNode;\n\n        for (i = 0, l = nodes.length; i < l; i++) {\n            formatNode = this.finder.findFormat(nodes[i]);\n            if (formatNode) {\n                if (this.attributes && this.attributes.style) {\n                    dom.unstyle(formatNode, this.attributes.style);\n                    if (!formatNode.style.cssText && !formatNode.attributes[\"class\"]) {\n                        dom.unwrap(formatNode);\n                    }\n                } else {\n                    dom.unwrap(formatNode);\n                }\n            }\n        }\n    },\n\n    split: function(range) {\n        var nodes = RangeUtils.textNodes(range);\n        var l = nodes.length;\n        var i, formatNode;\n\n        if (l > 0) {\n            for (i = 0; i < l; i++) {\n                formatNode = this.finder.findFormat(nodes[i]);\n                if (formatNode) {\n                    RangeUtils.split(range, formatNode, true);\n                }\n            }\n        }\n    },\n\n    consolidate: function(nodes) {\n        var node, last;\n\n        while (nodes.length > 1) {\n            node = nodes.pop();\n            last = nodes[nodes.length - 1];\n\n            if (node.previousSibling && node.previousSibling.className == KMARKER) {\n                last.appendChild(node.previousSibling);\n            }\n\n            if (node.tagName == last.tagName &&\n                node.previousSibling == last &&\n                node.style.cssText == last.style.cssText &&\n                node.className === last.className) {\n\n                while (node.firstChild) {\n                    last.appendChild(node.firstChild);\n                }\n\n                dom.remove(node);\n            }\n        }\n    }\n});\n\nvar GreedyInlineFormatFinder = InlineFormatFinder.extend({\n    init: function(format, greedyProperty, fontAttr, defaultValue) {\n        this.format = format;\n        this.greedyProperty = greedyProperty;\n        this.fontAttr = fontAttr;\n        this.defaultValue = defaultValue;\n        InlineFormatFinder.fn.init.call(this, format);\n    },\n\n    getInlineCssValue: function(node) {\n        var attributes = node.attributes;\n        var trim = kendo.trim;\n        var i, l, attribute, name, attributeValue, css, pair, cssIndex, len;\n        var propertyAndValue, property, value;\n\n        if (!attributes) {\n            return;\n        }\n\n        for (i = 0, l = attributes.length; i < l; i++) {\n            attribute = attributes[i];\n            name = attribute.nodeName;\n            attributeValue = attribute.nodeValue;\n\n            if (attribute.specified && name == \"style\") {\n\n                css = trim(attributeValue || node.style.cssText).split(\";\");\n\n                for (cssIndex = 0, len = css.length; cssIndex < len; cssIndex++) {\n                    pair = css[cssIndex];\n                    if (pair.length) {\n                        propertyAndValue = pair.split(\":\");\n                        property = trim(propertyAndValue[0].toLowerCase());\n                        value = trim(propertyAndValue[1]);\n\n                        if (property != this.greedyProperty) {\n                            continue;\n                        }\n\n                        return property.indexOf(\"color\") >= 0 ? dom.toHex(value) : value;\n                    }\n                }\n            }\n\n            if (this.fontAttr && attribute.specified && name == this.fontAttr) {\n                property = attribute.nodeValue;\n                value = attribute.nodeValue;\n\n                return property.indexOf(\"color\") >= 0 ? dom.toHex(value) : value;\n            }\n        }\n    },\n\n    getFormatInner: function(node) {\n        var $node = $(dom.isDataNode(node) ? node.parentNode : node);\n        var parents = $node.parentsUntil(\"[contentEditable]\").addBack().toArray().reverse();\n        var i, len, value;\n\n        for (i = 0, len = parents.length; i < len; i++) {\n            value = this.greedyProperty == \"className\" ? parents[i].className : this.getInlineCssValue(parents[i]);\n\n            if (value) {\n                return value;\n            }\n        }\n\n        return this.defaultValue || \"inherit\";\n    },\n\n    getFormat: function(nodes) {\n        var result = this.getFormatInner(nodes[0]), i, len;\n\n        for (i = 1, len = nodes.length; i < len; i++) {\n            if (result != this.getFormatInner(nodes[i])) {\n                return \"\";\n            }\n        }\n\n        return result;\n    },\n\n    isFormatted: function(nodes) {\n        return this.getFormat(nodes) !== \"\";\n    }\n});\n\nvar GreedyInlineFormatter = InlineFormatter.extend({\n    init: function(format, values, greedyProperty) {\n        InlineFormatter.fn.init.call(this, format, values);\n\n        this.values = values;\n        this.finder = new GreedyInlineFormatFinder(format, greedyProperty);\n\n        if (greedyProperty) {\n            this.greedyProperty = kendo.toCamelCase(greedyProperty);\n        }\n\n    },\n\n    activate: function(range, nodes) {\n        var greedyProperty = this.greedyProperty;\n        var action = \"apply\";\n\n        this.split(range);\n\n        if (greedyProperty && this.values.style[greedyProperty] == \"inherit\") {\n            action = \"remove\";\n        }\n\n        this[action](nodes);\n    }\n});\n\nvar InlineFormatTool = FormatTool.extend({\n    init: function(options) {\n        FormatTool.fn.init.call(this, extend(options, {\n            finder: new InlineFormatFinder(options.format),\n            formatter: function() { return new InlineFormatter(options.format); }\n        }));\n    }\n});\n\nvar DelayedExecutionTool = Tool.extend({\n    update: function(ui, nodes) {\n        var list = ui.data(this.type);\n\n        list.close();\n        list.value(this.finder.getFormat(nodes));\n    }\n});\n\nvar FontTool = DelayedExecutionTool.extend({\n    init: function(options) {\n        Tool.fn.init.call(this, options);\n\n        // IE has single selection hence we are using select box instead of combobox\n        this.type = \"kendoComboBox\";\n        this.format = [{ tags: [\"span\", \"font\"] }];\n        this.finder = new GreedyInlineFormatFinder(this.format, options.cssAttr, options.fontAttr);\n    },\n\n    command: function(commandArguments) {\n        var options = this.options,\n            format = this.format,\n            style = {};\n\n        return new Editor.FormatCommand(extend(commandArguments, {\n            formatter: function() {\n                style[options.domAttr] = commandArguments.value;\n\n                return new GreedyInlineFormatter(format, { style: style }, options.cssAttr);\n            }\n        }));\n    },\n\n    initialize: function(ui, editor) {\n        var options = this.options,\n            toolName = options.name,\n            dataSource,\n            range,\n            widget = ui.data(\"kendoComboBox\"),\n            defaultValue = [];\n\n        if (!widget) {\n            return;\n        }\n\n        if (options.defaultValue) {\n           defaultValue = [{\n                text: editor.options.messages[options.defaultValue[0].text],\n                value: options.defaultValue[0].value\n           }];\n        }\n\n        dataSource = defaultValue.concat(options.items ? options.items : (editor.options[toolName] || [] ));\n        widget.setDataSource(dataSource);\n\n        widget.bind(\"change\", (e) => {\n            editor._range = range;\n            if (e.sender.value() !== \"\") {\n                Tool.exec(editor, toolName, e.sender.value());\n            }\n        });\n\n        widget.bind(\"close\", () => {\n            setTimeout(function() {\n                editor._deleteSavedRange();\n            },0);\n        });\n\n        widget.value(\"inherit\");\n\n        widget.wrapper.on(MOUSEDOWN_NS, \".k-select,.k-input-button,.k-input\", function() {\n            var newRange = editor.getRange();\n            range = editor._containsRange(newRange) ? newRange : range;\n        })\n        .on(KEYDOWN_NS, function(e) {\n            if (e.keyCode === kendo.keys.ENTER) {\n                editor._deleteSavedRange();\n                e.preventDefault();\n            }\n        });\n    }\n\n});\n\nvar ColorTool = Tool.extend({\n    init: function(options) {\n        Tool.fn.init.call(this, options);\n\n        this.format = [{ tags: [\"span\",\"font\"] }];\n        this.finder = new GreedyInlineFormatFinder(this.format, options.cssAttr);\n    },\n\n    options: {\n        palette: \"websafe\",\n        columns: 18\n    },\n\n    update: function() {\n        this._widget.close();\n    },\n\n    command: function(commandArguments) {\n        var options = this.options,\n            format = this.format,\n            style = {};\n\n        return new Editor.FormatCommand(extend(commandArguments, {\n            formatter: function() {\n                style[options.domAttr] = commandArguments.value;\n\n                return new GreedyInlineFormatter(format, { style: style }, options.cssAttr);\n            }\n        }));\n    },\n\n    initialize: function(ui, editor) {\n        var that = this,\n            toolName = that.options.name,\n            component = this._widget = ui.getKendoColorPicker();\n\n        if (!component) {\n            return;\n        }\n\n        component.bind(\"change\", () => {\n            var color = component.value();\n\n            if (color) {\n                Tool.exec(editor, toolName, color);\n            }\n\n            delete that.storedRange;\n            delete that._inputFocused;\n\n            editor.focus();\n        });\n\n        component.bind(\"open\", () => {\n            that.storedRange = editor.getRange();\n\n            component._popup.element.on(MOUSEDOWN_NS, function(e) {\n                if (!$(e.target).is(\"input.k-color-value\")) {\n                    e.preventDefault();\n                }\n            });\n\n            if (!component._popup.element.is(\"[unselectable='on']\")) {\n                component._popup.element\n                    .attr({ unselectable: \"on\" })\n                    .find(\"*:not(input)\").attr(\"unselectable\", \"on\")\n                    .end().find(\"input\").on(\"focus\", function() {\n                        that._inputFocused = true;\n                    });\n            }\n\n            component._popup.one(\"activate\", () => {\n                component._popup.element.find(\".k-colorpalette\").trigger(\"focus\");\n            });\n        });\n\n        component.bind(\"close\", (e) => {\n            component._popup.element.off(MOUSEDOWN_NS);\n        });\n\n        component.unbind(\"activate\").bind(\"activate\", (e) => {\n            if (!component._value || component._value.toCssRgba() === \"rgba(255, 255, 255, 0)\") {\n                return;\n            }\n\n            component.trigger(\"change\");\n        });\n\n        component.wrapper\n            .attr({ unselectable: \"on\" })\n            .find(\"*:not(input)\").attr(\"unselectable\", \"on\");\n\n        component.value(\"transparent\");\n    }\n});\n\nextend(Editor, {\n    InlineFormatFinder: InlineFormatFinder,\n    InlineFormatter: InlineFormatter,\n    DelayedExecutionTool: DelayedExecutionTool,\n    GreedyInlineFormatFinder: GreedyInlineFormatFinder,\n    GreedyInlineFormatter: GreedyInlineFormatter,\n    InlineFormatTool: InlineFormatTool,\n    FontTool: FontTool,\n    ColorTool: ColorTool\n});\n\nregisterFormat(\"bold\", [ { tags: [\"strong\", \"b\"] }, { tags: [\"span\"], attr: { style: { fontWeight: \"bold\" } } } ]);\nregisterTool(\"bold\", new InlineFormatTool({\n    key: \"B\",\n    ctrl: true,\n    format: formats.bold,\n    ui: {\n        togglable: true\n    }\n}));\n\nregisterFormat(\"italic\", [ { tags: [\"em\", \"i\"] }, { tags: [\"span\"], attr: { style: { fontStyle: \"italic\" } } } ]);\nregisterTool(\"italic\", new InlineFormatTool({\n    key: \"I\",\n    ctrl: true,\n    format: formats.italic,\n    ui: {\n        togglable: true\n    }\n}));\n\nregisterFormat(\"underline\", [\n    { tags: [\"span\"], attr: { style: { textDecoration: \"underline\" } } },\n    { tags: [\"span\"], attr: { style: { textDecorationLine: \"underline\" } } },\n    { tags: [\"u\"] }\n]);\nregisterTool(\"underline\", new InlineFormatTool({\n    key: \"U\",\n    ctrl: true,\n    format: formats.underline,\n    ui: {\n        togglable: true\n    }\n}));\n\nregisterFormat(\"strikethrough\", [ { tags: [\"del\", \"strike\"] }, { tags: [\"span\"], attr: { style: { textDecoration: \"line-through\" } } } ]);\nregisterTool(\"strikethrough\", new InlineFormatTool({\n    format: formats.strikethrough,\n    ui: {\n        togglable: true\n    }\n}));\n\nregisterFormat(\"superscript\", [ { tags: [\"sup\"] } ]);\nregisterTool(\"superscript\", new InlineFormatTool({\n    format: formats.superscript,\n    ui: {\n        togglable: true\n    }\n}));\n\nregisterFormat(\"subscript\", [ { tags: [\"sub\"] } ]);\nregisterTool(\"subscript\", new InlineFormatTool({\n    format: formats.subscript,\n    ui: {\n        togglable: true\n    }\n}));\n\nregisterTool(\"foreColor\", new ColorTool({\n    cssAttr: \"color\",\n    fontAttr: \"color\",\n    domAttr: \"color\",\n    name: \"foreColor\",\n    ui: {\n        type: \"component\",\n        overflow: \"never\",\n        component: \"ColorPicker\",\n        componentOptions: {\n            views: [\"palette\"],\n            toolIcon: \"foreground-color\",\n            palette: \"websafe\",\n            columns: 18,\n            preview: false,\n            input: false,\n            buttons: false,\n            commandOn: \"change\",\n            closeOnSelect: true\n        }\n    }\n}));\n\nregisterTool(\"backColor\", new ColorTool({\n    cssAttr: \"background-color\",\n    domAttr: \"backgroundColor\",\n    name: \"backColor\",\n    ui: {\n        type: \"component\",\n        overflow: \"never\",\n        component: \"ColorPicker\",\n        componentOptions: {\n            views: [\"palette\"],\n            toolIcon: \"droplet\",\n            palette: \"websafe\",\n            columns: 18,\n            preview: false,\n            input: false,\n            buttons: false,\n            commandOn: \"change\",\n            closeOnSelect: true\n        }\n    }\n}));\n\nregisterTool(\"fontName\", new FontTool({\n    cssAttr: \"font-family\",\n    fontAttr: \"face\",\n    domAttr: \"fontFamily\",\n    name: \"fontName\",\n    defaultValue: [{ text: \"fontNameInherit\", value: \"inherit\" }],\n    ui: {\n        type: \"component\",\n        component: \"ComboBox\",\n        componentOptions: {\n            dataValueField: \"value\",\n            dataTextField: \"text\",\n            valuePrimitive: true\n        },\n        overflow: \"never\"\n    }\n}));\n\nregisterTool(\"fontSize\", new FontTool({\n    cssAttr: \"font-size\",\n    fontAttr: \"size\",\n    domAttr: \"fontSize\",\n    name: \"fontSize\",\n    defaultValue: [{ text: \"fontSizeInherit\", value: \"inherit\" }],\n    ui: {\n        type: \"component\",\n        component: \"ComboBox\",\n        componentOptions: {\n            dataValueField: \"value\",\n            dataTextField: \"text\",\n            valuePrimitive: true\n        },\n        overflow: \"never\"\n    }\n}));\n\n})(window.kendo.jQuery);\n","import \"./inlineformat.js\";\nimport \"../../kendo.form.js\";\n\n(function($, undefined) {\n\nvar kendo = window.kendo,\n    encode = kendo.htmlEncode,\n    Class = kendo.Class,\n    extend = $.extend,\n    Editor = kendo.ui.editor,\n    dom = Editor.Dom,\n    RangeUtils = Editor.RangeUtils,\n    Command = Editor.Command,\n    Tool = Editor.Tool,\n    InlineFormatter = Editor.InlineFormatter,\n    InlineFormatFinder = Editor.InlineFormatFinder,\n    textNodes = RangeUtils.textNodes,\n    editableTextNodes = RangeUtils.editableTextNodes,\n    registerTool = Editor.EditorUtils.registerTool,\n    keys = kendo.keys;\n\nvar HTTP_PROTOCOL = \"http://\";\nvar protocolRegExp = /^\\w*:\\/\\//;\nvar endLinkCharsRegExp = /[\\w\\/\\$\\-_\\*\\?]/i;\n\nvar LinkFormatFinder = Class.extend({\n    findSuitable: function(sourceNode) {\n        return dom.parentOfType(sourceNode, [\"a\"]);\n    }\n});\n\nvar LinkFormatter = Class.extend({\n    init: function() {\n        this.finder = new LinkFormatFinder();\n    },\n\n    apply: function(range, attributes) {\n        var nodes = this.immutables ? editableTextNodes(range) : textNodes(range);\n        var markers, doc, formatter, a, parent;\n\n        if (attributes.innerText) {\n            doc = RangeUtils.documentFromRange(range);\n            markers = RangeUtils.getMarkers(range);\n\n            range.deleteContents();\n            a = dom.create(doc, \"a\", attributes);\n            range.insertNode(a);\n\n            parent = a.parentNode;\n            if (dom.name(parent) == \"a\") {\n                dom.insertAfter(a, parent);\n            }\n\n            if (dom.emptyNode(parent)) {\n                dom.remove(parent);\n            }\n\n            // move range and markers after inserted link\n            var ref = a;\n            for (var i = 0; i < markers.length; i++) {\n                dom.insertAfter(markers[i], ref);\n                ref = markers[i];\n            }\n\n            if (markers.length) {\n                dom.insertBefore(doc.createTextNode(\"\\ufeff\"), markers[1] || markers[0]);\n                dom.insertAfter(doc.createTextNode(\"\\ufeff\"), markers[1] || markers[0]);\n                range.setStartBefore(markers[0]);\n                range.setEndAfter(markers[markers.length - 1]);\n            }\n        } else {\n            formatter = new InlineFormatter([{ tags: [\"a\"] }], attributes);\n            formatter.finder = this.finder;\n            formatter.apply(nodes);\n        }\n    }\n});\n\nvar UnlinkCommand = Command.extend({\n    init: function(options) {\n        var that = this;\n        options.formatter = /** @ignore */ {\n            toggle: function(range) {\n                var nodes = that.immutables() ? editableTextNodes(range) : textNodes(range);\n                new InlineFormatter([{ tags: [\"a\"] }]).remove(nodes);\n            }\n        };\n        this.options = options;\n        Command.fn.init.call(this, options);\n    }\n});\n\nvar LinkCommand = Command.extend({\n    init: function(options) {\n        var that;\n        this.options = options;\n        Command.fn.init.call(this, options);\n        this.formatter = new LinkFormatter();\n\n        if (!options.url) {\n            this.attributes = null;\n            this.async = true;\n        } else {\n            this.exec = function() {\n                this.formatter.immutables = that && that.immutables();\n                this.formatter.apply(options.range, {\n                    href: options.url,\n                    innerText: options.text || options.url,\n                    target: options.target\n                });\n            };\n        }\n    },\n\n    exec: function() {\n        var messages = this.editor.options.messages;\n        this._initialText = \"\";\n        this._range = this.lockRange(true);\n        this.formatter.immutables = this.immutables();\n\n        var nodes = textNodes(this._range);\n        var a = nodes.length ? this.formatter.finder.findSuitable(nodes[0]) : null;\n        var img = nodes.length && dom.name(nodes[0]) == \"img\";\n\n        var dialog = this.createDialog(\"<div/>\", {\n            title: messages.createLink,\n            minWidth: 340,\n            close: this._close.bind(this),\n            visible: false\n        }).data(\"kendoWindow\");\n\n        this._form = this._createForm(dialog);\n\n        if (a) {\n            this._range.selectNodeContents(a);\n            nodes = textNodes(this._range);\n        }\n\n        this._initialText = this.linkText(nodes);\n\n        dialog.wrapper\n            .find(\".k-dialog-insert\").on(\"click\", this._apply.bind(this)).end()\n            .find(\".k-dialog-close\").on(\"click\", this._close.bind(this)).end()\n            .find(\".k-form-field input\").on(\"keydown\", this._keydown.bind(this)).end()\n            .find(\"#k-editor-link-url\").val(this.linkUrl(a)).end()\n            .find(\"#k-editor-link-text\").val(this._initialText).end()\n            .find(\"#k-editor-link-title\").val(a ? a.title : \"\").end()\n            .find(\"#k-editor-link-target\").prop(\"checked\", a ? a.target == \"_blank\" : false).end()\n            .find(\".k-editor-link-text-row\").toggle(!img);\n\n        this._dialog = dialog.center().open();\n\n        $(\"#k-editor-link-url\", dialog.element).trigger(\"focus\").select();\n    },\n\n    _createForm: function(dialog) {\n        var that = this;\n        var formElement = $(\"<div/>\").appendTo(dialog.element);\n        var messages = that.editor.options.messages;\n        var form = formElement.kendoForm({\n            renderButtons: false,\n            items: [\n                {\n                    field: \"k-editor-link-url\",\n                    label: encode(messages.linkWebAddress),\n                    title: encode(messages.linkWebAddress),\n                    editor: \"TextBox\"\n                },\n                {\n                    field: \"k-editor-link-text\",\n                    label: encode(messages.linkText),\n                    title: encode(messages.linkText),\n                    editor: \"TextBox\"\n                },\n                {\n                    field: \"k-editor-link-title\",\n                    label: encode(messages.linkToolTip),\n                    title: encode(messages.linkToolTip),\n                    editor: \"TextBox\"\n                },\n                {\n                    field: \"k-editor-link-target\",\n                    editorOptions: {\n                        label: encode(messages.linkOpenInNewWindow)\n                    },\n                    label: \"\",\n                    title: encode(messages.linkOpenInNewWindow),\n                    editor: \"CheckBox\"\n                }\n            ]\n        }).data(\"kendoForm\");\n\n        formElement.find(\"#k-editor-link-text\").parents(\".k-form-field\").addClass(\"k-editor-link-text-row\");\n\n        dialog.element.after($(that._actionButtonsTemplate({ messages, insertButtonIcon: \"link\", cancelButtonIcon: \"cancel-outline\" })));\n\n        return form;\n    },\n\n    _keydown: function(e) {\n        var keys = kendo.keys;\n\n        if (e.keyCode == keys.ENTER) {\n            this._apply(e);\n        } else if (e.keyCode == keys.ESC) {\n            this._close(e);\n        }\n    },\n\n    _apply: function(e) {\n        var element = this._dialog.element;\n        var href = $(\"#k-editor-link-url\", element).val();\n        var title, text, target;\n        var textInput = $(\"#k-editor-link-text\", element);\n\n        if (href && href != HTTP_PROTOCOL) {\n\n            if (href.indexOf(\"@\") > 0 && !/^(\\w+:)|(\\/\\/)/i.test(href)) {\n                href = \"mailto:\" + href;\n            }\n\n            this.attributes = { href: href };\n\n            title = $(\"#k-editor-link-title\", element).val();\n            if (title) {\n                this.attributes.title = title;\n            }\n\n            if (textInput.is(\":visible\")) {\n                text = kendo.trim(textInput.val());\n                if (!text && !this._initialText) {\n                    this.attributes.innerText = href;\n                } else if (text && (text !== this._initialText)) {\n                    this.attributes.innerText = dom.stripBom(text);\n                }\n            }\n\n            target = $(\"#k-editor-link-target\", element).is(\":checked\");\n            this.attributes.target = target ? \"_blank\" : null;\n\n            this.formatter.apply(this._range, this.attributes);\n        }\n\n        this._close(e);\n\n        if (this.change) {\n            this.change();\n        }\n    },\n\n    _close: function(e) {\n        e.preventDefault();\n        this._form.destroy();\n        this._dialog.destroy();\n\n        dom.windowFromDocument(RangeUtils.documentFromRange(this._range)).focus();\n\n        this.releaseRange(this._range);\n    },\n\n    linkUrl: function(anchor) {\n        if (anchor) {\n            // IE < 8 returns absolute url if getAttribute is not used\n            return anchor.getAttribute(\"href\", 2);\n        }\n\n        return HTTP_PROTOCOL;\n    },\n\n    linkText: function(nodes) {\n        var text = \"\";\n        var i;\n\n        for (i = 0; i < nodes.length; i++) {\n            text += nodes[i].nodeValue;\n        }\n\n        return dom.stripBom(text || \"\");\n    },\n\n    redo: function() {\n        var range = this.lockRange(true);\n\n        this.formatter.apply(range, this.attributes);\n        this.releaseRange(range);\n    }\n\n});\n\nvar AutoLinkCommand = Command.extend({\n    init: function(options) {\n        Command.fn.init.call(this, options);\n\n        this.formatter = new LinkFormatter();\n    },\n\n    exec: function() {\n        var detectedLink = this.detectLink();\n        if (!detectedLink) {\n            return;\n        }\n\n        var range = this.getRange();\n        var linkMarker = new kendo.ui.editor.Marker();\n        var linkRange = range.cloneRange();\n\n        linkRange.setStart(detectedLink.start.node, detectedLink.start.offset);\n        linkRange.setEnd(detectedLink.end.node, detectedLink.end.offset);\n\n        range = this.lockRange();\n        linkMarker.add(linkRange);\n\n        this.formatter.apply(linkRange, {\n            href: this._ensureWebProtocol(detectedLink.text)\n        });\n\n        linkMarker.remove(linkRange);\n        this.releaseRange(range);\n    },\n\n    detectLink: function() {\n        var range = this.getRange();\n        var startNode = range.startContainer;\n        var startOffset = range.startOffset;\n        var prev = startNode.previousSibling;\n        if (!prev && ((dom.isBom(startNode) && !startNode.nextSibling) || (!startOffset && dom.isDataNode(startNode)))) {\n            startNode = startNode.parentNode;\n            startOffset = 0;\n        }\n        var traverser = new LeftDomTextTraverser({\n            node: startNode,\n            offset: startOffset,\n            cancelAtNode: function(node) { return node && dom.name(node) === \"a\"; }\n        });\n\n        var detection = new DomTextLinkDetection(traverser);\n        return detection.detectLink();\n    },\n\n    changesContent: function() {\n        return !!this.detectLink();\n    },\n\n    _ensureWebProtocol: function(linkText) {\n        var hasProtocol = this._hasProtocolPrefix(linkText);\n        return hasProtocol ? linkText : this._prefixWithWebProtocol(linkText);\n    },\n\n    _hasProtocolPrefix: function(linkText) {\n        return protocolRegExp.test(linkText);\n    },\n\n    _prefixWithWebProtocol: function(linkText) {\n        return HTTP_PROTOCOL + linkText;\n    }\n});\n\nvar UnlinkTool = Tool.extend({\n    init: function(options) {\n        this.options = options;\n        this.finder = new InlineFormatFinder([{ tags: [\"a\"] }]);\n\n        Tool.fn.init.call(this, $.extend(options, { command: UnlinkCommand }));\n    },\n\n    update: function(ui, nodes) {\n        var isLink = this.finder.isFormatted(nodes),\n            toolbar = ui.closest(\".k-toolbar\").data(\"kendoToolBar\");\n\n        if (isLink) {\n            toolbar.enable(ui, true);\n        } else {\n            toolbar.enable(ui, false);\n        }\n    }\n});\n\nvar DomTextLinkDetection = Class.extend({\n    init: function(traverser) {\n        this.traverser = traverser;\n        this.start = DomPos();\n        this.end = DomPos();\n        this.text = \"\";\n    },\n\n    detectLink: function() {\n        var node = this.traverser.node;\n        var offset = this.traverser.offset;\n        if (dom.isDataNode(node)) {\n            var text = node.data.substring(0, offset);\n            if (/\\s{2}$/.test(dom.stripBom(text))) {\n                return;\n            }\n        } else if (offset === 0) {//heuristic for new line\n            var p = dom.closestEditableOfType(node, dom.blockElements);\n            if (p && p.previousSibling) {\n                this.traverser.init({\n                    node: p.previousSibling\n                });\n            }\n        }\n\n        this.traverser.traverse(this._detectEnd.bind(this));\n        if (!this.end.blank()) {\n            this.traverser = this.traverser.clone(this.end);\n            this.traverser.traverse(this._detectStart.bind(this));\n\n            if (!this._isLinkDetected()) {\n                var puntuationOptions = this.traverser.extendOptions(this.start);\n                var puntuationTraverser = new RightDomTextTraverser(puntuationOptions);\n                puntuationTraverser.traverse(this._skipStartPuntuation.bind(this));\n                if (!this._isLinkDetected()) {\n                    this.start = DomPos();\n                }\n            }\n        }\n\n        if (this.start.blank()) {\n            return null;\n        } else {\n            return {\n                start: this.start,\n                end: this.end,\n                text: this.text\n            };\n        }\n    },\n\n    _isLinkDetected: function() {\n        return protocolRegExp.test(this.text) || /^w{3}\\./i.test(this.text);\n    },\n\n    _detectEnd: function(text, node) {\n        var i = lastIndexOfRegExp(text, endLinkCharsRegExp);\n        if (i > -1) {\n            this.end.node = node;\n            this.end.offset = i + 1;\n\n            return false;\n        }\n    },\n\n    _detectStart: function(text, node) {\n        var i = lastIndexOfRegExp(text, /\\s/);\n        var ii = i + 1;\n        this.text = text.substring(ii) + this.text;\n\n        this.start.node = node;\n        this.start.offset = ii;\n\n        if (i > -1) {\n            return false;\n        }\n    },\n\n    _skipStartPuntuation: function(text, node, offset) {\n        var i = indexOfRegExp(text, /\\w/);\n        var ii = i;\n        if (i === -1) {\n            ii = text.length;\n        }\n\n        this.text = this.text.substring(ii);\n        this.start.node = node;\n        this.start.offset = ii + (offset | 0);\n\n        if (i > -1) {\n            return false;\n        }\n    }\n});\n\nfunction lastIndexOfRegExp(str, search) {\n    var i = str.length;\n    while (i-- && !search.test(str[i])) {}\n\n    return i;\n}\nfunction indexOfRegExp(str, search) {\n    var r = search.exec(str);\n\n    return r ? r.index : -1;\n}\n\nvar DomPos = function() {\n    return {\n        node: null,\n        offset: null,\n        blank: function() {\n            return this.node === null && this.offset === null;\n        }\n    };\n};\n\nvar DomTextTraverser = Class.extend({\n    init: function(options) {\n        this.node = options.node;\n        this.offset = options.offset === undefined ? (dom.isDataNode(this.node) && this.node.length) || 0 : options.offset;\n        this.cancelAtNode = options.cancelAtNode || this.cancelAtNode || $.noop;\n    },\n\n    traverse: function(callback) {\n        if (!callback) {\n            return;\n        }\n        this.cancel = false;\n        this._traverse(callback, this.node, this.offset);\n    },\n\n    _traverse: function(callback, node, offset) {\n        if (!node || this.cancel) {\n            return;\n        }\n        if (node.nodeType === 3) {\n            var text = node.data;\n            if (offset !== undefined) {\n                text = this.subText(text, offset);\n            }\n            this.cancel = (callback(text, node, offset) === false);\n        }\n        else {\n            var edgeNode = this.edgeNode(node);\n            this.cancel = this.cancel || this.cancelAtNode(edgeNode);\n            return this._traverse(callback, edgeNode);\n        }\n\n        var next = this.next(node);\n        if (!next) {\n            var parent = node.parentNode;\n            while (!next && dom.isInline(parent)) {\n                next = this.next(parent);\n                parent = parent.parentNode;\n            }\n        }\n        this.cancel = this.cancel || this.cancelAtNode(next);\n        this._traverse(callback, next);\n    },\n\n    extendOptions: function(o) {\n        return $.extend({\n            node: this.node,\n            offset: this.offset,\n            cancelAtNode: this.cancelAtNode\n        }, o || {});\n    },\n\n    edgeNode: function(node) {},\n    next: function(node) {},\n    subText: function(text, offset) {}\n\n});\n\nvar LeftDomTextTraverser = DomTextTraverser.extend({\n    subText: function(text, splitIndex) {\n        return text.substring(0, splitIndex);\n    },\n\n    next: function(node) {\n        return node.previousSibling;\n    },\n\n    edgeNode: function(node) {\n        return node.lastChild;\n    },\n\n    clone: function(options) {\n        var o = this.extendOptions(options);\n        return new LeftDomTextTraverser(o);\n    }\n});\n\nvar RightDomTextTraverser = DomTextTraverser.extend({\n    subText: function(text, splitIndex) {\n        return text.substring(splitIndex);\n    },\n\n    next: function(node) {\n        return node.nextSibling;\n    },\n\n    edgeNode: function(node) {\n        return node.firstChild;\n    },\n\n    clone: function(options) {\n        var o = this.extendOptions(options);\n        return new RightDomTextTraverser(o);\n    }\n});\n\nextend(kendo.ui.editor, {\n    LinkFormatFinder: LinkFormatFinder,\n    LinkFormatter: LinkFormatter,\n    UnlinkCommand: UnlinkCommand,\n    LinkCommand: LinkCommand,\n    AutoLinkCommand: AutoLinkCommand,\n    UnlinkTool: UnlinkTool,\n    DomTextLinkDetection: DomTextLinkDetection,\n    LeftDomTextTraverser: LeftDomTextTraverser,\n    RightDomTextTraverser: RightDomTextTraverser\n});\n\nregisterTool(\"createLink\", new Tool({ key: \"K\", ctrl: true, command: LinkCommand }));\nregisterTool(\"unlink\", new UnlinkTool({ key: \"K\", ctrl: true, shift: true, ui: { enable: false } }));\nregisterTool(\"autoLink\", new Tool({ key: [keys.ENTER, keys.SPACEBAR], keyPressCommand: true, command: AutoLinkCommand }));\n\n})(window.kendo.jQuery);\n","import \"./format.js\";\n\n(function($) {\n\nvar kendo = window.kendo,\n    Class = kendo.Class,\n    extend = $.extend,\n    Editor = kendo.ui.editor,\n    formats = kendo.ui.Editor.fn.options.formats,\n    dom = Editor.Dom,\n    FormatTool = Editor.FormatTool,\n    EditorUtils = Editor.EditorUtils,\n    registerTool = EditorUtils.registerTool,\n    registerFormat = EditorUtils.registerFormat,\n    RangeUtils = Editor.RangeUtils;\n\nvar BlockFormatFinder = Class.extend({\n    init: function(format) {\n        this.format = format;\n    },\n\n    contains: function(node, children) {\n        var i, len, child;\n\n        for (i = 0, len = children.length; i < len; i++) {\n            child = children[i];\n            if (!child || !dom.isAncestorOrSelf(node, child)) {\n                return false;\n            }\n        }\n\n        return true;\n    },\n\n    findSuitable: function(nodes) {\n        var format = this.format,\n            suitable = [],\n            i, len, candidate;\n\n        for (i = 0, len = nodes.length; i < len; i++) {\n            for (var f = format.length - 1; f >= 0; f--) {\n                candidate = dom.ofType(nodes[i], format[f].tags) ? nodes[i] : dom.closestEditableOfType(nodes[i], format[f].tags);\n                if (candidate) {\n                    break;\n                }\n            }\n\n            if (!candidate || candidate.contentEditable === 'true') {\n                return [];\n            }\n\n            if ($.inArray(candidate, suitable) < 0) {\n                suitable.push(candidate);\n            }\n        }\n\n        this._resolveListsItems(suitable);\n\n        for (i = 0, len = suitable.length; i < len; i++) {\n            if (this.contains(suitable[i], suitable)) {\n                return [suitable[i]];\n            }\n        }\n\n        return suitable;\n    },\n    _resolveListsItems: function(nodes) {\n        var i, node, wrapper;\n        for (i = 0; i < nodes.length; i++) {\n            node = nodes[i];\n            wrapper = dom.is(node, \"li\") ? node : dom.wrapper(node);\n            wrapper = wrapper && dom.list(wrapper) ? wrapper.children[0] : wrapper;\n            if (dom.is(wrapper, \"li\")) {\n                nodes[i] = wrapper;\n            }\n        }\n    },\n\n    findFormat: function(sourceNode, until) {\n        var format = this.format,\n            i, len, node, tags, attributes;\n        var editableParent = dom.editableParent(sourceNode);\n        var immutables = this.options && this.options.immutables;\n        var ImmutablesNS = Editor.Immutables;\n\n        for (i = 0, len = format.length; i < len; i++) {\n            node = sourceNode;\n            tags = format[i].tags;\n            attributes = format[i].attr;\n\n            if (immutables && tags && tags[0] == \"immutable\") {\n                var immutable = ImmutablesNS.immutableParent(node);\n                if (immutable && dom.attrEquals(immutable, attributes)) {\n                    return node;\n                }\n            }\n\n            while (node && dom.isAncestorOf(editableParent, node)) {\n                if (dom.ofType(node, tags) && dom.attrEquals(node, attributes)) {\n                    return node;\n                }\n\n                if (until && until(node)) {\n                    break;\n                }\n\n                node = node.parentNode;\n            }\n        }\n        return null;\n    },\n\n    getFormat: function(nodes) {\n        var that = this,\n            findFormat = function(node) {\n                    return that.findFormat(dom.isDataNode(node) ? node.parentNode : node);\n                },\n            result = findFormat(nodes[0]),\n            i, len;\n\n        if (!result) {\n            return \"\";\n        }\n\n        for (i = 1, len = nodes.length; i < len; i++) {\n            if (result != findFormat(nodes[i])) {\n                return \"\";\n            }\n        }\n\n        return result.nodeName.toLowerCase();\n    },\n\n    isFormatted: function(nodes, until) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            if (!this.findFormat(nodes[i], until)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n});\n\nvar BlockFormatter = Class.extend({\n    init: function(format, values) {\n        this.format = format;\n        this.values = values;\n        this.finder = new BlockFormatFinder(format);\n    },\n\n    wrap: function(tag, attributes, nodes) {\n\n        var commonAncestor = nodes.length == 1 ? dom.blockParentOrBody(nodes[0]) : dom.commonAncestor.apply(null, nodes);\n\n        if (dom.isInline(commonAncestor)) {\n            commonAncestor = dom.blockParentOrBody(commonAncestor);\n        }\n\n        var ancestors = dom.significantChildNodes(commonAncestor),\n            position = dom.findNodeIndex(ancestors[0]),\n            wrapper = dom.create(commonAncestor.ownerDocument, tag, attributes),\n            i, ancestor;\n\n        for (i = 0; i < ancestors.length; i++) {\n            ancestor = ancestors[i];\n            if (dom.isBlock(ancestor)) {\n                dom.attr(ancestor, attributes);\n\n                if (wrapper.childNodes.length) {\n                    dom.insertBefore(wrapper, ancestor);\n                    wrapper = wrapper.cloneNode(false);\n                }\n\n                position = dom.findNodeIndex(ancestor) + 1;\n\n                continue;\n            }\n\n            wrapper.appendChild(ancestor);\n        }\n\n        if (wrapper.firstChild) {\n            dom.insertAt(commonAncestor, wrapper, position);\n        }\n    },\n\n    apply: function(nodes) {\n        var format, values = this.values;\n\n        function attributes(format) {\n            return extend({}, format && format.attr, values);\n        }\n\n        this._handleImmutables(nodes, true);\n\n        var images = dom.filter(\"img\", nodes);\n        var imageFormat = EditorUtils.formatByName(\"img\", this.format);\n        var imageAttributes = attributes(imageFormat);\n        $.each(images, function() {\n            dom.attr(this, imageAttributes);\n        });\n\n        // only images were selected, no need to wrap\n        if (images.length == nodes.length) {\n            return;\n        }\n\n        var nonImages = dom.filter(\"img\", nodes, true);\n        var formatNodes = this.finder.findSuitable(nonImages);\n\n        if (formatNodes.length) {\n            for (var i = 0, len = formatNodes.length; i < len; i++) {\n                format = EditorUtils.formatByName(dom.name(formatNodes[i]), this.format);\n                dom.attr(formatNodes[i], attributes(format));\n            }\n        } else {\n            format = this.format[0];\n            this.wrap(format.tags[0], attributes(format), nonImages);\n        }\n    },\n\n    _handleImmutables: function(nodes, applyFormatting) {\n        if (!this.immutables()) {\n            return;\n        }\n        var immutableFormat = EditorUtils.formatByName(\"immutable\", this.format);\n        if (!immutableFormat) {\n            return;\n        }\n        var ImmutablesNS = Editor.Immutables;\n        var l = nodes.length - 1;\n        for (var i = l; i >= 0; i--) {\n            var immutableParent = ImmutablesNS.immutableParent(nodes[i]);\n            if (!immutableParent) {\n                continue;\n            }\n            if (immutableParent !== nodes[i + 1]) {\n                if (applyFormatting) {\n                    dom.attr(immutableParent, immutableFormat.attr);\n                } else {\n                    dom.unstyle(immutableParent, immutableFormat.attr.style);\n                }\n            }\n            nodes.splice(i, 1);\n        }\n    },\n\n    immutables: function() {\n        return this.editor && this.editor.options.immutables;\n    },\n\n    remove: function(nodes) {\n        var i, l, formatNode, namedFormat, name;\n\n        this._handleImmutables(nodes, false);\n\n        for (i = 0, l = nodes.length; i < l; i++) {\n            formatNode = this.finder.findFormat(nodes[i]);\n            if (formatNode) {\n                name = dom.name(formatNode);\n                namedFormat = EditorUtils.formatByName(name, this.format);\n                if (namedFormat.attr.style) {\n                    dom.unstyle(formatNode, namedFormat.attr.style);\n                }\n                if (namedFormat.attr.className) {\n                    dom.removeClass(formatNode, namedFormat.attr.className);\n                }\n            }\n        }\n    },\n\n    toggle: function(range) {\n        var that = this,\n            nodes = dom.filterBy(RangeUtils.nodes(range), dom.htmlIndentSpace, true);\n\n        if (that.finder.isFormatted(nodes)) {\n            that.remove(nodes);\n        } else {\n            that.apply(nodes);\n        }\n    }\n});\n\nvar GreedyBlockFormatter = Class.extend({\n    init: function(format, values) {\n        var that = this;\n        that.format = format;\n        that.values = values;\n        that.finder = new BlockFormatFinder(format);\n    },\n\n    apply: function(nodes) {\n        var format = this.format;\n        var blocks = dom.blockParents(nodes);\n        var formatTag = format[0].tags[0];\n        var i, len, list, formatter, range;\n        var element;\n        var tagName;\n        var block;\n        var immutalbeParent;\n\n        if (blocks.length) {\n            for (i = 0, len = blocks.length; i < len; i++) {\n                block = blocks[i];\n                immutalbeParent = this.immutables() && Editor.Immutables.immutableParent(block);\n\n                if (!immutalbeParent) {\n                    tagName = dom.name(block);\n\n                    if (tagName == \"li\") {\n                        list = block.parentNode;\n                        formatter = new Editor.ListFormatter(list.nodeName.toLowerCase(), formatTag);\n                        range = this.editor.createRange();\n                        range.selectNode(blocks[i]);\n                        formatter.toggle(range);\n                    } else if (formatTag && (tagName == \"td\" || block.attributes.contentEditable)) {\n                        new BlockFormatter(format, this.values).apply(block.childNodes);\n                    } else {\n                        element = dom.changeTag(block, formatTag);\n                        dom.attr(element, format[0].attr);\n                    }\n                }\n            }\n        } else {\n            var blockFormatter = new BlockFormatter(format, this.values);\n            blockFormatter.editor = this.editor;\n            blockFormatter.apply(nodes);\n        }\n    },\n\n    toggle: function(range) {\n        var nodes = RangeUtils.textNodes(range);\n        if (!nodes.length) {\n            range.selectNodeContents(range.commonAncestorContainer);\n            nodes = RangeUtils.textNodes(range);\n            if (!nodes.length) {\n                nodes = dom.significantChildNodes(range.commonAncestorContainer);\n            }\n        }\n\n        this.apply(nodes);\n    },\n\n    immutables: function() {\n        return this.editor && this.editor.options.immutables;\n    }\n});\n\nvar BlockFormatTool = FormatTool.extend({ init: function(options) {\n        FormatTool.fn.init.call(this, extend(options, {\n            finder: new BlockFormatFinder(options.format),\n            formatter: function() {\n                return new BlockFormatter(options.format);\n            }\n        }));\n    }\n});\n\nextend(Editor, {\n    BlockFormatFinder: BlockFormatFinder,\n    BlockFormatter: BlockFormatter,\n    GreedyBlockFormatter: GreedyBlockFormatter,\n    BlockFormatTool: BlockFormatTool\n});\n\nvar listElements = [\"ul\",\"ol\",\"li\"];\n\nregisterFormat(\"justifyLeft\", [\n    { tags: dom.nonListBlockElements, attr: { style: { textAlign: \"left\" } } },\n    { tags: [\"img\"], attr: { style: { \"float\": \"left\", display: \"\", marginLeft: \"\", marginRight: \"\" } } },\n    { tags: [\"immutable\"], attr: { style: { \"float\": \"left\", display: \"\", marginLeft: \"\", marginRight: \"\" } } },\n    { tags: listElements, attr: { style: { textAlign: \"left\", listStylePosition: \"\" } } }\n]);\nregisterTool(\"justifyLeft\", new BlockFormatTool({\n    format: formats.justifyLeft,\n    ui: {\n        togglable: true,\n        group: \"align\"\n    }\n}));\n\nregisterFormat(\"justifyCenter\", [\n    { tags: dom.nonListBlockElements, attr: { style: { textAlign: \"center\" } } },\n    { tags: [\"img\"], attr: { style: { display: \"block\", marginLeft: \"auto\", marginRight: \"auto\", \"float\": \"\" } } },\n    { tags: [\"immutable\"], attr: { style: { display: \"block\", marginLeft: \"auto\", marginRight: \"auto\", \"float\": \"\" } } },\n    { tags: listElements, attr: { style: { textAlign: \"center\", listStylePosition: \"inside\" } } }\n]);\nregisterTool(\"justifyCenter\", new BlockFormatTool({\n    format: formats.justifyCenter,\n    ui: {\n        togglable: true,\n        group: \"align\"\n    }\n}));\n\nregisterFormat(\"justifyRight\", [\n    { tags: dom.nonListBlockElements, attr: { style: { textAlign: \"right\" } } },\n    { tags: [\"img\"], attr: { style: { \"float\": \"right\", display: \"\", marginLeft: \"\", marginRight: \"\" } } },\n    { tags: [\"immutable\"], attr: { style: { \"float\": \"right\", display: \"\", marginLeft: \"\", marginRight: \"\" } } },\n    { tags: listElements, attr: { style: { textAlign: \"right\", listStylePosition: \"inside\" } } }\n]);\nregisterTool(\"justifyRight\", new BlockFormatTool({\n    format: formats.justifyRight,\n    ui: {\n        togglable: true,\n        group: \"align\"\n    }\n}));\n\nregisterFormat(\"justifyFull\", [\n    { tags: dom.nonListBlockElements, attr: { style: { textAlign: \"justify\" } } },\n    { tags: [\"img\"], attr: { style: { display: \"block\", marginLeft: \"auto\", marginRight: \"auto\", \"float\": \"\" } } },\n    { tags: [\"immutable\"], attr: { style: { display: \"block\", marginLeft: \"auto\", marginRight: \"auto\", \"float\": \"\" } } },\n    { tags: listElements, attr: { style: { textAlign: \"justify\", listStylePosition: \"\" } } }\n]);\nregisterTool(\"justifyFull\", new BlockFormatTool({\n    format: formats.justifyFull,\n    ui: {\n        togglable: true,\n        group: \"align\"\n    }\n}));\n\n})(window.kendo.jQuery);\n","import \"./formatblock.js\";\n\n(function($) {\n\n// Imports ================================================================\nvar kendo = window.kendo,\n    Class = kendo.Class,\n    extend = $.extend,\n    Editor = kendo.ui.editor,\n    dom = Editor.Dom,\n    RangeUtils = Editor.RangeUtils,\n    Command = Editor.Command,\n    FormatTool = Editor.FormatTool,\n    BlockFormatFinder = Editor.BlockFormatFinder,\n    textNodes = RangeUtils.textNodes,\n    registerTool = Editor.EditorUtils.registerTool;\n\nvar ListFormatFinder = BlockFormatFinder.extend({\n    init: function(options) {\n        this.tag = options.tag;\n        this.attr = options.attr;\n        this.altAttr = options.altAttr;\n\n        var tags = this.tags = [this.tag == 'ul' ? 'ol' : 'ul', this.tag];\n        var format = [{ tags: tags, attr: this.attr }];\n\n        if (this.altAttr) {\n            format.push({\n                tags: tags,\n                attr: this.altAttr\n            });\n        }\n\n        BlockFormatFinder.fn.init.call(this, format);\n    },\n\n    matchesType: function(node) {\n        return dom.attrEquals(node, this.attr) || (this.altAttr && dom.attrEquals(node, this.altAttr));\n    },\n\n    isList: function(node) {\n        return dom.list(node);\n    },\n\n    isFormatted: function(nodes) {\n        var formatNodes = [];\n        var formatNode, i;\n\n        for (i = 0; i < nodes.length; i++) {\n            formatNode = this.findFormat(nodes[i], this.isList);\n\n            if (formatNode && dom.name(formatNode) == this.tag && this.matchesType(formatNode)) {\n                formatNodes.push(formatNode);\n            }\n        }\n\n        if (formatNodes.length < 1) {\n            return false;\n        }\n\n        if (formatNodes.length != nodes.length) {\n            return false;\n        }\n\n        // check if sequential lists are selected\n        for (i = 0; i < formatNodes.length; i++) {\n            if (formatNodes[i].parentNode != formatNode.parentNode) {\n                break;\n            }\n\n            if (formatNodes[i] != formatNode) {\n                return false;\n            }\n        }\n\n        return true;\n    },\n\n    findSuitable: function(nodes) {\n        var candidate = this.findFormat(nodes[0], this.isList);\n\n        if (candidate && dom.name(candidate) == this.tag) {\n            return candidate;\n        }\n\n        return null;\n    }\n\n});\n\nvar ListFormatter = Class.extend({\n    init: function(options, unwrapTag) {\n        var that = this;\n        options = $.isPlainObject(options) ? options : { tag: options, attr: null };\n        that.tag = options.tag;\n        that.attr = options.attr;\n        that.finder = new ListFormatFinder(options);\n        that.unwrapTag = unwrapTag;\n    },\n\n    isList: function(node) {\n        return dom.list(node);\n    },\n\n    immutables: function() {\n        return this.editor && !!this.editor.options.immutables;\n    },\n\n    wrap: function(list, nodes) {\n        var li = dom.create(list.ownerDocument, \"li\"),\n            i, node,\n            isImmutable = this.immutables() ? Editor.Immutables.immutable : $.noop;\n\n        for (i = 0; i < nodes.length; i++) {\n            node = nodes[i];\n\n            if (dom.is(node, 'li')) {\n                list.appendChild(node);\n                continue;\n            }\n\n            if (this.isList(node)) {\n                while (node.firstChild) {\n                    list.appendChild(node.firstChild);\n                }\n                continue;\n            }\n\n            if (dom.is(node, \"td\")) {\n                while (node.firstChild) {\n                    li.appendChild(node.firstChild);\n                }\n                list.appendChild(li);\n                node.appendChild(list);\n                list = list.cloneNode(false);\n                li = li.cloneNode(false);\n                continue;\n            }\n\n            li.appendChild(node);\n\n            if (dom.isBlock(node)) {\n                list.appendChild(li);\n                if (!isImmutable(node)) {\n                    dom.unwrap(node);\n                }\n                li = li.cloneNode(false);\n            }\n        }\n\n        if (li.firstChild) {\n            list.appendChild(li);\n        }\n    },\n\n    containsAny: function(parent, nodes) {\n        for (var i = 0; i < nodes.length; i++) {\n            if (dom.isAncestorOrSelf(parent, nodes[i])) {\n                return true;\n            }\n        }\n\n        return false;\n    },\n\n    suitable: function(candidate, nodes) {\n        if (candidate.className == \"k-marker\") {\n            var sibling = candidate.nextSibling;\n\n            if (sibling && dom.isBlock(sibling)) {\n                return false;\n            }\n\n            sibling = candidate.previousSibling;\n\n            if (sibling && dom.isBlock(sibling)) {\n                return false;\n            }\n        }\n\n        return this.containsAny(candidate, nodes) || dom.isInline(candidate) || candidate.nodeType == 3;\n    },\n\n    _parentLists: function(node) {\n        var editable = dom.closestEditable(node);\n\n        return $(node).parentsUntil(editable, \"ul,ol\");\n    },\n\n    split: function(range) {\n        var nodes = textNodes(range);\n        var start, end, parents;\n\n        if (nodes.length) {\n            start = dom.parentOfType(nodes[0], ['li']);\n            end = dom.parentOfType(nodes[nodes.length - 1], ['li']);\n            range.setStartBefore(start);\n            range.setEndAfter(end);\n\n            for (var i = 0, l = nodes.length; i < l; i++) {\n                var formatNode = this.finder.findFormat(nodes[i]);\n                if (formatNode) {\n                    parents = this._parentLists(formatNode);\n                    if (parents.length) {\n                        RangeUtils.split(range, parents.last()[0], true);\n                    } else {\n                        RangeUtils.split(range, formatNode, true);\n                    }\n                }\n            }\n        }\n    },\n\n    merge: function(tag, formatNode) {\n        var prev = formatNode.previousSibling, next;\n\n        while (prev && (prev.className == \"k-marker\" || (prev.nodeType == 3 && dom.isWhitespace(prev)))) {\n            prev = prev.previousSibling;\n        }\n\n        // merge with previous list\n        if (prev && dom.name(prev) == tag && this.finder.matchesType(prev)) {\n            while (formatNode.firstChild) {\n                prev.appendChild(formatNode.firstChild);\n            }\n            dom.remove(formatNode);\n            formatNode = prev;\n        }\n\n        next = formatNode.nextSibling;\n        while (next && (next.className == \"k-marker\" || (next.nodeType == 3 && dom.isWhitespace(next)))) {\n            next = next.nextSibling;\n        }\n\n        // merge with next list\n        if (next && dom.name(next) == tag && this.finder.matchesType(next)) {\n            while (formatNode.lastChild) {\n                next.insertBefore(formatNode.lastChild, next.firstChild);\n            }\n            dom.remove(formatNode);\n        }\n    },\n\n    breakable: function(node) {\n        return (\n            node != node.ownerDocument.body &&\n            !/table|tbody|thead|tr|td/.test(dom.name(node)) &&\n            !node.attributes.contentEditable\n        );\n    },\n\n    findSuitableNode: function(nodes) {\n        var that = this,\n            finder = that.finder,\n            tag = that.tag,\n            formatNode;\n\n        formatNode = finder.findSuitable(nodes);\n\n        if (!formatNode) {\n            // Find the opposite tag\n            finder = new ListFormatFinder({ tag: tag == \"ul\" ? \"ol\" : \"ul\" });\n            formatNode = finder.findSuitable(nodes);\n        }\n\n        if (!formatNode) {\n            // Find the same tag\n            finder = new ListFormatFinder({ tag: tag });\n            formatNode = finder.findSuitable(nodes);\n            formatNode = formatNode && that.finder.matchesType(formatNode) ? null : formatNode;\n        }\n\n\n        return formatNode;\n    },\n\n    applyOnSection: function(section, nodes) {\n        var tag = this.tag;\n        var attr = this.attr;\n        var commonAncestor = dom.closestSplittableParent(nodes);\n\n        var ancestors = [];\n        var formatNode = this.findSuitableNode(nodes);\n\n        var childNodes;\n\n        if (/table|tbody|thead/.test(dom.name(commonAncestor))) {\n            childNodes = $.map(nodes, function(node) {\n                return dom.parentOfType(node, [\"td\"]);\n            });\n        } else {\n            childNodes = dom.significantChildNodes(commonAncestor);\n\n            if ($.grep(childNodes, dom.isBlock).length) {\n                childNodes = $.grep(childNodes, (function(node) {\n                    return this.containsAny(node, nodes);\n                }).bind(this));\n            }\n\n            if (!childNodes.length) {\n                childNodes = nodes;\n            }\n        }\n\n        function pushAncestor() {\n            ancestors.push(this);\n        }\n\n        for (var i = 0; i < childNodes.length; i++) {\n            var child = childNodes[i];\n            var suitable = (!formatNode || !dom.isAncestorOrSelf(formatNode, child)) && this.suitable(child, nodes);\n\n            if (!suitable) {\n                continue;\n            }\n\n            if (formatNode && this.isList(child)) {\n                // merging lists\n                $.each(child.children, pushAncestor);\n                dom.remove(child);\n            } else {\n                ancestors.push(child);\n            }\n        }\n\n        if (ancestors.length == childNodes.length && this.breakable(commonAncestor)) {\n            ancestors = [commonAncestor];\n        }\n\n        if (!formatNode) {\n            formatNode = dom.create(commonAncestor.ownerDocument, tag, attr);\n            if (dom.isBlock(ancestors[0])) {\n                dom.mergeAttributes(ancestors[0], formatNode);\n            }\n            dom.insertBefore(formatNode, ancestors[0]);\n        }\n\n        this.wrap(formatNode, ancestors);\n\n        while (dom.isBom(formatNode.nextSibling)) {\n            dom.remove(formatNode.nextSibling);\n        }\n\n        if (!this.finder.matchesType(formatNode)) {\n            formatNode.removeAttribute(\"type\");\n            formatNode.style.listStyleType = \"\";\n            dom.mergeAttributes(dom.create(commonAncestor.ownerDocument, tag, attr), formatNode, true);\n        }\n\n        if (formatNode && formatNode.getAttribute(\"type\") === \"\") {\n            formatNode.removeAttribute(\"type\");\n        }\n\n        if (!dom.is(formatNode, tag)) {\n            dom.changeTag(formatNode, tag);\n        }\n\n        this.merge(tag, formatNode);\n    },\n\n    apply: function(nodes) {\n        var i = 0,\n            sections = [],\n            lastSection,\n            lastNodes,\n            section,\n            node,\n            l = nodes.length,\n            immutableParent = this.immutables() ? Editor.Immutables.immutableParent : $.noop;\n\n        function addLastSection() {\n            if (lastSection) {\n                sections.push({\n                    section: lastSection,\n                    nodes: lastNodes\n                });\n            }\n        }\n\n        // split nodes into sections that need to be different lists\n        for (i = 0; i < l; i++) {\n            node = immutableParent(nodes[i]) || nodes[i];\n            section = dom.closestEditable(node, [\"td\",\"th\",\"body\"]);\n            if (!lastSection || section != lastSection) {\n                addLastSection();\n                lastNodes = [node];\n                lastSection = section;\n            } else {\n                lastNodes.push(node);\n            }\n        }\n\n        addLastSection();\n\n        for (i = 0; i < sections.length; i++) {\n            this.applyOnSection(sections[i].section, sections[i].nodes);\n        }\n    },\n\n    unwrap: function(ul) {\n        var fragment = ul.ownerDocument.createDocumentFragment(),\n            unwrapTag = this.unwrapTag,\n            parents,\n            li,\n            p,\n            child;\n\n        for (li = ul.firstChild; li; li = li.nextSibling) {\n            p = dom.create(ul.ownerDocument, unwrapTag || 'p');\n\n            while (li.firstChild) {\n                child = li.firstChild;\n\n                if (dom.isBlock(child)) {\n\n                    if (p.firstChild) {\n                        fragment.appendChild(p);\n                        p = dom.create(ul.ownerDocument, unwrapTag || 'p');\n                    }\n\n                    fragment.appendChild(child);\n                } else {\n                    p.appendChild(child);\n                }\n            }\n\n            if (p.firstChild) {\n                fragment.appendChild(p);\n            }\n        }\n\n        parents = this._parentLists(ul);\n\n        if (parents[0]) {\n            dom.insertAfter(fragment, parents.last()[0]);\n            parents.last().remove();\n        } else {\n            dom.insertAfter(fragment, ul);\n        }\n\n        dom.remove(ul);\n    },\n\n    remove: function(nodes) {\n        var formatNode;\n        for (var i = 0, l = nodes.length; i < l; i++) {\n            formatNode = this.finder.findFormat(nodes[i]);\n\n            if (formatNode) {\n                this.unwrap(formatNode);\n            }\n        }\n    },\n\n    toggle: function(range) {\n        var that = this,\n            nodes = textNodes(range),\n            ancestor = range.commonAncestorContainer;\n\n        if (!nodes.length) {\n            range.selectNodeContents(ancestor);\n            nodes = textNodes(range);\n            if (!nodes.length) {\n                var text = ancestor.ownerDocument.createTextNode(\"\");\n                range.startContainer.appendChild(text);\n                nodes = [text];\n                range.selectNode(text.parentNode);\n            }\n        }\n        nodes = dom.filterBy(nodes, dom.htmlIndentSpace, true);\n        if (that.finder.isFormatted(nodes)) {\n            that.split(range);\n            that.remove(nodes);\n        } else {\n            that.apply(nodes);\n        }\n    }\n\n});\n\nvar ListCommand = Command.extend({\n    init: function(options) {\n        options.formatter = new ListFormatter({ tag: options.tag, attr: options.attr });\n        Command.fn.init.call(this, options);\n    }\n});\n\nvar ListTool = FormatTool.extend({\n    init: function(options) {\n        this.options = options;\n\n        FormatTool.fn.init.call(this, extend(options, {\n            finder: new ListFormatFinder(options)\n        }));\n    },\n\n    command: function(commandArguments) {\n        return new ListCommand(extend(commandArguments, { tag: this.options.tag, attr: this.options.attr }));\n    }\n});\n\nextend(Editor, {\n    ListFormatFinder: ListFormatFinder,\n    ListFormatter: ListFormatter,\n    ListCommand: ListCommand,\n    ListTool: ListTool\n});\n\nregisterTool(\"insertUnorderedList\", new ListTool({ tag: 'ul', attr: { style: { listStyleType: \"\" }, type: \"\" }, ui: { togglable: true, group: \"lists\" } }));\nregisterTool(\"insertOrderedList\", new ListTool({ tag: 'ol', attr: { style: { listStyleType: \"\" }, type: \"\" }, ui: { togglable: true, group: \"lists\" } }));\nregisterTool(\"insertUpperRomanList\", new ListTool({ tag: 'ol', attr: { style: { listStyleType: \"upper-roman\" } }, altAttr: { type: \"I\" }, ui: { togglable: true, group: \"lists\" } }));\nregisterTool(\"insertLowerRomanList\", new ListTool({ tag: 'ol', attr: { style: { listStyleType: \"lower-roman\" } }, altAttr: { type: \"i\" }, ui: { togglable: true, group: \"lists\" } }));\n\n})(window.kendo.jQuery);\n","import \"./inlineformat.js\";\n\n(function($) {\n\nvar kendo = window.kendo,\n    Editor = kendo.ui.editor,\n    Tool = Editor.Tool,\n    DelayedExecutionTool = Editor.DelayedExecutionTool,\n    Command = Editor.Command,\n    dom = Editor.Dom,\n    EditorUtils = Editor.EditorUtils,\n    RangeUtils = Editor.RangeUtils,\n    registerTool = EditorUtils.registerTool;\n\n\nvar FormattingTool = DelayedExecutionTool.extend({\n    init: function(options) {\n        var that = this;\n        Tool.fn.init.call(that, kendo.deepExtend({}, that.options, options));\n\n        that.type = \"kendoDropDownList\";\n\n        that.finder = {\n            getFormat: function() { return \"\"; }\n        };\n    },\n\n    options: {\n        items: [\n            { text: \"Paragraph\", value: \"p\" },\n            { text: \"Quotation\", value: \"blockquote\" },\n            { text: \"Heading 1\", value: \"h1\" },\n            { text: \"Heading 2\", value: \"h2\" },\n            { text: \"Heading 3\", value: \"h3\" },\n            { text: \"Heading 4\", value: \"h4\" },\n            { text: \"Heading 5\", value: \"h5\" },\n            { text: \"Heading 6\", value: \"h6\" }\n        ],\n        width: 110\n    },\n\n    toFormattingItem: function(item) {\n        var value = item.value;\n\n        if (!value) {\n            return item;\n        }\n\n        if (item.tag || item.className) {\n            return item;\n        }\n\n        var dot = value.indexOf(\".\");\n\n        if (dot === 0) {\n            item.className = value.substring(1);\n        } else if (dot == -1) {\n            item.tag = value;\n        } else {\n            item.tag = value.substring(0, dot);\n            item.className = value.substring(dot + 1);\n        }\n\n        return item;\n    },\n\n    command: function(args) {\n        var that = this;\n        var item = args.value;\n\n        item = this.toFormattingItem(item);\n\n        return new Editor.FormatCommand({\n            range: args.range,\n            formatter: function() {\n                var formatter,\n                    tags = (item.tag || item.context || \"span\").split(\",\"),\n                    format = [{\n                        tags: tags,\n                        attr: { className: item.className || \"\" }\n                    }];\n\n                if ($.inArray(tags[0], dom.inlineElements) >= 0) {\n                    formatter = new Editor.GreedyInlineFormatter(format);\n                } else {\n                    formatter = new Editor.GreedyBlockFormatter(format);\n                }\n\n                formatter.editor = that.editor;\n                return formatter;\n            }\n        });\n    },\n\n    decorate: function(body) {\n        var component = this.component,\n            dataSource = component.dataSource,\n            items = dataSource.data(),\n            i, tag, className, style;\n\n        if (body) {\n            component.list.css(\"background-color\", dom.getEffectiveBackground($(body)));\n        }\n\n        if (this.component && this.component.options && this.component.options.unsafeInline !== false) {\n            for (i = 0; i < items.length; i++) {\n                tag = items[i].tag || \"span\";\n                className = items[i].className;\n\n                style = dom.inlineStyle(body, tag, { className: className });\n\n                style = style.replace(/\"/g, \"'\");\n\n                items[i].style = style + \";display:inline-block\";\n            }\n        }\n\n        dataSource.trigger(\"change\");\n    },\n\n    initialize: function(ui, editor) {\n        var options = this.options;\n        var toolName = options.name;\n        var that = this;\n        var component = ui.getKendoDropDownList();\n\n        if (!component) {\n            return;\n        }\n\n        that.editor = editor;\n        that.component = component;\n\n        // must be moved to themes\n        ui.closest(\".k-dropdownlist\").width(options.width);\n\n        component.setOptions({\n            optionLabel: editor.options.messages.formatting,\n            change: () => {\n                var dataItem = component.dataItem();\n\n                if (dataItem) {\n                    Tool.exec(editor, toolName, dataItem.toJSON());\n                }\n            },\n            dataBound: function() {\n                var i, items = component.dataSource.data(),\n                    optionLabel = component.list.parent().find(\".k-list-optionlabel\");\n\n                for (i = 0; i < items.length; i++) {\n                    items[i] = that.toFormattingItem(items[i]);\n                }\n\n                if (optionLabel.length) {\n                    optionLabel.remove();\n                }\n            }\n        });\n    },\n\n    getFormattingValue: function(items, nodes) {\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            var tag = item.tag || item.context || \"\";\n            var className = item.className ? \".\" + item.className : \"\";\n            var selector = tag + className;\n\n            var element = $(nodes[0]).closest(selector)[0];\n\n            if (!element) {\n                continue;\n            }\n\n            if (nodes.length == 1) {\n                return item.value;\n            }\n\n            for (var n = 1; n < nodes.length; n++) {\n                if (!$(nodes[n]).closest(selector)[0]) {\n                    break;\n                } else if (n == nodes.length - 1) {\n                    return item.value;\n                }\n            }\n        }\n\n        return \"\";\n    },\n\n    update: function(ui, nodes) {\n        var selectBox = $(ui).data(this.type);\n        // necessary until formatBlock is deleted\n        if (!selectBox) {\n            return;\n        }\n\n        var dataSource = selectBox.dataSource,\n            items = dataSource.data(),\n            i, context,\n            ancestor = dom.commonAncestor.apply(null, nodes);\n\n        if (ancestor != dom.closestEditable(ancestor) && this._ancestor == ancestor) {\n            return;\n        } else {\n            this._ancestor = ancestor;\n        }\n\n        for (i = 0; i < items.length; i++) {\n            context = items[i].context;\n\n            items[i].visible = !context || !!$(ancestor).closest(context).length;\n        }\n\n        dataSource.filter([{ field: \"visible\", operator: \"eq\", value: true }]);\n\n        DelayedExecutionTool.fn.update.call(this, ui, nodes);\n\n        selectBox.value(this.getFormattingValue(dataSource.view(), nodes));\n\n        selectBox.wrapper.toggleClass(\"k-disabled\", !dataSource.view().length);\n    },\n\n    destroy: function() {\n        this._ancestor = null;\n    }\n});\n\nvar CleanFormatCommand = Command.extend({\n    exec: function() {\n        var range = this.lockRange(true);\n        this.tagsToClean = this.options.remove || \"strong,em,span,sup,sub,del,b,i,u,font\".split(\",\");\n\n        RangeUtils.wrapSelectedElements(range);\n\n        var nodes = RangeUtils.mapAll(range, function(node) {\n            return node;\n        });\n\n\n        for (var c = nodes.length - 1; c >= 0; c--) {\n            var node = nodes[c];\n            if (!this.immutableParent(node)) {\n                this.clean(node);\n            }\n        }\n\n        this.releaseRange(range);\n    },\n\n    clean: function(node) {\n        if (!node || dom.isMarker(node)) {\n            return;\n        }\n\n        var name = dom.name(node);\n\n        if (name == \"ul\" || name == \"ol\") {\n            var listFormatter = new Editor.ListFormatter(name);\n            var prev = node.previousSibling;\n            var next = node.nextSibling;\n\n            listFormatter.unwrap(node);\n\n            // clean contents\n            for (; prev && prev != next; prev = prev.nextSibling) {\n                this.clean(prev);\n            }\n        } else if (name == \"blockquote\") {\n            dom.changeTag(node, \"p\");\n        } else if (node.nodeType == 1 && !dom.insignificant(node)) {\n            for (var i = node.childNodes.length - 1; i >= 0; i--) {\n                this.clean(node.childNodes[i]);\n            }\n\n            node.removeAttribute(\"style\");\n            node.removeAttribute(\"class\");\n        } else {\n            unwrapListItem(node);\n        }\n\n        if ($.inArray(name, this.tagsToClean) > -1) {\n            dom.unwrap(node);\n        }\n    },\n\n    immutableParent: function(node) {\n        return this.immutables() && Editor.Immutables.immutableParent(node);\n    }\n});\n\n\nfunction unwrapListItem(node) {\n    var li = dom.closestEditableOfType(node, [\"li\"]);\n    if (li) {\n        var listFormatter = new Editor.ListFormatter(dom.name(li.parentNode));\n        var range = kendo.ui.editor.W3CRange.fromNode(node);\n        range.selectNode(li);\n        listFormatter.toggle(range);\n    }\n}\n\n$.extend(Editor, {\n    FormattingTool: FormattingTool,\n    CleanFormatCommand: CleanFormatCommand\n});\n\nregisterTool(\"formatting\", new FormattingTool({\n    ui: {\n        type: \"component\",\n        component: \"DropDownList\",\n        componentOptions: {\n            dataTextField: \"text\",\n            dataValueField: \"value\",\n            highlightFirst: false,\n            autoWidth: true,\n            template: kendo.template(\n                (data) => `<span unselectable=\"on\" ${data.style ? `class=\"k-d-block\" style=\"display:block;${data.style || \"\"}` : \"\"}\">${kendo.htmlEncode(data.text)}</span>`\n            )\n        },\n        overflow: \"never\"\n    }\n}));\n\nregisterTool(\"cleanFormatting\", new Tool({ command: CleanFormatCommand }));\n\n})(window.kendo.jQuery);\n","import \"../../kendo.imagebrowser.js\";\nimport \"../command.js\";\nimport \"../../kendo.form.js\";\n\n(function($, undefined) {\n\nvar kendo = window.kendo,\n    extend = $.extend,\n    encode = kendo.htmlEncode,\n    Editor = kendo.ui.editor,\n    EditorUtils = Editor.EditorUtils,\n    dom = Editor.Dom,\n    registerTool = EditorUtils.registerTool,\n    RangeUtils = Editor.RangeUtils,\n    Command = Editor.Command,\n    keys = kendo.keys,\n    KEDITORIMAGEURL = \"#k-editor-image-url\",\n    KEDITORIMAGETITLE = \"#k-editor-image-title\",\n    KEDITORIMAGEWIDTH = \"#k-editor-image-width\",\n    KEDITORIMAGEHEIGHT = \"#k-editor-image-height\";\n\nvar ImageCommand = Command.extend({\n    init: function(options) {\n        var that = this;\n        Command.fn.init.call(that, options);\n\n        that.async = true;\n        that.attributes = {};\n    },\n\n    insertImage: function(img, range) {\n        var attributes = this.attributes;\n        var doc = RangeUtils.documentFromRange(range);\n\n        if (attributes.src && attributes.src != \"http://\") {\n\n            var removeIEAttributes = function() {\n                setTimeout(function() {\n                    if (!attributes.width) {\n                        img.removeAttribute(\"width\");\n                    }\n\n                    if (!attributes.height) {\n                        img.removeAttribute(\"height\");\n                    }\n\n                    img.removeAttribute(\"complete\");\n                });\n            };\n\n            if (!img) {\n                img = dom.create(doc, \"img\", attributes);\n                img.onload = img.onerror = removeIEAttributes;\n\n                range.deleteContents();\n                range.insertNode(img);\n\n                if (!img.nextSibling) {\n                    dom.insertAfter(doc.createTextNode(\"\\ufeff\"), img);\n                }\n\n                removeIEAttributes();\n\n                range.setStartAfter(img);\n                range.setEndAfter(img);\n                RangeUtils.selectRange(range);\n                return true;\n            } else {\n                img.onload = img.onerror = removeIEAttributes;\n                dom.attr(img, attributes);\n                removeIEAttributes();\n            }\n        }\n\n        return false;\n    },\n\n    redo: function() {\n        var that = this,\n            range = that.lockRange();\n\n        if (!that.insertImage(RangeUtils.image(range), range)) {\n            that.releaseRange(range);\n        }\n    },\n\n    exec: function() {\n        var that = this,\n            range = that.lockRange(),\n            applied = false,\n            img = RangeUtils.image(range),\n            imageWidth = img && img.getAttribute(\"width\") || \"\",\n            imageHeight = img && img.getAttribute(\"height\") || \"\",\n            dialog,\n            form,\n            isIE = kendo.support.browser.msie,\n            options = that.editor.options,\n            messages = options.messages,\n            imageBrowser = options.imageBrowser,\n            showBrowser = !!(kendo.ui.ImageBrowser && imageBrowser && imageBrowser.transport && imageBrowser.transport.read !== undefined),\n            dialogOptions = {\n                title: messages.insertImage,\n                visible: false,\n                resizable: showBrowser\n            };\n\n        this.expandImmutablesIn(range);\n\n        function apply(e) {\n            var element = dialog.element,\n                w = parseInt(element.find(KEDITORIMAGEWIDTH).val(), 10),\n                h = parseInt(element.find(KEDITORIMAGEHEIGHT).val(), 10);\n\n            that.attributes = {\n                src: element.find(KEDITORIMAGEURL).val().replace(/ /g, \"%20\"),\n                alt: element.find(KEDITORIMAGETITLE).val()\n            };\n\n            that.attributes.width = null;\n            that.attributes.height = null;\n\n            if (!isNaN(w) && w > 0) {\n                that.attributes.width = w;\n            }\n\n            if (!isNaN(h) && h > 0) {\n                that.attributes.height = h;\n            }\n\n            applied = that.insertImage(img, range);\n\n            close(e);\n\n            if (that.change) {\n                that.change();\n            }\n\n            that.editor._handleSpaceAndNewLines();\n        }\n\n        function close(e) {\n            e.preventDefault();\n            form.destroy();\n            dialog.destroy();\n\n            dom.windowFromDocument(RangeUtils.documentFromRange(range)).focus();\n            if (!applied) {\n                that.releaseRange(range);\n            }\n        }\n\n        function keyDown(e) {\n            if (e.keyCode == keys.ENTER) {\n                apply(e);\n            } else if (e.keyCode == keys.ESC) {\n                close(e);\n            }\n        }\n\n        dialogOptions.close = close;\n\n        if (showBrowser) {\n            dialogOptions.width = 750;\n        }\n        dialogOptions.minWidth = 350;\n\n        dialog = this.createDialog(\"<div/>\", dialogOptions).data(\"kendoWindow\");\n\n        form = that._createForm(dialog, showBrowser);\n\n        dialog.element.toggleClass(\"k-filebrowser-dialog\", showBrowser);\n        dialog.wrapper\n        .find(\".k-dialog-insert\").on(\"click\", apply).end()\n        .find(\".k-dialog-close\").on(\"click\", close).end()\n        .find(\".k-form-field input\").on(\"keydown\", keyDown).end()\n        // IE < 8 returns absolute url if getAttribute is not used\n        .find(KEDITORIMAGEURL).val(img ? img.getAttribute(\"src\", 2) : \"http://\").end()\n        .find(KEDITORIMAGETITLE).val(img ? img.alt : \"\").end()\n        .find(KEDITORIMAGEWIDTH).val(imageWidth).end()\n        .find(KEDITORIMAGEHEIGHT).val(imageHeight).end();\n\n        var element = dialog.element;\n        if (showBrowser) {\n            this._imageBrowser = new kendo.ui.ImageBrowser(\n                element.find(\".k-imagebrowser\"),\n                extend({}, imageBrowser)\n            );\n\n            this._imageBrowser.bind(\"change\", function(ev) {\n                if (ev.selected.get(\"type\") === \"f\") {\n                    element.find(KEDITORIMAGEURL).val(this.value());\n                }\n            });\n\n            this._imageBrowser.bind(\"apply\", apply);\n        }\n\n        if (isIE) {\n            var dialogHeight = element.closest(\".k-window\").height();\n            element.css(\"max-height\", dialogHeight);\n        }\n        dialog.center().open();\n        element.find(KEDITORIMAGEURL).trigger(\"focus\").select();\n    },\n\n    _createForm: function(dialog, showBrowser) {\n        var that = this;\n        var formElement = $(\"<div/>\").appendTo(dialog.element);\n        var messages = that.editor.options.messages;\n        var form = formElement.kendoForm({\n            renderButtons: false,\n            items: [\n                {\n                    field: \"k-editor-image-url\",\n                    label: encode(messages.imageWebAddress),\n                    editor: \"TextBox\"\n                },\n                {\n                    field: \"k-editor-image-title\",\n                    label: encode(messages.imageAltText),\n                    editor: \"TextBox\"\n                },\n                {\n                    field: \"k-editor-image-width\",\n                    label: encode(messages.imageWidth),\n                    editor: \"TextBox\"\n                },\n                {\n                    field: \"k-editor-image-height\",\n                    label: encode(messages.imageHeight),\n                    editor: \"TextBox\"\n                }\n            ]\n        }).data(\"kendoForm\");\n\n        if (showBrowser) {\n            formElement.prepend($('<div class=\"k-filebrowser k-imagebrowser\"></div>'));\n        }\n\n        dialog.element.after($(that._actionButtonsTemplate({ messages, insertButtonIcon: \"image-add\", cancelButtonIcon: \"cancel-outline\" })));\n\n        return form;\n    }\n\n});\n\nkendo.ui.editor.ImageCommand = ImageCommand;\n\nregisterTool(\"insertImage\", new Editor.Tool({ command: ImageCommand }));\n\n})(window.kendo.jQuery);\n","import \"../main.js\";\n(function($, undefined) {\n\nvar kendo = window.kendo,\n    extend = $.extend,\n    Editor = kendo.ui.editor,\n    EditorUtils = Editor.EditorUtils,\n    Command = Editor.Command,\n    Tool = Editor.Tool,\n    registerTool = EditorUtils.registerTool,\n    loadingOverlay = '<div contenteditable=\"false\" class=\"k-loading-mask\" style=\"width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;\"><div class=\"k-loading-image\"></div><div class=\"k-loading-color\"></div></div>';\n\nvar ImportCommand = Command.extend({\n    exec: function() {\n        (this.editor._uploadWidget || this._initializeUploadWidget()).element.click();\n    },\n\n    _initializeUploadWidget: function() {\n        var cmd = this;\n        var editor = cmd.editor;\n        var importOptions = editor.options[\"import\"];\n        var upload = $('<input id=\"editorImport\" name=\"files\" type=\"file\" />').kendoUpload({\n            success: cmd._onUploadSuccess.bind(cmd),\n            progress: cmd._onUploadProgress.bind(cmd),\n            select: cmd._onUploadSelect.bind(cmd),\n            error: cmd._onUploadError.bind(cmd),\n            complete: cmd._onUploadComplete.bind(cmd),\n            showFileList: false,\n            multiple: false,\n            async: {\n                saveUrl: importOptions.proxyURL,\n                autoUpload: true,\n                saveField: \"file\"\n            },\n            validation: {\n                allowedExtensions: importOptions.allowedExtensions,\n                maxFileSize: importOptions.maxFileSize\n            }\n        }).getKendoUpload();\n\n        editor._uploadWidget = upload;\n\n        return upload;\n    },\n    _onUploadComplete: function(ev) {\n        this._trigger(\"complete\", ev);\n        ev.sender.clearAllFiles();\n\n        this._removeLoadingOverlay();\n    },\n    _onUploadSuccess: function(ev) {\n        this.editor.value(ev.response.html.replace(/<\\/?body>/ig, \"\"));\n        this._trigger(\"success\", ev);\n    },\n    _onUploadProgress: function(ev) {\n        this._trigger(\"progress\", ev);\n    },\n    _onUploadSelect: function(ev) {\n        this._trigger(\"select\", ev);\n        if (!ev.files[0].validationErrors) {\n            this._initLoadingOverlay();\n        }\n    },\n    _onUploadError: function(ev) {\n        this._trigger(\"error\", ev);\n    },\n\n    _trigger: function(eventType, uploadEvent) {\n        var editor = this.editor;\n        var importOptions = editor.options[\"import\"];\n        if (typeof importOptions[eventType] === \"function\") {\n            importOptions[eventType].call(editor, uploadEvent);\n        }\n    },\n\n    _initLoadingOverlay: function() {\n        var editable = this.editor.body;\n        if (Editor.Dom.is(editable, \"body\")) {\n            this._iframeWrapper = this._container =\n                this.editor.wrapper.find(\"iframe\").parent()\n                .css({ position: \"relative\" }).append(loadingOverlay);\n        } else {\n            this._container = $(editable).append(loadingOverlay);\n        }\n\n        kendo.ui.progress(this._container, true);\n    },\n\n    _removeLoadingOverlay: function() {\n        kendo.ui.progress(this._container, false);\n        $(this._iframeWrapper).css({\n            position: \"\"\n        });\n\n        delete this._container;\n        delete this._iframeWrapper;\n    }\n});\n\nextend(Editor, {\n    ImportCommand: ImportCommand\n});\n\nregisterTool(\"import\", new Tool({\n    command: ImportCommand,\n    ui: {\n        showText: \"both\"\n    }\n}));\n\n}(window.kendo.jQuery));\n","import \"../command.js\";\n\n(function($) {\n\n    // Imports ================================================================\n    var kendo = window.kendo,\n        editorNS = kendo.ui.editor,\n        Command = editorNS.Command,\n        GenericCommand = editorNS.GenericCommand,\n        EditorUtils = editorNS.EditorUtils,\n        registerTool = EditorUtils.registerTool,\n        Tool = editorNS.Tool,\n        RestorePoint = editorNS.RestorePoint,\n        extend = $.extend;\n\nvar InsertHtmlCommand = Command.extend({\n    init: function(options) {\n        Command.fn.init.call(this, options);\n\n        this.managesUndoRedo = true;\n    },\n\n    exec: function() {\n        var editor = this.editor;\n        var options = this.options;\n        var range = options.range;\n        var body = editor.body;\n        var startRestorePoint = new RestorePoint(range, body);\n        var html = options.html || options.value || '';\n\n        editor.selectRange(range);\n\n        editor.clipboard.paste(html, options);\n\n        if (options.postProcess) {\n            options.postProcess(editor, editor.getRange());\n        }\n\n        var genericCommand = new GenericCommand(startRestorePoint, new RestorePoint(editor.getRange(), body));\n        genericCommand.editor = editor;\n        editor.undoRedoStack.push(genericCommand);\n\n        editor.focus();\n    }\n});\n\nvar InsertHtmlTool = Tool.extend({\n    initialize: function(ui, editor) {\n        var options = this.options,\n            dataSource = options.items ? options.items : editor.options.insertHtml,\n            component = ui.getKendoDropDownList();\n\n        if (!component) {\n            return;\n        }\n\n        component.one(\"open\", () => {\n            var optionLabel = component.list.parent().find(\".k-list-optionlabel\");\n\n            if (optionLabel.length) {\n                optionLabel.remove();\n            }\n        });\n\n        component.setOptions({\n            dataSource: dataSource,\n            optionLabel: editor.options.messages.insertHtml\n        });\n        component.bind(\"change\", () => {\n            Tool.exec(editor, 'insertHtml', component.value());\n        });\n    },\n\n    command: function(commandArguments) {\n        return new InsertHtmlCommand(commandArguments);\n    },\n\n    update: function(ui) {\n        var component = ui.data(\"kendoDropDownList\");\n        component.close();\n        component.value(null);\n    }\n});\n\nextend(editorNS, {\n    InsertHtmlCommand: InsertHtmlCommand,\n    InsertHtmlTool: InsertHtmlTool\n});\n\nregisterTool(\"insertHtml\", new InsertHtmlTool({\n    ui: {\n        initialValue: \"Insert HTML\",\n        type: \"component\",\n        component: \"DropDownList\",\n        componentOptions: {\n            dataTextField: \"text\",\n            dataValueField: \"value\",\n            autoSize: true,\n            highlightFirst: false\n        },\n        overflow: \"never\"\n    }\n}));\n\n})(window.kendo.jQuery);\n","import \"../main.js\";\nimport \"../../kendo.icons.js\";\nimport \"../command.js\";\n\n(function($, undefined) {\n\nvar kendo = window.kendo,\n    extend = $.extend,\n    Editor = kendo.ui.editor,\n    EditorUtils = Editor.EditorUtils,\n    Command = Editor.Command,\n    Tool = Editor.Tool,\n    registerTool = EditorUtils.registerTool,\n    defaultExportAsItems = [\n        { text: 'Docx', value: 'docx' },\n        { text: 'Rtf', value: 'rtf' },\n        { text: 'Pdf', value: 'pdf' },\n        { text: 'Html', value: 'html' },\n        { text: 'Plain Text', value: 'txt' }\n    ];\n\nvar ExportAsCommand = Command.extend({\n    init: function(options) {\n        var cmd = this;\n        cmd.options = options;\n        Command.fn.init.call(cmd, options);\n        cmd.attributes = null;\n        cmd.exportType = options.exportType;\n    },\n\n    exec: function() {\n        var cmd = this;\n        var range = this.lockRange(true);\n        cmd.postToProxy();\n        cmd.releaseRange(range);\n    },\n\n    postToProxy: function() {\n        this.generateForm().appendTo('body').submit().remove();\n    },\n\n    generateForm: function() {\n        var cmd = this;\n        var exportAsOptions = cmd.editor.options.exportAs;\n        var form = $('<form>').attr({\n            action: exportAsOptions && exportAsOptions.proxyURL || \"\",\n            method: 'POST'\n        });\n\n        form.append([\n            cmd.valueInput(),\n            cmd.exportTypeInput(),\n            cmd.fileNameInput(),\n            cmd.antiForgeryInput()\n        ]);\n\n        return form;\n    },\n\n    valueInput: function() {\n        var editor = this.editor;\n        return $('<input>').attr({\n            value: editor.encodedValue(),\n            name: 'value',\n            type: 'hidden'\n        });\n    },\n\n    exportTypeInput: function() {\n        var cmd = this;\n        return $('<input>').attr({\n            value: cmd.exportType,\n            name: 'exportType',\n            type: 'hidden'\n        });\n\n    },\n\n    fileNameInput: function() {\n        var editor = this.editor;\n        var exportAsOptions = editor.options.exportAs;\n        var fileName = exportAsOptions && exportAsOptions.fileName || editor.element.attr(\"id\") || \"editor\";\n        return $('<input>').attr({\n            value: fileName,\n            name: 'fileName',\n            type: 'hidden'\n        });\n    },\n\n    antiForgeryInput: function() {\n        var csrf_param = $(\"meta[name=csrf-param],meta[name=_csrf_header]\").attr(\"content\");\n\n        return $(\"input[name^='__RequestVerificationToken']\").clone()\n                    .add($(\"input[name^='\" + csrf_param + \"']\").clone());\n    }\n});\n\nvar ExportAsTool = Tool.extend({\n    init: function(options) {\n        var tool = this;\n        Tool.fn.init.call(tool, kendo.deepExtend({}, tool.options, options));\n        tool.type = 'kendoDropDownList';\n    },\n\n    options: {\n        items: defaultExportAsItems\n    },\n\n    command: function(args) {\n        var value = args.value;\n        return new Editor.ExportAsCommand({\n            range: args.range,\n            exportType: value.exportType\n        });\n    },\n\n    initialize: function(ui, editor) {\n        var tool = this,\n            component = ui.getKendoDropDownList();\n\n        tool.editor = editor;\n\n        component.bind(\"change\", this.changeHandler.bind(this));\n    },\n\n    changeHandler: function(e) {\n        this._exec(e.sender.value());\n        e.sender.value(null);\n        e.sender.wrapper.find(\".k-export-tool-text\").text(kendo.htmlEncode(this.editor.options.messages.exportAs));\n    },\n\n    update: function(ui, editor) {\n        var component = ui.data(\"kendoDropDownList\");\n\n        component.close();\n        component.value(null);\n        ui.closest(\".k-dropdownlist\").find(\".k-export-tool-text\").text(kendo.htmlEncode(this.editor.options.messages.exportAs));\n    },\n\n    _exec: function(value) {\n        if (value) {\n            Tool.exec(this.editor, this.options.name, { exportType: value } );\n        }\n    },\n\n    destroy: function() {\n        this._ancestor = null;\n    }\n});\n\nextend(Editor, {\n    ExportAsTool: ExportAsTool,\n    ExportAsCommand: ExportAsCommand\n});\n\nregisterTool('exportAs', new ExportAsTool({\n    ui: {\n        type: \"component\",\n        overflow: \"never\",\n        component: \"DropDownList\",\n        componentOptions: {\n            dataTextField: \"text\",\n            dataValueField: \"value\",\n            valuePrimitive: true,\n            value: null,\n            width: \"140px\",\n            highlightFirst: false,\n            autoWidth: true,\n            itemTemplate: (data) => `<span class=\"k-link k-menu-link\" data-value=\"${data.value}\">${data.text}</strong></span>`,\n            icon: \"export\",\n            valueTemplate: () => `<span class=\"k-editor-export\">${kendo.ui.icon({ icon: \"export\", iconClass: \"k-button-icon\" })}<span class=\"k-export-tool-text\"></span></span>`\n        }\n    }\n}));\n\n}(window.kendo.jQuery));\n","import \"./formatblock.js\";\n\n(function($, undefined) {\n\n// Imports ================================================================\nvar kendo = window.kendo,\n    Class = kendo.Class,\n    extend = $.extend,\n    Editor = kendo.ui.editor,\n    dom = Editor.Dom,\n    EditorUtils = Editor.EditorUtils,\n    registerTool = EditorUtils.registerTool,\n    Command = Editor.Command,\n    Tool = Editor.Tool,\n    RangeUtils = Editor.RangeUtils,\n    blockElements = dom.blockElements,\n    BlockFormatFinder = Editor.BlockFormatFinder,\n    BlockFormatter = Editor.BlockFormatter;\n\nfunction indent(node, value) {\n    var isRtl = $(node).css(\"direction\") == \"rtl\",\n        indentDirection = isRtl ? \"Right\" : \"Left\",\n        property = dom.name(node) != \"td\" ? \"margin\" + indentDirection : \"padding\" + indentDirection;\n    if (value === undefined) {\n        return node.style[property] || 0;\n    } else if (value > 0) {\n        node.style[property] = value + \"px\";\n    } else {\n        node.style[property] = \"\";\n\n        if (!node.style.cssText) {\n            node.removeAttribute(\"style\");\n        }\n    }\n}\n\nvar IndentFormatter = Class.extend({\n    init: function() {\n        this.finder = new BlockFormatFinder([{ tags: dom.blockElements }]);\n    },\n\n    apply: function(nodes) {\n        nodes = dom.filterBy(nodes, dom.htmlIndentSpace, true);\n        var formatNodes = this.finder.findSuitable(nodes),\n            targets = [],\n            i, len, formatNode, parentList, sibling;\n\n        formatNodes = this.mapImmutables(formatNodes);\n\n        if (formatNodes.length) {\n            for (i = 0, len = formatNodes.length; i < len; i++) {\n                if (dom.is(formatNodes[i], \"li\")) {\n                    if (!$(formatNodes[i]).index()) {\n                        targets.push(formatNodes[i].parentNode);\n                    } else if ($.inArray(formatNodes[i].parentNode, targets) < 0) {\n                        targets.push(formatNodes[i]);\n                    }\n                } else {\n                    targets.push(formatNodes[i]);\n                }\n            }\n\n            while (targets.length) {\n                formatNode = targets.shift();\n                if (dom.is(formatNode, \"li\")) {\n                    parentList = formatNode.parentNode;\n                    sibling = $(formatNode).prev(\"li\");\n                    var siblingList = sibling.find(\"ul,ol\").last();\n\n                    var nestedList = $(formatNode).children(\"ul,ol\")[0];\n\n                    if (nestedList && sibling[0]) {\n                        if (siblingList[0]) {\n                           siblingList.append(formatNode);\n                           siblingList.append($(nestedList).children());\n                           dom.remove(nestedList);\n                        } else {\n                            sibling.append(nestedList);\n                            nestedList.insertBefore(formatNode, nestedList.firstChild);\n                        }\n                    } else {\n                        nestedList = sibling.children(\"ul,ol\")[0];\n                        if (!nestedList) {\n                            nestedList = dom.create(formatNode.ownerDocument, dom.name(parentList), this.getListTypeAttr(parentList));\n                            sibling.append(nestedList);\n                        }\n\n                        while (formatNode && formatNode.parentNode == parentList) {\n                            nestedList.appendChild(formatNode);\n                            formatNode = targets.shift();\n                        }\n                    }\n                } else {\n                    var marginLeft = parseInt(indent(formatNode), 10) + 30;\n                    indent(formatNode, marginLeft);\n\n                    for (var targetIndex = 0; targetIndex < targets.length; targetIndex++) {\n                        if ($.contains(formatNode, targets[targetIndex])) {\n                            targets.splice(targetIndex, 1);\n                        }\n                    }\n                }\n            }\n        } else {\n            var formatter = new BlockFormatter([{ tags: [\"p\"] }], { style: { marginLeft: 30 } });\n\n            formatter.apply(nodes);\n        }\n    },\n\n    getListTypeAttr: function(list) {\n        var type = list.getAttribute(\"type\");\n        var styleType = list.style.listStyleType;\n\n        return type ? { type: type } : { style: { listStyleType: styleType } };\n    },\n\n    mapImmutables: function(nodes) {\n        if (!this.immutables) {\n            return nodes;\n        } else {\n            var immutables = [];\n            return $.map(nodes, function(node) {\n                var immutable = Editor.Immutables.immutableParent(node);\n                if (immutable) {\n                    if ($.inArray(immutable, immutables) === -1) {\n                        immutables.push(immutable);\n                    } else {\n                        return null;\n                    }\n                }\n                return immutable || node;\n            });\n        }\n    },\n\n    remove: function(nodes) {\n        nodes = dom.filterBy(nodes, dom.htmlIndentSpace, true);\n        var formatNodes = this.finder.findSuitable(nodes),\n            targetNode, i, len, list, listParent, siblings,\n            formatNode, marginLeft;\n\n        formatNodes = this.mapImmutables(formatNodes);\n\n        for (i = 0, len = formatNodes.length; i < len; i++) {\n            formatNode = $(formatNodes[i]);\n\n            if (formatNode.is(\"li\")) {\n                list = formatNode.parent();\n                listParent = list.parent();\n                // listParent will be ul or ol in case of invalid dom - <ul><li></li><ul><li></li></ul></ul>\n                if (listParent.is(\"li,ul,ol\") && !indent(list[0])) {\n                    // skip already processed nodes\n                    if (targetNode && $.contains(targetNode, listParent[0])) {\n                        continue;\n                    }\n\n                    siblings = formatNode.nextAll(\"li\");\n                    if (siblings.length) {\n                        $(list[0].cloneNode(false)).appendTo(formatNode).append(siblings);\n                    }\n\n                    if (listParent.is(\"li\")) {\n                        formatNode.insertAfter(listParent);\n                    } else {\n                        formatNode.appendTo(listParent);\n                    }\n\n                    if (!list.children(\"li\").length) {\n                        list.remove();\n                    }\n\n                    continue;\n                } else {\n                    if (targetNode == list[0]) {\n                        // removing format on sibling LI elements\n                        continue;\n                    }\n                    targetNode = list[0];\n                }\n            } else {\n                targetNode = formatNodes[i];\n            }\n\n            marginLeft = parseInt(indent(targetNode), 10) - 30;\n            indent(targetNode, marginLeft);\n        }\n    }\n\n});\n\nvar IndentCommand = Command.extend({\n    init: function(options) {\n        var that = this;\n        options.formatter = /** @ignore */ {\n            toggle: (function(range) {\n                var indentFormatter = new IndentFormatter();\n                indentFormatter.immutables = this.editor && this.editor.options.immutables;\n                indentFormatter.apply(RangeUtils.nodes(range));\n            }).bind(that)\n        };\n        Command.fn.init.call(this, options);\n    }\n});\n\nvar OutdentCommand = Command.extend({\n    init: function(options) {\n        var that = this;\n        options.formatter = {\n            toggle: (function(range) {\n                var indentFormatter = new IndentFormatter();\n                indentFormatter.immutables = this.editor && this.editor.options.immutables;\n                indentFormatter.remove(RangeUtils.nodes(range));\n            }).bind(that)\n        };\n        Command.fn.init.call(this, options);\n    }\n});\n\nvar OutdentTool = Tool.extend({\n    init: function(options) {\n        Tool.fn.init.call(this, options);\n\n        this.finder = new BlockFormatFinder([{ tags: blockElements }]);\n    },\n\n    initialize: function(ui, editor) {\n        $.extend(this.options, {\n            immutables: editor && editor.options.immutables\n        });\n    },\n\n    update: function(ui, nodes) {\n        var suitableNodes = this.finder.findSuitable(nodes),\n            toolbar = ui.closest(\".k-toolbar\").data(\"kendoToolBar\"),\n            isOutdentable, listParentsCount, i, len, suitable, immutableParent;\n\n        for (i = 0, len = suitableNodes.length; i < len; i++) {\n            suitable = suitableNodes[i];\n\n            if (this.options.immutables) {\n                immutableParent = Editor.Immutables.immutableParent(suitable);\n\n                if (immutableParent) {\n                    suitable = immutableParent;\n                }\n            }\n\n            isOutdentable = indent(suitable);\n\n            if (!isOutdentable) {\n                listParentsCount = $(suitable).parents(\"ul,ol\").length;\n                isOutdentable = (dom.is(suitable, \"li\") && (listParentsCount > 1 || indent(suitable.parentNode))) ||\n                                (dom.ofType(suitable, [\"ul\",\"ol\"]) && listParentsCount > 0);\n            }\n\n            if (isOutdentable) {\n                toolbar.enable(ui, true);\n                return;\n            }\n        }\n\n        toolbar.enable(ui, false);\n    }\n});\n\nextend(Editor, {\n    IndentFormatter: IndentFormatter,\n    IndentCommand: IndentCommand,\n    OutdentCommand: OutdentCommand,\n    OutdentTool: OutdentTool\n});\n\nregisterTool(\"indent\", new Tool({ command: IndentCommand }));\nregisterTool(\"outdent\", new OutdentTool({ command: OutdentCommand, ui: { enable: false } }));\n\n})(window.kendo.jQuery);\n","import \"./formatblock.js\";\n\n(function($) {\n\n// Imports ================================================================\nvar kendo = window.kendo,\n    extend = $.extend,\n    editorNS = kendo.ui.editor,\n    dom = editorNS.Dom,\n    Command = editorNS.Command,\n    Tool = editorNS.Tool,\n    BlockFormatter = editorNS.BlockFormatter,\n    normalize = dom.normalize,\n    RangeUtils = editorNS.RangeUtils,\n    registerTool = editorNS.EditorUtils.registerTool;\n\nvar ParagraphCommand = Command.extend({\n    init: function(options) {\n        this.options = options;\n        Command.fn.init.call(this, options);\n    },\n\n    _insertMarker: function(doc, range) {\n        var marker = dom.create(doc, 'a'), container;\n        marker.className = \"k-marker\";\n\n        range.insertNode(marker);\n\n        if (!marker.parentNode) {\n            // inserting paragraph in Firefox full body range\n            container = range.commonAncestorContainer;\n            container.innerHTML = \"\";\n            container.appendChild(marker);\n        }\n\n        normalize(marker.parentNode);\n\n        return marker;\n    },\n\n    _moveFocus: function(range, candidate) {\n        if (dom.isEmpty(candidate)) {\n            range.setStartBefore(candidate);\n        } else {\n            range.selectNodeContents(candidate);\n\n            var focusNode = RangeUtils.textNodes(range)[0];\n\n            if (!focusNode) {\n                while (candidate.childNodes.length && !dom.is(candidate.firstChild, \"br\")) {\n                    candidate = candidate.firstChild;\n                }\n\n                focusNode = candidate;\n            }\n\n            if (dom.isEmpty(focusNode)) {\n                range.setStartBefore(focusNode);\n            } else {\n                if (dom.emptyNode(focusNode)) {\n                    focusNode.innerHTML = \"\\ufeff\";\n                }\n                var startNode = focusNode.firstChild || focusNode;\n                if (dom.isDataNode(startNode)) {\n                    range.setStart(startNode, 0);\n                } else {\n                    range.setStartBefore(startNode);\n                }\n            }\n        }\n    },\n\n    shouldTrim: function(range) {\n        var blocks = 'p,h1,h2,h3,h4,h5,h6'.split(','),\n            startInBlock = dom.parentOfType(range.startContainer, blocks),\n            endInBlock = dom.parentOfType(range.endContainer, blocks);\n        return (startInBlock && !endInBlock) || (!startInBlock && endInBlock);\n    },\n\n    _blankAfter: function(node) {\n        while (node && (dom.isMarker(node) || dom.stripBom(node.nodeValue) === \"\")) {\n            node = node.nextSibling;\n        }\n\n        return !node;\n    },\n\n    exec: function() {\n        const range = this.getRange();\n        const doc = RangeUtils.documentFromRange(range);\n        let parent, previous, next, paragraph, marker, li, heading, tableNode, rng,\n        shouldTrim;\n        const emptyParagraphContent = editorNS.emptyElementContent;\n\n        this.expandImmutablesIn(range);\n\n        shouldTrim = this.shouldTrim(range);\n\n        range.deleteContents();\n        marker = this._insertMarker(doc, range);\n\n        dom.stripBomNode(marker.previousSibling);\n        dom.stripBomNode(marker.nextSibling);\n\n        li = dom.closestEditableOfType(marker, ['li']);\n        heading = dom.closestEditableOfType(marker, 'h1,h2,h3,h4,h5,h6'.split(','));\n        tableNode = dom.is(marker.parentNode, 'table') && marker.parentNode;\n\n        if (li) {\n            // hitting 'enter' in empty li\n            if (dom.emptyNode(li)) {\n                paragraph = dom.create(doc, 'p');\n\n                if (dom.next(li)) {\n                    rng = range.cloneRange();\n                    rng.selectNode(li);\n\n                    RangeUtils.split(rng, li.parentNode);\n                }\n\n                const br = $(\"br\", li);\n                if (br.length == 1) {\n                    br.remove();\n                }\n\n                const parentNode = li.parentNode;\n                const parentChildrenLength = li.parentNode.children.length;\n                const firstChild = parentChildrenLength >= 1 && li.childNodes.length == 1 && li.children[0];\n\n                dom.insertAfter(paragraph, parentNode);\n                dom.remove(parentChildrenLength == 1 ? li.parentNode : li);\n\n                if (firstChild && firstChild !== marker) {\n                    paragraph.appendChild(firstChild);\n                    paragraph.appendChild(marker);\n                } else {\n                    paragraph.innerHTML = emptyParagraphContent;\n                }\n                next = paragraph;\n            }\n        } else if (heading && this._blankAfter(marker)) {\n            paragraph = this._insertParagraphAfter(heading);\n            dom.remove(marker);\n            next = paragraph;\n        } else if (tableNode) {\n            paragraph = this._insertParagraphAfter(tableNode);\n            dom.remove(marker);\n            next = paragraph;\n        }\n\n        if (!next) {\n            if (!(li || heading)) {\n                new BlockFormatter([{ tags: ['p'] }]).apply([marker]);\n            }\n\n            range.selectNode(marker);\n\n            const headingDomName = heading ? dom.name(heading) : 'p';\n            parent = dom.parentOfType(marker, [li ? 'li' : headingDomName]);\n\n            RangeUtils.split(range, parent, shouldTrim);\n\n            previous = parent.previousSibling;\n\n            if (dom.is(previous, 'li') && previous.firstChild && !dom.is(previous.firstChild, 'br')) {\n                previous = previous.firstChild;\n            }\n\n            next = parent.nextSibling;\n\n            this.clean(previous, { links: true });\n            this.clean(next, { links: true });\n\n            if (dom.is(next, 'li') && next.firstChild && !dom.is(next.firstChild, 'br')) {\n                next = next.firstChild;\n            }\n\n            dom.remove(parent);\n\n            // normalize updates the caret display in Gecko\n            normalize(previous);\n        }\n\n        normalize(next);\n\n        this._moveFocus(range, next);\n\n        range.collapse(true);\n\n        dom.scrollTo(next, true);\n\n        RangeUtils.selectRange(range);\n    },\n\n    _insertParagraphAfter: function(node) {\n        var range = this.getRange();\n        var doc = RangeUtils.documentFromRange(range);\n        var emptyElementContent = editorNS.emptyElementContent;\n        var paragraph = dom.create(doc, 'p');\n\n        dom.insertAfter(paragraph, node);\n        paragraph.innerHTML = emptyElementContent;\n\n        return paragraph;\n    },\n\n    clean: function(node, options) {\n        var root = node;\n\n        if (node.firstChild && dom.is(node.firstChild, 'br')) {\n            dom.remove(node.firstChild);\n        }\n\n        if (dom.isDataNode(node) && !node.nodeValue) {\n            node = node.parentNode;\n        }\n\n        if (node) {\n            var siblings = false;\n            while (node.firstChild && node.firstChild.nodeType == 1) {\n                siblings = siblings || (dom.significantNodes(node.childNodes).length > 1);\n                node = node.firstChild;\n            }\n\n            if (!dom.isEmpty(node) && node.className != \"k-br\" && /^\\s*$/.test(node.innerHTML) && !siblings) {\n                $(root).find(\".k-br\").remove();\n                node.innerHTML = editorNS.emptyElementContent;\n            }\n\n            if (options && options.links) {\n                while (node != root) {\n                    if (dom.is(node, \"a\") && dom.emptyNode(node)) {\n                        dom.unwrap(node);\n                        break;\n                    }\n                    node = node.parentNode;\n                }\n            }\n        }\n    }\n});\n\nvar NewLineCommand = Command.extend({\n    init: function(options) {\n        this.options = options;\n        Command.fn.init.call(this, options);\n    },\n\n    exec: function() {\n        var range = this.getRange();\n        this.expandImmutablesIn(range);\n\n        var br = dom.create(RangeUtils.documentFromRange(range), 'br');\n        var node = range.startContainer;\n        var filler;\n        var browser = kendo.support.browser;\n        var oldIE = browser.msie && browser.version < 11;\n        var tableNode = dom.is(node, 'table') && node;\n        var kbrParent;\n\n        range.deleteContents();\n        if (tableNode) {\n            dom.insertAfter(br, tableNode);\n        } else {\n            kbrParent = $(node).closest('.k-br');\n            range.insertNode(br);\n\n            if (kbrParent.length) {\n                // pressing enter in an k-br node\n                dom.unwrap(kbrParent[0]);\n            }\n        }\n\n        normalize(br.parentNode);\n\n        if (!oldIE && (!br.nextSibling || dom.isWhitespace(br.nextSibling))) {\n            // Gecko and WebKit cannot put the caret after only one br.\n            if (!!br.nextSibling && dom.isWhitespace(br.nextSibling)) {\n                $(br.nextSibling).remove();\n            }\n            filler = br.cloneNode(true);\n            filler.className = 'k-br';\n            dom.insertAfter(filler, br);\n        }\n\n        range.setStartAfter(br);\n        range.collapse(true);\n\n        dom.scrollTo(br.nextSibling || br, true);\n\n        RangeUtils.selectRange(range);\n    }\n});\n\nextend(editorNS, {\n    ParagraphCommand: ParagraphCommand,\n    NewLineCommand: NewLineCommand\n});\n\nregisterTool(\"insertLineBreak\", new Tool({ key: 13, shift: true, command: NewLineCommand }));\nregisterTool(\"insertParagraph\", new Tool({ key: 13, command: ParagraphCommand }));\n\n})(window.kendo.jQuery);\n","import \"../../kendo.filebrowser.js\";\nimport \"./link.js\";\nimport \"../../kendo.form.js\";\n\n(function($, undefined) {\n\nvar kendo = window.kendo,\n    extend = $.extend,\n    encode = kendo.htmlEncode,\n    Editor = kendo.ui.editor,\n    EditorUtils = Editor.EditorUtils,\n    dom = Editor.Dom,\n    registerTool = EditorUtils.registerTool,\n    RangeUtils = Editor.RangeUtils,\n    Command = Editor.Command,\n    LinkFormatter = Editor.LinkFormatter,\n    textNodes = RangeUtils.textNodes,\n    keys = kendo.keys,\n    KEDITORFILEURL = \"#k-editor-file-url\",\n    KEDITORFILETEXT = \"#k-editor-file-text\",\n    KEDITORFILETITLE = \"#k-editor-file-title\";\n\nvar FileCommand = Command.extend({\n    init: function(options) {\n        var that = this;\n        Command.fn.init.call(that, options);\n\n        that.formatter = new LinkFormatter();\n\n        that.async = true;\n        that.attributes = {};\n    },\n\n    insertFile: function(file, range) {\n        var attributes = this.attributes;\n        var doc = RangeUtils.documentFromRange(range);\n\n        if (attributes.href && attributes.href != \"http://\") {\n\n            if (!file) {\n                file = dom.create(doc, \"a\", { href: attributes.href });\n                file.innerHTML = attributes.innerHTML;\n                file.title = attributes.title;\n\n                range.deleteContents();\n                range.insertNode(file);\n\n                if (!file.nextSibling) {\n                    dom.insertAfter(doc.createTextNode(\"\\ufeff\"), file);\n                }\n\n                range.setStartAfter(file);\n                range.setEndAfter(file);\n                RangeUtils.selectRange(range);\n                return true;\n            } else {\n                dom.attr(file, attributes);\n            }\n        }\n\n        return false;\n    },\n\n    redo: function() {\n        var that = this,\n            range = that.lockRange();\n\n        this.formatter.apply(range, this.attributes);\n        that.releaseRange(range);\n    },\n\n    exec: function() {\n        var that = this,\n            range = that.lockRange(),\n            nodes = textNodes(range),\n            applied = false,\n            file = nodes.length ? this.formatter.finder.findSuitable(nodes[0]) : null,\n            dialog,\n            form,\n            isIE = kendo.support.browser.msie,\n            options = that.editor.options,\n            messages = options.messages,\n            fileBrowser = options.fileBrowser,\n            showBrowser = !!(kendo.ui.FileBrowser && fileBrowser && fileBrowser.transport && fileBrowser.transport.read !== undefined),\n            dialogOptions = {\n                title: messages.insertFile,\n                visible: false,\n                resizable: showBrowser\n            };\n\n        this.expandImmutablesIn(range);\n\n        function apply(e) {\n            var element = dialog.element,\n                href = element.find(KEDITORFILEURL).val().replace(/ /g, \"%20\"),\n                innerHTML = element.find(KEDITORFILETEXT).val(),\n                title = element.find(KEDITORFILETITLE).val();\n\n            that.attributes = {\n                href: href,\n                innerHTML: innerHTML !== \"\" ? innerHTML : href,\n                title: title\n            };\n\n            applied = that.insertFile(file, range);\n\n            close(e);\n\n            if (that.change) {\n                that.change();\n            }\n        }\n\n        function close(e) {\n            e.preventDefault();\n            form.destroy();\n            dialog.destroy();\n\n            dom.windowFromDocument(RangeUtils.documentFromRange(range)).focus();\n            if (!applied) {\n                that.releaseRange(range);\n            }\n        }\n\n        function keyDown(e) {\n            if (e.keyCode == keys.ENTER) {\n                apply(e);\n            } else if (e.keyCode == keys.ESC) {\n                close(e);\n            }\n        }\n\n        dialogOptions.close = close;\n\n        if (showBrowser) {\n            dialogOptions.width = 750;\n        }\n        dialogOptions.minWidth = 350;\n\n        dialog = this.createDialog(\"<div/>\", dialogOptions).data(\"kendoWindow\");\n        form = that._createForm(dialog, showBrowser);\n\n        dialog.element.toggleClass(\"k-filebrowser-dialog\", showBrowser);\n        dialog.wrapper\n        .find(\".k-dialog-insert\").on(\"click\", apply).end()\n        .find(\".k-dialog-close\").on(\"click\", close).end()\n        .find(\".k-form-field input\").on(\"keydown\", keyDown).end()\n        // IE < 8 returns absolute url if getAttribute is not used\n        .find(KEDITORFILEURL).val(file ? file.getAttribute(\"href\", 2) : \"http://\").end()\n        .find(KEDITORFILETEXT).val(file ? file.innerText : \"\").end()\n        .find(KEDITORFILETITLE).val(file ? file.title : \"\").end();\n\n        var element = dialog.element;\n        if (showBrowser) {\n            that._fileBrowser = new kendo.ui.FileBrowser(\n                element.find(\".k-filebrowser\"),\n                extend({}, fileBrowser)\n            );\n\n            that._fileBrowser.bind(\"change\", function(ev) {\n                if (ev.selected.get(\"type\") === \"f\") {\n                    element.find(KEDITORFILEURL).val(this.value());\n                }\n            } );\n\n            that._fileBrowser.bind(\"apply\", apply);\n        }\n\n        if (isIE) {\n            var dialogHeight = element.closest(\".k-window\").height();\n            element.css(\"max-height\", dialogHeight);\n        }\n        dialog.center().open();\n        element.find(KEDITORFILEURL).trigger(\"focus\").select();\n    },\n\n    _createForm: function(dialog, showBrowser) {\n        var that = this;\n        var formElement = $(\"<div/>\").appendTo(dialog.element);\n        var messages = that.editor.options.messages;\n\n        var form = formElement.kendoForm({\n            renderButtons: false,\n            items: [\n                {\n                    field: \"k-editor-file-url\",\n                    label: encode(messages.fileWebAddress),\n                    editor: \"TextBox\"\n                },\n                {\n                    field: \"k-editor-file-text\",\n                    label: encode(messages.fileText),\n                    editor: \"TextBox\"\n                },\n                {\n                    field: \"k-editor-file-title\",\n                    label: encode(messages.fileTitle),\n                    editor: \"TextBox\"\n                }\n            ]\n        }).data(\"kendoForm\");\n\n        if (showBrowser) {\n            formElement.prepend($('<div class=\"k-filebrowser\"></div>'));\n        }\n\n        dialog.element.after($(that._actionButtonsTemplate({ messages, insertButtonIcon: \"file-add\", cancelButtonIcon: \"cancel-outline\" })));\n\n        return form;\n    }\n\n});\n\nkendo.ui.editor.FileCommand = FileCommand;\n\nregisterTool(\"insertFile\", new Editor.Tool({ command: FileCommand }));\n\n})(window.kendo.jQuery);\n","import \"./formatblock.js\";\nimport \"./insert.js\";\n\n(function($, undefined) {\n\nvar kendo = window.kendo,\n    extend = $.extend,\n    Editor = kendo.ui.editor,\n    dom = Editor.Dom,\n    RangeUtils = Editor.RangeUtils,\n    Command = Editor.Command,\n\n    NS = \"kendoEditor\",\n    ACTIVESTATE = \"k-active\",\n    SELECTEDSTATE = \"k-selected\",\n    SCOPE = \"scope\",\n    ROW = \"row\",\n    COL = \"col\",\n    ROWGROUP = \"rowgroup\",\n    COLGROUP = \"colgroup\",\n    COLSPAN = \"colspan\",\n    ROWSPAN = \"rowspan\",\n    TABLE = \"table\",\n    THEAD = \"thead\",\n    TBODY = \"tbody\",\n    TR = \"tr\",\n    TD = \"td\",\n    TH = \"th\",\n\n    Tool = Editor.Tool,\n    InsertHtmlCommand = Editor.InsertHtmlCommand,\n    BlockFormatFinder = Editor.BlockFormatFinder,\n    BlockFormatTool = Editor.BlockFormatTool,\n    FormatCommand = Editor.FormatCommand,\n    registerTool = Editor.EditorUtils.registerTool,\n    registerFormat = Editor.EditorUtils.registerFormat,\n    formats = kendo.ui.Editor.fn.options.formats,\n    getTouches = kendo.getTouches;\nvar template = kendo.template;\n\nvar columnTemplate = ({ width, content }) => `<td style=\"width:${width}%;\">${content}</td>`;\n\nvar tableFormatFinder = new BlockFormatFinder([{ tags: [TABLE] }]);\n\nvar TableCommand = InsertHtmlCommand.extend({\n    init: function(options) {\n        var o = $.extend({\n            postProcess: this.postProcess,\n            skipCleaners: true\n        }, options || {});\n\n        InsertHtmlCommand.fn.init.call(this, o);\n    },\n    _tableHtml: function(rows, columns) {\n        rows = rows || 1;\n        columns = columns || 1;\n        var columnHtml = template(columnTemplate)({ width: 100 / columns, content: Editor.emptyTableCellContent });\n        var rowHeight = 100 / rows;\n\n        return \"<table class='k-table' data-last>\" +\n                    new Array(rows + 1).join(\n                    \"<tr style='height:\" + rowHeight + \"%;'>\" +\n                        new Array(columns + 1).join(columnHtml) +\n                    \"</tr>\") +\n               \"</table>\";\n    },\n\n    postProcess: function(editor, range) {\n        var insertedTable = $(\"table[data-last]\", editor.document).removeAttr(\"data-last\");\n\n        range.setStart(insertedTable.find(TD)[0], 0);\n        range.collapse(true);\n\n        editor.selectRange(range);\n    },\n\n    exec: function() {\n        var options = this.options;\n        options.html = this._tableHtml(options.rows, options.columns);\n\n        InsertHtmlCommand.fn.exec.call(this);\n    }\n});\n\nvar PopupTool = Tool.extend({\n    initialize: function(ui, editor) {\n        var that = this;\n        var btn = $(\"<button>\" + editor.options.messages.tableWizard + \"</button>\");\n        var popup = $(this.options.popupTemplate).appendTo(\"body\").kendoPopup({\n            anchor: ui,\n            copyAnchorStyles: false,\n            open: this._open.bind(this),\n            activate: this._activate.bind(this),\n            close: this._close.bind(this)\n        }).data(\"kendoPopup\");\n\n        ui.on(\"click\", this._toggle.bind(this))\n          .on(\"keydown\", this._keydown.bind(this));\n\n        this._editor = editor;\n        this._popup = popup;\n\n        editor.tablePopup = this._popup;\n\n        var tableWizard = new Editor.TableWizardTool({\n            command: Editor.TableWizardCommand,\n            insertNewTable: true\n        });\n\n        registerTool(\"tableWizardInsert\", tableWizard);\n\n        btn.appendTo(popup.element);\n        btn.kendoButton({\n            icon: \"table-wizard\"\n        });\n\n        btn.on(\"click\", () => {\n            that._editor.exec(\"tableWizardInsert\");\n        });\n    },\n\n    popup: function() {\n        return this._popup;\n    },\n\n    _activate: $.noop,\n\n    _open: function() {\n        this._popup.options.anchor.addClass(ACTIVESTATE);\n    },\n\n    _close: function() {\n        this._popup.options.anchor.removeClass(ACTIVESTATE);\n    },\n\n    _keydown: function(e) {\n        var that = this,\n            keys = kendo.keys,\n            key = e.keyCode;\n\n        if (key == keys.ESC) {\n            that._popup.close();\n        } else if (key == keys.DOWN && e.altKey) {\n            that._popup.open();\n            that._setTableSize({ row: 1, col: 1 });\n        } else if (key === keys.ENTER) {\n            setTimeout(() => {\n                that._setTableSize({ row: 1, col: 1 });\n            });\n        }\n    },\n\n    _toggle: function(e) {\n        var button = $(e.target).closest(\".k-tool\");\n\n        if (!button.hasClass(\"k-disabled\")) {\n            this.popup().toggle();\n        }\n    },\n\n    update: function(ui) {\n        var popup = this.popup();\n\n        if (popup.wrapper && popup.wrapper.css(\"display\") == \"block\") {\n            popup.close();\n        }\n\n        ui.removeClass(\"k-hover\");\n    },\n\n    destroy: function() {\n        if (this._popup) {\n            this._popup.destroy();\n        }\n    }\n});\n\nvar InsertTableTool = PopupTool.extend({\n    init: function(options) {\n        this.cols = 8;\n        this.rows = 6;\n\n        PopupTool.fn.init.call(this, $.extend(options, {\n            command: TableCommand,\n            popupTemplate:\n                \"<div class='k-ct-popup'>\" +\n                    \"<div>\" +\n                        new Array(this.cols * this.rows + 1).join(\"<span class='k-ct-cell k-disabled'></span>\") +\n                    \"</div>\" +\n                    \"<div class='k-status'></div>\" +\n                \"</div>\"\n        }));\n    },\n\n    _activate: function() {\n        var that = this,\n            element = that._popup.element,\n            cells = element.find(\".k-ct-cell\"),\n            firstCell = cells.eq(0),\n            lastCell = cells.eq(cells.length - 1),\n            start = kendo.getOffset(firstCell),\n            end = kendo.getOffset(lastCell),\n            cols = that.cols,\n            rows = that.rows,\n            cellWidth, cellHeight;\n\n        element.find(\"*\").addBack().attr(\"unselectable\", \"on\");\n\n        end.left += lastCell[0].offsetWidth;\n        end.top += lastCell[0].offsetHeight;\n\n        cellWidth = (end.left - start.left) / cols;\n        cellHeight = (end.top - start.top) / rows;\n\n        function tableFromLocation(e) {\n            var w = $(window);\n            return {\n                row: Math.floor((e.clientY + w.scrollTop() - start.top) / cellHeight) + 1,\n                col: Math.floor((e.clientX + w.scrollLeft() - start.left) / cellWidth) + 1\n            };\n        }\n\n        element.autoApplyNS(NS)\n            .on(\"mousemove\", \".k-ct-cell\", function(e) {\n                that._setTableSize(tableFromLocation(e));\n            })\n            .on(\"mouseleave\", \".k-ct-cell\", function() {\n                that._setTableSize();\n            })\n            .on(\"down\", \".k-ct-cell\", function(e) {\n                e.preventDefault();\n                var touch = getTouches(e)[0];\n                that._exec(tableFromLocation(touch.location));\n            });\n    },\n\n    _valid: function(size) {\n        return size && size.row > 0 && size.col > 0 && size.row <= this.rows && size.col <= this.cols;\n    },\n\n    _exec: function(size) {\n        if (this._valid(size)) {\n            this._editor.exec(\"createTable\", {\n                rows: size.row,\n                columns: size.col\n            });\n            this._popup.close();\n        }\n    },\n\n    _setTableSize: function(size) {\n        var element = this._popup.element;\n        var status = element.find(\".k-status\");\n        var cells = element.find(\".k-ct-cell\");\n        var cols = this.cols;\n        var messages = this._editor.options.messages;\n\n        if (this._valid(size)) {\n            status.text(kendo.format(messages.createTableHint, size.row, size.col));\n\n            cells.each(function(i) {\n                $(this).toggleClass(\n                    SELECTEDSTATE,\n                    i % cols < size.col && i / cols < size.row\n                );\n            });\n        } else {\n            status.text(messages.createTable);\n            cells.removeClass(SELECTEDSTATE);\n        }\n    },\n\n    _keydown: function(e) {\n        var initiallyVisible = this._popup.visible();\n\n        PopupTool.fn._keydown.call(this, e);\n\n        if (!this._popup.visible()) {\n            return;\n        }\n\n        var keys = kendo.keys;\n        var key = e.keyCode;\n        var cells = this._popup.element.find(\".k-ct-cell\");\n        var focus = Math.max(cells.filter(\".k-selected\").last().index(), 0);\n        var selectedRows = Math.floor(focus / this.cols);\n        var selectedColumns = focus % this.cols;\n\n        var changed = false,\n            button;\n\n        if (key == keys.DOWN && !e.altKey) {\n            changed = true;\n            selectedRows++;\n        } else if (key == keys.UP) {\n            changed = true;\n            selectedRows--;\n        } else if (key == keys.RIGHT) {\n            changed = true;\n            selectedColumns++;\n        } else if (key == keys.LEFT) {\n            changed = true;\n            selectedColumns--;\n        } else if (key == keys.TAB) {\n            button = this._popup.element.find(\".k-button\");\n\n            if (button.length > 0) {\n                changed = true;\n                button.trigger(\"focus\");\n            }\n        }\n\n        var tableSize = {\n            row: Math.max(1, Math.min(this.rows, selectedRows + 1)),\n            col: Math.max(1, Math.min(this.cols, selectedColumns + 1))\n        };\n\n        if (key == keys.ENTER && initiallyVisible) {\n            this._exec(tableSize);\n        } else {\n            this._setTableSize(tableSize);\n        }\n\n        if (changed) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n        }\n    },\n\n    _open: function() {\n        var messages = this._editor.options.messages;\n\n        PopupTool.fn._open.call(this);\n\n        this.popup().element\n            .find(\".k-status\").text(messages.createTable).end()\n            .find(\".k-ct-cell\").removeClass(SELECTEDSTATE);\n    },\n\n    _close: function() {\n        PopupTool.fn._close.call(this);\n        this.popup().element.off(\".\" + NS);\n    }\n});\n\nvar TableModificationCommand = Command.extend({\n    undo: function() {\n        var point = this.restorePoint;\n        point.restoreHtml();\n\n        $(this.editor.body).find(\".k-element-resize-handle-wrapper\")\n            .each(function(index,el) {\n                el.remove();\n            });\n\n        this.editor.selectRange(point.toRange());\n    },\n    _clearColIndexAttr: function(table) {\n        dom.clearTableMappings(table, \"col-index\");\n    },\n    _mapColIndices: function(table) {\n        dom.reMapTableColumns(table, \"col-index\");\n    },\n    _findRowSpanCell: function(parent, rowIndex, colIndex) {\n        var row, cell;\n\n        for (var i = rowIndex; i >= 0; i--) {\n            row = parent.rows[i];\n            cell = $(row).find(\"[col-index=\" + colIndex + \"]\");\n\n            if (cell.length) {\n                return cell;\n            }\n        }\n    },\n    _resetElementResizing: function(editor) {\n        editor._destroyResizings();\n        editor._initializeColumnResizing();\n        editor._initializeRowResizing();\n        editor._initializeElementResizing();\n    },\n    _findNextTdInRow: function(row, colIndex) {\n        var lastTd = row.find(\"td:last-child\"),\n            lastIndex = parseInt(lastTd.attr(\"col-index\"), 10) + lastTd.prop(\"colSpan\") - 1,\n            td;\n\n        for (var i = colIndex; i <= lastIndex; i++) {\n            td = row.find(\"[col-index=\" + i + \"]\");\n            if (td.length) {\n                return td;\n            }\n        }\n    },\n    _adjustColgroups: function(row, table) {\n        var colElements = table.getElementsByTagName(COL),\n            colgroupElements = table.getElementsByTagName(COLGROUP),\n            cells = row.cells,\n            numberOfCells = cells.length,\n            i, colgroup, cell;\n\n        while (colElements.length > 0) {\n            colElements[0].remove();\n        }\n        while (colgroupElements.length > 0) {\n            colgroupElements[0].remove();\n        }\n\n        for (i = numberOfCells - 1; i >= 0; i--) {\n            cell = cells[i];\n            if (cell.getAttribute(SCOPE) === COLGROUP) {\n                colgroup = dom.createEmptyNode(this.editor.document, COLGROUP);\n                colgroup.setAttribute(\"span\", cell.getAttribute(COLSPAN));\n                table.prepend(colgroup);\n            } else {\n                table.prepend(dom.createEmptyNode(this.editor.document, COL));\n            }\n        }\n    },\n    _associateHeaderIds: function(table) {\n        dom.clearTableMappings(table, \"col-index\");\n        dom.reMapTableColumns(table, \"col-index\");\n        $(table).find(\"th, td\").removeAttr(\"id headers\");\n        dom.associateWithIds(table);\n    },\n    _getNumberOfColumns: function(table) {\n        return dom._getNumberOfColumns(table, \"td, th\");\n    }\n});\n\nvar InsertRowCommand = TableModificationCommand.extend({\n    exec: function() {\n        var range = this.lockRange(true),\n            td = dom.closest(range.endContainer, [TD, TH]),\n            table = dom.closest(td, TABLE),\n            position = this.options.position || \"after\",\n            cellCount, row, cell,\n            newRow, rowIndex, rowSpanIndex, createdCell;\n\n        if (!table || (this.immutables() && Editor.Immutables.immutableParent(td))) {\n            this.releaseRange(range);\n            return;\n        }\n\n        this._mapColIndices(table);\n\n        row = td.parentNode;\n        rowIndex = dom.findNodeIndex(row, true);\n\n        if (td.rowSpan > 1 && position === \"after\") {\n            row = table.rows[rowIndex + td.rowSpan - 1];\n        }\n\n        cellCount = this._getNumberOfColumns(table);\n        newRow = row.cloneNode(true);\n        $(newRow).empty();\n\n        for (var i = 0; i < cellCount; i = i + cell.prop(\"colSpan\")) {\n            cell = $(row).find(\"[col-index=\" + i + \"]\");\n\n            if (cell.length) {\n                if (cell.prop(\"rowSpan\") > 1 && position === \"after\" && cell) {\n                    cell.attr(ROWSPAN, cell.prop(\"rowSpan\") + 1);\n                } else {\n                    this._appendCell(newRow, cell);\n                }\n            } else {\n                rowIndex = dom.findNodeIndex(row, true);\n                cell = this._findRowSpanCell(row.parentElement, rowIndex, i);\n                rowSpanIndex = cell.closest(TR).index();\n\n                if (rowSpanIndex + cell.prop(\"rowSpan\") - 1 === rowIndex && position === \"after\") {\n                    this._appendCell(newRow, cell);\n                } else {\n                    cell.attr(ROWSPAN, cell.prop(\"rowSpan\") + 1);\n                }\n            }\n\n            createdCell = $(newRow).find(\"[col-index=\" + i + \"]\");\n            if (createdCell.attr(SCOPE) === ROWGROUP && !createdCell.attr(ROWSPAN)) {\n                createdCell.attr(SCOPE, ROW);\n            }\n        }\n\n        if (position == \"before\") {\n            dom.insertBefore(newRow, row);\n        } else {\n            dom.insertAfter(newRow, row);\n        }\n\n        if ($(table).find(\"[headers]\").length > 0) {\n            this._associateHeaderIds(table);\n        }\n\n        this._clearColIndexAttr(table);\n        this.releaseRange(range);\n\n        this._resetElementResizing(this.editor);\n    },\n    _appendCell: function(row, cell) {\n        var newCell;\n\n        newCell = cell.clone();\n        newCell.html(Editor.emptyTableCellContent);\n        newCell.removeAttr(ROWSPAN);\n        newCell.appendTo(row);\n    }\n});\n\nvar InsertColumnCommand = TableModificationCommand.extend({\n    exec: function() {\n        var range = this.lockRange(true),\n            td = dom.closest(range.endContainer, [TD, TH]),\n            table = dom.closest(td, TABLE),\n            colElements = table.getElementsByTagName(COL),\n            colgroupElements = table.getElementsByTagName(COLGROUP),\n            columnIndex,\n            i,\n            rows = table && table.rows,\n            cell,\n            newCell,\n            position = this.options.position || \"after\";\n\n\n        if (!td || (this.immutables() && Editor.Immutables.immutableParent(td))) {\n            this.releaseRange(range);\n            return;\n        }\n\n        this._mapColIndices(table);\n\n        columnIndex = parseInt(td.getAttribute(\"col-index\"),10);\n\n        if (td.colSpan > 1 && position === \"after\") {\n            td.setAttribute(\"col-index\", columnIndex + td.colSpan - 1);\n            columnIndex = columnIndex + td.colSpan - 1;\n        }\n\n        for (i = 0; i < rows.length; i++) {\n            cell = this._processForColSpan(rows[i], columnIndex, position, td);\n\n            if (!cell) {\n                continue;\n            }\n\n            newCell = cell.cloneNode();\n            newCell.innerHTML = Editor.emptyTableCellContent;\n            newCell.removeAttribute(COLSPAN);\n\n            if (newCell.getAttribute(SCOPE) && newCell.getAttribute(SCOPE) === COLGROUP) {\n                newCell.setAttribute(SCOPE, COL);\n            }\n\n            if (position == \"before\") {\n                dom.insertBefore(newCell, cell);\n            } else {\n                dom.insertAfter(newCell, cell);\n            }\n\n            this._resizeCells(newCell, cell);\n        }\n\n        if (colElements.length > 0 || colgroupElements.length > 0) {\n            this._adjustColgroups(rows[0], table);\n        }\n\n        if ($(table).find(\"[headers]\").length > 0) {\n            this._associateHeaderIds(table);\n        }\n\n        this._clearColIndexAttr(table);\n        this.releaseRange(range);\n\n        this._resetElementResizing(this.editor);\n    },\n    _processForColSpan: function(row, columnIndex, position, selectedCell) {\n        var cell,\n            colSpanEffect,\n            index = columnIndex - 1;\n\n        cell = $(row).find(\"[col-index=\" + columnIndex + \"]\")[0];\n\n        if (cell && cell.colSpan > 1 && position === \"after\" && cell !== selectedCell) {\n            cell.colSpan += 1;\n            return;\n        }\n\n        if (cell) {\n            return cell;\n        }\n\n        for (index; index >= 0; index--) {\n            cell = $(row).find(\"[col-index=\" + index + \"]\")[0];\n\n            if (cell && cell.colSpan > 1) {\n                break;\n            }\n        }\n\n        if (!cell) {\n            return;\n        }\n\n        colSpanEffect = parseInt(cell.getAttribute(\"col-index\"),10) + cell.colSpan - 1;\n\n        if (colSpanEffect === columnIndex && position === \"after\") {\n            return cell;\n        } else if (columnIndex <= colSpanEffect) {\n            cell.setAttribute(COLSPAN, cell.colSpan + 1);\n        }\n    },\n    _resizeCells: function(newCell, cell) {\n        var width = newCell.style.width,\n        parsedWidth, unit, calculatedWidth;\n\n        if (!width) {\n            return;\n        }\n\n        parsedWidth = parseFloat(width);\n        unit = width.slice(parsedWidth.toString().length);\n        calculatedWidth = (parsedWidth / 2) + unit;\n\n        newCell.style.width = calculatedWidth;\n        cell.style.width = calculatedWidth;\n    }\n});\n\nvar DeleteRowCommand = TableModificationCommand.extend({\n    exec: function() {\n        var range = this.lockRange();\n        var rows = RangeUtils.mapAll(range, function(node) {\n            return $(node).closest(TR)[0];\n        });\n        var td = dom.closest(range.endContainer, [TD, TH]);\n        var row = rows[0];\n        var rowSpan = td ? td.rowSpan : 1;\n        var rowIndex = $(rows[0]).index();\n        var table = dom.closest(row, TABLE);\n        var rowParent = row.parentElement;\n        var focusElement;\n\n        if (!table || (this.immutables() && Editor.Immutables.immutableParent(row))) {\n            this.releaseRange(range);\n            return;\n        }\n\n        for (var x = 0; x < rowSpan; x++) {\n            if (rows.indexOf(rowParent.rows[rowIndex + x]) < 0) {\n                rows.push(rowParent.rows[rowIndex + x]);\n            }\n        }\n\n        if (table.rows.length <= rows.length) {\n            focusElement = dom.next(table);\n            if (!focusElement || dom.insignificant(focusElement)) {\n                focusElement = dom.prev(table);\n            }\n\n            if (focusElement && focusElement.rows) {\n                focusElement = focusElement.rows[0].cells[0];\n            }\n\n            dom.remove(table);\n            this._resetElementResizing(this.editor);\n        } else if (rowParent.rows.length <= rows.length) {\n            focusElement = rowParent.nextSibling;\n\n            if (!focusElement) {\n                focusElement = rowParent.previousSibling;\n            }\n\n            dom.remove(rowParent);\n        } else {\n            this._mapColIndices(table);\n\n            for (var i = 0; i < rows.length; i++) {\n                row = rows[i];\n                dom.removeTextSiblings(row);\n                focusElement = dom.next(row) || dom.prev(row);\n                focusElement = focusElement.cells[0];\n\n                // IE needs to focus the new row before removing the old one\n                this._focusElement(range, focusElement);\n                focusElement = null;\n\n                this._handleRowSpanCells(table, row);\n\n                dom.remove(row);\n            }\n\n            this._clearColIndexAttr(table);\n        }\n\n        if ($(table).find(\"[headers]\").length > 0) {\n            this._associateHeaderIds(table);\n        } else if (dom.is(rowParent, THEAD) && $(table).find(\"[scope]\").length > 0) {\n            this._adjustColgroups(rowParent.rows[0], table);\n        }\n\n        if (focusElement) {\n            this._focusElement(range, focusElement);\n        }\n\n        this._resetElementResizing(this.editor);\n    },\n    _focusElement: function(range, node) {\n        range.setStart(node, 0);\n        range.collapse(true);\n        this.editor.selectRange(range);\n    },\n    _handleRowSpanCells: function(table, row) {\n        var index, cell, adjacentCell, nextRow, rowIndex = dom.findNodeIndex(row, true),\n            firstRow = table.rows[0],\n            lastCell = firstRow.cells[firstRow.cells.length - 1],\n            lastIndex = parseInt(lastCell.getAttribute(\"col-index\"),10) + lastCell.colSpan - 1;\n\n        for (index = 0; index <= lastIndex; index = index + cell.prop(\"colSpan\")) {\n            cell = $(row).find(\"[col-index=\" + index + \"]\");\n\n            if (cell.length && cell.prop(\"rowSpan\") > 1) {\n                nextRow = table.rows[rowIndex + 1];\n                adjacentCell = $(nextRow).find(\"[col-index=\" + (index + 1) + \"]\");\n\n                if (adjacentCell.length) {\n                    adjacentCell.before(cell);\n                } else {\n                    $(nextRow).append(cell);\n                }\n                this._reduceRowSpan(cell);\n            }\n\n            if (!cell.length) {\n                cell = this._findRowSpanCell(row.parentElement, rowIndex, index);\n                this._reduceRowSpan(cell);\n            }\n        }\n    },\n    _reduceRowSpan: function(td) {\n        var rowSpanValue = td.prop(\"rowSpan\") - 1;\n\n        if (rowSpanValue <= 1) {\n            td.removeAttr(ROWSPAN);\n            if (td.attr(SCOPE) === ROWGROUP) {\n                td.attr(SCOPE, ROW);\n            }\n        } else {\n            td.attr(ROWSPAN, rowSpanValue);\n        }\n    }\n});\n\nvar DeleteColumnCommand = TableModificationCommand.extend({\n    exec: function() {\n        var range = this.lockRange(),\n            td = dom.closest(range.endContainer, [TD, TH]),\n            table = dom.closest(td, TABLE),\n            rows = table && table.rows,\n            columnCount = rows && rows[0].cells.length,\n            colElements = table.getElementsByTagName(COL),\n            colgroupElements = table.getElementsByTagName(COLGROUP),\n            focusElement, columnIndex, i, cell, x;\n\n        if (!td || (this.immutables() && Editor.Immutables.immutableParent(td))) {\n            this.releaseRange(range);\n            return;\n        }\n\n        if (columnCount == 1 || td.colSpan == columnCount) {\n            focusElement = dom.next(table);\n            if (!focusElement || dom.insignificant(focusElement)) {\n                focusElement = dom.prev(table);\n            }\n\n            if (focusElement && focusElement.rows) {\n                focusElement = focusElement.rows[0].cells[0];\n            }\n\n            dom.remove(table);\n            this._resetElementResizing(this.editor);\n        } else {\n            dom.removeTextSiblings(td);\n\n            focusElement = dom.next(td) || dom.prev(td);\n\n            this._mapColIndices(table);\n\n            columnIndex = parseInt(td.getAttribute(\"col-index\"), 10);\n\n            for (x = 0; x < td.colSpan; x++) {\n                for (i = 0; i < rows.length; i = i + (cell.prop(\"rowSpan\") || 1)) {\n                    cell = $(rows[i]).find(\"[col-index=\" + (columnIndex + x) + \"]\");\n\n                    if (cell.length && cell.prop(\"colSpan\") <= 1) {\n                        cell.remove();\n                    } else {\n                        this._handleColSpanCells(rows[i], columnIndex + x);\n                    }\n                }\n            }\n\n            this._clearColIndexAttr(table);\n        }\n\n        if (colElements.length > 0 || colgroupElements.length > 0) {\n            this._adjustColgroups(rows[0], table);\n        }\n\n        if ($(table).find(\"[headers]\").length > 0) {\n            this._associateHeaderIds(table);\n        }\n\n        if (focusElement) {\n            range.setStart(focusElement, 0);\n            range.collapse(true);\n            this.editor.selectRange(range);\n        }\n\n        this._resetElementResizing(this.editor);\n    },\n    _handleColSpanCells: function(row, colIndex) {\n        var cell = $(row).find(\"[col-index=\" + colIndex + \"]\");\n\n        if (cell.length && cell.prop(\"colSpan\") > 1) {\n            var clone = cell.clone(true);\n            cell.after(clone);\n            this._reduceColSpan(clone);\n            clone.attr(\"col-index\", parseInt(cell.attr(\"col-index\"),10) + 1);\n            cell.remove();\n            return;\n        }\n\n        for (var i = colIndex; i >= 0; i--) {\n            cell = $(row).find(\"[col-index=\" + i + \"]\");\n\n            if (cell.length) {\n                this._reduceColSpan(cell);\n                cell.attr(\"col-index\", parseInt(cell.attr(\"col-index\"),10) + 1);\n                return;\n            }\n        }\n    },\n    _reduceColSpan: function(td) {\n        var colSpanValue = td.prop(\"colSpan\") - 1;\n\n        if (colSpanValue <= 1) {\n            td.removeAttr(COLSPAN);\n            if (td.attr(SCOPE) === COLGROUP) {\n                td.attr(SCOPE, COL);\n            }\n        } else {\n            td.attr(COLSPAN, colSpanValue);\n        }\n    }\n});\n\nvar MergeCellsHorizontallyCommand = TableModificationCommand.extend({\n    exec: function() {\n        var range = this.lockRange(),\n            td = dom.closest(range.endContainer, [TD, TH]),\n            table, row, columnIndex, nextTd, colspan;\n\n            if (!td) {\n                this.releaseRange(range);\n                return;\n            }\n\n            table = dom.closest(td, TABLE);\n            row = td.parentNode;\n            columnIndex = dom.findNodeIndex(td, true);\n            nextTd = row.children[columnIndex + 1];\n\n            if (this.immutables() && Editor.Immutables.immutableParent(td)) {\n                this.releaseRange(range);\n                return;\n            }\n\n            this._mapColIndices(table);\n\n            columnIndex = parseInt($(td).attr(\"col-index\"), 10);\n            nextTd = $(row).find(\"[col-index=\" + (columnIndex + 1 + this._getColspan(td) - 1) + \"]\").get(0);\n\n            if (!nextTd || nextTd.rowSpan !== td.rowSpan || td.tagName !== nextTd.tagName) {\n                this._clearColIndexAttr(table);\n                this.releaseRange(range);\n                return;\n            }\n\n            colspan = this._getColspan(td) + this._getColspan(nextTd);\n\n            $(td).prop(COLSPAN, colspan)\n                 .append(dom.emptyNode(nextTd) ? \"\" : \"<br/>\" + nextTd.innerHTML);\n\n            $(td).width(td.offsetWidth);\n            $(nextTd).remove();\n\n            if (td.getAttribute(SCOPE) === COL) {\n                td.setAttribute(SCOPE, COLGROUP);\n            }\n            if (td.getAttribute(SCOPE) === COLGROUP) {\n                this._adjustColgroups(row, table);\n            }\n\n            if ($(table).find(\"[headers]\").length > 0) {\n                this._associateHeaderIds(table);\n            }\n\n            this._clearColIndexAttr(table);\n            this.releaseRange(range);\n            this._resetElementResizing(this.editor);\n    },\n    _getColspan: function(td) {\n        return parseInt(td.getAttribute(COLSPAN), 10) || 1;\n    }\n});\n\nvar MergeCellsVerticallyCommand = TableModificationCommand.extend({\n    exec: function() {\n        var range = this.lockRange(),\n            td = dom.closest(range.endContainer, [TD, TH]),\n            tr, parent, table, columnIndex, rowIndex, targetRow, bottomTd;\n\n            if (!td) {\n                this.releaseRange(range);\n                return;\n            }\n\n            tr = dom.closest(td, TR);\n            parent = dom.closest(td, [THEAD, TBODY]);\n            table = dom.closest(td, TABLE);\n            columnIndex = dom.findNodeIndex(td, true);\n            rowIndex = dom.findNodeIndex(tr, true);\n\n            if (rowIndex + 1 === parent.rows.length) {\n                this.releaseRange(range);\n                return;\n            }\n\n            targetRow = parent.rows[rowIndex + this._getRowspan(td)];\n            bottomTd = targetRow && targetRow.children[columnIndex];\n\n            if (this.immutables() && Editor.Immutables.immutableParent(td)) {\n                this.releaseRange(range);\n                return;\n            }\n\n            this._mapColIndices(table);\n\n            columnIndex = $(td).attr(\"col-index\");\n            bottomTd = $(targetRow).find(\"[col-index=\" + columnIndex + \"]\").get(0);\n\n            if (!bottomTd || bottomTd.colSpan !== td.colSpan || td.tagName !== bottomTd.tagName) {\n                this._clearColIndexAttr(table);\n                this.releaseRange(range);\n                return;\n            }\n\n            $(td).prop(ROWSPAN, this._getRowspan(td) + this._getRowspan(bottomTd))\n                 .append(dom.emptyNode(bottomTd) ? \"\" : \"<br/>\" + bottomTd.innerHTML);\n\n            if (td.getAttribute(SCOPE) === ROW) {\n                td.setAttribute(SCOPE, ROWGROUP);\n            }\n\n            $(bottomTd).remove();\n\n            if ($(table).find(\"[headers]\").length > 0) {\n                this._associateHeaderIds(table);\n            }\n\n            this._clearColIndexAttr(table);\n            this.releaseRange(range);\n    },\n    _getRowspan: function(td) {\n        return parseInt(td.getAttribute(ROWSPAN), 10) || 1;\n    }\n});\n\nvar SplitCellCommand = TableModificationCommand.extend({\n    exec: function() {\n        var range = this.lockRange(),\n            type = this.options.type,\n            attr = type === \"row\" ? COLSPAN : ROWSPAN,\n            td = dom.closest(range.endContainer, [TD, TH]),\n            parent = dom.closest(td, [THEAD, TBODY]),\n            table = dom.closest(td, TABLE),\n            emptyTd = dom.createEmptyNode(this.editor.document, td.nodeName.toLowerCase());\n\n        if (!td || (this.immutables() && Editor.Immutables.immutableParent(td))) {\n            this.releaseRange(range);\n            return;\n        }\n\n        this._mapColIndices(table);\n\n        if (type === \"row\" && $(td).is(\"[\" + attr + \"]\")) {\n            this._splitCellHorizontally(td, parent, attr, emptyTd);\n        } else if (type === \"column\" && $(td).is(\"[\" + attr + \"]\")) {\n            this._splitCellVertically(td, parent, attr, emptyTd);\n        }\n\n        if ($(td).prop(attr.toLowerCase()) <= 1) {\n            $(td).removeAttr(attr);\n        }\n\n        if ($(table).find(\"[headers]\").length > 0) {\n            this._associateHeaderIds(table);\n        }\n\n        this._clearColIndexAttr(table);\n        this.releaseRange(range);\n    },\n    _getRowspanValue: function(td) {\n        return parseInt(td.getAttribute(ROWSPAN), 10);\n    },\n    _getColspanValue: function(td) {\n        return parseInt(td.getAttribute(COLSPAN), 10);\n    },\n    _splitCellHorizontally: function(td, parent, attr, emptyTd) {\n        var rowSpan = td.rowSpan,\n            colSpan = td.colSpan,\n            tdToAdd = $(emptyTd),\n            colSpanResult = Math.floor(colSpan / 2);\n\n            if (colSpanResult > 1) {\n                tdToAdd.attr(COLSPAN, colSpanResult);\n            }\n\n            if (rowSpan > 1) {\n                tdToAdd.attr(ROWSPAN, rowSpan);\n            }\n\n            $(td).prop(attr, colSpan - colSpanResult)\n                .after(tdToAdd);\n\n            $(td).width(td.offsetWidth);\n            tdToAdd.width(tdToAdd[0].offsetWidth);\n\n            if (td.hasAttribute(SCOPE)) {\n                if (td.getAttribute(SCOPE) === COLGROUP) {\n                    tdToAdd.attr(SCOPE, COL);\n                    if (!td.getAttribute(COLSPAN) || td.getAttribute(COLSPAN) === \"1\") {\n                        td.setAttribute(SCOPE, COL);\n                    }\n\n                    this._adjustColgroups(td.parentNode, parent.parentNode);\n                } else {\n                    tdToAdd.attr(SCOPE, td.getAttribute(SCOPE));\n                }\n            }\n    },\n    _splitCellVertically: function(td, parent, attr, emptyTd) {\n        var tr = dom.closest(td,TR),\n            columnIndex = parseInt($(td).attr(\"col-index\"), 10),\n            rowIndex = dom.findNodeIndex(tr, true),\n            rowSpan = td.rowSpan,\n            colSpan = td.colSpan,\n            rowSpanResult = Math.floor(rowSpan / 2),\n            targetRow = $(parent).find(TR).eq(rowIndex + rowSpan - rowSpanResult),\n            nextTd = this._findNextTdInRow(targetRow, columnIndex + colSpan),\n            tdToAdd = $(emptyTd);\n\n            if (rowSpanResult > 1) {\n                tdToAdd.attr(ROWSPAN, rowSpanResult);\n            }\n            if (colSpan > 1) {\n                tdToAdd.attr(COLSPAN, colSpan);\n            }\n\n            if (nextTd && nextTd.length) {\n                nextTd.before(tdToAdd);\n            } else {\n                targetRow.append(tdToAdd);\n            }\n\n            $(td).prop(attr, rowSpan - rowSpanResult);\n\n            if (td.hasAttribute(SCOPE)) {\n                if (td.getAttribute(SCOPE) === ROWGROUP) {\n                    tdToAdd.attr(SCOPE, ROW);\n                    if (!td.getAttribute(ROWSPAN) || td.getAttribute(ROWSPAN) === \"1\") {\n                        td.setAttribute(SCOPE, ROW);\n                    }\n                } else {\n                    tdToAdd.attr(SCOPE, td.getAttribute(SCOPE));\n                }\n            }\n    }\n});\n\nvar TableModificationTool = Tool.extend({\n    command: function(options) {\n        var commandsMap = {\n            row: {\n                insert: InsertRowCommand,\n                \"delete\": DeleteRowCommand,\n                merge: MergeCellsHorizontallyCommand,\n                split: SplitCellCommand\n            },\n            column: {\n                insert: InsertColumnCommand,\n                \"delete\": DeleteColumnCommand,\n                merge: MergeCellsVerticallyCommand,\n                split: SplitCellCommand\n            }\n        };\n\n        options = extend(options, this.options);\n        options.action = options.action || \"insert\";\n\n        return new commandsMap[options.type][options.action](options);\n    },\n\n    update: function(ui, nodes) {\n        var isFormatted = !tableFormatFinder.isFormatted(nodes),\n            toolbar = ui.closest(\".k-toolbar\").getKendoToolBar();\n\n        if (isFormatted === true) {\n            toolbar.hide(ui);\n        } else {\n            toolbar.show(ui);\n        }\n    }\n});\n\nvar TableFormatCommand = FormatCommand.extend({\n    exec: function() {\n        var that = this;\n        var editor = that.editor;\n\n        FormatCommand.fn.exec.call(this);\n\n        if (editor.elementResizing) {\n            editor.elementResizing._showResizeHandles();\n        }\n    }\n});\n\n// var tableAlignFormatFinder = BlockFormatFinder.extend({\n\n// });\n\nvar TableFormatTool = BlockFormatTool.extend({\n    update: function(ui, nodes) {\n        var isTable = !tableFormatFinder.isFormatted(nodes),\n            isFormatted = this.options.finder.isFormatted(nodes, this.isTable),\n            toolbar = ui.closest(\".k-toolbar\").getKendoToolBar();\n\n        if (toolbar) {\n            toolbar.toggle(ui, isFormatted);\n        }\n\n        if (isTable === true) {\n            toolbar.hide(ui);\n        } else {\n            toolbar.show(ui);\n        }\n    },\n    command: function(commandArguments) {\n        var that = this;\n\n        return new TableFormatCommand(extend(commandArguments, {\n            formatter: that.options.formatter\n        }));\n    },\n    isTable: function(node) {\n        return dom.is(node, \"table\");\n    }\n});\n\nextend(kendo.ui.editor, {\n    PopupTool: PopupTool,\n    TableCommand: TableCommand,\n    InsertTableTool: InsertTableTool,\n    TableFormatTool: TableFormatTool,\n    TableFormatCommand: TableFormatCommand,\n    TableModificationTool: TableModificationTool,\n    InsertRowCommand: InsertRowCommand,\n    InsertColumnCommand: InsertColumnCommand,\n    DeleteRowCommand: DeleteRowCommand,\n    DeleteColumnCommand: DeleteColumnCommand,\n    MergeCellsHorizontallyCommand: MergeCellsHorizontallyCommand,\n    MergeCellsVerticallyCommand: MergeCellsVerticallyCommand,\n    SplitCellCommand: SplitCellCommand\n});\n\n\nregisterTool(\"createTable\", new InsertTableTool({ ui: { popup: true, overflow: \"never\" } }));\n\nregisterTool(\"addColumnLeft\", new TableModificationTool({ type: \"column\", position: \"before\" }));\nregisterTool(\"addColumnRight\", new TableModificationTool({ type: \"column\" }));\nregisterTool(\"addRowAbove\", new TableModificationTool({ type: \"row\", position: \"before\" }));\nregisterTool(\"addRowBelow\", new TableModificationTool({ type: \"row\" }));\nregisterTool(\"deleteRow\", new TableModificationTool({ type: \"row\", action: \"delete\" }));\nregisterTool(\"deleteColumn\", new TableModificationTool({ type: \"column\", action: \"delete\" }));\nregisterTool(\"mergeCellsHorizontally\", new TableModificationTool({ type: \"row\", action: \"merge\" }));\nregisterTool(\"mergeCellsVertically\", new TableModificationTool({ type: \"column\", action: \"merge\" }));\nregisterTool(\"splitCellHorizontally\", new TableModificationTool({ type: \"row\", action: \"split\" }));\nregisterTool(\"splitCellVertically\", new TableModificationTool({ type: \"column\", action: \"split\" }));\n\nregisterFormat(\"tableAlignLeft\", [\n    { tags: [\"table\"], attr: { style: { marginLeft: \"\", marginRight: \"auto\" } } },\n    { tags: [\"table\"], attr: { align: \"left\" } }\n]);\nregisterTool(\"tableAlignLeft\", new TableFormatTool({\n    format: formats.tableAlignLeft,\n    ui: {\n        togglable: true,\n        group: \"tableAlign\"\n    }\n}));\n\nregisterFormat(\"tableAlignCenter\", [\n    { tags: [\"table\"], attr: { style: { marginLeft: \"auto\", marginRight: \"auto\" } } },\n    { tags: [\"table\"], attr: { align: \"center\" } }\n]);\nregisterTool(\"tableAlignCenter\", new TableFormatTool({\n    format: formats.tableAlignCenter,\n    ui: {\n        togglable: true,\n        group: \"tableAlign\"\n    }\n}));\n\nregisterFormat(\"tableAlignRight\", [\n    { tags: [\"table\"], attr: { style: { marginLeft: \"auto\", marginRight: \"\" } } },\n    { tags: [\"table\"], attr: { align: \"right\" } }\n]);\nregisterTool(\"tableAlignRight\", new TableFormatTool({\n    format: formats.tableAlignRight,\n    ui: {\n        togglable: true,\n        group: \"tableAlign\"\n    }\n}));\n\n})(window.kendo.jQuery);\n","import \"../command.js\";\n\n(function($) {\n\n    // Imports ================================================================\n    var kendo = window.kendo,\n        Class = kendo.Class,\n        editorNS = kendo.ui.editor,\n        RangeUtils = editorNS.RangeUtils,\n        dom = editorNS.Dom,\n        RestorePoint = editorNS.RestorePoint,\n        Marker = editorNS.Marker,\n        browser = kendo.support.browser,\n        extend = $.extend;\n\nvar Clipboard = Class.extend({\n    init: function(editor) {\n        this.editor = editor;\n        var pasteCleanup = editor.options.pasteCleanup;\n        this.nonSplittableTagsOnPaste = editor.options.nonSplittableTagsOnPaste || [];\n        this.cleaners = [\n            new ScriptCleaner(pasteCleanup),\n            new TabCleaner(pasteCleanup),\n            new MSWordFormatCleaner(pasteCleanup),\n            new WebkitFormatCleaner(pasteCleanup),\n            new HtmlTagsCleaner(pasteCleanup),\n            new HtmlAttrCleaner(pasteCleanup),\n            new HtmlContentCleaner(pasteCleanup),\n            new CustomCleaner(pasteCleanup) //always keep at end\n        ];\n    },\n\n    htmlToFragment: function(html) {\n        var editor = this.editor,\n            doc = editor.document,\n            container = dom.create(doc, 'div'),\n            fragment = doc.createDocumentFragment();\n\n        container.innerHTML = html;\n\n        while (container.firstChild) {\n            fragment.appendChild(container.firstChild);\n        }\n\n        return fragment;\n    },\n\n    isBlock: function(html) {\n        return (/<(div|p|ul|ol|table|h[1-6])/i).test(html);\n    },\n\n    _startModification: function() {\n        var range;\n        var restorePoint;\n        var editor = this.editor;\n\n        if (this._inProgress) {\n            return;\n        }\n\n        this._inProgress = true;\n\n        range = editor.getRange();\n        restorePoint = new RestorePoint(range, editor.body);\n\n        dom.persistScrollTop(editor.document);\n\n        return { range: range, restorePoint: restorePoint };\n    },\n\n    _endModification: function(modificationInfo) {\n        editorNS._finishUpdate(this.editor, modificationInfo.restorePoint);\n\n        this.editor._selectionChange();\n\n        this._inProgress = false;\n    },\n\n    _contentModification: function(before, after) {\n        var that = this;\n        var editor = that.editor;\n        var modificationInfo = that._startModification();\n\n        if (!modificationInfo) {\n            return;\n        }\n\n        before.call(that, editor, modificationInfo.range);\n\n        setTimeout(function() {\n            after.call(that, editor, modificationInfo.range);\n\n            that._endModification(modificationInfo);\n        });\n    },\n\n    _removeBomNodes: function(range) {\n        var nodes = RangeUtils.textNodes(range);\n\n        for (var i = 0; i < nodes.length; i++) {\n            nodes[i].nodeValue = dom.stripBom(nodes[i].nodeValue) || nodes[i].nodeValue;\n        }\n    },\n\n    _onBeforeCopy: function(range) {\n        var marker = new Marker();\n        marker.add(range);\n\n        this._removeBomNodes(range);\n\n        marker.remove(range);\n\n        this.editor.selectRange(range);\n    },\n\n    oncopy: function() {\n        this._onBeforeCopy(this.editor.getRange());\n    },\n\n    oncut: function() {\n        this._onBeforeCopy(this.editor.getRange());\n        this._contentModification($.noop, $.noop);\n    },\n\n    _fileToDataURL: function(blob) {\n        var deferred = $.Deferred();\n\n        var reader = new FileReader();\n\n        if (!(blob instanceof window.File) && blob.getAsFile) {\n            blob = blob.getAsFile();\n\n            if (!blob) {\n                return;\n            }\n        }\n\n        reader.onload = deferred.resolve.bind(deferred);\n\n        reader.readAsDataURL(blob);\n\n        return deferred.promise();\n    },\n\n    _triggerPaste: function(html, options) {\n        var args = { html: html || \"\" };\n\n        args.html = args.html.replace(/\\ufeff/g, \"\");\n\n        this.editor.trigger(\"paste\", args);\n\n        this.paste(args.html, options || {});\n    },\n\n    _handleImagePaste: function(e) {\n        if (!('FileReader' in window) || (browser.msie && browser.version > 10)) {\n            return;\n        }\n\n        var clipboardData = e.clipboardData || e.originalEvent.clipboardData ||\n                    window.clipboardData || {};\n\n        var items = clipboardData.items || clipboardData.files;\n\n        return this._insertImages(items);\n    },\n\n    _insertImages: function(items) {\n        if (!items) {\n            return;\n        }\n\n        var images = $.grep(items, function(item) { return (/^image\\//i).test(item.type); });\n        var html = $.grep(items, function(item) { return (/^text\\/html/i).test(item.type); });\n\n        if (html.length || !images.length) {\n            return;\n        }\n\n        var modificationInfo = this._startModification();\n\n        if (!modificationInfo) {\n            return;\n        }\n\n        $.when.apply($, $.map(images, this._fileToDataURL))\n            .done((function() {\n                var results = Array.prototype.slice.call(arguments);\n                var html = $.map(results, function(e) {\n                    return '<img src=\"' + e.target.result + '\" />';\n                }).join(\"\");\n\n                this._triggerPaste(html);\n\n                this._endModification(modificationInfo);\n            }).bind(this));\n\n        return true;\n    },\n\n    onpaste: function(e) {\n        if (this.editor.body.contentEditable === \"false\") {\n            return;\n        }\n\n        if (this._handleImagePaste(e)) {\n            e.preventDefault();\n            return;\n        }\n\n        this.expandImmutablesIn();\n\n        this._contentModification(\n            function beforePaste(editor, range) {\n                var clipboardNode = dom.create(editor.document, 'div', {\n                        className: 'k-paste-container',\n                        innerHTML: \"\\ufeff\"\n                    });\n                var browser = kendo.support.browser;\n                var body = editor.body;\n\n                this._decoreateClipboardNode(clipboardNode, body);\n\n                body.appendChild(clipboardNode);\n\n                //Browser scrolls to clipboardNode\n                if (browser.webkit) {\n                    this._moveToCaretPosition(clipboardNode, range);\n                }\n\n                // text ranges are slow in IE10-, DOM ranges are buggy in IE9-10\n                if (browser.msie && browser.version < 11) {\n                    e.preventDefault();\n                    var r = editor.createRange();\n                    r.selectNodeContents(clipboardNode);\n                    editor.selectRange(r);\n                    var textRange = editor.document.body.createTextRange();\n                    textRange.moveToElementText(clipboardNode);\n                    $(body).off('paste');\n                    textRange.execCommand('Paste');\n                    $(body).on('paste', this.onpaste.bind(this));\n                } else {\n                    var clipboardRange = editor.createRange();\n                    clipboardRange.selectNodeContents(clipboardNode);\n                    editor.selectRange(clipboardRange);\n                }\n\n                range.deleteContents();\n            },\n            function afterPaste(editor, range) {\n                var html = \"\", containers;\n\n                editor.selectRange(range);\n\n                containers = $(editor.body).children(\".k-paste-container\");\n\n                containers.each(function() {\n                    var lastChild = this.lastChild;\n\n                    if (lastChild && dom.is(lastChild, 'br')) {\n                        dom.remove(lastChild);\n                    }\n\n                    html += this.innerHTML;\n                });\n\n                containers.remove();\n\n                this._triggerPaste(html, { clean: true });\n            }\n        );\n    },\n    ondragover: function(e) {\n        if (browser.msie || browser.edge) {\n            e.stopPropagation();\n            e.preventDefault();\n        }\n    },\n    ondrop: function(e) {\n        if (!('FileReader' in window)) {\n            return;\n        }\n\n        var dataTransfer = (e.originalEvent || e).dataTransfer || {};\n        var items = dataTransfer.items || dataTransfer.files;\n\n        if (this._insertImages(items)) {\n            e.preventDefault();\n        }\n    },\n    _decoreateClipboardNode: function(node, body) {\n        if (!browser.msie && !browser.webkit) {\n            return;\n        }\n\n        node = $(node);\n        node.css({\n            borderWidth: \"0px\",\n            width: \"0px\",\n            height: \"0px\",\n            overflow: \"hidden\",\n            margin: \"0\",\n            padding: \"0\"\n        });\n\n        if (browser.msie) {\n            //node inherits BODY styles and this causes the browser to add additional\n            var documentElement = $(body.ownerDocument.documentElement);\n\n            node.css({\n                fontVariant: \"normal\",\n                fontWeight: \"normal\",\n                lineSpacing: \"normal\",\n                lineHeight: \"normal\",\n                textDecoration: \"none\"\n            });\n            var color = documentElement.css(\"color\");\n            if (color) {\n                node.css(\"color\", color);\n            }\n            var fontFamily = documentElement.css(\"fontFamily\");\n            if (fontFamily) {\n                node.css(\"fontFamily\", fontFamily);\n            }\n            var fontSize = documentElement.css(\"fontSize\");\n            if (fontSize) {\n                node.css(\"fontSize\", fontSize);\n            }\n        }\n    },\n    _moveToCaretPosition: function(node, range) {\n        var that = this;\n        var body = that.editor.body;\n        var nodeOffset = dom.offset(node, body);\n        var caretOffset = that._caretOffset(range, body);\n        var translateX = caretOffset.left - nodeOffset.left;\n        var translateY = caretOffset.top - nodeOffset.top;\n        var translate = \"translate(\" + translateX + \"px,\" + translateY + \"px)\";\n\n        $(node).css({\n            \"-webkit-transform\": translate,\n            \"transform\": translate\n        });\n    },\n    _caretOffset: function(range, body) {\n        var editor = this.editor;\n        var caret = dom.create(editor.document, 'span', { innerHTML: \"\\ufeff\" });\n        var startContainer = range.startContainer;\n        var rangeChanged;\n\n        if (range.collapsed) {\n            var isStartTextNode = dom.isDataNode(startContainer);\n            if (isStartTextNode && (dom.isBom(startContainer) || range.startOffset === 0)) {\n                dom.insertBefore(caret, startContainer);\n            } else if (isStartTextNode && range.startOffset === startContainer.length) {\n                dom.insertAfter(caret, startContainer);\n            } else {\n                range.insertNode(caret);\n                rangeChanged = true;\n            }\n        } else {\n            startContainer = startContainer === body ?\n                startContainer.childNodes[range.startOffset] : startContainer;\n            dom.insertBefore(caret, startContainer);\n        }\n\n        var offset = dom.offset(caret, body);\n        var prev = caret.previousSibling;\n        var next = caret.nextSibling;\n\n        dom.remove(caret);\n\n        if (rangeChanged && dom.isDataNode(prev) && dom.isDataNode(next) && !dom.isBom(prev) && !dom.isBom(next)) {\n            var prevLength = prev.length;\n            next.data = prev.data + next.data;\n            range.setStart(next, prevLength);\n            dom.remove(prev);\n\n            range.collapse(true);\n            editor.selectRange(range);\n        }\n\n        return offset;\n    },\n\n    expandImmutablesIn: function(range) {\n        var editor = this.editor;\n        if (editor && editor.options.immutables) {\n            var body = editor.body;\n            range = range || editor.getRange();\n            kendo.ui.editor.Immutables.expandImmutablesIn(range);\n            if (range.startContainer === body && range.startOffset === 0) {\n                var doc = body.ownerDocument;\n                var bomNode = doc.createTextNode(\"\\ufeff\");\n                body.insertBefore(bomNode, body.childNodes[0]);\n                range.setStartBefore(bomNode);\n            }\n            editor.selectRange(range);\n        }\n    },\n\n    splittableParent: function(block, node) {\n        var parentNode, body;\n\n        if (block) {\n            return dom.closestEditableOfType(node, ['p', 'ul', 'ol']) || node.parentNode;\n        }\n\n        parentNode = node.parentNode;\n        body = node.ownerDocument.body;\n\n        if (dom.isInline(parentNode)) {\n            while (parentNode.parentNode != body && !dom.isBlock(parentNode.parentNode)) {\n                parentNode = parentNode.parentNode;\n            }\n        }\n\n        return parentNode;\n    },\n\n    paste: function(html, options) {\n        var editor = this.editor,\n            nonSplittableTagsOnPaste = this.nonSplittableTagsOnPaste,\n            preventSplit = false,\n            unwrapPasted = false,\n            i, l, childNodes, isList;\n\n        this.expandImmutablesIn();\n\n        options = extend({ clean: false, split: true }, options);\n\n        if (!options.skipCleaners) {\n            for (i = 0, l = this.cleaners.length; i < l; i++) {\n                if (this.cleaners[i].applicable(html)) {\n                    html = this.cleaners[i].clean(html);\n                }\n            }\n        }\n\n        if (options.clean) {\n            // remove br elements which immediately precede block elements\n            html = html.replace(/(<br>(\\s|&nbsp;)*)+(<\\/?(div|p|li|col|t))/ig, \"$3\");\n            // remove empty inline elements\n            html = html.replace(/<(a|span)[^>]*><\\/\\1>/ig, \"\");\n        }\n\n        html = html.replace(/<(a|span|font)([^>]*)> <\\/\\1>/ig, \"<$1$2>&nbsp;</$1>\");\n\n        // It is possible in IE to copy just <li> tags\n        html = html.replace(/^<li/i, '<ul><li').replace(/li>$/g, 'li></ul>');\n\n        var block = this.isBlock(html);\n\n        editor.focus();\n        var range = editor.getRange();\n        range.deleteContents();\n\n        if (range.startContainer == editor.document) {\n            range.selectNodeContents(editor.body);\n        }\n\n        var marker = new Marker();\n        var caret = marker.addCaret(range);\n\n        var parent = this.splittableParent(block, caret);\n        var unwrap = false;\n\n        for (i = 0; i < nonSplittableTagsOnPaste.length; i++) {\n            const splitter = nonSplittableTagsOnPaste[i],\n                tag = splitter.tag || splitter;\n\n            if (dom.is(parent, tag)) {\n                preventSplit = true;\n                unwrapPasted = splitter.unwrap !== false;\n                break;\n            }\n        }\n\n        var splittable = parent != editor.body && !dom.is(parent, \"td\") && !preventSplit;\n\n        if (options.split && splittable && (block || dom.isInline(parent))) {\n            range.selectNode(caret);\n            RangeUtils.split(range, parent, true);\n            unwrap = true;\n        }\n\n        var fragment = this.htmlToFragment(html);\n\n        if (fragment.firstChild && fragment.firstChild.className === \"k-paste-container\") {\n            var fragmentsHtml = [];\n            for (i = 0, l = fragment.childNodes.length; i < l; i++) {\n                fragmentsHtml.push(fragment.childNodes[i].innerHTML);\n            }\n\n            fragment = this.htmlToFragment(fragmentsHtml.join('<br />'));\n        }\n\n        childNodes = fragment.childNodes;\n\n        if (unwrapPasted) {\n            isList = dom.list(childNodes[0]);\n            dom.unwrap(childNodes[0]);\n\n            if (isList) {\n                range.selectNode(caret.parentNode);\n            }\n        }\n\n        $(childNodes)\n            .filter(\"table\").addClass(\"k-table\").end()\n            .find(\"table\").addClass(\"k-table\");\n\n        $(childNodes).each(function(index, elm) {\n           if (dom.isBlock(elm) && !dom.isSelfClosing(elm) && elm.innerHTML === \"\") {\n                elm.appendChild(editor.document.createTextNode(\"\\ufeff\"));\n           }\n        });\n\n        range.insertNode(fragment);\n\n        parent = this.splittableParent(block, caret);\n        if (unwrap) {\n            while (caret.parentNode != parent) {\n                dom.unwrap(caret.parentNode);\n            }\n\n            dom.unwrap(caret.parentNode);\n        }\n\n        dom.normalize(range.commonAncestorContainer);\n        caret.style.display = 'inline';\n        dom.restoreScrollTop(editor.document);\n        dom.scrollTo(caret);\n        marker.removeCaret(range);\n\n        var rangeEnd = range.commonAncestorContainer.parentNode;\n        if (range.collapsed && dom.name(rangeEnd) == \"tbody\" || range.collapsed && dom.name(rangeEnd) == \"thead\") {\n            range.setStartAfter($(rangeEnd).closest(\"table\")[0]);\n            range.collapse(true);\n        }\n\n        var focusedTable = $(range.commonAncestorContainer.parentNode).closest(\"table\");\n\n        if (focusedTable.get(0)) {\n            var siblingNodes = focusedTable.parent().contents();\n            var lastSiblingIndex = siblingNodes.length - 1;\n            var lastSibling = siblingNodes.get(lastSiblingIndex);\n\n            while (lastSibling.nodeValue !== null && (lastSibling.nodeValue === \" \" || lastSibling.nodeValue === \"\")) {\n                lastSiblingIndex -= 1;\n                lastSibling = siblingNodes.get(lastSiblingIndex);\n            }\n\n            if (lastSibling === focusedTable.get(0) && !focusedTable.parents(\"table\").length) {\n                dom.insertAfter(dom.createEmptyNode(editor.document, \"p\"), focusedTable[0]);\n            }\n        }\n\n        editor._handleSpaceAndNewLines();\n        editor.selectRange(range);\n    }\n});\n\nvar Cleaner = Class.extend({\n    init: function(options) {\n        this.options = options || {};\n        this.replacements = [];\n    },\n\n    clean: function(html, customReplacements) {\n        var that = this,\n            replacements = customReplacements || that.replacements,\n            i, l;\n\n        for (i = 0, l = replacements.length; i < l; i += 2) {\n            html = html.replace(replacements[i], replacements[i + 1]);\n        }\n\n        return html;\n    }\n});\n\nvar ScriptCleaner = Cleaner.extend({\n    init: function(options) {\n        Cleaner.fn.init.call(this, options);\n\n        this.replacements = [\n            /<(\\/?)script([^>]*)>/i, \"<$1telerik:script$2>\"\n        ];\n    },\n\n    applicable: function(html) {\n        return !this.options.none && (/<script[^>]*>/i).test(html);\n    }\n});\n\nvar TabCleaner = Cleaner.extend({\n    init: function(options) {\n        Cleaner.fn.init.call(this, options);\n\n        var replacement = ' ';\n        this.replacements = [\n            /<span\\s+class=\"Apple-tab-span\"[^>]*>\\s*<\\/span>/gi, replacement,\n            /\\t/gi, replacement,\n            /&nbsp;&nbsp; &nbsp;/gi, replacement\n        ];\n    },\n\n    applicable: function(html) {\n        return (/&nbsp;&nbsp; &nbsp;|class=\"?Apple-tab-span/i).test(html);\n    }\n});\n\nvar MSWordFormatCleaner = Cleaner.extend({\n    init: function(options) {\n        Cleaner.fn.init.call(this, options);\n\n        this.junkReplacements = [\n            /<\\?xml[^>]*>/gi, '',\n            /<!--(.|\\n)*?-->/g, '', /* comments */\n            /&quot;/g, \"'\", /* encoded quotes (in attributes) */\n            /<o:p>&nbsp;<\\/o:p>/ig, '&nbsp;',\n            /<\\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\\n)*?<\\/(meta|link|style|o:|v:|x:)[^>]*>)?/ig, '', /* external references and namespaced tags */\n            /<\\/o>/g, ''\n        ];\n        this.replacements = this.junkReplacements.concat([\n            /(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*/g, '$1',\n            /<br><br>/g, '<BR><BR>',\n            /<br>\\n/g, '<br/>',\n            /<br>(?!\\n)/g, ' ',\n            /<table([^>]*)>(\\s|&nbsp;)+<t/gi, '<table$1><t',\n            /<tr[^>]*>(\\s|&nbsp;)*<\\/tr>/gi, '',\n            /<tbody[^>]*>(\\s|&nbsp;)*<\\/tbody>/gi, '',\n            /<table[^>]*>(\\s|&nbsp;)*<\\/table>/gi, '',\n            /<BR><BR>/g, '<br>',\n            /^\\s*(&nbsp;)+/gi, '',\n            /(&nbsp;|<br[^>]*>)+\\s*$/gi, '',\n            /mso-[^;\"]*;?/ig, '', /* office-related CSS attributes */\n            /<(\\/?)b(\\s[^>]*)?>/ig, '<$1strong$2>',\n            /<(\\/?)font(\\s[^>]*)?>/ig, this.convertFontMatch,\n            /<(\\/?)i(\\s[^>]*)?>/ig, '<$1em$2>',\n            /style=([\"|'])\\s*\\1/g, '', /* empty style attributes */\n            /(<br[^>]*>)?\\n/g, function($0, $1) { return $1 ? $0 : ' '; } /* phantom extra line feeds */\n        ]);\n    },\n\n    convertFontMatch: function(match, closing, args) {\n        var faceRe = /face=['\"]([^'\"]+)['\"]/i;\n        var face = faceRe.exec(args);\n        var family = args && face && face[1];\n\n        if (closing) {\n            return '</span>';\n        } else if (family) {\n            return '<span style=\"font-family:' + family + '\">';\n        } else {\n            return '<span>';\n        }\n    },\n\n    applicable: function(html) {\n        return (/class=\"?Mso/i).test(html) ||\n               (/style=\"[^\"]*mso-/i).test(html) ||\n               (/urn:schemas-microsoft-com:office/).test(html);\n    },\n\n    stripEmptyAnchors: function(html) {\n        return html.replace(/<a([^>]*)>\\s*<\\/a>/ig, function(a, attributes) {\n            if (!attributes || attributes.indexOf(\"href\") < 0) {\n                return \"\";\n            }\n\n            return a;\n        });\n    },\n\n    listType: function(p, listData) {\n        var html = p.innerHTML;\n        var text = dom.innerText(p);\n\n        var startingSymbol;\n        var matchSymbol = html.match(/^(?:<span [^>]*texhtml[^>]*>)?<span [^>]*(?:Symbol|Wingdings)[^>]*>([^<]+)/i);\n        var symbol = matchSymbol && matchSymbol[1];\n        var isNumber = /^[a-z\\d]/i.test(symbol);//including alpha-numeric and roman numerals\n\n        var trimStartText = function(text) {\n            return text.replace(/^(?:&nbsp;|[\\u00a0\\n\\r\\s])+/, '');\n        };\n\n        if (matchSymbol) {\n            startingSymbol = true;\n        }\n\n        html = html.replace(/<\\/?\\w+[^>]*>/g, '').replace(/&nbsp;/g, '\\u00a0');\n\n        if ((!startingSymbol && /^[\\u2022\\u00b7\\u00a7\\u00d8o]\\u00a0+/.test(html)) ||\n            (startingSymbol && /^.\\u00a0+/.test(html)) ||\n            (symbol && !isNumber && listData)) {\n            return {\n                tag: 'ul',\n                style: this._guessUnorderedListStyle(trimStartText(text))\n            };\n        }\n\n        if (/^\\s*\\w+[\\.\\)][\\u00a0 ]{2,}/.test(html)) {\n            return {\n                tag: 'ol',\n                style: this._guessOrderedListStyle(trimStartText(text))\n            };\n        }\n    },\n\n    _convertToLi: function(p) {\n        var content;\n\n        if (p.childNodes.length == 1) {\n            content = p.firstChild.nodeType === dom.nodeTypes.TEXT_NODE ? dom.innerText(p) : p.firstChild.innerHTML.replace(/^\\w+[\\.\\)](&nbsp;)+ /, \"\");\n            content = this._checkForBullet(content);\n        } else {\n            content = this._getHtmlNoBullet(p);\n        }\n\n        dom.remove(p);\n\n        return dom.create(document, 'li', { innerHTML: content });\n    },\n\n    _checkForBullet: function(html) {\n        var p = dom.create(document, 'p', { innerHTML: html });\n        var bulletRgx = /^\\s*\\w+[\\.\\)]\\s+/;\n\n        if (bulletRgx.test(p.innerText)) {\n            return this._getHtmlNoBullet(p);\n        }\n\n        return html;\n    },\n\n    _getHtmlNoBullet: function(element) {\n        var content,\n            name = dom.name(element);\n\n        dom.remove(element.firstChild);\n\n        // check for roman numerals\n        if (element.firstChild.nodeType == 3) {\n            if (/^[ivxlcdm]+\\.$/i.test(element.firstChild.nodeValue)) {\n                dom.remove(element.firstChild);\n            }\n        }\n\n        if (/^(&nbsp;|\\s)+$/i.test(element.firstChild.innerHTML)) {\n            dom.remove(element.firstChild);\n        }\n\n        if (name != \"p\") {\n            content = \"<\" + name + \">\" + element.innerHTML + \"</\" + name + \">\";\n        } else {\n            content = element.innerHTML;\n        }\n\n        return content;\n    },\n\n    _guessUnorderedListStyle: function(symbol) {\n        if (/^[\\u2022\\u00b7\\u00FC\\u00D8\\u002dv-]/.test(symbol)) {\n            return null;//return \"disc\"; //default CSS value\n        } else if (/^o/.test(symbol)) {\n            return \"circle\";\n        } else {\n            return \"square\";\n        }\n    },\n    _guessOrderedListStyle: function(symbol) {\n        var listType = null;\n        if (!/^\\d/.test(symbol)) {\n            listType = (/^[a-z]/.test(symbol) ? 'lower-' : 'upper-') +\n                       (/^[ivxlcdm]/i.test(symbol) ? 'roman' : 'alpha');\n        }\n\n        return listType;\n    },\n\n    extractListLevels: function(html) {\n        var msoListRegExp = /style=['\"]?[^'\"]*?mso-list:\\s?[a-zA-Z]+(\\d+)\\s[a-zA-Z]+(\\d+)\\s(\\w+)/gi;\n\n        html = html.replace(msoListRegExp, function(match, list, level) {\n            return kendo.format('data-list=\"{0}\" data-level=\"{1}\" {2}', list, level, match);\n        });\n\n        return html;\n    },\n\n    _createList: function(type, styleType) {\n        return dom.create(document, type, {\n            style: { listStyleType: styleType }\n        });\n    },\n\n    lists: function(placeholder) {\n        var blockChildren = $(placeholder).find(dom.blockElements.join(',')),\n            lastMargin = -1,\n            name,\n            levels = {},\n            li,\n            rootMargin,\n            rootIndex,\n            lastRootLi,\n            isLastRootLi,\n            rootList,\n            i, p, type, margin, list, listData,\n            acceptedNameTags = [\"p\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"],\n            isParentTable = false;\n\n        for (i = 0; i < blockChildren.length; i++) {\n            p = blockChildren[i];\n            listData = $(p).data();\n            var listIndex = listData.list;\n            name = dom.name(p);\n            isParentTable = !!$(p).parents(\"table\").length;\n\n            if (isParentTable) {\n                continue;\n            }\n\n            var listType = this.listType(p, listData);\n            type = listType && listType.tag;\n\n            if (!type || acceptedNameTags.indexOf(name) < 0) {\n                if (!p.innerHTML) {\n                    dom.remove(p);\n                } else if (li && !isLastRootLi) {\n                    li.appendChild(p);\n                }\n                continue;\n            }\n\n            // not supported list levels in ie\n            if (browser.msie) {\n                continue;\n            }\n\n            margin = listData.level || parseFloat(p.style.marginLeft || 0);\n\n            var levelType = type + listIndex;\n            if (!levels[margin]) {\n                levels[margin] = {};\n            }\n\n            if (!rootMargin || rootMargin < 0) {\n                rootMargin = margin;\n                rootIndex = listIndex;\n                lastRootLi = $(placeholder).find(\"[data-list='\" + rootIndex + \"']\").last()[0];\n                rootList = this._createList(type, listType.style);\n                dom.insertBefore(rootList, p);\n                lastMargin = margin;\n                levels[margin][levelType] = rootList;\n            }\n\n            isLastRootLi = lastRootLi === p;\n\n            list = levels[margin][levelType];\n\n            if (margin > lastMargin || !list) {\n                list = this._createList(type, listType.style);\n                levels[margin][levelType] = list;\n                li.appendChild(list);\n            }\n\n            li = this._convertToLi(p);\n            list.appendChild(li);\n\n            if (isLastRootLi) {\n                rootMargin = lastMargin = -1;\n            } else {\n                lastMargin = margin;\n            }\n        }\n    },\n\n    removeAttributes: function(element) {\n        var attributes = element.attributes,\n            i = attributes.length,\n            significantStyles = [],\n            isSignificantCss = function(val) {\n                var significantCss = [\"border\", \"background\", \"padding\"];\n\n                return significantCss.filter(function(cssAttr) {\n                    return val.trim().indexOf(cssAttr) === 0;\n                }).length > 0;\n            },\n            addSignificantStyles = function(val) {\n                if (isSignificantCss(val)) {\n                    significantStyles.push(val.trim());\n                }\n            },\n            attr, attributeName, attributeValues;\n\n        while (i--) {\n            if (dom.name(attributes[i]) != \"colspan\") {\n                attr = attributes[i];\n                attributeName = attr.name;\n\n                if (attributeName === \"style\" && (element.nodeName === \"TD\" || element.nodeName === \"TH\")) {\n                    attributeValues = attr.value.split(\";\");\n                    attributeValues.forEach(addSignificantStyles);\n                }\n\n                element.removeAttributeNode(attributes[i]);\n            }\n        }\n\n        if (significantStyles.length > 0) {\n            element.setAttribute(\"style\", significantStyles.join(\";\"));\n        }\n    },\n\n    createColGroup: function(row) {\n        var cells = row.cells;\n        var table = $(row).closest(\"table\");\n        var colgroup = table.children(\"colgroup\");\n\n        if (cells.length < 2) {\n            return;\n        } else if (colgroup.length) {\n            cells = colgroup.children();\n            colgroup[0].parentNode.removeChild(colgroup[0]);\n        }\n\n        colgroup = $($.map(cells, function(cell) {\n                var width = cell.width;\n                if (width && parseInt(width, 10) !== 0) {\n                    return kendo.format('<col style=\"width:{0}px;\"/>', width);\n                }\n\n                return \"<col />\";\n            }).join(\"\"));\n\n        // jquery 1.9/2.0 discrepancy\n        if (!colgroup.is(\"colgroup\")) {\n            colgroup = $(\"<colgroup/>\").append(colgroup);\n        }\n\n        colgroup.prependTo(table);\n    },\n\n    convertHeaders: function(row) {\n        var cells = row.cells,\n            i,\n            boldedCells = $.map(cells, function(cell) {\n                var child = $(cell).children(\"p\").children(\"strong\")[0];\n\n                if (child && dom.name(child) == \"strong\") {\n                    return child;\n                }\n            });\n\n        if (boldedCells.length == cells.length) {\n            for (i = 0; i < boldedCells.length; i++) {\n                dom.unwrap(boldedCells[i]);\n            }\n\n            $(row).closest(\"table\")\n                .find(\"colgroup\").after(\"<thead></thead>\").end()\n                .find(\"thead\").append(row);\n\n            for (i = 0; i < cells.length; i++) {\n                dom.changeTag(cells[i], \"th\");\n            }\n        }\n    },\n\n    removeParagraphs: function(cells) {\n        var i, j, len, cell, paragraphs;\n\n        for (i = 0; i < cells.length; i++) {\n            this.removeAttributes(cells[i]);\n\n            // remove paragraphs and insert line breaks between them\n            cell = $(cells[i]);\n            paragraphs = cell.children(\"p\");\n\n            for (j = 0, len = paragraphs.length; j < len; j++) {\n                if (j < len - 1) {\n                    dom.insertAfter(dom.create(document, \"br\"), paragraphs[j]);\n                }\n\n                dom.unwrap(paragraphs[j]);\n            }\n        }\n    },\n\n    removeTextNodes: function(trs) {\n        var i, j, childNodes, currentNode, row;\n\n        for (i = 0; i < trs.length; i++) {\n            row = trs[i];\n            childNodes = row.childNodes;\n\n            for (j = 0; j < childNodes.length; j++) {\n                currentNode = childNodes[j];\n\n                if (currentNode.nodeType === dom.nodeTypes.TEXT_NODE) {\n                    row.removeChild(currentNode);\n                }\n            }\n        }\n    },\n\n    tables: function(placeholder) {\n        var tables = $(placeholder).find(\"table\"),\n            that = this,\n            rows,\n            firstRow, longestRow, i, j;\n\n        for (i = 0; i < tables.length; i++) {\n            rows = tables[i].rows;\n            longestRow = firstRow = rows[0];\n\n            for (j = 1; j < rows.length; j++) {\n                if (rows[j].cells.length > longestRow.cells.length) {\n                    longestRow = rows[j];\n                }\n            }\n\n            that.createColGroup(longestRow);\n            that.convertHeaders(firstRow);\n\n            that.removeAttributes(tables[i]);\n\n            that.removeParagraphs(tables.eq(i).find(\"td,th\"));\n\n            that.removeTextNodes(tables.eq(i).find(\"tr\"));\n        }\n    },\n\n    headers: function(placeholder) {\n        var titles = $(placeholder).find(\"p.MsoTitle\");\n\n        for (var i = 0; i < titles.length; i++) {\n            dom.changeTag(titles[i], \"h1\");\n        }\n    },\n\n    removeFormatting: function(placeholder) {\n        $(placeholder).find(\"*\").each(function() {\n            $(this).css({\n                fontSize: \"\",\n                fontFamily: \"\"\n            });\n\n            if (!this.getAttribute(\"style\") && !this.style.cssText) {\n                this.removeAttribute(\"style\");\n            }\n        });\n    },\n\n    clean: function(html) {\n        var that = this, placeholder;\n        var filters = this.options;\n\n        if (filters.none) {\n            html = Cleaner.fn.clean.call(that, html, this.junkReplacements);\n            html = that.stripEmptyAnchors(html);\n        } else {\n\n            html = filters.msConvertLists ? this.extractListLevels(html) : html;\n            html = Cleaner.fn.clean.call(that, html);\n            html = that.stripEmptyAnchors(html);\n\n            placeholder = dom.create(document, 'div', { innerHTML: html });\n            that.headers(placeholder);\n\n            if (filters.msConvertLists) {\n                that.lists(placeholder);\n            }\n            that.tables(placeholder);\n\n            if (filters.msAllFormatting) {\n                that.removeFormatting(placeholder);\n            }\n\n            html = placeholder.innerHTML.replace(/(<[^>]*)\\s+class=\"?[^\"\\s>]*\"?/ig, '$1');\n        }\n\n        return html;\n    }\n});\n\nvar WebkitFormatCleaner = Cleaner.extend({\n    init: function(options) {\n        Cleaner.fn.init.call(this, options);\n\n        this.replacements = [\n            /\\s+class=\"Apple-style-span[^\"]*\"/gi, '',\n            /<(div|p|h[1-6])\\s+style=\"[^\"]*\"/gi, '<$1',\n            /^<div>(.*)<\\/div>$/, '$1'\n        ];\n    },\n\n    applicable: function(html) {\n        return (/class=\"?Apple-style-span|style=\"[^\"]*-webkit-nbsp-mode/i).test(html);\n    }\n});\n\nvar DomCleaner = Cleaner.extend({\n    clean: function(html) {\n        var container = dom.create(document, 'div', { innerHTML: html });\n        container = this.cleanDom(container);\n        return container.innerHTML;\n    },\n\n    cleanDom: function(container) {\n        return container;\n    }\n});\n\nvar HtmlTagsCleaner = DomCleaner.extend({\n    cleanDom: function(container) {\n        var tags = this.collectTags();\n\n        $(container).find(tags).each(function() {\n            dom.unwrap(this);\n        });\n\n        return container;\n    },\n\n    collectTags: function() {\n        if (this.options.span) {\n            return \"span\";\n        }\n    },\n\n    applicable: function() {\n        return this.options.span;\n    }\n});\n\nvar HtmlAttrCleaner = DomCleaner.extend({\n    cleanDom: function(container) {\n        var attributes = this.collectAttr();\n        var nodes = $(container).find(\"[\" + attributes.join(\"],[\") + \"]\");\n        nodes.removeAttr(attributes.join(\" \"));\n\n        return container;\n    },\n\n    collectAttr: function() {\n        if (this.options.css) {\n            return [\"class\", \"style\"];\n        }\n\n        return [];\n    },\n\n    applicable: function() {\n        return this.options.css;\n    }\n});\n\nvar TextContainer = function() {\n    this.text = \"\";\n    this.add = function(text) {\n        this.text += text;\n    };\n};\n\nvar HtmlTextLines = Class.extend({\n    init: function(separators) {\n        this.separators = separators || {\n                text: \" \",\n                line: \"<br/>\"\n            };\n        this.lines = [];\n        this.inlineBlockText = [];\n        this.resetLine();\n    },\n\n    appendText: function(text) {\n        if (text.nodeType === 3) {\n            text = text.nodeValue;\n        }\n\n        this.textContainer.add(text);\n    },\n\n    appendInlineBlockText: function(text) {\n        this.inlineBlockText.push(text);\n    },\n\n    flashInlineBlockText: function() {\n        if (this.inlineBlockText.length) {\n            this.appendText(this.inlineBlockText.join(\" \"));\n            this.inlineBlockText = [];\n        }\n    },\n\n    endLine: function() {\n        this.flashInlineBlockText();\n        this.resetLine();\n    },\n\n    html: function() {\n        var separators = this.separators;\n        var result = \"\";\n        var lines = this.lines;\n\n        this.flashInlineBlockText();\n\n        for (var i = 0, il = lines.length, il1 = il - 1; i < il; i++) {\n            var line = lines[i];\n            for (var j = 0, jl = line.length, jl1 = jl - 1; j < jl; j++) {\n                var text = line[j].text;\n                result += text;\n                if (j !== jl1) {\n                    result += separators.text;\n                }\n            }\n            if (i !== il1) {\n                result += separators.line;\n            }\n        }\n\n        return result;\n    },\n\n    resetLine: function() {\n        this.textContainer = new TextContainer();\n        this.line = [];\n        this.line.push(this.textContainer);\n        this.lines.push(this.line);\n    }\n});\n\nvar DomEnumerator = Class.extend({\n    init: function(callback) {\n        this.callback = callback;\n    },\n    enumerate: function(node) {\n        if (!node) {\n            return;\n        }\n\n        var preventDown = this.callback(node);\n\n        var child = node.firstChild;\n        if (!preventDown && child) {\n            this.enumerate(child);\n        }\n\n        this.enumerate(node.nextSibling);\n    }\n});\n\nvar HtmlContentCleaner = Cleaner.extend({\n    init: function(options) {\n        Cleaner.fn.init.call(this, options);\n        this.hasText = false; //unpleasant flag to prevent an empty line at the beginning of the generated content.\n        this.enumerator = new DomEnumerator(this.buildText.bind(this));\n    },\n\n    clean: function(html) {\n        var container = dom.create(document, 'div', { innerHTML: html });\n\n        return this.cleanDom(container);\n    },\n\n    cleanDom: function(container) {\n        this.separators = this.getDefaultSeparators();\n        this.htmlLines = new HtmlTextLines(this.separators);\n        this.enumerator.enumerate(container.firstChild);\n        this.hasText = false;\n\n        return this.htmlLines.html();\n    },\n\n    buildText: function(node) {\n        if (dom.isDataNode(node)) {\n            if (dom.isEmptyspace(node)) {\n                return;\n            }\n            this.htmlLines.appendText(node.nodeValue.replace('\\n', this.separators.line));\n            this.hasText = true;\n        } else if (dom.isBlock(node) && this.hasText) {\n            var action = this.actions[dom.name(node)] || this.actions.block;\n            return action(this, node);\n        } else if (dom.isBr(node)) {\n            this.htmlLines.appendText(this.separators.line);\n        }\n    },\n\n    applicable: function() {\n        var o = this.options;\n        return o.all || o.keepNewLines;\n    },\n\n    getDefaultSeparators: function() {\n        if (this.options.all) {\n            return { text: \" \", line: \" \" };\n        } else {\n            return { text: \" \", line: \"<br/>\" };\n        }\n    },\n\n    actions: {\n        ul: $.noop,\n        ol: $.noop,\n        table: $.noop,\n        thead: $.noop,\n        tbody: $.noop,\n        td: function(cleaner, node) {\n            var tdCleaner = new HtmlContentCleaner({ all: true });\n\n            var cellText = tdCleaner.cleanDom(node);\n            cleaner.htmlLines.appendInlineBlockText(cellText);\n\n            return true;\n        },\n\n        block: function(cleaner) {\n            cleaner.htmlLines.endLine();\n        }\n    }\n});\n\nvar CustomCleaner = Cleaner.extend({\n    clean: function(html) {\n        return this.options.custom(html);\n    },\n\n    applicable: function() {\n        return typeof(this.options.custom) === \"function\";\n    }\n});\n\nextend(editorNS, {\n    Clipboard: Clipboard,\n    Cleaner: Cleaner,\n    ScriptCleaner: ScriptCleaner,\n    TabCleaner: TabCleaner,\n    MSWordFormatCleaner: MSWordFormatCleaner,\n    WebkitFormatCleaner: WebkitFormatCleaner,\n    HtmlTagsCleaner: HtmlTagsCleaner,\n    HtmlAttrCleaner: HtmlAttrCleaner,\n    HtmlContentCleaner: HtmlContentCleaner,\n    HtmlTextLines: HtmlTextLines,\n    CustomCleaner: CustomCleaner\n});\n\n})(window.kendo.jQuery);\n","import \"../command.js\";\n\n(function($) {\n\n// Imports ================================================================\nvar kendo = window.kendo,\n    Class = kendo.Class,\n    editorNS = kendo.ui.editor,\n    RangeUtils = editorNS.RangeUtils,\n    dom = editorNS.Dom,\n    RestorePoint = editorNS.RestorePoint,\n    Marker = editorNS.Marker,\n    browser = kendo.support.browser,\n    bomSpan = \"<span  class='k-br'>\\ufeff</span>\",\n    extend = $.extend;\nvar nodeTypes = dom.nodeTypes;\nvar PREVIOUS_SIBLING = \"previousSibling\";\n\nfunction selected(node, range) {\n    return range.startContainer === node && range.endContainer === node &&\n        range.startOffset === 0 && range.endOffset == node.childNodes.length;\n}\n\nfunction getSibling(node, direction, condition) {\n    var sibling = node ? node[direction] : null;\n\n    while (sibling && !condition(sibling)) {\n        sibling = sibling[direction];\n    }\n\n    return sibling;\n}\n\nvar tableCells = \"td,th,caption\";\nvar tableCellsWrappers = \"table,tbody,thead,tfoot,tr\";\nvar tableElements = tableCellsWrappers + \",\" + tableCells;\nvar inTable = function(range) { return !range.collapsed && $(range.commonAncestorContainer).is(tableCellsWrappers); };\n\nvar RemoveTableContent = Class.extend({\n    remove: function(range) {\n        var that = this;\n        var marker = new Marker();\n        marker.add(range, false);\n\n        var nodes = RangeUtils.getAll(range, function(node) { return $(node).is(tableElements); });\n        var doc = RangeUtils.documentFromRange(range);\n        var start = marker.start;\n        var end = marker.end;\n        var cellsTypes = tableCells.split(\",\");\n        var startCell = dom.parentOfType(start, cellsTypes);\n        var endCell = dom.parentOfType(end, cellsTypes);\n        that._removeContent(start, startCell, true);\n        that._removeContent(end, endCell, false);\n        $(nodes).each(function(i, node) {\n            node = $(node);\n            (node.is(tableCells) ? node : node.find(tableCells)).each(function(j, cell) {\n                cell.innerHTML = \"&#65279;\";\n            });\n        });\n        if (startCell && !start.previousSibling) {\n            dom.insertBefore(doc.createTextNode(\"\\ufeff\"), start);\n        }\n        if (endCell && !end.nextSibling) {\n            dom.insertAfter(doc.createTextNode(\"\\ufeff\"), end);\n        }\n        if (startCell) {\n            range.setStartBefore(start);\n        } else if (nodes[0]) {\n            startCell = $(nodes[0]);\n            startCell = startCell.is(tableCells) ? startCell : startCell.find(tableCells).first();\n            if (startCell.length) {\n                range.setStart(startCell.get(0), 0);\n            }\n        }\n\n        range.collapse(true);\n\n        dom.remove(start);\n        dom.remove(end);\n    },\n    _removeContent: function(start, top, forwards) {\n        if (top) {\n            var sibling = forwards ? \"nextSibling\" : \"previousSibling\",\n                next,\n                getNext = function(node) {\n                    while (node && !node[sibling]) {\n                        node = node.parentNode;\n                    }\n                    return node && $.contains(top, node) ? node[sibling] : null;\n                };\n            start = getNext(start);\n            while (start) {\n                next = getNext(start);\n                dom.remove(start);\n                start = next;\n            }\n        }\n    }\n});\n\nvar TypingHandler = Class.extend({\n    init: function(editor) {\n        this.editor = editor;\n    },\n\n    keydown: function(e) {\n        var that = this,\n            editor = that.editor,\n            keyboard = editor.keyboard,\n            isTypingKey = keyboard.isTypingKey(e),\n            evt = extend($.Event(), e);\n\n        that.editor.trigger(\"keydown\", evt);\n\n        if (evt.isDefaultPrevented() || (e && e.isDefaultPrevented())) {\n            e.preventDefault();\n            return true;\n        }\n\n        if (!evt.isDefaultPrevented() && isTypingKey && !keyboard.isTypingInProgress()) {\n            var range = editor.getRange();\n            var body = editor.body;\n            that.startRestorePoint = new RestorePoint(range, body);\n\n            if (inTable(range)) {\n                var removeTableContent = new RemoveTableContent(editor);\n                removeTableContent.remove(range);\n                editor.selectRange(range);\n            }\n\n            if (browser.webkit && !range.collapsed && selected(body, range)) {\n                body.innerHTML = \"\";\n            }\n\n            if (editor.immutables && editorNS.Immutables.immutablesContext(range)) {\n                var backspaceHandler = new editorNS.BackspaceHandler(editor);\n                backspaceHandler.deleteSelection(range);\n            }\n\n            keyboard.startTyping(function() {\n                that._removeBomSpan();\n                that.endRestorePoint = editorNS._finishUpdate(editor, that.startRestorePoint);\n            });\n\n            return true;\n        }\n\n        return false;\n    },\n\n    keyup: function(e) {\n        var keyboard = this.editor.keyboard;\n\n        this.editor.trigger(\"keyup\", e);\n\n        if (keyboard.isTypingInProgress()) {\n            keyboard.endTyping();\n            return true;\n        }\n\n        return false;\n    },\n\n    _removeBomSpan: function() {\n        var node = this.editor.getRange().commonAncestorContainer;\n\n        if (!dom.emptyNode(node)) {\n            if (node.nodeType === 3) {\n                node = node.parentNode;\n            }\n\n            if (dom.insignificant(node)) {\n                // typing in an insignificant node\n                // make it significant\n                node.textContent = dom.stripBom(node.textContent);\n                dom.unwrap(node);\n            }\n        }\n    }\n});\n\nvar BackspaceHandler = Class.extend({\n    init: function(editor) {\n        this.editor = editor;\n    },\n    _addCaret: function(container) {\n        var caret = dom.create(this.editor.document, \"a\");\n\n        // Only if not Chrome: Make sure to include cared in the formatted inline node\n        if (!kendo.support.browser.chrome && container.firstChild &&\n            container.firstChild.nodeType === nodeTypes.ELEMENT_NODE) {\n\n            container = container.firstChild;\n        }\n\n        dom.insertAt(container, caret, 0);\n        dom.stripBomNode(caret.previousSibling);\n        dom.stripBomNode(caret.nextSibling);\n        return caret;\n    },\n    _restoreCaret: function(caret) {\n        var range = this.editor.createRange();\n\n        if (!caret.nextSibling && dom.isDataNode(caret.previousSibling)) {\n            range.setStart(caret.previousSibling, caret.previousSibling.length);\n        } else {\n            range.setStartAfter(caret);\n        }\n\n        range.collapse(true);\n        this.editor.selectRange(range);\n        dom.remove(caret);\n    },\n    _handleDelete: function(range) {\n        var node = range.endContainer;\n        var block = dom.closestEditableOfType(node, dom.blockElements);\n\n        if (block && editorNS.RangeUtils.isEndOf(range, block)) {\n            // join with next sibling\n            var next = dom.next(block);\n            if (!next || dom.name(next) != \"p\") {\n                return false;\n            }\n\n            var caretPlaceholder = dom.significantChildNodes(next)[0];\n            caretPlaceholder = (caretPlaceholder && dom.isInline(caretPlaceholder)) ? caretPlaceholder : next;\n            var caret = this._addCaret(caretPlaceholder);\n\n            this._merge(block, next);\n\n            this._restoreCaret(caret);\n\n            return true;\n        }\n\n        return false;\n    },\n    _cleanBomBefore: function(range) {\n        var offset = range.startOffset;\n        var node = range.startContainer;\n        var text = node.nodeValue;\n        var count = 0;\n        while (offset - count >= 0 && text[offset - count - 1] == \"\\ufeff\") {\n            count++;\n        }\n\n        if (count > 0) {\n            node.deleteData(offset - count, count);\n\n            range.setStart(node, Math.max(0, offset - count));\n            range.collapse(true);\n\n            this.editor.selectRange(range);\n        }\n    },\n    _handleBackspace: function(range) {\n        var node = range.startContainer;\n        var li = dom.closestEditableOfType(node, ['li']);\n        var block = dom.closestEditableOfType(node, 'p,h1,h2,h3,h4,h5,h6'.split(','));\n        var editor = this.editor;\n        var previousSibling;\n\n        if (dom.isDataNode(node)) {\n            if (range.collapsed && /^\\s[\\ufeff]+$/.test(node.nodeValue)) {\n                range.setStart(node, 0);\n                range.setEnd(node, node.length);\n                editor.selectRange(range);\n                return false;\n            }\n            this._cleanBomBefore(range);\n        }\n\n        previousSibling = getSibling(block, PREVIOUS_SIBLING, function(sibling) {\n            return !dom.htmlIndentSpace(sibling);\n        });\n\n        //deleting the first list item with empty content in IE results in invalid range\n        if (range.collapsed && range.startOffset !== range.endOffset && range.startOffset < 0) {\n            range.startOffset = 0;\n            range.endOffset = 0;\n            editor.selectRange(range);\n        }\n\n        var startAtLi = li && editorNS.RangeUtils.isStartOf(range, li);\n        var liIndex = li && $(li).index();\n        var startAtNonFirstLi = startAtLi && liIndex > 0;\n        if (startAtNonFirstLi) {\n            block = li;\n            previousSibling = dom.prev(li);\n        }\n\n        if (block && previousSibling && dom.is(previousSibling, 'table') && editorNS.RangeUtils.isStartOf(range, block)) {\n            if (block.innerText === '') {\n                block.innerHTML = '\\ufeff';\n            }\n            return true;\n        }\n\n        // outdent\n        if (editorNS.RangeUtils.isStartOf(range, block) && parseInt(block.style.marginLeft,10) > 0) {\n            editor.exec(\"outdent\");\n            return true;\n        }\n\n        // unwrap block\n        if ((block && previousSibling && editorNS.RangeUtils.isStartOf(range, block)) || startAtNonFirstLi) {\n            var caretPlaceholder = dom.significantChildNodes(block)[0];\n            caretPlaceholder = (caretPlaceholder && dom.isInline(caretPlaceholder) && !dom.isImg(caretPlaceholder)) ? caretPlaceholder : block;\n\n            var caret = this._addCaret(caretPlaceholder);\n            this._merge(previousSibling, block);\n            this._restoreCaret(caret);\n\n            return true;\n        }\n\n        // unwrap li element\n        if (startAtLi && liIndex === 0) {\n            var child = li.firstChild;\n            if (!child) {\n                li.innerHTML = editorNS.emptyElementContent;\n                child = li.firstChild;\n            }\n\n            var formatter = new editorNS.ListFormatter(dom.name(li.parentNode), \"p\");\n            range.selectNodeContents(li);\n            formatter.toggle(range);\n\n            if (dom.insignificant(child)) {\n                range.setStartBefore(child);\n            } else {\n                range.setStart(child, 0);\n            }\n\n            editor.selectRange(range);\n\n            return true;\n        }\n\n        var rangeStartNode = node.childNodes[range.startOffset - 1];\n        var linkRange = range;\n        var anchor = rangeStartNode && dom.closestEditableOfType(rangeStartNode, ['a']);\n        var previousNode = getSibling(rangeStartNode || node, PREVIOUS_SIBLING, function(sibling) {\n            return !dom.isDataNode(sibling) || (!dom.isBom(sibling) && sibling.length > 0);\n        });\n        if (anchor || ((range.startOffset === 0 || rangeStartNode) && dom.is(previousNode, \"a\"))) {\n            anchor = anchor || previousNode;\n            linkRange = editor.createRange();\n            linkRange.setStart(anchor, anchor.childNodes.length);\n            linkRange.collapse(true);\n        }\n\n        anchor = anchor || dom.closestEditableOfType(rangeStartNode || linkRange.startContainer, ['a']);\n        var isEndOfLink = anchor && editorNS.RangeUtils.isEndOf(linkRange, anchor);\n        if (isEndOfLink) {\n            var command = new editorNS.UnlinkCommand({ range: linkRange, body: editor.body, immutables: !!editor.immutables });\n            editor.execCommand(command);\n            editor._selectionChange();\n        }\n        return false;\n    },\n    _handleSelection: function(range) {\n        var ancestor = range.commonAncestorContainer;\n        var table = dom.closest(ancestor, \"table\");\n        var emptyParagraphContent = editorNS.emptyElementContent;\n        var editor = this.editor;\n        var parentElementOrNode;\n\n        if (inTable(range)) {\n            var removeTableContent = new RemoveTableContent(editor);\n            removeTableContent.remove(range);\n            editor.selectRange(range);\n            return true;\n        }\n\n        var marker = new Marker();\n        marker.add(range, false);\n\n        if (range.commonAncestorContainer === editor.body) {\n            this._surroundFullyContent(marker, range);\n        }\n\n        if (editor.immutables) {\n            this._handleImmutables(marker);\n        }\n\n        this._surroundFullySelectedAnchor(marker, range);\n\n        range.setStartAfter(marker.start);\n        range.setEndBefore(marker.end);\n\n        var start = range.startContainer;\n        var end = range.endContainer;\n\n        range.deleteContents();\n\n        if (end.tagName.toLocaleLowerCase() === \"li\" && dom.emptyNode(end)) {\n            range.selectNode(end);\n            range.deleteContents();\n        }\n\n        if (table && $(table).text() === \"\") {\n            range.selectNode(table);\n            range.deleteContents();\n        }\n\n        ancestor = range.commonAncestorContainer;\n\n        if (dom.name(ancestor) === \"p\" && ancestor.innerHTML === \"\") {\n            ancestor.innerHTML = emptyParagraphContent;\n            range.setStart(ancestor, 0);\n        }\n\n        this._join(start, end);\n\n        dom.insertAfter(editor.document.createTextNode(\"\\ufeff\"), marker.start);\n        marker.remove(range);\n\n        start = range.startContainer;\n        if (dom.name(start) == \"tr\") {\n            start = start.childNodes[Math.max(0, range.startOffset - 1)];\n            range.setStart(start, dom.getNodeLength(start));\n        }\n\n        range.collapse(true);\n\n        editor.selectRange(range);\n\n        parentElementOrNode = start.parentElement || start.parentNode;\n\n        if (dom.isDataNode(start) && !dom.emptyNode(parentElementOrNode)) {\n            this._cleanBomBefore(range);\n        }\n\n        return true;\n    },\n    _handleImmutables: function(marker) {\n        var immutableParent = editorNS.Immutables.immutableParent;\n        var startImmutable = immutableParent(marker.start);\n        var endImmutable = immutableParent(marker.start);\n        if (startImmutable) {\n            dom.insertBefore(marker.start, startImmutable);\n        }\n        if (endImmutable) {\n            dom.insertAfter(marker.end, endImmutable);\n        }\n        if (startImmutable) {\n            dom.remove(startImmutable);\n        }\n        if (endImmutable && endImmutable.parentNode) {\n            dom.remove(endImmutable);\n        }\n    },\n    _surroundFullyContent: function(marker, range) {\n        var children = range.commonAncestorContainer.children,\n            startParent = children[0],\n            endParent = children[children.length - 1];\n\n        this._moveMarker(marker, range, startParent, endParent);\n    },\n    _surroundFullySelectedAnchor: function(marker, range) {\n        var start = marker.start,\n            startParent = $(start).closest(\"a\").get(0),\n            end = marker.end,\n            endParent = $(end).closest(\"a\").get(0);\n\n        this._moveMarker(marker, range, startParent, endParent);\n    },\n    _moveMarker: function(marker, range, startParent, endParent) {\n        var start = marker.start,\n            end = marker.end;\n\n        if (startParent && RangeUtils.isStartOf(range, startParent)) {\n            dom.insertBefore(start, startParent);\n        }\n\n        if (endParent && RangeUtils.isEndOf(range, endParent)) {\n            dom.insertAfter(end, endParent);\n        }\n    },\n    _root: function(node) {\n        while (node && dom.name(node) != \"body\" && node.parentNode && dom.name(node.parentNode) != \"body\") {\n            node = node.parentNode;\n        }\n\n        return node;\n    },\n    _join: function(start, end) {\n        start = this._root(start);\n        end = this._root(end);\n\n        if (start != end && dom.is(end, \"p\")) {\n            this._merge(start, end);\n        }\n    },\n    _merge: function(dest, src) {\n        dom.removeTrailingBreak(dest);\n\n        while (dest && src.firstChild) {\n            if (dest.nodeType == 1) {\n                dest = dom.list(dest) ? dest.children[dest.children.length - 1] : dest;\n\n                if (dest) {\n                    dest.appendChild(src.firstChild);\n                }\n            } else if (dest.nodeType === nodeTypes.TEXT_NODE) {\n                this._mergeWithTextNode(dest, src.firstChild);\n            } else {\n                dest.parentNode.appendChild(src.firstChild);\n            }\n        }\n\n        dom.remove(src);\n    },\n\n    _mergeWithTextNode: function(textNode, appendedNode) {\n        if (textNode && textNode.nodeType === nodeTypes.TEXT_NODE) {\n            if (textNode.nextSibling && this._isCaret(textNode.nextSibling)) {\n                dom.insertAfter(appendedNode, textNode.nextSibling);\n            }\n            else {\n                dom.insertAfter(appendedNode, textNode);\n            }\n        }\n    },\n\n    _isCaret: function(element) {\n        return $(element).is(\"a\");\n    },\n\n    keydown: function(e) {\n        var method, startRestorePoint;\n        var editor = this.editor;\n        var range = editor.getRange();\n        var keyCode = e.keyCode;\n        var keys = kendo.keys;\n        var backspace = keyCode === keys.BACKSPACE;\n        var del = keyCode == keys.DELETE;\n\n        if (editor.immutables && editor.immutables.keydown(e, range)) {\n            return;\n        }\n\n        if ((backspace || del) && !range.collapsed) {\n            method = \"_handleSelection\";\n        } else if (backspace) {\n            method = \"_handleBackspace\";\n        } else if (del) {\n            method = \"_handleDelete\";\n        }\n\n        if (!method) {\n            return;\n        }\n\n        startRestorePoint = new RestorePoint(range, editor.body);\n\n        if (this[method](range)) {\n            e.preventDefault();\n\n            editorNS._finishUpdate(editor, startRestorePoint);\n        }\n    },\n    deleteSelection: function(range) {\n        this._handleSelection(range);\n    },\n    keyup: $.noop\n});\n\nvar SystemHandler = Class.extend({\n    init: function(editor) {\n        this.editor = editor;\n        this.systemCommandIsInProgress = false;\n    },\n\n    createUndoCommand: function() {\n        this.startRestorePoint = this.endRestorePoint = editorNS._finishUpdate(this.editor, this.startRestorePoint);\n    },\n\n    changed: function() {\n        if (this.startRestorePoint) {\n            return this.startRestorePoint.html != this.editor.body.innerHTML;\n        }\n\n        return false;\n    },\n\n    keydown: function(e) {\n        var that = this,\n            editor = that.editor,\n            keyboard = editor.keyboard;\n\n        if (keyboard.isModifierKey(e)) {\n\n            if (keyboard.isTypingInProgress()) {\n                keyboard.endTyping(true);\n            }\n\n            that.startRestorePoint = new RestorePoint(editor.getRange(), editor.body);\n            return true;\n        }\n\n        if (keyboard.isSystem(e)) {\n            that.systemCommandIsInProgress = true;\n\n            if (that.changed()) {\n                that.systemCommandIsInProgress = false;\n                that.createUndoCommand();\n            }\n\n            return true;\n        }\n\n        return false;\n    },\n\n    keyup: function() {\n        var that = this;\n\n        if (that.systemCommandIsInProgress && that.changed()) {\n            that.systemCommandIsInProgress = false;\n            that.createUndoCommand();\n            return true;\n        }\n\n        return false;\n    }\n});\n\nvar SelectAllHandler = Class.extend({\n    init: function(editor) {\n        this.editor = editor;\n    },\n\n    keydown: function(e) {\n        if (!browser.webkit || e.isDefaultPrevented() ||\n            !(e.ctrlKey && e.keyCode == 65 && !e.altKey && !e.shiftKey)) {\n            return;\n        }\n        if (this.editor.options.immutables) {\n            this._toSelectableImmutables();\n        }\n        this._selectEditorBody();\n    },\n\n    _selectEditorBody: function() {\n        var editor = this.editor;\n        var range = editor.getRange();\n        range.selectNodeContents(editor.body);\n\n        setTimeout(function() {\n            editor.selectRange(range);\n        });\n    },\n\n    _toSelectableImmutables: function() {\n        var editor = this.editor,\n            body = editor.body,\n            immutable = editorNS.Immutables.immutable,\n            emptyTextNode = dom.emptyTextNode,\n            first = body.firstChild,\n            last = body.lastChild;\n\n        while (emptyTextNode(first)) {\n            first = first.nextSibling;\n        }\n\n        while (emptyTextNode(last)) {\n            last = last.previousSibling;\n        }\n\n        if (first && immutable(first)) {\n            $(bomSpan).prependTo(body);\n        }\n\n        if (last && immutable(last)) {\n            $(bomSpan).appendTo(body);\n        }\n    },\n\n    keyup: $.noop\n});\n\nvar Keyboard = Class.extend({\n    init: function(handlers) {\n        this.handlers = handlers;\n        this.typingInProgress = false;\n    },\n\n    isCharacter: function(keyCode) {\n        return (keyCode >= 48 && keyCode <= 90) || (keyCode >= 96 && keyCode <= 111) ||\n               (keyCode >= 186 && keyCode <= 192) || (keyCode >= 219 && keyCode <= 222) ||\n               keyCode == 229;\n    },\n\n    toolFromShortcut: function(tools, e) {\n        var key = String.fromCharCode(e.keyCode),\n            toolName,\n            toolOptions,\n            modifier = this._getShortcutModifier(e, navigator.platform);\n\n        for (toolName in tools) {\n            toolOptions = $.extend({ ctrl: false, alt: false, shift: false }, tools[toolName].options);\n\n            if ((toolOptions.key == key || toolOptions.key == e.keyCode) &&\n                toolOptions.ctrl == modifier &&\n                toolOptions.alt == e.altKey &&\n                toolOptions.shift == e.shiftKey) {\n                return toolName;\n            }\n        }\n    },\n\n    _getShortcutModifier: function(e, platform) {\n        var mac = platform.toUpperCase().indexOf('MAC') >= 0;\n        return mac ? e.metaKey : e.ctrlKey;\n    },\n\n    toolsFromShortcut: function(tools, e) {\n        var key = String.fromCharCode(e.keyCode),\n            toolName,\n            o,\n            matchesKey,\n            found = [];\n        var matchKey = function(toolKey) { return toolKey == key || toolKey == e.keyCode || toolKey == e.charCode; };\n\n        for (toolName in tools) {\n            o = $.extend({ ctrl: false, alt: false, shift: false }, tools[toolName].options);\n\n            matchesKey = Array.isArray(o.key) ? $.grep(o.key, matchKey).length > 0 : matchKey(o.key);\n            if (matchesKey &&\n                o.ctrl == e.ctrlKey &&\n                o.alt == e.altKey &&\n                o.shift == e.shiftKey) {\n                found.push(tools[toolName]);\n            }\n        }\n\n        return found;\n    },\n\n    isTypingKey: function(e) {\n        var keyCode = e.keyCode;\n        return (this.isCharacter(keyCode) && !e.ctrlKey && !e.altKey) ||\n               keyCode == 32 || keyCode == 13 || keyCode == 8 ||\n               (keyCode == 46 && !e.shiftKey && !e.ctrlKey && !e.altKey);\n    },\n\n    isModifierKey: function(e) {\n        var keyCode = e.keyCode;\n        return (keyCode == 17 && !e.shiftKey && !e.altKey) ||\n               (keyCode == 16 && !e.ctrlKey && !e.altKey) ||\n               (keyCode == 18 && !e.ctrlKey && !e.shiftKey);\n    },\n\n    isSystem: function(e) {\n        return e.keyCode == 46 && e.ctrlKey && !e.altKey && !e.shiftKey;\n    },\n\n    startTyping: function(callback) {\n        this.onEndTyping = callback;\n        this.typingInProgress = true;\n    },\n\n    stopTyping: function() {\n        if (this.typingInProgress && this.onEndTyping) {\n            this.onEndTyping();\n        }\n        this.typingInProgress = false;\n    },\n\n    endTyping: function(force) {\n        var that = this;\n        that.clearTimeout();\n        if (force) {\n            that.stopTyping();\n        } else {\n            that.timeout = window.setTimeout(that.stopTyping.bind(that), 1000);\n        }\n    },\n\n    isTypingInProgress: function() {\n        return this.typingInProgress;\n    },\n\n    clearTimeout: function() {\n        window.clearTimeout(this.timeout);\n    },\n\n    notify: function(e, what) {\n        var i, handlers = this.handlers;\n\n        for (i = 0; i < handlers.length; i++) {\n            if (handlers[i][what](e)) {\n                break;\n            }\n        }\n    },\n\n    keydown: function(e) {\n        this.notify(e, 'keydown');\n    },\n\n    keyup: function(e) {\n        this.notify(e, 'keyup');\n    }\n});\n\nextend(editorNS, {\n    TypingHandler: TypingHandler,\n    SystemHandler: SystemHandler,\n    BackspaceHandler: BackspaceHandler,\n    SelectAllHandler: SelectAllHandler,\n    Keyboard: Keyboard\n});\n\n})(window.kendo.jQuery);\n","import \"../command.js\";\n\n(function($) {\n\n    // Imports ================================================================\n    var kendo = window.kendo,\n        editorNS = kendo.ui.editor,\n        Command = editorNS.Command,\n        EditorUtils = editorNS.EditorUtils,\n        registerTool = EditorUtils.registerTool,\n        Tool = editorNS.Tool,\n        extend = $.extend;\n\nvar ExportPdfCommand = Command.extend({\n    init: function(options) {\n        this.async = true;\n        Command.fn.init.call(this, options);\n    },\n\n    exec: function() {\n        var that = this;\n        var range = that.lockRange(true);\n        var editor = that.editor;\n\n        editor._destroyResizings();\n\n        editor.saveAsPDF().then(function() {\n            that.releaseRange(range);\n            editor._initializeColumnResizing();\n            editor._initializeRowResizing();\n            editor._initializeElementResizing();\n        });\n    }\n});\n\nextend(editorNS, {\n    ExportPdfCommand: ExportPdfCommand\n});\n\nregisterTool(\"pdf\", new Tool({ command: ExportPdfCommand }));\n\n})(window.kendo.jQuery);\n","import \"../command.js\";\n\n(function($) {\n\n    // Imports ================================================================\n    var kendo = window.kendo,\n        editorNS = kendo.ui.editor,\n        Command = editorNS.Command,\n        EditorUtils = editorNS.EditorUtils,\n        registerTool = EditorUtils.registerTool,\n        Tool = editorNS.Tool,\n        extend = $.extend;\n\nvar PrintCommand = Command.extend({\n    init: function(options) {\n        Command.fn.init.call(this, options);\n\n        this.managesUndoRedo = true;\n    },\n\n    exec: function() {\n        var editor = this.editor;\n\n        if (kendo.support.browser.msie) {\n            editor.document.execCommand(\"print\", false, null);\n        } else if (editor.window.print) {\n            editor.window.print();\n        }\n    }\n});\n\nextend(editorNS, {\n    PrintCommand: PrintCommand\n});\n\nregisterTool(\"print\", new Tool({ command: PrintCommand }));\n\n})(window.kendo.jQuery);\n","import \"../command.js\";\n\n(function($) {\n\nvar kendo = window.kendo,\n    Editor = kendo.ui.editor,\n    Tool = Editor.Tool,\n    Command = Editor.Command,\n    EditorUtils = Editor.EditorUtils,\n    dom = Editor.Dom,\n    RangeUtils = Editor.RangeUtils,\n    registerTool = EditorUtils.registerTool;\n\nvar CopyFormatCommand = Command.extend({\n    init: function(options) {\n        Command.fn.init.call(this, options);\n    },\n\n    exec: function() {\n        var range = this.lockRange(true);\n        this.inlineStyles = [];\n        this.blockStyles = [];\n        this.collectStyles(range);\n        this.editor.inlineStyles = this.inlineStyles;\n        this.editor.blockStyles = this.blockStyles;\n        this.releaseRange(range);\n    },\n\n    collectStyles: function(range) {\n        var rangeNodes = RangeUtils.nodes(range);\n        var node;\n\n        if (rangeNodes.length === 1) {\n            node = rangeNodes[0].parentNode;\n        } else {\n            node = range.startContainer;\n        }\n\n        while (node && !dom.is(node, \"body\") && node.getAttribute(\"data-role\") !== \"editor\") {\n            if (dom.isBlock(node)) {\n                this.populateStyles(node, \"blockStyles\");\n                if (dom.is(node, \"li\")) {\n                    node = node.parentNode;\n                } else {\n                    node = null;\n                }\n            } else {\n                this.populateStyles(node, \"inlineStyles\");\n                node = node.parentNode;\n            }\n        }\n    },\n\n    populateStyles: function(node, destination) {\n        var styles = node.style;\n        var attributes = node.attributes;\n        var nodeStyles = {\n            tags: [ node.tagName ],\n            attr: {\n                style: {}\n            }\n        };\n        var styleValue, styleKey, attributeKey, attributeValue, i;\n\n        if (styles) {\n            for (i = 0; i < styles.length; i++) {\n                styleKey = styles[i];\n                styleValue = styles[styleKey];\n                nodeStyles.attr.style[styleKey] = styleValue;\n            }\n        }\n\n        if (attributes) {\n            for (i = 0; i < attributes.length; i++) {\n                attributeKey = attributes[i].nodeName;\n                attributeValue = attributes[i].nodeValue;\n                if (attributeKey === \"style\") {\n                    continue;\n                } else if (attributeKey === \"class\") {\n                    nodeStyles.attr.className = attributeValue;\n                } else {\n                    nodeStyles.attr[attributeKey] = attributeValue;\n                }\n            }\n        }\n\n        this[destination].push(nodeStyles);\n    }\n});\n\nvar ApplyFormatCommand = Command.extend({\n    init: function(options) {\n        Command.fn.init.call(this, options);\n    },\n\n    exec: function() {\n        var range = this.lockRange(true);\n        var markers = RangeUtils.getMarkers(range);\n        var editor = this.editor;\n        var inlineStyles = editor.inlineStyles;\n        var blockStyles = editor.blockStyles;\n        var nodes;\n\n        if ((!inlineStyles || inlineStyles.length === 0) && (!blockStyles || blockStyles.length === 0)) {\n            return;\n        }\n\n        if (markers.length === 3) {\n            this.marker.removeCaret(range);\n            this.marker.caret = null;\n        }\n\n        this.removeEmptyElementsFromRange(range);\n        nodes = RangeUtils.nodes(range);\n        this.cleanInlineParents(nodes);\n        dom.normalize(range.commonAncestorContainer);\n\n        if (markers.length === 2) {\n            range.setStartAfter(markers[0]);\n            range.setEndBefore(markers[1]);\n        } else {\n            range.setStartBefore(nodes[0]);\n            range.setEndAfter(nodes[0]);\n        }\n\n        nodes = RangeUtils.nodes(range);\n\n        if (nodes && blockStyles && blockStyles.length) {\n            this.applyBlockStyles(nodes, blockStyles);\n        }\n\n        if (nodes && inlineStyles && inlineStyles.length) {\n            this.applyInlineStyles(nodes, inlineStyles);\n        }\n\n        this.releaseRange(range);\n    },\n\n    removeEmptyElementsFromRange: function(range) {\n        var isEmptyInline = function(node) {\n            return dom.isInline(node) && !node.firstChild && !dom.isMarker(node);\n        };\n        var emptyElements, i;\n\n        emptyElements = RangeUtils.getAll(range, isEmptyInline);\n\n        if (emptyElements && emptyElements.length > 0) {\n            for (i = 0; i < emptyElements.length; i++) {\n                emptyElements[i].parentNode.removeChild(emptyElements[i]);\n            }\n        }\n    },\n\n    cleanInlineParents: function(nodes) {\n        var i, node, parent, children, j, child, newNode;\n\n        for (i = 0; i < nodes.length; i++) {\n            node = nodes[i];\n            parent = node.parentNode;\n\n            if (this.immutableParent(node)) {\n                continue;\n            }\n\n            while (parent && dom.isInline(parent)) {\n                children = parent.childNodes;\n\n                for (j = 0; j < children.length; j++) {\n                    child = children[j];\n\n                    if (!dom.isMarker(child) && child !== node) {\n                        newNode = parent.cloneNode(true);\n                        newNode.innerHTML = \"\";\n                        dom.wrap(child, newNode);\n                    }\n                }\n\n                dom.unwrap(parent);\n                parent = node.parentNode;\n            }\n        }\n    },\n\n    applyBlockStyles: function(nodes, blockStyles) {\n        var formatTag = blockStyles[0].tags[0];\n        var attr = blockStyles[0].attr;\n        var document = this.editor.document;\n        var i, len, node, wrapper, blockParent, outerWrapper;\n        var previousNodes, nextNodes, previous, next, prevWrapper, nextWrapper, child, j, listItems;\n\n        for (i = 0, len = nodes.length; i < len; i++) {\n            node = nodes[i];\n\n            if (dom.isWhitespace(node) || this.immutableParent(node)) {\n                continue;\n            }\n\n            blockParent = dom.blockParentOrBody(node);\n\n            if (blockParent.tagName !== \"BODY\" && blockParent.tagName !== formatTag) {\n                if (blockParent.tagName !== \"LI\" && blockParent.tagName !== \"TD\" && blockParent.tagName !== \"TH\") {\n                    previousNodes = [];\n                    nextNodes = [];\n                    previous = node.previousSibling;\n                    next = node.nextSibling;\n\n                    while (previous) {\n                        if (!dom.isMarker(previous)) {\n                            previousNodes.push(previous);\n                        }\n\n                        previous = previous.previousSibling;\n                    }\n\n                    if (previousNodes.length) {\n                        prevWrapper = blockParent.cloneNode(true);\n                        prevWrapper.innerHTML = \"\";\n                        dom.insertBefore(prevWrapper, previousNodes[0]);\n\n                        for (j = 0; j < previousNodes.length; j++) {\n                            child = previousNodes[j];\n                            dom.insertAt(prevWrapper, child, 0);\n                        }\n                    }\n\n                    while (next) {\n                        if (!dom.isMarker(next)) {\n                            nextNodes.push(next);\n                        }\n\n                        next = next.nextSibling;\n                    }\n\n                    if (nextNodes.length) {\n                        nextWrapper = blockParent.cloneNode(true);\n                        nextWrapper.innerHTML = \"\";\n                        dom.insertBefore(nextWrapper, nextNodes[0]);\n\n                        for (j = 0; j < nextNodes.length; j++) {\n                            child = nextNodes[j];\n                            nextWrapper.appendChild(child);\n                        }\n                    }\n\n                    dom.unwrap(blockParent);\n                }\n\n                wrapper = dom.create(document, formatTag, attr);\n                dom.wrap(node, wrapper);\n            } else if (blockParent.tagName === formatTag) {\n                dom.attr(blockParent, attr);\n            }\n        }\n\n        if (blockParent && blockStyles.length === 2 && blockParent.tagName !== \"LI\" && formatTag === \"LI\") {\n            listItems = [];\n\n            while (dom.is(wrapper, \"li\")) {\n                listItems.push(wrapper);\n                wrapper = dom.prev(wrapper);\n            }\n\n            outerWrapper = dom.create(document, blockStyles[1].tags[0], blockStyles[1].attr);\n            dom.insertBefore(outerWrapper, listItems[listItems.length - 1]);\n            outerWrapper.appendChild(listItems[0]);\n\n            for (i = 1, len = listItems.length; i < len; i++) {\n                dom.insertBefore(listItems[i], outerWrapper.firstChild);\n            }\n        } else if (blockParent && blockStyles.length === 2 && blockParent.tagName !== \"LI\") {\n            outerWrapper = dom.create(document, blockStyles[1].tags[0], blockStyles[1].attr);\n            dom.wrap(wrapper, outerWrapper);\n        }\n    },\n\n    applyInlineStyles: function(nodes, inlineStyles) {\n        var document = this.editor.document;\n        var currentStyle, createdNode, topNode, i, newNode, node;\n\n        for (i = 0; i < inlineStyles.length; i++) {\n            currentStyle = inlineStyles[i];\n            createdNode = dom.create(document, currentStyle.tags[0], currentStyle.attr);\n\n            if (topNode) {\n                createdNode.appendChild(topNode);\n            }\n\n            topNode = createdNode;\n        }\n\n        if (topNode) {\n            for (i = 0; i < nodes.length; i++) {\n                node = nodes[i];\n                if (dom.isWhitespace(node) || this.immutableParent(node)) {\n                    continue;\n                }\n                newNode = topNode.cloneNode(true);\n                dom.insertBefore(newNode, node);\n\n                while (newNode.children && newNode.children.length) {\n                    newNode = newNode.children[0];\n                }\n\n                newNode.appendChild(node);\n            }\n        }\n    },\n\n    immutables: function() {\n        return this.editor && this.editor.options.immutables;\n    },\n\n    immutableParent: function(node) {\n        return this.immutables() && Editor.Immutables.immutableParent(node);\n    }\n});\n\nvar CopyFormatTool = Tool.extend({\n    init: function(options) {\n        Tool.fn.init.call(this, options);\n    },\n\n    command: function(commandArguments) {\n        return new CopyFormatCommand(commandArguments);\n    }\n});\n\nvar ApplyFormatTool = Tool.extend({\n    init: function(options) {\n        Tool.fn.init.call(this, options);\n    },\n\n    command: function(commandArguments) {\n        return new ApplyFormatCommand(commandArguments);\n    }\n});\n\n$.extend(Editor, {\n    CopyFormatCommand: CopyFormatCommand,\n    ApplyFormatCommand: ApplyFormatCommand,\n    CopyFormatTool: CopyFormatTool,\n    ApplyFormatTool: ApplyFormatTool\n});\n\nregisterTool(\"copyFormat\", new CopyFormatTool({ }));\nregisterTool(\"applyFormat\", new ApplyFormatTool({ }));\n\n})(window.kendo.jQuery);\n","import \"./inlineformat.js\";\nimport './formatblock.js';\n\n(function($) {\n\n    const kendo = window.kendo,\n        extend = $.extend,\n        Editor = kendo.ui.editor,\n        formats = kendo.ui.Editor.fn.options.formats,\n        dom = Editor.Dom,\n        Tool = Editor.Tool,\n        DelayedExecutionTool = Editor.DelayedExecutionTool,\n        BlockFormatter = Editor.BlockFormatter,\n        FormatCommand = Editor.FormatCommand,\n        GreedyInlineFormatFinder = Editor.GreedyInlineFormatFinder,\n        EditorUtils = Editor.EditorUtils,\n        registerTool = EditorUtils.registerTool,\n        registerFormat = EditorUtils.registerFormat,\n        RangeUtils = Editor.RangeUtils,\n        MOUSEDOWN_NS = \"mousedown.kendoEditor\",\n        KEYDOWN_NS = \"keydown.kendoEditor\";\n\n    const LineHeightCommand = FormatCommand.extend({\n        exec: function() {\n            const cmd = this,\n                range = cmd.lockRange(true),\n                nodes = dom.filterBy(RangeUtils.nodes(range), dom.htmlIndentSpace, true);\n\n            cmd.formatter.format[0].attr.style.lineHeight = cmd.options.value.lineHeight;\n            cmd.formatter.apply(nodes);\n            cmd.releaseRange(range);\n        }\n    });\n\n    const LineHeightFormatTool = DelayedExecutionTool.extend({\n        init: function(options) {\n            Tool.fn.init.call(this, options);\n\n            this.type = \"kendoComboBox\";\n            this.format = [{ tags: [\"p\", \"lineHeight\"] }];\n            this.finder = new GreedyInlineFormatFinder(this.format, options.cssAttr, options.fontAttr, options.defaultValue);\n        },\n\n        command: function(commandArguments) {\n            var that = this;\n\n            return new LineHeightCommand(extend(commandArguments, {\n                formatter: function() {\n                    return new BlockFormatter(that.options.format);\n                }\n            }));\n        },\n\n        initialize: function(ui, editor) {\n            let tool = this,\n                component = ui.getKendoComboBox();\n\n            tool.editor = editor;\n\n            component.bind(\"change\", this.changeHandler.bind(this));\n            component.bind(\"close\", this.closeHandler.bind(this));\n\n            component.wrapper.on(MOUSEDOWN_NS, \".k-input-button,.k-input-inner\", this.mouseDownHandler.bind(this))\n                .on(KEYDOWN_NS, this.keyDownHandler.bind(this));\n        },\n\n        changeHandler: function(e) {\n            this._exec(e.sender.value());\n        },\n\n        closeHandler: function() {\n            let that = this,\n                editor = that.editor;\n\n            setTimeout(function() {\n                editor._deleteSavedRange();\n                that.currentRange = null;\n            },0);\n        },\n\n        mouseDownHandler: function() {\n            let newRange = this.editor.getRange();\n\n            this.currentRange = this.editor._containsRange(newRange) ? newRange : this.currentRange;\n        },\n\n        keyDownHandler: function(e) {\n            if (e.keyCode === kendo.keys.ENTER) {\n                this.editor._deleteSavedRange();\n                this.currentRange = null;\n                e.preventDefault();\n            }\n        },\n\n        _exec: function(value) {\n            let editor = this.editor;\n            editor._range = this.currentRange;\n            if (value) {\n                Tool.exec(this.editor, this.options.name, { lineHeight: value });\n            }\n        },\n    });\n\n    $.extend(Editor, {\n        LineHeightCommand: LineHeightCommand,\n        LineHeightFormatTool: LineHeightFormatTool\n    });\n\n    registerFormat(\"lineHeight\", [\n        { tags: dom.blockElements, attr: { style: { lineHeight: \"normal\" } } }\n    ]);\n\n    registerTool(\"lineHeight\", new LineHeightFormatTool({\n        cssAttr: \"line-height\",\n        format: formats.lineHeight,\n        defaultValue: 1.15,\n        ui: {\n            type: \"component\",\n            component: \"ComboBox\",\n            componentOptions: {\n                value: 1.15,\n                dataTextField: \"text\",\n                dataValueField: \"value\",\n                prefixOptions: {\n                    icon: \"paragraphHeight\"\n                },\n                autoSize: true,\n                dataSource: [\n                    { text: \"1\", value: \"1\" },\n                    { text: \"1.15\", value: \"1.15\" },\n                    { text: \"1.5\", value: \"1.5\" },\n                    { text: \"2\", value: \"2\" },\n                    { text: \"2.5\", value: \"2.5\" },\n                ]\n            }\n        }\n    }));\n})(window.kendo.jQuery);\n","import '../command.js';\n\n(function($) {\n\n    const kendo = window.kendo,\n        Editor = kendo.ui.editor,\n        Tool = Editor.Tool,\n        Command = Editor.Command,\n        EditorUtils = Editor.EditorUtils,\n        registerTool = EditorUtils.registerTool,\n        DOM = Editor.Dom,\n        SPACE_UNICODE = \"\\u00B7\",\n        NEW_LINE_UNICODE = \"\\u21B5\";\n\n    const createMark = function(range, document, character, scrollTop, index, scrollableWrapper) {\n        const clonedRange = range.cloneRange(),\n              container = clonedRange.startContainer;\n\n        let domRect, x, y, textNode, parentRect;\n\n        if (index !== undefined && index !== null) {\n            clonedRange.setStart(container, index);\n            clonedRange.setEnd(container, index + 1);\n        }\n\n        domRect = clonedRange.getBoundingClientRect();\n\n        if (scrollableWrapper) {\n            parentRect = scrollableWrapper.getBoundingClientRect();\n            x = domRect.left - parentRect.left - domRect.width / 2;\n            y = domRect.top - parentRect.top + domRect.height + scrollTop;\n        } else {\n            if (character === SPACE_UNICODE) {\n                x = domRect.x - domRect.width / 4;\n                y = domRect.y + domRect.height + scrollTop;\n            } else if (character === NEW_LINE_UNICODE) {\n                x = domRect.x;\n                y = domRect.y + domRect.height + scrollTop;\n            }\n        }\n\n        textNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n        textNode.setAttributeNS(null, \"x\", x);\n        textNode.setAttributeNS(null, \"y\", y);\n        textNode.setAttributeNS(null, \"fill\", \"#6098f2\");\n        textNode.setAttributeNS(null, \"font-size\", `${Math.ceil(domRect.height + domRect.width)}px`);\n        textNode.textContent = character;\n\n        return textNode;\n    };\n\n    const appendSvgMarks = function() {\n        const that = this,\n            range = that.getRange().cloneRange(),\n            overlay = that._formattingMarksOverlay[0],\n            fragment = that.document.createDocumentFragment(),\n            document = that.document,\n            isInlineEditor = that._isInlineEditor(),\n            scrollableWrapper = isInlineEditor ? that.body.parentElement : null,\n            scrollTop = isInlineEditor ? scrollableWrapper.scrollTop : document.documentElement.scrollTop;\n\n        if (!that.body.firstChild && !that.body.lastChild) {\n            return;\n        }\n\n        range.setStart(that.body.firstChild, 0);\n        range.setEnd(that.body.lastChild, 0);\n\n        const nodes = DOM.getTextNodes(that.body).concat($(that.body).find(\"br\").toArray());\n\n        nodes.forEach((node) => {\n            if (node.nodeType === DOM.nodeTypes.TEXT_NODE) {\n                range.selectNodeContents(node);\n\n                for (let i = range.startOffset; i < range.endOffset; i++) {\n                    if ((range.startContainer.textContent.charCodeAt(i) === 32 || range.startContainer.textContent.charCodeAt(i) === 160)) {\n                        fragment.appendChild(createMark(range, document, SPACE_UNICODE, scrollTop, i, scrollableWrapper));\n                    }\n                }\n            } else {\n                range.selectNode(node);\n                fragment.appendChild(createMark(range, document, NEW_LINE_UNICODE, scrollTop, null, scrollableWrapper));\n            }\n        });\n\n        overlay.appendChild(fragment);\n    };\n\n    const clearFormattingMarksOverlay = function(editor) {\n        editor._formattingMarksOverlay.empty();\n    };\n\n    const applyFormattingMarks = function(editor) {\n        editor._updateFormattingMarksOverlayHeight();\n        appendSvgMarks.call(editor);\n    };\n\n    const FormattingMarksCommand = Command.extend({\n        exec: function() {\n            const cmd = this,\n                range = cmd.lockRange(true),\n                editor = cmd.editor;\n\n            if (!editor._toggledFormattingMarks) {\n                editor._toggledFormattingMarks = true;\n                editor._appendFormattingMarksOverlay();\n                editor._appendFormattingMarksStyles();\n                clearFormattingMarksOverlay(editor);\n                applyFormattingMarks(editor);\n            } else {\n                editor._toggledFormattingMarks = false;\n                editor._destroyFormattingMarksOverlay();\n            }\n\n            cmd.releaseRange(range);\n        }\n    });\n\n    $.extend(Editor, {\n        FormattingMarksCommand: FormattingMarksCommand,\n        applyFormattingMarks: applyFormattingMarks,\n        clearFormattingMarksOverlay: clearFormattingMarksOverlay\n    });\n\n    registerTool(\"formattingMarks\", new Tool({ command: FormattingMarksCommand, icon: \"paragraphMark\", ui: { togglable: true } }));\n})(window.kendo.jQuery);\n","import \"../main.js\";\n\n(function(kendo, undefined) {\n    var global = window;\n    var math = global.Math;\n    var min = math.min;\n    var max = math.max;\n    var parseFloat = global.parseFloat;\n\n    var $ = kendo.jQuery;\n    var extend = $.extend;\n\n    var Editor = kendo.ui.editor;\n\n    var PERCENTAGE = \"%\";\n    var PIXEL = \"px\";\n    var REGEX_NUMBER_IN_PERCENTAGES = /(\\d+)(\\.?)(\\d*)%/;\n    var REGEX_NUMBER_IN_PIXELS = /(\\d+)(\\.?)(\\d*)px/;\n    var STRING = \"string\";\n\n    function constrain(options) {\n        var value = options.value;\n        var lowerBound = options.min;\n        var upperBound = options.max;\n\n        return max(min(parseFloat(value), parseFloat(upperBound)), parseFloat(lowerBound));\n    }\n\n    function getScrollBarWidth(element) {\n        if (element && !$(element).is(\"body\") && element.scrollHeight > element.clientHeight) {\n            return kendo.support.scrollbar();\n        }\n\n        return 0;\n    }\n\n    function calculatePercentageRatio(value, total) {\n        if (inPercentages(value)) {\n            return parseFloat(value);\n        }\n        else {\n            return ((parseFloat(value) / total) * 100);\n        }\n    }\n\n    function inPercentages(value) {\n        return (typeof(value) === STRING && REGEX_NUMBER_IN_PERCENTAGES.test(value));\n    }\n\n    function inPixels(value) {\n        return (typeof(value) === STRING && REGEX_NUMBER_IN_PIXELS.test(value));\n    }\n\n    function toPercentages(value) {\n        return (parseFloat(value) + PERCENTAGE);\n    }\n\n    function toPixels(value) {\n        return (parseFloat(value) + PIXEL);\n    }\n\n    var ResizingUtils = {\n        constrain: constrain,\n        getScrollBarWidth: getScrollBarWidth,\n        calculatePercentageRatio: calculatePercentageRatio,\n        inPercentages: inPercentages,\n        inPixels: inPixels,\n        toPercentages: toPercentages,\n        toPixels: toPixels\n    };\n\n    extend(Editor, {\n        ResizingUtils: ResizingUtils\n    });\n})(window.kendo);\n","import \"../main.js\";\nimport \"../../kendo.resizable.js\";\nimport \"./resizing-utils.js\";\n\n(function(kendo, undefined) {\n    var $ = kendo.jQuery;\n    var extend = $.extend;\n    var noop = $.noop;\n\n    var Editor = kendo.ui.editor;\n    var Class = kendo.Class;\n\n    var KEY_DOWN = \"keydown\";\n    var MOUSE_DOWN = \"mousedown\";\n    var MOUSE_ENTER = \"mouseenter\";\n    var MOUSE_LEAVE = \"mouseleave\";\n    var MOUSE_MOVE = \"mousemove\";\n    var MOUSE_UP = \"mouseup\";\n\n    var COMMA = \",\";\n    var DOT = \".\";\n    var LAST_CHILD = \":last-child\";\n\n    var TABLE = \"table\";\n\n    var TableElementResizing = Class.extend({\n        init: function(element, options) {\n            var that = this;\n\n            that.options = extend({}, that.options, options);\n\n            that.options.tags = Array.isArray(that.options.tags) ? that.options.tags : [that.options.tags];\n\n            if ($(element).is(TABLE)) {\n                that.element = element;\n                that._attachEventHandlers();\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n            var eventNamespace = that.options.eventNamespace;\n\n            if (that.element) {\n                $(that.element).off(eventNamespace);\n                that.element = null;\n            }\n\n            $(that.options.rootElement).off(KEY_DOWN + eventNamespace);\n\n            that._destroyResizeHandle();\n        },\n\n        options: {\n            tags: [],\n            min: 0,\n            rootElement: null,\n            eventNamespace: \"\",\n            rtl: false,\n            handle: {\n                dataAttribute: \"\",\n                height: 0,\n                width: 0,\n                classNames: {},\n                template: \"\"\n            }\n        },\n\n        _attachEventHandlers: function() {\n            var that = this;\n            var options = that.options;\n\n            $(that.element).on(MOUSE_MOVE + options.eventNamespace, options.tags.join(COMMA), that.detectElementBorderHovering.bind(that));\n        },\n\n        resizingInProgress: function() {\n            var that = this;\n            var resizable = that._resizable;\n\n            if (resizable) {\n                return !!resizable.resizing;\n            }\n\n            return false;\n        },\n\n        resize: noop,\n\n        detectElementBorderHovering: function(e) {\n            var that = this;\n            var options = that.options;\n            var handleOptions = options.handle;\n            var tableElement = $(e.currentTarget);\n            var resizeHandle = that.resizeHandle;\n            var dataAttribute = handleOptions.dataAttribute;\n\n            if (!that.resizingInProgress()) {\n                if (!tableElement.is(LAST_CHILD) && that.elementBorderHovered(tableElement, e)) {\n                    if (resizeHandle) {\n                        if (resizeHandle.data(dataAttribute) && resizeHandle.data(dataAttribute) !== tableElement[0]) {\n                            that.showResizeHandle(tableElement, e);\n                        }\n                    }\n                    else {\n                        that.showResizeHandle(tableElement, e);\n                    }\n                }\n                else {\n                    if (resizeHandle) {\n                        that._destroyResizeHandle();\n                    }\n                }\n            }\n        },\n\n        elementBorderHovered: noop,\n\n        showResizeHandle: function(tableElement, e) {\n            var that = this;\n\n            if (e.buttons !== 0) {\n                //prevent showing when a mouse button is still being pressed\n                return;\n            }\n\n            that._initResizeHandle();\n            that.setResizeHandlePosition(tableElement);\n            that.setResizeHandleDimensions();\n            that.setResizeHandleDataAttributes(tableElement[0]);\n            that._attachResizeHandleEventHandlers();\n\n            that._initResizable(tableElement);\n\n            that._hideResizeMarker();\n            that.resizeHandle.show();\n        },\n\n        _initResizeHandle: function() {\n            var that = this;\n            var options = that.options;\n\n            that._destroyResizeHandle();\n\n            that.resizeHandle = $(options.handle.template).appendTo(options.rootElement);\n        },\n\n        setResizeHandlePosition: noop,\n\n        setResizeHandleDimensions: noop,\n\n        setResizeHandleDataAttributes: function(tableElement) {\n            var that = this;\n\n            that.resizeHandle.data(that.options.handle.dataAttribute, tableElement);\n        },\n\n        _attachResizeHandleEventHandlers: function() {\n            var that = this;\n            var options = that.options;\n            var eventNamespace = options.eventNamespace;\n            var markerClass = options.handle.classNames.marker;\n            var resizeHandle = that.resizeHandle;\n\n            that.resizeHandle\n                .on(MOUSE_DOWN + eventNamespace, function() {\n                    resizeHandle.find(DOT + markerClass).show();\n                })\n                .on(MOUSE_UP + eventNamespace, function() {\n                    resizeHandle.find(DOT + markerClass).hide();\n                });\n        },\n\n        _hideResizeMarker: function() {\n            var that = this;\n\n            that.resizeHandle.find(DOT + that.options.handle.classNames.marker).hide();\n        },\n\n        _destroyResizeHandle: function() {\n            var that = this;\n\n            if (that.resizeHandle) {\n                that._destroyResizable();\n                that.resizeHandle.off(that.options.eventNamespace).remove();\n                that.resizeHandle = null;\n            }\n        },\n\n        _initResizable: function(tableElement) {\n            var that = this;\n\n            if (!that.resizeHandle) {\n                return;\n            }\n\n            that._destroyResizable();\n\n            that._resizable = new kendo.ui.Resizable(tableElement, {\n                draggableElement: that.resizeHandle[0],\n                start: that.onResizeStart.bind(that),\n                resize: that.onResize.bind(that),\n                resizeend: that.onResizeEnd.bind(that)\n            });\n        },\n\n        _destroyResizable: function() {\n            var that = this;\n\n            if (that._resizable) {\n                that._resizable.destroy();\n                that._resizable = null;\n            }\n        },\n\n        onResizeStart: function() {\n            this._disableKeyboard();\n        },\n\n        onResize: function(e) {\n            this.setResizeHandleDragPosition(e);\n        },\n\n        setResizeHandleDragPosition: noop,\n\n        onResizeEnd: function(e) {\n            var that = this;\n\n            that.resize(e);\n            that._destroyResizeHandle();\n            that._enableKeyboard();\n\n            if (this.options.editor) {\n                this.options.editor._handleSpaceAndNewLines();\n            }\n        },\n\n        _enableKeyboard: function() {\n            var options = this.options;\n\n            $(options.rootElement).off(KEY_DOWN + options.eventNamespace);\n        },\n\n        _disableKeyboard: function() {\n            var options = this.options;\n\n            $(options.rootElement).on(KEY_DOWN + options.eventNamespace, function(e) {\n                e.preventDefault();\n            });\n        },\n\n        _forceResizing: function(e) {\n            var resizable = this._resizable;\n\n            if (resizable && resizable.userEvents) {\n                resizable.userEvents._end(e);\n            }\n        }\n    });\n\n    var ResizingFactory = Class.extend({\n        create: function(editor, options) {\n            var that = this;\n            var resizingName = options.name;\n            var NS = options.eventNamespace;\n\n            $(editor.body)\n                .on(MOUSE_ENTER + NS, TABLE, function(e) {\n                    var table = e.currentTarget;\n                    var resizing = editor[resizingName];\n\n                    e.stopPropagation();\n\n                    if (resizing) {\n                        if (resizing.element !== table && !resizing.resizingInProgress()) {\n                            that._destroyResizing(editor, options);\n                            that._initResizing(editor, table, options);\n                        }\n                    }\n                    else {\n                        that._initResizing(editor, table, options);\n                    }\n                })\n                .on(MOUSE_LEAVE + NS, TABLE, function(e) {\n                    var parentTable;\n                    var resizing = editor[resizingName];\n\n                    e.stopPropagation();\n\n                    if (resizing && !resizing.resizingInProgress() && !resizing.resizeHandle) {\n                        parentTable = $(resizing.element).parents(TABLE)[0];\n\n                        if (parentTable) {\n                            that._destroyResizing(editor, options);\n                            that._initResizing(editor, parentTable, options);\n                        }\n                    }\n                })\n                .on(MOUSE_LEAVE + NS, function() {\n                    var resizing = editor[resizingName];\n\n                    if (resizing && !resizing.resizingInProgress()) {\n                        that._destroyResizing(editor, options);\n                    }\n                })\n                .on(MOUSE_UP + NS, function(e) {\n                    var resizing = editor[resizingName];\n                    var parentTable;\n\n                    if (resizing && resizing.resizingInProgress()) {\n                        parentTable = $(e.target).parents(TABLE)[0];\n\n                        if (parentTable) {\n                            resizing._forceResizing(e);\n                            that._destroyResizing(editor, options);\n                            that._initResizing(editor, parentTable, options);\n                        }\n                    }\n                });\n        },\n\n        dispose: function(editor, options) {\n            $(editor.body).off(options.eventNamespace);\n        },\n\n        _initResizing: function(editor, tableElement, options) {\n            var resizingName = options.name;\n            var resizingType = options.type;\n\n            editor[resizingName] = new resizingType(tableElement, {\n                rtl: kendo.support.isRtl(editor.element),\n                rootElement: editor.body,\n                editor: editor\n            });\n        },\n\n        _destroyResizing: function(editor, options) {\n            var resizingName = options.name;\n\n            if (editor[resizingName]) {\n                editor[resizingName].destroy();\n                editor[resizingName] = null;\n            }\n        }\n    });\n    ResizingFactory.current = new ResizingFactory();\n\n    TableElementResizing.create = function(editor, options) {\n        ResizingFactory.current.create(editor, options);\n    };\n\n    TableElementResizing.dispose = function(editor, options) {\n        ResizingFactory.current.dispose(editor, options);\n    };\n\n    extend(Editor, {\n        TableElementResizing: TableElementResizing\n    });\n\n})(window.kendo);\n","import \"../main.js\";\nimport \"./resizing-utils.js\";\nimport \"./table-element-resizing.js\";\nimport \"../dom.js\";\n\n(function(kendo, undefined) {\n    var global = window;\n    var math = global.Math;\n    var abs = math.abs;\n\n    var $ = kendo.jQuery;\n    var extend = $.extend;\n\n    var Editor = kendo.ui.editor;\n    var dom = Editor.Dom;\n    var TableElementResizing = Editor.TableElementResizing;\n    var ResizingUtils = Editor.ResizingUtils;\n    var constrain = ResizingUtils.constrain;\n    var calculatePercentageRatio = ResizingUtils.calculatePercentageRatio;\n    var getScrollBarWidth = ResizingUtils.getScrollBarWidth;\n    var inPercentages = ResizingUtils.inPercentages;\n    var toPercentages = ResizingUtils.toPercentages;\n    var toPixels = ResizingUtils.toPixels;\n    var outerWidth = kendo._outerWidth;\n\n    var NS = \".kendoEditorColumnResizing\";\n    var RESIZE_HANDLE_CLASS = \"k-column-resize-handle\";\n    var RESIZE_MARKER_CLASS = \"k-column-resize-marker\";\n\n    var BODY = \"body\";\n    var TBODY = \"tbody\";\n    var THEAD = \"thead\";\n    var TD = \"td\";\n    var TH = \"th\";\n    var TR = \"tr\";\n\n    var COLATTR = \"col-index\";\n\n    var COMMA = \",\";\n    var WIDTH = \"width\";\n\n    var ColumnResizing = TableElementResizing.extend({\n        options: {\n            tags: [TD, TH],\n            min: 20,\n            rootElement: null,\n            eventNamespace: NS,\n            rtl: false,\n            handle: {\n                dataAttribute: \"column\",\n                width: 10,\n                height: 0,\n                classNames: {\n                    handle: RESIZE_HANDLE_CLASS,\n                    marker: RESIZE_MARKER_CLASS\n                },\n                template:\n                    '<div class=\"k-column-resize-handle-wrapper\" unselectable=\"on\" contenteditable=\"false\">' +\n                        '<div class=\"' + RESIZE_HANDLE_CLASS + '\">' +\n                            '<div class=\"' + RESIZE_MARKER_CLASS + '\"></div>' +\n                        '</div>' +\n                    '</div>'\n            }\n        },\n\n        elementBorderHovered: function(column, e) {\n            var that = this;\n            var options = that.options;\n            var handleWidth = options.handle.width;\n            var borderOffset = column.offset().left + (options.rtl ? 0 : outerWidth(column));\n\n\n            var mousePosition = e.clientX + $(column[0].ownerDocument).scrollLeft();\n\n            if ((mousePosition > (borderOffset - handleWidth)) && (mousePosition < (borderOffset + handleWidth))) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        },\n\n        setResizeHandlePosition: function(column) {\n            var that = this;\n            var tableInnerElement = $(that.element.tHead || that.element.tBodies[0]);\n            var options = that.options;\n            var rtl = options.rtl;\n            var handleWidth = options.handle.width;\n            var rootElement = $(options.rootElement);\n            var scrollTopOffset = rootElement.is(BODY) ? 0 : rootElement.scrollTop();\n            var scrollLeftOffset = rootElement.is(BODY) ? 0 : kendo.scrollLeft(rootElement);\n            var columnWidthOffset = rtl ? 0 : outerWidth(column);\n            var scrollBarWidth = rtl ? getScrollBarWidth(rootElement[0]) : 0;\n            var columnOffsetLeft = column.offset().left -\n                                    (rootElement.offset().left + parseFloat(rootElement.css(\"borderLeftWidth\"))) -\n                                    parseFloat(column.css(\"marginLeft\"));\n            var innerElementOffsetTop = tableInnerElement.offset().top -\n                                    (rootElement.offset().top + parseFloat(rootElement.css(\"borderTopWidth\"))) -\n                                    parseFloat(tableInnerElement.css(\"marginTop\"));\n            var browser = kendo.support.browser;\n\n            if (rtl && (browser.mozilla || (browser.webkit && browser.version >= 85))) {\n                scrollLeftOffset = scrollLeftOffset * -1;\n            }\n\n            that.resizeHandle.css({\n                top: innerElementOffsetTop + scrollTopOffset,\n                left: columnOffsetLeft + columnWidthOffset + (scrollLeftOffset - scrollBarWidth) - (handleWidth / 2),\n                position: \"absolute\"\n            });\n        },\n\n        setResizeHandleDimensions: function() {\n            var that = this;\n            var tableHead = $(that.element).children(THEAD);\n            var tableBody = $(that.element).children(TBODY);\n            var fullHeight = tableHead.length > 0 ? tableHead.height() + tableBody.height() : tableBody.height();\n\n            that.resizeHandle.css({\n                width: that.options.handle.width,\n                height: fullHeight\n            });\n        },\n\n        setResizeHandleDragPosition: function(e) {\n            var that = this;\n            var column = $($(e.currentTarget).data(that.options.handle.dataAttribute));\n            var options = that.options;\n            var rootElement = $(options.rootElement);\n            var handleWidth = options.handle ? options.handle.width : 0;\n            var min = options.min;\n            var rtl = options.rtl;\n            var columnWidth = outerWidth(column);\n            var columnLeftOffset = column.offset().left -\n                                    (rootElement.offset().left + parseFloat(rootElement.css(\"borderLeftWidth\"))) -\n                                    parseFloat(column.css(\"marginLeft\"));\n            var adjacentColumnWidth = outerWidth(column.next());\n            var resizeHandle = $(that.resizeHandle);\n            var scrollLeftOffset = rootElement.is(BODY) ? 0 : kendo.scrollLeft(rootElement);\n            var scrollBarWidth = rtl ? getScrollBarWidth(rootElement[0]) : 0;\n            var resizeHandleOffsetLeft = resizeHandle.offset().left -\n                                            (rootElement.offset().left + parseFloat(rootElement.css(\"borderLeftWidth\"))) -\n                                            parseFloat(resizeHandle.css(\"marginLeft\"));\n            var browser = kendo.support.browser;\n\n            if (rtl && (browser.mozilla || (browser.webkit && browser.version >= 85))) {\n                scrollLeftOffset = scrollLeftOffset * -1;\n            }\n\n            var handleOffset = constrain({\n                value: resizeHandleOffsetLeft + (scrollLeftOffset - scrollBarWidth) + e.x.delta,\n                min: columnLeftOffset + (scrollLeftOffset - scrollBarWidth) - (rtl ? adjacentColumnWidth : 0) + min,\n                max: columnLeftOffset + columnWidth + (scrollLeftOffset - scrollBarWidth) + (rtl ? 0 : adjacentColumnWidth) - handleWidth - min\n            });\n\n            resizeHandle.css({ left: handleOffset });\n        },\n\n        resize: function(e) {\n            var that = this;\n            var column = $($(e.currentTarget).data(that.options.handle.dataAttribute));\n            var options = that.options;\n            var rtlModifier = options.rtl ? (-1) : 1;\n            var min = options.min;\n            var initialDeltaX = rtlModifier * e.x.initialDelta;\n            var newWidth;\n            var initialAdjacentColumnWidth;\n            var initialColumnWidth;\n            var colIndex;\n            var nextColumn;\n\n            dom.reMapTableColumns(that.element, COLATTR);\n\n            colIndex = parseInt(column.attr(COLATTR), 10);\n\n            if (column.prop(\"colSpan\") > 1) {\n                column = $(that.element).find(\"[\" + COLATTR + \"=\" + (colIndex + column.prop(\"colSpan\") - 1) + \"]\").eq(0);\n                colIndex = parseInt(column.attr(COLATTR), 10);\n            }\n\n            nextColumn = $(that.element).find(\"[\" + COLATTR + \"=\" + (colIndex + 1) + \"]:not([colspan])\");\n\n            that._setTableComputedWidth();\n            that._setColumnsComputedWidth();\n\n            initialColumnWidth = outerWidth(column);\n            initialAdjacentColumnWidth = outerWidth(nextColumn);\n\n            newWidth = constrain({\n                value: initialColumnWidth + initialDeltaX,\n                min: min,\n                max: initialColumnWidth + initialAdjacentColumnWidth - min\n            });\n\n            that._resizeColumn(column[0], newWidth);\n            that._resizeTopAndBottomColumns(column[0], newWidth);\n            that._resizeAdjacentColumns(parseInt(column.attr(COLATTR),10), initialAdjacentColumnWidth, initialColumnWidth, (initialColumnWidth - newWidth));\n\n            dom.clearTableMappings(that.element, COLATTR);\n        },\n\n        _setTableComputedWidth: function() {\n            var element = this.element;\n\n            if (element.style[WIDTH] === \"\") {\n                element.style[WIDTH] = toPixels(outerWidth($(element)));\n            }\n        },\n\n        _setColumnsComputedWidth: function() {\n            var that = this;\n            var tableInnerElement = $(that.element.tHead || that.element.tBodies[0]);\n            var innerElementWidth = outerWidth(tableInnerElement);\n            var columns = tableInnerElement.children(TR).children(TD);\n            var length = columns.length;\n            var currentColumnsWidths = columns.map(function() {\n                return outerWidth($(this));\n            });\n            var i;\n\n            for (i = 0; i < length; i++) {\n                if (inPercentages(columns[i].style[WIDTH])) {\n                    columns[i].style[WIDTH] = toPercentages(calculatePercentageRatio(currentColumnsWidths[i], innerElementWidth));\n                }\n                else {\n                    columns[i].style[WIDTH] = toPixels(currentColumnsWidths[i]);\n                }\n            }\n        },\n\n        _resizeTopAndBottomColumns: function(column, newWidth) {\n            var that = this;\n            var columnIndex = $(column).attr(COLATTR);\n            var topAndBottomColumns = $(that.element).children(TBODY + COMMA + THEAD).children(TR).children(that.options.tags.join(COMMA))\n                .filter(function() {\n                    var cell = this;\n                    return ($(cell).attr(COLATTR) === columnIndex && cell !== column);\n                });\n            var length = topAndBottomColumns.length;\n            var i;\n\n            for (i = 0; i < length; i++) {\n                that._resizeColumn(topAndBottomColumns[i], newWidth);\n            }\n        },\n\n        _resizeColumn: function(column, newWidth) {\n            var innerTableElement = $(this.element.tHead || this.element.tBodies[0]);\n            if (inPercentages(column.style[WIDTH])) {\n                column.style[WIDTH] = toPercentages(calculatePercentageRatio(newWidth, outerWidth(innerTableElement)));\n            }\n            else {\n                column.style[WIDTH] = toPixels(newWidth);\n            }\n        },\n\n        _resizeAdjacentColumns: function(columnIndex, initialAdjacentColumnWidth, initialColumnWidth, deltaWidth) {\n            var that = this;\n            var adjacentColumns = $(that.element).children(TBODY + COMMA + THEAD).children(TR).children(that.options.tags.join(COMMA))\n                .filter(function() {\n                    return (parseInt($(this).attr(COLATTR),10) === (columnIndex + 1));\n                });\n            var length = adjacentColumns.length;\n            var i;\n\n            for (i = 0; i < length; i++) {\n                that._resizeAdjacentColumn(adjacentColumns[i], initialAdjacentColumnWidth, initialColumnWidth, deltaWidth);\n            }\n        },\n\n        _resizeAdjacentColumn: function(adjacentColumn, initialAdjacentColumnWidth, initialColumnWidth, deltaWidth) {\n            var that = this;\n            var min = that.options.min;\n            var newWidth;\n\n            newWidth = constrain({\n                value: initialAdjacentColumnWidth + deltaWidth,\n                min: min,\n                max: abs(initialColumnWidth + initialAdjacentColumnWidth - min)\n            });\n\n            that._resizeColumn(adjacentColumn, newWidth);\n        }\n    });\n\n    ColumnResizing.create = function(editor) {\n        TableElementResizing.create(editor, {\n            name: \"columnResizing\",\n            type: ColumnResizing,\n            eventNamespace: NS\n        });\n    };\n\n    ColumnResizing.dispose = function(editor) {\n        TableElementResizing.dispose(editor, {\n            eventNamespace: NS\n        });\n    };\n\n    extend(Editor, {\n        ColumnResizing: ColumnResizing\n    });\n\n})(window.kendo);\n","import \"../main.js\";\nimport \"./resizing-utils.js\";\nimport \"./table-element-resizing.js\";\n\n(function(kendo, undefined) {\n    var math = window.Math;\n    var abs = math.abs;\n\n    var $ = kendo.jQuery;\n    var extend = $.extend;\n\n    var Editor = kendo.ui.editor;\n    var TableElementResizing = Editor.TableElementResizing;\n    var ResizingUtils = Editor.ResizingUtils;\n    var getScrollBarWidth = ResizingUtils.getScrollBarWidth;\n    var constrain = ResizingUtils.constrain;\n    var calculatePercentageRatio = ResizingUtils.calculatePercentageRatio;\n    var inPercentages = ResizingUtils.inPercentages;\n    var toPercentages = ResizingUtils.toPercentages;\n    var toPixels = ResizingUtils.toPixels;\n    var outerHeight = kendo._outerHeight;\n\n    var NS = \".kendoEditorRowResizing\";\n    var RESIZE_HANDLE_CLASS = \"k-row-resize-handle\";\n    var RESIZE_HANDLE_MARKER_WRAPPER_CLASS = \"k-row-resize-marker-wrapper\";\n    var RESIZE_MARKER_CLASS = \"k-row-resize-marker\";\n\n    var BODY = \"body\";\n    var TR = \"tr\";\n    var TBODY = \"tbody\";\n    var THEAD = \"thead\";\n\n    var COMMA = \",\";\n    var HEIGHT = \"height\";\n\n    var RowResizing = TableElementResizing.extend({\n        options: {\n            tags: [TR],\n            min: 20,\n            rootElement: null,\n            eventNamespace: NS,\n            rtl: false,\n            handle: {\n                dataAttribute: \"row\",\n                width: 0,\n                height: 10,\n                classNames: {\n                    handle: RESIZE_HANDLE_CLASS,\n                    marker: RESIZE_MARKER_CLASS\n                },\n                template:\n                    '<div class=\"k-row-resize-handle-wrapper\" unselectable=\"on\" contenteditable=\"false\">' +\n                        '<div class=\"' + RESIZE_HANDLE_CLASS + '\">' +\n                            '<div class=\"' + RESIZE_HANDLE_MARKER_WRAPPER_CLASS + '\">' +\n                                '<div class=\"' + RESIZE_MARKER_CLASS + '\"></div>' +\n                            '</div>' +\n                        '</div>' +\n                    '</div>'\n            }\n        },\n\n        elementBorderHovered: function(tableElement, e) {\n            var that = this;\n            var handleHeight = that.options.handle[HEIGHT];\n            var borderOffset = tableElement.offset().top + outerHeight(tableElement);\n            var mousePosition = e.clientY + $(tableElement[0].ownerDocument).scrollTop();\n\n            if ((mousePosition > (borderOffset - handleHeight)) && (mousePosition < (borderOffset + handleHeight))) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        },\n\n        setResizeHandlePosition: function(row) {\n            var that = this;\n            var options = that.options;\n            var handleHeight = options.handle[HEIGHT];\n            var rootElement = $(options.rootElement);\n            var scrollTopOffset = rootElement.is(BODY) ? 0 : rootElement.scrollTop();\n            var scrollLeftOffset = rootElement.is(BODY) ? 0 : kendo.scrollLeft(rootElement);\n            var scrollBarWidth = options.rtl ? getScrollBarWidth(rootElement[0]) : 0;\n\n            var rowOffsetLeft = row.offset().left -\n                                    (rootElement.offset().left + parseFloat(rootElement.css(\"borderLeftWidth\"))) -\n                                    parseFloat(row.css(\"marginLeft\"));\n            var rowOffsetTop = row.offset().top -\n                                    (rootElement.offset().top + parseFloat(rootElement.css(\"borderTopWidth\"))) -\n                                    parseFloat(row.css(\"marginTop\"));\n            var browser = kendo.support.browser;\n\n            if (options.rtl && (browser.mozilla || (browser.webkit && browser.version >= 85))) {\n                scrollLeftOffset = scrollLeftOffset * -1;\n            }\n\n            that.resizeHandle.css({\n                top: rowOffsetTop + outerHeight(row) + scrollTopOffset - (handleHeight / 2),\n                left: rowOffsetLeft + (scrollLeftOffset - scrollBarWidth),\n                position: \"absolute\"\n            });\n        },\n\n        setResizeHandleDimensions: function() {\n            var that = this;\n            var innerTableElement = $(that.element.tHead || that.element.tBodies[0]);\n\n            that.resizeHandle.css({\n                width: innerTableElement.width(),\n                height: that.options.handle[HEIGHT]\n            });\n        },\n\n        setResizeHandleDragPosition: function(e) {\n            var that = this;\n            var options = that.options;\n            var min = options.min;\n            var tableHead = $(that.element).children(THEAD);\n            var tableBody = $(that.element).children(TBODY);\n            var topInnerTableElement = tableHead.length > 0 ? tableHead : tableBody;\n            var resizeHandle = $(that.resizeHandle);\n            var row = $(e.currentTarget).data(options.handle.dataAttribute);\n            var $row = $(row);\n            var rootElement = $(options.rootElement);\n            var scrollTopOffset = rootElement.is(BODY) ? 0 : rootElement.scrollTop();\n            var tableTopOffset = topInnerTableElement.offset().top -\n                                    (rootElement.offset().top + parseFloat(rootElement.css(\"borderTopWidth\"))) -\n                                    parseFloat(topInnerTableElement.css(\"marginTop\"));\n\n            var rowOffsetTop = $row.offset().top -\n                                (rootElement.offset().top + parseFloat(rootElement.css(\"borderTopWidth\"))) -\n                                parseFloat($row.css(\"marginTop\"));\n\n            var resizeHandleOffsetTop = resizeHandle.offset().top -\n                                (Math.max(0 , rootElement.offset().top) + parseFloat(rootElement.css(\"borderTopWidth\"))) -\n                                parseFloat(resizeHandle.css(\"marginTop\"));\n\n            var handleOffset = constrain({\n                value: resizeHandleOffsetTop + scrollTopOffset + e.y.delta,\n                min: rowOffsetTop + scrollTopOffset + min,\n                max: tableTopOffset + outerHeight(tableHead) + outerHeight(tableBody) + scrollTopOffset - options.handle[HEIGHT] - min\n            });\n\n            resizeHandle.css({ top: handleOffset });\n        },\n\n        resize: function(e) {\n            var that = this;\n            var options = that.options;\n            var row = $(e.currentTarget).data(options.handle.dataAttribute);\n            var currentRowHeight = outerHeight($(row));\n            var element = $(that.element);\n            var initialTableHeight = outerHeight(element);\n            var tableHead = element.children(THEAD);\n            var tableHeadHeight = tableHead.length > 0 ? tableHead.height() : 0;\n            var tableBody = element.children(TBODY);\n            var tableBodyHeight = tableBody.height();\n            var initialStyleHeight = row.style[HEIGHT];\n            var newRowHeight = constrain({\n                value: currentRowHeight + e.y.initialDelta,\n                min: options.min,\n                max: abs(tableHeadHeight + tableBodyHeight - options.min)\n            });\n\n            that._setRowsHeightInPixels();\n            row.style[HEIGHT] = toPixels(newRowHeight);\n            that._setTableHeight(initialTableHeight + (newRowHeight - currentRowHeight));\n\n            if (inPercentages(initialStyleHeight)) {\n                //resize rows in percentages as late as possible to prevent incorrect precision calculations\n                that._setRowsHeightInPercentages();\n            }\n        },\n\n        _setRowsHeightInPixels: function() {\n            var that = this;\n            var rows = $(that.element).children(TBODY + COMMA + THEAD).children(TR);\n            var length = rows.length;\n            var currentRowsHeights = rows.map(function() {\n                return outerHeight($(this));\n            });\n            var i;\n\n            for (i = 0; i < length; i++) {\n                rows[i].style[HEIGHT] = toPixels(currentRowsHeights[i]);\n            }\n        },\n\n        _setRowsHeightInPercentages: function() {\n            var that = this;\n            var tableHead = $(that.element).children(THEAD);\n            var tableHeadHeight = tableHead.length > 0 ? tableHead.height() : 0;\n            var tableBody = $(that.element).children(TBODY);\n            var tableBodyHeight = tableBody.height();\n            var rows = $(that.element).children(THEAD + COMMA + TBODY).children(TR);\n            var length = rows.length;\n            var currentRowsHeights = rows.map(function() {\n                return outerHeight($(this));\n            });\n            var i;\n\n            for (i = 0; i < length; i++) {\n                rows[i].style[HEIGHT] = toPercentages(calculatePercentageRatio(currentRowsHeights[i], tableHeadHeight + tableBodyHeight));\n            }\n        },\n\n        _setTableHeight: function(newHeight) {\n            var element = this.element;\n\n            if (inPercentages(element.style[HEIGHT])) {\n                element.style[HEIGHT] = toPercentages(calculatePercentageRatio(newHeight, $(element).parent().height()));\n            }\n            else {\n                element.style[HEIGHT] = toPixels(newHeight);\n            }\n        }\n    });\n\n    RowResizing.create = function(editor) {\n        TableElementResizing.create(editor, {\n            name: \"rowResizing\",\n            type: RowResizing,\n            eventNamespace: NS\n        });\n    };\n\n    RowResizing.dispose = function(editor) {\n        TableElementResizing.dispose(editor, {\n            eventNamespace: NS\n        });\n    };\n\n    extend(Editor, {\n        RowResizing: RowResizing\n    });\n\n})(window.kendo);\n","import \"../main.js\";\nimport \"../../kendo.draganddrop.js\";\nimport \"./resizing-utils.js\";\n\n(function(kendo, undefined) {\n    var $ = kendo.jQuery;\n    var extend = $.extend;\n    var noop = $.noop;\n\n    var Editor = kendo.ui.editor;\n    var Class = kendo.Class;\n    var Draggable = kendo.ui.Draggable;\n    var Observable = kendo.Observable;\n    var getScrollBarWidth = Editor.ResizingUtils.getScrollBarWidth;\n    var outerWidth = kendo._outerWidth;\n    var outerHeight = kendo._outerHeight;\n\n    var NS = \".kendoEditorElementResizeHandle\";\n    var RESIZE_HANDLE_CLASS = \"k-element-resize-handle\";\n\n    var DRAG_START = \"dragStart\";\n    var DRAG = \"drag\";\n    var DRAG_END = \"dragEnd\";\n    var HALF_INSIDE = \"halfInside\";\n    var MOUSE_OVER = \"mouseover\";\n    var MOUSE_OUT = \"mouseout\";\n\n    var BODY = \"body\";\n    var TABLE = \"table\";\n\n    var EAST = \"east\";\n    var NORTH = \"north\";\n    var NORTHEAST = \"northeast\";\n    var NORTHWEST = \"northwest\";\n    var SOUTH = \"south\";\n    var SOUTHEAST = \"southeast\";\n    var SOUTHWEST = \"southwest\";\n    var WEST = \"west\";\n\n    var DOT = \".\";\n\n    var ElementResizeHandle = Observable.extend({\n        init: function(options) {\n            var that = this;\n\n            Observable.fn.init.call(that);\n\n            that.options = extend({}, that.options, options);\n            that.element = $(that.options.template).appendTo(that.options.appendTo)[0];\n\n            that._attachEventHandlers();\n            that._addStyles();\n            that._initDraggable();\n            that._initPositioningStrategy();\n            that._initDraggingStrategy();\n\n            $(that.element).data(TABLE, that.options.resizableElement);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            $(that.element).off(NS).remove();\n            that.element = null;\n\n            that._destroyDraggable();\n\n            that.unbind();\n        },\n\n        options: {\n            appendTo: null,\n            direction: SOUTHEAST,\n            resizableElement: null,\n            rtl: false,\n            template:\n                \"<div class='k-element-resize-handle-wrapper' unselectable='on' contenteditable='false'>\" +\n                    \"<div class='\" + RESIZE_HANDLE_CLASS + \"'></div>\" +\n                \"</div>\"\n        },\n\n        events: [\n            DRAG_START,\n            DRAG,\n            DRAG_END,\n            MOUSE_OVER,\n            MOUSE_OUT\n        ],\n\n        show: function() {\n            this._setPosition();\n        },\n\n        _setPosition: function() {\n            var that = this;\n            var position = that._positioningStrategy.getPosition();\n\n            $(that.element).css({\n                top: position.top,\n                left: position.left,\n                position: \"absolute\"\n            });\n        },\n\n        _attachEventHandlers: function() {\n            var that = this;\n\n            $(that.element)\n                .on(MOUSE_OVER + NS, that._onMouseOver.bind(that))\n                .on(MOUSE_OUT + NS, that._onMouseOut.bind(that));\n        },\n\n        _onMouseOver: function() {\n            this.trigger(MOUSE_OVER);\n        },\n\n        _onMouseOut: function() {\n            this.trigger(MOUSE_OUT);\n        },\n\n        _addStyles: function() {\n            var that = this;\n            $(that.element).children(DOT + RESIZE_HANDLE_CLASS).addClass(\"k-resize-\" + that.options.direction);\n        },\n\n        _initPositioningStrategy: function() {\n            var that = this;\n            var options = that.options;\n\n            that._positioningStrategy = HandlePositioningStrategy.create({\n                name: options.direction,\n                handle: that.element,\n                resizableElement: options.resizableElement,\n                rootElement: options.rootElement,\n                rtl: options.rtl\n            });\n        },\n\n        _initDraggable: function() {\n            var that = this;\n            var element = that.element;\n\n            if (that._draggable || !element) {\n                return;\n            }\n\n            that._draggable = new Draggable(element, {\n                dragstart: that._onDragStart.bind(that),\n                drag: that._onDrag.bind(that),\n                dragend: that._onDragEnd.bind(that)\n            });\n        },\n\n        _onDragStart: function() {\n            this.trigger(DRAG_START);\n        },\n\n        _onDrag: function(e) {\n            var that = this;\n\n            that.trigger(DRAG, that._draggingStrategy.adjustDragDelta({\n                deltaX: e.x.delta,\n                deltaY: e.y.delta,\n                initialDeltaX: e.x.initialDelta,\n                initialDeltaY: e.y.initialDelta\n            }));\n\n            if (that.options.editor) {\n                that.options.editor._handleSpaceAndNewLines();\n            }\n        },\n\n        _onDragEnd: function() {\n            this.trigger(DRAG_END);\n        },\n\n        _destroyDraggable: function() {\n            var that = this;\n\n            if (that._draggable) {\n                that._draggable.destroy();\n                that._draggable = null;\n            }\n        },\n\n        _initDraggingStrategy: function() {\n            var that = this;\n\n            that._draggingStrategy = HandleDraggingStrategy.create({\n                name: that.options.direction\n            });\n        }\n    });\n\n    var StrategyFactory = Class.extend({\n        init: function() {\n            this._items = [];\n        },\n\n        register: function(name, type) {\n            this._items.push({\n                name: name,\n                type: type\n            });\n        },\n\n        create: function(options) {\n            var items = this._items;\n            var itemsLength = items.length;\n            var name = options.name ? options.name.toLowerCase() : \"\";\n            var match;\n            var item;\n            var i;\n\n            for (i = 0; i < itemsLength; i++) {\n                item = items[i];\n\n                if (item.name.toLowerCase() === name) {\n                    match = item;\n                    break;\n                }\n            }\n\n            if (match) {\n                return new match.type(options);\n            }\n        }\n    });\n\n    var PositioningStrategyFactory = StrategyFactory.extend({});\n    PositioningStrategyFactory.current = new PositioningStrategyFactory();\n\n    var HandlePositioningStrategy = Class.extend({\n        init: function(options) {\n            var that = this;\n            that.options = extend({}, that.options, options);\n        },\n\n        options: {\n            handle: null,\n            offset: HALF_INSIDE,\n            resizableElement: null,\n            rootElement: null,\n            rtl: false\n        },\n\n        getPosition: function() {\n            var that = this;\n\n            var position = that.calculatePosition();\n            var handleOffsetPosition = that.applyHandleOffset(position);\n            var scrollOffsetPosition = that.applyScrollOffset(handleOffsetPosition);\n\n            return scrollOffsetPosition;\n        },\n\n        calculatePosition: noop,\n\n        applyHandleOffset: function(position) {\n            var options = this.options;\n            var handle = $(options.handle);\n\n            if (options.offset === HALF_INSIDE) {\n                return {\n                    top: position.top - (outerHeight(handle) / 2),\n                    left: position.left - (outerWidth(handle) / 2)\n                };\n            }\n\n            return position;\n        },\n\n        applyScrollOffset: function(position) {\n            var options = this.options;\n            var rootElement = $(options.rootElement);\n            var scrollBarWidth = options.rtl ? getScrollBarWidth(rootElement[0]) : 0;\n            var browser = kendo.support.browser;\n            var rootLeft;\n\n            if (!rootElement.is(BODY)) {\n                rootLeft = kendo.scrollLeft(rootElement) || 0;\n\n                if (options.rtl && (browser.mozilla || (browser.webkit && browser.version >= 85))) {\n                    rootLeft = rootLeft * -1;\n                }\n\n                return {\n                    top: position.top + (rootElement.scrollTop() || 0),\n                    left: position.left + rootLeft - scrollBarWidth\n                };\n            }\n\n            return position;\n        }\n    });\n\n    HandlePositioningStrategy.create = function(options) {\n        return PositioningStrategyFactory.current.create(options);\n    };\n\n    var EastPositioningStrategy = HandlePositioningStrategy.extend({\n        calculatePosition: function() {\n            var resizableElement = $(this.options.resizableElement);\n            var offset = resizableElement.position();\n            var marginLeft = parseInt(resizableElement.css(\"marginLeft\"), 10);\n\n            return {\n                top: offset.top + (outerHeight(resizableElement) / 2),\n                left: offset.left + outerWidth(resizableElement) + marginLeft\n            };\n        }\n    });\n    PositioningStrategyFactory.current.register(EAST, EastPositioningStrategy);\n\n    var NorthPositioningStrategy = HandlePositioningStrategy.extend({\n        calculatePosition: function() {\n            var resizableElement = $(this.options.resizableElement);\n            var offset = resizableElement.position();\n            var marginLeft = parseInt(resizableElement.css(\"marginLeft\"), 10);\n\n            return {\n                top: offset.top,\n                left: offset.left + (outerWidth(resizableElement) / 2) + marginLeft\n            };\n        }\n    });\n    PositioningStrategyFactory.current.register(NORTH, NorthPositioningStrategy);\n\n    var NortheastPositioningStrategy = HandlePositioningStrategy.extend({\n        calculatePosition: function() {\n            var resizableElement = $(this.options.resizableElement);\n            var offset = resizableElement.position();\n            var marginLeft = parseInt(resizableElement.css(\"marginLeft\"), 10);\n\n            return {\n                top: offset.top,\n                left: offset.left + outerWidth(resizableElement) + marginLeft\n            };\n        }\n    });\n    PositioningStrategyFactory.current.register(NORTHEAST, NortheastPositioningStrategy);\n\n    var NorthwestPositioningStrategy = HandlePositioningStrategy.extend({\n        calculatePosition: function() {\n            var resizableElement = $(this.options.resizableElement);\n            var offset = resizableElement.position();\n            var marginLeft = parseInt(resizableElement.css(\"marginLeft\"), 10);\n\n            return {\n                top: offset.top,\n                left: offset.left + marginLeft\n            };\n        }\n    });\n    PositioningStrategyFactory.current.register(NORTHWEST, NorthwestPositioningStrategy);\n\n    var SouthPositioningStrategy = HandlePositioningStrategy.extend({\n        calculatePosition: function() {\n            var resizableElement = $(this.options.resizableElement);\n            var offset = resizableElement.position();\n            var marginLeft = parseInt(resizableElement.css(\"marginLeft\"), 10);\n\n            return {\n                top: offset.top + outerHeight(resizableElement),\n                left: offset.left + (outerWidth(resizableElement) / 2) + marginLeft\n            };\n        }\n    });\n    PositioningStrategyFactory.current.register(SOUTH, SouthPositioningStrategy);\n\n    var SoutheastPositioningStrategy = HandlePositioningStrategy.extend({\n        calculatePosition: function() {\n            var resizableElement = $(this.options.resizableElement);\n            var offset = resizableElement.position();\n            var marginLeft = parseInt(resizableElement.css(\"marginLeft\"), 10);\n\n            return {\n                top: offset.top + outerHeight(resizableElement),\n                left: offset.left + outerWidth(resizableElement) + marginLeft\n            };\n        }\n    });\n    PositioningStrategyFactory.current.register(SOUTHEAST, SoutheastPositioningStrategy);\n\n    var SouthwestPositioningStrategy = HandlePositioningStrategy.extend({\n        calculatePosition: function() {\n            var resizableElement = $(this.options.resizableElement);\n            var offset = resizableElement.position();\n            var marginLeft = parseInt(resizableElement.css(\"marginLeft\"), 10);\n\n            return {\n                top: offset.top + outerHeight(resizableElement),\n                left: offset.left + marginLeft\n            };\n        }\n    });\n    PositioningStrategyFactory.current.register(SOUTHWEST, SouthwestPositioningStrategy);\n\n    var WestPositioningStrategy = HandlePositioningStrategy.extend({\n        calculatePosition: function() {\n            var resizableElement = $(this.options.resizableElement);\n            var offset = resizableElement.position();\n            var marginLeft = parseInt(resizableElement.css(\"marginLeft\"), 10);\n\n            return {\n                top: offset.top + (outerHeight(resizableElement) / 2),\n                left: offset.left + marginLeft\n            };\n        }\n    });\n    PositioningStrategyFactory.current.register(WEST, WestPositioningStrategy);\n\n    var DraggingStrategyFactory = StrategyFactory.extend({});\n    DraggingStrategyFactory.current = new DraggingStrategyFactory();\n\n    var HandleDraggingStrategy = Class.extend({\n        init: function(options) {\n            var that = this;\n            that.options = extend({}, that.options, options);\n        },\n\n        options: {\n            deltaX: {\n                adjustment: null,\n                modifier: null\n            },\n            deltaY: {\n                adjustment: null,\n                modifier: null\n            }\n        },\n\n        adjustDragDelta: function(deltas) {\n            var options = this.options;\n            var xAxisAdjustment = options.deltaX.adjustment * options.deltaX.modifier;\n            var yAxisAdjustment = options.deltaY.adjustment * options.deltaY.modifier;\n\n            return {\n                deltaX: deltas.deltaX * xAxisAdjustment,\n                deltaY: deltas.deltaY * yAxisAdjustment,\n                initialDeltaX: deltas.initialDeltaX * xAxisAdjustment,\n                initialDeltaY: deltas.initialDeltaY * yAxisAdjustment\n            };\n        }\n    });\n\n    HandleDraggingStrategy.create = function(options) {\n        return DraggingStrategyFactory.current.create(options);\n    };\n\n    var HorizontalDraggingStrategy = HandleDraggingStrategy.extend({\n        options: {\n            deltaX: {\n                adjustment: 1,\n                modifier: 1\n            },\n            deltaY: {\n                adjustment: 0,\n                modifier: 0\n            }\n        }\n    });\n\n    var EastDraggingStrategy = HorizontalDraggingStrategy.extend({\n        options: {\n            deltaX: {\n                modifier: 1\n            }\n        }\n    });\n    DraggingStrategyFactory.current.register(EAST, EastDraggingStrategy);\n\n    var WestDraggingStrategy = HorizontalDraggingStrategy.extend({\n        options: {\n            deltaX: {\n                modifier: (-1)\n            }\n        }\n    });\n    DraggingStrategyFactory.current.register(WEST, WestDraggingStrategy);\n\n    var VerticalDraggingStrategy = HandleDraggingStrategy.extend({\n        options: {\n            deltaX: {\n                adjustment: 0,\n                modifier: 0\n            },\n            deltaY: {\n                adjustment: 1,\n                modifier: 1\n            }\n        }\n    });\n\n    var NorthDraggingStrategy = VerticalDraggingStrategy.extend({\n        options: {\n            deltaY: {\n                modifier: (-1)\n            }\n        }\n    });\n    DraggingStrategyFactory.current.register(NORTH, NorthDraggingStrategy);\n\n    var SouthDraggingStrategy = VerticalDraggingStrategy.extend({\n        options: {\n            deltaY: {\n                modifier: 1\n            }\n        }\n    });\n    DraggingStrategyFactory.current.register(SOUTH, SouthDraggingStrategy);\n\n    var HorizontalAndVerticalDraggingStrategy = HandleDraggingStrategy.extend({\n        options: {\n            deltaX: {\n                adjustment: 1,\n                modifier: 1\n            },\n            deltaY: {\n                adjustment: 1,\n                modifier: 1\n            }\n        }\n    });\n\n    var NorthEastDraggingStrategy = HorizontalAndVerticalDraggingStrategy.extend({\n        options: {\n            deltaX: {\n                modifier: 1\n            },\n            deltaY: {\n                modifier: (-1)\n            }\n        }\n    });\n    DraggingStrategyFactory.current.register(NORTHEAST, NorthEastDraggingStrategy);\n\n    var NorthWestDraggingStrategy = HorizontalAndVerticalDraggingStrategy.extend({\n        options: {\n            deltaX: {\n                modifier: (-1)\n            },\n            deltaY: {\n                modifier: (-1)\n            }\n        }\n    });\n    DraggingStrategyFactory.current.register(NORTHWEST, NorthWestDraggingStrategy);\n\n    var SouthEastDraggingStrategy = HorizontalAndVerticalDraggingStrategy.extend({\n        options: {\n            deltaX: {\n                modifier: 1\n            },\n            deltaY: {\n                modifier: 1\n            }\n        }\n    });\n    DraggingStrategyFactory.current.register(SOUTHEAST, SouthEastDraggingStrategy);\n\n    var SouthWestDraggingStrategy = HorizontalAndVerticalDraggingStrategy.extend({\n        options: {\n            deltaX: {\n                modifier: (-1)\n            },\n            deltaY: {\n                modifier: 1\n            }\n        }\n    });\n    DraggingStrategyFactory.current.register(SOUTHWEST, SouthWestDraggingStrategy);\n\n    extend(Editor, {\n        ElementResizeHandle: ElementResizeHandle\n    });\n})(window.kendo);\n","import \"../main.js\";\nimport \"./element-resize-handle.js\";\nimport \"./resizing-utils.js\";\n\n(function(kendo, undefined) {\n    var global = window;\n    var math = global.Math;\n    var min = math.min;\n    var max = math.max;\n\n    var $ = kendo.jQuery;\n    var contains = $.contains;\n    var extend = $.extend;\n\n    var browser = kendo.support.browser;\n    var Editor = kendo.ui.editor;\n    var Class = kendo.Class;\n    var ElementResizeHandle = Editor.ElementResizeHandle;\n    var ResizingUtils = Editor.ResizingUtils;\n    var calculatePercentageRatio = ResizingUtils.calculatePercentageRatio;\n    var constrain = ResizingUtils.constrain;\n    var inPercentages = ResizingUtils.inPercentages;\n    var inPixels = ResizingUtils.inPixels;\n    var toPercentages = ResizingUtils.toPercentages;\n    var toPixels = ResizingUtils.toPixels;\n    var outerWidth = kendo._outerWidth;\n    var outerHeight = kendo._outerHeight;\n    var RangeUtils = Editor.RangeUtils;\n\n    var NS = \".kendoEditorElementResizing\";\n    var RESIZE_HANDLE_WRAPPER_CLASS = \"k-element-resize-handle-wrapper\";\n    var TABLE_CLASS = \"k-table\";\n    var ELEMENT_RESIZING_CLASS = \"k-element-resizing\";\n\n    var DRAG_START = \"dragStart\";\n    var DRAG = \"drag\";\n    var DRAG_END = \"dragEnd\";\n    var KEY_DOWN = \"keydown\";\n    var MOUSE_DOWN = \"mousedown\";\n    var SELECT = \"select\";\n    var DROP = \"drop\";\n\n    var COLUMN = \"td\";\n    var ROW = \"tr\";\n    var TBODY = \"tbody\";\n    var THEAD = \"thead\";\n    var TABLE = \"table\";\n    var IMG = \"img\";\n    var ELEMENT_TYPES = [\"TABLE\", \"IMG\"];\n\n    var COMMA = \",\";\n    var WIDTH = \"width\";\n    var HEIGHT = \"height\";\n\n    var EAST = \"east\";\n    var NORTH = \"north\";\n    var NORTHEAST = \"northeast\";\n    var NORTHWEST = \"northwest\";\n    var SOUTH = \"south\";\n    var SOUTHEAST = \"southeast\";\n    var SOUTHWEST = \"southwest\";\n    var WEST = \"west\";\n\n    var DOT = \".\";\n\n    function isUndefined(value) {\n        return typeof(value) === \"undefined\";\n    }\n\n    var ElementResizing = Class.extend({\n        init: function(element, options) {\n            var that = this;\n\n            that.options = extend({}, that.options, options);\n            that.handles = [];\n\n            // Check whether the element is TABLE or IMG\n            if (ELEMENT_TYPES.indexOf(element.nodeName) >= 0) {\n                that.element = element;\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            $(that.element).off(NS);\n            that.element = null;\n\n            $(that.options.rootElement).off(KEY_DOWN + NS);\n\n            that._destroyResizeHandles();\n        },\n\n        options: {\n            appendHandlesTo: null,\n            rtl: false,\n            rootElement: null,\n            minWidth: 10,\n            minHeight: 10,\n            handles: [{\n                direction: NORTHWEST\n            }, {\n                direction: NORTH\n            }, {\n                direction: NORTHEAST\n            }, {\n                direction: EAST\n            }, {\n                direction: SOUTHEAST\n            }, {\n                direction: SOUTH\n            }, {\n                direction: SOUTHWEST\n            }, {\n                direction: WEST\n            }]\n        },\n\n        resize: function(args) {\n            var that = this;\n            var deltas = extend({}, {\n                deltaX: 0,\n                deltaY: 0,\n                initialDeltaX: 0,\n                initialDeltaY: 0\n            }, args);\n\n            that._resizeWidth(deltas.deltaX, deltas.initialDeltaX);\n            that._resizeHeight(deltas.deltaY, deltas.initialDeltaY);\n\n            that.showResizeHandles();\n        },\n\n        _resizeWidth: function() {\n            return false;\n        },\n\n        _resizeHeight: function() {\n            return false;\n        },\n\n        _getMaxDimensionValue: function(dimension) {\n            var that = this;\n            var element = $(that.element);\n            var dimensionLowercase = dimension.toLowerCase();\n            var rtlModifier = that.options.rtl ? (-1) : 1;\n            var parent = $(that.element).parent();\n            var parentElement = parent[0];\n            var parentDimension = parent[dimensionLowercase]();\n            var parentScrollOffset = rtlModifier * (dimension === WIDTH ? kendo.scrollLeft(parent) : parent.scrollTop());\n\n            if (parentElement && parentElement === element.closest(COLUMN)[0]) {\n                if (parentElement.style[dimensionLowercase] === \"\" && !inPercentages(that.element.style[dimensionLowercase])) {\n                    return Infinity;\n                }\n                else {\n                    return (parentDimension + parentScrollOffset);\n                }\n            }\n            else {\n                return (parentDimension + parentScrollOffset);\n            }\n        },\n\n        showResizeHandles: function() {\n            var that = this;\n\n            that._initResizeHandles();\n            that._showResizeHandles();\n        },\n\n        _initResizeHandles: function() {\n            var that = this;\n            var handles = that.handles;\n            var options = that.options;\n            var handleOptions = that.options.handles;\n            var length = handleOptions.length;\n            var i;\n\n            if (handles && handles.length > 0) {\n                return;\n            }\n\n            for (i = 0; i < length; i++) {\n                that.handles.push(new ElementResizeHandle(extend({\n                    appendTo: options.appendHandlesTo,\n                    resizableElement: that.element,\n                    rootElement: options.rootElement,\n                    rtl: options.rtl,\n                    editor: that.options.editor\n                }, handleOptions[i])));\n            }\n\n            that._bindToResizeHandlesEvents();\n        },\n\n        _destroyResizeHandles: function() {\n            var that = this;\n            var length = that.handles ? that.handles.length : 0;\n\n            for (var i = 0; i < length; i++) {\n                that.handles[i].destroy();\n            }\n\n            that.handles = [];\n        },\n\n        _showResizeHandles: function() {\n            var that = this;\n            var handles = that.handles || [];\n            var length = handles.length;\n            var i;\n\n            for (i = 0; i < length; i++) {\n                that.handles[i].show();\n            }\n        },\n\n        _bindToResizeHandlesEvents: function() {\n            return false;\n        },\n\n        _onResizeHandleDragStart: function() {\n            var that = this;\n            var element = $(that.element);\n\n            element.addClass(ELEMENT_RESIZING_CLASS);\n\n            that._initialElementHeight = outerHeight(element);\n            that._initialElementWidth = outerWidth(element);\n            that._disableKeyboard();\n        },\n\n        _onResizeHandleDrag: function(e) {\n            this.resize(e);\n        },\n\n        _onResizeHandleDragEnd: function() {\n            var that = this;\n            $(that.element).removeClass(ELEMENT_RESIZING_CLASS);\n            that._enableKeyboard();\n        },\n\n        _enableKeyboard: function() {\n            $(this.options.rootElement).off(KEY_DOWN + NS);\n        },\n\n        _disableKeyboard: function() {\n            $(this.options.rootElement).on(KEY_DOWN + NS, function(e) {\n                e.preventDefault();\n            });\n        }\n    });\n\n    var TableResizing = ElementResizing.extend({\n        _bindToResizeHandlesEvents: function() {\n            var that = this;\n            var handles = that.handles || [];\n            var length = handles.length;\n            var i;\n            var handle;\n\n            for (i = 0; i < length; i++) {\n                handle = handles[i];\n                handle.bind(DRAG_START, that._onResizeHandleDragStart.bind(that));\n                handle.bind(DRAG, that._onResizeHandleDrag.bind(that));\n                handle.bind(DRAG_END, that._onResizeHandleDragEnd.bind(that));\n            }\n        },\n\n        _hasRowsInPixels: function() {\n            var that = this;\n            var rows = $(that.element).children(THEAD + COMMA + TBODY).children(ROW);\n\n            for (var i = 0; i < rows.length; i++) {\n                if (rows[i].style.height === \"\" || inPixels(rows[i].style.height)) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        _resizeWidth: function(delta, initialDelta) {\n            var that = this;\n            var element = $(that.element);\n            var styleWidth = element[0].style[WIDTH];\n            var currentWidth = outerWidth(element);\n            var parentWidth = element.parent().width();\n            var maxWidth = that._getMaxDimensionValue(WIDTH);\n            var newWidth;\n            var ratioValue;\n            var ratioTotalValue;\n            var constrainedWidth;\n\n            if (delta === 0) {\n                return;\n            }\n\n            if (isUndefined(that._initialElementWidth)) {\n                that._initialElementWidth = currentWidth;\n            }\n\n            //use initial delta instead of delta as changing the width with a small value (e.g. 1px)\n            //on each drag does not work due to browser calculation of computed styles\n            constrainedWidth = constrain({\n                value: that._initialElementWidth + initialDelta,\n                min: that.options.minWidth,\n                max: maxWidth\n            });\n\n            if (inPercentages(styleWidth)) {\n                //detect resizing greater than 100%\n                if (currentWidth + delta > parentWidth) {\n                    ratioValue = max(constrainedWidth, parentWidth);\n                    ratioTotalValue = min(constrainedWidth, parentWidth);\n                }\n                else {\n                    ratioValue = min(constrainedWidth, parentWidth);\n                    ratioTotalValue = max(constrainedWidth, parentWidth);\n                }\n\n                newWidth = toPercentages(calculatePercentageRatio(ratioValue, ratioTotalValue));\n            }\n            else {\n                newWidth = toPixels(constrainedWidth);\n            }\n\n            that._setColumnsWidth();\n\n            element[0].style[WIDTH] = newWidth;\n        },\n\n        _resizeHeight: function(delta, initialDelta) {\n            var that = this;\n            var element = $(that.element);\n            var styleHeight = element[0].style[HEIGHT];\n            var currentHeight = outerHeight(element);\n            var parent = element.parent();\n            var parentHeight = parent.height();\n            var maxHeight = that._getMaxDimensionValue(HEIGHT);\n            var newHeight;\n            var ratioValue;\n            var ratioTotalValue;\n            var constrainedHeight;\n            var minHeight = that.options.minHeight;\n            var hasRowsInPixels = that._hasRowsInPixels();\n\n            if (delta === 0) {\n                return;\n            }\n\n            if (isUndefined(that._initialElementHeight)) {\n                that._initialElementHeight = currentHeight;\n            }\n\n            //use initial delta instead of delta as changing the height with a small value (e.g. 1px)\n            //on each drag does not work due to browser calculation of computed styles\n            constrainedHeight = constrain({\n                value: that._initialElementHeight + initialDelta,\n                min: minHeight,\n                max: maxHeight\n            });\n\n            if (hasRowsInPixels && delta < 0) {\n                //decreasing table height when rows are sized in pixels is not possible\n                that._setRowsHeightInPercentages();\n            }\n\n            if (inPercentages(styleHeight)) {\n                //detect resizing greater than 100%\n                if (currentHeight + delta > parentHeight) {\n                    ratioValue = max(constrainedHeight, parentHeight);\n                    ratioTotalValue = min(constrainedHeight, parentHeight);\n                }\n                else {\n                    ratioValue = min(constrainedHeight, parentHeight);\n                    ratioTotalValue = max(constrainedHeight, parentHeight);\n                }\n\n                newHeight = toPercentages(calculatePercentageRatio(ratioValue, ratioTotalValue));\n            }\n            else {\n                newHeight = toPixels(constrainedHeight);\n            }\n\n            element[0].style[HEIGHT] = newHeight;\n\n            if (hasRowsInPixels && delta < 0) {\n                //restore original rows height unit\n                that._setRowsHeightInPixels();\n            }\n        },\n\n        _setColumnsWidth: function() {\n            var that = this;\n            var element = $(that.element);\n            var parentElement = element.parent()[0];\n            var parentColumn = element.closest(COLUMN);\n            var columns = parentColumn.closest(ROW).children();\n            var columnsLength = columns.length;\n            var i;\n\n            function isWidthInPercentages(element) {\n                var styleWidth = element.style.width;\n\n                if (styleWidth !== \"\") {\n                    return inPercentages(styleWidth) ? true : false;\n                }\n                else {\n                    return $(element).hasClass(TABLE_CLASS) ? true : false;\n                }\n            }\n\n            if (isWidthInPercentages(element[0]) && parentElement === parentColumn[0] && parentElement.style[WIDTH] === \"\") {\n                for (i = 0; i < columnsLength; i++) {\n                    columns[i].style[WIDTH] = toPixels($(columns[i]).width());\n                }\n            }\n        },\n\n        _setRowsHeightInPercentages: function() {\n            var that = this;\n            var tableHead = $(that.element).children(THEAD);\n            var tableHeadHeight = tableHead.length > 0 ? tableHead.height() : 0;\n            var tableBody = $(that.element).children(TBODY);\n            var tableBodyHeight = tableBody.height();\n            var rows = $(that.element).children(THEAD + COMMA + TBODY).children(ROW);\n            var length = rows.length;\n            var currentRowsHeights = rows.map(function() {\n                return outerHeight($(this));\n            });\n            var i;\n\n            for (i = 0; i < length; i++) {\n                rows[i].style[HEIGHT] = toPercentages(calculatePercentageRatio(currentRowsHeights[i], tableHeadHeight + tableBodyHeight));\n            }\n        },\n\n        _setRowsHeightInPixels: function() {\n            var that = this;\n            var rows = $(that.element).children(THEAD + COMMA + TBODY).children(ROW);\n            var length = rows.length;\n            var currentRowsHeights = rows.map(function() {\n                return outerHeight($(this));\n            });\n            var i;\n\n            for (i = 0; i < length; i++) {\n                rows[i].style[HEIGHT] = toPixels(currentRowsHeights[i]);\n            }\n        }\n    });\n\n    var ImageResizing = ElementResizing.extend({\n        _bindToResizeHandlesEvents: function() {\n            var that = this;\n            var handles = that.handles || [];\n            var length = handles.length;\n            var i;\n            var handle;\n\n            for (i = 0; i < length; i++) {\n                handle = handles[i];\n                handle.bind(DRAG_START, that._onResizeHandleDragStart.bind(that));\n\n                if (handle.options.direction === \"north\" || handle.options.direction === \"south\") {\n                    handle.bind(DRAG, that._onResizeHandleDragVertical.bind(that));\n                } else if (handle.options.direction === \"east\" || handle.options.direction === \"west\") {\n                    handle.bind(DRAG, that._onResizeHandleDragHorizontal.bind(that));\n                } else {\n                    handle.bind(DRAG, that._onResizeHandleDragLocked.bind(that));\n                }\n\n                handle.bind(DRAG_END, that._onResizeHandleDragEnd.bind(that));\n            }\n        },\n\n        _getDeltas: function(args) {\n            return extend({}, {\n                deltaX: 0,\n                deltaY: 0,\n                initialDeltaX: 0,\n                initialDeltaY: 0\n            }, args);\n        },\n\n        _onResizeHandleDragVertical: function(args) {\n            var deltas = this._getDeltas(args);\n\n            this._resizeHeight(deltas.deltaY, deltas.initialDeltaY);\n            this.showResizeHandles();\n        },\n\n        _onResizeHandleDragHorizontal: function(args) {\n            var deltas = this._getDeltas(args);\n\n            this._resizeWidth(deltas.deltaX, deltas.initialDeltaX);\n            this.showResizeHandles();\n        },\n\n        _onResizeHandleDragLocked: function(args) {\n            var min = Math.min(Math.abs(args.initialDeltaX), Math.abs(args.initialDeltaY)),\n                initialWidth = this._initialElementWidth,\n                initialHeight = this._initialElementHeight,\n                deltas;\n\n            if (min === args.initialDeltaX || min === args.initialDeltaX * -1) {\n                args.initialDeltaY = args.initialDeltaX * initialHeight / initialWidth;\n                args.deltaY = args.deltaX;\n            } else if (min === args.initialDeltaY || min === args.initialDeltaY * -1) {\n                args.initialDeltaX = args.initialDeltaY * initialWidth / initialHeight;\n                args.deltaX = args.deltaY;\n            }\n\n            deltas = this._getDeltas(args);\n\n            this._resizeWidth(deltas.deltaX, deltas.initialDeltaX);\n            this._resizeHeight(deltas.deltaY, deltas.initialDeltaY);\n\n            this.showResizeHandles();\n        },\n\n        _resizeWidth: function(delta, initialDelta) {\n            var that = this;\n            var element = $(that.element);\n            var currentWidth = outerWidth(element);\n            var newWidth;\n            var constrainedWidth;\n\n            if (delta === 0) {\n                return;\n            }\n\n            if (isUndefined(that._initialElementWidth)) {\n                that._initialElementWidth = currentWidth;\n            }\n\n            //use initial delta instead of delta as changing the width with a small value (e.g. 1px)\n            //on each drag does not work due to browser calculation of computed styles\n            constrainedWidth = constrain({\n                value: that._initialElementWidth + initialDelta,\n                min: that.options.minWidth,\n                max: that._getMaxDimensionValue(WIDTH)\n            });\n\n            newWidth = toPixels(constrainedWidth);\n            element[0].style[WIDTH] = newWidth;\n            element.attr(WIDTH, Math.floor(constrainedWidth));\n        },\n\n        _resizeHeight: function(delta, initialDelta) {\n            var that = this;\n            var element = $(that.element);\n            var currentHeight = outerHeight(element);\n            var newHeight;\n            var constrainedHeight;\n\n            if (delta === 0) {\n                return;\n            }\n\n            if (isUndefined(that._initialElementHeight)) {\n                that._initialElementHeight = currentHeight;\n            }\n\n            //use initial delta instead of delta as changing the height with a small value (e.g. 1px)\n            //on each drag does not work due to browser calculation of computed styles\n            constrainedHeight = constrain({\n                value: that._initialElementHeight + initialDelta,\n                min: that.options.minHeight,\n                max: Number.MAX_SAFE_INTEGER\n            });\n\n            newHeight = toPixels(constrainedHeight);\n            element[0].style[HEIGHT] = newHeight;\n            element.attr(HEIGHT, Math.floor(constrainedHeight));\n        }\n    });\n\n    const ElementResizingFactory = Class.extend({\n        create: function(editor) {\n            let factory = this;\n\n            $(editor.body)\n                .on(\"dragstart\" + NS, function() {\n                    var nodes = RangeUtils.nodes(editor.getRange()),\n                        hasImg = false;\n\n                    nodes.forEach(function(node) {\n                        if (node.nodeName === \"IMG\") {\n                            hasImg = true;\n                        }\n                    });\n\n                    if (hasImg && nodes.length > 1) {\n                        editor.elementResizing._destroyResizeHandles();\n                    }\n                })\n                .on(DROP + NS, function() {\n                    setTimeout(function() {\n                        var image = RangeUtils.image(editor.getRange());\n\n                        if (image) {\n                            editor.elementResizing._destroyResizeHandles();\n                            editor.elementResizing.element = image;\n                            editor.elementResizing.showResizeHandles();\n                        }\n                    });\n                })\n                .on(MOUSE_DOWN + NS, TABLE + COMMA + IMG, function(e) {\n                    var eventTarget = e.target;\n                    var eventCurrentTarget = e.currentTarget;\n                    var elementResizing = editor.elementResizing;\n                    var element = elementResizing ? elementResizing.element : null;\n\n                    if (elementResizing) {\n                        if (element && eventCurrentTarget !== element) {\n                            if (contains(eventCurrentTarget, element) && element !== eventTarget && contains(element, eventTarget)) {\n                                //prevent a parent table resizing init when clicking on a nested table when the event bubbles\n                                //instead of stopping event propagation\n                                return;\n                            }\n                            else {\n                                if (element !== eventTarget) {\n                                    editor._destroyElementResizing();\n                                    factory._initResizing(editor, eventCurrentTarget);\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        factory._initResizing(editor, eventCurrentTarget);\n                    }\n\n                    editor._showElementResizeHandles();\n                })\n                .on(MOUSE_DOWN + NS, function(e) {\n                    var elementResizing = editor.elementResizing;\n                    var element = elementResizing ? elementResizing.element : null;\n                    var target = e.target;\n                    var isResizeHandleOrChild = $(target).hasClass(RESIZE_HANDLE_WRAPPER_CLASS) || $(target).parents(DOT + RESIZE_HANDLE_WRAPPER_CLASS).length > 0;\n\n                    if (elementResizing && element !== target && !contains(element, target) && !isResizeHandleOrChild) {\n                        editor._destroyElementResizing();\n                    }\n                });\n        },\n\n        dispose: function(editor) {\n            $(editor.body).off(NS);\n        },\n\n        _initResizing: function(editor, element) {\n            // table and image resizing is natively supported in IE\n            // https://stackoverflow.com/questions/53831846/resizing-images-in-contenteditable-div-stopped-working-in-firefox\n            // Enable custom resize handlers for FF too\n            if (!browser.msie) {\n                if ($(element).is(TABLE)) {\n                    editor.elementResizing = editor.tableResizing = new TableResizing(element, {\n                        appendHandlesTo: editor.body,\n                        rtl: kendo.support.isRtl(editor.element),\n                        rootElement: editor.body,\n                        editor: editor\n                    });\n                } else if ($(element).is(IMG)) {\n                    editor.elementResizing = new ImageResizing(element, {\n                        appendHandlesTo: editor.body,\n                        rtl: kendo.support.isRtl(editor.element),\n                        rootElement: editor.body,\n                        editor: editor\n                    });\n                }\n\n                if (editor._showElementResizeHandlesProxy) {\n                    editor.unbind(SELECT, editor._showElementResizeHandlesProxy);\n                    editor.bind(SELECT, editor._showElementResizeHandlesProxy);\n                }\n            }\n        }\n    });\n\n    ElementResizingFactory.current = new ElementResizingFactory();\n\n    extend(Editor, {\n        TableResizing: TableResizing,\n        ImageResizing: ImageResizing,\n        ElementResizing: ElementResizing,\n        ElementResizingFactory: ElementResizingFactory\n    });\n\n})(window.kendo);\n","import \"./../plugins/tables.js\";\n\n(function($, undefined) {\n\nvar kendo = window.kendo,\n    Editor = kendo.ui.editor,\n    EditorUtils = Editor.EditorUtils,\n    RangeUtils = Editor.RangeUtils,\n    dom = Editor.Dom,\n    registerTool = EditorUtils.registerTool,\n    Command = Editor.Command;\n\nvar tableFormatFinder = new Editor.BlockFormatFinder([{ tags: [\"table\"] }]);\nvar cellsFormatFinder = new Editor.BlockFormatFinder([{ tags: [\"td\",\"th\"] }]);\nvar reUnit = /([a-z]+|%)$/i;\n\nvar COL = \"col\";\nvar ROW = \"row\";\nvar COLGROUP = \"colgroup\";\nvar SCOPE = \"scope\";\nvar COL_INDEX = \"col-index\";\nvar TH = \"th\";\nvar TD = \"td\";\nvar THEAD = \"thead\";\nvar HEADERS = \"headers\";\nvar TABLE = \"table\";\n\nvar TableWizardCommand = Command.extend({\n    exec: function() {\n        var cmd = this;\n        var editor = cmd.editor;\n        var range = cmd.range = cmd.lockRange();\n        var isTableCellWizard = cmd.options.tableCellWizard;\n        var selectedTable = cmd._sourceTable = !cmd.options.insertNewTable ? cmd._selectedTable(range) : undefined;\n        var selectedCells = cmd._selectedTableCells = selectedTable ? cmd._selectedCells(range) : undefined;\n        var options = {\n            visible: false,\n            messages: editor.options.messages,\n            closeCallback: cmd.onDialogClose.bind(cmd),\n            table: cmd.parseTable(selectedTable, selectedCells),\n            dialogOptions: editor.options.dialogOptions,\n            isRtl: kendo.support.isRtl(editor.wrapper)\n        };\n\n        var dialog = new Editor.TableWizardDialog(options);\n        dialog.open(isTableCellWizard);\n    },\n\n    onDialogClose: function(data) {\n        var cmd = this;\n        cmd.releaseRange(cmd.range);\n\n        if (data) { //Ok button pressed\n            if (cmd.options.insertNewTable) {\n                cmd.insertTable(cmd.createNewTable(data));\n            } else {\n                cmd.updateTable(data, cmd._sourceTable, cmd._selectedTableCells);\n            }\n        }\n    },\n    releaseRange: function(range) {\n        var cmd = this;\n        var doc = cmd.editor.document;\n        dom.windowFromDocument(doc).focus();\n        Command.fn.releaseRange.call(cmd, range);\n    },\n    insertTable: function(table) {\n        var range = this.range;\n\n        range.insertNode(table);\n        range.collapse(true);\n        this.editor.selectRange(range);\n\n        this._ensureFocusableAfterTable(table);\n    },\n    _ensureFocusableAfterTable: function(table) {\n        var siblingNodes = $(table).parent().contents();\n        var lastSiblingIndex = siblingNodes.length - 1;\n        var lastSibling = siblingNodes.get(lastSiblingIndex);\n\n        while (lastSibling.nodeValue !== null && (lastSibling.nodeValue === \" \" || lastSibling.nodeValue === \"\")) {\n            lastSiblingIndex -= 1;\n            lastSibling = siblingNodes.get(lastSiblingIndex);\n        }\n\n        if (lastSibling === table) {\n            dom.insertAfter(dom.createEmptyNode(this.editor.document, \"p\"), table);\n        }\n    },\n    updateTable: function(data, table, selectedCells) {\n        var cmd = this;\n        var tableRows = $(table.rows).toArray();\n        var tableProp = data.tableProperties;\n        var rows = tableProp.rows;\n        var tHead = table.tHead;\n        var last = cmd._lastInCollection;\n        var lastSelectedRow, cellProp;\n\n        //Leave only first selected cell\n        while (selectedCells.length > 1) {\n            selectedCells.pop();\n        }\n\n        lastSelectedRow = selectedCells.length ? last(selectedCells).parentNode : last(tableRows);\n\n        cmd._deleteTableRows(tableRows, tableRows.length - rows);\n\n        if (tableRows.length < rows) {\n            cmd._addRows(lastSelectedRow, rows, tableRows);\n        }\n\n        dom.reMapTableColumns(table, COL_INDEX);\n        cmd._updateColumns(tableRows, tableProp.columns, selectedCells, lastSelectedRow);\n        cmd._updateTableProperties(table, tableProp);\n\n        cellProp = data.cellProperties;\n        if (selectedCells[0]) {\n            dom.attr(selectedCells[0], { id: (cellProp || {}).id || null });\n        }\n        if (cellProp) {\n            (cellProp.selectAllCells ? $(tableRows).children() : $(selectedCells)).each(function(i, cell) {\n                cmd._updateCellProperties(cell, cellProp, tableProp);\n            });\n        }\n\n        cmd._updateCaption(table, tableProp);\n\n        if (tHead) {\n            cmd._updateHeadersWithThead(table, data);\n        } else {\n            cmd._updateHeadersNoThead(table, data);\n        }\n\n        cmd._updateHeaderAssociates(table, tableProp);\n        dom.clearTableMappings(table, COL_INDEX);\n    },\n    _isHeadingRow: function(row) {\n        return dom.is(row.cells[0], TH) && dom.is(row.parentNode, THEAD);\n    },\n    _isHeadingCell: function(cell) {\n        return dom.is(cell, TH);\n    },\n    cellsWithHeadersAssociated: function(table) {\n        var cells = $(table.rows).children();\n        var headingIds = [];\n        var checkHeader = function(header) {\n            return headingIds.indexOf(header) > -1;\n        };\n\n        cells.each(function(c, cell) {\n            if (cell.id && dom.is(cell, TH)) {\n                headingIds.push(cell.id);\n            }\n        });\n\n        var associatedCells = cells.filter(function(c, cell) {\n            var headersAttr = cell.getAttribute(HEADERS);\n            var headersArray;\n\n            if (headersAttr && !dom.is(cell, TH)) {\n                headersArray = headersAttr.split(\" \");\n\n                if (headersArray && headersArray.length > 0) {\n                    return headersArray.some(checkHeader);\n                }\n            }\n\n            return false;\n        });\n\n        return !!associatedCells.length;\n    },\n    _insertCells: function(count, row, index) {\n        index = isNaN(index) ? -1 : index;\n        for (var i = 0, cell; i < count; i++) {\n            cell = row.insertCell(index);\n            cell.innerHTML = \"&nbsp;\";\n        }\n    },\n    _deleteTableRows: function(rows, count) {\n        for (var i = 0, row, rowParent; i < count; i++) {\n            row = rows.pop();\n            rowParent = row.parentNode;\n            rowParent.removeChild(row);\n            if (!rowParent.rows.length) {\n                dom.remove(rowParent);\n            }\n        }\n    },\n    createNewTable: function(data) {\n        var cmd = this;\n        var doc = cmd.editor.document;\n        var tableProp = data.tableProperties;\n        var table = dom.create(doc, TABLE);\n        var rowIndex = 0;\n        var thead;\n\n        cmd._updateTableProperties(table, tableProp);\n        cmd._updateCaption(table, tableProp);\n\n        if (tableProp.headerRows && tableProp.headerRows > 0) {\n            thead = table.createTHead();\n            cmd._createTableRows(data, thead, rowIndex, true);\n            rowIndex += tableProp.headerRows;\n        }\n\n        var tbody = table.createTBody();\n        cmd._createTableRows(data, tbody, rowIndex, false);\n\n        dom.reMapTableColumns(table, COL_INDEX);\n\n        if (tableProp.cellsWithHeaders === \"ids\") {\n            dom.associateWithIds(table);\n        } else if (tableProp.cellsWithHeaders === \"scope\") {\n            cmd._addScopes(table, tableProp.headerRows, tableProp.headerColumns);\n        }\n\n        dom.clearTableMappings(table, COL_INDEX);\n\n        return table;\n    },\n    _createTableRows: function(data, container, initialIndex, headerRows) {\n        var cmd = this;\n        var tableProp = data.tableProperties;\n        var cellProp = data.cellProperties;\n        var columns = tableProp.columns;\n        var rows = headerRows ? tableProp.headerRows : tableProp.rows;\n        var headerColumns = tableProp.headerColumns;\n\n        for (var r = initialIndex, row; r < rows; r++) {\n            row = container.insertRow();\n\n            for (var c = 0, cell; c < columns; c++) {\n                if (headerRows || headerColumns > c) {\n                    cell = document.createElement(TH);\n                } else {\n                    cell = document.createElement(TD);\n                }\n\n                row.appendChild(cell);\n                cell.innerHTML = \"&nbsp;\";\n                if (cellProp && r === 0 && c === 0 && cellProp.id) {\n                    cell.id = cellProp.id;\n                }\n\n                cmd._updateCellProperties(cell, cellProp && (cellProp.selectAllCells || (r === 0 && c === 0)) ? cellProp : {}, tableProp);\n            }\n        }\n    },\n    _addRows: function(lastSelectedRow, rows, tableRows) {\n        var cmd = this;\n        var rowIndex = $(lastSelectedRow).index();\n        var cellsLength = lastSelectedRow.cells.length;\n        var newRowsCount = rows - tableRows.length;\n        var parent = lastSelectedRow.parentNode;\n        var row;\n\n        while (newRowsCount) {\n            row = parent.insertRow(rowIndex + 1);\n            cmd._insertCells(cellsLength - row.cells.length, row);\n            newRowsCount--;\n        }\n    },\n    _updateColumns: function(tableRows, columns, selectedCells, lastSelectedRow) {\n        var cmd = this;\n        var last = cmd._lastInCollection;\n        var firstRowLastCell = last(tableRows[0].cells);\n        var numberOfColumns = Number(firstRowLastCell.getAttribute(COL_INDEX)) + firstRowLastCell.colSpan;\n\n        if (numberOfColumns > columns) {\n            $(tableRows).each(function(i, row) {\n                var lastCurrentCell = last(row.cells);\n                var rowColumns = Number(lastCurrentCell.getAttribute(COL_INDEX)) + lastCurrentCell.colSpan;\n\n                while (rowColumns > columns) {\n                    if (lastCurrentCell.colSpan && lastCurrentCell.colSpan > 1) {\n                        lastCurrentCell.colSpan -= 1;\n                    } else {\n                        row.deleteCell(-1);\n                    }\n\n                    lastCurrentCell = last(row.cells);\n                    rowColumns = Number(lastCurrentCell.getAttribute(COL_INDEX)) + lastCurrentCell.colSpan;\n                }\n            });\n        }\n\n        if (numberOfColumns < columns) {\n            var cellIndex = $(last(selectedCells) || last(lastSelectedRow.cells)).index();\n            $(tableRows).each(function(i, row) {\n                var lastCurrentCell = last(row.cells);\n                cmd._insertCells(columns - Number(lastCurrentCell.getAttribute(COL_INDEX)) - lastCurrentCell.colSpan, row, cellIndex + 1);\n            });\n        }\n    },\n    _updateTableProperties: function(table, data) {\n        var style = this._getStylesData(data);\n        dom.attr(table, {\n            cellSpacing: data.cellSpacing || null,\n            topCellPadding: this._getNumericValue(data.topCellPadding) ?? '',\n            leftCellPadding: this._getNumericValue(data.leftCellPadding) ?? '',\n            bottomCellPadding: this._getNumericValue(data.bottomCellPadding) ?? '',\n            rightCellPadding: this._getNumericValue(data.rightCellPadding) ?? '',\n            className: data.className || null,\n            id: data.id || null,\n            summary: data.summary || null,\n            style: style || null\n        });\n        $(table).addClass(\"k-table\");\n    },\n    _updateCellProperties: function(cell, data, tableData) {\n        var style = this._getStylesData(data);\n        style.paddingTop = this._getNumericValue(data.topCellPadding) ?? this._getNumericValue(tableData?.topCellPadding) ?? '';\n        style.paddingLeft = this._getNumericValue(data.leftCellPadding) ?? this._getNumericValue(tableData?.leftCellPadding) ?? '';\n        style.paddingBottom = this._getNumericValue(data.bottomCellPadding) ?? this._getNumericValue(tableData?.bottomCellPadding) ?? '';\n        style.paddingRight = this._getNumericValue(data.rightCellPadding) ?? this._getNumericValue(tableData?.rightCellPadding) ?? '';\n        style.margin = data.cellMargin || null;\n        dom.attr(cell, {\n            style: style || null,\n            className: data.className || null\n        });\n    },\n    _updateCaption: function(table, data) {\n        if (table.caption && !data.captionContent) {\n            table.deleteCaption();\n        } else if (data.captionContent) {\n            var caption = table.createCaption();\n            caption.innerHTML = data.captionContent;\n            var alignment = this._getAlignmentData(data.captionAlignment);\n            dom.attr(caption, {\n                style: {\n                    textAlign: alignment.textAlign,\n                    verticalAlign: alignment.verticalAlign\n                }\n            });\n        }\n    },\n    _updateHeadersNoThead: function(table, data) {\n        var cmd = this;\n        var tableProp = data.tableProperties;\n        var rows = table.rows;\n        var row, cells, cell, i, j;\n\n        for (i = 0; i < rows.length; i++) {\n            row = rows[i];\n            cells = row.cells;\n\n            for (j = 0; j < cells.length; j++) {\n                cell = cells[j];\n                if (!cmd._isHeadingCell(cell) && (i < tableProp.headerRows || tableProp.headerColumns > cell.getAttribute(COL_INDEX))) {\n                    dom.changeTag(cell, TH, false);\n                } else if (cmd._isHeadingCell(cell) && i >= tableProp.headerRows && tableProp.headerColumns <= cell.getAttribute(COL_INDEX)) {\n                    dom.changeTag(cell, TD, false);\n                }\n            }\n        }\n    },\n    _updateHeadersWithThead: function(table, data) {\n        var cmd = this;\n        var tableProp = data.tableProperties;\n        var thead = table.tHead;\n        var rowIndex = 0;\n        var tbody = table.tBodies[0];\n        var row, cell, i;\n\n        if (!tbody) {\n            tbody = table.createTBody();\n        }\n\n        if (tableProp.headerRows && tableProp.headerRows > 0) {\n            if (!thead) {\n                thead = table.createTHead();\n            }\n\n            while (thead.rows.length < tableProp.headerRows) {\n                thead.appendChild(tbody.rows[0]);\n            }\n\n            while (thead.rows.length > tableProp.headerRows) {\n                tbody.appendChild(thead.rows[0]);\n            }\n\n            cmd._swapToHeaderCells(thead);\n        } else if (thead) {\n            while (thead.rows.length > 0) {\n                tbody.appendChild(thead.rows[thead.rows.length - 1]);\n            }\n\n            table.deleteTHead();\n        }\n\n        while (tbody.rows.length > rowIndex) {\n            row = tbody.rows[rowIndex];\n            for (i = 0; i < row.cells.length; i++) {\n                cell = row.cells[i];\n                if (cmd._isHeadingCell(cell) && tableProp.headerColumns <= cell.getAttribute(COL_INDEX)) {\n                    dom.changeTag(cell, TD, false);\n                } else if (!cmd._isHeadingCell(cell) && tableProp.headerColumns > cell.getAttribute(COL_INDEX)) {\n                    dom.changeTag(cell, TH, false);\n                }\n            }\n            rowIndex += 1;\n        }\n    },\n    _updateHeaderAssociates: function(table, tableProp) {\n        var cmd = this;\n\n        if (tableProp.cellsWithHeaders === \"ids\") {\n            if (!cmd.cellsWithHeadersAssociated(table)) {\n                cmd._removeScopes(table);\n            }\n            dom.associateWithIds(table);\n        } else if (tableProp.cellsWithHeaders === \"scope\") {\n            if (cmd.cellsWithHeadersAssociated(table)) {\n                cmd._removeAssociates(table);\n            }\n            cmd._addScopes(table, tableProp.headerRows, tableProp.headerColumns);\n        } else {\n            if (cmd.cellsWithHeadersAssociated(table)) {\n                cmd._removeAssociates(table);\n            } else {\n                cmd._removeScopes(table);\n            }\n        }\n    },\n    _addScopes: function(table, headerRows, headerCols) {\n        var rows = table.rows;\n        var i, j, row, cell;\n\n        for (i = 0; i < rows.length; i++) {\n            row = rows[i];\n\n            for (j = 0; j < row.cells.length; j++) {\n                cell = row.cells[j];\n\n                if (i < headerRows) {\n                    cell.setAttribute(SCOPE, COL);\n                } else if (cell.getAttribute(COL_INDEX) < headerCols) {\n                    cell.setAttribute(SCOPE, ROW);\n                }\n            }\n        }\n    },\n    _removeScopes: function(table) {\n        $(table).find(TH).removeAttr(SCOPE);\n        $(table).find(COL).remove();\n        $(table).find(COLGROUP).remove();\n    },\n    _removeAssociates: function(table) {\n        $(table).find(\"th, td\").removeAttr(\"id headers\");\n    },\n    _swapToHeaderCells: function(thead) {\n        var tds = $(thead).find(\"td\");\n        var swapCell = function(index, cell) {\n            dom.changeTag(cell, TH, false);\n        };\n        tds.each(swapCell);\n    },\n    _getStylesData: function(data) {\n        var that = this;\n        var alignment = this._getAlignmentData(data.alignment);\n        var whiteSpace = \"wrapText\" in data ? (data.wrapText ? \"\" : \"nowrap\") : null;\n\n        return $.extend({\n            width: data.width ? data.width + data.widthUnit : null,\n            height: data.height ? data.height + data.heightUnit : null,\n            textAlign: alignment.textAlign,\n            verticalAlign: alignment.verticalAlign,\n            backgroundColor: data.bgColor || \"\",\n            borderWidth: data.borderWidth,\n            borderStyle: data.borderStyle,\n            borderColor: data.borderColor || \"\",\n            borderCollapse: data.collapseBorders ? \"collapse\" : null,\n            whiteSpace: whiteSpace\n        }, that._getTablePositionData(data.position));\n    },\n    _getAlignmentData: function(alignment) {\n        var textAlign = \"\";\n        var verticalAlign = textAlign;\n\n        if (alignment) {\n            if (alignment.indexOf(\" \") != -1) {\n                var align = alignment.split(\" \");\n                textAlign = align[0];\n                verticalAlign = align[1];\n            } else {\n                textAlign = alignment;\n            }\n        }\n        return { textAlign: textAlign, verticalAlign: verticalAlign };\n    },\n    _getTablePositionData: function(position) {\n        if (!position) {\n            return {};\n        }\n\n        return { marginLeft: position != \"left\" ? \"auto\" : \"\", marginRight: position != \"right\" ? \"auto\" : \"\" };\n    },\n    parseTable: function(table, selectedCells) {\n        if (!table) {\n            return { tableProperties: {}, selectedCells: [] };\n        }\n\n        var cmd = this;\n        var tStyle = table.style;\n        var rows = table.rows;\n        var caption = table.caption;\n        var captionClone = $(caption ? caption.cloneNode(true) : undefined);\n        captionClone.find(\".k-marker\").remove();\n\n        var cssClass = table.className;\n        cssClass = cssClass.replace(/^k-table\\s|\\sk-table$/, \"\");\n        cssClass = cssClass.replace(/\\sk-table\\s/, \" \");\n        cssClass = cssClass.replace(/^k-table$/, \"\");\n\n        var tableAlignment = cmd._getAlignment(table, true);\n        var tablePosition = cmd._getTablePosition(table);\n        var captionAlignment = caption ? cmd._getAlignment(caption) : undefined;\n        var numberOfHeaderRows = dom._getNumberOfHeaderRows(table);\n\n        var cellsWithHeaders;\n        if (cmd.cellsWithHeadersAssociated(table)) {\n            cellsWithHeaders = \"ids\";\n        } else if ($(table).find(\"th[scope]\").length > 0) {\n            cellsWithHeaders = \"scope\";\n        } else {\n            cellsWithHeaders = \"none\";\n        }\n\n        dom.reMapTableColumns(table, COL_INDEX);\n        var numberOfColumns = dom._getNumberOfColumns(table);\n        var numberOfHeaderColumns = dom._getNumberOfHeaderColumns(table, numberOfHeaderRows);\n        dom.clearTableMappings(table, COL_INDEX);\n\n        var tableJson = {\n            tableProperties: {\n                width: tStyle.width || table.width ? parseFloat(tStyle.width || table.width) : null,\n                height: tStyle.height || table.height ? parseFloat(tStyle.height || table.height) : null,\n                columns: numberOfColumns,\n                rows: rows.length,\n                widthUnit: cmd._getUnit(tStyle.width),\n                heightUnit: cmd._getUnit(tStyle.height),\n                cellSpacing: table.cellSpacing,\n                topCellPadding: table.topCellPadding,\n                leftCellPadding: table.leftCellPadding,\n                bottomCellPadding: table.bottomCellPadding,\n                rightCellPadding: table.rightCellPadding,\n                alignment: tableAlignment.textAlign,\n                position: tablePosition,\n                bgColor: tStyle.backgroundColor || table.bgColor,\n                className: cssClass,\n                id: table.id,\n                borderWidth: tStyle.borderWidth || table.border,\n                borderColor: tStyle.borderColor,\n                borderStyle: tStyle.borderStyle || \"\",\n                collapseBorders: !!tStyle.borderCollapse,\n                summary: table.summary,\n                captionContent: caption ? captionClone.html() : \"\",\n                captionAlignment: caption && captionAlignment.textAlign ? captionAlignment.textAlign + \" \" + captionAlignment.verticalAlign : \"\",\n                headerRows: numberOfHeaderRows,\n                headerColumns: numberOfHeaderColumns,\n                cellsWithHeaders: cellsWithHeaders\n            },\n            selectedCells: []\n        };\n\n        tableJson.rows = cmd.parseTableRows(rows, selectedCells, tableJson);\n\n        return tableJson;\n    },\n    parseTableRows: function(rows, selectedCells, tableJson) {\n        var cmd = this;\n        var data = [], row, rowData, cells, cell, cellData;\n        for (var i = 0; i < rows.length; i++) {\n            row = rows[i];\n            rowData = { cells: [] };\n            cells = row.cells;\n            data.push(rowData);\n            for (var j = 0; j < cells.length; j++) {\n                cell = cells[j];\n                cellData = cmd.parseCell(cell);\n                if ($.inArray(cell, selectedCells) != -1) {\n                    tableJson.selectedCells.push(cellData);\n                }\n                rowData.cells.push(cellData);\n            }\n        }\n        return data;\n    },\n    parseCell: function(cell) {\n        var cmd = this;\n        var cStyle = cell.style;\n        var alignment = cmd._getAlignment(cell);\n        alignment = alignment.textAlign ? alignment.textAlign + \" \" + alignment.verticalAlign : \"\";\n\n        var data = {\n            width: cStyle.width || cell.width ? parseFloat(cStyle.width || cell.width) : null,\n            height: cStyle.height || cell.height ? parseFloat(cStyle.height || cell.height) : null,\n            widthUnit: cmd._getUnit(cStyle.width),\n            heightUnit: cmd._getUnit(cStyle.height),\n            cellMargin: cStyle.margin,\n            topCellPadding: cStyle.paddingTop,\n            leftCellPadding: cStyle.paddingLeft,\n            bottomCellPadding: cStyle.paddingBottom,\n            rightCellPadding: cStyle.paddingRight,\n            alignment: alignment,\n            bgColor: cStyle.backgroundColor || cell.bgColor,\n            className: cell.className,\n            id: cell.id,\n            borderWidth: cStyle.borderWidth || cell.border,\n            borderColor: cStyle.borderColor,\n            borderStyle: cStyle.borderStyle,\n            wrapText: cStyle.whiteSpace != \"nowrap\"\n        };\n\n        return data;\n    },\n    _getTablePosition: function(element) {\n        var style = element.style;\n        if (style.marginLeft == \"auto\" && style.marginRight == \"auto\") {\n            return \"center\";\n        }\n\n        if (style.marginLeft == \"auto\") {\n            return \"right\";\n        }\n\n        return \"left\";\n    },\n    _getAlignment: function(element, horizontalOnly) {\n        var style = element.style;\n        var hAlign = style.textAlign || element.align || \"\";\n        if (horizontalOnly) {\n            return { textAlign: hAlign };\n        }\n        var vAlign = style.verticalAlign || element.vAlign || \"\";\n        if (hAlign && vAlign) {\n            return { textAlign: hAlign, verticalAlign: vAlign };\n        }\n        if (!hAlign && vAlign) {\n            return { textAlign: \"left\", verticalAlign: vAlign };\n        }\n        if (hAlign && !vAlign) {\n            return { textAlign: hAlign, verticalAlign: \"top\" };\n        }\n        return { textAlign: \"\", verticalAlign: \"\" };\n    },\n    _getUnit: function(value) {\n        var unit = (value || \"\").match(reUnit);\n        return unit ? unit[0] : \"px\";\n    },\n    _selectedTable: function(range) {\n        var nodes = dom.filterBy(RangeUtils.nodes(range), dom.htmlIndentSpace, true);\n        return tableFormatFinder.findSuitable(nodes)[0];\n    },\n    _selectedCells: function(range) {\n        var nodes = dom.filterBy(RangeUtils.nodes(range), dom.htmlIndentSpace, true);\n        return cellsFormatFinder.findSuitable(nodes);\n    },\n    _lastInCollection: function(collection) {\n        return collection[collection.length - 1];\n    },\n    _getNumericValue: function(value) {\n        return !isNaN(value) || typeof value === \"string\" ? value : null;\n    }\n});\n\nvar TableWizardTool = Editor.Tool.extend({\n    command: function(options) {\n        options.insertNewTable = this.options.insertNewTable;\n        options.tableCellWizard = !!this.options.tableCellWizard;\n        return new TableWizardCommand(options);\n    }\n});\n\nvar TableWizardEditTool = TableWizardTool.extend({\n    update: function(ui, nodes) {\n        var isFormatted = !tableFormatFinder.isFormatted(nodes),\n            toolbar = ui.closest(\".k-toolbar\").getKendoToolBar();\n\n        if (isFormatted === true) {\n            toolbar.hide(ui);\n        } else {\n            toolbar.show(ui);\n        }\n    }\n});\n\nvar TableCellWizardEditTool = TableWizardTool.extend({\n    update: function(ui, nodes) {\n        var isFormatted = !tableFormatFinder.isFormatted(nodes),\n            toolbar = ui.closest(\".k-toolbar\").getKendoToolBar();\n\n        if (isFormatted === true) {\n            toolbar.hide(ui);\n        } else {\n            toolbar.show(ui);\n        }\n    }\n});\n\nkendo.ui.editor.TableWizardTool = TableWizardTool;\nkendo.ui.editor.TableWizardCommand = TableWizardCommand;\n\nregisterTool(\"tableProperties\", new TableWizardEditTool({ command: TableWizardCommand, insertNewTable: false, property: \"tableProperties\" }));\nregisterTool(\"tableCellProperties\", new TableCellWizardEditTool({ command: TableWizardCommand, tableCellWizard: true, insertNewTable: false, property: \"tableCellProperties\" }));\n\n})(window.kendo.jQuery);","import \"./table-wizard-command.js\";\nimport \"../../kendo.html.button.js\";\nimport \"../../kendo.tabstrip.js\";\nimport \"../../kendo.textarea.js\";\nimport \"../../kendo.icons.js\";\n\n(function($, undefined) {\n\nconst FORM_FIELD_CLASS = \"k-form-field\",\n      INVISIBLE_CLASS = \"k-visibility-invisible\",\n      DOT = \".\";\n\nvar kendo = window.kendo,\n    encode = kendo.htmlEncode,\n    numericTextBoxSettings = { format: \"0\", min: 0 },\n    units = [\"px\", \"em\"],\n    borderStyles = [\"solid\", \"dotted\", \"dashed\", \"double\", \"groove\", \"ridge\", \"inset\", \"outset\", \"initial\", \"inherit\", \"none\", \"hidden\"];\n\nvar DEFAULT_NUMBER_OF_COLS_AND_ROWS = 4;\n\nvar textWrapDropDownSettings = {\n    dataSource: [{\n        className: \"text-wrap\",\n        value: \"wrap\"\n    }, {\n        className: \"parameter-string\",\n        value: \"nowrap\"\n    }],\n    dataTextField: \"className\",\n    dataValueField: \"value\",\n    template: ({ className, tooltip }) => kendo.ui.icon($(`<span title=\"${encode(tooltip)}\"></span>`), { icon: encode(className) }) + encode(tooltip),\n    valueTemplate: ({ className, tooltip }) => kendo.ui.icon($(`<span title=\"${encode(tooltip)}\"></span>`), { icon: encode(className), iconClass: \"k-text-wrap\" }) + encode(tooltip)\n};\n\nvar tablePositionDropDownSettings = {\n    dataSource: [{\n        className: \"table-position-start\",\n        value: \"left\"\n    }, {\n        className: \"table-position-center\",\n        value: \"center\"\n    }, {\n        className: \"table-position-end\",\n        value: \"right\"\n    }],\n    dataTextField: \"className\",\n    dataValueField: \"value\",\n    template: ({ className, tooltip }) => kendo.ui.icon($(`<span title=\"${encode(tooltip)}\"></span>`), { icon: encode(className) }) + encode(tooltip),\n    valueTemplate: ({ className, tooltip }) => kendo.ui.icon($(`<span title=\"${encode(tooltip)}\"></span>`), { icon: encode(className), iconClass: \"k-align-group\" }) + encode(tooltip)\n};\n\nvar tableAlignmentDropDownSettings = {\n    dataSource: [{\n        className: \"table-align-middle-left\",\n        value: \"left\"\n    }, {\n        className: \"table-align-middle-center\",\n        value: \"center\"\n    }, {\n        className: \"table-align-middle-right\",\n        value: \"right\"\n    }, {\n        className: \"align-remove\",\n        value: \"\"\n    }],\n    dataTextField: \"className\",\n    dataValueField: \"value\",\n    template: ({ className, tooltip }) => kendo.ui.icon($(`<span title=\"${encode(tooltip)}\"></span>`), { icon: encode(className) }) + encode(tooltip),\n    valueTemplate: ({ className, tooltip }) => kendo.ui.icon($(`<span title=\"${encode(tooltip)}\"></span>`), { icon: encode(className), iconClass: \"k-align-group\" }) + encode(tooltip)\n};\n\nvar cellAlignmentDropDownSettings = {\n    dataSource: [{\n        className: \"table-align-top-left\",\n        value: \"left top\"\n    }, {\n        className: \"table-align-top-center\",\n        value: \"center top\"\n    }, {\n        className: \"table-align-top-right\",\n        value: \"right top\"\n    }, {\n        className: \"table-align-middle-left\",\n        value: \"left middle\"\n    }, {\n        className: \"table-align-middle-center\",\n        value: \"center middle\"\n    }, {\n        className: \"table-align-middle-right\",\n        value: \"right middle\"\n    }, {\n        className: \"table-align-bottom-left\",\n        value: \"left bottom\"\n    }, {\n        className: \"table-align-bottom-center\",\n        value: \"center bottom\"\n    }, {\n        className: \"table-align-bottom-right\",\n        value: \"right bottom\"\n    }, {\n        className: \"align-remove\",\n        value: \"\"\n    }],\n    dataTextField: \"className\",\n    dataValueField: \"value\",\n    template: ({ className, tooltip }) => kendo.ui.icon($(`<span title=\"${encode(tooltip)}\"></span>`), { icon: encode(className) }) + encode(tooltip),\n    valueTemplate: ({ className, tooltip }) => kendo.ui.icon($(`<span title=\"${encode(tooltip)}\"></span>`), { icon: encode(className), iconClass: \"k-align-group\" }) + encode(tooltip)\n};\n\nvar accessibilityAlignmentDropDownSettings = {\n    dataSource: [{\n        className: \"table-align-top-left\",\n        value: \"left top\"\n    }, {\n        className: \"table-align-top-center\",\n        value: \"center top\"\n    }, {\n        className: \"table-align-top-right\",\n        value: \"right top\"\n    }, {\n        className: \"table-align-bottom-left\",\n        value: \"left bottom\"\n    }, {\n        className: \"table-align-bottom-center\",\n        value: \"center bottom\"\n    }, {\n        className: \"table-align-bottom-right\",\n        value: \"right bottom\"\n    }, {\n        className: \"align-remove\",\n        value: \"\"\n    }],\n    dataTextField: \"className\",\n    dataValueField: \"value\",\n    template: ({ className, tooltip }) => kendo.ui.icon($(`<span title=\"${encode(tooltip)}\"></span>`), { icon: encode(className) }),\n    valueTemplate: ({ className, tooltip }) => kendo.ui.icon($(`<span title=\"${encode(tooltip)}\"></span>`), { icon: encode(className), iconClass: \"k-align-group\" })\n};\n\nvar tablePropertiesDialogTemplate = ({ messages }) =>\n    '<div class=\"k-editor-dialog k-editor-table-wizard-window k-action-window k-popup-edit-form\">' +\n        '<div id=\"k-table-wizard-tabs\" class=\"k-root-tabs\">' +\n            '<ul>' +\n                `<li class=\"k-active\">${ messages.tableTab }</li>` +\n                `<li>${ messages.accessibilityTab }</li>` +\n            '</ul>' +\n            '<div id=\"k-table-properties\"></div>' +\n            '<div id=\"k-accessibility-properties\"></div>' +\n        '</div>' +\n        '<div class=\"k-actions k-actions-start k-actions-horizontal k-window-buttons\">' +\n                kendo.html.renderButton(`<button class=\"k-dialog-ok\"><span class=\"k-button-text\">${ messages.dialogOk }</span></button>`, {\n                    icon: 'check',\n                        themeColor: \"primary\"\n                    }) +\n                    kendo.html.renderButton(`<button class=\"k-dialog-close\"><span class=\"k-button-text\">${ messages.dialogCancel }</span></button>`, {\n                        icon: 'cancel-outline'\n                    }) +\n        '</div>' +\n    '</div>';\n    var cellPropertiesDialogTemplate = ({ messages }) =>\n    '<div class=\"k-editor-dialog k-editor-table-wizard-window k-action-window k-popup-edit-form\">' +\n        '<div id=\"k-cell-properties\"></div>' +\n        '<div class=\"k-actions k-actions-start k-actions-horizontal k-window-buttons\">' +\n                kendo.html.renderButton(`<button class=\"k-dialog-ok\"><span class=\"k-button-text\">${ messages.dialogOk }</span></button>`, {\n                    icon: 'check',\n                        themeColor: \"primary\"\n                    }) +\n                    kendo.html.renderButton(`<button class=\"k-dialog-close\"><span class=\"k-button-text\">${ messages.dialogCancel }</span></button>`, {\n                        icon: 'cancel-outline'\n                    }) +\n        '</div>' +\n    '</div>';\n\nvar TableWizardDialog = kendo.Class.extend({\n    init: function(options) {\n        this.options = options;\n    },\n    _openTablePropertiesDialog: function() {\n        var that = this,\n            options = that.options,\n            dialogOptions = options.dialogOptions,\n            tableData = options.table,\n            dialog,\n            messages = options.messages,\n            isIE = kendo.support.browser.msie;\n\n        function close(e) {\n            e.preventDefault();\n            that.destroy();\n            dialog.destroy();\n        }\n\n        function okHandler(e) {\n            that.collectTableDialogValues(tableData);\n\n            close(e);\n\n            if (that.change) {\n                that.change();\n            }\n\n            options.closeCallback(tableData);\n        }\n\n        function closeHandler(e) {\n            close(e);\n            options.closeCallback();\n        }\n\n        dialogOptions.close = closeHandler;\n        dialogOptions.minWidth = 700;\n        dialogOptions.width = 700;\n        dialogOptions.title = messages.tableProperties;\n        dialogOptions.visible = options.visible;\n\n        dialog = $(that._dialogTemplate(messages)).appendTo(document.body)\n            .kendoWindow(dialogOptions)\n            .addClass(\"k-editor-window\")\n            .closest(\".k-window\").toggleClass(\"k-rtl\", options.isRtl).end()\n            .find(\".k-dialog-ok\").on(\"click\", okHandler).end()\n            .find(\".k-dialog-close\").on(\"click\", closeHandler).end()\n            .data(\"kendoWindow\");\n\n        var element = dialog.element;\n        this.components = {};\n        that._initTabStripComponent(element);\n        that._tablePropertiesForm = that._createTablePropertiesForm(dialog, messages);\n        that._accessibilityPropertiesForm = that._createAccessibilityPropertiesForm(dialog, messages);\n\n        dialog.center();\n        dialog.open();\n\n        if (isIE) {\n            var dialogHeight = element.closest(\".k-window\").height();\n            element.css(\"max-height\", dialogHeight);\n        }\n    },\n    _openCellPropertiesDialog: function() {\n        var that = this,\n            options = that.options,\n            dialogOptions = options.dialogOptions,\n            tableData = options.table,\n            dialog,\n            messages = options.messages,\n            isIE = kendo.support.browser.msie;\n\n        function close(e) {\n            e.preventDefault();\n            that.destroy();\n            dialog.destroy();\n        }\n\n        function okHandler(e) {\n            that.collectCellDialogValues(tableData);\n\n            close(e);\n\n            if (that.change) {\n                that.change();\n            }\n\n            options.closeCallback(tableData);\n        }\n\n        function closeHandler(e) {\n            close(e);\n            options.closeCallback();\n        }\n\n        dialogOptions.close = closeHandler;\n        dialogOptions.minWidth = 400;\n        dialogOptions.title = messages.tableCellProperties;\n        dialogOptions.visible = options.visible;\n\n        dialog = $(that._dialogTemplate(messages, cellPropertiesDialogTemplate)).appendTo(document.body)\n            .kendoWindow(dialogOptions)\n            .addClass(\"k-editor-window\")\n            .closest(\".k-window\").toggleClass(\"k-rtl\", options.isRtl).end()\n            .find(\".k-dialog-ok\").on(\"click\", okHandler).end()\n            .find(\".k-dialog-close\").on(\"click\", closeHandler).end()\n            .data(\"kendoWindow\");\n\n        var element = dialog.element;\n        that._cellPropertiesForm = that._createCellPropertiesForm(dialog, messages);\n\n        dialog.center();\n        dialog.open();\n\n        if (isIE) {\n            var dialogHeight = element.closest(\".k-window\").height();\n            element.css(\"max-height\", dialogHeight);\n        }\n    },\n    open: function(isCellProperties) {\n        if (!isCellProperties) {\n            this._openTablePropertiesDialog();\n        } else {\n            this._openCellPropertiesDialog();\n        }\n    },\n\n    _initTabStripComponent: function(element) {\n        var components = this.components = {};\n        components.tabStrip = element.find(\"#k-table-wizard-tabs\").kendoTabStrip({\n            animation: false\n        }).data(\"kendoTabStrip\");\n    },\n\n    collectTableDialogValues: function() {\n        var that = this;\n        var data = that.options.table;\n        that._collectTableViewValues(data);\n        that._collectAccessibilityViewValues(data);\n    },\n\n    collectCellDialogValues: function() {\n        var that = this;\n        var data = that.options.table;\n        that._collectCellViewValues(data);\n    },\n\n    _collectTableViewValues: function(tableData) {\n        var tableView = this.components.tableView;\n        var tableProperties = tableData.tableProperties;\n        var cellData = tableData.cellProperties = tableData.cellProperties || {};\n        tableProperties.width = tableView.width.value();\n        tableProperties.widthUnit = tableView.widthUnit.value();\n        tableProperties.height = tableView.height.value();\n        tableProperties.columns = tableView.columns.value();\n        tableProperties.rows = tableView.rows.value();\n        tableProperties.heightUnit = tableView.heightUnit.value();\n        tableProperties.cellSpacing = tableView.cellSpacing.value();\n        tableProperties.topCellPadding = tableView.topCellPadding.value();\n        tableProperties.leftCellPadding = tableView.leftCellPadding.value();\n        tableProperties.bottomCellPadding = tableView.bottomCellPadding.value();\n        tableProperties.rightCellPadding = tableView.rightCellPadding.value();\n        tableProperties.alignment = tableView.alignment.value();\n        tableProperties.position = tableView.position.value();\n        tableProperties.bgColor = tableView.bgColor.value();\n        tableProperties.borderWidth = tableView.borderWidth.value();\n        tableProperties.borderColor = tableView.borderColor.value();\n        tableProperties.borderStyle = tableView.borderStyle.value();\n        tableProperties.collapseBorders = tableView.collapseBorders.check();\n\n        if (!cellData.width) {\n            cellData.selectAllCells = true;\n            cellData.width = 100 / tableData.tableProperties.columns;\n            cellData.widthUnit = \"%\";\n        }\n    },\n\n    _collectCellViewValues: function(table) {\n        var cellData = table.cellProperties = table.cellProperties || {};\n        var cellView = this.components.cellView;\n\n        cellData.selectAllCells = cellView.selectAllCells.check();\n        cellData.width = cellView.width.value();\n        cellData.widthUnit = cellView.widthUnit.value();\n        cellData.height = cellView.height.value();\n        cellData.heightUnit = cellView.heightUnit.value();\n        cellData.independentCellPaddings = cellView.independentCellPaddings.check();\n        cellData.topCellPadding = cellView.topCellPadding.value();\n        cellData.leftCellPadding = cellView.leftCellPadding.value();\n        cellData.bottomCellPadding = cellView.bottomCellPadding.value();\n        cellData.rightCellPadding = cellView.rightCellPadding.value();\n        cellData.cellMargin = cellView.cellMargin.value();\n        cellData.alignment = cellView.alignment.value();\n        cellData.bgColor = cellView.bgColor.value();\n        cellData.className = cellView.className.value();\n        cellData.id = cellView.id.value();\n        cellData.borderWidth = cellView.borderWidth.value();\n        cellData.borderColor = cellView.borderColor.value();\n        cellData.borderStyle = cellView.borderStyle.value();\n        cellData.wrapText = cellView.wrapTextValue.value() == \"wrap\";\n\n        if (!cellData.width) {\n            cellData.selectAllCells = true;\n            cellData.width = 100 / table.tableProperties.columns;\n            cellData.widthUnit = \"%\";\n        }\n    },\n\n   _collectAccessibilityViewValues: function(table) {\n        var tableProperties = table.tableProperties;\n        var accessibilityView = this.components.accessibilityView;\n        tableProperties.captionContent = accessibilityView.captionContent.value();\n        tableProperties.captionAlignment = accessibilityView.captionAlignment.value();\n        tableProperties.summary = accessibilityView.summary.value();\n        tableProperties.cellsWithHeaders = accessibilityView.cellsWithHeaders.value();\n        tableProperties.className = accessibilityView.className.value();\n        tableProperties.id = accessibilityView.id.value();\n        tableProperties.headerRows = accessibilityView.headerRows.value();\n        tableProperties.headerColumns = accessibilityView.headerColumns.value();\n    },\n    _addUnit: function(units, value) {\n        if (value && $.inArray(value, units) == -1) {\n            units.push(value);\n        }\n    },\n\n    _initNumericTextbox: function(element, property, data, storage, settings) {\n        var component = storage[property] = element.kendoNumericTextBox(\n                settings ? $.extend({}, numericTextBoxSettings, settings) : numericTextBoxSettings\n            ).data(\"kendoNumericTextBox\");\n        if (property in data) {\n            component.value(parseInt(data[property], 10));\n        }\n    },\n\n    _initDropDownList: function(element, property, data, storage, dataSource) {\n        var component = storage[property] = element.kendoDropDownList({\n            dataSource: dataSource\n        }).data(\"kendoDropDownList\");\n        this._setComponentValue(component, data, property);\n    },\n\n    _initBorderStyleDropDown: function(element, property, data, storage, dataSource) {\n        var component = storage[property] = element.kendoDropDownList({\n            dataSource: dataSource,\n            optionLabel: this.options.messages.borderNone\n        }).data(\"kendoDropDownList\");\n        this._setComponentValue(component, data, property);\n    },\n\n    _initTablePositionDropDown: function(element, data) {\n        var messages = this.options.messages;\n        var tableView = this.components.tableView;\n        var dataSource = tablePositionDropDownSettings.dataSource;\n        dataSource[0].tooltip = messages.tableAlignLeft;\n        dataSource[1].tooltip = messages.tableAlignCenter;\n        dataSource[2].tooltip = messages.tableAlignRight;\n\n        this._initPositionDropDown(element, tablePositionDropDownSettings, \"position\", data, tableView);\n    },\n\n    _initTableAlignmentDropDown: function(element, data) {\n        var messages = this.options.messages;\n        var tableView = this.components.tableView;\n        var dataSource = tableAlignmentDropDownSettings.dataSource;\n        dataSource[0].tooltip = messages.alignLeft;\n        dataSource[1].tooltip = messages.alignCenter;\n        dataSource[2].tooltip = messages.alignRight;\n        dataSource[3].tooltip = messages.alignRemove;\n\n        this._initAlignmentDropDown(element, tableAlignmentDropDownSettings, \"alignment\", data, tableView);\n    },\n\n    _initCellAlignmentDropDown: function(element, data) {\n        var messages = this.options.messages;\n        var cellView = this.components.cellView;\n        var dataSource = cellAlignmentDropDownSettings.dataSource;\n        dataSource[0].tooltip = messages.alignLeftTop;\n        dataSource[1].tooltip = messages.alignCenterTop;\n        dataSource[2].tooltip = messages.alignRightTop;\n        dataSource[3].tooltip = messages.alignLeftMiddle;\n        dataSource[4].tooltip = messages.alignCenterMiddle;\n        dataSource[5].tooltip = messages.alignRightMiddle;\n        dataSource[6].tooltip = messages.alignLeftBottom;\n        dataSource[7].tooltip = messages.alignCenterBottom;\n        dataSource[8].tooltip = messages.alignRightBottom;\n        dataSource[9].tooltip = messages.alignRemove;\n\n        this._initAlignmentDropDown(element, cellAlignmentDropDownSettings, \"alignment\", data, cellView);\n    },\n\n    _initAccessibilityAlignmentDropDown: function(element, data) {\n        var messages = this.options.messages;\n        var accessibilityView = this.components.accessibilityView;\n        var dataSource = accessibilityAlignmentDropDownSettings.dataSource;\n        dataSource[0].tooltip = messages.alignLeftTop;\n        dataSource[1].tooltip = messages.alignCenterTop;\n        dataSource[2].tooltip = messages.alignRightTop;\n        dataSource[3].tooltip = messages.alignLeftBottom;\n        dataSource[4].tooltip = messages.alignCenterBottom;\n        dataSource[5].tooltip = messages.alignRightBottom;\n        dataSource[6].tooltip = messages.alignRemove;\n\n        this._initAlignmentDropDown(element, accessibilityAlignmentDropDownSettings, \"captionAlignment\", data, accessibilityView);\n    },\n    _initTextWrapDropDown: function(element, data) {\n        var messages = this.options.messages;\n        var name = \"wrapTextValue\";\n        data.wrapTextValue = data.wrapText ? \"wrap\" : \"nowrap\";\n\n        var cellView = this.components.cellView;\n        var dataSource = textWrapDropDownSettings.dataSource;\n        dataSource[0].tooltip = messages.wrapText;\n        dataSource[1].tooltip = messages.fitToCell;\n        var component = cellView[name] =\n            element.kendoDropDownList(textWrapDropDownSettings).data(\"kendoDropDownList\");\n\n        component.list.addClass('k-text-wrap');\n        this._setComponentValue(component, data, name);\n    },\n    _initPositionDropDown: function(element, settings, name, data, storage) {\n        var component = storage[name] =\n            element.kendoDropDownList(settings).data(\"kendoDropDownList\");\n\n        component.list.addClass('k-position');\n        this._setComponentValue(component, data, name);\n    },\n    _initAlignmentDropDown: function(element, settings, name, data, storage) {\n        var component = storage[name] =\n            element.kendoDropDownList(settings).data(\"kendoDropDownList\");\n\n        component.list.addClass('k-align');\n        this._setComponentValue(component, data, name);\n    },\n    _initAssociationDropDown: function(element, name, settings, data, storage) {\n        var component = storage[name] =\n            element.kendoDropDownList(settings).data(\"kendoDropDownList\");\n\n        this._setComponentValue(component, data, name);\n    },\n    _setComponentValue: function(component, data, property) {\n        if (property in data) {\n            component.value(data[property]);\n        }\n    },\n\n    _initColorPicker: function(element, property, data, storage) {\n        var component = storage[property] =\n            element.kendoColorPicker({ buttons: false, clearButton: true }).data(\"kendoColorPicker\");\n\n        if (data[property]) {\n            component.value(data[property]);\n        }\n    },\n    _initInput: function(element, property, data, storage, settings) {\n        var component = storage[property] = element.kendoTextBox(settings || {}).data(\"kendoTextBox\");\n        if (property in data) {\n            component.value(data[property]);\n        }\n    },\n\n    _initCheckbox: function(element, property, data, storage, settings) {\n        var component = storage[property] = element.kendoCheckBox(settings || {}).data(\"kendoCheckBox\");\n        if (property in data) {\n            component.check(data[property]);\n        }\n    },\n\n    _initTextArea: function(element, property, data, storage, settings) {\n        var component = storage[property] = element.kendoTextArea(settings || {}).data(\"kendoTextArea\");\n        if (property in data) {\n            component.value(data[property]);\n        }\n    },\n\n    destroy: function() {\n        var that = this;\n        that._destroyComponents(this.components);\n\n        delete that.components;\n    },\n    _destroyComponents: function(components) {\n        for (var widget in components) {\n            if (components[widget].destroy) {\n                components[widget].destroy();\n            }\n            delete components[widget];\n        }\n    },\n\n    _dialogTemplate: function(messages, dialogTemplate) {\n        return kendo.template(dialogTemplate || tablePropertiesDialogTemplate)({ messages: messages });\n    },\n\n    _onPaddingTopChange: function(e) {\n        let viewType = this.components.tableView ? \"tableView\" : \"cellView\",\n            view = this.components[viewType],\n            independentCellPaddings = !view.independentCellPaddings.check(),\n            topCellPaddingNumeric = view.topCellPadding,\n            topCellPaddingValue = topCellPaddingNumeric.value(),\n            leftCellPaddingNumeric = view.leftCellPadding,\n            bottomCellPaddingNumeric = view.bottomCellPadding,\n            rightCellPaddingNumeric = view.rightCellPadding;\n\n        if (independentCellPaddings) {\n            leftCellPaddingNumeric.value(topCellPaddingValue);\n            bottomCellPaddingNumeric.value(topCellPaddingValue);\n            rightCellPaddingNumeric.value(topCellPaddingValue);\n        }\n\n        topCellPaddingNumeric._cachedPadding = topCellPaddingValue;\n    },\n\n    _onPaddingCheckChange: function(e) {\n        let viewType = this.components.tableView ? \"tableView\" : \"cellView\",\n            messages = this.options.messages,\n            checked = e.sender.check(),\n            view = this.components[viewType],\n            topCellPaddingNumeric = view.topCellPadding,\n            leftCellPaddingNumeric = view.leftCellPadding,\n            bottomCellPaddingNumeric = view.bottomCellPadding,\n            rightCellPaddingNumeric = view.rightCellPadding,\n            topCellPaddingValue = topCellPaddingNumeric.value(),\n            bottomCellPaddingValue = bottomCellPaddingNumeric.value(),\n            leftCellPaddingValue = leftCellPaddingNumeric.value(),\n            rightCellPaddingValue = rightCellPaddingNumeric.value();\n\n        if (!checked) {\n            if (topCellPaddingValue === bottomCellPaddingValue &&\n                    topCellPaddingValue === leftCellPaddingValue &&\n                    topCellPaddingValue === rightCellPaddingValue) {\n                leftCellPaddingNumeric.value(topCellPaddingValue);\n                bottomCellPaddingNumeric.value(topCellPaddingValue);\n                rightCellPaddingNumeric.value(topCellPaddingValue);\n            } else {\n                topCellPaddingNumeric.value(null);\n            }\n\n            leftCellPaddingNumeric.wrapper.closest(DOT + FORM_FIELD_CLASS).addClass(INVISIBLE_CLASS);\n            bottomCellPaddingNumeric.wrapper.closest(DOT + FORM_FIELD_CLASS).addClass(INVISIBLE_CLASS);\n            rightCellPaddingNumeric.wrapper.closest(DOT + FORM_FIELD_CLASS).addClass(INVISIBLE_CLASS);\n\n            topCellPaddingNumeric.wrapper.closest(DOT + FORM_FIELD_CLASS).find(\".k-form-label\").text(messages.cellPadding);\n        } else {\n            if (!isNaN(topCellPaddingNumeric._cachedPadding)) {\n                topCellPaddingNumeric.value(topCellPaddingNumeric._cachedPadding);\n            }\n\n            leftCellPaddingNumeric.wrapper.closest(DOT + FORM_FIELD_CLASS).removeClass(INVISIBLE_CLASS);\n            bottomCellPaddingNumeric.wrapper.closest(DOT + FORM_FIELD_CLASS).removeClass(INVISIBLE_CLASS);\n            rightCellPaddingNumeric.wrapper.closest(DOT + FORM_FIELD_CLASS).removeClass(INVISIBLE_CLASS);\n\n            topCellPaddingNumeric.wrapper.closest(DOT + FORM_FIELD_CLASS).find(\".k-form-label\").text(messages.topPadding);\n        }\n    },\n\n    _onColumnsNumberChange: function(args) {\n        var that = this;\n        var accessibilityView = that.components.accessibilityView;\n        var headerColumnsNumeric = accessibilityView.headerColumns;\n        var currentNumberOfColumnsHeaders = headerColumnsNumeric.value();\n        var numberOfColumns = args.sender.value();\n\n        if (numberOfColumns < currentNumberOfColumnsHeaders) {\n            headerColumnsNumeric.value(numberOfColumns);\n        }\n\n        headerColumnsNumeric.max(numberOfColumns);\n    },\n\n    _onRowsNumberChange: function(args) {\n        var that = this;\n        var accessibilityView = that.components.accessibilityView;\n        var headerRowsNumeric = accessibilityView.headerRows;\n        var currentNumberOfRowHeaders = headerRowsNumeric.value();\n        var numberOfRows = args.sender.value();\n\n        if (numberOfRows < currentNumberOfRowHeaders) {\n            headerRowsNumeric.value(numberOfRows);\n        }\n\n        headerRowsNumeric.max(numberOfRows);\n    },\n\n    _createTablePropertiesForm: function(dialog, messages) {\n        var that = this;\n        var table = that.options.table;\n        var formElement = dialog.element.find(\"#k-table-properties\");\n        var components = that.components;\n        var tableView = components.tableView = {};\n        var tableProperties = table.tableProperties = table.tableProperties || {};\n        var form;\n\n        that._addUnit(units, tableProperties.widthUnit);\n        that._addUnit(units, tableProperties.heightUnit);\n        tableProperties.borderStyle = tableProperties.borderStyle || \"\";\n        form = formElement.kendoForm({\n            renderButtons: false,\n            layout: \"grid\",\n            grid: {\n                cols: 4\n            },\n            items: [\n                {\n                    colSpan: 2,\n                    field: \"k-editor-table-columns\",\n                    label: encode(messages.columns),\n                    editor: function(container, options) {\n                        that._initNumericTextbox($('<input type=\"numeric\" id=\"k-editor-table-columns\" />').appendTo(container),\n                            \"columns\",\n                            tableProperties,\n                            tableView,\n                            {\n                                min: 1,\n                                value: DEFAULT_NUMBER_OF_COLS_AND_ROWS,\n                                change: that._onColumnsNumberChange.bind(that)\n                            });\n                    }\n                },{\n                    colSpan: 2,\n                    field: \"k-editor-table-rows\",\n                    label: encode(messages.rows),\n                    editor: function(container, options) {\n                        that._initNumericTextbox($('<input type=\"numeric\" id=\"k-editor-table-rows\" />').appendTo(container),\n                            \"rows\",\n                            tableProperties,\n                            tableView,\n                            {\n                                min: 1,\n                                value: DEFAULT_NUMBER_OF_COLS_AND_ROWS,\n                                change: that._onRowsNumberChange.bind(that)\n                            });\n                    }\n                },{\n                    colSpan: 1,\n                    field: \"k-editor-table-width\",\n                    label: encode(messages.width),\n                    editor: function(container, options) {\n                        that._initNumericTextbox($('<input id=\"k-editor-table-width\" />').appendTo(container), \"width\", tableProperties, tableView, { placeholder: encode(messages.auto) });\n                    }\n                },{\n                    colSpan: 1,\n                    field: \"k-editor-table-width-type\",\n                    label: {\n                        encoded: false,\n                        text: '&nbsp;'\n                    },\n                    editor: function(container, options) {\n                        that._initDropDownList($(`<input id=\"k-editor-table-width-type\" aria-label=\"${ messages.units }\" />`).appendTo(container),\n                            \"widthUnit\",\n                            tableProperties,\n                            tableView,\n                            units);\n                    }\n                },{\n                    colSpan: 1,\n                    field: \"k-editor-table-height\",\n                    label: encode(messages.height),\n                    editor: function(container, options) {\n                        that._initNumericTextbox($('<input id=\"k-editor-table-height\" />').appendTo(container), \"height\", tableProperties, tableView, { placeholder: encode(messages.auto) });\n                    }\n                },{\n                    colSpan: 1,\n                    field: \"k-editor-table-height-type\",\n                    label: {\n                        encoded: false,\n                        text: '&nbsp;'\n                    },\n                    editor: function(container, options) {\n                        that._initDropDownList($(`<input id=\"k-editor-table-height-type\" aria-label=\"${ messages.units }\" />`).appendTo(container),\n                            \"heightUnit\",\n                            tableProperties,\n                            tableView,\n                            units);\n                    }\n                },{\n                    colSpan: 2,\n                    field: \"k-editor-table-position\",\n                    label: encode(messages.position),\n                    editor: function(container, options) {\n                        that._initTablePositionDropDown($('<input id=\"k-editor-table-position\" class=\"k-position\" />').appendTo(container), tableProperties);\n                    }\n                },\n                {\n                    colSpan: 2,\n                    field: \"k-editor-table-alignment\",\n                    label: encode(messages.alignment),\n                    editor: function(container, options) {\n                        that._initTableAlignmentDropDown($('<input id=\"k-editor-table-alignment\" class=\"k-align\" />').appendTo(container), tableProperties);\n                    }\n                },{\n                    colSpan: 2,\n                    field: \"k-editor-table-cell-spacing\",\n                    label: encode(messages.cellSpacing),\n                    editor: function(container, options) {\n                        that._initNumericTextbox($('<input id=\"k-editor-table-cell-spacing\" />').appendTo(container), \"cellSpacing\", tableProperties, tableView, { placeholder: encode(messages.auto) });\n                    }\n                },{\n                    type: \"group\",\n                    label: \"Cell Paddings\",\n                    layout: \"grid\",\n                    colSpan: 4,\n                    grid: {\n                        cols: 4,\n                        gutter: 20\n                    },\n                    items: [\n                        {\n                            colSpan: 4,\n                            field: \"k-editor-padding-all-sides\",\n                            label: \"\",\n                            editor: function(container, options) {\n                                that._initCheckbox($('<input id=\"k-editor-padding-all-sides\" />').appendTo(container), \"independentCellPaddings\", tableProperties, tableView,\n                                {\n                                    checked: true,\n                                    label: encode(messages.independentCellPaddings),\n                                    change: that._onPaddingCheckChange.bind(that)\n                                });\n                            }\n                        },{\n                            colSpan: 1,\n                            field: \"k-editor-table-cell-padding-top\",\n                            label: encode(messages.topPadding),\n                            editor: function(container, options) {\n                                that._initNumericTextbox($('<input id=\"k-editor-table-cell-padding-top\" />').appendTo(container), \"topCellPadding\", tableProperties, tableView,\n                                {\n                                    placeholder: encode(messages.auto),\n                                    change: that._onPaddingTopChange.bind(that)\n                                });\n                            }\n                        },{\n                            colSpan: 1,\n                            field: \"k-editor-table-cell-padding-right\",\n                            label: encode(messages.rightPadding),\n                            editor: function(container, options) {\n                                that._initNumericTextbox($('<input id=\"k-editor-table-cell-padding-right\" />').appendTo(container), \"rightCellPadding\", tableProperties, tableView, { placeholder: encode(messages.auto) });\n                            }\n                        },{\n                            colSpan: 1,\n                            field: \"k-editor-table-cells-padding-bottom\",\n                            label: encode(messages.bottomPadding),\n                            editor: function(container, options) {\n                                that._initNumericTextbox($('<input id=\"k-editor-table-cell-padding-bottom\" />').appendTo(container), \"bottomCellPadding\", tableProperties, tableView, { placeholder: encode(messages.auto) });\n                            }\n                        },{\n                            colSpan: 1,\n                            field: \"k-editor-table-cell-padding-left\",\n                            label: encode(messages.leftPadding),\n                            editor: function(container, options) {\n                                that._initNumericTextbox($('<input id=\"k-editor-table-cell-padding-left\" />').appendTo(container), \"leftCellPadding\", tableProperties, tableView, { placeholder: encode(messages.auto) });\n                            }\n                        }\n                    ]\n                }, {\n                    type: \"group\",\n                    label: \"Borders\",\n                    layout: \"grid\",\n                    colSpan: 4,\n                    grid: {\n                        cols: 4,\n                        gutter: 10\n                    },\n                    items: [{\n                        colSpan: 4,\n                        field: \"k-editor-table-bg\",\n                        label: encode(messages.tableBackground),\n                        editor: function(container, options) {\n                            that._initColorPicker($('<input id=\"k-editor-table-bg\" />').appendTo(container), \"bgColor\", tableProperties, tableView);\n                        }\n                    },{\n                        colSpan: 1,\n                        field: \"k-editor-border-width\",\n                        label: encode(messages.borderWidth),\n                        editor: function(container, options) {\n                            that._initNumericTextbox($('<input id=\"k-editor-border-width\" />').appendTo(container), \"borderWidth\", tableProperties, tableView);\n                        }\n                    },{\n                        colSpan: 1,\n                        field: \"k-editor-border-color\",\n                        label: encode(messages.borderColor),\n                        editor: function(container, options) {\n                            that._initColorPicker($('<input id=\"k-editor-border-color\" />').appendTo(container), \"borderColor\", tableProperties, tableView);\n                        }\n                    },{\n                        colSpan: 2,\n                        field: \"k-editor-border-style\",\n                        label: encode(messages.borderStyle),\n                        editor: function(container, options) {\n                            that._initBorderStyleDropDown($('<input id=\"k-editor-border-style\" />').appendTo(container),\n                                \"borderStyle\",\n                                tableProperties,\n                                tableView,\n                                borderStyles);\n                        }\n                    },{\n                        colSpan: 4,\n                        field: \"k-editor-collapse-borders\",\n                        label: \"\",\n                        editor: function(container, options) {\n                            that._initCheckbox($('<input id=\"k-editor-collapse-borders\"/>').appendTo(container), \"collapseBorders\", tableProperties, tableView, { label: encode(messages.collapseBorders) });\n                        }\n                    }]\n                }\n            ]\n        }).data(\"kendoForm\");\n        form.layoutWrapper.addClass(\"k-gap-x-4\");\n\n        return form;\n    },\n\n    _createCellPropertiesForm: function(dialog, messages) {\n        var that = this;\n        var table = that.options.table;\n        var formElement = dialog.element.find(\"#k-cell-properties\");\n        var components = that.components = that.components || {};\n        var cellView = components.cellView = {};\n        var cellProperties = (table.selectedCells && table.selectedCells[0]) || { borderStyle: \"\", wrapText: true };\n        var form;\n\n        that._addUnit(units, cellProperties.widthUnit);\n        that._addUnit(units, cellProperties.heightUnit);\n        form = formElement.kendoForm({\n            renderButtons: false,\n            layout: \"grid\",\n            grid: {\n                cols: 4\n            },\n            items: [\n                {\n                    colSpan: 4,\n                    field: \"k-editor-selectAllCells\",\n                    label: \"\",\n                    editor: function(container, options) {\n                        that._initCheckbox($('<input id=\"k-editor-selectAllCells\" />').appendTo(container), \"selectAllCells\", table.tableProperties, cellView, { label: encode(messages.selectAllCells) });\n                    }\n                },{\n                    colSpan: 1,\n                    field: \"k-editor-cell-width\",\n                    label: encode(messages.width),\n                    hint: encode(messages.applyToColumn),\n                    editor: function(container, options) {\n                        that._initNumericTextbox($('<input id=\"k-editor-cell-width\" />').appendTo(container), \"width\", cellProperties, cellView, { placeholder: encode(messages.auto) });\n                    }\n                },{\n                    colSpan: 1,\n                    field: \"k-editor-cell-width-type\",\n                    label: {\n                        encoded: false,\n                        text: '&nbsp;'\n                    },\n                    editor: function(container, options) {\n                        that._initDropDownList($(`<input id=\"k-editor-cell-width-type\" aria-label=\"${ messages.units }\" />`).appendTo(container),\n                            \"widthUnit\",\n                            cellProperties,\n                            cellView,\n                            units);\n                    }\n                },{\n                    colSpan: 1,\n                    field: \"k-editor-cell-height\",\n                    label: encode(messages.height),\n                    hint: encode(messages.applyToRow),\n                    editor: function(container, options) {\n                        that._initNumericTextbox($('<input id=\"k-editor-cell-height\" />').appendTo(container), \"height\", cellProperties, cellView, { placeholder: encode(messages.auto) });\n                    }\n                },{\n                    colSpan: 1,\n                    field: \"k-editor-cell-height-type\",\n                    label: {\n                        encoded: false,\n                        text: '&nbsp;'\n                    },\n                    editor: function(container, options) {\n                        that._initDropDownList($(`<input id=\"k-editor-cell-height-type\" aria-label=\"${ messages.units }\" />`).appendTo(container),\n                            \"heightUnit\",\n                            cellProperties,\n                            cellView,\n                            units);\n                    }\n                },{\n                    colSpan: 2,\n                    field: \"k-editor-cell-alignment\",\n                    label: encode(messages.alignment),\n                    editor: function(container, options) {\n                        that._initCellAlignmentDropDown($('<input id=\"k-editor-cell-alignment\" class=\"k-align\" />').appendTo(container), cellProperties);\n                    }\n                },{\n                    colSpan: 2,\n                    field: \"k-editor-wrap-text\",\n                    label: \"Text control\",\n                    editor: function(container, options) {\n                        that._initTextWrapDropDown($('<input id=\"k-editor-wrap-text\" />').appendTo(container),\n                        cellProperties);\n                    }\n                },{\n                    colSpan: 4,\n                    field: \"k-editor-cell-bg\",\n                    label: encode(messages.background),\n                    editor: function(container, options) {\n                        that._initColorPicker($('<input id=\"k-editor-cell-bg\" />').appendTo(container), \"bgColor\", cellProperties, cellView);\n                    }\n                },{\n                    colSpan: 2,\n                    field: \"k-editor-table-cell-margin\",\n                    label: encode(messages.cellMargin),\n                    editor: function(container, options) {\n                        that._initNumericTextbox($('<input id=\"k-editor-table-cell-margin\" />').appendTo(container), \"cellMargin\", cellProperties, cellView, { placeholder: encode(messages.auto) });\n                    }\n                },{\n                    type: \"group\",\n                    label: \"Cell Paddings\",\n                    layout: \"grid\",\n                    colSpan: 4,\n                    grid: {\n                        cols: 4,\n                        gutter: 20\n                    },\n                    items: [\n                        {\n                            colSpan: 4,\n                            field: \"k-editor-padding-all-sides\",\n                            label: \"\",\n                            editor: function(container, options) {\n                                that._initCheckbox($('<input id=\"k-editor-padding-all-sides\" />').appendTo(container), \"independentCellPaddings\", table.tableProperties, cellView,\n                                {\n                                    checked: true,\n                                    label: encode(messages.independentCellPaddings),\n                                    change: that._onPaddingCheckChange.bind(that)\n                                });\n                            }\n                        },{\n                            colSpan: 1,\n                            field: \"k-editor-table-cells-padding-top\",\n                            label: encode(messages.topPadding),\n                            editor: function(container, options) {\n                                that._initNumericTextbox($('<input id=\"k-editor-table-cells-padding-top\" />').appendTo(container), \"topCellPadding\", cellProperties, cellView,\n                                {\n                                    placeholder: encode(messages.auto),\n                                    change: that._onPaddingTopChange.bind(that)\n                                });\n                            }\n                        },{\n                            colSpan: 1,\n                            field: \"k-editor-table-cells-padding-right\",\n                            label: encode(messages.rightPadding),\n                            editor: function(container, options) {\n                                that._initNumericTextbox($('<input id=\"k-editor-table-cells-padding-right\" />').appendTo(container), \"rightCellPadding\", cellProperties, cellView, { placeholder: encode(messages.auto) });\n                            }\n                        },{\n                            colSpan: 1,\n                            field: \"k-editor-table-cells-padding-bottom\",\n                            label: encode(messages.bottomPadding),\n                            editor: function(container, options) {\n                                that._initNumericTextbox($('<input id=\"k-editor-table-cells-padding-bottom\" />').appendTo(container), \"bottomCellPadding\", cellProperties, cellView, { placeholder: encode(messages.auto) });\n                            }\n                        },{\n                            colSpan: 1,\n                            field: \"k-editor-table-cells-padding-left\",\n                            label: encode(messages.leftPadding),\n                            editor: function(container, options) {\n                                that._initNumericTextbox($('<input id=\"k-editor-table-cells-padding-left\" />').appendTo(container), \"leftCellPadding\", cellProperties, cellView, { placeholder: encode(messages.auto) });\n                            }\n                        }\n                    ]\n                },{\n                    type: \"group\",\n                    label: \"Borders\",\n                    layout: \"grid\",\n                    colSpan: 4,\n                    grid: {\n                        cols: 4,\n                        gutter: 10\n                    },\n                    items: [{\n                        colSpan: 1,\n                        field: \"k-editor-cell-border-width\",\n                        label: encode(messages.borderWidth),\n                        editor: function(container, options) {\n                            that._initNumericTextbox($('<input id=\"k-editor-cell-border-width\" />').appendTo(container), \"borderWidth\", cellProperties, cellView, { placeholder: encode(messages.auto) });\n                        }\n                    },{\n                        colSpan: 1,\n                        field: \"k-editor-cell-border-color\",\n                        label: encode(messages.borderColor),\n                        editor: function(container, options) {\n                            that._initColorPicker($('<input id=\"k-editor-cell-border-color\" />').appendTo(container), \"borderColor\", cellProperties, cellView, { placeholder: encode(messages.auto) });\n                        }\n                    },{\n                        colSpan: 2,\n                        field: \"k-editor-cell-border-style\",\n                        label: encode(messages.borderStyle),\n                        editor: function(container, options) {\n                            that._initBorderStyleDropDown($('<input id=\"k-editor-cell-border-style\" />').appendTo(container),\n                                \"borderStyle\",\n                                cellProperties,\n                                cellView,\n                                borderStyles);\n                        }\n                    }]\n                },{\n                    colSpan: 4,\n                    field: \"k-editor-cell-id\",\n                    label: {\n                        text: encode(messages.id),\n                        optional: true\n                    },\n                    editor: function(container, options) {\n                        that._initInput($('<input id=\"k-editor-cell-id\" />').appendTo(container), \"id\", cellProperties, cellView);\n                    }\n                },{\n                    colSpan: 4,\n                    field: \"k-editor-cell-css-class\",\n                    label: {\n                        text: encode(messages.cssClass),\n                        optional: true\n                    },\n                    editor: function(container, options) {\n                        that._initInput($('<input id=\"k-editor-cell-css-class\" />').appendTo(container), \"className\", cellProperties, cellView);\n                    }\n                }\n            ]\n        }).data(\"kendoForm\");\n        form.layoutWrapper.addClass(\"k-gap-x-4\");\n\n        return form;\n    },\n\n    _createAccessibilityPropertiesForm: function(dialog, messages) {\n        var that = this;\n        var table = that.options.table;\n        var formElement = dialog.element.find(\"#k-accessibility-properties\");\n        var components = that.components;\n        var accessibilityView = components.accessibilityView = {};\n        var tableProperties = table.tableProperties;\n        var form;\n\n        form = formElement.kendoForm({\n            renderButtons: false,\n            layout: \"grid\",\n            grid: {\n                cols: 4\n            },\n            items: [\n                {\n                    colSpan: 4,\n                    field: \"k-editor-id\",\n                    label: {\n                        text: encode(messages.id),\n                        optional: true\n                    },\n                    editor: function(container, options) {\n                        that._initInput($('<input id=\"k-editor-id\" />').appendTo(container), \"id\", tableProperties, accessibilityView);\n                    }\n                },{\n                    colSpan: 4,\n                    field: \"k-editor-css-class\",\n                    label: {\n                        text: encode(messages.cssClass),\n                        optional: true\n                    },\n                    editor: function(container, options) {\n                        that._initInput($('<input id=\"k-editor-css-class\" />').appendTo(container), \"className\", tableProperties, accessibilityView);\n                    }\n                },\n                {\n                    layout: \"grid\",\n                    grid: {\n                        cols: 4,\n                        gutter: 16\n                    },\n                    colSpan: 4,\n                    type: \"group\",\n                    label: \"Accessibility\",\n                    items: [\n                        {\n                            colSpan: 2,\n                            field: \"k-editor-table-caption\",\n                            label: {\n                                text: encode(messages.caption),\n                                optional: true\n                            },\n                            editor: function(container, options) {\n                                that._initInput($('<input id=\"k-editor-table-caption\" />').appendTo(container), \"captionContent\", tableProperties, accessibilityView);\n                            }\n                        },{\n                            colSpan: 2,\n                            field: \"k-editor-accessibility-alignment\",\n                            label: encode(messages.captionAlignment),\n                            editor: function(container, options) {\n                                that._initAccessibilityAlignmentDropDown($('<input id=\"k-editor-accessibility-alignment\" />').appendTo(container), tableProperties);\n                            }\n                        },{\n                            colSpan: 1,\n                            field: \"k-editor-table-header-rows\",\n                            label: encode(messages.headerRows),\n                            editor: function(container, options) {\n                                that._initNumericTextbox($('<input id=\"k-editor-table-header-rows\" />').appendTo(container),\n                                \"headerRows\",\n                                tableProperties,\n                                accessibilityView,\n                                {\n                                    max: tableProperties.rows || DEFAULT_NUMBER_OF_COLS_AND_ROWS\n                                });\n                            }\n                        },{\n                            colSpan: 1,\n                            field: \"k-editor-table-header-columns\",\n                            label: encode(messages.headerColumns),\n                            editor: function(container, options) {\n                                that._initNumericTextbox($('<input id=\"k-editor-table-header-columns\" />').appendTo(container),\n                                \"headerColumns\",\n                                tableProperties,\n                                accessibilityView,\n                                {\n                                    max: tableProperties.columns || DEFAULT_NUMBER_OF_COLS_AND_ROWS\n                                });\n                            }\n                        },{\n                            colSpan: 2,\n                            field: \"k-editor-cells-headers\",\n                            label: encode(messages.associateCellsWithHeaders),\n                            editor: function(container, options) {\n                                var element = $(`<select id=\"k-editor-cells-headers\">\n                                    <option value=\"none\">${ messages.associateNone }</option>\n                                    <option value=\"scope\">${ messages.associateScope }</option>\n                                    <option value=\"ids\">${ messages.associateIds }</option>\n                                </select>`).appendTo(container);\n\n                                that._initAssociationDropDown(element, \"cellsWithHeaders\", { valuePrimitive: true }, tableProperties, accessibilityView);\n                            }\n                        },{\n                            colSpan: 4,\n                            field: \"k-editor-accessibility-summary\",\n                            label: {\n                                text: encode(messages.summary),\n                                optional: true\n                            },\n                            editor: function(container, options) {\n                                that._initTextArea($('<textarea id=\"k-editor-accessibility-summary\"></textarea>').appendTo(container), \"summary\", tableProperties, accessibilityView, {\n                                    rows: 5,\n                                    placeholder: messages.tableSummaryPlaceholder\n                                });\n                            }\n                        }\n                    ]\n                }\n            ]\n        }).data(\"kendoForm\");\n\n        form.layoutWrapper.addClass(\"k-gap-x-4\");\n\n        return form;\n    }\n});\n\nkendo.ui.editor.TableWizardDialog = TableWizardDialog;\n\n})(window.kendo.jQuery);","import \"./kendo.combobox.js\";\nimport \"./kendo.dropdownlist.js\";\nimport \"./kendo.resizable.js\";\nimport \"./kendo.window.js\";\nimport \"./kendo.colorpicker.js\";\nimport \"./kendo.imagebrowser.js\";\nimport \"./kendo.numerictextbox.js\";\nimport \"./kendo.textarea.js\";\nimport \"./util/undoredostack.js\";\nimport \"./editor/main.js\";\nimport \"./editor/dom.js\";\nimport \"./editor/serializer.js\";\nimport \"./editor/range.js\";\nimport \"./editor/command.js\";\nimport \"./editor/immutables.js\";\nimport \"./editor/plugins/viewhtml.js\";\nimport \"./editor/plugins/link.js\";\nimport \"./editor/plugins/lists.js\";\nimport \"./editor/plugins/formatting.js\";\nimport \"./editor/plugins/image.js\";\nimport \"./editor/plugins/import.js\";\nimport \"./editor/plugins/insert.js\";\nimport \"./editor/plugins/export.js\";\nimport \"./editor/plugins/indent.js\";\nimport \"./editor/plugins/linebreak.js\";\nimport \"./editor/plugins/format.js\";\nimport \"./editor/plugins/inlineformat.js\";\nimport \"./editor/plugins/formatblock.js\";\nimport \"./editor/plugins/file.js\";\nimport \"./editor/plugins/tables.js\";\nimport \"./editor/plugins/clipboard.js\";\nimport \"./editor/plugins/keyboard.js\";\nimport \"./editor/plugins/exportpdf.js\";\nimport \"./editor/plugins/print.js\";\nimport \"./editor/plugins/formatpainter.js\";\nimport \"./editor/plugins/lineheight.js\";\nimport \"./editor/plugins/formattingmarks.js\";\nimport \"./editor/resizing/column-resizing.js\";\nimport \"./editor/resizing/row-resizing.js\";\nimport \"./editor/resizing/element-resizing.js\";\nimport \"./editor/resizing/element-resize-handle.js\";\nimport \"./editor/table-wizard/table-wizard-command.js\";\nimport \"./editor/table-wizard/table-wizard-dialog.js\";\nimport \"./kendo.aiprompt.js\";\nimport \"./kendo.buttongroup.js\";\nimport \"./kendo.splitter.js\";\nimport \"./kendo.html.input.js\";\nimport \"./kendo.icons.js\";\nimport \"./kendo.inlineaiprompt.js\";\n\n    export const __meta__ = {\n        id: \"editor\",\n        name: \"Editor\",\n        category: \"web\",\n        description: \"Rich text editor component\",\n        depends: [ \"combobox\", \"dropdownlist\", \"window\", \"colorpicker\", \"toolbar\", \"icons\" ],\n        features: [ {\n            id: \"editor-imagebrowser\",\n            name: \"Image Browser\",\n            description: \"Support for uploading and inserting images\",\n            depends: [ \"imagebrowser\" ]\n        }, {\n            id: \"editor-resizable\",\n            name: \"Resize handle\",\n            description: \"Support for resizing the content area via a resize handle\",\n            depends: [ \"resizable\" ]\n        }, {\n            id: \"editor-tablewizard\",\n            name: \"Table wizard dialog\",\n            description: \"Support for table properties configuration\",\n            depends: [ \"tabstrip\", \"button\", \"numerictextbox\", \"textarea\" ]\n        }, {\n            id: \"editor-pdf-export\",\n            name: \"PDF export\",\n            description: \"Export Editor content as PDF\",\n            depends: [ \"pdf\", \"drawing\" ]\n        },{\n            id: \"editor-ai\",\n            name: \"AI Prompt\",\n            description: \"The AIPrompt component simplifies the incorporation of external AI services into apps.\",\n            depends: [ \"aiprompt\", \"inlineaiprompt\", \"buttongroup\", \"splitter\", \"icons\", \"html.input\"]\n        }]\n    };\nexport default kendo;\n\n"],"mappings":"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"}