{"version":3,"file":"kendo.listview.min.js","names":[],"sources":["../../src/kendo.listview.js"],"sourcesContent":["import \"./kendo.data.js\";\nimport \"./kendo.editable.js\";\nimport \"./kendo.selectable.js\";\nimport \"./kendo.pager.js\";\n\nexport const __meta__ = {\n    id: \"listview\",\n    name: \"ListView\",\n    category: \"web\",\n    description: \"The ListView widget offers rich support for interacting with data.\",\n    depends: [ \"data\" ],\n    features: [ {\n        id: \"listview-editing\",\n        name: \"Editing\",\n        description: \"Support for record editing\",\n        depends: [ \"editable\" ]\n    }, {\n        id: \"listview-selection\",\n        name: \"Selection\",\n        description: \"Support for selection\",\n        depends: [ \"selectable\" ]\n    }, {\n        id: \"listview-paging\",\n        name: \"Paging\",\n        description: \"Support for paging\",\n        depends: [ \"pager\" ]\n    } ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        CHANGE = \"change\",\n        KENDO_KEYDOWN = \"kendoKeydown\",\n        CANCEL = \"cancel\",\n        DATABOUND = \"dataBound\",\n        DATABINDING = \"dataBinding\",\n        Widget = kendo.ui.Widget,\n        keys = kendo.keys,\n        EMPTY_STRING = \"\",\n        EMPTY_STRING_TEMPLATE = () => EMPTY_STRING,\n        DOT = \".\",\n        FOCUSSELECTOR = \"> *:not(.k-loading-mask)\",\n        PROGRESS = \"progress\",\n        ERROR = \"error\",\n        FOCUSED = \"k-focus\",\n        SELECTED = \"k-selected\",\n        KEDITITEM = \"k-edit-item\",\n        PAGER_CLASS = \"k-listview-pager\",\n        ITEM_CLASS = \"k-listview-item\",\n        ARIA_SETSIZE = \"aria-setsize\",\n        ARIA_POSINSET = \"aria-posinset\",\n        ARIA_ROLE = \"role\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_MULTISELECTABLE = \"aria-multiselectable\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        EDIT = \"edit\",\n        REMOVE = \"remove\",\n        SAVE = \"save\",\n        MOUSEDOWN = \"mousedown\",\n        CLICK = \"click\",\n        TOUCHSTART = \"touchstart\",\n        NS = \".kendoListView\",\n        activeElement = kendo._activeElement,\n        progress = kendo.ui.progress,\n        DataSource = kendo.data.DataSource;\n\n    var ListView = kendo.ui.DataBoundWidget.extend( {\n        init: function(element, options) {\n            var that = this;\n\n            options = Array.isArray(options) ? { dataSource: options } : options;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n\n            that.wrapper = element = that.element;\n\n            if (element[0].id) {\n                that._itemId = element[0].id + \"_lv_active\";\n            } else {\n                that._itemId = kendo.guid() + \"_lv_active\";\n            }\n\n            that._element();\n\n            that._layout();\n\n            that._dataSource();\n\n            that._setContentHeight();\n\n            that._templates();\n\n            that._navigatable();\n\n            that._selectable();\n\n            that._pageable();\n\n            that._crudHandlers();\n\n            that._scrollable();\n\n            if (that.options.autoBind) {\n                that.dataSource.fetch();\n            }\n\n            kendo.notify(that);\n        },\n\n        events: [\n            CHANGE,\n            CANCEL,\n            DATABINDING,\n            DATABOUND,\n            EDIT,\n            REMOVE,\n            SAVE,\n            KENDO_KEYDOWN\n        ],\n\n        options: {\n            name: \"ListView\",\n            ariaLabel: null,\n            autoBind: true,\n            selectable: false,\n            navigatable: false,\n            pageable: false,\n            height: null,\n            template: EMPTY_STRING_TEMPLATE,\n            altTemplate: null,\n            editTemplate: null,\n            contentTemplate: () => \"<div data-content='true' />\",\n            contentElement: \"div\",\n            bordered: true,\n            borders: \"\",\n            layout: \"\",\n            flex: {\n                direction: \"row\",\n                wrap: \"nowrap\"\n            },\n            grid: {},\n            scrollable: false\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n\n            this._layout();\n\n            this._templates();\n\n            if (this.selectable) {\n                this.selectable.destroy();\n                this.selectable = null;\n            }\n\n            this._selectable();\n        },\n\n        _templates: function() {\n            var options = this.options;\n\n            this.template = kendo.template(options.template || EMPTY_STRING_TEMPLATE);\n            this.altTemplate = kendo.template(options.altTemplate || options.template || EMPTY_STRING_TEMPLATE);\n            this.editTemplate = kendo.template(options.editTemplate || EMPTY_STRING_TEMPLATE);\n        },\n\n        _item: function(action) {\n            return this.content.children()[action]();\n        },\n\n        items: function() {\n            return this.content.children(\":not(.k-loading-mask)\");\n        },\n\n        dataItem: function(element) {\n            var attr = kendo.attr(\"uid\");\n            var uid = $(element).closest(\"[\" + attr + \"]\").attr(attr);\n\n            return this.dataSource.getByUid(uid);\n        },\n\n        setDataSource: function(dataSource) {\n            this.options.dataSource = dataSource;\n            this._dataSource();\n\n            this._pageable();\n\n            if (this.options.autoBind) {\n                dataSource.fetch();\n            }\n\n            if (this.options.scrollable === \"endless\") {\n                this._bindScrollable();\n            }\n        },\n\n        _unbindDataSource: function() {\n            var that = this;\n\n            that.dataSource.unbind(CHANGE, that._refreshHandler)\n                            .unbind(PROGRESS, that._progressHandler)\n                            .unbind(ERROR, that._errorHandler);\n        },\n\n        _dataSource: function() {\n            var that = this,\n                pageable = that.options.pageable,\n                dataSource = that.options.dataSource || {};\n\n            if ($.isPlainObject(pageable) && pageable.pageSize !== undefined) {\n                dataSource.pageSize = pageable.pageSize;\n            }\n\n            if (that.dataSource && that._refreshHandler) {\n                that._unbindDataSource();\n            } else {\n                that._refreshHandler = that.refresh.bind(that);\n                that._progressHandler = that._progress.bind(that);\n                that._errorHandler = that._error.bind(that);\n            }\n\n            that.dataSource = DataSource.create(dataSource)\n                                .bind(CHANGE, that._refreshHandler)\n                                .bind(PROGRESS, that._progressHandler)\n                                .bind(ERROR, that._errorHandler);\n        },\n\n        _progress: function(toggle) {\n            var element = this.wrapper;\n            if (toggle && this.content.height()) {\n                element = this.content;\n            }\n            progress(element, toggle, { opacity: true });\n        },\n\n        _error: function() {\n            progress(this.content, false);\n        },\n\n        _element: function() {\n            var options = this.options;\n            var height = options.height;\n\n            this.element.addClass(\"k-listview\");\n\n\n            if (options.contentElement) {\n                this.content = $(document.createElement(options.contentElement)).appendTo(this.element);\n            } else {\n                this.content = this.element;\n            }\n\n            if (height) {\n                this.element.css(\"height\", height);\n            }\n        },\n\n        _layout: function() {\n            var that = this;\n            var options = that.options;\n            var flex = options.flex;\n            var grid = options.grid;\n            var element = that.element;\n            var elementClassNames = [\"k-listview\"];\n            var content = that.content;\n            var contentClassNames = [\"k-listview-content\"];\n\n            element.add(content).removeClass(function(index, className) {\n                if (className.indexOf(\"k-\") >= 0) {\n                    return true;\n                }\n            });\n\n            // Element class names\n            if (options.bordered === true) {\n                elementClassNames.push(\"k-listview-bordered\");\n            }\n\n            if (typeof options.borders === \"string\" && options.borders !== EMPTY_STRING) {\n                elementClassNames.push(\"k-listview-borders-\" + options.borders);\n            }\n\n\n            // Content class names\n            if (typeof options.contentPadding === \"string\" && options.contentPadding !== EMPTY_STRING) {\n                contentClassNames.push(\"k-listview-content-padding-\" + options.contentPadding);\n            }\n\n            if (typeof options.layout === \"string\" && options.layout !== EMPTY_STRING) {\n                contentClassNames.push(\"k-d-\" + options.layout);\n            }\n\n            if (options.layout === \"flex\" && typeof flex === \"object\") {\n                if (typeof flex.direction === \"string\" && flex.direction !== \"\") {\n                    contentClassNames.push(\"k-flex-\" + flex.direction);\n                }\n\n                if (typeof flex.wrap === \"string\" && flex.wrap !== \"\") {\n                    contentClassNames.push(\"k-flex-\" + flex.wrap);\n                }\n            }\n\n            if (options.layout === \"grid\" && typeof grid === \"object\") {\n                if (typeof grid.cols === \"number\") {\n                    content.css(\"grid-template-columns\", \"repeat(\" + grid.cols + \", 1fr)\");\n                } else if (typeof grid.cols === \"string\") {\n                    content.css(\"grid-template-columns\", grid.cols);\n                }\n\n                if (typeof grid.rows === \"number\") {\n                    content.css(\"grid-template-rows\", \"repeat(\" + grid.rows + \", \" + (grid.rowHeight !== undefined ? grid.rowHeight : \"1fr\") + \")\");\n                } else if (typeof grid.rows === \"string\") {\n                    content.css(\"grid-template-rows\", grid.rows);\n                }\n\n                if (typeof grid.gutter === \"number\") {\n                    content.css(\"grid-gap\", grid.gutter);\n                } else if (typeof grid.gutter === \"string\") {\n                    content.css(\"grid-gap\", grid.gutter);\n                }\n            }\n\n            that.element.addClass(elementClassNames.join(\" \"));\n            that.content.addClass(contentClassNames.join(\" \"));\n\n        },\n\n        _setContentHeight: function() {\n            var that = this,\n                options = that.options,\n                height;\n\n            if (options.scrollable && that.wrapper.is(\":visible\")) {\n\n                height = that.wrapper.innerHeight();\n                that.content.height(height);\n            }\n        },\n\n        refresh: function(e) {\n            var that = this,\n                view = that.dataSource.view(),\n                data,\n                items,\n                item,\n                html = \"\",\n                idx,\n                length,\n                template = that.template,\n                altTemplate = that.altTemplate,\n                options = that.options,\n                role = options.selectable ? \"option\" : \"listitem\",\n                active = activeElement(),\n                endlessAppend = that._endlessFetchInProgress,\n                index = endlessAppend ? that._skipRerenderItemsCount : 0,\n                scrollable = that.options.scrollable;\n\n            e = e || {};\n\n            if (e.action === \"itemchange\") {\n                if (!that._hasBindingTarget() && !that.editable) {\n                    data = e.items[0];\n                    item = that.items().filter(\"[\" + kendo.attr(\"uid\") + \"=\" + data.uid + \"]\");\n\n                    if (item.length > 0) {\n                        idx = item.index();\n\n                        item.replaceWith(template(data));\n                        item = that.items().eq(idx);\n                        item.attr(kendo.attr(\"uid\"), data.uid);\n\n                        that.trigger(\"itemChange\", {\n                            item: item,\n                            data: data\n                        });\n                    }\n                }\n\n                return;\n            }\n\n            if (that.trigger(DATABINDING, { action: e.action || \"rebind\", items: e.items, index: e.index })) {\n                return;\n            }\n\n            if (!endlessAppend) {\n                that._destroyEditable();\n            }\n\n            for (idx = index, length = view.length; idx < length; idx++) {\n                if (idx % 2) {\n                    html += altTemplate(view[idx]);\n                } else {\n                    html += template(view[idx]);\n                }\n            }\n\n            if (endlessAppend) {\n                that.content.append(html);\n            } else {\n                that.content.html(html);\n            }\n\n            items = that.items().not(\".k-loading-mask\");\n\n            that._ariaAttributes(view.length);\n\n            for (idx = index, length = view.length; idx < length; idx++) {\n                item = items.eq(idx);\n\n                item.addClass(ITEM_CLASS);\n\n                item.attr(kendo.attr(\"uid\"), view[idx].uid)\n                    .attr(ARIA_ROLE, role);\n\n                if (that.options.selectable) {\n                    item.attr(\"aria-selected\", \"false\");\n                }\n\n                if (that.options.pageable) {\n                    item.attr(ARIA_SETSIZE, that.dataSource.total());\n                    item.attr(ARIA_POSINSET, that.dataSource.indexOf(that.dataItem(item)) + 1);\n                }\n            }\n\n            if (that.content[0] === active && that.options.navigatable) {\n                if (that._focusNext) {\n                    that.current(that.current().next());\n                } else {\n                    if (!scrollable) {\n                        that.current(items.eq(0));\n                    }\n                }\n            }\n\n            if (that.element.attr(ARIA_ACTIVEDESCENDANT) &&\n                that.element.find(\"#\" + that.element.attr(ARIA_ACTIVEDESCENDANT)).length === 0) {\n                    that.element.removeAttr(ARIA_ACTIVEDESCENDANT);\n            }\n\n            that._setContentHeight();\n\n            that._progress(false);\n            that._endlessFetchInProgress = null;\n\n            that.trigger(DATABOUND, { action: e.action || \"rebind\", items: e.items, index: e.index });\n        },\n\n        _ariaAttributes: function(length) {\n            var content = this.content,\n                options = this.options,\n                selectable = options.selectable;\n\n            this._ariaLabelValue = this._ariaLabelValue || this.options.ariaLabel;\n\n            if (length === 0) {\n                content.removeAttr(ARIA_ROLE);\n                content.removeAttr(ARIA_MULTISELECTABLE);\n\n                if (content.attr(ARIA_LABEL)) {\n                    this._ariaLabelValue = content.attr(ARIA_LABEL);\n                    content.removeAttr(ARIA_LABEL);\n                }\n            } else {\n                content.attr(ARIA_ROLE, selectable ? \"listbox\" : \"list\");\n\n                if (selectable && kendo.ui.Selectable.parseOptions(selectable).multiple) {\n                    content.attr(ARIA_MULTISELECTABLE, true);\n                }\n\n                if (this._ariaLabelValue) {\n                    content.attr(ARIA_LABEL, this._ariaLabelValue);\n                }\n            }\n        },\n\n        _pageable: function() {\n            var that = this,\n                pageable = that.options.pageable,\n                navigatable = that.options.navigatable,\n                pagerWrap,\n                settings;\n\n            if (!pageable) {\n                return;\n            }\n\n            pagerWrap = that.wrapper.find(DOT + PAGER_CLASS);\n\n            if (!pagerWrap.length) {\n                pagerWrap = $('<div />').addClass(PAGER_CLASS);\n            }\n\n            if (pageable.position === \"top\") {\n                pagerWrap\n                    .addClass(kendo.format(\"{0}-{1}\", PAGER_CLASS, pageable.position))\n                    .prependTo(that.wrapper);\n            } else {\n                pagerWrap.appendTo(that.wrapper);\n            }\n\n            if (that.pager) {\n                that.pager.destroy();\n            }\n\n            if (typeof pageable === \"object\" && pageable instanceof kendo.ui.Pager) {\n                that.pager = pageable;\n            } else {\n                pagerWrap = pageable.pagerId ? $(\"#\" + pageable.pagerId) : pagerWrap;\n\n                settings = $.extend({}, pageable, {\n                    dataSource: that.dataSource,\n                    navigatable: navigatable,\n                    pagerId: null\n                });\n\n                that.pager = new kendo.ui.Pager(pagerWrap, settings);\n            }\n        },\n\n        _selectable: function() {\n            var that = this,\n                multi,\n                current,\n                selectable = that.options.selectable,\n                navigatable = that.options.navigatable;\n\n            if (selectable) {\n                multi = kendo.ui.Selectable.parseOptions(selectable).multiple;\n\n                that.selectable = new kendo.ui.Selectable(that.element, {\n                    aria: true,\n                    multiple: multi,\n                    filter: that.options.contentElement ? \".k-listview-content \" + FOCUSSELECTOR : FOCUSSELECTOR,\n                    change: function() {\n                        that.trigger(CHANGE);\n                    }\n                });\n\n                if (navigatable) {\n                    that.element.on(\"keydown\" + NS, function(e) {\n\n                        if (!$(e.target).is(that.element)) { return; }\n\n                        if (e.keyCode === keys.SPACEBAR) {\n                            current = that.current();\n\n                            if (e.target == e.currentTarget) {\n                                e.preventDefault();\n                            }\n\n                            if (multi) {\n                                if (!e.ctrlKey) {\n                                    that.selectable.clear();\n                                } else {\n                                    if (current && current.hasClass(SELECTED)) {\n                                        current.removeClass(SELECTED);\n                                        that.trigger(CHANGE);\n                                        return;\n                                    }\n                                }\n                            } else {\n                                that.selectable.clear();\n                            }\n\n                            that.selectable.value(current);\n                            that.trigger(CHANGE);\n                        }\n                    });\n                }\n            }\n        },\n\n        _scrollable: function() {\n            var that = this;\n            var scrollable = that.options.scrollable;\n\n            if (scrollable === \"endless\") {\n                that._bindScrollable();\n            }\n        },\n\n        _bindScrollable: function() {\n            var that = this;\n            var originalPageSize = that._endlessPageSize = that.dataSource.options.pageSize;\n\n            that.content\n                .off(\"scroll\" + NS)\n                .on(\"scroll\" + NS, function() {\n                    if (this.scrollTop + this.clientHeight - this.scrollHeight >= -15 &&\n                    !that._endlessFetchInProgress &&\n                    that._endlessPageSize < that.dataSource.total()) {\n                        that._skipRerenderItemsCount = that._endlessPageSize;\n                        that._endlessPageSize = that._skipRerenderItemsCount + originalPageSize;\n                        that.dataSource.options.endless = true;\n                        that._endlessFetchInProgress = true;\n                        that.dataSource.pageSize(that._endlessPageSize);\n                    }\n                });\n        },\n\n        current: function(candidate) {\n            var that = this,\n                element = that.element,\n                current = that._current,\n                id = that._itemId;\n\n            if (candidate === undefined) {\n                return current;\n            }\n\n            if (current && current[0]) {\n                if (current[0].id === id) {\n                    current.removeAttr(\"id\");\n                }\n\n                current.removeClass(FOCUSED);\n                element.removeAttr(ARIA_ACTIVEDESCENDANT);\n            }\n\n            if (candidate && candidate[0]) {\n                id = candidate[0].id || id;\n\n                that._scrollTo(candidate[0]);\n\n                element.attr(ARIA_ACTIVEDESCENDANT, id);\n                candidate.addClass(FOCUSED).attr(\"id\", id);\n            }\n\n            that._current = candidate;\n        },\n\n        _scrollTo: function(element) {\n            var that = this,\n                content = that.content,\n                container,\n                UseJQueryoffset = false,\n                SCROLL = \"scroll\";\n\n            if (content.css(\"overflow\") === \"auto\" || content.css(\"overflow\") === SCROLL || content.css(\"overflow-y\") === SCROLL) {\n                container = content[0];\n            } else {\n                container = window;\n                UseJQueryoffset = true;\n            }\n\n            var scrollDirectionFunc = function(direction, dimension) {\n\n                var elementOffset = UseJQueryoffset ? $(element).offset()[direction.toLowerCase()] : element[\"offset\" + direction],\n                    elementDimension = element[\"client\" + dimension],\n                    containerScrollAmount = $(container)[SCROLL + direction](),\n                    containerDimension = $(container)[dimension.toLowerCase()]();\n\n                if (elementOffset + elementDimension > containerScrollAmount + containerDimension) {\n                    $(container)[SCROLL + direction](elementOffset + elementDimension - containerDimension);\n                } else if (elementOffset < containerScrollAmount) {\n                    $(container)[SCROLL + direction](elementOffset);\n                }\n            };\n\n            scrollDirectionFunc(\"Top\", \"Height\");\n            scrollDirectionFunc(\"Left\", \"Width\");\n        },\n\n        _navigatable: function() {\n            var that = this,\n                navigatable = that.options.navigatable,\n                element = that.element,\n                content = that.content,\n                clickCallback = function(e) {\n                    that.current($(e.currentTarget));\n                    if (!$(e.target).is(\":button, a, :input, a > .k-icon, a > k-svg-icon, textarea\")) {\n                        kendo.focusElement(element);\n                    }\n                };\n\n            if (navigatable) {\n                that._tabindex();\n\n                element\n                    .on(\"focus\" + NS, function() {\n                        var current = that._current;\n\n                        if (!current || !current.is(\":visible\")) {\n                            current = that._item(\"first\");\n                        }\n\n                        that.current(current);\n                    })\n                    .on(\"focusout\" + NS, function() {\n                        if (that._current) {\n                            that._current.removeClass(FOCUSED);\n                        }\n                    })\n                    .on(\"keydown\" + NS, that, function(e) {\n                        var key = e.keyCode,\n                            current = that.current(),\n                            target = $(e.target),\n                            canHandle = !target.is(\":button, textarea, a, a > .t-icon, input\"),\n                            isTextBox = target.is(\":text, :password\"),\n                            preventDefault = kendo.preventDefault,\n                            editItem = content.find(\".\" + KEDITITEM),\n                            active = activeElement(), idx,\n                            scrollable = that.options.scrollable;\n\n                        if (target.hasClass(PAGER_CLASS) || (!canHandle && !isTextBox && key !== keys.ESC) || (isTextBox && key !== keys.ESC && key !== keys.ENTER)) {\n                            return;\n                        }\n\n                        if (key === keys.UP || key === keys.LEFT) {\n                            if (current && current[0]) {\n                                current = current.prev();\n                            }\n\n                            if (current && current[0]) {\n                                that.current(current);\n                            }\n                            else if (!scrollable) {\n                                that.current(that._item(\"last\"));\n                            }\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.DOWN || key === keys.RIGHT) {\n                            if (scrollable) {\n                                if (that.options.scrollable === \"endless\" && !current.next().length) {\n                                    that.content[0].scrollTop = that.content[0].scrollHeight;\n                                    that._focusNext = true;\n                                } else {\n                                    current = current.next();\n\n                                    if (current && current[0]) {\n                                        that.current(current);\n                                    }\n                                }\n                            }\n                            else {\n                                current = current.next();\n                                that.current(!current || !current[0] ? that._item(\"first\") : current);\n                            }\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.PAGEUP) {\n                            that.current(null);\n                            that.dataSource.page(that.dataSource.page() - 1);\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.PAGEDOWN) {\n                            that.current(null);\n                            that.dataSource.page(that.dataSource.page() + 1);\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.HOME) {\n                            that.current(that._item(\"first\"));\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.END) {\n                            that.current(that._item(\"last\"));\n                            preventDefault(e);\n                        }\n\n                        if (key === keys.ENTER) {\n                            if (editItem.length !== 0 && (canHandle || isTextBox)) {\n                                idx = that.items().index(editItem);\n\n                                if (active) {\n                                    active.blur();\n                                }\n\n                                that.save();\n\n                                var focusAgain = function() {\n                                    that.element.trigger(\"focus\");\n                                    that.current(that.items().eq(idx));\n                                };\n\n                                that.one(\"dataBound\", focusAgain);\n                            } else if (that.options.editTemplate) {\n                                that.edit(current);\n                            }\n                        }\n\n                        if (key === keys.ESC) {\n                            editItem = content.find(\".\" + KEDITITEM);\n\n                            if (editItem.length === 0) {\n                                return;\n                            }\n\n                            idx = that.items().index(editItem);\n                            that.cancel();\n                            that.element.trigger(\"focus\");\n                            that.current(that.items().eq(idx));\n                        }\n                    });\n\n                element.on(MOUSEDOWN + NS + \" \" + TOUCHSTART + NS, that.options.contentElement ? \".k-listview-content \" + FOCUSSELECTOR : FOCUSSELECTOR, clickCallback.bind(that));\n            }\n        },\n\n        clearSelection: function() {\n            var that = this;\n            that.selectable.clear();\n        },\n\n        select: function(items) {\n            var that = this,\n                selectable = that.selectable;\n\n            items = $(items);\n\n            if (items.length) {\n                if (!selectable.options.multiple) {\n                    selectable.clear();\n                    items = items.first();\n                }\n                selectable.value(items);\n                return;\n            }\n\n            return selectable.value();\n        },\n\n        _destroyEditable: function() {\n            var that = this;\n            if (that.editable) {\n                that.editable.destroy();\n                delete that.editable;\n            }\n        },\n\n        _modelFromElement: function(element) {\n            var uid = element.attr(kendo.attr(\"uid\"));\n\n            return this.dataSource.getByUid(uid);\n        },\n\n        _closeEditable: function() {\n            var that = this,\n                editable = that.editable,\n                options = that.options,\n                role = options.selectable ? \"option\" : \"listitem\",\n                data,\n                item,\n                index,\n                template = that.template;\n\n            if (editable) {\n                if (editable.element.index() % 2) {\n                    template = that.altTemplate;\n                }\n\n                data = that._modelFromElement(editable.element);\n                that._destroyEditable();\n                if (!data) {\n                    return true;\n                }\n\n                index = editable.element.index();\n                editable.element.replaceWith(template(data));\n                item = that.items().eq(index);\n                item.addClass(ITEM_CLASS);\n                item.attr(kendo.attr(\"uid\"), data.uid);\n                item.attr(ARIA_ROLE, role);\n\n                if (that._hasBindingTarget()) {\n                    kendo.bind(item, data);\n                }\n            }\n            return true;\n        },\n\n        edit: function(item) {\n            var that = this,\n                data = that._modelFromElement(item),\n                container,\n                uid = data.uid,\n                index;\n\n            that.cancel();\n\n            item = that.items().filter(\"[\" + kendo.attr(\"uid\") + \"=\" + uid + \"]\");\n            index = item.index();\n            item.replaceWith(that.editTemplate(data));\n            container = that.items().eq(index).addClass(KEDITITEM).attr(kendo.attr(\"uid\"), data.uid);\n            that.editable = container.kendoEditable({\n                model: data,\n                clearContainer: false,\n                errorTemplate: false,\n                target: that\n            }).data(\"kendoEditable\");\n\n            that.trigger(EDIT, { model: data, item: container });\n        },\n\n        save: function() {\n            var that = this,\n                editable = that.editable,\n                model;\n\n            if (!editable) {\n                return;\n            }\n\n            var container = editable.element;\n            model = that._modelFromElement(container);\n\n            if (editable.end() && !that.trigger(SAVE, { model: model, item: container })) {\n                that._closeEditable();\n                that.dataSource.sync();\n            }\n        },\n\n        remove: function(item) {\n            var that = this,\n                dataSource = that.dataSource,\n                data = that._modelFromElement(item);\n\n            if (that.editable) {\n                dataSource.cancelChanges(that._modelFromElement(that.editable.element));\n                that._closeEditable();\n            }\n\n            if (!that.trigger(REMOVE, { model: data, item: item })) {\n                if (item.attr(\"id\") === that.element.attr(ARIA_ACTIVEDESCENDANT)) {\n                    that.element.removeAttr(ARIA_ACTIVEDESCENDANT);\n                }\n\n                item.hide();\n                dataSource.remove(data);\n                dataSource.sync();\n            }\n        },\n\n        add: function() {\n            var that = this,\n                dataItem,\n                dataSource = that.dataSource,\n                index = dataSource.indexOf((dataSource.view() || [])[0]);\n\n            if (index < 0) {\n                index = 0;\n            }\n\n            that.cancel();\n            dataItem = dataSource.insert(index, {});\n            that.edit(that.element.find(\"[data-uid='\" + dataItem.uid + \"']\"));\n        },\n\n        cancel: function() {\n            var that = this,\n                dataSource = that.dataSource;\n\n            if (that.editable) {\n                var container = that.editable.element;\n                var model = that._modelFromElement(container);\n\n                if (!that.trigger(CANCEL, { model: model, container: container })) {\n                    dataSource.cancelChanges(model);\n                    that._closeEditable();\n                }\n            }\n        },\n\n        _crudHandlers: function() {\n            var that = this,\n                touchstartNs = TOUCHSTART + NS,\n                clickNs = CLICK + NS;\n\n            that.content.on(touchstartNs + \" \" + clickNs, \".k-edit-button\", function(e) {\n                e.preventDefault();\n                var item = $(this).closest(\"[\" + kendo.attr(\"uid\") + \"]\");\n                setTimeout(function() {\n                    that.edit(item);\n                });\n            });\n\n\n            that.content.on(touchstartNs + \" \" + clickNs, \".k-delete-button\", function(e) {\n                e.preventDefault();\n                var item = $(this).closest(\"[\" + kendo.attr(\"uid\") + \"]\");\n                 setTimeout(function() {\n                    that.remove(item);\n                 });\n            });\n\n            that.content.on(clickNs, \".k-update-button\", function(e) {\n                that.save();\n                e.preventDefault();\n            });\n\n            that.content.on(clickNs, \".k-cancel-button\", function(e) {\n                that.cancel();\n                e.preventDefault();\n            });\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that._unbindDataSource();\n\n            that._destroyEditable();\n\n            that.element.off(NS);\n            that.content.off(NS);\n\n            that._endlessFetchInProgress = that._endlessPageSize = that._skipRerenderItemsCount = that._focusNext = null;\n\n            if (that.pager) {\n                that.pager.destroy();\n            }\n\n            kendo.destroy(that.element);\n        }\n    });\n\n    kendo.ui.plugin(ListView);\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}