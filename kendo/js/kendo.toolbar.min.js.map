{"version":3,"file":"kendo.toolbar.min.js","names":[],"sources":["../../src/kendo.toolbar.js"],"sourcesContent":["import \"./kendo.core.js\";\nimport \"./kendo.splitbutton.js\";\nimport \"./kendo.dropdownbutton.js\";\nimport \"./kendo.buttongroup.js\";\nimport \"./kendo.menu.js\";\nimport \"./kendo.icons.js\";\n\nexport const __meta__ = {\n    id: \"toolbar\",\n    name: \"ToolBar\",\n    category: \"web\",\n    description: \"The ToolBar widget displays one or more command buttons divided into groups.\",\n    depends: [\"core\", \"splitbutton\", \"dropdownbutton\", \"buttongroup\", \"menu\", \"icons\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        isFunction = kendo.isFunction,\n        keys = kendo.keys,\n        outerWidth = kendo._outerWidth,\n        ns = \".kendoToolBar\",\n        TOOLBAR = \"toolbar\",\n        KTOOLBAR = \"k-toolbar\",\n        KBUTTON = \"k-button\",\n        BUTTON_GROUP = \"k-button-group\",\n        SPLIT_BUTTON = \"k-split-button\",\n        MENU_BUTTON = \"k-menu-button\",\n        POPUP_BUTTON = \"k-popup-button\",\n        KSEPARATOR = \"k-toolbar-separator k-separator\",\n        SPACER_CLASS = \"k-spacer\",\n        UPLOAD_BUTTON = \"k-upload-button\",\n        POPUP = \"k-popup\",\n        RESIZABLE_TOOLBAR = \"k-toolbar-resizable\",\n        STATE_SELECTED = \"k-selected\",\n        STATE_DISABLED = \"k-disabled\",\n        STATE_HIDDEN = \"k-hidden\",\n        FORCE_HIDDEN = \"k-force-hidden\",\n        GROUP_START = \"k-group-start\",\n        GROUP_END = \"k-group-end\",\n        MENU_LINK = \"k-menu-link\",\n        MENU_ITEM = \"k-menu-item\",\n        OVERFLOW_ANCHOR = \"k-toolbar-overflow-button\",\n        TEMPLATE_ITEM = \"k-toolbar-item\",\n        MENU_LINK_TOGGLE = \"k-menu-link-toggle\",\n        DROPDOWNLIST = \"k-dropdownlist\",\n        INPUT_BUTTON = \"k-input-button\",\n        MENU_POPUP = \"k-menu-popup\",\n        KFOCUS = \"k-focus\",\n        SINGLE = \"single\",\n        MULTIPLE = \"multiple\",\n        NONE = \"none\",\n        TABINDEX_MINUS_1 = \"[tabindex=-1]\",\n        TOOLBAR_TOOL = \"toolbar-tool\",\n\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_CHECKED = \"aria-checked\",\n        ARIA_LABEL = \"aria-label\",\n\n        CHANGE = \"change\",\n        CLICK = \"click\",\n        TOGGLE = \"toggle\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        FOCUS = \"focus\",\n        FOCUSIN = \"focusin\",\n        FOCUSOUT = \"focusout\",\n        KEYDOWN = \"keydown\",\n\n        SPACER = \"spacer\",\n        PRIMARY = \"primary\",\n        ROLE = \"role\",\n        ITEM_REF = \"ref-\",\n        SEPARATOR = \"separator\",\n        OVERFLOW = \"overflow\",\n        TABINDEX = \"tabindex\",\n        INPUT = \"input\",\n        SELECT = \"select\",\n        HIDDEN = \"hidden\",\n        GROUP = \"group\",\n        DATA_UID = \"data-uid\",\n        DATA_PARENTUID = \"data-parentuid\",\n        DATA_ROLE_SELECTOR = \"[data-role]\",\n        DATA_TOGGLE_SELECTOR = \"[data-toggle]\",\n        DATA_ROLE_BUTTONMENU = \"[data-role=buttonmenu]\",\n        ITEM_REF_SELECTOR = \"[ref-toolbar-tool]\",\n        KENDO_FOCUSABLE = \":kendoFocusable:not([class*='pager'])\",\n\n        OVERFLOW_OPEN = \"overflowOpen\",\n        OVERFLOW_CLOSE = \"overflowClose\",\n        OVERFLOW_NEVER = \"never\",\n        OVERFLOW_AUTO = \"auto\",\n        OVERFLOW_ALWAYS = \"always\",\n\n        KENDO_UID_ATTR = kendo.attr(\"uid\"),\n\n        NOTHING = \"\",\n        DASH = \"_\",\n        EMPTY = \" \",\n        DOT = \".\",\n        COMMA = \",\",\n        ID = \"id\",\n        UID = \"uid\",\n        NBSP = \"&nbsp;\",\n\n        K_DROP_DOWN_BUTTON = \"kendoDropDownButton\",\n        K_SPLIT_BUTTON = \"kendoSplitButton\",\n        K_TOGGLE_BUTTON = \"kendoToggleButton\",\n        K_BUTTON_GROUP = \"kendoButtonGroup\",\n\n        DEFAULT_SCROLL_DISTANCE = 200;\n\n    kendo.toolbar = {};\n\n    var WIDGET_TYPES = {\n        button: \"Button\",\n        splitButton: \"SplitButton\",\n        dropDownButton: \"DropDownButton\",\n        buttonGroup: \"ButtonGroup\",\n        popupButton: \"Button\",\n        open: \"Button\"\n    };\n\n    var TOOLBAR_TOOLS_CLASSES = {\n        Button: \"k-toolbar-button\",\n        ToggleButton: \"k-toolbar-toggle-button\",\n        SplitButton: \"k-toolbar-split-button\",\n        DropDownButton: \"k-toolbar-menu-button\",\n        ButtonGroup: \"k-toolbar-button-group\",\n        ColorPicker: \"k-toolbar-color-picker\",\n        Switch: \"k-toolbar-switch\"\n    };\n\n    var SAFE_COMPONENTS = [\"Button\", \"SplitButton\", \"DropDownButton\", \"ButtonGroup\", \"Switch\", \"ColorPicker\"];\n\n    var POPUP_BUTTON_TEMPLATE = `<button class=\"k-popup-button\"><span class=\"k-button-icon k-icon\"></span><span class=\"k-button-text\">${kendo.ui.icon(\"caret-alt-down\")}</span></button>`;\n    var TEMPLATE_WRAPPER = \"<div class='k-toolbar-item' aria-keyshortcuts='Enter'></div>\";\n    var CUSTOM_WIDGET_WRAP = \"<span class='k-toolbar-item' tabindex='0' ref-toolbar-tool >\";\n    var SEPARATOR_OVERFLOW_EL = \"<li role='separator' class='k-separator k-menu-separator k-hidden'></li>\";\n    var SEPARATOR_EL = '<div role=\"separator\">&nbsp;</div>';\n    var SPACER_EL = '<div>&nbsp;</div>';\n\n    var ToolBar = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            options = this.options;\n\n            this._isRtl = kendo.support.isRtl(element);\n            this.uid = kendo.guid();\n\n            element = this.wrapper = this.element;\n            element.attr(KENDO_UID_ATTR, this.uid);\n            element.addClass(KTOOLBAR);\n            element.attr(ROLE, TOOLBAR);\n\n            if (options.resizable) {\n                this.hasOverflowButton = [\"section\", \"menu\"].includes(this.options.overflow?.mode);\n                this._resizable();\n            } else {\n                options.overflow = $.extend({}, options.overflow, { mode: \"none\" });\n            }\n\n            if (options.tools && options.tools.length > 0) {\n                options.items = this._extendToolsOptions();\n            }\n\n            if (options.items && options.items.length) {\n                this._items();\n            }\n\n            this._scrollable();\n\n            this._attachEvents();\n            this._tabIndex();\n            this._applyCssClasses();\n\n            if (options.resizable) {\n                if (this.hasOverflowButton) {\n                    let containerWidth = this.element.find(\"> .k-toolbar-items\").length > 0 ? this.element.find(\"> .k-toolbar-items\")[0].offsetWidth : this.element.innerWidth();\n                    this._shrink(containerWidth);\n                    this.overflowAnchorSeparator?.appendTo(this.wrapper);\n                    this.overflowAnchor?.appendTo(this.wrapper);\n                    this._toggleOverflowAnchor();\n                }\n                else {\n                    this._toggleScrollButtons();\n                }\n            }\n\n            kendo.notify(this);\n        },\n\n        events: [\n            CLICK,\n            TOGGLE,\n            OPEN,\n            CLOSE,\n            OVERFLOW_OPEN,\n            OVERFLOW_CLOSE,\n            CHANGE\n        ],\n\n        options: {\n            name: \"ToolBar\",\n            items: [],\n            resizable: true,\n            navigateOnTab: false,\n            evaluateTemplates: false,\n            size: undefined,\n            fillMode: undefined,\n            overflow: {\n                mode: \"menu\", // scroll, menu, section, none\n                scrollButtons: \"auto\", // auto, hidden, visible\n                scrollButtonsPosition: \"split\", // split, start, end\n                scrollDistance: DEFAULT_SCROLL_DISTANCE\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.options.resizable) {\n                kendo.unbindResize(that._resizeHandler);\n                that.overflowMenu?.destroy?.();\n                that.overflowSection?.destroy?.();\n            }\n\n            if (that.options.overflow?.mode == \"scroll\") {\n                that.element.find(\"> .k-toolbar-items\").unbind(\"scroll\" + ns);\n                that._removeScrollableClasses();\n            }\n\n            that.element.find(DOT + POPUP_BUTTON).each((i, el) => {\n                var button = $(el).getKendoButton(),\n                    popup, popupWrapper, chooser;\n\n                if (button) {\n                    chooser = button.chooser;\n                    popup = button.popup;\n                    popupWrapper = popup.wrapper;\n\n                    chooser.destroy();\n                    popup.destroy();\n                    popupWrapper.remove();\n                }\n            });\n\n            that.element.off(ns);\n            that.element.removeAttr(DATA_UID);\n\n            kendo.destroy(that.element.children());\n\n            Widget.fn.destroy.call(that);\n        },\n\n        add: function(options) {\n            this._add(options);\n\n            if (this.options.resizable) {\n                this.resize(true);\n            }\n        },\n\n\n        _scrollableAllowed: function() {\n            const options = this.options;\n\n            if (options.overflow && options.overflow.mode == \"scroll\" && !options.overflow.scrollDistance) {\n                options.overflow.scrollDistance = DEFAULT_SCROLL_DISTANCE;\n            }\n\n            return options.overflow?.mode == \"scroll\" && !isNaN(options.overflow.scrollDistance);\n        },\n\n        _getScrollButtonHtml: function(buttonClass, icon) {\n            return kendo.html.renderButton($(`<span class=\"k-toolbar-${buttonClass}\"></span>`), { icon: icon, type: \"\", size: this.options.size });\n        },\n\n        _getChildrenWidth: function(element) {\n            let width = 0;\n            element.children().each(function() {\n                width += outerWidth($(this));\n            });\n            return Math.floor(width);\n        },\n        _removeScrollableClasses: function() {\n            const that = this;\n            const isHidden = that.options.overflow.scrollButtons === \"hidden\";\n\n            that.element.removeClass(\"k-toolbar-scrollable\");\n\n            if (isHidden) {\n                that.element.removeClass(\"k-toolbar-scrollable-overlay\");\n                that.element.removeClass(\"k-toolbar-scrollable-start\");\n                that.element.removeClass(\"k-toolbar-scrollable-end\");\n\n                that.element.removeClass(\"k-toolbar-items-scroll\");\n            }\n        },\n        _scrollable: function() {\n            const that = this,\n                toolbarElement = that.element,\n                options = that.options,\n                scrollButtonsPosition = options.overflow.scrollButtonsPosition,\n                scrollButtonsVisibility = options.overflow.scrollButtons,\n                isHidden = scrollButtonsVisibility === \"hidden\";\n\n            if (that._scrollableAllowed()) {\n                let scrollPrevButton,\n                    scrollNextButton;\n\n                that.element.addClass(\"k-toolbar-scrollable\");\n                let useNativeScrolling = true;\n                that.element.wrapInner(`<div class=\"k-toolbar-items ${useNativeScrolling ? \"k-toolbar-items-scroll\" : \"\"}\"></div>`);\n                const scrollableElement = toolbarElement.find(\"> .k-toolbar-items\");\n                const wrapperOffset = that.element[0].offsetWidth;\n                const tabGroupScroll = scrollableElement[0].scrollWidth;\n                const condition = that._getChildrenWidth(scrollableElement) > scrollableElement.outerWidth();\n                const enableScroll = (tabGroupScroll > wrapperOffset) || condition;\n\n                if (enableScroll && !that._scrollableModeActive && isHidden) {\n                    that.element.addClass(\"k-toolbar-items-scroll\");\n                    that.element.addClass(\"k-toolbar-scrollable-overlay\");\n\n                    that._scrollableModeActive = true;\n                    that._toggleScrollButtons();\n                } else if ((enableScroll || !isHidden) && !that._scrollableModeActive) {\n                    that._nowScrollingTabs = false;\n                    that._isRtl = kendo.support.isRtl(that.element);\n                    const mouseDown = kendo.support.touch ? \"touchstart\" : \"mousedown\";\n                    const mouseUp = kendo.support.touch ? \"touchend\" : \"mouseup\";\n                    const browser = kendo.support.browser;\n                    const isRtlScrollDirection = that._isRtl && !browser.msie && !browser.edge;\n                    const prevIcon = !that._isRtl ? \"caret-alt-left\" : \"caret-alt-right\";\n                    const nextIcon = !that._isRtl ? \"caret-alt-right\" : \"caret-alt-left\";\n\n                    const scrollLeftButtonHtml = this._getScrollButtonHtml(\"prev\", prevIcon);\n                    const scrollRightButtonHtml = this._getScrollButtonHtml(\"next\", nextIcon);\n\n                    switch (scrollButtonsPosition) {\n                        case 'split':\n                            that.element.prepend(scrollLeftButtonHtml);\n                            that.element.append(scrollRightButtonHtml);\n                            break;\n                        case 'start':\n                            that.element.prepend(scrollRightButtonHtml);\n                            that.element.prepend(scrollLeftButtonHtml);\n                            break;\n                        case 'end':\n                            that.element.append(scrollLeftButtonHtml);\n                            that.element.append(scrollRightButtonHtml);\n                            break;\n                    }\n\n                    scrollPrevButton = that._scrollPrevButton = that.element.children(\".k-toolbar-prev\");\n                    scrollNextButton = that._scrollNextButton = that.element.children(\".k-toolbar-next\");\n\n                    scrollPrevButton.on(mouseDown + ns, function() {\n                        that._nowScrollingTabs = true;\n                        that._scrollTabsByDelta(options.overflow.scrollDistance * (isRtlScrollDirection ? 1 : -1));\n                    });\n\n                    scrollNextButton.on(mouseDown + ns, function() {\n                        that._nowScrollingTabs = true;\n                        that._scrollTabsByDelta(options.overflow.scrollDistance * (isRtlScrollDirection ? -1 : 1));\n                    });\n\n                    scrollPrevButton.add(scrollNextButton).on(mouseUp + ns, function() {\n                        that._nowScrollingTabs = false;\n                        that._toggleScrollButtons();\n                    });\n\n                    that._scrollableModeActive = true;\n\n                    that._toggleScrollButtons();\n                } else if (that._scrollableModeActive && !enableScroll && isHidden) {\n                    that._scrollableModeActive = false;\n\n                    that._removeScrollableClasses();\n\n                    that._scrollPrevButton && that._scrollPrevButton.off().remove();\n                    that._scrollNextButton && that._scrollNextButton.off().remove();\n                } else if (!that._scrollableModeActive && isHidden) {\n                    that._removeScrollableClasses();\n                } else {\n                    that._toggleScrollButtons();\n                }\n            }\n        },\n\n        _scrollTabsByDelta: function(delta) {\n            const that = this;\n            const toolbarElement = that.element;\n            const scrollableElement = toolbarElement.find(\"> .k-toolbar-items\");\n\n            let scrOffset = kendo.scrollLeft(scrollableElement);\n            const browser = kendo.support.browser;\n\n            if (that._isRtl && (browser.mozilla || (browser.webkit && browser.version >= 85))) {\n                scrOffset = scrOffset * -1;\n            }\n\n            const animationProps = { \"scrollLeft\": scrOffset + delta };\n\n            scrollableElement.finish().animate(animationProps, \"fast\", \"linear\", function() {\n                if (that._nowScrollingTabs && !jQuery.fx.off) {\n                    that._scrollTabsByDelta(delta);\n                }\n            });\n        },\n        _toggleScrollButtons: function(forceHideButtons) {\n            const that = this;\n\n            if (!that._scrollableAllowed()) {\n                return;\n            }\n\n            let toolbarElement = that.element,\n                scrollableElement = toolbarElement.find(\"> .k-toolbar-items\"),\n                scrollLeft = Math.floor(kendo.scrollLeft(scrollableElement)),\n                scrollButtonsVisibility = that.options.overflow.scrollButtons;\n\n            const disableNextButton = Math.abs(scrollLeft - (scrollableElement[0].scrollWidth - scrollableElement[0].offsetWidth)) <= 1;\n            const disablePrevButton = scrollLeft === 0;\n\n            if (scrollButtonsVisibility !== \"hidden\") {\n                that._scrollPrevButton.toggleClass(STATE_DISABLED, disablePrevButton);\n                that._scrollNextButton.toggleClass(STATE_DISABLED, disableNextButton);\n\n                if (scrollButtonsVisibility === \"auto\") {\n                    const shouldHideScrollButtons = forceHideButtons || scrollableElement[0].scrollWidth - scrollableElement[0].offsetWidth <= 1;\n                    that._scrollPrevButton.toggleClass(STATE_HIDDEN, shouldHideScrollButtons);\n                    that._scrollNextButton.toggleClass(STATE_HIDDEN, shouldHideScrollButtons);\n                }\n            } else {\n                that.element.toggleClass(\"k-toolbar-scrollable-start\", disablePrevButton);\n                that.element.toggleClass(\"k-toolbar-scrollable-end\", disableNextButton);\n            }\n        },\n\n        enable: function(candidate, enable) {\n            var that = this,\n                uid = this._getUid(candidate),\n                item = this._getItem(candidate, uid),\n                overflowItem = this._getOverflowItem(candidate, uid),\n                component = item.component,\n                buttonPopup, children, focused, wrapper;\n\n            if (typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            function enableItem(item) {\n                if (item.component) {\n                    wrapper = component.wrapper;\n                    focused = wrapper.hasClass(KFOCUS) || wrapper.is(\":focus\");\n                    component.enable(enable);\n                    wrapper.find(\"[disabled]\").removeAttr(\"disabled\");\n                    wrapper.removeAttr(\"disabled\");\n\n                    if (focused) {\n                        wrapper.addClass(KFOCUS).trigger(FOCUS);\n                    }\n                } else if (item.buttonsPopupItem.length > 0) {\n                    buttonPopup = kendo.widgetInstance(item.buttonsPopupItem.closest(DOT + MENU_POPUP));\n                    buttonPopup.enable(enable, item.buttonsPopupItem);\n                }\n            }\n\n            if (this.overflowSection && overflowItem) {\n                enableItem(overflowItem);\n            }\n\n            if (!item) {\n                return;\n            }\n\n            enableItem(item);\n\n            if (this.overflowMenu) {\n                this.overflowMenu.enable(item.menuItem, enable);\n\n                children = this.overflowMenu.element\n                    .find(\"[data-parentuid=\" + uid + \"]\");\n\n                children.each((i, el) => {\n                    that.overflowMenu.enable($(el), enable);\n                });\n            }\n        },\n\n        getSelectedFromGroup: function(groupName) {\n            return this.element.find(\"[data-group='\" + groupName + \"']\").filter(DOT + STATE_SELECTED);\n        },\n\n        hide: function(candidate) {\n            var that = this,\n                uid = this._getUid(candidate),\n                item = that._getItem(candidate, uid),\n                overflowItem = that._getOverflowItem(candidate, uid),\n                elements, parentButtonGroup, children, parentGroupEl;\n\n            if (!item && !overflowItem) {\n                return;\n            }\n\n            function hideItem(item, isOverflowItem) {\n                elements = item.templateEl.add(item.toolbarEl).add(item.buttonsPopupItem).add(item.menuItem);\n                elements.addClass(STATE_HIDDEN);\n                elements.addClass(FORCE_HIDDEN);\n\n                parentGroupEl = item.toolbarEl.parent().closest(DOT + BUTTON_GROUP);\n                parentButtonGroup = parentGroupEl.data(K_BUTTON_GROUP);\n\n                if (parentButtonGroup) {\n                    if (parentGroupEl.children(\":not(.k-hidden)\").length === 0) {\n                        that.hide(parentGroupEl);\n                    } else {\n                        that._groupVisibleButtons(parentGroupEl);\n                    }\n                }\n\n                if (elements.find(\"[tabindex=0]\").addBack(\"[tabindex=0]\").length > 0) {\n                    that._resetTabIndex(that._getAllItems(isOverflowItem).first());\n                }\n            }\n\n            if (this.overflowSection && overflowItem) {\n                hideItem(overflowItem, true);\n            }\n\n            if (item) {\n                hideItem(item);\n\n                if (this.overflowMenu) {\n                    children = this.overflowMenu.element\n                        .find(\"[data-parentuid=\" + uid + \"]\");\n\n                    children.each((i, el) => {\n                        $(el).addClass(FORCE_HIDDEN);\n                        $(el).addClass(STATE_HIDDEN);\n                    });\n                }\n            }\n\n            if (this.options.resizable) {\n                this.resize(true);\n            }\n        },\n\n        remove: function(candidate) {\n            var that = this,\n                uid = this._getUid(candidate),\n                item = this._getItem(candidate, uid),\n                overflowItem = this._getOverflowItem(candidate, uid),\n                buttonGroup, children;\n\n            if (!item && !overflowItem) {\n                return;\n            }\n\n            function removeItem(item) {\n                if (item.component) {\n                    buttonGroup = item.toolbarEl.closest('[data-role=\"buttongroup\"]');\n                    if (buttonGroup.length > 0 && item.toolbarEl.siblings().length === 0) {\n                        buttonGroup.data(K_BUTTON_GROUP).destroy();\n                        buttonGroup.remove();\n\n                        item.toolbarEl = $(NOTHING);\n                    } else {\n                        item.component.destroy();\n                    }\n                }\n\n                if (item.templateEl.length > 0) {\n                    item.templateEl.remove();\n                } else if (item.toolbarEl.length > 0) {\n                    item.toolbarEl.remove();\n                }\n\n                if (item.buttonsPopupItem.length > 0) {\n                    item.buttonsPopupItem.remove();\n                }\n            }\n\n            if (this.overflowSection && overflowItem) {\n                removeItem(overflowItem);\n            }\n\n            if (item) {\n                removeItem(item);\n\n                if (this.overflowMenu) {\n                    this.overflowMenu.remove(item.menuItem);\n\n                    children = this.overflowMenu.element\n                        .find(\"[data-parentuid=\" + uid + \"]\");\n\n                    children.each((i, el) => {\n                        that.overflowMenu.remove($(el));\n                    });\n                }\n            }\n\n            if (this.options.resizable) {\n                this.resize(true);\n            }\n        },\n\n        show: function(candidate) {\n            var that = this,\n                uid = this._getUid(candidate),\n                item = this._getItem(candidate, uid),\n                overflowItem = this._getOverflowItem(candidate, uid),\n                elements, parentButtonGroup, children, parentGroupEl;\n\n            function showItem(item) {\n                elements = item.templateEl.add(item.toolbarEl).add(item.buttonsPopupItem);\n                elements.removeClass(FORCE_HIDDEN);\n                elements.removeClass(STATE_HIDDEN);\n\n                parentGroupEl = item.toolbarEl.parent().closest(DOT + BUTTON_GROUP);\n                parentButtonGroup = parentGroupEl.data(K_BUTTON_GROUP);\n\n                if (parentButtonGroup) {\n                    if (parentGroupEl.hasClass(\"k-hidden\") && parentGroupEl.children(\":not(.k-hidden)\").length > 0) {\n                        that.show(parentGroupEl);\n                    } else {\n                        that._groupVisibleButtons(parentGroupEl);\n                    }\n                }\n            }\n\n            if (this.overflowSection && overflowItem) {\n                showItem(overflowItem);\n            }\n\n            if (item) {\n                showItem(item);\n                item.menuItem.removeClass(FORCE_HIDDEN);\n                if (this.overflowMenu) {\n                    children = this.overflowMenu.element\n                        .find(\"[data-parentuid=\" + uid + \"]\");\n\n                    children.each((i, el) => {\n                        $(el).removeClass(FORCE_HIDDEN);\n                    });\n                }\n            }\n\n            if (this.options.resizable) {\n                this.resize(true);\n            }\n        },\n\n        toggle: function(candidate, checked) {\n            var item = this._getItem(candidate),\n                overflowItem = this._getOverflowItem(candidate),\n                menuItem = item.menuItem;\n\n            if (checked === undefined) {\n                checked = true;\n            }\n\n            function toggleItem(item) {\n                const element = item.toolbarEl;\n                const button = element.data(K_TOGGLE_BUTTON);\n\n                if (!item.component && menuItem.find(DOT + MENU_LINK_TOGGLE).length === 0) {\n                    return;\n                }\n\n                const group = element.data(GROUP);\n\n                if (item.component) {\n                    const parentGroup = element.closest(DOT + BUTTON_GROUP).data(K_BUTTON_GROUP);\n\n                    if (parentGroup) {\n                        if (element.hasClass(STATE_SELECTED) !== checked) {\n                            parentGroup._toggleIndex(element.index());\n                        }\n                    }\n\n                    button.toggle(checked);\n\n                    if (checked) {\n                        const groupButtons = element.closest(\".k-toolbar,.k-toolbar-popup\").find(\"[data-group=\" + group + \"]\");\n\n                        groupButtons.each((i, el) => {\n                            if (el !== element[0]) {\n                                $(el).data(K_TOGGLE_BUTTON).toggle(false);\n                            }\n                        });\n                    }\n                }\n            }\n\n            if (this.overflowSection && overflowItem) {\n                toggleItem(overflowItem);\n            }\n\n            if (!item) {\n                return;\n            }\n\n            toggleItem(item);\n\n            if (menuItem) {\n                const group = item.toolbarEl.data(GROUP);\n\n                menuItem\n                    .attr(ARIA_CHECKED, checked)\n                    .find(DOT + MENU_LINK_TOGGLE)\n                    .toggleClass(STATE_SELECTED, checked);\n\n                if (checked && this.overflowMenu) {\n                    const groupButtons = this.overflowMenu.element.find(\"[data-group=\" + group + \"]\");\n\n                    groupButtons.each((i, el) => {\n                        if (el !== menuItem[0]) {\n                            $(el)\n                                .attr(ARIA_CHECKED, false)\n                                .find(DOT + MENU_LINK_TOGGLE)\n                                .removeClass(STATE_SELECTED);\n                        }\n                    });\n                }\n            }\n        },\n\n        toggleTools: function(conditions) {\n            var that = this,\n                tools = that.element.find(DATA_TOGGLE_SELECTOR),\n                focusable = that.element.find(KENDO_FOCUSABLE).not(TABINDEX_MINUS_1);\n\n            tools.each(function(index, elm) {\n                var tool = $(elm),\n                    widget = null,\n                    condition = tool.data(TOGGLE),\n                    toToggle = conditions && conditions[condition];\n\n                if (tool.is(DATA_ROLE_SELECTOR)) {\n                    widget = kendo.widgetInstance(tool);\n                }\n\n                if (widget && widget.enable) {\n                    widget.enable(toToggle || false);\n                } else {\n                    that.enable(tool, toToggle);\n                }\n            });\n\n            that.element.find(DATA_TOGGLE_SELECTOR + \"[disabled]\").removeAttr(\"disabled\");\n\n            that.element.find(KENDO_FOCUSABLE).not(TABINDEX_MINUS_1).attr(\"tabindex\", -1);\n            focusable.attr(TABINDEX, 0);\n        },\n\n        _generateToolElement: function(template, overflowTemplate, type, processed) {\n            let element;\n\n            if (template || overflowTemplate) {\n                element = this._addTemplate(processed);\n            } else if (kendo.ui[processed.component]) {\n                element = this._addCustomWidget(processed);\n            } else if (type) {\n                element = this._addDefaultTool(type, processed);\n            } else if (processed.type === SPACER) {\n                this._addSpacer();\n            } else if (processed.type === SEPARATOR) {\n                this._addSeparator(processed);\n            }\n            return element;\n        },\n\n        _add: function(options) {\n            var processed = this._processOptions(options),\n                template = processed.template,\n                overflowTemplate = processed.overflowTemplate,\n                type = WIDGET_TYPES[processed.type];\n            let element;\n\n            if (processed.overflow !== OVERFLOW_ALWAYS || this.options.overflow?.mode == \"menu\") {\n                element = this._generateToolElement(template, overflowTemplate, type, processed);\n\n                if (element && processed.overflow !== OVERFLOW_ALWAYS) {\n                    if (this.overflowAnchor && this.overflowAnchorSeparator) {\n                        element.insertBefore(this.overflowAnchorSeparator);\n                    } else {\n                        element.appendTo(this.element);\n                    }\n\n                    element.find(\"[disabled]\").removeAttr(\"disabled\");\n\n                    if (element.is(\"[disabled]\")) {\n                        element.removeAttr(\"disabled\");\n                    }\n                }\n            }\n\n            if (this.options.overflow?.mode == \"section\" && processed.overflow !== OVERFLOW_NEVER) {\n                if (processed.type === SPACER) {\n                    return this._addSpacer(this._overflowSectionContentElement());\n                }\n\n                if (processed.type === SEPARATOR) {\n                    return;\n                }\n\n                let sectionElement = this._generateToolElement(template, overflowTemplate, type, processed);\n\n                if (sectionElement) {\n                    this._overflowSectionContentElement().append(sectionElement);\n                    if (processed.overflow !== OVERFLOW_ALWAYS) {\n                        sectionElement.addClass(STATE_HIDDEN);\n                    }\n\n                    sectionElement.find(\"[disabled]\").removeAttr(\"disabled\");\n\n                    if (sectionElement.is(\"[disabled]\")) {\n                        sectionElement.removeAttr(\"disabled\");\n                    }\n                    sectionElement.attr(\"ref-section-tool\", element?.attr(\"data-uid\") || \"\");\n                }\n            }\n        },\n\n        _addAttributes: function(options, element) {\n            var attributes = options.attributes,\n                classes = NOTHING;\n\n            if (!attributes) {\n                attributes = {};\n            }\n\n            if (options.hidden) {\n                classes = STATE_HIDDEN + EMPTY + FORCE_HIDDEN;\n            }\n\n            if (options.align) {\n                classes = classes + \" k-align-\" + options.align;\n            }\n\n            if (attributes) {\n                if (attributes.class) {\n                    classes = classes + EMPTY + attributes.class;\n                    delete attributes.class;\n                }\n\n                element.attr(attributes);\n            }\n\n            element.addClass(classes);\n            element.attr(KENDO_UID_ATTR, options.uid);\n\n            if (options.id) {\n                element.attr(ID, options.id);\n            }\n            if (options.overflow === OVERFLOW_NEVER) {\n                element.attr(\"data-overflow\", OVERFLOW_NEVER);\n            }\n\n            if (options.items) {\n                options.items.forEach(item => {\n                    if (item && item.groupClass && !element.hasClass(item.groupClass)) {\n                        element.addClass(item.groupClass);\n                    }\n                });\n            }\n        },\n\n        _addCustomWidget: function(options) {\n            var element = $(options.element || \"<input>\"),\n                widget, result, classes;\n\n            if (options.overflowComponent) {\n                this._addMenuItem(options.overflowComponent.type, $.extend({}, options, options.overflowComponent));\n            }\n\n            if (options.attributes) {\n                classes = options.attributes.class;\n                delete options.attributes[\"class\"];\n                element.attr(options.attributes);\n                delete options.attributes[ARIA_LABEL];\n            }\n\n            if (!options.componentOptions) {\n                options.componentOptions = {};\n            }\n\n            options.componentOptions.size = this.options.size;\n\n            widget = new kendo.ui[options.component](element, options.componentOptions);\n\n            if (SAFE_COMPONENTS.indexOf(options.component) > -1) {\n                widget.wrapper.addClass(TOOLBAR_TOOLS_CLASSES[options.component]).attr(ITEM_REF + TOOLBAR_TOOL, '');\n                result = widget.wrapper;\n            } else {\n                result = (widget.wrapper || widget.element).wrap(CUSTOM_WIDGET_WRAP).parent();\n            }\n\n            if (options.attributes) {\n                options.attributes.class = classes;\n            }\n\n            this._addAttributes(options, result);\n\n            return result;\n        },\n\n        _addDefaultTool: function(component, options) {\n            var element, op;\n            let toolbar = this;\n\n            if (options.overflow !== OVERFLOW_ALWAYS || (toolbar.overflowSection && options.overflow !== OVERFLOW_NEVER)) {\n                element = toolbar._addToolbarTool(component, $.extend(true, {}, options));\n            }\n\n            if (toolbar.overflowMenu && options.overflow !== OVERFLOW_NEVER) {\n                if (options.overflowComponent) {\n                    op = $.extend(true, {}, options, options.overflowComponent);\n                    delete op[\"data-command\"];\n                    toolbar._addMenuItem(\"Button\", op);\n                } else {\n                    toolbar._addMenuItem(component, $.extend(true, {}, options));\n                }\n            }\n\n            return element;\n        },\n\n        _addMenuItem: function(component, options) {\n            var that = this,\n                selected = options.selected,\n                menuitem;\n\n            delete options.selected;\n\n            if (options.id) {\n                options.id = options.id + DASH + OVERFLOW;\n            }\n            if (options.showIcon === TOOLBAR) {\n                delete options.imageUrl;\n                delete options.icon;\n            }\n\n            if (options.showText === TOOLBAR) {\n                if (!options.attributes) {\n                    options.attributes = {};\n                }\n\n                options.attributes[ARIA_LABEL] = options.text;\n\n                options.text = NOTHING;\n            } else if (options.text === undefined || options.text === NOTHING) {\n                options.text = NBSP;\n                options.encoded = false;\n            }\n\n            that.overflowMenu?.append(options);\n            menuitem = that.overflowMenu.element.find(DOT + MENU_ITEM).last();\n\n            if (component === \"ToggleButton\" || (component === \"Button\" && options.togglable === true)) {\n                menuitem.find(DOT + MENU_LINK).addClass(MENU_LINK_TOGGLE);\n\n                if (selected) {\n                    menuitem.find(DOT + MENU_LINK).addClass(STATE_SELECTED);\n                }\n\n                if (options.group) {\n                    menuitem.attr(\"data-group\", options.group);\n                }\n            } else if (options.menuButtons) {\n                options.menuButtons.forEach((i) => {\n                    i.overflow = options.overflow;\n                    that._addMenuItem(null, i);\n                });\n            } else if (options.buttons) {\n                menuitem.remove();\n                menuitem = null;\n\n                options.buttons.forEach((i) => {\n                    var attributes = i.attributes;\n                    i.overflow = options.overflow;\n                    i.attributes = $.extend(attributes, options.attributes);\n\n                    that._addMenuItem(\"Button\", i);\n                });\n            }\n\n            if (component === \"DropDownButton\") {\n                menuitem.addClass(STATE_DISABLED);\n                menuitem.attr(ARIA_DISABLED, true);\n            }\n\n            if (menuitem) {\n                that._addAttributes(options, menuitem);\n\n                if (options.overflow === OVERFLOW_AUTO) {\n                    menuitem.addClass(STATE_HIDDEN);\n                }\n\n                if (options.click || options.toggle) {\n                    that.overflowMenu.bind(SELECT, (e) => {\n                        if (e.item === menuitem[0]) {\n                            this._onMenuItemSelect(e, options.click, options.toggle);\n                        }\n                    });\n                }\n            }\n\n            return menuitem;\n        },\n\n        _addPopupButton: function(options) {\n            var that = this,\n                widgetElement = $(POPUP_BUTTON_TEMPLATE),\n                component = options.popupComponent,\n                popup, chooser;\n\n            widgetElement.attr(ARIA_LABEL, options.text);\n\n            popup = $(\"<div/>\").appendTo($(\"<body>\")).kendoPopup({\n                anchor: widgetElement\n            }).data(\"kendoPopup\");\n\n            widgetElement.on(CLICK + \" touchend\", (e) => {\n                popup.toggle();\n                e.preventDefault();\n            });\n\n            chooser = new component(popup.element);\n\n            chooser.bind(options.commandOn, (e) => {\n                that.trigger(CHANGE, { target: widgetElement, value: e.value || e });\n                popup.close();\n            });\n\n            return { widgetElement, chooser, popup };\n        },\n\n        _addSeparator: function(options) {\n            var separator = $(SEPARATOR_EL),\n                overflowSeparator = $(SEPARATOR_OVERFLOW_EL);\n            const id = options.id;\n\n            separator.addClass(KSEPARATOR);\n            separator.attr(ROLE, SEPARATOR);\n\n            if (this.overflowAnchor && this.overflowAnchorSeparator) {\n                separator.insertBefore(this.overflowAnchorSeparator);\n            } else {\n                separator.appendTo(this.element);\n            }\n\n            this._addAttributes(options, separator);\n\n            if (options.id) {\n                options.id = options.id + DASH + OVERFLOW;\n            }\n\n            this._addAttributes(options, overflowSeparator);\n\n            if (this.overflowMenu) {\n                this.overflowMenu.element.append(overflowSeparator);\n            }\n\n            if (this.overflowSection) {\n                const sectionSeparator = $(SEPARATOR_EL)\n                    .addClass(KSEPARATOR)\n                    .addClass(STATE_HIDDEN)\n                    .attr(ROLE, SEPARATOR)\n                    .attr(\"ref-section-tool\", options.uid);\n\n                let sectionSeparatorOptions = id ? $.extend(true, options, { id: id + DASH + \"section-overflow\" }) : options;\n\n                this._addAttributes(sectionSeparatorOptions, sectionSeparator);\n                this._overflowSectionContentElement().append(sectionSeparator);\n            }\n        },\n\n        _addSpacer: function(destinationElement) {\n            var spacer = $(SPACER_EL);\n            spacer.addClass(SPACER_CLASS);\n\n            if (this.overflowAnchor && this.overflowAnchorSeparator) {\n                spacer.insertBefore(this.overflowAnchorSeparator);\n            } else {\n                spacer.appendTo(destinationElement || this.element);\n            }\n        },\n        _overflowSectionContentElement: function() {\n            return this.overflowSection?.element.find(\".k-toolbar-items-list\");\n        },\n        _addTemplate: function(options) {\n            var template = options.template,\n                overflowTemplate = options.overflowTemplate,\n                element, menuitem, inputsInTemplate = $(NOTHING);\n\n            if (overflowTemplate && this.overflowMenu && options.overflow !== OVERFLOW_NEVER) {\n                overflowTemplate = isFunction(overflowTemplate) ? overflowTemplate(options)[0] : overflowTemplate;\n                this.overflowMenu.append({});\n                menuitem = this.overflowMenu.element\n                    .find(DOT + MENU_ITEM)\n                    .last()\n                    .find(DOT + MENU_LINK)\n                    .html(overflowTemplate)\n                    .parent();\n            }\n\n            if (template && options.overflow !== OVERFLOW_ALWAYS) {\n                if (this.options.evaluateTemplates) {\n                    template = kendo.template(template);\n                }\n\n                template = isFunction(template) ? template(options) : template;\n\n                element = $(TEMPLATE_WRAPPER);\n                element.html(template);\n\n                if (menuitem) {\n                    menuitem.addClass(STATE_HIDDEN);\n                }\n            }\n\n            if (element) {\n                inputsInTemplate = element.find(INPUT + COMMA + SELECT);\n                this._addAttributes(options, element);\n            }\n\n            if (menuitem) {\n                inputsInTemplate.add(menuitem.find(INPUT + COMMA + SELECT));\n                this._addAttributes(options, menuitem);\n            }\n\n            if (!this.options.navigateOnTab && inputsInTemplate.length > 0) {\n                element.attr(TABINDEX, 0);\n                element.attr(ITEM_REF + TOOLBAR_TOOL, '');\n                inputsInTemplate.attr(TABINDEX, -1);\n            }\n\n            return element;\n        },\n\n        _addToolbarTool: function(component, options) {\n            var widgetElement = $(\"<button>\"),\n                hasButtons = false,\n                widget, element, popupRef;\n\n            if (options.primary === true) {\n                options.themeColor = PRIMARY;\n            }\n            if (options.url) {\n                widgetElement = $(\"<a href='\" + kendo.sanitizeLink(options.url) + \"'>\");\n            }\n            if (options.showIcon === OVERFLOW) {\n                delete options.imageUrl;\n                delete options.icon;\n            }\n            if (options.showText !== OVERFLOW) {\n                widgetElement.text(options.text);\n            } else {\n                widgetElement.attr(ARIA_LABEL, options.text);\n            }\n\n            if (options.type === \"popupButton\") {\n                popupRef = this._addPopupButton(options);\n                widgetElement = popupRef.widgetElement;\n            } else if (component === \"Button\" && options.togglable === true) {\n                component = \"ToggleButton\";\n            } else if (options.menuButtons) {\n                options.items = options.menuButtons;\n                delete options.menuButtons;\n\n                if (options.attributes && options.attributes.class) {\n                    widgetElement.addClass(options.attributes.class);\n                }\n\n                widgetElement.attr(DATA_UID, options.uid);\n                delete options.uid;\n            } else if (options.buttons) {\n                widgetElement = $(\"<span></span>\");\n                hasButtons = true;\n                options.items = options.buttons;\n                delete options.buttons;\n\n                options.preventKeyNav = true;\n\n                options.items.forEach(i => {\n                    if (i.showIcon === OVERFLOW) {\n                        delete i.imageUrl;\n                        delete i.icon;\n                    }\n\n                    if (i.showText === OVERFLOW) {\n                        if (!i.attributes) {\n                            i.attributes = {};\n                        }\n\n                        i.attributes[ARIA_LABEL] = i.text;\n\n                        delete i.text;\n                    }\n                });\n            }\n\n            if (options.id) {\n                widgetElement.attr(ID, options.id);\n                delete options.id;\n            }\n\n            // Remove the name property. Otherwise the default component name will be overriden.\n            // This will cause us to init an element with data-role=${name} instead of the correct data-role of the component.\n            if (options.name) {\n                delete options.name;\n            }\n\n            options.size = this.options.size;\n\n            widget = new kendo.ui[component]($(widgetElement), options);\n            element = widget.wrapper || widget.element;\n            element.addClass(TOOLBAR_TOOLS_CLASSES[component]);\n            this._addAttributes(options, element);\n\n            if (options.url) {\n                widgetElement.removeAttr(ROLE);\n            }\n\n            if (hasButtons) {\n                element.find(DOT + KBUTTON).attr(ITEM_REF + TOOLBAR_TOOL, '');\n                this._groupVisibleButtons(element);\n            } else {\n                widget.element.attr(ITEM_REF + TOOLBAR_TOOL, '');\n            }\n\n            if (options.type !== \"popupButton\" && options.type !== \"open\") {\n                this._attachWidgetEvents(widget);\n            } else if (options.type === \"open\") {\n                widgetElement.addClass(UPLOAD_BUTTON);\n                this._resetOpen(widgetElement, options.extensions);\n                element = widgetElement.parent();\n            } else {\n                widget.chooser = popupRef.chooser;\n                widget.popup = popupRef.popup;\n            }\n\n            return element;\n        },\n\n        _attachEvents: function() {\n            var that = this,\n                options = that.options;\n\n            that.element.on(KEYDOWN + ns, that._keydown.bind(that))\n                .on(FOCUSIN + ns, that._focusIn.bind(that))\n                .on(FOCUSOUT + ns, that._focusOut.bind(that));\n\n            if (options.overflow?.mode == \"section\" && that.overflowSection) {\n                that._overflowSectionContentElement().on(KEYDOWN + ns, that._keydown.bind(that));\n            }\n\n            if (options.overflow?.mode == \"scroll\") {\n                that.element.find(\"> .k-toolbar-items\").bind(\"scroll\", function(e) {\n                    if (!that._nowScrollingTabs) {\n                        that._toggleScrollButtons();\n                    }\n                });\n            }\n        },\n\n        _attachWidgetEvents: function(widget) {\n            var that = this;\n\n            widget.bind(CLICK, that._onClick.bind(that));\n            widget.bind(TOGGLE, that._onToggle.bind(that));\n            widget.bind(SELECT, that._onSelect.bind(that));\n            widget.bind(OPEN, that._onOpen.bind(that));\n            widget.bind(CLOSE, that._onClose.bind(that));\n\n            widget.wrapper.find(DOT + KBUTTON).each((i, el) => {\n                var $el = $(el);\n\n                if ($el.data(\"kendoButton\")) {\n                    $el.data(\"kendoButton\").bind(CLICK, (e) => {\n                        that.trigger(CLICK, { id: e.id, target: e.target, originalEvent: e.originalEvent || e.event });\n                    });\n                }\n            });\n        },\n\n        _childrenWidth: function() {\n            var gap = parseInt(this.element.css('gap'), 10) || 0;\n            var childrenWidth = gap;\n            let container = this.element.find(\"> .k-toolbar-items\").length > 0 ? this.element.find(\"> .k-toolbar-items\") : this.element;\n\n            container.children(\":visible:not(\" + DOT + SPACER_CLASS + \")\").each(function() {\n                childrenWidth += outerWidth($(this), false) + gap;\n            });\n\n            return Math.ceil(childrenWidth);\n        },\n\n        _extendToolsOptions: function() {\n            var options = this.options,\n                items = options.tools.flatMap((tool) => this._mapTool(tool, options.parentMessages, options.defaultTools));\n\n            this.options.items = items;\n\n            return items;\n        },\n\n        _focusIn: function(e) {\n            var target = $(e.target),\n                button = target.closest(DOT + KBUTTON);\n\n            if (button.length > 0) {\n                this._resetTabIndex(button);\n                button.addClass(KFOCUS);\n            }\n        },\n\n        _focusOut: function(e) {\n            this.wrapper.find(DOT + KBUTTON + DOT + KFOCUS).removeClass(KFOCUS);\n        },\n\n        _getAllItems: function(isSection, skipDisabled) {\n            let container = isSection == true ? this._overflowSectionContentElement() : this.wrapper;\n            return container.find(ITEM_REF_SELECTOR + (skipDisabled ? \":not(.k-disabled)\" : \"\"))\n                .filter(\":visible\")\n                .filter((i, el) => {\n                    if (el.style.visibility === HIDDEN) {\n                        return false;\n                    }\n\n                    return true;\n                });\n        },\n\n        _getOverflowItem: function(candidate, knownUid) {\n            return this._getItem(candidate, knownUid, this._overflowSectionContentElement());\n        },\n\n        _getItem: function(candidate, knownUid, container) {\n            var uid = knownUid || this._getUid(candidate),\n                buttonsPopups = $(DATA_ROLE_BUTTONMENU),\n                uidSelector, toolbarEl;\n\n            if (!uid) {\n                return {\n                    toolbarEl: (container || this.element).find(candidate),\n                    templateEl: $(NOTHING),\n                    menuItem: this.overflowMenu ? this.overflowMenu.element.find(candidate) : $(NOTHING),\n                    buttonsPopupItem: $(NOTHING)\n                };\n            }\n\n            uidSelector = \"[data-uid=\" + uid + \"]\";\n            toolbarEl = (container || this.element).find(uidSelector);\n\n            return {\n                toolbarEl: toolbarEl,\n                templateEl: toolbarEl.closest(DOT + TEMPLATE_ITEM + COMMA + DOT + SPLIT_BUTTON),\n                component: kendo.widgetInstance(toolbarEl),\n                menuItem: this.overflowMenu ? this.overflowMenu.element.find(uidSelector) : $(NOTHING),\n                buttonsPopupItem: buttonsPopups.find(uidSelector)\n            };\n        },\n\n        _getNextElement: function(item, direction) {\n            const isSection = $(item).closest(\".k-toolbar-popup\").length > 0;\n            var items = this._getAllItems(isSection, true),\n                itemIndex = items.index(item) === -1 ? items.index(item.parentElement) : items.index(item),\n                focusableItem = items[itemIndex + direction];\n\n            if (!focusableItem) {\n                if (direction === -1) {\n                    focusableItem = items.last();\n                } else {\n                    focusableItem = items.first();\n                }\n            }\n\n            return focusableItem;\n        },\n\n        _getUid: function(candidate) {\n            var element;\n\n            // find toolbar item by jQuery selector\n            element = this.element.find(candidate);\n\n            // if not found find in in the DropDown-/SplitButton popups\n            if (!element.length) {\n                element = $(DATA_ROLE_BUTTONMENU).find(candidate);\n            }\n\n            // if not, find it in the OverflowMenu\n            if (!element.length && this.overflowMenu) {\n                element = this.overflowMenu.element.find(candidate);\n            }\n\n            // if not, find it in the OverflowSection\n            if (!element.length && this.overflowSection) {\n                element = this._overflowSectionContentElement().find(candidate);\n            }\n\n            if (!element.length) {\n                return null;\n            } else {\n                return element.data(UID) || element.closest(ITEM_REF_SELECTOR).data(UID);\n            }\n        },\n\n        _groupVisibleButtons: function(el) {\n            var buttons = el.children(),\n                visibleBtns;\n\n            buttons.removeClass(GROUP_END).removeClass(GROUP_START);\n            visibleBtns = buttons.filter(\":not('.\" + STATE_HIDDEN + \"')\");\n            visibleBtns.first().addClass(GROUP_START);\n            visibleBtns.last().addClass(GROUP_END);\n        },\n\n        _hideItem: function(item) {\n            var that = this,\n                widget;\n\n            item.addClass(STATE_HIDDEN);\n\n            if (this.overflowSection) {\n                this._overflowSectionContentElement().find(`[ref-section-tool=${item.data(\"uid\")}]`).removeClass(STATE_HIDDEN);\n            }\n\n            if (that.overflowMenu) {\n                if (item.hasClass(SPLIT_BUTTON) || item.hasClass(MENU_BUTTON)) {\n                    if (item.hasClass(SPLIT_BUTTON)) {\n                        item = item.children().eq(0);\n                        widget = item.data(K_SPLIT_BUTTON);\n                    } else {\n                        widget = item.data(K_DROP_DOWN_BUTTON);\n                    }\n\n                    widget.menu.list.children().each((i, el) => {\n                        that._showMenuItem($(el));\n                    });\n\n                    that._showMenuItem(item);\n                } else if (item.hasClass(BUTTON_GROUP)) {\n                    item.children().each((i, el) => {\n                        that._showMenuItem($(el));\n                    });\n                } else {\n                    that._showMenuItem(item);\n                }\n            }\n        },\n\n        _hideMenuItem: function(item) {\n            this.overflowMenu.element\n                .find(\">li[data-uid='\" + item.data(UID) + \"']\")\n                .addClass(STATE_HIDDEN);\n        },\n\n        _items: function() {\n            let options = this.options;\n\n            for (var i = 0; i < options.items.length; i++) {\n                this._add(options.items[i]);\n            }\n        },\n\n        _keydown: function(e) {\n            var target = $(e.target),\n                keyCode = e.keyCode,\n                templateItem = target.closest(DOT + TEMPLATE_ITEM),\n                isOverflowAnchor = target.is(DOT + OVERFLOW_ANCHOR);\n            const isInSection = target.closest(DOT + \"k-toolbar-popup\").length > 0;\n\n            if (!this.options.navigateOnTab && !target.is(ITEM_REF_SELECTOR) && keyCode === keys.ESC && templateItem.length > 0) {\n                e.stopPropagation();\n                this._keyDeactivateTemplate(templateItem);\n                return;\n            }\n\n            if (!target.is(ITEM_REF_SELECTOR)) {\n                return;\n            }\n\n            if (!this.options.navigateOnTab && keyCode === keys.ENTER && target.hasClass(TEMPLATE_ITEM)) {\n                this._keyActivateTemplate(target);\n            } else if (isInSection && keyCode === keys.ESC) {\n                this.overflowSection.close();\n                this.element.trigger(FOCUS);\n            } else if (isOverflowAnchor && (e.altKey && keyCode === keys.DOWN || keyCode === keys.SPACEBAR)) {\n                this._keyOpenOverflow(e, keyCode);\n            } else if (keyCode === keys.HOME) {\n                this._keyFocusFirst(target, e);\n            } else if (keyCode === keys.END) {\n                this._keyFocusLast(target, e);\n            } else if (!this.options.navigateOnTab && (keyCode === keys.RIGHT || keyCode === keys.LEFT)) {\n                this._keyFocusNext(keyCode, e);\n            }\n        },\n\n        _keyActivateTemplate: function(target) {\n            var innerFocusable = target.find(KENDO_FOCUSABLE + \":not('\" + DOT + INPUT_BUTTON + \"')\" + COMMA + DOT + DROPDOWNLIST);\n            const pagerTool = target.find('.k-pager');\n\n            if (pagerTool.length > 0) {\n                pagerTool.trigger(FOCUS);\n            } else if (innerFocusable.length > 0) {\n                target.attr(TABINDEX, -1);\n\n                innerFocusable.attr(TABINDEX, 0);\n                innerFocusable.first().trigger(FOCUS);\n            }\n        },\n\n        _keyDeactivateTemplate: function(templateItem) {\n            var innerWidget = templateItem.find(DATA_ROLE_SELECTOR),\n                innerFocusable = templateItem.find(KENDO_FOCUSABLE + \":not('\" + DOT + INPUT_BUTTON + \"')\" + COMMA + DOT + DROPDOWNLIST),\n                widgetInstance;\n\n            if (innerWidget.length > 0) {\n                widgetInstance = kendo.widgetInstance(innerWidget);\n\n                if (widgetInstance) {\n                    if (widgetInstance.overflowMenu && widgetInstance.overflowMenu.visible()) {\n                        return;\n                    } else {\n                        templateItem.attr(TABINDEX, 0);\n                        templateItem.trigger(FOCUS);\n                        templateItem.find(KENDO_FOCUSABLE).attr(TABINDEX, -1);\n                    }\n                }\n            }\n\n            if (innerFocusable.length > 0) {\n                templateItem.attr(TABINDEX, 0);\n                templateItem.trigger(FOCUS);\n                innerFocusable.attr(TABINDEX, -1);\n            }\n        },\n\n        _keyFocusFirst: function(target, e) {\n            const isSection = target.closest(\".k-toolbar-popup\").length > 0;\n            var items = this._getAllItems(isSection, true);\n\n            if (target.is(DOT + DROPDOWNLIST) || target.is(INPUT)) {\n                return;\n            }\n\n            this._resetTabIndex(items.first());\n            items.first().trigger(FOCUS);\n            e.preventDefault();\n        },\n\n        _keyFocusLast: function(target, e) {\n            const isSection = target.closest(\".k-toolbar-popup\").length > 0;\n            var items = this._getAllItems(isSection, true),\n                last;\n\n            if (target.is(DOT + DROPDOWNLIST) || target.is(INPUT)) {\n                return;\n            }\n\n            last = items.last();\n\n            if (last.width() === 0) {\n                last = items.eq(items.length - 2);\n            }\n\n            this._resetTabIndex(last);\n            last.trigger(FOCUS);\n            e.preventDefault();\n        },\n\n        _keyFocusNext: function(keyCode, e) {\n            var direction = this._isRtl ? -1 : 1,\n                next;\n\n            if (keyCode === keys.LEFT) {\n                direction = -1 * direction;\n            }\n\n            next = $(this._getNextElement(e.target, direction));\n            this._resetTabIndex(next);\n            next.trigger(FOCUS);\n\n            e.preventDefault();\n        },\n\n        _keyOpenOverflow: function(e, keyCode) {\n            if (keyCode === keys.SPACEBAR) {\n                e.preventDefault();\n            }\n\n            (this.overflowMenu || this.overflowSection).open();\n        },\n\n        _mapAttributes: function(toolOptions, messages) {\n            return {\n                \"aria-label\": messages[toolOptions.name || toolOptions.property],\n                \"title\": messages[toolOptions.name || toolOptions.property],\n                \"data-command\": toolOptions.command,\n                \"data-options\": toolOptions.options,\n                \"data-dialog\": toolOptions.dialog,\n                \"data-property\": toolOptions.property,\n                \"data-value\": toolOptions.value,\n                \"data-toggle\": toolOptions.toggleCondition\n            };\n        },\n\n        _mapComponent: function(component, messages) {\n            var that = this,\n                componentOptions = component.componentOptions,\n                componentMessages = componentOptions.messages,\n                componentPlaceholder = componentOptions.placeholder,\n                attributes = $.extend({}, that._mapAttributes(component, messages), component.attributes),\n                options;\n\n            if (component.overflowComponent) {\n                options = component.options || {};\n\n                if (component.componentOptions.dataSource) {\n                    options.options = component.componentOptions.dataSource;\n                }\n                if (component.componentOptions.value) {\n                    options.default = component.componentOptions.value;\n                }\n\n                if (Object.keys(options).length > 0) {\n                    component.overflowComponent.options = JSON.stringify(options);\n                }\n\n                component.overflowComponent = that._mapTool(component.overflowComponent, messages);\n            }\n\n            if (componentMessages) {\n                Object.keys(componentMessages).forEach((key) => {\n                    component.componentOptions.messages[key] = messages[componentMessages[key]] || componentMessages[key];\n                });\n            }\n\n            if (componentPlaceholder) {\n                component.componentOptions.placeholder = messages[componentPlaceholder] || componentPlaceholder;\n            }\n\n            Object.keys(componentOptions).forEach((key) => {\n                if (key === \"commandOn\") {\n                    component.componentOptions[componentOptions[key]] = (ev) => {\n                        that.trigger(CHANGE, { target: ev.target || ev.sender.element });\n                    };\n                }\n            });\n\n            if (componentOptions.dataSource && componentOptions.dataSource.length) {\n                component.componentOptions.dataSource = componentOptions.dataSource.map(i => {\n                    if (i.name && messages[i.name]) {\n                        i.text = messages[i.name];\n                    }\n\n                    return i;\n                });\n            }\n\n            component.attributes = attributes;\n\n            return component;\n        },\n\n        _mapTool: function(tool, messages, defaultTools) {\n            let that = this,\n                isArray = Array.isArray(tool),\n                isPlainObjectTool = $.isPlainObject(tool),\n                toolKeysCount = isPlainObjectTool && Object.keys(tool).length,\n                isBuiltInTool, toolOptions, attributes, originalTool;\n\n            if (isArray) {\n                return {\n                    type: \"buttonGroup\",\n                    buttons: tool.map(t => that._mapTool(t, messages, defaultTools))\n                };\n            }\n\n            isBuiltInTool = isPlainObjectTool && (toolKeysCount === 1 || toolKeysCount === 2) && tool.name;\n            originalTool = isBuiltInTool ? tool : {};\n            tool = isBuiltInTool ? tool.name : tool;\n            toolOptions = $.isPlainObject(tool) ? tool : $.extend({}, defaultTools[tool]);\n\n            attributes = $.extend({}, that._mapAttributes(toolOptions, messages), toolOptions.attributes);\n\n            kendo.deepExtend(toolOptions, {\n                text: originalTool.text || messages[toolOptions.name || toolOptions.property],\n                attributes: attributes,\n            });\n\n            if (toolOptions.type === \"component\") {\n                if (toolOptions.items) {\n                    return toolOptions.items.map(t => that._mapComponent(t, messages));\n                } else {\n                    return that._mapComponent(toolOptions, messages);\n                }\n            } else if (toolOptions.type === \"buttonGroup\") {\n                delete toolOptions.attributes[ARIA_LABEL];\n                toolOptions.buttons = toolOptions.buttons.map(t => that._mapTool(t, messages, defaultTools));\n            } else if (toolOptions.type === \"splitButton\") {\n                delete toolOptions.attributes[ARIA_LABEL];\n                toolOptions.menuButtons = toolOptions.menuButtons.flatMap(t => that._mapTool(t, messages, defaultTools));\n            } else if (toolOptions.type === \"popupButton\" && toolOptions.overflowComponent) {\n                toolOptions.overflowComponent = that._mapTool(toolOptions.overflowComponent, messages);\n            }\n\n            delete toolOptions.name;\n\n            return toolOptions;\n        },\n\n        _menuItemSelect: function(e) {\n            var item = $(e.item),\n                id = item.attr(ID),\n                togglable = item.find(DOT + MENU_LINK_TOGGLE),\n                groupName = item.data(GROUP),\n                shouldSelect, twin, group;\n\n            if (id && id.indexOf(DASH + OVERFLOW) > -1) {\n                id = id.replace(DASH + OVERFLOW, NOTHING);\n            }\n\n            if (togglable.length) {\n                if (groupName) {\n                    this.overflowMenu.element.find(\"[data-group=\" + groupName + \"]\").each((i, el) => {\n                        var current = $(el);\n\n                        current.attr(ARIA_CHECKED, false);\n                        current.find(DOT + MENU_LINK_TOGGLE).removeClass(STATE_SELECTED);\n                    });\n                }\n\n                shouldSelect = groupName ? true : !togglable.hasClass(STATE_SELECTED);\n\n                togglable.toggleClass(STATE_SELECTED, shouldSelect);\n                item.attr(ARIA_CHECKED, shouldSelect);\n\n                twin = this.element.find(\"[data-uid=\" + item.data(UID) + \"]\");\n\n                if (twin.length) {\n                    if (twin.closest(DOT + BUTTON_GROUP).length) {\n                        group = twin.closest(DOT + BUTTON_GROUP).data(K_BUTTON_GROUP);\n                        group.select(twin);\n                    } else {\n                        if (groupName) {\n                            this.element.find(\"[data-group=\" + groupName + \"]\").each((i, el) => {\n                                $(el).data(K_TOGGLE_BUTTON).toggle(false);\n                            });\n                        }\n\n                        twin.data(K_TOGGLE_BUTTON).toggle(true);\n                    }\n                }\n\n                this.trigger(TOGGLE, {\n                    id: item.attr(ID),\n                    target: item,\n                    checked: shouldSelect\n                });\n            } else {\n                this.trigger(CLICK, {\n                    id: id,\n                    target: item,\n                });\n            }\n        },\n\n        _onClick: function(e) {\n            var el = e.target,\n                togglable = el.hasClass(\"k-toolbar-toggle-button\"),\n                group = el.data(GROUP);\n\n            if (!togglable) {\n                this.trigger(CLICK, { id: e.id, target: e.target, originalEvent: e.originalEvent || e.event });\n            }\n\n            if (group && this.element.find(\"[data-group=\" + group + \"]\").length > 1) {\n                if (el.hasClass(STATE_SELECTED)) {\n                    e.preventDefault();\n                }\n            }\n        },\n\n        _onClose: function(e) {\n            if (this.trigger(CLOSE, { widget: e.sender })) {\n                e.preventDefault();\n            }\n        },\n\n        _onMenuItemSelect: function(e, click, toggle) {\n            var item = $(e.item),\n                togglable = item.find(DOT + MENU_LINK_TOGGLE).length > 0,\n                id = item.attr(ID);\n\n            if (id && id.indexOf(DASH + OVERFLOW) > -1) {\n                id = id.replace(DASH + OVERFLOW, NOTHING);\n            }\n\n            if (click) {\n                click.bind(this)({\n                    event: e.event,\n                    id: id,\n                    target: item\n                });\n            }\n\n            if (togglable && toggle) {\n                setTimeout(() => {\n                    toggle.bind(this)({\n                        event: e.event,\n                        id: id,\n                        target: item,\n                        checked: item.find(DOT + STATE_SELECTED).length > 0\n                    });\n                });\n            }\n        },\n\n        _onOpen: function(e) {\n            if (this.trigger(OPEN, { widget: e.sender })) {\n                e.preventDefault();\n            }\n        },\n\n        // triggered on Radio group select action\n        _onSelect: function(e) {\n            let that = this;\n            var menuEl = this.overflowMenu ? this.overflowMenu.element : $(NOTHING);\n\n            e.sender.element.children().each((i, el) => {\n                var current = $(el),\n                    uid = current.data(UID),\n                    dataUidSelector = `[data-uid=${uid}]`,\n                    selected = current.hasClass(STATE_SELECTED);\n\n                menuEl\n                    .find(dataUidSelector)\n                    .attr(ARIA_CHECKED, selected)\n                    .find(DOT + MENU_LINK_TOGGLE)\n                    .toggleClass(STATE_SELECTED, selected);\n\n                if (that.overflowSection) {\n                    let mainItem = that.element.find(dataUidSelector);\n                    let overflowItem = that.overflowSection.element.find(dataUidSelector);\n\n                    let component = kendo.widgetInstance(mainItem[0] == el ? overflowItem : mainItem);\n                    //sync the main item with the overflow item\n                    component?.toggle?.(selected);\n                }\n            });\n\n            this.trigger(TOGGLE, {\n                id: e.target.attr(ID),\n                target: e.target,\n                checked: e.target.hasClass(STATE_SELECTED)\n            });\n        },\n\n        _onToggle: function(e) {\n            var that = this,\n                el = e.target,\n                group = el.data(GROUP),\n                overflowItem,\n                overflowGroup;\n\n            if (that.overflowMenu) {\n                overflowItem = that.overflowMenu.element.find(\"[data-uid=\" + el.attr(DATA_UID) + \"]\");\n                overflowGroup = that.overflowMenu.element.find(\"[data-group=\" + group + \"]\");\n\n                overflowGroup.attr(ARIA_CHECKED, false).find(DOT + MENU_LINK_TOGGLE).removeClass(STATE_SELECTED);\n                overflowItem.attr(ARIA_CHECKED, true).find(DOT + MENU_LINK_TOGGLE).addClass(STATE_SELECTED);\n            }\n\n            if (that.overflowSection) {\n                let mainItem = that.element.find(\"[data-uid=\" + el.attr(DATA_UID) + \"]\");\n                overflowItem = that.overflowSection.element.find(\"[data-uid=\" + el.attr(DATA_UID) + \"]\");\n                let component = kendo.widgetInstance(mainItem[0] == e.target[0] ? overflowItem : mainItem);\n                //sync the main item with the overflow item\n                component?.toggle?.(e.checked);\n            }\n\n            if (group) {\n                that.element.find(\"[data-group=\" + group + \"]\").each((i, item) => {\n                    if (item !== el[0]) {\n                        $(item).data(K_TOGGLE_BUTTON).toggle(false);\n                    }\n                });\n            }\n\n            this.trigger(TOGGLE, { id: e.id, target: e.target, checked: e.checked, originalEvent: e.originalEvent || e.event });\n        },\n\n        _processInner(items, parentUid) {\n            var attributes, current;\n\n            for (var i = 0; i < items.length; i++) {\n                current = items[i];\n                attributes = current.attributes;\n\n                if (!attributes) {\n                    items[i].attributes = {};\n                }\n\n                items[i].attributes[DATA_UID] = kendo.guid();\n                items[i].attributes[DATA_PARENTUID] = parentUid;\n\n                if (current.id) {\n                    items[i].attributes[ID] = items[i].id;\n                }\n\n                if (current.hidden) {\n                    if (!items[i].attributes.class) {\n                        items[i].attributes.class = NOTHING;\n                    }\n\n                    items[i].attributes.class += (EMPTY + STATE_HIDDEN + EMPTY + FORCE_HIDDEN);\n                }\n            }\n\n            return items;\n        },\n\n        _processOptions: function(options) {\n            let that = this,\n                template = options.template,\n                overflowTemplate = options.overflowTemplate,\n                uid = kendo.guid(),\n                groupName;\n\n            $.extend(options, {\n                uid: uid,\n                fillMode: options.fillMode ? options.fillMode : that.options.fillMode,\n                rootUid: this.uid\n            });\n\n            if (options.menuButtons) {\n                options.menuButtons = this._processInner(options.menuButtons, uid);\n            } else if (options.buttons && options.buttons.length) {\n                options.buttons = this._processInner(options.buttons, uid);\n\n                if (options.buttons.some(b => b.togglable)) {\n                    groupName = options.buttons[0].group;\n\n                    if (!!groupName && options.buttons.every(b => b.group === groupName)) {\n                        options.selection = SINGLE;\n                    } else {\n                        options.selection = MULTIPLE;\n                    }\n                } else {\n                    options.selection = NONE;\n                }\n            }\n\n            if ((template && !overflowTemplate) || options.type === SPACER) {\n                options.overflow = OVERFLOW_NEVER;\n            } else if (!options.overflow) {\n                options.overflow = OVERFLOW_AUTO;\n            }\n\n            if (options.enable !== undefined) {\n                options.enabled = options.enable;\n            }\n\n            return options;\n        },\n\n        _renderOverflow: function() {\n            var that = this,\n                isRtl = that._isRtl,\n                horizontalDirection = isRtl ? \"left\" : \"right\";\n            const overflowMode = that.options.overflow?.mode;\n\n            if (overflowMode !== \"section\" && overflowMode !== \"menu\") {\n                return;\n            }\n\n            that.overflowAnchorSeparator = $(`<div class=\"k-toolbar-separator k-toolbar-button-separator k-separator\" ${ROLE}=\"${SEPARATOR}\"></div>`);\n            that.overflowAnchor = $(\"<button class='k-toolbar-overflow-button' title='More tools'>\");\n            that.overflowAnchor.attr(ITEM_REF + TOOLBAR_TOOL, '');\n            that.element.append(that.overflowAnchorSeparator);\n            that.element.append(that.overflowAnchor);\n            that.overflowAnchor.kendoButton({\n                icon: overflowMode == \"menu\" ? \"more-vertical\" : \"more-horizontal\",\n                fillMode: \"flat\",\n                size: that.options.size,\n                click: function(e) {\n                    // open the overflow menu depending on the overflowMode\n                    if (overflowMode == \"section\") {\n                        that.overflowSection.open();\n                    }\n                }\n            });\n\n            if (!that.options.navigateOnTab) {\n                that.overflowAnchor.attr(TABINDEX, -1);\n            }\n\n\n            if (overflowMode == \"section\") {\n                that.overflowSection = new kendo.ui.Popup($(`<div class=\"k-toolbar-popup\"><div class=\"k-toolbar-items-list ${kendo.getValidCssClass(\"k-toolbar-items-list-\", \"fill\", that.options.fillMode)}  ${kendo.getValidCssClass(\"k-toolbar-items-list-\", \"size\", that.options.size)}\"></div></div>`), {\n                    anchor: that.element,\n                    origin: \"bottom left\",\n                    position: \"top left\",\n                    open: function(e) {\n                        if (that.trigger(OVERFLOW_OPEN)) {\n                            return e.preventDefault();\n                        }\n\n                        that.overflowSection.element.width(that.element.outerWidth());\n                    },\n                    activate: function(e) {\n                        const isSection = true;\n                        let firstFocusableSectionItem = that._getAllItems(isSection, true).first();\n                        that._resetTabIndex(firstFocusableSectionItem);\n                        firstFocusableSectionItem.trigger(FOCUS);\n                    },\n                    close: function(e) {\n                        if (that.trigger(OVERFLOW_CLOSE)) {\n                            e.preventDefault();\n                        } else {\n                            that._resetTabIndex(that.overflowAnchor);\n                            that.overflowAnchor.trigger(FOCUS);\n                        }\n                    }\n                });\n            }\n\n            if (overflowMode == \"menu\") {\n                that.overflowMenu = new kendo.ui.ContextMenu($(\"<ul>\"), {\n                    size: that.options.size,\n                    showOn: \"click tap\",\n                    origin: \"bottom \" + horizontalDirection,\n                    position: \"top \" + horizontalDirection,\n                    alignToAnchor: true,\n                    target: that.overflowAnchor,\n                    open: function(e) {\n                        if (that.trigger(OVERFLOW_OPEN)) {\n                            e.preventDefault();\n                        }\n                    },\n                    close: function(e) {\n                        if (that.trigger(OVERFLOW_CLOSE)) {\n                            e.preventDefault();\n                        } else {\n                            that._resetTabIndex(that.overflowAnchor);\n                            that.overflowAnchor.trigger(FOCUS);\n                        }\n                    }\n                });\n\n                that.overflowMenu.element.attr(KENDO_UID_ATTR, this.uid);\n\n                setTimeout(() => {\n                    that.overflowMenu.bind(SELECT, that._menuItemSelect.bind(that));\n                });\n            }\n        },\n\n        _resetOpen: function(element, extensions) {\n            var that = this,\n                uploadWrapper,\n                input;\n\n            element.closest(\".k-upload-button-wrap\").find(\"input\").remove();\n            uploadWrapper = element.wrap(\"<div class='k-upload-button-wrap'></span>\").parent();\n\n            input = $(\"<input type='file' autocomplete='off' accept='\" + extensions + \"'/>\")\n                .attr(\"aria-hidden\", true)\n                .one(\"change\", (e) => {\n                    that.trigger(CHANGE, {\n                        target: element,\n                        value: e.target.files[0]\n                    });\n\n                    that._resetOpen(element, extensions);\n                })\n                .appendTo(uploadWrapper);\n\n            element.off(KEYDOWN).on(KEYDOWN, (e) => {\n                if (e.keyCode === kendo.keys.ENTER) {\n                    input.trigger(CLICK);\n                }\n            });\n        },\n\n        _resetTabIndex: function(toFocus) {\n            if (this.options.navigateOnTab !== true) {\n                const isSection = toFocus.closest(\".k-toolbar-popup\").length > 0;\n                const containerToSearch = isSection ? this._overflowSectionContentElement() : this.wrapper;\n                containerToSearch.find(KENDO_FOCUSABLE).attr(TABINDEX, -1);\n                toFocus.attr(TABINDEX, 0);\n            }\n        },\n\n        _resizable: function() {\n            var that = this,\n                element = that.element;\n\n            that._renderOverflow();\n            element.addClass(RESIZABLE_TOOLBAR);\n\n            that._resizeHandler = kendo.onResize(function() {\n                that.resize();\n            });\n        },\n\n        _resize: function(e) {\n            var containerWidth = e.width,\n                wrapper = this.element,\n                popupBtnElements = wrapper.find('[data-role=\"splitbutton\"]').add(wrapper.find('[data-role=\"dropdownbutton\"]'));\n\n            if (!this.options.resizable) {\n                return;\n            }\n\n            this.overflowMenu?.close();\n            this.overflowSection?.close();\n\n            if (popupBtnElements.length > 0) {\n                popupBtnElements.each((i, el) => {\n                    kendo.widgetInstance($(el)).close();\n                });\n            }\n\n            if (this.hasOverflowButton) {\n                this._shrink(containerWidth);\n                this._stretch(containerWidth);\n                this._toggleOverflowAnchor();\n            }\n            else {\n                this._toggleScrollButtons();\n            }\n        },\n\n        _shrink: function(containerWidth) {\n            var commandElement,\n                visibleCommands,\n                activeElement;\n            let container = this.element.find(\"> .k-toolbar-items\").length > 0 ? this.element.find(\"> .k-toolbar-items\") : this.element;\n\n            if (containerWidth < this._childrenWidth()) {\n                visibleCommands = container.children(\":visible:not([data-overflow='never'], .\" + OVERFLOW_ANCHOR + \")\");\n\n                for (var i = visibleCommands.length - 1; i >= 0; i--) {\n                    commandElement = visibleCommands.eq(i);\n\n                    if (containerWidth > this._childrenWidth()) {\n                        break;\n                    } else {\n                        activeElement = commandElement.find(\"[tabindex=0]\") || commandElement.is(\"[tabindex=0]\") ? commandElement : $(NOTHING);\n\n                        if (activeElement.length > 0) {\n                            activeElement.attr(TABINDEX, -1);\n                            this.element.children(DOT + OVERFLOW_ANCHOR).attr(TABINDEX, 0);\n                        }\n\n                        this._hideItem(commandElement);\n                    }\n                }\n            }\n        },\n\n        _showItem: function(item, containerWidth) {\n            var that = this,\n                gap = parseInt(this.element.css('gap'), 10) || 0,\n                widget;\n\n            item.removeClass(STATE_HIDDEN);\n            var itemOuterWidth = outerWidth(item, true) + gap;\n            item.addClass(STATE_HIDDEN);\n\n            if (item.length && (item.hasClass(SPACER_CLASS) || containerWidth > this._childrenWidth() + itemOuterWidth)) {\n                item.removeClass(STATE_HIDDEN);\n\n                if (this.options.navigateOnTab !== true) {\n                    item.find(KENDO_FOCUSABLE).attr(TABINDEX, -1);\n                } else {\n                    if (item.is(\"[tabindex=-1]\")) {\n                        item.removeAttr(TABINDEX);\n                    }\n                }\n\n                if (this.overflowSection) {\n                    this._overflowSectionContentElement().find(`[ref-section-tool=${item.data(\"uid\")}]`).addClass(STATE_HIDDEN);\n                }\n\n                if (this.overflowMenu) {\n                    if (item.hasClass(SPLIT_BUTTON) || item.hasClass(MENU_BUTTON)) {\n                        if (item.hasClass(SPLIT_BUTTON)) {\n                            item = item.children().eq(0);\n                            widget = item.data(K_SPLIT_BUTTON);\n                        } else {\n                            widget = item.data(K_DROP_DOWN_BUTTON);\n                        }\n\n                        widget.menu.list.children().each((i, el) => {\n                            that._hideMenuItem($(el));\n                        });\n\n                        that._hideMenuItem(item);\n                    } else if (item.hasClass(BUTTON_GROUP)) {\n                        item.children().each((i, el) => {\n                            that._hideMenuItem($(el));\n                        });\n                    } else {\n                        that._hideMenuItem(item);\n                    }\n                }\n\n                return true;\n            }\n\n            return false;\n        },\n\n        _showMenuItem: function(item) {\n            var menuItem = this.overflowMenu.element.find(\">li[data-uid='\" + item.data(UID) + \"']\");\n\n            if (!menuItem.hasClass(FORCE_HIDDEN)) {\n                menuItem.removeClass(STATE_HIDDEN);\n            }\n        },\n\n        _stretch: function(containerWidth) {\n            var overflowAnchor = this.element.children(DOT + OVERFLOW_ANCHOR),\n                commandElement,\n                hiddenCommands;\n            let container = this.element.find(\"> .k-toolbar-items\").length > 0 ? this.element.find(\"> .k-toolbar-items\") : this.element;\n\n            if (containerWidth > this._childrenWidth()) {\n                hiddenCommands = container.children(DOT + STATE_HIDDEN + \":not(\" + DOT + FORCE_HIDDEN + \")\");\n\n                for (var i = 0; i < hiddenCommands.length; i++) {\n                    commandElement = hiddenCommands.eq(i);\n\n                    if (containerWidth < this._childrenWidth() || !this._showItem(commandElement, containerWidth)) {\n                        break;\n                    }\n                }\n            }\n\n            if (!this.options.navigateOnTab && overflowAnchor.is(\"[tabindex=0]\")) {\n                overflowAnchor.attr(TABINDEX, -1);\n                this._resetTabIndex(this._getAllItems().first());\n            }\n        },\n\n        _tabIndex: function() {\n            var focusableItems = this.wrapper.find(KENDO_FOCUSABLE + \":not('\" + TABINDEX_MINUS_1 + \"')\"),\n                firstFocusable = focusableItems.first();\n\n            if (this.options.navigateOnTab !== true) {\n                focusableItems.attr(TABINDEX, -1);\n                firstFocusable.attr(TABINDEX, 0);\n            } else {\n                this.wrapper.find(\".k-toolbar-item\").removeAttr(TABINDEX);\n            }\n        },\n\n        _toggleOverflowAnchor: function() {\n            var hasVisibleChildren = false;\n            if (!this.hasOverflowButton) {\n                return;\n            }\n\n            hasVisibleChildren = (this.overflowMenu?.element || this._overflowSectionContentElement()).children(\":not(.\" + STATE_HIDDEN + \", .\" + POPUP + \")\").length > 0;\n\n            if (hasVisibleChildren) {\n                this.overflowAnchor.removeClass(STATE_HIDDEN);\n                this.overflowAnchorSeparator.removeClass(STATE_HIDDEN);\n            } else {\n                this.overflowAnchor.addClass(STATE_HIDDEN);\n                this.overflowAnchorSeparator.addClass(STATE_HIDDEN);\n            }\n        }\n    });\n\n    kendo.toolbar = {\n        Item: kendo.Class,\n        OverflowButton: kendo.Class,\n        TemplateItem: kendo.Class,\n        ToolBarButton: kendo.Class,\n        registerComponent: () => null\n    };\n\n    kendo.cssProperties.registerPrefix(\"ToolBar\", \"k-toolbar-\");\n\n    kendo.cssProperties.registerValues(\"ToolBar\", [{\n        prop: \"fillMode\",\n        values: ['solid', 'flat']\n    }]);\n\n    kendo.ui.plugin(ToolBar);\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}