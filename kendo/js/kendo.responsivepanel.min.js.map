{"version":3,"file":"kendo.responsivepanel.min.js","names":[],"sources":["../../src/kendo.responsivepanel.js"],"sourcesContent":["import \"./kendo.core.js\";\n\nexport const __meta__ = {\n    id: \"responsive-panel\",\n    name: \"Responsive Panel\",\n    category: \"web\",\n    description: \"The Responsive Panel widget allows a panel of content to be hidden on mobile devices, available through a toggle button.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var NS = \".kendoResponsivePanel\";\n    var OPEN = \"open\";\n    var CLOSE = \"close\";\n    var ACTIVATE_EVENTS = \"click\" + NS + \" touchstart\" + NS + \" touchend\" + NS;\n    var Widget = kendo.ui.Widget;\n    var ResponsivePanel = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this._guid = \"_\" + kendo.guid();\n\n            this._toggleHandler = this._toggleButtonClick.bind(this);\n            this._closeHandler = this._close.bind(this);\n\n            $(document.documentElement).on(ACTIVATE_EVENTS, this.options.toggleButton, this._toggleHandler);\n\n            this._registerBreakpoint();\n\n            if (this.options.content) {\n                kendo.destroy(this.element.children());\n                this.element.html(this.options.content);\n            }\n\n            this.element\n                .addClass(\"k-rpanel k-rpanel-\" + this.options.orientation + \" \" + this._guid);\n\n            this._resizeHandler = this.resize.bind(this, true);\n            $(window).on(\"resize\" + NS, this._resizeHandler);\n        },\n        _mediaQuery: ({ breakpoint, guid, toggleButton }) =>\n            `@media (max-width: ${breakpoint - 1}px) {` +\n                `.${guid}.k-rpanel-animate.k-rpanel-left,` +\n                `.${guid}.k-rpanel-animate.k-rpanel-right {` +\n                    \"-webkit-transition: -webkit-transform .2s ease-out;\" +\n                    \"-ms-transition: -ms-transform .2s ease-out;\" +\n                    \"transition: transform .2s ease-out;\" +\n                \"} \" +\n                `.${guid}.k-rpanel-top {` +\n                    \"overflow: hidden;\" +\n                \"}\" +\n                `.${guid}.k-rpanel-animate.k-rpanel-top {` +\n                    \"-webkit-transition: max-height .2s linear;\" +\n                    \"-ms-transition: max-height .2s linear;\" +\n                    \"transition: max-height .2s linear;\" +\n                \"}\" +\n            \"} \" +\n            `@media (min-width: ${breakpoint}px) {` +\n                `${toggleButton} { display: none; } ` +\n                `.${guid}.k-rpanel-left { float: left; } ` +\n                `.${guid}.k-rpanel-right { float: right; } ` +\n                `.${guid}.k-rpanel-left, .${guid}.k-rpanel-right {` +\n                    \"position: relative;\" +\n                    \"-webkit-transform: translateX(0);\" +\n                    \"-ms-transform: translateX(0);\" +\n                    \"transform: translateX(0);\" +\n                    \"-webkit-transform: translateX(0) translateZ(0);\" +\n                    \"-ms-transform: translateX(0) translateZ(0);\" +\n                    \"transform: translateX(0) translateZ(0);\" +\n                \"} \" +\n                `.k-ie9 .${guid}.k-rpanel-left { left: 0; } ` +\n                `.${guid}.k-rpanel-top { max-height: none; }` +\n            \"}\",\n        _registerBreakpoint: function() {\n            var options = this.options;\n\n            this._registerStyle(this._mediaQuery({\n                breakpoint: options.breakpoint,\n                toggleButton: options.toggleButton,\n                guid: this._guid\n            }));\n        },\n        _registerStyle: function(cssText) {\n            var head = $(\"head,body\")[0];\n            var style = document.createElement('style');\n\n            var nonce = this.options.nonce;\n            if (nonce) {\n                style.setAttribute(\"nonce\", nonce);\n            }\n\n            head.appendChild(style);\n\n            if (style.styleSheet) {\n                style.styleSheet.cssText = cssText;\n            } else {\n                style.appendChild(document.createTextNode(cssText));\n            }\n        },\n        options: {\n            name: \"ResponsivePanel\",\n            content: \"\",\n            nonce: \"\",\n            orientation: \"left\",\n            toggleButton: \".k-rpanel-toggle\",\n            breakpoint: 640,\n            autoClose: true\n        },\n        events: [\n            OPEN,\n            CLOSE\n        ],\n        _resize: function() {\n            this.element.removeClass(\"k-rpanel-animate k-rpanel-expanded\");\n\n            $(document.documentElement).off(ACTIVATE_EVENTS, this._closeHandler);\n        },\n        _toggleButtonClick: function(e) {\n            e.preventDefault();\n\n            if (e.type == \"touchend\") {\n                return;\n            }\n\n            if (this.element.hasClass(\"k-rpanel-expanded\")) {\n                this.close();\n            } else {\n                this.open();\n            }\n        },\n        open: function() {\n            if (!this.trigger(OPEN)) {\n                this.element.addClass(\"k-rpanel-animate k-rpanel-expanded\");\n\n                if (this.options.autoClose) {\n                    $(document.documentElement).on(ACTIVATE_EVENTS, this._closeHandler);\n                }\n            }\n        },\n        close: function() {\n            if (!this.trigger(CLOSE)) {\n                this.element.addClass(\"k-rpanel-animate\").removeClass(\"k-rpanel-expanded\");\n\n                $(document.documentElement).off(ACTIVATE_EVENTS, this._closeHandler);\n            }\n        },\n        _close: function(e) {\n            var prevented = e.isDefaultPrevented();\n            var container = $(e.target).closest(this.options.toggleButton + \",.k-rpanel\");\n\n            if (!container.length && !prevented) {\n                this.close();\n            }\n        },\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            $(window).off(\"resize\" + NS, this._resizeHandler);\n            $(document.documentElement).off(ACTIVATE_EVENTS, this._closeHandler);\n        }\n    });\n\n    kendo.ui.plugin(ResponsivePanel);\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}