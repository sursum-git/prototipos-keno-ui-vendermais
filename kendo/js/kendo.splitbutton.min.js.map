{"version":3,"file":"kendo.splitbutton.min.js","names":[],"sources":["../../src/kendo.splitbutton.js"],"sourcesContent":["import \"./kendo.html.button.js\";\nimport \"./kendo.button.menu.js\";\n\nexport const __meta__ = {\n    id: \"splitbutton\",\n    name: \"SplitButton\",\n    category: \"web\",\n    description: \"The SplitButton allows the user to execute a default action which is bound to a Button or to choose a predefined action from a drop-down list.\",\n    depends: [\"button.menu\", \"html.button\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        NS = \".kendoSplitButton\",\n        ui = kendo.ui,\n        extend = $.extend,\n        html = kendo.html,\n        outerWidth = kendo._outerWidth,\n        keys = kendo.keys,\n\n        DOT = \".\",\n        ID = \"id\",\n\n        ARIA_HASPOPUP = \"aria-haspopup\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_CONTROLS = \"aria-controls\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_EXPANDED = \"aria-expanded\",\n\n        DISABLED = \"disabled\",\n        DISABLEDSTATE = \"k-disabled\",\n        FOCUSSTATE = \"k-focus\",\n\n        CLICK = \"click\",\n        KEYDOWN = \"keydown\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n\n        FOCUS = \"focus\",\n        BLUR = \"blur\";\n\n    var cssClasses = {\n        widget: \"k-split-button k-button-group\"\n    };\n\n    var SplitButton = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            options = options || {};\n            options.enabled = options.enabled !== false && !$(element).prop(DISABLED);\n            Widget.fn.init.call(that, element, options);\n\n            that._wrapper();\n            that._renderButtons();\n            that._renderMenu();\n\n            that._enable(that.options.enabled);\n\n            that._aria();\n\n            that._attachEvents();\n\n            kendo.notify(that);\n\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"SplitButton\",\n            enabled: true,\n            items: [],\n            rounded: undefined,\n            size: undefined,\n            fillMode: undefined,\n            themeColor: undefined,\n            icon: null,\n            popup: null,\n            arrowIcon: \"caret-alt-down\",\n            messages: {\n                labelSuffix: \"splitbutton\"\n            }\n        },\n\n        events: [\n            CLICK,\n            OPEN,\n            CLOSE\n        ],\n\n        _wrapper: function() {\n            var that = this,\n                id = that.element.attr(ID) || kendo.guid(),\n                wrapperId = id + \"_wrapper\";\n\n            that.wrapper = that.element\n                .wrap(\"<div id=\\\"\" + wrapperId + \"\\\" class=\\\"\" + cssClasses.widget + \"\\\"></div>\")\n                .parent(\".k-split-button\");\n\n            that.arrowButton = $(\"<button tabindex=\\\"-1\\\" aria-label=\\\"arrow-button\\\" class=\\\"k-split-button-arrow\\\"></button>\").appendTo(that.wrapper);\n        },\n\n        _applyCssClasses: function() {\n            var that = this;\n\n            that.wrapper.addClass(that._getAppearanceClasses());\n        },\n\n        _clearCssClasses: function() {\n            var that = this;\n\n            that.wrapper.removeClass(that._getAppearanceClasses());\n        },\n\n        _getAppearanceClasses: function() {\n            var that = this,\n                widgetName = that.__proto__.options.name,\n                roundedClass = kendo.cssProperties.getValidClass({\n                    widget: widgetName,\n                    propName: \"rounded\",\n                    value: that.options.rounded\n                });\n\n            return roundedClass;\n        },\n\n        _renderButtons: function() {\n            var that = this;\n\n            that._mainButton();\n            that._arrowButton();\n        },\n\n        _mainButton: function() {\n            var that = this,\n                options = extend({}, that.options, {\n                    type: that.element.attr(\"type\") || \"button\"\n                });\n\n            delete options.click;\n\n            html.renderButton(that.element, options);\n        },\n\n        _arrowButton: function() {\n            var that = this,\n                options = extend({}, that.options, {\n                    type: \"button\",\n                    icon: that.options.arrowIcon,\n                });\n\n            delete options.text;\n            delete options.imageUrl;\n            delete options.click;\n            delete options.iconClass;\n\n            html.renderButton(that.arrowButton, options);\n        },\n\n        _aria: function() {\n            var that = this,\n                element = that.element,\n                menu = that.menu;\n\n            element.attr(ARIA_HASPOPUP, menu ? \"menu\" : null);\n            element.attr(ARIA_EXPANDED, menu ? false : null);\n            element.attr(ARIA_CONTROLS, menu ? menu.list.attr(ID) : null);\n\n            if (!element.attr(ARIA_LABEL)) {\n                element.attr(ARIA_LABEL, element.text() + \" \" + that.options.messages.labelSuffix);\n            }\n        },\n\n        _renderMenu: function() {\n            var that = this,\n                options = extend({}, that.options),\n                menu = $(\"<div></div>\");\n\n            delete options.click;\n            delete options.name;\n\n            if (!options.items.length) {\n                return;\n            }\n\n            that.menu = menu.appendTo(that.wrapper).kendoButtonMenu(extend({\n                mainButton: that.element,\n                toggleTarget: that.arrowButton,\n                menuOpen: that.menuOpenHandler.bind(that),\n                menuClose: that.menuCloseHandler.bind(that),\n                menuClick: that._click.bind(that)\n            }, options)).data(\"kendoButtonMenu\");\n        },\n\n        menuOpenHandler: function(ev) {\n            var that = this,\n                computedWidth = outerWidth(that.wrapper);\n\n            var isDefaultPrevented = that.trigger(OPEN, { target: that.element });\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n                return;\n            }\n\n            ev.sender.adjustPopupWidth(computedWidth);\n            that.element.attr(ARIA_EXPANDED, true);\n        },\n\n        menuCloseHandler: function(ev) {\n            var that = this,\n                isDefaultPrevented = that.trigger(CLOSE, { target: that.element });\n\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n                return;\n            }\n\n            that.element.attr(ARIA_EXPANDED, false);\n            that.element.trigger(FOCUS);\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            that.element.on(CLICK + NS, that._click.bind(that));\n            that.element.on(KEYDOWN + NS, that._keydown.bind(that));\n            that.element.on(FOCUS + NS, that._focus.bind(that));\n            that.element.on(BLUR + NS, that._blur.bind(that));\n        },\n\n        _focus: function() {\n            this.wrapper.addClass(FOCUSSTATE);\n        },\n\n        _blur: function() {\n            this.wrapper.removeClass(FOCUSSTATE);\n        },\n\n        _click: function(ev) {\n            var that = this,\n                target = $(ev.target).closest(\".k-button\"),\n                id = target.attr(ID),\n                originalEvent = ev;\n\n            if (ev.type === \"menu-click\") {\n                id = ev.id;\n                target = ev.target;\n                originalEvent = ev.originalEvent;\n            }\n\n            that.menu.close();\n\n            that.trigger(CLICK, { id: id, target: target, originalEvent: originalEvent });\n        },\n\n        _keydown: function(ev) {\n            var that = this;\n\n            if (that.element.is(DOT + DISABLEDSTATE) && (ev.keyCode === keys.ENTER || ev.keyCode === keys.SPACEBAR)) {\n                ev.preventDefault();\n            }\n        },\n\n        focus: function() {\n            var that = this;\n            that.element.trigger(FOCUS);\n        },\n\n        _enable: function(enable, soft) {\n            this.element.add(this.arrowButton)\n                .toggleClass(DISABLEDSTATE, !enable);\n\n            if (enable) {\n                this.element.removeAttr(ARIA_DISABLED);\n            } else {\n                this.element.attr(ARIA_DISABLED, !enable);\n            }\n\n            if (!soft) {\n                this.element.attr(DISABLED, !enable);\n            }\n\n            this.arrowButton.attr(DISABLED, !enable);\n        },\n\n        enable: function(enable, menuItem, soft) {\n            var that = this;\n\n            if (enable === undefined) {\n                enable = true;\n            }\n\n            if (menuItem && menuItem.length) {\n                that.menu.enable(enable, menuItem);\n                return;\n            }\n\n            that.options.enabled = enable;\n\n            that._enable(enable, soft);\n            that.menu.enable(enable);\n        },\n\n        hide: function(menuItem) {\n            var that = this;\n\n            if (menuItem && menuItem.length) {\n                that.menu.hide(menuItem);\n            }\n        },\n\n        show: function(menuItem) {\n            var that = this;\n\n            if (menuItem && menuItem.length) {\n                that.menu.show(menuItem);\n            }\n        },\n\n        open: function() {\n            this.menu._popup.open();\n        },\n\n        close: function() {\n            this.menu._popup.close();\n        },\n\n        items: function() {\n            return this.menu.items();\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(that, options);\n\n            if (options.popup || options.items || options.size) {\n                that.menu.destroy();\n                that._renderMenu();\n            }\n\n            that._renderButtons();\n\n            that._aria();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.menu) {\n                that.menu.destroy();\n            }\n\n            that.element.off(NS);\n\n            Widget.fn.destroy.call(that);\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"SplitButton\", \"k-splitbutton-\");\n\n    kendo.cssProperties.registerValues(\"SplitButton\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([[\"full\", \"full\"]])\n    }]);\n\n    ui.plugin(SplitButton);\n\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}