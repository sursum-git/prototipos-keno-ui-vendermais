{"version":3,"file":"kendo.binder.min.js","names":[],"sources":["../../src/kendo.binder.js"],"sourcesContent":["import \"./kendo.core.js\";\nimport \"./kendo.data.js\";\n\nexport const __meta__ = {\n    id: \"binder\",\n    name: \"MVVM\",\n    category: \"framework\",\n    description: \"Model View ViewModel (MVVM) is a design pattern which helps developers separate the Model (the data) from the View (the UI).\",\n    depends: [ \"core\", \"data\" ]\n};\n\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        encode = kendo.htmlEncode,\n        Observable = kendo.Observable,\n        ObservableObject = kendo.data.ObservableObject,\n        ObservableArray = kendo.data.ObservableArray,\n        toString = {}.toString,\n        binders = {},\n        Class = kendo.Class,\n        VALUE = \"value\",\n        SOURCE = \"source\",\n        EVENTS = \"events\",\n        CHECKED = \"checked\",\n        CSS = \"css\",\n        deleteExpando = true,\n        FUNCTION = \"function\",\n        CHANGE = \"change\";\n\n    (function() {\n        var a = document.createElement(\"a\");\n\n        try {\n            delete a.test;\n        } catch (e) {\n            deleteExpando = false;\n        }\n    })();\n\n    var Binding = Observable.extend( {\n        init: function(parents, path) {\n            var that = this;\n\n            Observable.fn.init.call(that);\n\n            that.source = parents[0];\n            that.parents = parents;\n            that.path = path;\n            that.dependencies = {};\n            that.dependencies[path] = true;\n            that.observable = that.source instanceof Observable;\n\n            that._access = function(e) {\n                that.dependencies[e.field] = true;\n            };\n\n            if (that.observable) {\n                that._change = function(e) {\n                    that.change(e);\n                };\n\n                that.source.bind(CHANGE, that._change);\n            }\n        },\n\n        _parents: function() {\n            var parents = this.parents;\n            var value = this.get();\n\n            if (value && typeof value.parent == \"function\") {\n                var parent = value.parent();\n\n                if ($.inArray(parent, parents) < 0) {\n                    parents = [parent].concat(parents);\n                }\n            }\n\n            return parents;\n        },\n\n        change: function(e) {\n            var dependency,\n                ch,\n                field = e.field,\n                that = this;\n\n            if (that.path === \"this\") {\n                that.trigger(CHANGE, e);\n            } else {\n                for (dependency in that.dependencies) {\n                    if (dependency.indexOf(field) === 0) {\n                       ch = dependency.charAt(field.length);\n\n                       if (!ch || ch === \".\" || ch === \"[\") {\n                            that.trigger(CHANGE, e);\n                            break;\n                       }\n                    }\n                }\n            }\n        },\n\n        start: function(source) {\n            source.bind(\"get\", this._access);\n        },\n\n        stop: function(source) {\n            source.unbind(\"get\", this._access);\n        },\n\n        get: function() {\n\n            var that = this,\n                source = that.source,\n                index = 0,\n                path = that.path,\n                result = source;\n\n            if (!that.observable) {\n                return result;\n            }\n\n            that.start(that.source);\n\n            result = source.get(path);\n\n            // Traverse the observable hierarchy if the binding is not resolved at the current level.\n            while (result === undefined && source) {\n\n                source = that.parents[++index];\n\n                if (source instanceof ObservableObject) {\n                    result = source.get(path);\n                }\n            }\n\n            // second pass try to get the parent from the object hierarchy\n            if (result === undefined) {\n                source = that.source; //get the initial source\n\n                while (result === undefined && source) {\n                    source = source.parent();\n\n                    if (source instanceof ObservableObject) {\n                        result = source.get(path);\n                    }\n                }\n            }\n\n            // If the result is a function - invoke it\n            if (typeof result === \"function\") {\n                index = path.lastIndexOf(\".\");\n\n                // If the function is a member of a nested observable object make that nested observable the context (this) of the function\n                if (index > 0) {\n                    source = source.get(path.substring(0, index));\n                }\n\n                // Invoke the function\n                that.start(source);\n\n                if (source !== that.source) {\n                    result = result.call(source, that.source);\n                } else {\n                    result = result.call(source);\n                }\n\n                that.stop(source);\n            }\n\n            // If the binding is resolved by a parent object\n            if (source && source !== that.source) {\n\n                that.currentSource = source; // save parent object\n\n                // Listen for changes in the parent object\n                source.unbind(CHANGE, that._change)\n                      .bind(CHANGE, that._change);\n            }\n\n            that.stop(that.source);\n\n            return result;\n        },\n\n        set: function(value) {\n            var source = this.currentSource || this.source;\n\n            var field = kendo.getter(this.path)(source);\n\n            if (typeof field === \"function\") {\n                if (source !== this.source) {\n                    field.call(source, this.source, value);\n                } else {\n                    field.call(source, value);\n                }\n            } else {\n                source.set(this.path, value);\n            }\n        },\n\n        destroy: function() {\n            if (this.observable) {\n                this.source.unbind(CHANGE, this._change);\n                if (this.currentSource) {\n                    this.currentSource.unbind(CHANGE, this._change);\n                }\n            }\n\n            this.unbind();\n        }\n    });\n\n    var EventBinding = Binding.extend( {\n        get: function() {\n            var source = this.source,\n                path = this.path,\n                index = 0,\n                handler;\n\n            handler = source.get(path);\n\n            while (!handler && source) {\n                source = this.parents[++index];\n\n                if (source instanceof ObservableObject) {\n                    handler = source.get(path);\n                }\n            }\n\n            if (!handler) {\n                return;\n            }\n\n            return handler.bind(source);\n        }\n    });\n\n    var TemplateBinding = Binding.extend( {\n        init: function(source, path, template) {\n            var that = this;\n\n            Binding.fn.init.call(that, source, path);\n\n            that.template = template;\n        },\n\n        render: function(value) {\n            var html;\n\n            this.start(this.source);\n\n            html = kendo.render(this.template, value);\n\n            this.stop(this.source);\n\n            return html;\n        }\n    });\n\n    var Binder = Class.extend({\n        init: function(element, bindings, options) {\n            this.element = element;\n            this.bindings = bindings;\n            this.options = options;\n        },\n\n        bind: function(binding, attribute) {\n            var that = this;\n\n            binding = attribute ? binding[attribute] : binding;\n\n            binding.bind(CHANGE, function(e) {\n                that.refresh(attribute || e);\n            });\n\n            that.refresh(attribute);\n        },\n\n        destroy: function() {\n        }\n    });\n\n    var TypedBinder = Binder.extend({\n        dataType: function() {\n            var dataType = this.element.getAttribute(\"data-\" + kendo.ns + \"type\") || this.element.type || \"text\";\n            return dataType.toLowerCase();\n        },\n\n        parsedValue: function() {\n            return this._parseValue(this.element.value, this.dataType());\n        },\n\n        _parseValue: function(value, dataType) {\n            if (dataType == \"date\") {\n                value = kendo.parseDate(value, \"yyyy-MM-dd\");\n            } else if (dataType == \"datetime-local\") {\n                value = kendo.parseDate(value, [\"yyyy-MM-ddTHH:mm:ss\", \"yyyy-MM-ddTHH:mm\"] );\n            } else if (dataType == \"number\") {\n                value = kendo.parseFloat(value);\n            } else if (dataType == \"boolean\") {\n                value = value.toLowerCase();\n                if (kendo.parseFloat(value) !== null) {\n                    value = Boolean(kendo.parseFloat(value));\n                } else {\n                    value = (value.toLowerCase() === \"true\");\n                }\n            }\n            return value;\n        }\n    });\n\n    binders.attr = Binder.extend({\n        refresh: function(key) {\n            this.element.setAttribute(key, this.bindings.attr[key].get());\n        }\n    });\n\n    binders.css = Binder.extend({\n        init: function(element, bindings, options) {\n            Binder.fn.init.call(this, element, bindings, options);\n            this.classes = {};\n        },\n        refresh: function(className) {\n            var element = $(this.element),\n                binding = this.bindings.css[className],\n                hasClass = this.classes[className] = binding.get();\n            if (hasClass) {\n                element.addClass(className);\n            } else {\n                element.removeClass(className);\n            }\n        }\n    });\n\n    binders.style = Binder.extend({\n        refresh: function(key) {\n            this.element.style[key] = this.bindings.style[key].get() || \"\";\n        }\n    });\n\n    binders.enabled = Binder.extend({\n        refresh: function() {\n            if (this.bindings.enabled.get()) {\n                this.element.removeAttribute(\"disabled\");\n            } else {\n                this.element.setAttribute(\"disabled\", \"disabled\");\n            }\n        }\n    });\n\n    binders.readonly = Binder.extend({\n       refresh: function() {\n            if (this.bindings.readonly.get()) {\n                this.element.setAttribute(\"readonly\", \"readonly\");\n            } else {\n                this.element.removeAttribute(\"readonly\");\n            }\n       }\n    });\n\n    binders.disabled = Binder.extend({\n        refresh: function() {\n            if (this.bindings.disabled.get()) {\n                this.element.setAttribute(\"disabled\", \"disabled\");\n            } else {\n                this.element.removeAttribute(\"disabled\");\n            }\n        }\n    });\n\n    binders.events = Binder.extend({\n        init: function(element, bindings, options) {\n            Binder.fn.init.call(this, element, bindings, options);\n            this.handlers = {};\n        },\n\n        refresh: function(key) {\n            var element = $(this.element),\n                binding = this.bindings.events[key],\n                handler = this.handlers[key];\n\n            if (handler) {\n                element.off(key, handler);\n            }\n\n            handler = this.handlers[key] = binding.get();\n\n            element.on(key, binding.source, handler);\n        },\n\n        destroy: function() {\n            var element = $(this.element),\n                handler;\n\n            for (handler in this.handlers) {\n                element.off(handler, this.handlers[handler]);\n            }\n        }\n    });\n\n    binders.text = Binder.extend({\n        refresh: function() {\n            var text = this.bindings.text.get();\n            var dataFormat = this.element.getAttribute(\"data-\" + kendo.ns + \"format\") || \"\";\n            if (text == null) {\n                text = \"\";\n            }\n\n            $(this.element).text(kendo.toString(text, dataFormat));\n        }\n    });\n\n    binders.visible = Binder.extend({\n        refresh: function() {\n            if (this.bindings.visible.get()) {\n                this.element.style.display = \"\";\n            } else {\n                this.element.style.display = \"none\";\n            }\n        }\n    });\n\n    binders.invisible = Binder.extend({\n        refresh: function() {\n            if (!this.bindings.invisible.get()) {\n                this.element.style.display = \"\";\n            } else {\n                this.element.style.display = \"none\";\n            }\n        }\n  });\n\n    binders.html = Binder.extend({\n        refresh: function() {\n            this.element.innerHTML = this.bindings.html.get();\n        }\n    });\n\n    binders.value = TypedBinder.extend({\n        init: function(element, bindings, options) {\n            TypedBinder.fn.init.call(this, element, bindings, options);\n\n            this._change = this.change.bind(this);\n            this.eventName = options.valueUpdate || CHANGE;\n\n            $(this.element).on(this.eventName, this._change);\n\n            this._initChange = false;\n        },\n\n        change: function() {\n            this._initChange = this.eventName != CHANGE;\n\n            this.bindings[VALUE].set(this.parsedValue());\n\n            this._initChange = false;\n        },\n\n        refresh: function() {\n            if (!this._initChange) {\n                var value = this.bindings[VALUE].get();\n\n                if (value == null) {\n                    value = \"\";\n                }\n\n                var type = this.dataType();\n\n                if (type == \"date\") {\n                    value = kendo.toString(value, \"yyyy-MM-dd\");\n                } else if (type == \"datetime-local\") {\n                    value = kendo.toString(value, \"yyyy-MM-ddTHH:mm:ss\");\n                }\n\n                this.element.value = value;\n            }\n\n            this._initChange = false;\n        },\n\n        destroy: function() {\n            $(this.element).off(this.eventName, this._change);\n        }\n    });\n\n    binders.source = Binder.extend({\n        init: function(element, bindings, options) {\n            Binder.fn.init.call(this, element, bindings, options);\n\n            var source = this.bindings.source.get();\n\n            if (source instanceof kendo.data.DataSource && options.autoBind !== false) {\n                source.fetch();\n            }\n        },\n\n        refresh: function(e) {\n            var that = this,\n                source = that.bindings.source.get();\n\n            if (source instanceof ObservableArray || source instanceof kendo.data.DataSource) {\n                e = e || {};\n\n                if (e.action == \"add\") {\n                    that.add(e.index, e.items);\n                } else if (e.action == \"remove\") {\n                    that.remove(e.index, e.items);\n                } else if (e.action != \"itemchange\") {\n                    that.render();\n                }\n            } else {\n                that.render();\n            }\n        },\n\n        container: function() {\n            var element = this.element;\n\n            if (element.nodeName.toLowerCase() == \"table\") {\n                if (!element.tBodies[0]) {\n                    element.appendChild(document.createElement(\"tbody\"));\n                }\n                element = element.tBodies[0];\n            }\n\n            return element;\n        },\n\n        template: function() {\n            var options = this.options,\n                template = options.template,\n                nodeName = this.container().nodeName.toLowerCase();\n\n            if (!template) {\n                if (nodeName == \"select\") {\n                    if (options.valueField || options.textField) {\n                        template = (data) => {\n                            const valueAttr = kendo.getter(options.valueField || options.textField)(data);\n                            const innerText = kendo.getter(options.textField || options.valueField)(data);\n                            return `<option value=\"${encode(valueAttr)}\">${encode(innerText)}</option>`;\n                        };\n                    } else {\n                        template = (data) => `<option>${encode(data)}</option>`;\n                    }\n                } else if (nodeName == \"tbody\") {\n                    template = (data) => `<tr><td>${encode(data)}</td></tr>`;\n                } else if (nodeName == \"ul\" || nodeName == \"ol\") {\n                    template = (data) => `<li>${encode(data)}</li>`;\n                } else {\n                    template = (data) => `${encode(data)}`;\n                }\n                template = kendo.template(template);\n            }\n\n            return template;\n        },\n\n        add: function(index, items) {\n            var element = this.container(),\n                parents,\n                idx,\n                length,\n                child,\n                clone = element.cloneNode(false),\n                reference = element.children[index];\n\n            $(clone).html(kendo.render(this.template(), items));\n\n            if (clone.children.length) {\n                parents = this.bindings.source._parents();\n\n                for (idx = 0, length = items.length; idx < length; idx++) {\n                    child = clone.children[0];\n                    element.insertBefore(child, reference || null);\n                    bindElement(child, items[idx], this.options.roles, [items[idx]].concat(parents));\n                }\n            }\n        },\n\n        remove: function(index, items) {\n            var idx, element = this.container();\n\n            for (idx = 0; idx < items.length; idx++) {\n                var child = element.children[index];\n                unbindElementTree(child, true);\n                if (child.parentNode == element) {\n                    element.removeChild(child);\n                }\n            }\n        },\n\n        render: function() {\n            var source = this.bindings.source.get(),\n                parents,\n                idx,\n                length,\n                element = this.container(),\n                template = this.template();\n\n            if (source == null) {\n                return;\n            }\n\n            if (source instanceof kendo.data.DataSource) {\n                source = source.view();\n            }\n\n            if (!(source instanceof ObservableArray) && toString.call(source) !== \"[object Array]\") {\n                source = [source];\n            }\n\n            if (this.bindings.template) {\n                unbindElementChildren(element, true);\n\n                $(element).html(this.bindings.template.render(source));\n\n                if (element.children.length) {\n                    parents = this.bindings.source._parents();\n\n                    for (idx = 0, length = source.length; idx < length; idx++) {\n                        bindElement(element.children[idx], source[idx], this.options.roles, [source[idx]].concat(parents));\n                    }\n                }\n            } else {\n                $(element).html(kendo.render(template, source));\n            }\n        }\n    });\n\n    binders.input = {\n        checked: TypedBinder.extend({\n            init: function(element, bindings, options) {\n                TypedBinder.fn.init.call(this, element, bindings, options);\n                this._change = this.change.bind(this);\n\n                $(this.element).change(this._change);\n            },\n\n            change: function() {\n                var element = this.element;\n                var value = this.value();\n\n                if (element.type == \"radio\") {\n                    value = this.parsedValue();\n                    this.bindings[CHECKED].set(value);\n                } else if (element.type == \"checkbox\") {\n                    var source = this.bindings[CHECKED].get();\n                    var index;\n\n                    if (source instanceof ObservableArray) {\n                        value = this.parsedValue();\n                        if (value instanceof Date) {\n                            for (var i = 0; i < source.length; i++) {\n                                if (source[i] instanceof Date && +source[i] === +value) {\n                                    index = i;\n                                    break;\n                                }\n                            }\n                        } else {\n                            index = source.indexOf(value);\n                        }\n                        if (index > -1) {\n                            source.splice(index, 1);\n                        } else {\n                            source.push(value);\n                        }\n                    } else {\n                        this.bindings[CHECKED].set(value);\n                    }\n                }\n            },\n\n            refresh: function() {\n                var value = this.bindings[CHECKED].get(),\n                    source = value,\n                    type = this.dataType(),\n                    element = this.element;\n\n                if (element.type == \"checkbox\") {\n                    if (source instanceof ObservableArray) {\n                        var index = -1;\n                        value = this.parsedValue();\n                        if (value instanceof Date) {\n                            for (var i = 0; i < source.length; i++) {\n                                if (source[i] instanceof Date && +source[i] === +value) {\n                                    index = i;\n                                    break;\n                                }\n                            }\n                        } else {\n                            index = source.indexOf(value);\n                        }\n                        element.checked = (index >= 0);\n                    } else {\n                        element.checked = source;\n                    }\n                } else if (element.type == \"radio\") {\n                    if (type == \"date\") {\n                        value = kendo.toString(value, \"yyyy-MM-dd\");\n                    } else if (type == \"datetime-local\") {\n                        value = kendo.toString(value, \"yyyy-MM-ddTHH:mm:ss\");\n                    }\n\n                    if (value !== null && typeof(value) !== \"undefined\" && element.value === value.toString()) {\n                        element.checked = true;\n                    } else {\n                        element.checked = false;\n                    }\n                }\n            },\n\n            value: function() {\n                var element = this.element,\n                    value = element.value;\n\n                if (element.type == \"checkbox\") {\n                    value = element.checked;\n                }\n\n                return value;\n            },\n            destroy: function() {\n                $(this.element).off(CHANGE, this._change);\n            }\n        })\n    };\n\n    binders.select = {\n        source: binders.source.extend({\n            refresh: function(e) {\n                var that = this,\n                    source = that.bindings.source.get();\n\n                if (source instanceof ObservableArray || source instanceof kendo.data.DataSource) {\n                    e = e || {};\n                    if (e.action == \"add\") {\n                        that.add(e.index, e.items);\n                    } else if (e.action == \"remove\") {\n                        that.remove(e.index, e.items);\n                    } else if (e.action == \"itemchange\" || e.action === undefined) {\n                        that.render();\n                        if (that.bindings.value) {\n                            if (that.bindings.value) {\n                                var val = retrievePrimitiveValues(that.bindings.value.get(), $(that.element).data(\"valueField\"));\n                                if (val === null) {\n                                    that.element.selectedIndex = -1;\n                                } else {\n                                    that.element.value = val;\n                                }\n                            }\n                        }\n                    }\n                } else {\n                    that.render();\n                }\n            }\n        }),\n        value: TypedBinder.extend({\n            init: function(target, bindings, options) {\n                TypedBinder.fn.init.call(this, target, bindings, options);\n\n                this._change = this.change.bind(this);\n                $(this.element).change(this._change);\n            },\n\n            parsedValue: function() {\n                var dataType = this.dataType();\n                var values = [];\n                var value, option, idx, length;\n                for (idx = 0, length = this.element.options.length; idx < length; idx++) {\n                    option = this.element.options[idx];\n\n                    if (option.selected) {\n                        value = option.attributes.value;\n\n                        if (value && value.specified) {\n                            value = option.value;\n                        } else {\n                            value = option.text;\n                        }\n\n                        values.push(this._parseValue(value, dataType));\n                    }\n                }\n                return values;\n            },\n\n            change: function() {\n                var values = [],\n                    element = this.element,\n                    source,\n                    field = this.options.valueField || this.options.textField,\n                    valuePrimitive = this.options.valuePrimitive,\n                    option,\n                    valueIndex,\n                    value,\n                    idx,\n                    length;\n\n                for (idx = 0, length = element.options.length; idx < length; idx++) {\n                    option = element.options[idx];\n\n                    if (option.selected) {\n                        value = option.attributes.value;\n\n                        if (value && value.specified) {\n                            value = option.value;\n                        } else {\n                            value = option.text;\n                        }\n\n                        if (field) {\n                            values.push(value);\n                        } else {\n                            values.push(this._parseValue(value, this.dataType()));\n                        }\n\n                    }\n                }\n\n                if (field) {\n                    source = this.bindings.source.get();\n                    if (source instanceof kendo.data.DataSource) {\n                        source = source.view();\n                    }\n\n                    for (valueIndex = 0; valueIndex < values.length; valueIndex++) {\n                        for (idx = 0, length = source.length; idx < length; idx++) {\n                            var sourceValue = source[idx].get(field);\n                            var match = (String(sourceValue) === values[valueIndex]);\n                            if (match) {\n                                values[valueIndex] = source[idx];\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                value = this.bindings[VALUE].get();\n                if (value instanceof ObservableArray) {\n                    value.splice.apply(value, [0, value.length].concat(values));\n                } else if (!valuePrimitive && (value instanceof ObservableObject || value === null || value === undefined || !field)) {\n                    this.bindings[VALUE].set(values[0]);\n                } else {\n                    this.bindings[VALUE].set(values[0].get(field));\n                }\n            },\n            refresh: function() {\n                var optionIndex,\n                    element = this.element,\n                    options = element.options,\n                    value = this.bindings[VALUE].get(),\n                    values = value,\n                    field = this.options.valueField || this.options.textField,\n                    found = false,\n                    type = this.dataType(),\n                    optionValue;\n\n                if (!(values instanceof ObservableArray)) {\n                    values = new ObservableArray([value]);\n                }\n\n                element.selectedIndex = -1;\n\n                for (var valueIndex = 0; valueIndex < values.length; valueIndex++) {\n                    value = values[valueIndex];\n\n\n                    if (field && value instanceof ObservableObject) {\n                        value = value.get(field);\n                    }\n\n                    if (type == \"date\") {\n                        value = kendo.toString(values[valueIndex], \"yyyy-MM-dd\");\n                    } else if (type == \"datetime-local\") {\n                        value = kendo.toString(values[valueIndex], \"yyyy-MM-ddTHH:mm:ss\");\n                    }\n\n                    for (optionIndex = 0; optionIndex < options.length; optionIndex++) {\n                        optionValue = options[optionIndex].value;\n\n                        if (optionValue === \"\" && value !== \"\") {\n                            optionValue = options[optionIndex].text;\n                        }\n\n                        if (value != null && optionValue == value.toString()) {\n                            options[optionIndex].selected = true;\n                            found = true;\n                        }\n                    }\n                }\n            },\n            destroy: function() {\n                $(this.element).off(CHANGE, this._change);\n            }\n        })\n    };\n\n    function dataSourceBinding(bindingName, fieldName, setter) {\n        return Binder.extend({\n            init: function(widget, bindings, options) {\n                var that = this;\n\n                Binder.fn.init.call(that, widget.element[0], bindings, options);\n\n                that.widget = widget;\n                that._dataBinding = that.dataBinding.bind(that);\n                that._dataBound = that.dataBound.bind(that);\n                that._itemChange = that.itemChange.bind(that);\n            },\n\n            itemChange: function(e) {\n                bindElement(e.item[0], e.data, this._ns(e.ns), [e.data].concat(this.bindings[bindingName]._parents()));\n            },\n\n            dataBinding: function(e) {\n                var idx,\n                    length,\n                    widget = this.widget,\n                    items = e.removedItems || widget.items();\n\n                for (idx = 0, length = items.length; idx < length; idx++) {\n                    unbindElementTree(items[idx], false);\n                }\n            },\n\n            _ns: function(ns) {\n                ns = ns || kendo.ui;\n                var all = [ kendo.ui, kendo.dataviz.ui, kendo.mobile.ui ];\n                all.splice($.inArray(ns, all), 1);\n                all.unshift(ns);\n\n                return kendo.rolesFromNamespaces(all);\n            },\n\n            dataBound: function(e) {\n                var idx,\n                    length,\n                    widget = this.widget,\n                    items = e.addedItems || widget.items(),\n                    dataSource = widget[fieldName],\n                    view,\n                    parents,\n                    hds = kendo.data.HierarchicalDataSource;\n\n                if (hds && dataSource instanceof hds) {\n                    // suppress binding of HDS items, because calling view() on root\n                    // will return only root items, and widget.items() returns all items\n                    return;\n                }\n\n                if (items.length) {\n                    view = e.addedDataItems || dataSource.flatView();\n                    parents = this.bindings[bindingName]._parents();\n\n                    for (idx = 0, length = view.length; idx < length; idx++) {\n                        if (items[idx]) {\n                            bindElement(items[idx], view[idx], this._ns(e.ns), [view[idx]].concat(parents));\n                        }\n                    }\n                }\n            },\n\n            refresh: function(e) {\n                var that = this,\n                    source,\n                    widget = that.widget,\n                    select, multiselect, dropdowntree;\n\n                e = e || {};\n\n                if (!e.action) {\n                    that.destroy();\n\n                    widget.bind(\"dataBinding\", that._dataBinding);\n                    widget.bind(\"dataBound\", that._dataBound);\n                    widget.bind(\"itemChange\", that._itemChange);\n\n                    source = that.bindings[bindingName].get();\n\n                    if (widget[fieldName] instanceof kendo.data.DataSource && widget[fieldName] != source && source) {\n                        if (source instanceof kendo.data.DataSource) {\n                            widget[setter](source);\n                        } else if (source._dataSource) {\n                            widget[setter](source._dataSource);\n                        } else {\n                            select = kendo.ui.Select && widget instanceof kendo.ui.Select;\n                            multiselect = kendo.ui.MultiSelect && widget instanceof kendo.ui.MultiSelect;\n                            dropdowntree = kendo.ui.DropDownTree && widget instanceof kendo.ui.DropDownTree;\n\n                            if (!dropdowntree) {\n                                widget[fieldName].data(source);\n                            } else {\n                                widget.treeview[fieldName].data(source);\n                            }\n\n                            if (that.bindings.value && (select || multiselect)) {\n                                widget.value(retrievePrimitiveValues(that.bindings.value.get(), widget.options.dataValueField));\n                            }\n                        }\n                    }\n                }\n            },\n\n            destroy: function() {\n                var widget = this.widget;\n\n                widget.unbind(\"dataBinding\", this._dataBinding);\n                widget.unbind(\"dataBound\", this._dataBound);\n                widget.unbind(\"itemChange\", this._itemChange);\n            }\n        });\n    }\n\n    binders.widget = {\n        events: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n                this.widget = widget;\n                this.handlers = {};\n            },\n\n            refresh: function(key) {\n                var binding = this.bindings.events[key],\n                    handler = this.handlers[key];\n\n                if (handler) {\n                    this.widget.unbind(key, handler);\n                }\n\n                handler = binding.get();\n\n                if (handler) {\n                    this.handlers[key] = function(e) {\n                        e.data = binding.source;\n\n                        handler(e);\n\n                        if (e.data === binding.source) {\n                            delete e.data;\n                        }\n                    };\n\n                    this.widget.bind(key, this.handlers[key]);\n                }\n            },\n\n            destroy: function() {\n                var handler;\n\n                for (handler in this.handlers) {\n                    this.widget.unbind(handler, this.handlers[handler]);\n                }\n            }\n        }),\n\n        checked: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n                this._change = this.change.bind(this);\n                this.widget.bind(CHANGE, this._change);\n            },\n            change: function() {\n                this.bindings[CHECKED].set(this.value());\n            },\n\n            refresh: function() {\n                var val = this.bindings[CHECKED].get();\n\n                if (this.element.type === \"radio\") {\n                    if (val !== undefined) {\n                        this.widget.check(val.toString() === this.value());\n                    } else {\n                        this.widget.check(false);\n                    }\n                } else {\n                    this.widget.check(val === true);\n                }\n            },\n\n            value: function() {\n                var element = this.element,\n                    value = element.value;\n\n                if (value == \"on\" || value == \"off\" || this.element.type == \"checkbox\") {\n                    value = element.checked;\n                }\n\n                return value;\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n\n        start: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n                this._change = this.change.bind(this);\n                this.widget = widget;\n                this.widget.bind(CHANGE, this._change);\n            },\n\n            change: function() {\n                this.bindings.start.set(this.widget.range().start);\n            },\n\n            refresh: function() {\n                var that = this;\n                var start = this.bindings.start.get();\n                var end = that.widget._range ? that.widget._range.end : null;\n                this.widget.range({ start: start, end: end });\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n\n        end: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n                this._change = this.change.bind(this);\n                this.widget = widget;\n                this.widget.bind(CHANGE, this._change);\n            },\n\n            change: function() {\n                this.bindings.end.set(this.widget.range().end);\n            },\n\n            refresh: function() {\n                var that = this;\n                var end = this.bindings.end.get();\n                var start = that.widget._range ? that.widget._range.start : null;\n                this.widget.range({ start: start, end: end });\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n\n        visible: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                var visible = this.bindings.visible.get();\n                this.widget.wrapper[0].style.display = visible ? \"\" : \"none\";\n            }\n        }),\n\n        invisible: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                var invisible = this.bindings.invisible.get();\n                this.widget.wrapper[0].style.display = invisible ? \"none\" : \"\";\n            }\n        }),\n\n        floatingLabel: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                if (!widget.floatingLabel) {\n                    return;\n                }\n\n                widget.floatingLabel.refresh();\n            }\n        }),\n\n        enabled: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n                this.readonly = this.element.readOnly;\n            },\n\n            refresh: function() {\n                if (this.widget.enable) {\n                    this.widget.enable(this.bindings.enabled.get());\n                }\n                if (this.readonly && this.widget.readonly) {\n                    this.widget.readonly(this.readonly);\n                }\n            }\n        }),\n\n        disabled: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                if (this.widget.enable) {\n                    this.widget.enable(!this.bindings.disabled.get());\n                }\n            }\n        }),\n\n        source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\"),\n\n        value: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n                this._change = this.change.bind(this);\n                this.widget.first(CHANGE, this._change);\n\n                var value = this.bindings.value.get();\n\n                this._valueIsObservableObject = !options.valuePrimitive && (value == null || value instanceof ObservableObject);\n                this._valueIsObservableArray = value instanceof ObservableArray;\n                this._initChange = false;\n            },\n\n            _source: function() {\n                var source;\n\n                if (this.widget.dataItem) {\n                    source = this.widget.dataItem();\n                    if (source && source instanceof ObservableObject) {\n                        return [source];\n                    }\n                }\n\n                if (this.bindings.source) {\n                    source = this.bindings.source.get();\n                }\n\n                if (!source || source instanceof kendo.data.DataSource) {\n                    source = this.widget.dataSource.flatView();\n                }\n\n                return source;\n            },\n\n            change: function() {\n                var value = this.widget.value(),\n                    field = this.options.dataValueField || this.options.dataTextField,\n                    isArray = toString.call(value) === \"[object Array]\",\n                    isObservableObject = this._valueIsObservableObject,\n                    valueIndex, valueLength, values = [],\n                    sourceItem, sourceValue,\n                    idx, length, source;\n\n                this._initChange = true;\n\n                if (field) {\n\n                    if (value === \"\" && (isObservableObject || this.options.valuePrimitive)) {\n                        value = null;\n                    } else {\n                        source = this._source();\n\n                        if (isArray) {\n                            valueLength = value.length;\n                            values = value.slice(0);\n                        }\n\n                        for (idx = 0, length = source.length; idx < length; idx++) {\n                            sourceItem = source[idx];\n                            sourceValue = sourceItem.get(field);\n\n                            if (isArray) {\n                                for (valueIndex = 0; valueIndex < valueLength; valueIndex++) {\n                                    if (sourceValue == values[valueIndex]) {\n                                        values[valueIndex] = sourceItem;\n                                        break;\n                                    }\n                                }\n                            } else if (sourceValue == value) {\n                                value = isObservableObject ? sourceItem : sourceValue;\n                                break;\n                            }\n                        }\n\n                        if (values[0]) {\n                            if (this._valueIsObservableArray) {\n                                value = values;\n                            } else if (isObservableObject || !field) {\n                                value = values[0];\n                            } else {\n                                value = values[0].get(field);\n                            }\n                        }\n                    }\n                }\n\n                this.bindings.value.set(value);\n                this._initChange = false;\n            },\n\n            refresh: function() {\n                if (!this._initChange) {\n                    var widget = this.widget;\n                    var options = widget.options;\n                    var textField = options.dataTextField;\n                    var valueField = options.dataValueField || textField;\n                    var value = this.bindings.value.get();\n                    var text = options.text || \"\";\n                    var idx = 0, length;\n                    var values = [];\n\n                    if (value === undefined) {\n                        value = null;\n                    }\n\n                    if (valueField) {\n                        if (value instanceof ObservableArray) {\n                            for (length = value.length; idx < length; idx++) {\n                                values[idx] = value[idx].get(valueField);\n                            }\n                            value = values;\n                        } else if (value instanceof ObservableObject) {\n                            text = value.get(textField);\n                            value = value.get(valueField);\n                        }\n                    }\n\n                    if (options.autoBind === false && !options.cascadeFrom && widget.listView && !widget.listView.bound()) {\n                        if (textField === valueField && !text) {\n                            text = value;\n                        }\n\n                        if (!text && (value || value === 0) && options.valuePrimitive) {\n                            widget.value(value);\n                        } else {\n                            widget._preselect(value, text);\n                        }\n                    } else {\n                       if (widget.options.name != \"Upload\") {\n                           widget.value(value);\n                       }\n                    }\n                }\n\n                this._initChange = false;\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n        dropdowntree: {\n            value: Binder.extend({\n                init: function(widget, bindings, options) {\n                    Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                    this.widget = widget;\n                    this._change = this.change.bind(this);\n                    this.widget.first(CHANGE, this._change);\n                    this._initChange = false;\n                },\n\n                change: function() {\n                    var that = this,\n                        oldValues = that.bindings[VALUE].get(),\n                        valuePrimitive = that.options.valuePrimitive,\n                        selectedNode = that.widget.treeview.select(),\n                        nonPrimitiveValues = that.widget._isMultipleSelection() ? that.widget._getAllChecked() : (that.widget.treeview.dataItem(selectedNode) || that.widget.value()),\n                        newValues = (valuePrimitive || that.widget.options.autoBind === false) ? that.widget.value() : nonPrimitiveValues;\n\n                    var field = this.options.dataValueField || this.options.dataTextField;\n\n                    newValues = newValues.slice ? newValues.slice(0) : newValues;\n\n                    that._initChange = true;\n\n                    if (oldValues instanceof ObservableArray) {\n                        var remove = [];\n                        var newLength = newValues.length;\n                        var i = 0, j = 0;\n                        var old = oldValues[i];\n                        var same = false;\n                        var removeIndex;\n                        var newValue;\n                        var found;\n\n                        while (old !== undefined) {\n                            found = false;\n                            for (j = 0; j < newLength; j++) {\n                                if (valuePrimitive) {\n                                    same = newValues[j] == old;\n                                } else {\n                                    newValue = newValues[j];\n\n                                    newValue = newValue.get ? newValue.get(field) : newValue;\n                                    same = newValue == (old.get ? old.get(field) : old);\n                                }\n\n                                if (same) {\n                                    newValues.splice(j, 1);\n                                    newLength -= 1;\n                                    found = true;\n                                    break;\n                                }\n                            }\n\n                            if (!found) {\n                                remove.push(old);\n                                arraySplice(oldValues, i, 1);\n                                removeIndex = i;\n                            } else {\n                                i += 1;\n                            }\n\n                            old = oldValues[i];\n                        }\n\n                        arraySplice(oldValues, oldValues.length, 0, newValues);\n\n                        if (remove.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"remove\",\n                                items: remove,\n                                index: removeIndex\n                            });\n                        }\n\n                        if (newValues.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"add\",\n                                items: newValues,\n                                index: oldValues.length - 1\n                            });\n                        }\n                    } else {\n                        that.bindings[VALUE].set(newValues);\n                    }\n\n                    that._initChange = false;\n                },\n\n                refresh: function() {\n                    if (!this._initChange) {\n                        var options = this.options,\n                            widget = this.widget,\n                            field = options.dataValueField || options.dataTextField,\n                            value = this.bindings.value.get(),\n                            data = value,\n                            idx = 0, length,\n                            values = [],\n                            selectedValue;\n\n                        if (field) {\n                            if (value instanceof ObservableArray) {\n                                for (length = value.length; idx < length; idx++) {\n                                    selectedValue = value[idx];\n                                    values[idx] = selectedValue.get ? selectedValue.get(field) : selectedValue;\n                                }\n                                value = values;\n                            } else if (value instanceof ObservableObject) {\n                                value = value.get(field);\n                            }\n                        }\n                        if (options.autoBind === false && options.valuePrimitive !== true) {\n                            widget._preselect(data, value);\n                        } else {\n                            widget.value(value);\n                        }\n                   }\n                },\n\n                destroy: function() {\n                    this.widget.unbind(CHANGE, this._change);\n                }\n            })\n        },\n        gantt: {\n            dependencies: dataSourceBinding(\"dependencies\", \"dependencies\", \"setDependenciesDataSource\")\n        },\n\n        multiselect: {\n            value: Binder.extend({\n                init: function(widget, bindings, options) {\n                    Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                    this.widget = widget;\n                    this._change = this.change.bind(this);\n                    this.widget.first(CHANGE, this._change);\n                    this._initChange = false;\n                },\n\n                change: function() {\n                    var that = this,\n                        oldValues = that.bindings[VALUE].get(),\n                        valuePrimitive = that.options.valuePrimitive,\n                        newValues = valuePrimitive ? that.widget.value() : that.widget.dataItems();\n\n                    var field = this.options.dataValueField || this.options.dataTextField;\n\n                    newValues = newValues.slice(0);\n\n                    that._initChange = true;\n\n                    if (oldValues instanceof ObservableArray) {\n                        var remove = [];\n\n                        var newLength = newValues.length;\n\n                        var i = 0, j = 0;\n                        var old = oldValues[i];\n                        var same = false;\n                        var removeIndex;\n                        var newValue;\n                        var found;\n\n                        while (old !== undefined) {\n                            found = false;\n                            for (j = 0; j < newLength; j++) {\n                                if (valuePrimitive) {\n                                    same = newValues[j] == old;\n                                } else {\n                                    newValue = newValues[j];\n\n                                    newValue = newValue.get ? newValue.get(field) : newValue;\n                                    same = newValue == (old.get ? old.get(field) : old);\n                                }\n\n                                if (same) {\n                                    newValues.splice(j, 1);\n                                    newLength -= 1;\n                                    found = true;\n                                    break;\n                                }\n                            }\n\n                            if (!found) {\n                                remove.push(old);\n                                arraySplice(oldValues, i, 1);\n                                removeIndex = i;\n                            } else {\n                                i += 1;\n                            }\n\n                            old = oldValues[i];\n                        }\n\n                        arraySplice(oldValues, oldValues.length, 0, newValues);\n\n                        if (remove.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"remove\",\n                                items: remove,\n                                index: removeIndex\n                            });\n                        }\n\n                        if (newValues.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"add\",\n                                items: newValues,\n                                index: oldValues.length - 1\n                            });\n                        }\n                    } else {\n                        that.bindings[VALUE].set(newValues);\n                    }\n\n                    that._initChange = false;\n                },\n\n                refresh: function() {\n                    if (!this._initChange) {\n                        var options = this.options,\n                            widget = this.widget,\n                            field = options.dataValueField || options.dataTextField,\n                            value = this.bindings.value.get(),\n                            data = value,\n                            idx = 0, length,\n                            values = [],\n                            selectedValue;\n\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        if (field) {\n                            if (value instanceof ObservableArray) {\n                                for (length = value.length; idx < length; idx++) {\n                                    selectedValue = value[idx];\n                                    values[idx] = selectedValue.get ? selectedValue.get(field) : selectedValue;\n                                }\n                                value = values;\n                            } else if (value instanceof ObservableObject) {\n                                value = value.get(field);\n                            }\n                        }\n\n                        if (options.autoBind === false && options.valuePrimitive !== true && !widget._isBound()) {\n                            widget._preselect(data, value);\n                        } else {\n                            widget.value(value);\n                        }\n                    }\n                },\n\n                destroy: function() {\n                    this.widget.unbind(CHANGE, this._change);\n                }\n\n            })\n        },\n        scheduler: {\n            source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\").extend({\n                dataBound: function(e) {\n                    var idx;\n                    var length;\n                    var widget = this.widget;\n                    var elements = e.addedItems || widget.items();\n                    var data, parents;\n\n                    if (elements.length) {\n                        data = e.addedDataItems || widget.dataItems();\n                        parents = this.bindings.source._parents();\n\n                        for (idx = 0, length = data.length; idx < length; idx++) {\n                            bindElement(elements[idx], data[idx], this._ns(e.ns), [data[idx]].concat(parents));\n                        }\n                    }\n                }\n            })\n        },\n\n        grid: {\n            source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\").extend({\n                dataBound: function(e) {\n                    var idx,\n                    length,\n                    widget = this.widget,\n                    elements = e.addedItems || widget.items(),\n                    parents,\n                    data;\n\n                    if (elements.length) {\n                        data = e.addedDataItems || widget.dataItems();\n                        parents = this.bindings.source._parents();\n\n                        for (idx = 0, length = data.length; idx < length; idx++) {\n                            bindElement(elements[idx], data[idx], this._ns(e.ns), [data[idx]].concat(parents));\n                        }\n                    }\n                }\n            })\n        },\n\n        badge: {\n            text: Binder.extend({\n                init: function(widget, bindings, options) {\n                    Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                    this.widget = widget;\n                },\n                refresh: function() {\n                    var text = this.bindings.text.get();\n\n                    if (text == null) {\n                        text = \"\";\n                    }\n                    this.widget.text(text);\n                }\n            })\n        }\n    };\n\n    var arraySplice = function(arr, idx, remove, add) {\n        add = add || [];\n        remove = remove || 0;\n\n        var addLength = add.length;\n        var oldLength = arr.length;\n\n        var shifted = [].slice.call(arr, idx + remove);\n        var shiftedLength = shifted.length;\n        var index;\n\n        if (addLength) {\n            addLength = idx + addLength;\n            index = 0;\n\n            for (; idx < addLength; idx++) {\n                arr[idx] = add[index];\n                index++;\n            }\n\n            arr.length = addLength;\n        } else if (remove) {\n            arr.length = idx;\n\n            remove += idx;\n            while (idx < remove) {\n                delete arr[--remove];\n            }\n        }\n\n        if (shiftedLength) {\n            shiftedLength = idx + shiftedLength;\n            index = 0;\n\n            for (; idx < shiftedLength; idx++) {\n                arr[idx] = shifted[index];\n                index++;\n            }\n\n            arr.length = shiftedLength;\n        }\n\n        idx = arr.length;\n\n        while (idx < oldLength) {\n            delete arr[idx];\n            idx++;\n        }\n    };\n\n    var BindingTarget = Class.extend( {\n        init: function(target, options) {\n            this.target = target;\n            this.options = options;\n            this.toDestroy = [];\n        },\n\n        bind: function(bindings) {\n            var key,\n                hasValue,\n                hasSource,\n                hasEvents,\n                hasChecked,\n                hasCss,\n                widgetBinding = this instanceof WidgetBindingTarget,\n                specificBinders = this.binders();\n\n            for (key in bindings) {\n                if (key == VALUE) {\n                    hasValue = true;\n                } else if (key == SOURCE) {\n                    hasSource = true;\n                } else if (key == EVENTS && !widgetBinding) {\n                    hasEvents = true;\n                } else if (key == CHECKED) {\n                    hasChecked = true;\n                } else if (key == CSS) {\n                    hasCss = true;\n                } else {\n                    this.applyBinding(key, bindings, specificBinders);\n                }\n            }\n            if (hasSource) {\n                this.applyBinding(SOURCE, bindings, specificBinders);\n            }\n\n            if (hasValue) {\n                this.applyBinding(VALUE, bindings, specificBinders);\n            }\n\n            if (hasChecked) {\n                this.applyBinding(CHECKED, bindings, specificBinders);\n            }\n\n            if (hasEvents && !widgetBinding) {\n                this.applyBinding(EVENTS, bindings, specificBinders);\n            }\n\n            if (hasCss && !widgetBinding) {\n                this.applyBinding(CSS, bindings, specificBinders);\n            }\n\n            if (widgetBinding && this.target && this.target.floatingLabel) {\n                this.applyBinding(\"floatingLabel\", bindings, specificBinders);\n            }\n        },\n\n        binders: function() {\n            return binders[this.target.nodeName.toLowerCase()] || {};\n        },\n\n        applyBinding: function(name, bindings, specificBinders) {\n            var binder = specificBinders[name] || binders[name],\n                toDestroy = this.toDestroy,\n                attribute,\n                binding = bindings[name];\n\n            if (binder) {\n                binder = new binder(this.target, bindings, this.options);\n\n                toDestroy.push(binder);\n\n                if (binding instanceof Binding) {\n                    binder.bind(binding);\n                    toDestroy.push(binding);\n                } else {\n                    for (attribute in binding) {\n                        binder.bind(binding, attribute);\n                        toDestroy.push(binding[attribute]);\n                    }\n                }\n            } else if (name !== \"template\") {\n                throw new Error(\"The \" + name + \" binding is not supported by the \" + this.target.nodeName.toLowerCase() + \" element\");\n            }\n        },\n\n        destroy: function() {\n            var idx,\n                length,\n                toDestroy = this.toDestroy;\n\n            for (idx = 0, length = toDestroy.length; idx < length; idx++) {\n                toDestroy[idx].destroy();\n            }\n        }\n    });\n\n    var WidgetBindingTarget = BindingTarget.extend( {\n        binders: function() {\n            return binders.widget[this.target.options.name.toLowerCase()] || {};\n        },\n\n        applyBinding: function(name, bindings, specificBinders) {\n            var binder = specificBinders[name] || binders.widget[name],\n                toDestroy = this.toDestroy,\n                attribute,\n                binding = bindings[name];\n\n            if (binder) {\n                binder = new binder(this.target, bindings, this.target.options);\n\n                toDestroy.push(binder);\n\n\n                if (binding instanceof Binding) {\n                    binder.bind(binding);\n                    toDestroy.push(binding);\n                } else {\n                    for (attribute in binding) {\n                        binder.bind(binding, attribute);\n                        toDestroy.push(binding[attribute]);\n                    }\n                }\n            } else {\n                throw new Error(\"The \" + name + \" binding is not supported by the \" + this.target.options.name + \" widget\");\n            }\n        }\n    });\n\n    function bindingTargetForRole(element, roles, source) {\n        var widget = kendo.initWidget(element, {}, roles, source);\n\n        if (widget) {\n            return new WidgetBindingTarget(widget);\n        }\n    }\n\n    var keyValueRegExp = /[A-Za-z0-9_\\-]+:(\\{([^}]*)\\}|[^,}]+)/g,\n        whiteSpaceRegExp = /\\s/g;\n\n    function parseBindings(bind) {\n        var result = {},\n            idx,\n            length,\n            token,\n            colonIndex,\n            key,\n            value,\n            tokens;\n\n        tokens = bind.match(keyValueRegExp);\n\n        for (idx = 0, length = tokens.length; idx < length; idx++) {\n            token = tokens[idx];\n            colonIndex = token.indexOf(\":\");\n\n            key = token.substring(0, colonIndex);\n            value = token.substring(colonIndex + 1);\n\n            if (value.charAt(0) == \"{\") {\n                value = parseBindings(value);\n            }\n\n            result[key] = value;\n        }\n\n        return result;\n    }\n\n    function createBindings(bindings, source, type) {\n        var binding,\n            result = {};\n\n        for (binding in bindings) {\n            result[binding] = new type(source, bindings[binding]);\n        }\n\n        return result;\n    }\n\n    function bindElement(element, source, roles, parents) {\n\n        if (!element || element.getAttribute(\"data-\" + kendo.ns + \"stop\")) {\n            return;\n        }\n\n        var role = element.getAttribute(\"data-\" + kendo.ns + \"role\"),\n            idx,\n            bind = element.getAttribute(\"data-\" + kendo.ns + \"bind\"),\n            childrenCopy = [],\n            deep = true,\n            bindings,\n            options = {},\n            target;\n\n        parents = parents || [source];\n\n        if (role || bind) {\n            unbindElement(element, false);\n        }\n\n        if (role) {\n            target = bindingTargetForRole(element, roles, source);\n        }\n\n        if (bind) {\n            bind = parseBindings(bind.replace(whiteSpaceRegExp, \"\"));\n\n            if (!target) {\n                options = kendo.parseOptions(element, { textField: \"\", valueField: \"\", template: \"\", valueUpdate: CHANGE, valuePrimitive: false, autoBind: true }, source);\n                options.roles = roles;\n                target = new BindingTarget(element, options);\n            }\n\n            target.source = source;\n\n            bindings = createBindings(bind, parents, Binding);\n\n            if (options.template) {\n                bindings.template = new TemplateBinding(parents, \"\", options.template);\n            }\n\n            if (bindings.click) {\n                bind.events = bind.events || {};\n                bind.events.click = bind.click;\n                bindings.click.destroy();\n                delete bindings.click;\n            }\n\n            if (bindings.source) {\n                deep = false;\n            }\n\n            if (bind.attr) {\n                bindings.attr = createBindings(bind.attr, parents, Binding);\n            }\n\n            if (bind.style) {\n                bindings.style = createBindings(bind.style, parents, Binding);\n            }\n\n            if (bind.events) {\n                bindings.events = createBindings(bind.events, parents, EventBinding);\n            }\n\n            if (bind.css) {\n                bindings.css = createBindings(bind.css, parents, Binding);\n            }\n\n            target.bind(bindings);\n        }\n\n        if (target) {\n            element.kendoBindingTarget = target;\n        }\n\n        var children = element.children;\n        if (deep && children && !element.getAttribute(\"data-\" + kendo.ns + \"stop\")) {\n            // https://github.com/telerik/kendo/issues/1240 for the weirdness.\n            for (idx = 0; idx < children.length; idx++) {\n                childrenCopy[idx] = children[idx];\n            }\n\n            for (idx = 0; idx < childrenCopy.length; idx++) {\n                bindElement(childrenCopy[idx], source, roles, parents);\n            }\n        }\n    }\n\n    function bind(dom, object) {\n        var idx,\n            length,\n            node,\n            roles = kendo.rolesFromNamespaces([].slice.call(arguments, 2));\n\n        object = kendo.observable(object);\n        dom = $(dom);\n\n        for (idx = 0, length = dom.length; idx < length; idx++) {\n            node = dom[idx];\n            if (node.nodeType === 1) {\n                bindElement(node, object, roles);\n            }\n        }\n    }\n\n    function unbindElement(element, destroyWidget) {\n        var bindingTarget = element.kendoBindingTarget;\n\n        if (bindingTarget) {\n            bindingTarget.destroy();\n\n            if (deleteExpando) {\n                delete element.kendoBindingTarget;\n            } else if (element.removeAttribute) {\n                element.removeAttribute(\"kendoBindingTarget\");\n            } else {\n                element.kendoBindingTarget = null;\n            }\n        }\n\n        if (destroyWidget) {\n            var widget = kendo.widgetInstance($(element));\n            if (widget && typeof widget.destroy === FUNCTION) {\n                widget.destroy();\n            }\n        }\n    }\n\n    function unbindElementTree(element, destroyWidgets) {\n\n        if (!element) {\n            return;\n        }\n\n        unbindElement(element, destroyWidgets);\n\n        unbindElementChildren(element, destroyWidgets);\n    }\n\n    function unbindElementChildren(element, destroyWidgets) {\n        var children = element.children;\n\n        if (children) {\n            for (var idx = 0, length = children.length; idx < length; idx++) {\n                unbindElementTree(children[idx], destroyWidgets);\n            }\n        }\n    }\n\n    function unbind(dom) {\n        var idx, length;\n\n        dom = $(dom);\n\n        for (idx = 0, length = dom.length; idx < length; idx++ ) {\n            unbindElementTree(dom[idx], false);\n        }\n    }\n\n    function notify(widget, namespace) {\n        var element = widget.element,\n            bindingTarget = element[0].kendoBindingTarget;\n\n        if (bindingTarget) {\n            bind(element, bindingTarget.source, namespace);\n        }\n    }\n\n    function retrievePrimitiveValues(value, valueField) {\n        var values = [];\n        var idx = 0;\n        var length;\n        var item;\n\n        if (!valueField) {\n            return value;\n        }\n\n        if (value instanceof ObservableArray) {\n            for (length = value.length; idx < length; idx++) {\n                item = value[idx];\n                values[idx] = item.get ? item.get(valueField) : item[valueField];\n            }\n            value = values;\n        } else if (value instanceof ObservableObject) {\n            value = value.get(valueField);\n        }\n\n        return value;\n    }\n\n    kendo.unbind = unbind;\n    kendo.bind = bind;\n    kendo.data.binders = binders;\n    kendo.data.Binder = Binder;\n    kendo.notify = notify;\n\n    kendo.observable = function(object) {\n        if (!(object instanceof ObservableObject)) {\n            object = new ObservableObject(object);\n        }\n\n        return object;\n    };\n\n    kendo.observableHierarchy = function(array) {\n        var dataSource = kendo.data.HierarchicalDataSource.create(array);\n\n        function recursiveRead(data) {\n            var i, children;\n\n            for (i = 0; i < data.length; i++) {\n                data[i]._initChildren();\n\n                children = data[i].children;\n\n                children.fetch();\n\n                data[i].items = children.data();\n\n                recursiveRead(data[i].items);\n            }\n        }\n\n        dataSource.fetch();\n\n        recursiveRead(dataSource.data());\n\n        dataSource._data._dataSource = dataSource;\n\n        return dataSource._data;\n    };\n\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":";mgBAGA,IAAa,EAAW,CACpB,GAAI,SACJ,KAAM,OACN,SAAU,YACV,YAAa,+HACb,QAAS,CAAE,OAAQ,OAAQ,CAC9B,EAGA,SAAS,EAAG,EAAW,CACpB,IAAI,EAAQ,OAAO,MACf,EAAS,EAAM,WACf,EAAa,EAAM,WACnB,EAAmB,EAAM,KAAK,iBAC9B,EAAkB,EAAM,KAAK,gBAC7B,EAAW,EAAE,CAAC,SACd,EAAU,EAAE,CACZ,EAAQ,EAAM,MACd,EAAQ,QACR,EAAS,SACT,EAAS,SACT,EAAU,UACV,EAAM,MACN,EAAgB,GAChB,EAAW,WACX,EAAS,UAEZ,UAAW,CACR,IAAI,EAAI,SAAS,cAAc,IAAI,CAEnC,GAAI,CACA,OAAO,EAAE,UACD,CACR,EAAgB,OAEpB,CAEJ,IAAI,EAAU,EAAW,OAAQ,CAC7B,KAAM,SAAS,EAAS,EAAM,CAC1B,IAAI,EAAO,KAEX,EAAW,GAAG,KAAK,KAAK,EAAK,CAE7B,EAAK,OAAS,EAAQ,GACtB,EAAK,QAAU,EACf,EAAK,KAAO,EACZ,EAAK,aAAe,EAAE,CACtB,EAAK,aAAa,GAAQ,GAC1B,EAAK,WAAa,EAAK,kBAAkB,EAEzC,EAAK,QAAU,SAAS,EAAG,CACvB,EAAK,aAAa,EAAE,OAAS,IAG7B,EAAK,aACL,EAAK,QAAU,SAAS,EAAG,CACvB,EAAK,OAAO,EAAE,EAGlB,EAAK,OAAO,KAAK,EAAQ,EAAK,QAAQ,GAI9C,SAAU,UAAW,CACjB,IAAI,EAAU,KAAK,QACf,EAAQ,KAAK,KAAK,CAEtB,GAAI,GAAS,OAAO,EAAM,QAAU,WAAY,CAC5C,IAAI,EAAS,EAAM,QAAQ,CAEvB,EAAE,QAAQ,EAAQ,EAAQ,CAAG,IAC7B,EAAU,CAAC,EAAO,CAAC,OAAO,EAAQ,EAI1C,OAAO,GAGX,OAAQ,SAAS,EAAG,CAChB,IAAI,EACA,EACA,EAAQ,EAAE,MACV,EAAO,KAEX,GAAI,EAAK,OAAS,OACd,EAAK,QAAQ,EAAQ,EAAE,MAEvB,IAAK,KAAc,EAAK,aACpB,GAAI,EAAW,QAAQ,EAAM,GAAK,IAC/B,EAAK,EAAW,OAAO,EAAM,OAAO,CAEhC,CAAC,GAAM,IAAO,KAAO,IAAO,KAAK,CAChC,EAAK,QAAQ,EAAQ,EAAE,CACvB,QAOpB,MAAO,SAAS,EAAQ,CACpB,EAAO,KAAK,MAAO,KAAK,QAAQ,EAGpC,KAAM,SAAS,EAAQ,CACnB,EAAO,OAAO,MAAO,KAAK,QAAQ,EAGtC,IAAK,UAAW,CAEZ,IAAI,EAAO,KACP,EAAS,EAAK,OACd,EAAQ,EACR,EAAO,EAAK,KACZ,EAAS,EAEb,GAAI,CAAC,EAAK,WACN,OAAO,EAQX,IALA,EAAK,MAAM,EAAK,OAAO,CAEvB,EAAS,EAAO,IAAI,EAAK,CAGlB,IAAW,GAAa,GAE3B,EAAS,EAAK,QAAQ,EAAE,GAEpB,aAAkB,IAClB,EAAS,EAAO,IAAI,EAAK,EAKjC,GAAI,IAAW,EAGX,IAFA,EAAS,EAAK,OAEP,IAAW,GAAa,GAC3B,EAAS,EAAO,QAAQ,CAEpB,aAAkB,IAClB,EAAS,EAAO,IAAI,EAAK,EAsCrC,OAhCI,OAAO,GAAW,aAClB,EAAQ,EAAK,YAAY,IAAI,CAGzB,EAAQ,IACR,EAAS,EAAO,IAAI,EAAK,UAAU,EAAG,EAAM,CAAC,EAIjD,EAAK,MAAM,EAAO,CAElB,AACI,EADA,IAAW,EAAK,OAGP,EAAO,KAAK,EAAO,CAFnB,EAAO,KAAK,EAAQ,EAAK,OAAO,CAK7C,EAAK,KAAK,EAAO,EAIjB,GAAU,IAAW,EAAK,SAE1B,EAAK,cAAgB,EAGrB,EAAO,OAAO,EAAQ,EAAK,QAAQ,CAC5B,KAAK,EAAQ,EAAK,QAAQ,EAGrC,EAAK,KAAK,EAAK,OAAO,CAEf,GAGX,IAAK,SAAS,EAAO,CACjB,IAAI,EAAS,KAAK,eAAiB,KAAK,OAEpC,EAAQ,EAAM,OAAO,KAAK,KAAK,CAAC,EAAO,CAEvC,OAAO,GAAU,WACb,IAAW,KAAK,OAGhB,EAAM,KAAK,EAAQ,EAAM,CAFzB,EAAM,KAAK,EAAQ,KAAK,OAAQ,EAAM,CAK1C,EAAO,IAAI,KAAK,KAAM,EAAM,EAIpC,QAAS,UAAW,CACZ,KAAK,aACL,KAAK,OAAO,OAAO,EAAQ,KAAK,QAAQ,CACpC,KAAK,eACL,KAAK,cAAc,OAAO,EAAQ,KAAK,QAAQ,EAIvD,KAAK,QAAQ,EAEpB,CAAC,CAEE,EAAe,EAAQ,OAAQ,CAC/B,IAAK,UAAW,CAQZ,IAPA,IAAI,EAAS,KAAK,OACd,EAAO,KAAK,KACZ,EAAQ,EACR,EAEM,EAAO,IAAI,EAAK,CAEnB,CAAC,GAAW,GACf,EAAS,KAAK,QAAQ,EAAE,GAEpB,aAAkB,IAClB,EAAU,EAAO,IAAI,EAAK,EAI7B,KAIL,OAAO,EAAQ,KAAK,EAAO,EAElC,CAAC,CAEE,EAAkB,EAAQ,OAAQ,CAClC,KAAM,SAAS,EAAQ,EAAM,EAAU,CACnC,IAAI,EAAO,KAEX,EAAQ,GAAG,KAAK,KAAK,EAAM,EAAQ,EAAK,CAExC,EAAK,SAAW,GAGpB,OAAQ,SAAS,EAAO,CACpB,IAAI,EAQJ,OANA,KAAK,MAAM,KAAK,OAAO,CAEvB,EAAO,EAAM,OAAO,KAAK,SAAU,EAAM,CAEzC,KAAK,KAAK,KAAK,OAAO,CAEf,GAEd,CAAC,CAEE,EAAS,EAAM,OAAO,CACtB,KAAM,SAAS,EAAS,EAAU,EAAS,CACvC,KAAK,QAAU,EACf,KAAK,SAAW,EAChB,KAAK,QAAU,GAGnB,KAAM,SAAS,EAAS,EAAW,CAC/B,IAAI,EAAO,KAEX,EAAU,EAAY,EAAQ,GAAa,EAE3C,EAAQ,KAAK,EAAQ,SAAS,EAAG,CAC7B,EAAK,QAAQ,GAAa,EAAE,EAC9B,CAEF,EAAK,QAAQ,EAAU,EAG3B,QAAS,UAAW,GAEvB,CAAC,CAEE,EAAc,EAAO,OAAO,CAC5B,SAAU,UAAW,CAEjB,OADe,KAAK,QAAQ,aAAa,QAAU,EAAM,GAAK,OAAO,EAAI,KAAK,QAAQ,MAAQ,QAC9E,aAAa,EAGjC,YAAa,UAAW,CACpB,OAAO,KAAK,YAAY,KAAK,QAAQ,MAAO,KAAK,UAAU,CAAC,EAGhE,YAAa,SAAS,EAAO,EAAU,CAenC,OAdI,GAAY,OACZ,EAAQ,EAAM,UAAU,EAAO,aAAa,CACrC,GAAY,iBACnB,EAAQ,EAAM,UAAU,EAAO,CAAC,sBAAuB,mBAAmB,CAAE,CACrE,GAAY,SACnB,EAAQ,EAAM,WAAW,EAAM,CACxB,GAAY,YACnB,EAAQ,EAAM,aAAa,CAC3B,AACI,EADA,EAAM,WAAW,EAAM,GAAK,KAGnB,EAAM,aAAa,GAAK,OAFzB,EAAQ,EAAM,WAAW,EAAM,EAKxC,GAEd,CAAC,CAEF,EAAQ,KAAO,EAAO,OAAO,CACzB,QAAS,SAAS,EAAK,CACnB,KAAK,QAAQ,aAAa,EAAK,KAAK,SAAS,KAAK,GAAK,KAAK,CAAC,EAEpE,CAAC,CAEF,EAAQ,IAAM,EAAO,OAAO,CACxB,KAAM,SAAS,EAAS,EAAU,EAAS,CACvC,EAAO,GAAG,KAAK,KAAK,KAAM,EAAS,EAAU,EAAQ,CACrD,KAAK,QAAU,EAAE,EAErB,QAAS,SAAS,EAAW,CACzB,IAAI,EAAU,EAAE,KAAK,QAAQ,CACzB,EAAU,KAAK,SAAS,IAAI,IACjB,KAAK,QAAQ,GAAa,EAAQ,KAAK,EAElD,EAAQ,SAAS,EAAU,CAE3B,EAAQ,YAAY,EAAU,EAGzC,CAAC,CAEF,EAAQ,MAAQ,EAAO,OAAO,CAC1B,QAAS,SAAS,EAAK,CACnB,KAAK,QAAQ,MAAM,GAAO,KAAK,SAAS,MAAM,GAAK,KAAK,EAAI,IAEnE,CAAC,CAEF,EAAQ,QAAU,EAAO,OAAO,CAC5B,QAAS,UAAW,CACZ,KAAK,SAAS,QAAQ,KAAK,CAC3B,KAAK,QAAQ,gBAAgB,WAAW,CAExC,KAAK,QAAQ,aAAa,WAAY,WAAW,EAG5D,CAAC,CAEF,EAAQ,SAAW,EAAO,OAAO,CAC9B,QAAS,UAAW,CACX,KAAK,SAAS,SAAS,KAAK,CAC5B,KAAK,QAAQ,aAAa,WAAY,WAAW,CAEjD,KAAK,QAAQ,gBAAgB,WAAW,EAGnD,CAAC,CAEF,EAAQ,SAAW,EAAO,OAAO,CAC7B,QAAS,UAAW,CACZ,KAAK,SAAS,SAAS,KAAK,CAC5B,KAAK,QAAQ,aAAa,WAAY,WAAW,CAEjD,KAAK,QAAQ,gBAAgB,WAAW,EAGnD,CAAC,CAEF,EAAQ,OAAS,EAAO,OAAO,CAC3B,KAAM,SAAS,EAAS,EAAU,EAAS,CACvC,EAAO,GAAG,KAAK,KAAK,KAAM,EAAS,EAAU,EAAQ,CACrD,KAAK,SAAW,EAAE,EAGtB,QAAS,SAAS,EAAK,CACnB,IAAI,EAAU,EAAE,KAAK,QAAQ,CACzB,EAAU,KAAK,SAAS,OAAO,GAC/B,EAAU,KAAK,SAAS,GAExB,GACA,EAAQ,IAAI,EAAK,EAAQ,CAG7B,EAAU,KAAK,SAAS,GAAO,EAAQ,KAAK,CAE5C,EAAQ,GAAG,EAAK,EAAQ,OAAQ,EAAQ,EAG5C,QAAS,UAAW,CAChB,IAAI,EAAU,EAAE,KAAK,QAAQ,CACzB,EAEJ,IAAK,KAAW,KAAK,SACjB,EAAQ,IAAI,EAAS,KAAK,SAAS,GAAS,EAGvD,CAAC,CAEF,EAAQ,KAAO,EAAO,OAAO,CACzB,QAAS,UAAW,CAChB,IAAI,EAAO,KAAK,SAAS,KAAK,KAAK,CAC/B,EAAa,KAAK,QAAQ,aAAa,QAAU,EAAM,GAAK,SAAS,EAAI,GAC7E,AACI,IAAO,GAGX,EAAE,KAAK,QAAQ,CAAC,KAAK,EAAM,SAAS,EAAM,EAAW,CAAC,EAE7D,CAAC,CAEF,EAAQ,QAAU,EAAO,OAAO,CAC5B,QAAS,UAAW,CACZ,KAAK,SAAS,QAAQ,KAAK,CAC3B,KAAK,QAAQ,MAAM,QAAU,GAE7B,KAAK,QAAQ,MAAM,QAAU,QAGxC,CAAC,CAEF,EAAQ,UAAY,EAAO,OAAO,CAC9B,QAAS,UAAW,CACX,KAAK,SAAS,UAAU,KAAK,CAG9B,KAAK,QAAQ,MAAM,QAAU,OAF7B,KAAK,QAAQ,MAAM,QAAU,IAK1C,CAAC,CAEA,EAAQ,KAAO,EAAO,OAAO,CACzB,QAAS,UAAW,CAChB,KAAK,QAAQ,UAAY,KAAK,SAAS,KAAK,KAAK,EAExD,CAAC,CAEF,EAAQ,MAAQ,EAAY,OAAO,CAC/B,KAAM,SAAS,EAAS,EAAU,EAAS,CACvC,EAAY,GAAG,KAAK,KAAK,KAAM,EAAS,EAAU,EAAQ,CAE1D,KAAK,QAAU,KAAK,OAAO,KAAK,KAAK,CACrC,KAAK,UAAY,EAAQ,aAAe,EAExC,EAAE,KAAK,QAAQ,CAAC,GAAG,KAAK,UAAW,KAAK,QAAQ,CAEhD,KAAK,YAAc,IAGvB,OAAQ,UAAW,CACf,KAAK,YAAc,KAAK,WAAa,EAErC,KAAK,SAAS,GAAO,IAAI,KAAK,aAAa,CAAC,CAE5C,KAAK,YAAc,IAGvB,QAAS,UAAW,CAChB,GAAI,CAAC,KAAK,YAAa,CACnB,IAAI,EAAQ,KAAK,SAAS,GAAO,KAAK,CAEtC,AACI,IAAQ,GAGZ,IAAI,EAAO,KAAK,UAAU,CAEtB,GAAQ,OACR,EAAQ,EAAM,SAAS,EAAO,aAAa,CACpC,GAAQ,mBACf,EAAQ,EAAM,SAAS,EAAO,sBAAsB,EAGxD,KAAK,QAAQ,MAAQ,EAGzB,KAAK,YAAc,IAGvB,QAAS,UAAW,CAChB,EAAE,KAAK,QAAQ,CAAC,IAAI,KAAK,UAAW,KAAK,QAAQ,EAExD,CAAC,CAEF,EAAQ,OAAS,EAAO,OAAO,CAC3B,KAAM,SAAS,EAAS,EAAU,EAAS,CACvC,EAAO,GAAG,KAAK,KAAK,KAAM,EAAS,EAAU,EAAQ,CAErD,IAAI,EAAS,KAAK,SAAS,OAAO,KAAK,CAEnC,aAAkB,EAAM,KAAK,YAAc,EAAQ,WAAa,IAChE,EAAO,OAAO,EAItB,QAAS,SAAS,EAAG,CACjB,IAAI,EAAO,KACP,EAAS,EAAK,SAAS,OAAO,KAAK,CAEnC,aAAkB,GAAmB,aAAkB,EAAM,KAAK,YAClE,IAAS,EAAE,CAEP,EAAE,QAAU,MACZ,EAAK,IAAI,EAAE,MAAO,EAAE,MAAM,CACnB,EAAE,QAAU,SACnB,EAAK,OAAO,EAAE,MAAO,EAAE,MAAM,CACtB,EAAE,QAAU,cACnB,EAAK,QAAQ,EAGjB,EAAK,QAAQ,EAIrB,UAAW,UAAW,CAClB,IAAI,EAAU,KAAK,QASnB,OAPI,EAAQ,SAAS,aAAa,EAAI,UAC7B,EAAQ,QAAQ,IACjB,EAAQ,YAAY,SAAS,cAAc,QAAQ,CAAC,CAExD,EAAU,EAAQ,QAAQ,IAGvB,GAGX,SAAU,UAAW,CACjB,IAAI,EAAU,KAAK,QACf,EAAW,EAAQ,SACnB,EAAW,KAAK,WAAW,CAAC,SAAS,aAAa,CAuBtD,MArBA,CAkBI,KAjBA,AAeI,EAfA,GAAY,SACR,EAAQ,YAAc,EAAQ,UAClB,GAAS,CACjB,IAAM,EAAY,EAAM,OAAO,EAAQ,YAAc,EAAQ,UAAU,CAAC,EAAK,CACvE,EAAY,EAAM,OAAO,EAAQ,WAAa,EAAQ,WAAW,CAAC,EAAK,CAC7E,MAAO,kBAAkB,EAAO,EAAU,CAAC,IAAI,EAAO,EAAU,CAAC,YAGzD,GAAS,WAAW,EAAO,EAAK,CAAC,WAE1C,GAAY,QACP,GAAS,WAAW,EAAO,EAAK,CAAC,YACtC,GAAY,MAAQ,GAAY,KAC3B,GAAS,OAAO,EAAO,EAAK,CAAC,OAE7B,GAAS,GAAG,EAAO,EAAK,GAE7B,EAAM,SAAS,EAAS,EAGhC,GAGX,IAAK,SAAS,EAAO,EAAO,CACxB,IAAI,EAAU,KAAK,WAAW,CAC1B,EACA,EACA,EACA,EACA,EAAQ,EAAQ,UAAU,GAAM,CAChC,EAAY,EAAQ,SAAS,GAIjC,GAFA,EAAE,EAAM,CAAC,KAAK,EAAM,OAAO,KAAK,UAAU,CAAE,EAAM,CAAC,CAE/C,EAAM,SAAS,OAGf,IAFA,EAAU,KAAK,SAAS,OAAO,UAAU,CAEpC,EAAM,EAAG,EAAS,EAAM,OAAQ,EAAM,EAAQ,IAC/C,EAAQ,EAAM,SAAS,GACvB,EAAQ,aAAa,EAAO,GAAa,KAAK,CAC9C,EAAY,EAAO,EAAM,GAAM,KAAK,QAAQ,MAAO,CAAC,EAAM,GAAK,CAAC,OAAO,EAAQ,CAAC,EAK5F,OAAQ,SAAS,EAAO,EAAO,CAC3B,IAAI,EAAK,EAAU,KAAK,WAAW,CAEnC,IAAK,EAAM,EAAG,EAAM,EAAM,OAAQ,IAAO,CACrC,IAAI,EAAQ,EAAQ,SAAS,GAC7B,EAAkB,EAAO,GAAK,CAC1B,EAAM,YAAc,GACpB,EAAQ,YAAY,EAAM,GAKtC,OAAQ,UAAW,CACf,IAAI,EAAS,KAAK,SAAS,OAAO,KAAK,CACnC,EACA,EACA,EACA,EAAU,KAAK,WAAW,CAC1B,EAAW,KAAK,UAAU,CAE1B,MAAU,KAYd,GARI,aAAkB,EAAM,KAAK,aAC7B,EAAS,EAAO,MAAM,EAGtB,EAAE,aAAkB,IAAoB,EAAS,KAAK,EAAO,GAAK,mBAClE,EAAS,CAAC,EAAO,EAGjB,KAAK,SAAS,SAKd,IAJA,EAAsB,EAAS,GAAK,CAEpC,EAAE,EAAQ,CAAC,KAAK,KAAK,SAAS,SAAS,OAAO,EAAO,CAAC,CAElD,EAAQ,SAAS,OAGjB,IAFA,EAAU,KAAK,SAAS,OAAO,UAAU,CAEpC,EAAM,EAAG,EAAS,EAAO,OAAQ,EAAM,EAAQ,IAChD,EAAY,EAAQ,SAAS,GAAM,EAAO,GAAM,KAAK,QAAQ,MAAO,CAAC,EAAO,GAAK,CAAC,OAAO,EAAQ,CAAC,MAI1G,EAAE,EAAQ,CAAC,KAAK,EAAM,OAAO,EAAU,EAAO,CAAC,EAG1D,CAAC,CAEF,EAAQ,MAAQ,CACZ,QAAS,EAAY,OAAO,CACxB,KAAM,SAAS,EAAS,EAAU,EAAS,CACvC,EAAY,GAAG,KAAK,KAAK,KAAM,EAAS,EAAU,EAAQ,CAC1D,KAAK,QAAU,KAAK,OAAO,KAAK,KAAK,CAErC,EAAE,KAAK,QAAQ,CAAC,OAAO,KAAK,QAAQ,EAGxC,OAAQ,UAAW,CACf,IAAI,EAAU,KAAK,QACf,EAAQ,KAAK,OAAO,CAExB,GAAI,EAAQ,MAAQ,QAChB,EAAQ,KAAK,aAAa,CAC1B,KAAK,SAAS,GAAS,IAAI,EAAM,SAC1B,EAAQ,MAAQ,WAAY,CACnC,IAAI,EAAS,KAAK,SAAS,GAAS,KAAK,CACrC,EAEJ,GAAI,aAAkB,EAAiB,CAEnC,GADA,EAAQ,KAAK,aAAa,CACtB,aAAiB,KACjB,KAAK,IAAI,EAAI,EAAG,EAAI,EAAO,OAAQ,IAC/B,GAAI,EAAO,aAAc,MAAQ,CAAC,EAAO,IAAO,CAAC,EAAO,CACpD,EAAQ,EACR,YAIR,EAAQ,EAAO,QAAQ,EAAM,CAE7B,EAAQ,GACR,EAAO,OAAO,EAAO,EAAE,CAEvB,EAAO,KAAK,EAAM,MAGtB,KAAK,SAAS,GAAS,IAAI,EAAM,GAK7C,QAAS,UAAW,CAChB,IAAI,EAAQ,KAAK,SAAS,GAAS,KAAK,CACpC,EAAS,EACT,EAAO,KAAK,UAAU,CACtB,EAAU,KAAK,QAEnB,GAAI,EAAQ,MAAQ,WAChB,GAAI,aAAkB,EAAiB,CACnC,IAAI,EAAQ,GAEZ,GADA,EAAQ,KAAK,aAAa,CACtB,aAAiB,KACjB,KAAK,IAAI,EAAI,EAAG,EAAI,EAAO,OAAQ,IAC/B,GAAI,EAAO,aAAc,MAAQ,CAAC,EAAO,IAAO,CAAC,EAAO,CACpD,EAAQ,EACR,YAIR,EAAQ,EAAO,QAAQ,EAAM,CAEjC,EAAQ,QAAW,GAAS,OAE5B,EAAQ,QAAU,OAEf,EAAQ,MAAQ,UACnB,GAAQ,OACR,EAAQ,EAAM,SAAS,EAAO,aAAa,CACpC,GAAQ,mBACf,EAAQ,EAAM,SAAS,EAAO,sBAAsB,EAGpD,GAAU,MAAyC,EAAQ,QAAU,EAAM,UAAU,CACrF,EAAQ,QAAU,GAElB,EAAQ,QAAU,KAK9B,MAAO,UAAW,CACd,IAAI,EAAU,KAAK,QACf,EAAQ,EAAQ,MAMpB,OAJI,EAAQ,MAAQ,aAChB,EAAQ,EAAQ,SAGb,GAEX,QAAS,UAAW,CAChB,EAAE,KAAK,QAAQ,CAAC,IAAI,EAAQ,KAAK,QAAQ,EAEhD,CAAC,CACL,CAED,EAAQ,OAAS,CACb,OAAQ,EAAQ,OAAO,OAAO,CAC1B,QAAS,SAAS,EAAG,CACjB,IAAI,EAAO,KACP,EAAS,EAAK,SAAS,OAAO,KAAK,CAEvC,GAAI,aAAkB,GAAmB,aAAkB,EAAM,KAAK,WAElE,IADA,IAAS,EAAE,CACP,EAAE,QAAU,MACZ,EAAK,IAAI,EAAE,MAAO,EAAE,MAAM,SACnB,EAAE,QAAU,SACnB,EAAK,OAAO,EAAE,MAAO,EAAE,MAAM,UACtB,EAAE,QAAU,cAAgB,EAAE,SAAW,KAChD,EAAK,QAAQ,CACT,EAAK,SAAS,OACV,EAAK,SAAS,OAAO,CACrB,IAAI,EAAM,EAAwB,EAAK,SAAS,MAAM,KAAK,CAAE,EAAE,EAAK,QAAQ,CAAC,KAAK,aAAa,CAAC,CAC5F,IAAQ,KACR,EAAK,QAAQ,cAAgB,GAE7B,EAAK,QAAQ,MAAQ,QAMrC,EAAK,QAAQ,EAGxB,CAAC,CACF,MAAO,EAAY,OAAO,CACtB,KAAM,SAAS,EAAQ,EAAU,EAAS,CACtC,EAAY,GAAG,KAAK,KAAK,KAAM,EAAQ,EAAU,EAAQ,CAEzD,KAAK,QAAU,KAAK,OAAO,KAAK,KAAK,CACrC,EAAE,KAAK,QAAQ,CAAC,OAAO,KAAK,QAAQ,EAGxC,YAAa,UAAW,CACpB,IAAI,EAAW,KAAK,UAAU,CAC1B,EAAS,EAAE,CACX,EAAO,EAAQ,EAAK,EACxB,IAAK,EAAM,EAAG,EAAS,KAAK,QAAQ,QAAQ,OAAQ,EAAM,EAAQ,IAC9D,EAAS,KAAK,QAAQ,QAAQ,GAE1B,EAAO,WACP,EAAQ,EAAO,WAAW,MAE1B,AAGI,EAHA,GAAS,EAAM,UACP,EAAO,MAEP,EAAO,KAGnB,EAAO,KAAK,KAAK,YAAY,EAAO,EAAS,CAAC,EAGtD,OAAO,GAGX,OAAQ,UAAW,CACf,IAAI,EAAS,EAAE,CACX,EAAU,KAAK,QACf,EACA,EAAQ,KAAK,QAAQ,YAAc,KAAK,QAAQ,UAChD,EAAiB,KAAK,QAAQ,eAC9B,EACA,EACA,EACA,EACA,EAEJ,IAAK,EAAM,EAAG,EAAS,EAAQ,QAAQ,OAAQ,EAAM,EAAQ,IACzD,EAAS,EAAQ,QAAQ,GAErB,EAAO,WACP,EAAQ,EAAO,WAAW,MAE1B,AAGI,EAHA,GAAS,EAAM,UACP,EAAO,MAEP,EAAO,KAGf,EACA,EAAO,KAAK,EAAM,CAElB,EAAO,KAAK,KAAK,YAAY,EAAO,KAAK,UAAU,CAAC,CAAC,EAMjE,GAAI,EAMA,IALA,EAAS,KAAK,SAAS,OAAO,KAAK,CAC/B,aAAkB,EAAM,KAAK,aAC7B,EAAS,EAAO,MAAM,EAGrB,EAAa,EAAG,EAAa,EAAO,OAAQ,IAC7C,IAAK,EAAM,EAAG,EAAS,EAAO,OAAQ,EAAM,EAAQ,IAAO,CACvD,IAAI,EAAc,EAAO,GAAK,IAAI,EAAM,CAExC,GADa,OAAO,EAAY,GAAK,EAAO,GACjC,CACP,EAAO,GAAc,EAAO,GAC5B,OAMhB,EAAQ,KAAK,SAAS,GAAO,KAAK,CAC9B,aAAiB,EACjB,EAAM,OAAO,MAAM,EAAO,CAAC,EAAG,EAAM,OAAO,CAAC,OAAO,EAAO,CAAC,CACpD,CAAC,IAAmB,aAAiB,GAAoB,IAAU,MAAQ,IAAU,GAAa,CAAC,GAC1G,KAAK,SAAS,GAAO,IAAI,EAAO,GAAG,CAEnC,KAAK,SAAS,GAAO,IAAI,EAAO,GAAG,IAAI,EAAM,CAAC,EAGtD,QAAS,UAAW,CAChB,IAAI,EACA,EAAU,KAAK,QACf,EAAU,EAAQ,QAClB,EAAQ,KAAK,SAAS,GAAO,KAAK,CAClC,EAAS,EACT,EAAQ,KAAK,QAAQ,YAAc,KAAK,QAAQ,UAEhD,EAAO,KAAK,UAAU,CACtB,EAEE,aAAkB,IACpB,EAAS,IAAI,EAAgB,CAAC,EAAM,CAAC,EAGzC,EAAQ,cAAgB,GAExB,IAAK,IAAI,EAAa,EAAG,EAAa,EAAO,OAAQ,IAcjD,IAbA,EAAQ,EAAO,GAGX,GAAS,aAAiB,IAC1B,EAAQ,EAAM,IAAI,EAAM,EAGxB,GAAQ,OACR,EAAQ,EAAM,SAAS,EAAO,GAAa,aAAa,CACjD,GAAQ,mBACf,EAAQ,EAAM,SAAS,EAAO,GAAa,sBAAsB,EAGhE,EAAc,EAAG,EAAc,EAAQ,OAAQ,IAChD,EAAc,EAAQ,GAAa,MAE/B,IAAgB,IAAM,IAAU,KAChC,EAAc,EAAQ,GAAa,MAGnC,GAAS,MAAQ,GAAe,EAAM,UAAU,GAChD,EAAQ,GAAa,SAAW,KAMhD,QAAS,UAAW,CAChB,EAAE,KAAK,QAAQ,CAAC,IAAI,EAAQ,KAAK,QAAQ,EAEhD,CAAC,CACL,CAED,SAAS,EAAkB,EAAa,EAAW,EAAQ,CACvD,OAAO,EAAO,OAAO,CACjB,KAAM,SAAS,EAAQ,EAAU,EAAS,CACtC,IAAI,EAAO,KAEX,EAAO,GAAG,KAAK,KAAK,EAAM,EAAO,QAAQ,GAAI,EAAU,EAAQ,CAE/D,EAAK,OAAS,EACd,EAAK,aAAe,EAAK,YAAY,KAAK,EAAK,CAC/C,EAAK,WAAa,EAAK,UAAU,KAAK,EAAK,CAC3C,EAAK,YAAc,EAAK,WAAW,KAAK,EAAK,EAGjD,WAAY,SAAS,EAAG,CACpB,EAAY,EAAE,KAAK,GAAI,EAAE,KAAM,KAAK,IAAI,EAAE,GAAG,CAAE,CAAC,EAAE,KAAK,CAAC,OAAO,KAAK,SAAS,GAAa,UAAU,CAAC,CAAC,EAG1G,YAAa,SAAS,EAAG,CACrB,IAAI,EACA,EACA,EAAS,KAAK,OACd,EAAQ,EAAE,cAAgB,EAAO,OAAO,CAE5C,IAAK,EAAM,EAAG,EAAS,EAAM,OAAQ,EAAM,EAAQ,IAC/C,EAAkB,EAAM,GAAM,GAAM,EAI5C,IAAK,SAAS,EAAI,CACd,IAAW,EAAM,GACjB,IAAI,EAAM,CAAE,EAAM,GAAI,EAAM,QAAQ,GAAI,EAAM,OAAO,GAAI,CAIzD,OAHA,EAAI,OAAO,EAAE,QAAQ,EAAI,EAAI,CAAE,EAAE,CACjC,EAAI,QAAQ,EAAG,CAER,EAAM,oBAAoB,EAAI,EAGzC,UAAW,SAAS,EAAG,CACnB,IAAI,EACA,EACA,EAAS,KAAK,OACd,EAAQ,EAAE,YAAc,EAAO,OAAO,CACtC,EAAa,EAAO,GACpB,EACA,EACA,EAAM,EAAM,KAAK,uBAEjB,QAAO,aAAsB,IAM7B,EAAM,OAIN,IAHA,EAAO,EAAE,gBAAkB,EAAW,UAAU,CAChD,EAAU,KAAK,SAAS,GAAa,UAAU,CAE1C,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAC1C,EAAM,IACN,EAAY,EAAM,GAAM,EAAK,GAAM,KAAK,IAAI,EAAE,GAAG,CAAE,CAAC,EAAK,GAAK,CAAC,OAAO,EAAQ,CAAC,EAM/F,QAAS,SAAS,EAAG,CACjB,IAAI,EAAO,KACP,EACA,EAAS,EAAK,OACd,EAAQ,EAAa,EAEzB,IAAS,EAAE,CAEN,EAAE,SACH,EAAK,SAAS,CAEd,EAAO,KAAK,cAAe,EAAK,aAAa,CAC7C,EAAO,KAAK,YAAa,EAAK,WAAW,CACzC,EAAO,KAAK,aAAc,EAAK,YAAY,CAE3C,EAAS,EAAK,SAAS,GAAa,KAAK,CAErC,EAAO,aAAsB,EAAM,KAAK,YAAc,EAAO,IAAc,GAAU,IACjF,aAAkB,EAAM,KAAK,WAC7B,EAAO,GAAQ,EAAO,CACf,EAAO,YACd,EAAO,GAAQ,EAAO,YAAY,EAElC,EAAS,EAAM,GAAG,QAAU,aAAkB,EAAM,GAAG,OACvD,EAAc,EAAM,GAAG,aAAe,aAAkB,EAAM,GAAG,YACjE,EAAe,EAAM,GAAG,cAAgB,aAAkB,EAAM,GAAG,aAE9D,EAGD,EAAO,SAAS,GAAW,KAAK,EAAO,CAFvC,EAAO,GAAW,KAAK,EAAO,CAK9B,EAAK,SAAS,QAAU,GAAU,IAClC,EAAO,MAAM,EAAwB,EAAK,SAAS,MAAM,KAAK,CAAE,EAAO,QAAQ,eAAe,CAAC,KAOnH,QAAS,UAAW,CAChB,IAAI,EAAS,KAAK,OAElB,EAAO,OAAO,cAAe,KAAK,aAAa,CAC/C,EAAO,OAAO,YAAa,KAAK,WAAW,CAC3C,EAAO,OAAO,aAAc,KAAK,YAAY,EAEpD,CAAC,CAGN,EAAQ,OAAS,CACb,OAAQ,EAAO,OAAO,CAClB,KAAM,SAAS,EAAQ,EAAU,EAAS,CACtC,EAAO,GAAG,KAAK,KAAK,KAAM,EAAO,QAAQ,GAAI,EAAU,EAAQ,CAC/D,KAAK,OAAS,EACd,KAAK,SAAW,EAAE,EAGtB,QAAS,SAAS,EAAK,CACnB,IAAI,EAAU,KAAK,SAAS,OAAO,GAC/B,EAAU,KAAK,SAAS,GAExB,GACA,KAAK,OAAO,OAAO,EAAK,EAAQ,CAGpC,EAAU,EAAQ,KAAK,CAEnB,IACA,KAAK,SAAS,GAAO,SAAS,EAAG,CAC7B,EAAE,KAAO,EAAQ,OAEjB,EAAQ,EAAE,CAEN,EAAE,OAAS,EAAQ,QACnB,OAAO,EAAE,MAIjB,KAAK,OAAO,KAAK,EAAK,KAAK,SAAS,GAAK,GAIjD,QAAS,UAAW,CAGhB,IAFA,IAAI,KAEY,KAAK,SACjB,KAAK,OAAO,OAAO,EAAS,KAAK,SAAS,GAAS,EAG9D,CAAC,CAEF,QAAS,EAAO,OAAO,CACnB,KAAM,SAAS,EAAQ,EAAU,EAAS,CACtC,EAAO,GAAG,KAAK,KAAK,KAAM,EAAO,QAAQ,GAAI,EAAU,EAAQ,CAE/D,KAAK,OAAS,EACd,KAAK,QAAU,KAAK,OAAO,KAAK,KAAK,CACrC,KAAK,OAAO,KAAK,EAAQ,KAAK,QAAQ,EAE1C,OAAQ,UAAW,CACf,KAAK,SAAS,GAAS,IAAI,KAAK,OAAO,CAAC,EAG5C,QAAS,UAAW,CAChB,IAAI,EAAM,KAAK,SAAS,GAAS,KAAK,CAElC,KAAK,QAAQ,OAAS,QAClB,IAAQ,EAGR,KAAK,OAAO,MAAM,GAAM,CAFxB,KAAK,OAAO,MAAM,EAAI,UAAU,GAAK,KAAK,OAAO,CAAC,CAKtD,KAAK,OAAO,MAAM,IAAQ,GAAK,EAIvC,MAAO,UAAW,CACd,IAAI,EAAU,KAAK,QACf,EAAQ,EAAQ,MAMpB,OAJI,GAAS,MAAQ,GAAS,OAAS,KAAK,QAAQ,MAAQ,cACxD,EAAQ,EAAQ,SAGb,GAGX,QAAS,UAAW,CAChB,KAAK,OAAO,OAAO,EAAQ,KAAK,QAAQ,EAE/C,CAAC,CAEF,MAAO,EAAO,OAAO,CACjB,KAAM,SAAS,EAAQ,EAAU,EAAS,CACtC,EAAO,GAAG,KAAK,KAAK,KAAM,EAAO,QAAQ,GAAI,EAAU,EAAQ,CAC/D,KAAK,QAAU,KAAK,OAAO,KAAK,KAAK,CACrC,KAAK,OAAS,EACd,KAAK,OAAO,KAAK,EAAQ,KAAK,QAAQ,EAG1C,OAAQ,UAAW,CACf,KAAK,SAAS,MAAM,IAAI,KAAK,OAAO,OAAO,CAAC,MAAM,EAGtD,QAAS,UAAW,CAChB,IAAI,EAAO,KACP,EAAQ,KAAK,SAAS,MAAM,KAAK,CACjC,EAAM,EAAK,OAAO,OAAS,EAAK,OAAO,OAAO,IAAM,KACxD,KAAK,OAAO,MAAM,CAAS,QAAY,MAAK,CAAC,EAGjD,QAAS,UAAW,CAChB,KAAK,OAAO,OAAO,EAAQ,KAAK,QAAQ,EAE/C,CAAC,CAEF,IAAK,EAAO,OAAO,CACf,KAAM,SAAS,EAAQ,EAAU,EAAS,CACtC,EAAO,GAAG,KAAK,KAAK,KAAM,EAAO,QAAQ,GAAI,EAAU,EAAQ,CAC/D,KAAK,QAAU,KAAK,OAAO,KAAK,KAAK,CACrC,KAAK,OAAS,EACd,KAAK,OAAO,KAAK,EAAQ,KAAK,QAAQ,EAG1C,OAAQ,UAAW,CACf,KAAK,SAAS,IAAI,IAAI,KAAK,OAAO,OAAO,CAAC,IAAI,EAGlD,QAAS,UAAW,CAChB,IAAI,EAAO,KACP,EAAM,KAAK,SAAS,IAAI,KAAK,CAC7B,EAAQ,EAAK,OAAO,OAAS,EAAK,OAAO,OAAO,MAAQ,KAC5D,KAAK,OAAO,MAAM,CAAS,QAAY,MAAK,CAAC,EAGjD,QAAS,UAAW,CAChB,KAAK,OAAO,OAAO,EAAQ,KAAK,QAAQ,EAE/C,CAAC,CAEF,QAAS,EAAO,OAAO,CACnB,KAAM,SAAS,EAAQ,EAAU,EAAS,CACtC,EAAO,GAAG,KAAK,KAAK,KAAM,EAAO,QAAQ,GAAI,EAAU,EAAQ,CAE/D,KAAK,OAAS,GAGlB,QAAS,UAAW,CAChB,IAAI,EAAU,KAAK,SAAS,QAAQ,KAAK,CACzC,KAAK,OAAO,QAAQ,GAAG,MAAM,QAAU,EAAU,GAAK,QAE7D,CAAC,CAEF,UAAW,EAAO,OAAO,CACrB,KAAM,SAAS,EAAQ,EAAU,EAAS,CACtC,EAAO,GAAG,KAAK,KAAK,KAAM,EAAO,QAAQ,GAAI,EAAU,EAAQ,CAE/D,KAAK,OAAS,GAGlB,QAAS,UAAW,CAChB,IAAI,EAAY,KAAK,SAAS,UAAU,KAAK,CAC7C,KAAK,OAAO,QAAQ,GAAG,MAAM,QAAU,EAAY,OAAS,IAEnE,CAAC,CAEF,cAAe,EAAO,OAAO,CACzB,KAAM,SAAS,EAAQ,EAAU,EAAS,CACtC,EAAO,GAAG,KAAK,KAAK,KAAM,EAAO,QAAQ,GAAI,EAAU,EAAQ,CAE1D,EAAO,eAIZ,EAAO,cAAc,SAAS,EAErC,CAAC,CAEF,QAAS,EAAO,OAAO,CACnB,KAAM,SAAS,EAAQ,EAAU,EAAS,CACtC,EAAO,GAAG,KAAK,KAAK,KAAM,EAAO,QAAQ,GAAI,EAAU,EAAQ,CAE/D,KAAK,OAAS,EACd,KAAK,SAAW,KAAK,QAAQ,UAGjC,QAAS,UAAW,CACZ,KAAK,OAAO,QACZ,KAAK,OAAO,OAAO,KAAK,SAAS,QAAQ,KAAK,CAAC,CAE/C,KAAK,UAAY,KAAK,OAAO,UAC7B,KAAK,OAAO,SAAS,KAAK,SAAS,EAG9C,CAAC,CAEF,SAAU,EAAO,OAAO,CACpB,KAAM,SAAS,EAAQ,EAAU,EAAS,CACtC,EAAO,GAAG,KAAK,KAAK,KAAM,EAAO,QAAQ,GAAI,EAAU,EAAQ,CAE/D,KAAK,OAAS,GAGlB,QAAS,UAAW,CACZ,KAAK,OAAO,QACZ,KAAK,OAAO,OAAO,CAAC,KAAK,SAAS,SAAS,KAAK,CAAC,EAG5D,CAAC,CAEF,OAAQ,EAAkB,SAAU,aAAc,gBAAgB,CAElE,MAAO,EAAO,OAAO,CACjB,KAAM,SAAS,EAAQ,EAAU,EAAS,CACtC,EAAO,GAAG,KAAK,KAAK,KAAM,EAAO,QAAQ,GAAI,EAAU,EAAQ,CAE/D,KAAK,OAAS,EACd,KAAK,QAAU,KAAK,OAAO,KAAK,KAAK,CACrC,KAAK,OAAO,MAAM,EAAQ,KAAK,QAAQ,CAEvC,IAAI,EAAQ,KAAK,SAAS,MAAM,KAAK,CAErC,KAAK,yBAA2B,CAAC,EAAQ,iBAAmB,GAAS,MAAQ,aAAiB,GAC9F,KAAK,wBAA0B,aAAiB,EAChD,KAAK,YAAc,IAGvB,QAAS,UAAW,CAChB,IAAI,EAiBJ,OAfI,KAAK,OAAO,WACZ,EAAS,KAAK,OAAO,UAAU,CAC3B,GAAU,aAAkB,GACrB,CAAC,EAAO,EAInB,KAAK,SAAS,SACd,EAAS,KAAK,SAAS,OAAO,KAAK,GAGnC,CAAC,GAAU,aAAkB,EAAM,KAAK,cACxC,EAAS,KAAK,OAAO,WAAW,UAAU,EAGvC,IAGX,OAAQ,UAAW,CACf,IAAI,EAAQ,KAAK,OAAO,OAAO,CAC3B,EAAQ,KAAK,QAAQ,gBAAkB,KAAK,QAAQ,cACpD,EAAU,EAAS,KAAK,EAAM,GAAK,iBACnC,EAAqB,KAAK,yBAC1B,EAAY,EAAa,EAAS,EAAE,CACpC,EAAY,EACZ,EAAK,EAAQ,EAIjB,GAFA,KAAK,YAAc,GAEf,EAEA,GAAI,IAAU,KAAO,GAAsB,KAAK,QAAQ,gBACpD,EAAQ,SACL,CAQH,IAPA,EAAS,KAAK,SAAS,CAEnB,IACA,EAAc,EAAM,OACpB,EAAS,EAAM,MAAM,EAAE,EAGtB,EAAM,EAAG,EAAS,EAAO,OAAQ,EAAM,EAAQ,IAIhD,GAHA,EAAa,EAAO,GACpB,EAAc,EAAW,IAAI,EAAM,CAE/B,EACA,KAAK,EAAa,EAAG,EAAa,EAAa,IAC3C,GAAI,GAAe,EAAO,GAAa,CACnC,EAAO,GAAc,EACrB,eAGD,GAAe,EAAO,CAC7B,EAAQ,EAAqB,EAAa,EAC1C,MAIJ,EAAO,KACP,AAKI,EALA,KAAK,wBACG,EACD,GAAsB,CAAC,EACtB,EAAO,GAEP,EAAO,GAAG,IAAI,EAAM,EAM5C,KAAK,SAAS,MAAM,IAAI,EAAM,CAC9B,KAAK,YAAc,IAGvB,QAAS,UAAW,CAChB,GAAI,CAAC,KAAK,YAAa,CACnB,IAAI,EAAS,KAAK,OACd,EAAU,EAAO,QACjB,EAAY,EAAQ,cACpB,EAAa,EAAQ,gBAAkB,EACvC,EAAQ,KAAK,SAAS,MAAM,KAAK,CACjC,EAAO,EAAQ,MAAQ,GACvB,EAAM,EAAG,EACT,EAAS,EAAE,CAMf,GAJI,IAAU,IACV,EAAQ,MAGR,EACA,GAAI,aAAiB,EAAiB,CAClC,IAAK,EAAS,EAAM,OAAQ,EAAM,EAAQ,IACtC,EAAO,GAAO,EAAM,GAAK,IAAI,EAAW,CAE5C,EAAQ,OACD,aAAiB,IACxB,EAAO,EAAM,IAAI,EAAU,CAC3B,EAAQ,EAAM,IAAI,EAAW,EAIjC,EAAQ,WAAa,IAAS,CAAC,EAAQ,aAAe,EAAO,UAAY,CAAC,EAAO,SAAS,OAAO,EAC7F,IAAc,GAAc,CAAC,IAC7B,EAAO,GAGP,CAAC,IAAS,GAAS,IAAU,IAAM,EAAQ,eAC3C,EAAO,MAAM,EAAM,CAEnB,EAAO,WAAW,EAAO,EAAK,EAG/B,EAAO,QAAQ,MAAQ,UACvB,EAAO,MAAM,EAAM,CAK9B,KAAK,YAAc,IAGvB,QAAS,UAAW,CAChB,KAAK,OAAO,OAAO,EAAQ,KAAK,QAAQ,EAE/C,CAAC,CACF,aAAc,CACV,MAAO,EAAO,OAAO,CACjB,KAAM,SAAS,EAAQ,EAAU,EAAS,CACtC,EAAO,GAAG,KAAK,KAAK,KAAM,EAAO,QAAQ,GAAI,EAAU,EAAQ,CAE/D,KAAK,OAAS,EACd,KAAK,QAAU,KAAK,OAAO,KAAK,KAAK,CACrC,KAAK,OAAO,MAAM,EAAQ,KAAK,QAAQ,CACvC,KAAK,YAAc,IAGvB,OAAQ,UAAW,CACf,IAAI,EAAO,KACP,EAAY,EAAK,SAAS,GAAO,KAAK,CACtC,EAAiB,EAAK,QAAQ,eAC9B,EAAe,EAAK,OAAO,SAAS,QAAQ,CAC5C,EAAqB,EAAK,OAAO,sBAAsB,CAAG,EAAK,OAAO,gBAAgB,CAAI,EAAK,OAAO,SAAS,SAAS,EAAa,EAAI,EAAK,OAAO,OAAO,CAC5J,EAAa,GAAkB,EAAK,OAAO,QAAQ,WAAa,GAAS,EAAK,OAAO,OAAO,CAAG,EAE/F,EAAQ,KAAK,QAAQ,gBAAkB,KAAK,QAAQ,cAMxD,GAJA,EAAY,EAAU,MAAQ,EAAU,MAAM,EAAE,CAAG,EAEnD,EAAK,YAAc,GAEf,aAAqB,EAAiB,CAUtC,IATA,IAAI,EAAS,EAAE,CACX,EAAY,EAAU,OACtB,EAAI,EAAG,EAAI,EACX,EAAM,EAAU,GAChB,EAAO,GACP,EACA,EACA,EAEG,IAAQ,GAAW,CAEtB,IADA,EAAQ,GACH,EAAI,EAAG,EAAI,EAAW,IAUvB,GATI,EACA,EAAO,EAAU,IAAM,GAEvB,EAAW,EAAU,GAErB,EAAW,EAAS,IAAM,EAAS,IAAI,EAAM,CAAG,EAChD,EAAO,IAAa,EAAI,IAAM,EAAI,IAAI,EAAM,CAAG,IAG/C,EAAM,CACN,EAAU,OAAO,EAAG,EAAE,CACtB,IACA,EAAQ,GACR,MAIH,EAKD,GAAK,GAJL,EAAO,KAAK,EAAI,CAChB,EAAY,EAAW,EAAG,EAAE,CAC5B,EAAc,GAKlB,EAAM,EAAU,GAGpB,EAAY,EAAW,EAAU,OAAQ,EAAG,EAAU,CAElD,EAAO,QACP,EAAU,QAAQ,SAAU,CACxB,OAAQ,SACR,MAAO,EACP,MAAO,EACV,CAAC,CAGF,EAAU,QACV,EAAU,QAAQ,SAAU,CACxB,OAAQ,MACR,MAAO,EACP,MAAO,EAAU,OAAS,EAC7B,CAAC,MAGN,EAAK,SAAS,GAAO,IAAI,EAAU,CAGvC,EAAK,YAAc,IAGvB,QAAS,UAAW,CAChB,GAAI,CAAC,KAAK,YAAa,CACnB,IAAI,EAAU,KAAK,QACf,EAAS,KAAK,OACd,EAAQ,EAAQ,gBAAkB,EAAQ,cAC1C,EAAQ,KAAK,SAAS,MAAM,KAAK,CACjC,EAAO,EACP,EAAM,EAAG,EACT,EAAS,EAAE,CACX,EAEJ,GAAI,EACA,GAAI,aAAiB,EAAiB,CAClC,IAAK,EAAS,EAAM,OAAQ,EAAM,EAAQ,IACtC,EAAgB,EAAM,GACtB,EAAO,GAAO,EAAc,IAAM,EAAc,IAAI,EAAM,CAAG,EAEjE,EAAQ,OACD,aAAiB,IACxB,EAAQ,EAAM,IAAI,EAAM,EAG5B,EAAQ,WAAa,IAAS,EAAQ,iBAAmB,GACzD,EAAO,WAAW,EAAM,EAAM,CAE9B,EAAO,MAAM,EAAM,GAK/B,QAAS,UAAW,CAChB,KAAK,OAAO,OAAO,EAAQ,KAAK,QAAQ,EAE/C,CAAC,CACL,CACD,MAAO,CACH,aAAc,EAAkB,eAAgB,eAAgB,4BAA4B,CAC/F,CAED,YAAa,CACT,MAAO,EAAO,OAAO,CACjB,KAAM,SAAS,EAAQ,EAAU,EAAS,CACtC,EAAO,GAAG,KAAK,KAAK,KAAM,EAAO,QAAQ,GAAI,EAAU,EAAQ,CAE/D,KAAK,OAAS,EACd,KAAK,QAAU,KAAK,OAAO,KAAK,KAAK,CACrC,KAAK,OAAO,MAAM,EAAQ,KAAK,QAAQ,CACvC,KAAK,YAAc,IAGvB,OAAQ,UAAW,CACf,IAAI,EAAO,KACP,EAAY,EAAK,SAAS,GAAO,KAAK,CACtC,EAAiB,EAAK,QAAQ,eAC9B,EAAY,EAAiB,EAAK,OAAO,OAAO,CAAG,EAAK,OAAO,WAAW,CAE1E,EAAQ,KAAK,QAAQ,gBAAkB,KAAK,QAAQ,cAMxD,GAJA,EAAY,EAAU,MAAM,EAAE,CAE9B,EAAK,YAAc,GAEf,aAAqB,EAAiB,CAYtC,IAXA,IAAI,EAAS,EAAE,CAEX,EAAY,EAAU,OAEtB,EAAI,EAAG,EAAI,EACX,EAAM,EAAU,GAChB,EAAO,GACP,EACA,EACA,EAEG,IAAQ,GAAW,CAEtB,IADA,EAAQ,GACH,EAAI,EAAG,EAAI,EAAW,IAUvB,GATI,EACA,EAAO,EAAU,IAAM,GAEvB,EAAW,EAAU,GAErB,EAAW,EAAS,IAAM,EAAS,IAAI,EAAM,CAAG,EAChD,EAAO,IAAa,EAAI,IAAM,EAAI,IAAI,EAAM,CAAG,IAG/C,EAAM,CACN,EAAU,OAAO,EAAG,EAAE,CACtB,IACA,EAAQ,GACR,MAIH,EAKD,GAAK,GAJL,EAAO,KAAK,EAAI,CAChB,EAAY,EAAW,EAAG,EAAE,CAC5B,EAAc,GAKlB,EAAM,EAAU,GAGpB,EAAY,EAAW,EAAU,OAAQ,EAAG,EAAU,CAElD,EAAO,QACP,EAAU,QAAQ,SAAU,CACxB,OAAQ,SACR,MAAO,EACP,MAAO,EACV,CAAC,CAGF,EAAU,QACV,EAAU,QAAQ,SAAU,CACxB,OAAQ,MACR,MAAO,EACP,MAAO,EAAU,OAAS,EAC7B,CAAC,MAGN,EAAK,SAAS,GAAO,IAAI,EAAU,CAGvC,EAAK,YAAc,IAGvB,QAAS,UAAW,CAChB,GAAI,CAAC,KAAK,YAAa,CACnB,IAAI,EAAU,KAAK,QACf,EAAS,KAAK,OACd,EAAQ,EAAQ,gBAAkB,EAAQ,cAC1C,EAAQ,KAAK,SAAS,MAAM,KAAK,CACjC,EAAO,EACP,EAAM,EAAG,EACT,EAAS,EAAE,CACX,EAMJ,GAJI,IAAU,IACV,EAAQ,MAGR,EACA,GAAI,aAAiB,EAAiB,CAClC,IAAK,EAAS,EAAM,OAAQ,EAAM,EAAQ,IACtC,EAAgB,EAAM,GACtB,EAAO,GAAO,EAAc,IAAM,EAAc,IAAI,EAAM,CAAG,EAEjE,EAAQ,OACD,aAAiB,IACxB,EAAQ,EAAM,IAAI,EAAM,EAI5B,EAAQ,WAAa,IAAS,EAAQ,iBAAmB,IAAQ,CAAC,EAAO,UAAU,CACnF,EAAO,WAAW,EAAM,EAAM,CAE9B,EAAO,MAAM,EAAM,GAK/B,QAAS,UAAW,CAChB,KAAK,OAAO,OAAO,EAAQ,KAAK,QAAQ,EAG/C,CAAC,CACL,CACD,UAAW,CACP,OAAQ,EAAkB,SAAU,aAAc,gBAAgB,CAAC,OAAO,CACtE,UAAW,SAAS,EAAG,CACnB,IAAI,EACA,EACA,EAAS,KAAK,OACd,EAAW,EAAE,YAAc,EAAO,OAAO,CACzC,EAAM,EAEV,GAAI,EAAS,OAIT,IAHA,EAAO,EAAE,gBAAkB,EAAO,WAAW,CAC7C,EAAU,KAAK,SAAS,OAAO,UAAU,CAEpC,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAC9C,EAAY,EAAS,GAAM,EAAK,GAAM,KAAK,IAAI,EAAE,GAAG,CAAE,CAAC,EAAK,GAAK,CAAC,OAAO,EAAQ,CAAC,EAIjG,CAAC,CACL,CAED,KAAM,CACF,OAAQ,EAAkB,SAAU,aAAc,gBAAgB,CAAC,OAAO,CACtE,UAAW,SAAS,EAAG,CACnB,IAAI,EACJ,EACA,EAAS,KAAK,OACd,EAAW,EAAE,YAAc,EAAO,OAAO,CACzC,EACA,EAEA,GAAI,EAAS,OAIT,IAHA,EAAO,EAAE,gBAAkB,EAAO,WAAW,CAC7C,EAAU,KAAK,SAAS,OAAO,UAAU,CAEpC,EAAM,EAAG,EAAS,EAAK,OAAQ,EAAM,EAAQ,IAC9C,EAAY,EAAS,GAAM,EAAK,GAAM,KAAK,IAAI,EAAE,GAAG,CAAE,CAAC,EAAK,GAAK,CAAC,OAAO,EAAQ,CAAC,EAIjG,CAAC,CACL,CAED,MAAO,CACH,KAAM,EAAO,OAAO,CAChB,KAAM,SAAS,EAAQ,EAAU,EAAS,CACtC,EAAO,GAAG,KAAK,KAAK,KAAM,EAAO,QAAQ,GAAI,EAAU,EAAQ,CAE/D,KAAK,OAAS,GAElB,QAAS,UAAW,CAChB,IAAI,EAAO,KAAK,SAAS,KAAK,KAAK,CAEnC,AACI,IAAO,GAEX,KAAK,OAAO,KAAK,EAAK,EAE7B,CAAC,CACL,CACJ,CAED,IAAI,EAAc,SAAS,EAAK,EAAK,EAAQ,EAAK,CAC9C,IAAa,EAAE,CACf,IAAmB,EAEnB,IAAI,EAAY,EAAI,OAChB,EAAY,EAAI,OAEhB,EAAU,EAAE,CAAC,MAAM,KAAK,EAAK,EAAM,EAAO,CAC1C,EAAgB,EAAQ,OACxB,EAEJ,GAAI,EAAW,CAIX,IAHA,EAAY,EAAM,EAClB,EAAQ,EAED,EAAM,EAAW,IACpB,EAAI,GAAO,EAAI,GACf,IAGJ,EAAI,OAAS,UACN,EAIP,IAHA,EAAI,OAAS,EAEb,GAAU,EACH,EAAM,GACT,OAAO,EAAI,EAAE,GAIrB,GAAI,EAAe,CAIf,IAHA,EAAgB,EAAM,EACtB,EAAQ,EAED,EAAM,EAAe,IACxB,EAAI,GAAO,EAAQ,GACnB,IAGJ,EAAI,OAAS,EAKjB,IAFA,EAAM,EAAI,OAEH,EAAM,GACT,OAAO,EAAI,GACX,KAIJ,EAAgB,EAAM,OAAQ,CAC9B,KAAM,SAAS,EAAQ,EAAS,CAC5B,KAAK,OAAS,EACd,KAAK,QAAU,EACf,KAAK,UAAY,EAAE,EAGvB,KAAM,SAAS,EAAU,CACrB,IAAI,EACA,EACA,EACA,EACA,EACA,EACA,EAAgB,gBAAgB,EAChC,EAAkB,KAAK,SAAS,CAEpC,IAAK,KAAO,EACJ,GAAO,EACP,EAAW,GACJ,GAAO,EACd,EAAY,GACL,GAAO,GAAU,CAAC,EACzB,EAAY,GACL,GAAO,EACd,EAAa,GACN,GAAO,EACd,EAAS,GAET,KAAK,aAAa,EAAK,EAAU,EAAgB,CAGrD,GACA,KAAK,aAAa,EAAQ,EAAU,EAAgB,CAGpD,GACA,KAAK,aAAa,EAAO,EAAU,EAAgB,CAGnD,GACA,KAAK,aAAa,EAAS,EAAU,EAAgB,CAGrD,GAAa,CAAC,GACd,KAAK,aAAa,EAAQ,EAAU,EAAgB,CAGpD,GAAU,CAAC,GACX,KAAK,aAAa,EAAK,EAAU,EAAgB,CAGjD,GAAiB,KAAK,QAAU,KAAK,OAAO,eAC5C,KAAK,aAAa,gBAAiB,EAAU,EAAgB,EAIrE,QAAS,UAAW,CAChB,OAAO,EAAQ,KAAK,OAAO,SAAS,aAAa,GAAK,EAAE,EAG5D,aAAc,SAAS,EAAM,EAAU,EAAiB,CACpD,IAAI,EAAS,EAAgB,IAAS,EAAQ,GAC1C,EAAY,KAAK,UACjB,EACA,EAAU,EAAS,GAEvB,GAAI,EAKA,GAJA,EAAS,IAAI,EAAO,KAAK,OAAQ,EAAU,KAAK,QAAQ,CAExD,EAAU,KAAK,EAAO,CAElB,aAAmB,EACnB,EAAO,KAAK,EAAQ,CACpB,EAAU,KAAK,EAAQ,MAEvB,IAAK,KAAa,EACd,EAAO,KAAK,EAAS,EAAU,CAC/B,EAAU,KAAK,EAAQ,GAAW,SAGnC,IAAS,WAChB,MAAU,MAAM,OAAS,EAAO,oCAAsC,KAAK,OAAO,SAAS,aAAa,CAAG,WAAW,EAI9H,QAAS,UAAW,CAChB,IAAI,EACA,EACA,EAAY,KAAK,UAErB,IAAK,EAAM,EAAG,EAAS,EAAU,OAAQ,EAAM,EAAQ,IACnD,EAAU,GAAK,SAAS,EAGnC,CAAC,CAEE,EAAsB,EAAc,OAAQ,CAC5C,QAAS,UAAW,CAChB,OAAO,EAAQ,OAAO,KAAK,OAAO,QAAQ,KAAK,aAAa,GAAK,EAAE,EAGvE,aAAc,SAAS,EAAM,EAAU,EAAiB,CACpD,IAAI,EAAS,EAAgB,IAAS,EAAQ,OAAO,GACjD,EAAY,KAAK,UACjB,EACA,EAAU,EAAS,GAEvB,GAAI,EAMA,GALA,EAAS,IAAI,EAAO,KAAK,OAAQ,EAAU,KAAK,OAAO,QAAQ,CAE/D,EAAU,KAAK,EAAO,CAGlB,aAAmB,EACnB,EAAO,KAAK,EAAQ,CACpB,EAAU,KAAK,EAAQ,MAEvB,IAAK,KAAa,EACd,EAAO,KAAK,EAAS,EAAU,CAC/B,EAAU,KAAK,EAAQ,GAAW,MAI1C,MAAU,MAAM,OAAS,EAAO,oCAAsC,KAAK,OAAO,QAAQ,KAAO,UAAU,EAGtH,CAAC,CAEF,SAAS,EAAqB,EAAS,EAAO,EAAQ,CAClD,IAAI,EAAS,EAAM,WAAW,EAAS,EAAE,CAAE,EAAO,EAAO,CAEzD,GAAI,EACA,OAAO,IAAI,EAAoB,EAAO,CAI9C,IAAI,EAAiB,wCACjB,EAAmB,MAEvB,SAAS,EAAc,EAAM,CACzB,IAAI,EAAS,EAAE,CACX,EACA,EACA,EACA,EACA,EACA,EACA,EAEK,EAAK,MAAM,EAAe,CAEnC,IAAK,EAAM,EAAG,EAAS,EAAO,OAAQ,EAAM,EAAQ,IAChD,EAAQ,EAAO,GACf,EAAa,EAAM,QAAQ,IAAI,CAE/B,EAAM,EAAM,UAAU,EAAG,EAAW,CACpC,EAAQ,EAAM,UAAU,EAAa,EAAE,CAEnC,EAAM,OAAO,EAAE,EAAI,MACnB,EAAQ,EAAc,EAAM,EAGhC,EAAO,GAAO,EAGlB,OAAO,EAGX,SAAS,EAAe,EAAU,EAAQ,EAAM,CAC5C,IAAI,EACA,EAAS,EAAE,CAEf,IAAK,KAAW,EACZ,EAAO,GAAW,IAAI,EAAK,EAAQ,EAAS,GAAS,CAGzD,OAAO,EAGX,SAAS,EAAY,EAAS,EAAQ,EAAO,EAAS,CAE9C,MAAC,GAAW,EAAQ,aAAa,QAAU,EAAM,GAAK,OAAO,EAIjE,KAAI,EAAO,EAAQ,aAAa,QAAU,EAAM,GAAK,OAAO,CACxD,EACA,EAAO,EAAQ,aAAa,QAAU,EAAM,GAAK,OAAO,CACxD,EAAe,EAAE,CACjB,EAAO,GACP,EACA,EAAU,EAAE,CACZ,EAEJ,IAAqB,CAAC,EAAO,EAEzB,GAAQ,IACR,EAAc,EAAS,GAAM,CAG7B,IACA,EAAS,EAAqB,EAAS,EAAO,EAAO,EAGrD,IACA,EAAO,EAAc,EAAK,QAAQ,EAAkB,GAAG,CAAC,CAExD,AAGI,KAFA,EAAU,EAAM,aAAa,EAAS,CAAE,UAAW,GAAI,WAAY,GAAI,SAAU,GAAI,YAAa,EAAQ,eAAgB,GAAO,SAAU,GAAM,CAAE,EAAO,CAC1J,EAAQ,MAAQ,EACP,IAAI,EAAc,EAAS,EAAQ,EAGhD,EAAO,OAAS,EAEhB,EAAW,EAAe,EAAM,EAAS,EAAQ,CAE7C,EAAQ,WACR,EAAS,SAAW,IAAI,EAAgB,EAAS,GAAI,EAAQ,SAAS,EAGtE,EAAS,QACT,EAAK,OAAS,EAAK,QAAU,EAAE,CAC/B,EAAK,OAAO,MAAQ,EAAK,MACzB,EAAS,MAAM,SAAS,CACxB,OAAO,EAAS,OAGhB,EAAS,SACT,EAAO,IAGP,EAAK,OACL,EAAS,KAAO,EAAe,EAAK,KAAM,EAAS,EAAQ,EAG3D,EAAK,QACL,EAAS,MAAQ,EAAe,EAAK,MAAO,EAAS,EAAQ,EAG7D,EAAK,SACL,EAAS,OAAS,EAAe,EAAK,OAAQ,EAAS,EAAa,EAGpE,EAAK,MACL,EAAS,IAAM,EAAe,EAAK,IAAK,EAAS,EAAQ,EAG7D,EAAO,KAAK,EAAS,EAGrB,IACA,EAAQ,mBAAqB,GAGjC,IAAI,EAAW,EAAQ,SACvB,GAAI,GAAQ,GAAY,CAAC,EAAQ,aAAa,QAAU,EAAM,GAAK,OAAO,CAAE,CAExE,IAAK,EAAM,EAAG,EAAM,EAAS,OAAQ,IACjC,EAAa,GAAO,EAAS,GAGjC,IAAK,EAAM,EAAG,EAAM,EAAa,OAAQ,IACrC,EAAY,EAAa,GAAM,EAAQ,EAAO,EAAQ,GAKlE,SAAS,EAAK,EAAK,EAAQ,CACvB,IAAI,EACA,EACA,EACA,EAAQ,EAAM,oBAAoB,EAAE,CAAC,MAAM,KAAK,UAAW,EAAE,CAAC,CAKlE,IAHA,EAAS,EAAM,WAAW,EAAO,CACjC,EAAM,EAAE,EAAI,CAEP,EAAM,EAAG,EAAS,EAAI,OAAQ,EAAM,EAAQ,IAC7C,EAAO,EAAI,GACP,EAAK,WAAa,GAClB,EAAY,EAAM,EAAQ,EAAM,CAK5C,SAAS,EAAc,EAAS,EAAe,CAC3C,IAAI,EAAgB,EAAQ,mBAc5B,GAZI,IACA,EAAc,SAAS,CAEnB,EACA,OAAO,EAAQ,mBACR,EAAQ,gBACf,EAAQ,gBAAgB,qBAAqB,CAE7C,EAAQ,mBAAqB,MAIjC,EAAe,CACf,IAAI,EAAS,EAAM,eAAe,EAAE,EAAQ,CAAC,CACzC,GAAU,OAAO,EAAO,UAAY,GACpC,EAAO,SAAS,EAK5B,SAAS,EAAkB,EAAS,EAAgB,CAE3C,IAIL,EAAc,EAAS,EAAe,CAEtC,EAAsB,EAAS,EAAe,EAGlD,SAAS,EAAsB,EAAS,EAAgB,CACpD,IAAI,EAAW,EAAQ,SAEvB,GAAI,EACA,IAAK,IAAI,EAAM,EAAG,EAAS,EAAS,OAAQ,EAAM,EAAQ,IACtD,EAAkB,EAAS,GAAM,EAAe,CAK5D,SAAS,EAAO,EAAK,CACjB,IAAI,EAAK,EAIT,IAFA,EAAM,EAAE,EAAI,CAEP,EAAM,EAAG,EAAS,EAAI,OAAQ,EAAM,EAAQ,IAC7C,EAAkB,EAAI,GAAM,GAAM,CAI1C,SAAS,EAAO,EAAQ,EAAW,CAC/B,IAAI,EAAU,EAAO,QACjB,EAAgB,EAAQ,GAAG,mBAE3B,GACA,EAAK,EAAS,EAAc,OAAQ,EAAU,CAItD,SAAS,EAAwB,EAAO,EAAY,CAChD,IAAI,EAAS,EAAE,CACX,EAAM,EACN,EACA,EAEJ,GAAI,CAAC,EACD,OAAO,EAGX,GAAI,aAAiB,EAAiB,CAClC,IAAK,EAAS,EAAM,OAAQ,EAAM,EAAQ,IACtC,EAAO,EAAM,GACb,EAAO,GAAO,EAAK,IAAM,EAAK,IAAI,EAAW,CAAG,EAAK,GAEzD,EAAQ,OACD,aAAiB,IACxB,EAAQ,EAAM,IAAI,EAAW,EAGjC,OAAO,EAGX,EAAM,OAAS,EACf,EAAM,KAAO,EACb,EAAM,KAAK,QAAU,EACrB,EAAM,KAAK,OAAS,EACpB,EAAM,OAAS,EAEf,EAAM,WAAa,SAAS,EAAQ,CAKhC,OAJM,aAAkB,IACpB,EAAS,IAAI,EAAiB,EAAO,EAGlC,GAGX,EAAM,oBAAsB,SAAS,EAAO,CACxC,IAAI,EAAa,EAAM,KAAK,uBAAuB,OAAO,EAAM,CAEhE,SAAS,EAAc,EAAM,CACzB,IAAI,EAAG,EAEP,IAAK,EAAI,EAAG,EAAI,EAAK,OAAQ,IACzB,EAAK,GAAG,eAAe,CAEvB,EAAW,EAAK,GAAG,SAEnB,EAAS,OAAO,CAEhB,EAAK,GAAG,MAAQ,EAAS,MAAM,CAE/B,EAAc,EAAK,GAAG,MAAM,CAUpC,OANA,EAAW,OAAO,CAElB,EAAc,EAAW,MAAM,CAAC,CAEhC,EAAW,MAAM,YAAc,EAExB,EAAW,SAGvB,OAAO,MAAM,OAAO,CACvB,IAAA,EAAe"}