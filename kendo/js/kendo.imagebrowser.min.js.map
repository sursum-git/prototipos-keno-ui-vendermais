{"version":3,"file":"kendo.imagebrowser.min.js","names":[],"sources":["../../src/kendo.imagebrowser.js"],"sourcesContent":["import \"./kendo.filebrowser.js\";\nimport \"./kendo.icons.js\";\n\nexport const __meta__ = {\n    id: \"imagebrowser\",\n    name: \"ImageBrowser\",\n    category: \"web\",\n    description: \"\",\n    hidden: true,\n    depends: [ \"filebrowser\", \"icons\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        FileBrowser = kendo.ui.FileBrowser,\n        isPlainObject = $.isPlainObject,\n        extend = $.extend,\n        isFunction = kendo.isFunction,\n        trimSlashesRegExp = /(^\\/|\\/$)/g,\n        ERROR = \"error\",\n        NS = \".kendoImageBrowser\",\n        NAMEFIELD = \"name\",\n        SIZEFIELD = \"size\",\n        TYPEFIELD = \"type\",\n        DEFAULTSORTORDER = { field: TYPEFIELD, dir: \"asc\" },\n        EMPTYTILE = kendo.template(({ text }) => `<div class=\"k-listview-item k-listview-item-empty\"><span class=\"k-file-preview\">${kendo.ui.icon({ icon: \"none\", iconClass: \"k-file-icon\" })}</span><span class=\"k-file-name\">${kendo.htmlEncode(text)}</span></div>`);\n\n    extend(true, kendo.data, {\n        schemas: {\n            \"imagebrowser\": {\n                data: function(data) {\n                    return data.items || data || [];\n                },\n                model: {\n                    id: \"name\",\n                    fields: {\n                        name: \"name\",\n                        size: \"size\",\n                        type: \"type\"\n                    }\n                }\n            }\n        }\n    });\n\n    extend(true, kendo.data, {\n        transports: {\n            \"imagebrowser\": kendo.data.RemoteTransport.extend({\n                init: function(options) {\n                    kendo.data.RemoteTransport.fn.init.call(this, $.extend(true, {}, this.options, options));\n                },\n                _call: function(type, options) {\n                    options.data = $.extend({}, options.data, { path: this.options.path() });\n\n                    if (isFunction(this.options[type])) {\n                        this.options[type].call(this, options);\n                    } else {\n                        kendo.data.RemoteTransport.fn[type].call(this, options);\n                    }\n                },\n                read: function(options) {\n                    this._call(\"read\", options);\n                },\n                create: function(options) {\n                    this._call(\"create\", options);\n                },\n                destroy: function(options) {\n                    this._call(\"destroy\", options);\n                },\n                update: function() {\n                    //updates are handled by the upload\n                },\n                options: {\n                    read: {\n                        type: \"POST\"\n                    },\n                    update: {\n                        type: \"POST\"\n                    },\n                    create: {\n                        type: \"POST\"\n                    },\n                    destroy: {\n                        type: \"POST\"\n                    }\n                }\n            })\n        }\n    });\n\n    function offsetTop(element) {\n        return element.offsetTop - $(element).height();\n    }\n\n    function concatPaths(path, name) {\n        if (path === undefined || !path.match(/\\/$/)) {\n            path = (path || \"\") + \"/\";\n        }\n        return path + name;\n    }\n\n    function sizeFormatter(value) {\n        if (!value) {\n            return \"\";\n        }\n\n        var suffix = \" bytes\";\n\n        if (value >= 1073741824) {\n            suffix = \" GB\";\n            value /= 1073741824;\n        } else if (value >= 1048576) {\n            suffix = \" MB\";\n            value /= 1048576;\n        } else if (value >= 1024) {\n            suffix = \" KB\";\n            value /= 1024;\n        }\n\n        return Math.round(value * 100) / 100 + suffix;\n    }\n\n    var ImageBrowser = FileBrowser.extend({\n        init: function(element, options) {\n            var that = this;\n\n            options = options || {};\n\n            FileBrowser.fn.init.call(that, element, options);\n\n            that.element.addClass(\"k-imagebrowser\");\n        },\n\n        options: {\n            name: \"ImageBrowser\",\n            fileTypes: \"*.png,*.gif,*.jpg,*.jpeg\"\n        },\n\n        value: function() {\n            var that = this,\n                selected = that._selectedItem(),\n                path,\n                imageUrl = that.options.transport.imageUrl;\n\n            if (selected && selected.get(TYPEFIELD) === \"f\") {\n                path = concatPaths(that.path(), selected.get(NAMEFIELD)).replace(trimSlashesRegExp, \"\");\n                if (imageUrl) {\n                    path = isFunction(imageUrl) ? imageUrl(path) : kendo.format(imageUrl, encodeURIComponent(path));\n                }\n                return path;\n            }\n        },\n\n        _fileUpload: function(e) {\n            var that = this,\n                options = that.options,\n                fileTypes = options.fileTypes,\n                filterRegExp = new RegExp((\"(\" + fileTypes.split(\",\").join(\")|(\") + \")\").replace(/\\*\\./g , \".*.\"), \"i\"),\n                fileName = e.files[0].name,\n                fileSize = e.files[0].size,\n                fileNameField = NAMEFIELD,\n                sizeField = SIZEFIELD,\n                file;\n\n            if (filterRegExp.test(fileName)) {\n                e.data = { path: that.path() };\n\n                file = that._createFile(fileName, fileSize);\n\n                if (!file) {\n                    e.preventDefault();\n                } else {\n                    file._uploading = true;\n\n                    that.upload.one(\"error\", function() {\n                        file = undefined;\n                    });\n\n                    that.upload.one(\"success\", function(e) {\n                        if (file) {\n                            delete file._uploading;\n\n                            var model = that._insertFileToList(file);\n\n                            model.set(fileNameField, e.response[that._getFieldName(fileNameField)]);\n                            model.set(sizeField, e.response[that._getFieldName(sizeField)]);\n\n                            that._tiles = that.listView.items().filter(\"[\" + kendo.attr(\"type\") + \"=f]\");\n                            that._scroll();\n                        }\n                    });\n                }\n            } else {\n                e.preventDefault();\n                that._showMessage(kendo.htmlEncode(kendo.format(options.messages.invalidFileType, fileName, fileTypes)));\n            }\n        },\n\n        _content: function() {\n            var that = this;\n\n            that.list = $('<div class=\"k-filemanager-listview\" />')\n                .appendTo(that.element)\n                .on(\"dblclick\" + NS, \".k-listview-item\", that._dblClick.bind(that));\n\n            that.listView = new kendo.ui.ListView(that.list, {\n                layout: \"flex\",\n                flex: {\n                    direction: \"row\",\n                    wrap: \"wrap\"\n                },\n                dataSource: that.dataSource,\n                template: that._itemTmpl(),\n                editTemplate: that._editTmpl(),\n                selectable: true,\n                autoBind: false,\n                dataBinding: function(e) {\n\n                    that.toolbar.find(\".k-i-x,.k-svg-i-x\").parent().addClass(\"k-disabled\");\n\n                    if (e.action === \"remove\" || e.action === \"sync\") {\n                        e.preventDefault();\n                        kendo.ui.progress(that.listView.content, false);\n                        /* If there are no files left the loader is displayed over the wrapper instead of the content. */\n                        kendo.ui.progress(that.listView.wrapper, false);\n                    }\n                },\n                dataBound: function() {\n                    if (that.dataSource.view().length) {\n                        that._tiles = this.items().filter(\"[\" + kendo.attr(\"type\") + \"=f]\");\n                        that._scroll();\n                    } else {\n                        this.content.append(EMPTYTILE({ text: that.options.messages.emptyFolder }));\n                    }\n                },\n                change: that._listViewChange.bind(that)\n            });\n\n            that.listView.content.on(\"scroll\" + NS, that._scroll.bind(that));\n        },\n\n        _dataSource: function() {\n            var that = this,\n                options = that.options,\n                transport = options.transport,\n                typeSortOrder = extend({}, DEFAULTSORTORDER),\n                nameSortOrder = { field: NAMEFIELD, dir: \"asc\" },\n                schema,\n                dataSource = {\n                    type: transport.type || \"imagebrowser\",\n                    sort: [typeSortOrder, nameSortOrder]\n                };\n\n            if (isPlainObject(transport)) {\n                transport.path = that.path.bind(that);\n                dataSource.transport = transport;\n            }\n\n            if (isPlainObject(options.schema)) {\n                dataSource.schema = options.schema;\n            } else if (transport.type && isPlainObject(kendo.data.schemas[transport.type])) {\n                schema = kendo.data.schemas[transport.type];\n            }\n\n            if (that.dataSource && that._errorHandler) {\n                that.dataSource.unbind(ERROR, that._errorHandler);\n            } else {\n                that._errorHandler = that._error.bind(that);\n            }\n\n            that.dataSource = kendo.data.DataSource.create(dataSource)\n                .bind(ERROR, that._errorHandler);\n        },\n\n        _loadImage: function(li) {\n            var that = this,\n                element = $(li),\n                dataItem = that.dataSource.getByUid(element.attr(kendo.attr(\"uid\"))),\n                name = dataItem.get(NAMEFIELD),\n                thumbnailUrl = that.options.transport.thumbnailUrl,\n                img = $(\"<img />\", { alt: name }),\n                urlJoin = \"?\";\n\n            if (dataItem._uploading) {\n                return;\n            }\n\n            img.hide()\n               .on(\"load\" + NS, function() {\n                   $(this).prev().remove().end().addClass(\"k-image k-file-image\").fadeIn();\n               });\n\n            element.find(\".k-i-loading\").after(img);\n\n            if (isFunction(thumbnailUrl)) {\n                thumbnailUrl = thumbnailUrl(that.path(), encodeURIComponent(name));\n            } else {\n                if (thumbnailUrl.indexOf(\"?\") >= 0) {\n                    urlJoin = \"&\";\n                }\n\n                thumbnailUrl = thumbnailUrl + urlJoin + \"path=\" + encodeURIComponent(that.path() + name);\n                if (dataItem._override) {\n                    thumbnailUrl += \"&_=\" + new Date().getTime();\n                    delete dataItem._override;\n                }\n            }\n\n            // IE8 will trigger the load event immediately when the src is assigned\n            // if the image is loaded from the cache\n            img.attr(\"src\", thumbnailUrl);\n\n            li.loaded = true;\n        },\n\n        _scroll: function() {\n            var that = this;\n            if (that.options.transport && that.options.transport.thumbnailUrl) {\n                clearTimeout(that._timeout);\n\n                that._timeout = setTimeout(function() {\n\n                    var height = kendo._outerHeight(that.listView.content),\n                        viewTop = that.listView.content.scrollTop(),\n                        viewBottom = viewTop + height;\n\n                    that._tiles.each(function() {\n                        var top = offsetTop(this),\n                            bottom = top + this.offsetHeight;\n\n                        if ((top >= viewTop && top < viewBottom) || (bottom >= viewTop && bottom < viewBottom)) {\n                            that._loadImage(this);\n                        }\n\n                        if (top > viewBottom) {\n                            return false;\n                        }\n                    });\n\n                    that._tiles = that._tiles.filter(function() {\n                        return !this.loaded;\n                    });\n\n                }, 250);\n            }\n        },\n\n        _itemTmpl: function() {\n            var that = this;\n\n            const result = (data) => {\n                const showLoading = that.options.transport && that.options.transport.thumbnailUrl;\n\n                return `<div class=\"k-listview-item\" ${kendo.attr(\"uid\")}=\"${data.uid}\" ${kendo.attr(\"type\")}=\"${data[TYPEFIELD]}\">` +\n                    `${data[TYPEFIELD] === 'd' ?\n                        `<div class=\"k-file-preview\">${kendo.ui.icon({ icon: \"folder\", iconClass: \"k-file-icon\" })}</div>` :\n                        `<div class=\"k-file-preview\">${showLoading ? '<span class=\"k-file-icon k-icon k-i-loading\"></span>' : kendo.ui.icon({ icon: \"file\", iconClass: \"k-file-icon\" }) }</div>`}` +\n                    `<span class=\"k-file-name\">${data[NAMEFIELD]}</span>` +\n                    `${data[TYPEFIELD] === 'f' ? `<span class=\"k-file-size\">${sizeFormatter(data[SIZEFIELD])}</span>` : '' }` +\n                `</div>`;\n            };\n\n            return kendo.template(result);\n        }\n    });\n\n    kendo.ui.plugin(ImageBrowser);\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}