{"version":3,"file":"kendo.avatar.min.js","names":[],"sources":["../../src/kendo.avatar.js"],"sourcesContent":["import \"./kendo.core.js\";\nimport \"./kendo.icons.js\";\n\nexport const __meta__ = {\n    id: \"avatar\",\n    name: \"Avatar\",\n    category: \"web\",\n    description: \"The Avatar component represents an icon, text, or image rendered in a styled container.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        DASH = \"-\",\n        ICON_SELECTOR = \".k-icon,.k-svg-icon\";\n\n    var AVATAR_STYLES = {\n        widget: \"k-widget\",\n        avatar: \"k-avatar\",\n        bordered: \"k-avatar-bordered\"\n    };\n\n    var AVATAR_TYPE = {\n        icon: \"icon\",\n        image: \"image\",\n        text: \"text\"\n    };\n\n    var Avatar = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            options = options || {};\n\n            Widget.fn.init.call(that, element, options);\n\n            this._fromMarkup();\n            this._wrapper();\n\n            if (this._markupContent && this._markupContent.length > 0) {\n                this._contentFromMarkup();\n            } else {\n                this._content();\n            }\n        },\n\n        options: {\n            name: \"Avatar\",\n            alt: null,\n            border: false,\n            className: null,\n            fillMode: undefined,\n            icon: null,\n            image: null,\n            rounded: undefined,\n            size: undefined,\n            style: null,\n            text: null,\n            themeColor: undefined,\n            type: AVATAR_TYPE.text\n        },\n\n        events: [ ],\n\n        setOptions: function(options) {\n            var currentOptions = this.options,\n                wrapper = this.wrapper,\n                updatedOptions = $.extend({}, currentOptions, options);\n\n            Widget.fn.setOptions.call(this, options);\n\n            if (!updatedOptions[updatedOptions.type]) {\n                currentOptions = this._optionsFromWrapper(currentOptions);\n            }\n            if (updatedOptions.border === false) {\n                wrapper.removeClass(AVATAR_STYLES.bordered);\n            }\n\n            wrapper.empty();\n\n            this.options = currentOptions;\n            this._wrapper();\n            this._content();\n        },\n\n        _content: function() {\n            var span = this.wrapper.find(\"> span\"),\n                options = this.options,\n                type = options.type,\n                content;\n\n            if (type === AVATAR_TYPE.icon) {\n                content = $(kendo.html.renderIcon({ icon: options.icon }));\n            } else if (type === AVATAR_TYPE.image) {\n                content = $(\"<img src='\" + options.image + \"'>\");\n\n                if (options.alt) {\n                    content.attr(\"alt\", options.alt);\n                }\n            } else if (type === AVATAR_TYPE.text) {\n                content = $(\"<span>\" + options.text + \"</span>\");\n            }\n\n            span.append(content);\n        },\n\n        _contentFromMarkup: function() {\n            var span = this.wrapper.find(\"> span\").first();\n\n            span.append(this._markupContent);\n        },\n\n        _fromMarkup: function() {\n            var element = this.element,\n                options = this.options,\n                image, icon;\n\n            element.children().slice(1).remove();\n\n            image = element.children(\"img\");\n            icon = element.children(ICON_SELECTOR);\n\n            if (image.length > 0 ) {\n                options.type = AVATAR_TYPE.image;\n                this._markupContent = image.first();\n            } else if (icon.length > 0) {\n                options.type = AVATAR_TYPE.icon;\n                this._markupContent = icon.first();\n            } else if (element.children().length > 0) {\n                options.type = AVATAR_TYPE.text;\n                this._markupContent = element.children();\n            }\n        },\n\n        _optionsFromWrapper: function(updatedOptions) {\n            var wrapper = this.wrapper,\n                classes, image;\n\n            if (updatedOptions.type === AVATAR_TYPE.text) {\n                updatedOptions.text = wrapper.text().trim();\n            } else if (updatedOptions.type === AVATAR_TYPE.icon) {\n                classes = wrapper.find(ICON_SELECTOR).attr(\"class\").split(/\\s+/);\n\n                classes.forEach(function(name) {\n                    if (name.indexOf(\"k-i-\") === 0) {\n                        updatedOptions.icon = name.substring(4);\n                    } else if (name.indexOf(\"k-svg-i-\") === 0) {\n                        updatedOptions.icon = name.replace(/^k-svg-i-/,\"\");\n                    }\n                });\n            } else if (updatedOptions.type === AVATAR_TYPE.image) {\n                image = wrapper.find(\"img\");\n                updatedOptions.image = image.attr(\"src\");\n\n                if (image.attr(\"alt\")) {\n                    updatedOptions.alt = image.attr(\"alt\");\n                }\n            }\n\n            return updatedOptions;\n        },\n\n        _wrapper: function() {\n            var wrapper = this.element,\n                options = this.options,\n                span = $(\"<span>\");\n\n            this.wrapper = wrapper;\n            wrapper.addClass(AVATAR_STYLES.avatar);\n\n            this._applyCssClasses();\n\n            if (options.border) {\n                wrapper.addClass(AVATAR_STYLES.bordered);\n            }\n            if (options.style) {\n                wrapper.css(options.style);\n            }\n            if (options.className) {\n                wrapper.addClass(options.className);\n            }\n\n            span.addClass(AVATAR_STYLES.avatar + DASH + options.type);\n            wrapper.prepend(span);\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"Avatar\", \"k-avatar-\");\n\n    kendo.cssProperties.registerValues(\"Avatar\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    kendo.ui.plugin(Avatar);\n\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}