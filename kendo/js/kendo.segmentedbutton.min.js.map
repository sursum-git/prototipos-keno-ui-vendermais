{"version":3,"file":"kendo.segmentedbutton.min.js","names":[],"sources":["../../src/kendo.segmentedbutton.js"],"sourcesContent":["import \"./kendo.core.js\";\n\nexport const __meta__ = {\n    id: \"segmentedbutton\",\n    name: \"SegmentedButton\",\n    category: \"web\",\n    description: \"The SegmentedButton is an internal component that provides a segmented control UI.\",\n    depends: [\"core\"]\n};\n\n(function($, undefined) {\n    const kendo = window.kendo;\n    const encode = kendo.htmlEncode;\n    const Widget = kendo.ui.Widget;\n    const ns = \".kendoSegmentedButton\";\n    const CLICK = \"click\";\n    const SELECT = \"select\";\n    const HOVER_CLASS = \"k-hover\";\n    const FOCUS_CLASS = \"k-focus\";\n    const DISABLED_CLASS = \"k-disabled\";\n    const SELECTED_CLASS = \"k-selected\";\n    const BUTTON_SELECTOR = \".k-segmented-control-button\";\n\n    const SegmentedButton = Widget.extend({\n        init: function(element, options) {\n            const that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._items = that.options.items || [];\n            that._selectedValue = that.options.selected;\n\n            that._createIconClassMap();\n            that._render();\n            that._bindEvents();\n\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"SegmentedButton\",\n            items: [],\n            selected: null,\n            size: undefined,\n            stretched: false\n        },\n\n        events: [\n            SELECT\n        ],\n\n        _createIconClassMap: function() {\n            const that = this;\n            const items = that._items;\n            const map = that._iconClassMap = new Map();\n\n            items.forEach((item) => {\n                if (item.iconClassOnSelection) {\n                    map.set(item.value, item.iconClassOnSelection);\n                }\n            });\n        },\n\n        _render: function() {\n            const that = this;\n            const element = that.element;\n            const items = that._items;\n            const size = that.options.size || \"medium\";\n            const sizeEntry = kendo.cssProperties.sizeValues.find(([name]) => name === size);\n            const sizeClass = sizeEntry ? sizeEntry[1] : \"md\";\n            const stretched = that.options.stretched;\n\n            element.addClass(`k-segmented-control k-segmented-control-${sizeClass}${stretched ? \" k-segmented-control-stretched\" : \"\"}`);\n\n            // Add thumb element\n            const thumb = $(\"<div>\").addClass(\"k-segmented-control-thumb\");\n            element.append(thumb);\n\n            // Add buttons\n            items.forEach((item, index) => {\n                const button = that._renderButton(item, index);\n                element.append(button);\n            });\n\n            that._calculateThumbPosition();\n        },\n\n        _renderButton: function(item, index) {\n            const that = this;\n            const isSelected = item.value === that._selectedValue;\n            const isDisabled = item.disabled === true;\n\n            const button = $(\"<button>\")\n                .addClass(\"k-segmented-control-button\")\n                .attr(\"data-value\", item.value)\n                .attr(\"data-button-index\", index)\n                .toggleClass(DISABLED_CLASS, isDisabled)\n                .toggleClass(SELECTED_CLASS, isSelected && !isDisabled)\n                .prop(\"disabled\", isDisabled);\n\n            if (item.icon) {\n                const icon = $(kendo.html.renderIcon(item.icon, \"k-segmented-control-button-icon k-icon\"));\n                if (isSelected && !isDisabled) {\n                    const specialClass = that._iconClassMap.get(item.value);\n                    icon.addClass(specialClass);\n                }\n                button.append(icon);\n            }\n\n            if (item.text) {\n                const text = $(\"<span>\")\n                    .addClass(\"k-segmented-control-button-text\")\n                    .text(encode(item.text));\n                button.append(text);\n            }\n\n            return button;\n        },\n\n        _calculateThumbPosition: function() {\n            const that = this;\n            const selected = that._selectedValue;\n            const totalWidth = kendo._outerWidth(that.element);\n            const totalButtonCount = that._items?.length || 0;\n\n            if (!totalWidth) {\n                return;\n            }\n\n            const buttons = that.element.find(\"button[data-value]\");\n            const button = buttons.filter(`[data-value=${selected}]`);\n            const index = button.data(\"button-index\");\n            const thumb = that.element.find(\".k-segmented-control-thumb\");\n            const buttonWidth = kendo._outerWidth(button);\n            let left = 0;\n            let right = 0;\n            let spacing = 0;\n\n            if (that.options.stretched) {\n                const buttonsRightFromTarget = (totalButtonCount - 1 - index);\n\n                left = (index * buttonWidth);\n                right = (buttonsRightFromTarget * buttonWidth);\n                spacing = (totalWidth - (totalButtonCount * buttonWidth)) / 2; // left and right padding from border;\n            } else {\n                let totalButtonWidth = 0;\n                buttons.each((btnIndex, button) => {\n                    const elementRef = $(button);\n                    totalButtonWidth += kendo._outerWidth(elementRef);\n\n                    if (btnIndex < index) {\n                        left += kendo._outerWidth(elementRef);\n                    }\n                    if (btnIndex > index) {\n                        right += kendo._outerWidth(elementRef);\n                    }\n                });\n                spacing = (totalWidth - totalButtonWidth) / 2; // left and right padding from border;\n            }\n\n            thumb.css({\n                left: left + spacing,\n                right: right + spacing\n            });\n        },\n\n        _bindEvents: function() {\n            const that = this;\n\n            that.element\n                .on(CLICK + ns, BUTTON_SELECTOR, function(e) {\n                    const button = $(e.currentTarget);\n\n                    if (button.hasClass(DISABLED_CLASS)) {\n                        return;\n                    }\n\n                    const value = button.data(\"value\");\n\n                    if (value !== that._selectedValue) {\n                        that.select(value);\n                    }\n                })\n                .on(\"mouseenter\" + ns, BUTTON_SELECTOR, function(e) {\n                    const button = $(e.currentTarget);\n                    if (!button.hasClass(DISABLED_CLASS)) {\n                        button.addClass(HOVER_CLASS);\n                    }\n                })\n                .on(\"mouseleave\" + ns, BUTTON_SELECTOR, function(e) {\n                    $(e.currentTarget).removeClass(HOVER_CLASS);\n                })\n                .on(\"focus\" + ns, BUTTON_SELECTOR, function(e) {\n                    const button = $(e.currentTarget);\n                    if (!button.hasClass(DISABLED_CLASS)) {\n                        button.addClass(FOCUS_CLASS);\n                    }\n                })\n                .on(\"blur\" + ns, BUTTON_SELECTOR, function(e) {\n                    $(e.currentTarget).removeClass(FOCUS_CLASS);\n                });\n        },\n\n        select: function(value) {\n            const that = this;\n\n            if (value === undefined) {\n                return that._selectedValue;\n            }\n\n            const item = that._items.find(i => i.value === value);\n\n            if (!item) {\n                return;\n            }\n\n            const eventArgs = {\n                value: value,\n                item: item\n            };\n\n            if (that.trigger(SELECT, eventArgs)) {\n                return; // Event was prevented\n            }\n\n            that._selectedValue = value;\n            that._updateSelectedState();\n        },\n\n        _updateSelectedState: function() {\n            const that = this;\n            const buttons = that.element.find(BUTTON_SELECTOR);\n            const selectedValue = that._selectedValue;\n\n            buttons.each((_, btnElement) => {\n                const btn = $(btnElement);\n                that._removeSelectionClasses(btn);\n            });\n\n            const selectedButton = buttons.filter(`[data-value=\"${selectedValue}\"]`);\n            that._addSelectionClasses(selectedButton, selectedValue);\n\n            that._calculateThumbPosition();\n        },\n\n        _addSelectionClasses: function(button, selectedValue) {\n            const that = this;\n            const specialSelectedIconClass = that._iconClassMap.get(selectedValue);\n\n            button.addClass(SELECTED_CLASS);\n\n            const icon = button.find(\".k-icon\");\n\n            if (icon.length && specialSelectedIconClass) {\n                icon.addClass(specialSelectedIconClass);\n            }\n        },\n\n        _removeSelectionClasses: function(button) {\n            const that = this;\n            const value = button.data(\"value\");\n            const specialSelectedIconClass = that._iconClassMap.get(value);\n\n            button.removeClass(SELECTED_CLASS);\n\n            const icon = button.find(\".k-icon\");\n\n            if (icon.length && specialSelectedIconClass) {\n                icon.removeClass(specialSelectedIconClass);\n            }\n        },\n\n        value: function(value) {\n            const that = this;\n\n            if (value === undefined) {\n                return that._selectedValue;\n            }\n\n            that._selectedValue = value;\n            that._updateSelectedState();\n        },\n\n        enable: function(value, enable) {\n            const that = this;\n            const button = that.element.find(BUTTON_SELECTOR).filter(`[data-value=\"${value}\"]`);\n\n            if (!button.length) {\n                return;\n            }\n\n            const isEnabled = enable !== false;\n            const item = that._items.find(i => i.value === value);\n\n            if (item) {\n                item.disabled = !isEnabled;\n            }\n\n            button\n                .toggleClass(DISABLED_CLASS, !isEnabled)\n                .prop(\"disabled\", !isEnabled);\n\n            // Remove hover/focus classes when disabling\n            if (!isEnabled) {\n                button.removeClass(HOVER_CLASS + \" \" + FOCUS_CLASS);\n            }\n        },\n\n        destroy: function() {\n            const that = this;\n\n            that.element.off(ns);\n\n            Widget.fn.destroy.call(that);\n        }\n    });\n\n    kendo.ui.plugin(SegmentedButton);\n})(window.kendo.jQuery);\n\nexport default kendo;\n"],"mappings":"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"}