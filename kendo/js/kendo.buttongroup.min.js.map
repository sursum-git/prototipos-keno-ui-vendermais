{"version":3,"file":"kendo.buttongroup.min.js","names":[],"sources":["../../src/kendo.buttongroup.js"],"sourcesContent":["import \"./kendo.core.js\";\nimport \"./kendo.togglebutton.js\";\nimport \"./kendo.button.js\";\n\nexport const __meta__ = {\n    id: \"buttongroup\",\n    name: \"ButtonGroup\",\n    category: \"web\",\n    description: \"The Kendo ButtonGroup widget is a linear set of grouped buttons.\",\n    depends: [ \"core\", \"togglebutton\", \"button\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo;\n    var ui = kendo.ui;\n    var Widget = ui.Widget;\n    var ToggleButton = ui.ToggleButton;\n    var Button = ui.Button;\n    var keys = kendo.keys;\n    var NS = \".kendoButtonGroup\";\n    var KBUTTONGROUP = \"k-button-group\";\n    var KBUTTON = \"k-button\";\n    var SELECTED = \"k-selected\";\n    var DISABLED = \"k-disabled\";\n    var KFOCUS = \"k-focus\";\n    var SELECT = \"select\";\n    var KEYDOWN = \"keydown\";\n    var ARIA_DISABLED = \"aria-disabled\";\n    var EMPTY = \" \";\n    var DOT = \".\";\n    var NONE = \"none\";\n    var SINGLE = \"single\";\n    var MULTIPLE = \"multiple\";\n    var TOGGLE = \"toggle\";\n    var FOCUS = \"focus\";\n\n    var ButtonGroup = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that.wrapper = that.element;\n\n            that.selectedIndices = [];\n\n            that._buttons = that._renderItems(that.options.items);\n            const fillModeClass = options && options.fillMode ? ' k-button-group-' + options.fillMode : '';\n            that.element\n                .addClass(KBUTTONGROUP)\n                .attr(\"role\", \"group\");\n\n            if (fillModeClass) {\n                that.element.addClass(fillModeClass);\n            }\n\n            that._enable = true;\n\n            if (!that.options.enable || !that.options.enabled) {\n                that._enable = false;\n                that.element\n                        .attr(ARIA_DISABLED, true)\n                        .addClass(DISABLED);\n\n                that._buttons.forEach((b) => {\n                    b.enable(false);\n                });\n            }\n\n            if (that.options.selection !== NONE) {\n                that.select(that.options.index);\n            }\n\n            that._attachEvents();\n        },\n\n        events: [\n            SELECT\n        ],\n\n        options: {\n            name: \"ButtonGroup\",\n            selection: SINGLE,\n            index: -1,\n            enable: true,\n            enabled: true,\n            preventKeyNav: false,\n            size: undefined,\n            rounded: undefined,\n            fillMode: undefined,\n            themeColor: undefined\n        },\n\n        badge: function(item, value) {\n            var that = this,\n                element = that.element,\n                button = !isNaN(item) ? that._buttons[item] : element.find(item).getKendoToggleButton() || element.find(item).getKendoButton(),\n                validValue = value || value === 0,\n                badge, badgeEl;\n\n            if (!button) {\n                return;\n            }\n\n            badge = button.badge;\n\n            if (!badge && validValue) {\n                button._badge({ text: kendo.htmlEncode(value) });\n                return kendo.htmlEncode(value);\n            }\n\n            if (validValue) {\n                badge.text(kendo.htmlEncode(value));\n            } else if (value === false) {\n                button.badge = null;\n                badgeEl = badge.element;\n                badge.destroy();\n                badgeEl.empty().remove();\n                return;\n            }\n\n            return badge ? badge.text() : null;\n        },\n\n        current: function() {\n            return this.element.find(DOT + SELECTED);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.element.off(NS);\n\n            that.element.find(DOT + KBUTTON).each(function(i, el) {\n                var component = $(el).getKendoToggleButton() || $(el).getKendoButton();\n\n                if (component) {\n                    component.destroy();\n                }\n            });\n\n            Widget.fn.destroy.call(that);\n        },\n\n        enable: function(enable) {\n            if (typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            this.element\n                    .attr(ARIA_DISABLED, !enable)\n                    .toggleClass(DISABLED, !enable);\n\n            this._buttons.forEach((b) => {\n                var focused = b.element.hasClass(KFOCUS) || b.element.is(\":focus\");\n\n                b.enable(enable);\n\n                if (focused) {\n                    b.element.removeAttr(\"disabled\").addClass(\"k-focus\").trigger(\"focus\");\n                }\n            });\n\n            this._enable = this.options.enable = enable;\n        },\n\n        select: function(el) {\n            var that = this,\n                button,\n                index = -1;\n\n            if (this.options.selection === NONE || el === undefined || el === -1) {\n                return;\n            }\n\n            if (typeof el === \"number\") {\n                index = el;\n            } else if (el.nodeType) {\n                el = $(el);\n                index = el.index();\n            } else {\n                index = el.index();\n            }\n\n            button = that._buttons[index];\n\n            if (!button) {\n                return;\n            }\n\n            if (that.options.selection === MULTIPLE) {\n                if (el.length > 1) {\n                    el.each((i, element) => {\n                        var idx = $(element).index();\n\n                        that._buttons[idx].toggle();\n                        that._toggleIndex(idx);\n                    });\n                } else {\n                    that._buttons[index].toggle();\n                    that._toggleIndex(index);\n                }\n            } else {\n                that._resetIndexes(index);\n            }\n        },\n\n        _addButton: function(el, options) {\n            if (this.options.selection === NONE || (options.command && !options.togglable)) {\n                delete options.selected;\n\n                return new Button(el, options);\n            } else {\n                var btn = new ToggleButton(el, options);\n\n                btn.bind(TOGGLE, this._select.bind(this, el));\n\n                return btn;\n            }\n        },\n\n        _attachEvents: function() {\n            if (!this.options.preventKeyNav) {\n                this.element.on(KEYDOWN + NS, this._keyDown.bind(this));\n            }\n        },\n\n        _keyDown: function(e) {\n            var that = this,\n                buttonGroup = $(that.element),\n                focusableItems = buttonGroup.find(DOT + KBUTTON),\n                focusedElement = buttonGroup.find(\":focus\"),\n                currentIndex = focusableItems.index(focusedElement),\n                isRtl = kendo.support.isRtl(that.element),\n                itemToFocus;\n\n            if ((e.keyCode === keys.LEFT && !isRtl) || (e.keyCode === keys.RIGHT && isRtl)) {\n                itemToFocus = currentIndex === 0 ? focusableItems.eq(focusableItems.length - 1) : $(focusableItems[currentIndex - 1]);\n                itemToFocus.trigger(FOCUS);\n                e.preventDefault();\n            } else if ((e.keyCode === keys.LEFT && isRtl) || (e.keyCode === keys.RIGHT && !isRtl)) {\n                itemToFocus = currentIndex + 1 === focusableItems.length ? focusableItems.eq(0) : $(focusableItems[currentIndex + 1]);\n                itemToFocus.trigger(FOCUS);\n                e.preventDefault();\n            }\n        },\n\n        _decorateButtons: function(buttons) {\n            if (buttons.length) {\n                $(buttons[0].element).addClass(\"k-group-start\");\n                $(buttons[buttons.length - 1].element).addClass(\"k-group-end\");\n            }\n        },\n\n        _renderItems: function(items) {\n            var that = this,\n                groupOptions = that.options,\n                children = that.element.children(),\n                buttons = [];\n\n            if (children.length > 0) {\n                children.each(function(index) {\n                    var el = $(this),\n                        image = el.find(\"img\").addClass(\"k-image\"),\n                        disabled = el.is(\"[disabled]\") || el.hasClass(DISABLED),\n                        options = {\n                            badge: kendo.attrValue(el, \"badge\"),\n                            icon: !image[0] ? kendo.attrValue(el, \"icon\") : null,\n                            disabled: disabled,\n                            selected: !disabled ? el.is(DOT + SELECTED) : false,\n                            size: groupOptions.size,\n                            rounded: groupOptions.rounded,\n                            fillMode: groupOptions.fillMode,\n                            themeColor: groupOptions.themeColor\n                        };\n\n                    buttons.push(that._addButton(el, options));\n\n                    if (options.selected) {\n                        that.selectedIndices.push(index);\n                    }\n                });\n            }\n\n            if (!items) {\n                that._decorateButtons(buttons);\n                return buttons;\n            }\n\n            items.forEach(function(item, index) {\n                var text = item.text ? item.encoded === false ? item.text : kendo.htmlEncode(item.text) : \"\",\n                    el = item.url ? $(\"<a href=\" + kendo.sanitizeLink(item.url) + \">\") : $(\"<button>\");\n\n                el.html(text);\n\n                if (item.attributes) {\n                    el.attr(item.attributes);\n                }\n\n                item = $.extend({}, item, {\n                    size: groupOptions.size,\n                    rounded: groupOptions.rounded,\n                    fillMode: groupOptions.fillMode,\n                    themeColor: groupOptions.themeColor\n                });\n\n                el.appendTo(that.element);\n                buttons.push(that._addButton(el, item));\n\n                if (item.selected) {\n                    that.selectedIndices.push(index);\n                }\n            });\n\n            that._decorateButtons(buttons);\n\n            return buttons;\n        },\n\n        _resetIndexes: function(index) {\n            this.selectedIndices = [];\n            this._buttons.forEach((b) => {\n                b.toggle(false);\n            });\n\n            this._buttons[index].toggle(true);\n            this.selectedIndices.push(index);\n        },\n\n        _select: function(button) {\n            var selection = this.options.selection,\n                index = button.index();\n\n            if (!this._enable || button.is(DOT + DISABLED)) {\n                return;\n            }\n\n            if (selection === MULTIPLE) {\n                this._toggleIndex(index);\n            } else if (selection === SINGLE) {\n                this._resetIndexes(index);\n            }\n\n            this.trigger(SELECT, { indices: this.selectedIndices, target: button });\n        },\n\n        _toggleIndex: function(index) {\n            if (this.selectedIndices.indexOf(index) === -1) {\n                this.selectedIndices.push(index);\n            } else {\n                this.selectedIndices.splice(this.selectedIndices.indexOf(index), 1);\n            }\n        }\n    });\n\n    ui.plugin(ButtonGroup);\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}