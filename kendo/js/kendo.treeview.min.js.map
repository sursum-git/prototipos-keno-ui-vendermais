{"version":3,"file":"kendo.treeview.min.js","names":[],"sources":["../../src/kendo.treeview.js"],"sourcesContent":["import \"./kendo.data.js\";\nimport \"./kendo.treeview.draganddrop.js\";\nimport \"./kendo.html.input.js\";\nimport \"./kendo.icons.js\";\n\nexport const __meta__ = {\n    id: \"treeview\",\n    name: \"TreeView\",\n    category: \"web\",\n    description: \"The TreeView widget displays hierarchical data in a traditional tree structure,with support for interactive drag-and-drop operations.\",\n    depends: [\"data\", \"html.input\", \"icons\"],\n    features: [{\n        id: \"treeview-dragging\",\n        name: \"Drag & Drop\",\n        description: \"Support for drag & drop\",\n        depends: [\"treeview.draganddrop\"]\n    }]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        data = kendo.data,\n        encode = kendo.htmlEncode,\n        sanitizeLink = kendo.sanitizeLink,\n        extend = $.extend,\n        template = kendo.template,\n        isArray = Array.isArray,\n        Widget = ui.Widget,\n        HierarchicalDataSource = data.HierarchicalDataSource,\n        keys = kendo.keys,\n        NS = \".kendoTreeView\",\n        TEMP_NS = \".kendoTreeViewTemp\",\n        SELECT = \"select\",\n        CHECK = \"check\",\n        NAVIGATE = \"navigate\",\n        EXPAND = \"expand\",\n        CHANGE = \"change\",\n        ERROR = \"error\",\n        CHECKED = \"checked\",\n        INDETERMINATE = \"indeterminate\",\n        COLLAPSE = \"collapse\",\n        DRAGSTART = \"dragstart\",\n        PROGRESS = \"progress\",\n        DRAG = \"drag\",\n        DROP = \"drop\",\n        DRAGEND = \"dragend\",\n        DATABOUND = \"dataBound\",\n        ITEMSLOADED = \"itemsLoaded\",\n        LOADCOMPLETED = \"loadCompleted\",\n        REQUESTEND = \"requestEnd\",\n        CLICK = \"click\",\n        KENDOKEYDOWN = \"kendoKeydown\",\n        UNDEFINED = \"undefined\",\n        KSTATEHOVER = \"k-hover\",\n        KTREEVIEW = \"k-treeview\",\n        VISIBLE = \":visible\",\n        NODE = \".k-treeview-item\",\n        ICON = \"k-icon\",\n        TOGGLE_ICON_ELM = `<span></span>`,\n        STRING = \"string\",\n        ARIA_CHECKED = \"aria-checked\",\n        ARIA_SELECTED = \"aria-selected\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        ARIA_BUSY = \"aria-busy\",\n        DISABLED = \"k-disabled\",\n        TreeView,\n        subGroup, nodeContents, nodeIcon,\n        spriteRe,\n        bindings = {\n            text: \"dataTextField\",\n            url: \"dataUrlField\",\n            icon: \"dataIconField\",\n            spriteCssClass: \"dataSpriteCssClassField\",\n            imageUrl: \"dataImageUrlField\",\n            attr: \"dataAttrField\",\n            imageAttr: \"dataImageAttrField\",\n            contentAttr: \"dataContentAttrField\",\n            linkAttr: \"dataLinkAttrField\",\n        },\n        isJQueryInstance = function(obj) {\n            return (obj instanceof kendo.jQuery) || (window.jQuery && obj instanceof window.jQuery);\n        },\n        isDomElement = function(o) {\n            return (\n                typeof HTMLElement === \"object\" ? o instanceof HTMLElement : //DOM2\n                    o && typeof o === \"object\" && o.nodeType === 1 && typeof o.nodeName === STRING\n            );\n        };\n\n    const treeViewItemDefaultClasses = {\n        item: \"k-treeview-item\",\n        image: \"k-image\",\n        contentText: \"k-treeview-leaf-text\"\n    };\n\n    function contentChild(filter) {\n        return function(node) {\n            var result = node.children(\".k-animation-container\");\n\n            if (!result.length) {\n                result = node;\n            }\n\n            return result.children(filter);\n        };\n    }\n\n    function templateNoWith(code) {\n        return kendo.template(code, { useWithBlock: false });\n    }\n\n    subGroup = contentChild(\".k-treeview-group\");\n    nodeContents = contentChild(\".k-treeview-group,.k-content\");\n    nodeIcon = function(node) {\n        return node.children(\"span\").find(`.k-treeview-toggle > span:first`);\n    };\n\n    function checkboxes(node) {\n        return node.find(\".k-checkbox-wrap:first input[type=checkbox]\");\n    }\n\n    function insertAction(indexOffset) {\n        return function(nodeData, referenceNode) {\n            referenceNode = referenceNode.closest(NODE);\n\n            var group = referenceNode.parent(),\n                parentNode;\n\n            if (group.parent().is(\"li\")) {\n                parentNode = group.parent();\n            }\n\n            return this._dataSourceMove(nodeData, group, parentNode, function(dataSource, model) {\n                var referenceItem = this.dataItem(referenceNode);\n                var referenceNodeIndex = referenceItem && referenceNode.parent().children().length !== referenceItem.parent().length ? referenceItem.parent().indexOf(referenceItem) : referenceNode.index();\n\n                return this._insert(dataSource.data(), model, referenceNodeIndex + indexOffset);\n            });\n        };\n    }\n\n    spriteRe = /k-sprite/;\n\n    function moveContents(node, container) {\n        var tmp;\n\n        while (node && node.nodeName.toLowerCase() != \"ul\") {\n            tmp = node;\n            node = node.nextSibling;\n\n            if (tmp.nodeType == 3) {\n                tmp.nodeValue = kendo.trim(tmp.nodeValue);\n            }\n\n            if (spriteRe.test(tmp.className)) {\n                container.insertBefore(tmp, container.firstChild);\n            } else {\n                container.appendChild(tmp);\n            }\n        }\n    }\n\n    function updateNodeHtml(node) {\n        var wrapper = node.children(\"span.k-treeview-item-content\"),\n            group = node.children(\"ul\"),\n            toggleButton = wrapper.find(`.k-treeview-toggle > span`),\n            checkbox = node.children(\"input[type=checkbox]\"),\n            innerWrapper = wrapper.children(\".k-treeview-leaf\");\n\n        if (node.hasClass(\"k-treeview\")) {\n            return;\n        }\n\n        if (!wrapper.length) {\n            wrapper = $(\"<span />\").prependTo(node);\n        }\n\n        if (!toggleButton.length && group.length) {\n            toggleButton = $(`<span class='k-treeview-toggle'>${TOGGLE_ICON_ELM}</span>`).prependTo(wrapper);\n        } else if (!group.length || !group.children().length) {\n            toggleButton.parent().remove();\n            group.remove();\n            node.removeAttr(ARIA_EXPANDED);\n        }\n\n        if (checkbox.length) {\n            $(\"<span class='k-checkbox-wrap' />\").appendTo(wrapper).append(checkbox);\n        }\n\n        if (!innerWrapper.length) {\n            innerWrapper = node.children(\"a\").eq(0).addClass(\"k-treeview-leaf k-link\");\n\n            if (!innerWrapper.length) {\n                innerWrapper = $(\"<span class='k-treeview-leaf' />\");\n            }\n\n            innerWrapper.appendTo(wrapper);\n\n            if (wrapper.length) {\n                moveContents(wrapper[0].nextSibling, innerWrapper[0]);\n            }\n        }\n    }\n    TreeView = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this,\n                inferred = false,\n                hasDataSource = options && !!options.dataSource,\n                list;\n\n            if (isArray(options)) {\n                options = { dataSource: options };\n            }\n\n            if (options && typeof options.loadOnDemand == UNDEFINED && isArray(options.dataSource)) {\n                options.loadOnDemand = false;\n            }\n\n            Widget.prototype.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            that._dataSourceUids = {};\n\n            list = (element.is(\"ul\") && element) ||\n                (element.hasClass(KTREEVIEW) && element.children(\"ul\"));\n\n            inferred = !hasDataSource && list.length;\n\n            if (inferred) {\n                options.dataSource.list = list;\n            }\n\n            that._animation();\n\n            that._accessors();\n\n            that._templates();\n\n            // render treeview if it's not already rendered\n            if (!element.hasClass(KTREEVIEW)) {\n                that._wrapper();\n\n                if (list) {\n                    that.root = element;\n                    that._group(that.wrapper);\n                }\n            } else {\n                // otherwise just initialize properties\n                that.wrapper = element;\n                that.root = element.children(\"ul\").eq(0);\n            }\n\n            that._applyCssClasses();\n            that._tabindex();\n\n            that.wrapper.find(\">ul\").attr(\"role\", \"tree\");\n\n            that._dataSource(inferred);\n\n            that._attachEvents();\n\n            that._dragging();\n\n            if (!inferred) {\n                if (options.autoBind) {\n                    that._progress(true);\n                    that.dataSource.fetch(this._attemptLoadCompleted.bind(this));\n                }\n                else {\n                    that._progressHandler = that._requestStart.bind(that);\n                    that.dataSource.bind(PROGRESS, that._progressHandler);\n                }\n            } else {\n                that._syncHtmlAndDataSource();\n            }\n\n            if (options.checkboxes && options.checkboxes.checkChildren) {\n                that.updateIndeterminate();\n            }\n\n            if (that.element[0].id) {\n                that._ariaId = kendo.format(\"{0}_tv_active\", that.element[0].id);\n            } else {\n                that._ariaId = kendo.guid() + \"_tv_active\";\n            }\n\n            kendo.notify(that);\n        },\n\n        _attachEvents: function() {\n            var that = this,\n                clickableItems = \".k-treeview-item-content:not(.k-selected,.k-disabled)\",\n                MOUSEENTER = \"mouseenter\";\n\n            that._clickHandler = that._click.bind(that);\n\n            that.wrapper\n                .on(MOUSEENTER + NS, \".k-treeview-item-content.k-selected\", function(e) { e.preventDefault(); })\n                .on(MOUSEENTER + NS, clickableItems, function() { $(this).parent().addClass(KSTATEHOVER); })\n                .on(\"mouseleave\" + NS, clickableItems, function() { $(this).parent().removeClass(KSTATEHOVER); })\n                .on(CLICK + NS, clickableItems, that._clickHandler)\n                .on(\"dblclick\" + NS, \".k-treeview-item-content:not(.k-disabled) .k-treeview-leaf\", that._toggleButtonClick.bind(that))\n                .on(CLICK + NS, `.k-treeview-toggle .${ICON}`, that._toggleButtonClick.bind(that))\n                .on(\"keydown\" + NS, that, that._keydown.bind(that))\n                .on(\"keypress\" + NS, that._keypress.bind(that))\n                .on(\"focus\" + NS, that._focus.bind(that))\n                .on(\"blur\" + NS, that._blur.bind(that))\n                .on(\"mousedown\" + NS, `.k-treeview-item-content,.k-checkbox-wrap :checkbox,.k-treeview-toggle .${ICON}`, that._mousedown.bind(that))\n                .on(\"change\" + NS, \".k-checkbox-wrap :checkbox\", that._checkboxChange.bind(that))\n                .on(\"click\" + NS, \".k-request-retry\", that._retryRequest.bind(that))\n                .on(\"click\" + NS, \".k-treeview-item-content.k-disabled .k-link\", function(e) { e.preventDefault(); })\n                .on(\"click\" + NS, function(e) {\n                    var target = $(e.target);\n\n                    if (!target.is(\":kendoFocusable\") && !target.find(\"input,select,textarea,button,object\").is(\":kendoFocusable\")) {\n                        that.focus();\n                    }\n                });\n        },\n\n        _requestStart: function() {\n            this._progress(true);\n        },\n\n        _syncHtmlAndDataSource: function(root, dataSource, treeviewItemLevel) {\n            root = root || this.root;\n            dataSource = dataSource || this.dataSource;\n            treeviewItemLevel = treeviewItemLevel || 1;\n            let data = dataSource.view(),\n                uidAttr = kendo.attr(\"uid\"),\n                expandedAttr = kendo.attr(\"expanded\"),\n                checkboxesEnabled = this.options.checkboxes,\n                items = root.children(\"li\"),\n                i,\n                item,\n                dataItem,\n                uid,\n                itemCheckbox;\n\n            for (i = 0; i < items.length; i++) {\n                dataItem = data[i];\n                uid = dataItem.uid;\n                item = items.eq(i);\n                item.attr(\"role\", \"treeitem\")\n                    .attr(uidAttr, uid)\n                    .attr(ARIA_SELECTED, item.children(\"span\").hasClass(\"k-selected\"));\n\n                item.css(\"--kendo-treeview-level\", treeviewItemLevel);\n\n                dataItem.expanded = item.attr(expandedAttr) === \"true\";\n\n                if (dataItem.hasChildren) {\n                    item.attr(ARIA_EXPANDED, dataItem.expanded);\n                }\n\n                if (checkboxesEnabled) {\n                    itemCheckbox = checkboxes(item);\n                    dataItem.checked = itemCheckbox.prop(CHECKED);\n                    itemCheckbox.attr(\"id\", \"_\" + uid);\n                    itemCheckbox.next(\".k-checkbox-label\").attr(\"for\", \"_\" + uid);\n\n                    item.attr(ARIA_CHECKED, item.checked);\n                }\n\n                this._syncHtmlAndDataSource(item.children(\"ul\"), dataItem.children, treeviewItemLevel + 1);\n            }\n        },\n\n        _animation: function() {\n            var options = this.options,\n                animationOptions = options.animation,\n                hasCollapseAnimation = animationOptions.collapse && \"effects\" in animationOptions.collapse,\n                collapse = extend({}, animationOptions.expand, animationOptions.collapse);\n\n            if (!hasCollapseAnimation) {\n                collapse = extend(collapse, { reverse: true });\n            }\n\n            if (animationOptions === false) {\n                animationOptions = {\n                    expand: { effects: {} },\n                    collapse: { hide: true, effects: {} }\n                };\n            }\n\n            animationOptions.collapse = extend(collapse, { hide: true });\n            options.animation = animationOptions;\n        },\n\n        _dragging: function() {\n            var enabled = this.options.dragAndDrop;\n            var dragging = this.dragging;\n\n            if (enabled && !dragging) {\n                var widget = this;\n\n                this.dragging = new ui.HierarchicalDragAndDrop(this.element, {\n                    reorderable: true,\n                    autoScroll: this.options.autoScroll,\n                    filter: \".k-treeview-item-content:not(.k-disabled) .k-treeview-leaf\",\n                    allowedContainers: \".k-treeview\",\n                    itemSelector: \".k-treeview .k-treeview-item\",\n                    hintText: this._hintText.bind(this),\n                    clickMoveClick: this.options.dragAndDrop.clickMoveClick === true ? true : false,\n                    contains: function(source, destination) {\n                        return $.contains(source, destination);\n                    },\n                    dropHintContainer: function(item) {\n                        return item;\n                    },\n                    itemFromTarget: function(target) {\n                        var item = target.closest(\".k-treeview-item-content\");\n                        var treeviewItem = item.closest(\".k-treeview-item\");\n                        var parent = treeviewItem.parent();\n                        var siblings = parent.children(\".k-treeview-item\");\n                        return {\n                            item: item,\n                            content: target.closest(\".k-treeview-leaf\"),\n                            first: siblings.first().is(treeviewItem),\n                            last: siblings.last().is(treeviewItem)\n                        };\n                    },\n                    dropPositionFrom: function(dropHint) {\n                        return dropHint.prevAll(\".k-treeview-leaf\").length > 0 ? \"after\" : \"before\";\n                    },\n                    dragstart: function(source) {\n                        widget.wrapper.attr(kendo.attr(\"scrollable\"), false);\n                        return widget.trigger(DRAGSTART, { sourceNode: source[0] });\n                    },\n                    drag: function(options) {\n                        widget.trigger(DRAG, {\n                            originalEvent: options.originalEvent,\n                            sourceNode: options.source[0],\n                            dropTarget: options.target[0],\n                            pageY: options.pageY,\n                            pageX: options.pageX,\n                            statusClass: options.status,\n                            setStatusClass: options.setStatus\n                        });\n                    },\n                    drop: function(options) {\n                        var dropTarget = $(options.dropTarget);\n                        var navigationTarget = dropTarget.closest(\"a\");\n\n                        if (navigationTarget && navigationTarget.attr(\"href\")) {\n                            widget._tempPreventNavigation(navigationTarget);\n                        }\n\n                        return widget.trigger(DROP, {\n                            originalEvent: options.originalEvent,\n                            sourceNode: options.source,\n                            destinationNode: options.destination,\n                            valid: options.valid,\n                            setValid: function(state) {\n                                this.valid = state;\n                                options.setValid(state);\n                            },\n                            dropTarget: options.dropTarget,\n                            dropPosition: options.position\n                        });\n                    },\n                    dragend: function(options) {\n                        var source = options.source;\n                        var destination = options.destination;\n                        var position = options.position;\n\n                        widget.wrapper.removeAttr(kendo.attr(\"scrollable\"));\n\n                        function triggerDragEnd(source) {\n                            if (widget.options.checkboxes && widget.options.checkboxes.checkChildren) {\n                                widget.updateIndeterminate();\n                            }\n\n                            widget.current(source);\n                            widget.element.focus();\n\n                            widget.trigger(DRAGEND, {\n                                originalEvent: options.originalEvent,\n                                sourceNode: source && source[0],\n                                destinationNode: destination[0],\n                                dropPosition: position\n                            });\n                        }\n\n                        // perform reorder / move\n                        // different handling is necessary because append might be async in remote bound tree\n                        if (position == \"over\") {\n                            widget.append(source, destination, triggerDragEnd);\n                        } else {\n                            if (position == \"before\") {\n                                source = widget.insertBefore(source, destination);\n                            } else if (position == \"after\") {\n                                source = widget.insertAfter(source, destination);\n                            }\n\n                            triggerDragEnd(source);\n                        }\n                    }\n                });\n            } else if (!enabled && dragging) {\n                dragging.destroy();\n                this.dragging = null;\n            }\n        },\n\n        _tempPreventNavigation: function(node) {\n            node.on(CLICK + NS + TEMP_NS, function(ev) {\n                ev.preventDefault();\n                node.off(CLICK + NS + TEMP_NS);\n            });\n        },\n\n        _hintText: function(node) {\n            return this.templates.dragClue({\n                item: this.dataItem(node),\n                treeview: this.options\n            });\n        },\n\n        _templates: function() {\n            let that = this,\n                options = that.options,\n                fieldAccessor = that._fieldAccessor.bind(that);\n\n            if (options.template && typeof options.template == STRING) {\n                options.template = template(options.template);\n            } else if (!options.template) {\n                options.template = ({ item }) => {\n                    let text = fieldAccessor(\"text\")(item);\n                    let contentAttributes = fieldAccessor(\"contentAttr\")(item);\n\n                    if (typeof item.encoded != 'undefined' && item.encoded === false) {\n                        return `<span ${that.templates.contentCssAttributes(contentAttributes)}>${text}</span>`;\n                    }\n\n                    return `<span ${that.templates.contentCssAttributes(contentAttributes)}>${encode(text)}</span>`;\n                };\n            }\n\n            that._checkboxes();\n\n            that.templates = {\n                setAttributes: function(item) {\n                    return that.templates.setDefaultClasses(treeViewItemDefaultClasses.item, item.attr);\n                },\n                cssClass: function(group, item) {\n                    var result = \"k-treeview-item-content\";\n\n                    if (item.enabled === false) {\n                        result += \" k-disabled\";\n                    }\n\n                    if (item.selected) {\n                        result += \" k-selected\";\n                    }\n\n                    return result;\n                },\n                textClass: function(item, isLink) {\n                    var result = \"k-treeview-leaf\";\n\n                    if (isLink) {\n                        result += \" k-link\";\n                    }\n\n                    return result;\n                },\n                checkboxClass: function(item) {\n                    var result = \"k-checkbox\";\n\n                    if (item.enabled === false) {\n                        result += \" k-disabled\";\n                    }\n\n                    return result;\n                },\n                toggleButtonClass: function(item) {\n                    var result = \"k-treeview-toggle\";\n\n                    if (item.enabled === false) {\n                        result += \" k-disabled\";\n                    }\n\n                    return result;\n                },\n                toggleIcon: function(icon, item) {\n                    if (item.expanded !== true) {\n                        return ui.icon(icon, { icon: `chevron-${kendo.support.isRtl(that.element) ? 'left' : 'right'}` });\n                    } else {\n                        return ui.icon(icon, { icon: 'chevron-down' });\n                    }\n                },\n                groupAttributes: function(group) {\n                    var attributes = \"\";\n\n                    if (!group.firstLevel) {\n                        attributes = \"role='group'\";\n                    }\n\n                    return attributes + (group.expanded !== true ? ` ${kendo.attr(\"style-display\")}=\"none\"` : \"\");\n                },\n                groupCssClass: function(group) {\n                    var cssClass = \"k-treeview-group\";\n\n                    if (group.firstLevel) {\n                        cssClass += \" k-treeview-lines\";\n                    }\n\n                    return cssClass;\n                },\n                dragClue: (data) => data.treeview.template(data),\n                group: (data) =>\n                    `<ul class='${data.r.groupCssClass(data.group)}'${data.r.groupAttributes(data.group)}>` +\n                    data.renderItems(data) +\n                    `</ul>`,\n                itemContent: (data) => {\n                    let imageUrl = fieldAccessor(\"imageUrl\")(data.item);\n                    let imgAttributes = fieldAccessor(\"imageAttr\")(data.item);\n                    let spriteCssClass = fieldAccessor(\"spriteCssClass\")(data.item);\n                    let icon = fieldAccessor(\"icon\")(data.item);\n                    let result = \"\";\n\n                    if (imageUrl) {\n                        result += `<img ${that.templates.imageCssAttributes(imgAttributes)} alt='' src='${imageUrl}'>`;\n                    }\n\n                    if (icon) {\n                        result += that.templates.iconTemplate(icon);\n                    }\n\n                    if (spriteCssClass) {\n                        result += `<span class='k-sprite ${spriteCssClass}'></span>`;\n                    }\n\n                    result += data.treeview.template(data);\n\n                    return result;\n                },\n                iconTemplate: (icon) => {\n                    let iconHtml = \"\";\n                    if (icon) {\n                        iconHtml = ui.icon(icon);\n                    }\n                    return iconHtml;\n                },\n                itemElement: (data) => {\n                    let item = data.item,\n                        r = data.r;\n                    let url = fieldAccessor(\"url\")(item),\n                        tag = url ? 'a' : 'span',\n                        textAttr = url ? ' href=\"' + sanitizeLink(url) + '\"' : '';\n                    let result = `<span class=\"${r.cssClass(data.group, item)}\">`;\n\n                    if (item.hasChildren) {\n                        result += `<span class='${r.toggleButtonClass(item)}'>` +\n                            r.toggleIcon($(TOGGLE_ICON_ELM), item) +\n                            `</span>`;\n                    }\n\n                    if (data.treeview.checkboxes) {\n                        result += `<span class='k-checkbox-wrap' role='presentation'>` +\n                            data.treeview.checkboxes.template(data) +\n                            `</span>`;\n                    }\n\n                    result += `<${tag} ${r.linkCssAttributes(item, !!url)} ${textAttr}>` +\n                        r.itemContent(data) +\n                        `</${tag}>`;\n\n                    result += \"</span>\";\n\n                    return result;\n                },\n                item: (data) => {\n                    var item = data.item,\n                        r = data.r;\n                    var level = item.level ? (item.level() + 1) : 1;\n                    var result =\n                        `<li role='treeitem'` +\n                        ` style=\"--kendo-treeview-level: ${level};\"` +\n                        `${kendo.attr(\"uid\")}=\"${item.uid}\"` +\n                        `${r.setAttributes(item.toJSON ? item.toJSON() : item)} `;\n\n                    if (data.treeview.checkboxes) {\n                        result +=\n                            `aria-checked=\"${item.checked ? 'true' : 'false'}\" `;\n                    }\n\n                    result +=\n                        `aria-selected=\"${item.selected ? 'true' : 'false'}\" ` +\n                        `${item.enabled === false ? 'aria-disabled=\"true\"' : ''}`;\n\n                    if (item.hasChildren) {\n                        result += `aria-expanded=\"${item.expanded ? \"true\" : \"false\"}\" `;\n                    }\n\n                    result +=\n                        `data-expanded=\"${item.expanded ? \"true\" : \"false\"}\" >` +\n                        r.itemElement(data) +\n                        `</li>`;\n\n                    return result;\n                },\n                loading: ({ messages }) =>\n                    `<div class='k-icon k-i-loading'></div> ${encode(messages.loading)}`,\n                retry: ({ messages }) =>\n                    `${encode(messages.requestFailed)} ` +\n                    `<button class='k-button k-request-retry'><span class='k-button-text'>${encode(messages.retry)}</span></button>`,\n                imageCssAttributes: function(imgAttributes) {\n                    return that.templates.setDefaultClasses(treeViewItemDefaultClasses.image, imgAttributes);\n                },\n                contentCssAttributes: function(contentAttributes) {\n                    return that.templates.setDefaultClasses(treeViewItemDefaultClasses.contentText, contentAttributes);\n                },\n                linkCssAttributes: function(item, isLink) {\n                    return that.templates.setDefaultClasses(this.textClass(item, isLink), fieldAccessor(\"linkAttr\")(item));\n                },\n                setDefaultClasses: function(defaultClasses, attributes) {\n                    attributes = attributes && attributes.toJSON ? attributes.toJSON() : attributes || {};\n                    if (!attributes['class']) {\n                        attributes['class'] = defaultClasses;\n                    } else {\n                        attributes['class'] += \" \" + defaultClasses;\n                    }\n\n                    return that.templates.stringifyAttributes(attributes);\n\n                },\n                stringifyAttributes: function(attributes) {\n                    let result = \"\";\n                    for (let attr in attributes) {\n                        if (attributes.hasOwnProperty(attr)) {\n                            result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                        }\n                    }\n                    return result;\n                }\n\n            };\n        },\n\n        items: function() {\n            return this.element.find(\".k-treeview-item > span:first-child\");\n        },\n\n        setDataSource: function(dataSource) {\n            var options = this.options;\n\n            options.dataSource = dataSource;\n\n            this._dataSourceUids = {};\n\n            this._dataSource();\n\n            if (options.checkboxes && options.checkboxes.checkChildren) {\n                this.dataSource.one(\"change\", this.updateIndeterminate.bind(this, null));\n            }\n\n            if (this.options.autoBind) {\n                this.dataSource.fetch(this._attemptLoadCompleted.bind(this));\n            }\n        },\n\n        _bindDataSource: function() {\n            var that = this;\n\n            that._refreshHandler = that.refresh.bind(that);\n            that._errorHandler = that._error.bind(that);\n            that._loadCompletedHandler = that._loadCompleted.bind(that);\n            that._requestEndHandler = that._dsRequestEnd.bind(that);\n            that._loadedNodes = [];\n\n            that.dataSource.bind(CHANGE, that._refreshHandler);\n            that.dataSource.bind(ERROR, that._errorHandler);\n\n            that.dataSource.bind(ITEMSLOADED, that._loadCompletedHandler);\n            that.dataSource.bind(REQUESTEND, that._requestEndHandler);\n        },\n\n        _dsRequestEnd: function(e) {\n            var that = this;\n\n            setTimeout(function() {\n                if (e.type === \"read\" && !that._loadCompletedFired) {\n                    that._attemptLoadCompleted();\n                }\n            });\n        },\n\n        _loadCompleted: function(e) {\n            var that = this;\n            that._loadedNodes = that._loadedNodes.concat(e.nodes);\n\n            if (!that.dataSource.loading() && that.options.loadOnDemand === false) {\n                that.trigger(LOADCOMPLETED, { nodes: that._loadedNodes });\n                that._loadedNodes = [];\n            }\n        },\n\n        _attemptLoadCompleted: function() { // If there are no items to be loaded ensure event is triggered on dataBound\n            var that = this,\n                items = that.dataSource.view(),\n                current, i;\n\n            if (that.options.loadOnDemand === false) {\n                for (i = 0; i < items.length; i++) {\n                    current = items[i];\n                    if (current.hasChildren && (!current.children || !current.children.data() || current.children.data().length === 0)) {\n                        return;\n                    }\n                }\n\n                that._loadCompletedFired = true;\n                that.trigger(LOADCOMPLETED, { nodes: [] });\n            }\n        },\n\n        _unbindDataSource: function() {\n            var dataSource = this.dataSource;\n\n            if (dataSource) {\n                dataSource.unbind(CHANGE, this._refreshHandler);\n                dataSource.unbind(PROGRESS, this._progressHandler);\n                dataSource.unbind(ERROR, this._errorHandler);\n                dataSource.unbind(ITEMSLOADED, this._loadCompletedHandler);\n                dataSource.unbind(REQUESTEND, this._requestEndHandler);\n            }\n        },\n\n        _dataSource: function(silentRead) {\n            var that = this,\n                options = that.options,\n                dataSource = options.dataSource;\n\n            function recursiveRead(data) {\n                for (var i = 0; i < data.length; i++) {\n                    data[i]._initChildren();\n\n                    data[i].children.fetch();\n\n                    recursiveRead(data[i].children.view());\n                }\n            }\n\n            dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            that._unbindDataSource();\n\n            if (!dataSource.fields) {\n                dataSource.fields = [\n                    { field: \"text\" },\n                    { field: \"url\" },\n                    { field: \"spriteCssClass\" },\n                    { field: \"icon\" },\n                    { field: \"imageUrl\" }\n                ];\n            }\n\n            that.dataSource = dataSource = HierarchicalDataSource.create(dataSource);\n\n            if (silentRead) {\n                dataSource.fetch();\n\n                recursiveRead(dataSource.view());\n            }\n\n            that._bindDataSource();\n        },\n\n        events: [\n            DRAGSTART,\n            DRAG,\n            DROP,\n            DRAGEND,\n\n            DATABOUND,\n            LOADCOMPLETED,\n\n            EXPAND,\n            COLLAPSE,\n            SELECT,\n            CHANGE,\n            NAVIGATE,\n            CHECK,\n            KENDOKEYDOWN\n        ],\n\n        options: {\n            name: \"TreeView\",\n            dataSource: {},\n            animation: {\n                expand: {\n                    effects: \"expand:vertical\",\n                    duration: 200\n                }, collapse: {\n                    duration: 100\n                }\n            },\n            messages: {\n                loading: \"Loading...\",\n                requestFailed: \"Request failed.\",\n                retry: \"Retry\"\n            },\n            dragAndDrop: false,\n            checkboxes: false,\n            autoBind: true,\n            autoScroll: false,\n            loadOnDemand: true,\n            template: \"\",\n            dataTextField: null,\n            size: undefined\n        },\n\n        _accessors: function() {\n            var that = this,\n                options = that.options,\n                i, field, textField,\n                element = that.element;\n\n            for (i in bindings) {\n                field = options[bindings[i]];\n                textField = element.attr(kendo.attr(i + \"-field\"));\n\n                if (!field && textField) {\n                    field = textField;\n                }\n\n                if (!field) {\n                    field = i;\n                }\n\n                if (!isArray(field)) {\n                    field = [field];\n                }\n\n                options[bindings[i]] = field;\n            }\n        },\n\n        // generates accessor function for a given field name, honoring the data*Field arrays\n        _fieldAccessor: function(fieldName) {\n            var fieldBindings = this.options[bindings[fieldName]],\n                count = fieldBindings.length;\n\n            return (function(item) {\n                if (count === 0) {\n                    return kendo.getter(fieldName)(item);\n                }\n\n                return $.map(fieldBindings, function(x) {\n                    return function(d) { return kendo.getter(x)(d); };\n                })[Math.min(item.level(), count - 1)](item);\n            });\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n\n            this._animation();\n\n            this._dragging();\n\n            this._accessors();\n\n            this._templates();\n        },\n\n        _trigger: function(eventName, node) {\n            return this.trigger(eventName, {\n                node: node.closest(NODE)[0]\n            });\n        },\n\n        _setChecked: function(datasource, value) {\n            if (!datasource || !kendo.isFunction(datasource.view)) {\n                return;\n            }\n\n            for (var i = 0, nodes = datasource.view(); i < nodes.length; i++) {\n                if (nodes[i].enabled !== false) {\n                    this._setCheckedValue(nodes[i], value);\n                }\n\n                if (nodes[i].children) {\n                    this._setChecked(nodes[i].children, value);\n                }\n            }\n        },\n\n        _setCheckedValue: function(node, value) {\n            node[CHECKED] = value;\n        },\n\n        _setIndeterminate: function(node) {\n            var group = subGroup(node),\n                siblings, length,\n                all = true,\n                i;\n\n            if (!group.length) {\n                return;\n            }\n\n            siblings = checkboxes(group.children());\n\n            length = siblings.length;\n\n            if (!length) {\n                return;\n            } else if (length > 1) {\n                for (i = 1; i < length; i++) {\n                    if (siblings[i].checked != siblings[i - 1].checked ||\n                        siblings[i].indeterminate || siblings[i - 1].indeterminate) {\n                        all = false;\n                        break;\n                    }\n                }\n            } else {\n                all = !siblings[0].indeterminate;\n            }\n\n            node.attr(ARIA_CHECKED, all ? siblings[0].checked : \"mixed\");\n\n            return checkboxes(node)\n                .data(INDETERMINATE, !all)\n                .prop(INDETERMINATE, !all)\n                .prop(CHECKED, all && siblings[0].checked);\n        },\n\n        updateIndeterminate: function(node) {\n            // top-down update of inital indeterminate state for all nodes\n            node = node || this.wrapper;\n\n            var subnodes = subGroup(node).children();\n            var i;\n            var checkbox;\n            var dataItem;\n\n            if (subnodes.length) {\n                for (i = 0; i < subnodes.length; i++) {\n                    this.updateIndeterminate(subnodes.eq(i));\n                }\n\n                if (node.is(\".k-treeview\")) {\n                    return;\n                }\n\n                checkbox = this._setIndeterminate(node);\n\n                dataItem = this.dataItem(node);\n\n                if (checkbox && checkbox.prop(CHECKED)) {\n                    dataItem.checked = true;\n                } else {\n                    if (dataItem) {\n                        delete dataItem.checked;\n                    }\n                }\n            }\n        },\n\n        _bubbleIndeterminate: function(node, skipDownward) {\n            // bottom-up setting of indeterminate state of parent nodes\n            if (!node.length) {\n                return;\n            }\n\n            if (!skipDownward) {\n                //update the indeterminate state of the node itself\n                this.updateIndeterminate(node);\n            }\n\n            var parentNode = this.parent(node),\n                checkbox;\n\n            if (parentNode.length) {\n                this._setIndeterminate(parentNode);\n\n                checkbox = parentNode.children(\"span\").find(\".k-checkbox-wrap input[type=checkbox]\");\n\n                this._skip = true;\n                if (checkbox.prop(INDETERMINATE) === false) {\n                    this.dataItem(parentNode).set(CHECKED, checkbox.prop(CHECKED));\n                } else {\n                    // delete this.dataItem(parentNode).checked;\n                    this.dataItem(parentNode).set(CHECKED, false);\n                }\n\n                this._skip = false;\n\n                this._bubbleIndeterminate(parentNode, true);\n            }\n        },\n\n        _checkboxChange: function(e) {\n            var that = this;\n            var checkbox = $(e.target);\n            var isChecked = checkbox.prop(CHECKED);\n            var node = checkbox.closest(NODE);\n            var dataItem = this.dataItem(node);\n\n            if (this._preventChange) {\n                return;\n            }\n\n            if (dataItem.checked != isChecked) {\n                dataItem.set(CHECKED, isChecked);\n                node.attr(ARIA_CHECKED, isChecked);\n                this._trigger(CHECK, node);\n            }\n\n            if (checkbox.is(\":focus\")) {\n                that._trigger(NAVIGATE, node);\n                that.focus();\n            }\n        },\n\n        _toggleButtonClick: function(e) {\n            var node = $(e.currentTarget).closest(NODE);\n\n            if (node.is(\"[aria-disabled='true']\")) {\n                return;\n            }\n\n            this.toggle(node);\n            e.stopPropagation();\n        },\n\n        _mousedown: function(e) {\n            var that = this;\n            var currentTarget = $(e.currentTarget);\n            var node = $(e.currentTarget).closest(NODE);\n            var browser = kendo.support.browser;\n\n            if (node.is(\"[aria-disabled='true']\")) {\n                return;\n            }\n\n            //IE does not trigger change for indeterminate checkboxes\n            if ((browser.msie || browser.edge) && currentTarget.is(\":checkbox\")) {\n                if (currentTarget.prop(INDETERMINATE)) {\n                    that._preventChange = false;\n\n                    currentTarget.prop(CHECKED, !currentTarget.prop(CHECKED));\n                    currentTarget.trigger(CHANGE);\n\n                    currentTarget.on(CLICK + NS, function(e) {\n                        e.preventDefault();\n                    });\n\n                    that._preventChange = true;\n                } else {\n                    currentTarget.off(CLICK + NS);\n                    that._preventChange = false;\n                }\n            }\n\n            that._clickTarget = node;\n            that.current(node);\n        },\n\n        _focusable: function(node) {\n            return node && node.length && node.is(\":visible\") && !node.children(\"span\").hasClass(DISABLED);\n        },\n\n        _focus: function() {\n            var current = this.select(),\n                clickTarget = this._clickTarget;\n\n            // suppress initial focus state on touch devices (until keyboard is used)\n            if (kendo.support.touch) {\n                return;\n            }\n\n            if (clickTarget && clickTarget.length) {\n                current = clickTarget;\n            }\n\n            if (!this._focusable(current)) {\n                current = this.current();\n            }\n\n            if (!this._focusable(current)) {\n                current = this._nextVisible($());\n            }\n\n            this.current(current);\n        },\n\n        focus: function() {\n            var wrapper = this.wrapper,\n                scrollContainer = wrapper[0],\n                containers = [],\n                offsets = [],\n                documentElement = document.documentElement,\n                i;\n\n            do {\n                scrollContainer = scrollContainer.parentNode;\n\n                if (scrollContainer.scrollHeight > scrollContainer.clientHeight) {\n                    containers.push(scrollContainer);\n                    offsets.push(scrollContainer.scrollTop);\n                }\n            } while (scrollContainer != documentElement);\n\n            kendo.focusElement(wrapper);\n\n            for (i = 0; i < containers.length; i++) {\n                containers[i].scrollTop = offsets[i];\n            }\n        },\n\n        _blur: function() {\n            this.current().find(\".k-focus\").removeClass(\"k-focus\");\n        },\n\n        _enabled: function(node) {\n            return !node.children(\"span\").hasClass(DISABLED);\n        },\n\n        parent: function(node) {\n            var wrapperRe = /\\bk-treeview\\b(?!-)/,\n                itemRe = /\\bk-treeview-item\\b(?!-)/,\n                result,\n                skipSelf;\n\n            if (typeof node == STRING) {\n                node = this.element.find(node);\n            }\n\n            if (!isDomElement(node)) {\n                node = node[0];\n            }\n\n            skipSelf = itemRe.test(node.className);\n\n            do {\n                node = node.parentNode;\n\n                if (itemRe.test(node.className)) {\n                    if (skipSelf) {\n                        result = node;\n                    } else {\n                        skipSelf = true;\n                    }\n                }\n            } while (!wrapperRe.test(node.className) && !result);\n\n            return $(result);\n        },\n\n        _nextVisible: function(node) {\n            var that = this,\n                expanded = that._expanded(node),\n                result;\n\n            function nextParent(node) {\n                while (node.length && !node.next().length) {\n                    node = that.parent(node);\n                }\n\n                if (node.next().length) {\n                    return node.next();\n                } else {\n                    return node;\n                }\n            }\n\n            if (!node.length || !node.is(\":visible\")) {\n                result = that.root.children().eq(0);\n            } else if (expanded) {\n                result = subGroup(node).children().first();\n\n                // expanded node with no children\n                if (!result.length) {\n                    result = nextParent(node);\n                }\n            } else {\n                result = nextParent(node);\n            }\n\n            return result;\n        },\n\n        _previousVisible: function(node) {\n            var that = this,\n                lastChild,\n                result;\n\n            if (!node.length || node.prev().length) {\n                if (node.length) {\n                    result = node.prev();\n                } else {\n                    result = that.root.children().last();\n                }\n\n                while (that._expanded(result)) {\n                    lastChild = subGroup(result).children().last();\n\n                    if (!lastChild.length) {\n                        break;\n                    }\n\n                    result = lastChild;\n                }\n            } else {\n                result = that.parent(node) || node;\n            }\n\n            return result;\n        },\n\n        scrollTo: function(item) {\n            if (item && item.length > 0) {\n                item[0].scrollIntoView({ block: \"nearest\" });\n            }\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                target,\n                focused = that.current(),\n                expanded = that._expanded(focused),\n                checkbox = focused.find(\".k-checkbox-wrap\").first().find(\":checkbox\"),\n                rtl = kendo.support.isRtl(that.element);\n\n            if (e.target != e.currentTarget) {\n                return;\n            }\n\n            if ((!rtl && key == keys.RIGHT) || (rtl && key == keys.LEFT)) {\n                if (expanded) {\n                    target = that._nextVisible(focused);\n                } else if (!focused.children(\"span\").hasClass(DISABLED)) {\n                    that.expand(focused);\n                }\n            } else if ((!rtl && key == keys.LEFT) || (rtl && key == keys.RIGHT)) {\n                if (expanded && !focused.children(\"span\").hasClass(DISABLED)) {\n                    that.collapse(focused);\n                } else {\n                    target = that.parent(focused);\n\n                    if (!that._enabled(target)) {\n                        target = undefined;\n                    }\n                }\n            } else if (key == keys.DOWN) {\n                target = that._nextVisible(focused);\n            } else if (key == keys.UP) {\n                target = that._previousVisible(focused);\n            } else if (key == keys.HOME) {\n                target = that._nextVisible($());\n            } else if (key == keys.END) {\n                target = that._previousVisible($());\n            } else if (key == keys.ENTER && !focused.children(\"span\").hasClass(DISABLED)) {\n                if (!focused.children(\"span\").hasClass(\"k-selected\")) {\n                    if (!that._trigger(SELECT, focused)) {\n                        that.select(focused);\n                    }\n                }\n            } else if (key == keys.SPACEBAR && checkbox.length) {\n                if (!focused.children(\"span\").hasClass(DISABLED)) {\n                    checkbox.prop(CHECKED, !checkbox.prop(CHECKED))\n                        .data(INDETERMINATE, false)\n                        .prop(INDETERMINATE, false);\n\n                    that._checkboxChange({ target: checkbox });\n                }\n                target = focused;\n            }\n\n            if (target) {\n                e.preventDefault();\n\n                if (focused[0] != target[0]) {\n                    that._trigger(NAVIGATE, target);\n                    that.current(target);\n                    that.scrollTo(target);\n                }\n            }\n        },\n\n        _keypress: function(e) {\n            var that = this;\n            var delay = 300;\n            var focusedNode = that.current().get(0);\n            var matchToFocus;\n            var key = e.key;\n            var isPrintable = key.length === 1;\n\n            if (!isPrintable) {\n                return;\n            }\n\n            if (!that._match) {\n                that._match = \"\";\n            }\n\n            that._match += key;\n            clearTimeout(that._matchTimer);\n            that._matchTimer = setTimeout(function() {\n                that._match = \"\";\n            }, delay);\n\n            matchToFocus = focusedNode &&\n                that._matchNextByText(\n                    Array.prototype.indexOf.call(that.element.find(\".k-treeview-item\"),\n                        focusedNode), that._match\n                );\n\n            if (!matchToFocus.length) {\n                matchToFocus = that._matchNextByText(-1, that._match);\n            }\n\n            if (matchToFocus.get(0) && matchToFocus.get(0) !== focusedNode) {\n                that._trigger(NAVIGATE, matchToFocus);\n                that.current(matchToFocus);\n            }\n        },\n\n        _matchNextByText: function(startIndex, text) {\n            var element = this.element;\n            var textNodes = element.find(\".k-treeview-item\").filter(function(i, element) {\n                return (i > startIndex &&\n                    $(element).is(\":visible\") &&\n                    $(element).find(\".k-treeview-leaf\").first().text().toLowerCase().indexOf(text) === 0);\n            });\n\n            return textNodes.eq(0).closest(NODE);\n        },\n\n        _click: function(e) {\n            var that = this,\n                node = $(e.currentTarget),\n                treeItem = node.closest(NODE),\n                contents = nodeContents(treeItem),\n                link = node.find(\".k-link\"),\n                href = link.attr(\"href\"),\n                shouldNavigate;\n\n            if (href) {\n                shouldNavigate = href == \"#\" || href.indexOf(\"#\" + this.element.id + \"-\") >= 0;\n            } else {\n                shouldNavigate = contents.length && !contents.children().length;\n            }\n\n            if (shouldNavigate) {\n                e.preventDefault();\n            }\n\n            if (!node.parent().hasClass(\"k-selected\") && !that._trigger(SELECT, treeItem)) {\n                that.select(treeItem);\n            }\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper, root,\n                wrapperClasses = \"k-treeview\";\n\n            if (element.is(\"ul\")) {\n                wrapper = element.wrap('<div />').parent();\n                root = element;\n            } else {\n                wrapper = element;\n                root = wrapper.children(\"ul\").eq(0);\n            }\n\n            that.wrapper = wrapper.addClass(wrapperClasses);\n            that.root = root;\n        },\n\n        _getSelectedNode: function() {\n            return this.element.find(\".k-treeview-item-content.k-selected\").closest(NODE);\n        },\n\n        _group: function(item) {\n            var that = this,\n                firstLevel = item.hasClass(KTREEVIEW),\n                group = {\n                    firstLevel: firstLevel,\n                    expanded: firstLevel || that._expanded(item)\n                },\n                groupElement = item.children(\"ul\");\n\n            groupElement\n                .addClass(that.templates.groupCssClass(group))\n                .css(\"display\", group.expanded ? \"\" : \"none\");\n\n            if (!firstLevel) {\n                groupElement.attr(\"role\", \"group\");\n            }\n\n            that._nodes(groupElement, group);\n        },\n\n        _nodes: function(groupElement, groupData) {\n            var that = this,\n                nodes = groupElement.children(\"li\"),\n                nodeData;\n\n            groupData = extend({ length: nodes.length }, groupData);\n\n            nodes.each(function(i, node) {\n                node = $(node);\n\n                nodeData = { index: i, expanded: that._expanded(node) };\n\n                updateNodeHtml(node);\n\n                that._updateNodeClasses(node, groupData, nodeData);\n\n                // iterate over child nodes\n                that._group(node);\n            });\n        },\n\n        _checkboxes: function() {\n            var options = this.options;\n            var checkboxes = options.checkboxes;\n            var defaultTemplate, checkbox;\n\n            if (checkboxes) {\n                defaultTemplate = kendo.html.renderCheckBox($(\"<input/>\"), $.extend({}, options, {\n                }));\n\n                defaultTemplate = defaultTemplate.replace(\">\", \"\");\n\n                checkbox = ({ item }) =>\n                    defaultTemplate +\n                    ` id=\"_${item.uid}\" aria-hidden=\"true\" type=\"checkbox\" tabindex=\"-1\"` +\n                    `${checkboxes.name ? 'name=\"' + checkboxes.name + '\"' : ''} ` +\n                    `${(item.enabled === false) ? 'disabled' : ''} ` +\n                    `${item.checked ? 'checked' : ''}/>`;\n\n                checkboxes = extend({\n                    template: checkbox\n                }, options.checkboxes);\n\n                if (typeof checkboxes.template == STRING) {\n                    checkboxes.template = template(checkboxes.template);\n                }\n\n                options.checkboxes = checkboxes;\n            }\n        },\n\n        _updateNodeClasses: function(node, groupData, nodeData) {\n            if (!node || !node.length) {\n                return;\n            }\n\n            var wrapper = node.children(\"span\"),\n                group = node.children(\"ul\"),\n                templates = this.templates,\n                dataItem = this.dataItem(node);\n\n            if (node.hasClass(\"k-treeview\")) {\n                return;\n            }\n\n            nodeData = nodeData || {};\n            nodeData.expanded = typeof nodeData.expanded != UNDEFINED ? nodeData.expanded : this._expanded(node);\n            nodeData.index = typeof nodeData.index != UNDEFINED ? nodeData.index : node.index();\n            nodeData.enabled = typeof nodeData.enabled != UNDEFINED ? nodeData.enabled : !wrapper.hasClass(\"k-disabled\");\n            nodeData.selected = typeof nodeData.selected != UNDEFINED ? nodeData.selected : wrapper.hasClass(\"k-selected\");\n\n            groupData = groupData || {};\n            groupData.firstLevel = typeof groupData.firstLevel != UNDEFINED ? groupData.firstLevel : node.parent().parent().hasClass(KTREEVIEW);\n            groupData.length = typeof groupData.length != UNDEFINED ? groupData.length : node.parent().children().length;\n\n            // li\n            node.addClass(\"k-treeview-item\");\n\n            var level = dataItem && dataItem.level ? dataItem.level() : 0;\n            node[0].style.setProperty(\"--kendo-treeview-level\", level + 1);\n\n            wrapper.removeClass(\"k-treeview-top k-treeview-mid k-treeview-bot k-treeview-item-content k-disabled k-selected\")\n                .addClass(templates.cssClass(groupData, nodeData));\n\n            // checkbox\n            var checkbox = wrapper.find(\".k-checkbox\");\n            checkbox.removeClass(\"k-checkbox k-disabled\").addClass(templates.checkboxClass(nodeData));\n\n            // span / a\n            var textWrap = wrapper.children(\".k-treeview-leaf\");\n            var isLink = textWrap[0] && textWrap[0].nodeName.toLowerCase() == \"a\";\n            textWrap.removeClass(\"k-treeview-leaf k-link\")\n                .addClass(templates.textClass(nodeData, isLink));\n\n            // toggle button\n            if (group.length || node.attr(\"data-hasChildren\") == \"true\") {\n                var toggleButton = wrapper.find(\".k-treeview-toggle\");\n                var toggleIcon = toggleButton.children(`span`);\n                toggleButton.removeClass(\"k-treeview-toggle k-disabled\").addClass(templates.toggleButtonClass(nodeData));\n\n                // renderv icon\n                templates.toggleIcon(toggleIcon, nodeData);\n\n\n                group.addClass(\"k-treeview-group\");\n            }\n        },\n\n\n        _processNodes: function(nodes, callback) {\n            var that = this;\n            var items = that.element.find(nodes);\n            for (var i = 0; i < items.length; i++) {\n                callback.call(that, i, $(items[i]).closest(NODE));\n            }\n        },\n\n        dataItem: function(node) {\n            var uid = $(node).closest(NODE).attr(kendo.attr(\"uid\")),\n                dataSource = this.dataSource;\n\n            return dataSource && dataSource.getByUid(uid);\n        },\n\n        _dataItem: function(node) {\n            var uid = $(node).closest(NODE).attr(kendo.attr(\"uid\")),\n                dataSource = this.dataSource;\n\n            return dataSource && this._dataSourceUids[uid];\n        },\n\n        _insertNode: function(nodeData, index, parentNode, insertCallback, collapsed) {\n            var that = this,\n                group = subGroup(parentNode),\n                updatedGroupLength = group.children().length + 1,\n                childrenData,\n                groupData = {\n                    firstLevel: parentNode.hasClass(KTREEVIEW),\n                    expanded: !collapsed,\n                    length: updatedGroupLength\n                }, node, i, item, nodeHtml = \"\", firstChild, lastChild,\n                append = function(item, group) {\n                    item.appendTo(group);\n                };\n\n            for (i = 0; i < nodeData.length; i++) {\n                item = nodeData[i];\n\n                item.index = index + i;\n\n                nodeHtml += that._renderItem({\n                    group: groupData,\n                    item: item\n                });\n            }\n\n            node = $(nodeHtml);\n\n            if (!node.length) {\n                return;\n            }\n\n            if (!group.length) {\n                group = $(that._renderGroup({\n                    group: groupData\n                }));\n\n                kendo.applyStylesFromKendoAttributes(group, [\"display\"]);\n                group.appendTo(parentNode);\n\n                parentNode.attr(ARIA_EXPANDED, true);\n            }\n\n            insertCallback(node, group);\n\n            if (parentNode.hasClass(\"k-treeview-item\")) {\n                updateNodeHtml(parentNode);\n                that._updateNodeClasses(parentNode, groupData, { expanded: !collapsed });\n            }\n\n            firstChild = node.prev().first();\n            lastChild = node.next().last();\n\n            that._updateNodeClasses(firstChild, {}, { expanded: firstChild.attr(kendo.attr(\"expanded\")) == \"true\" });\n            that._updateNodeClasses(lastChild, {}, { expanded: lastChild.attr(kendo.attr(\"expanded\")) == \"true\" });\n\n            // render sub-nodes\n            for (i = 0; i < nodeData.length; i++) {\n                item = nodeData[i];\n\n                if (item.hasChildren) {\n                    childrenData = item.children.data();\n\n                    if (childrenData.length) {\n                        that._insertNode(childrenData, item.index, node.eq(i), append, !item.expanded);\n                    }\n                }\n            }\n\n            return node;\n        },\n\n        _updateNodes: function(items, field) {\n            var that = this;\n            var i, node, nodeWrapper, item, isChecked, isCollapsed, kin;\n            var context = { treeview: that.options, item: item };\n            var render = field != \"expanded\" && field != \"checked\";\n\n            function setCheckedState(root, state) {\n                if (root.is(\".k-treeview-group\")) {\n                    root.find(\".k-treeview-item:not([aria-disabled])\").attr(ARIA_CHECKED, state);\n                }\n\n                root.find(\".k-checkbox-wrap input[type=checkbox]:not([disabled])\")\n                    .prop(CHECKED, state)\n                    .data(INDETERMINATE, false)\n                    .prop(INDETERMINATE, false);\n            }\n\n            if (field == \"selected\") {\n                item = items[0];\n\n                node = that.findByUid(item.uid);\n                kin = node.children(\"span\");\n\n                kin.removeClass(\"k-hover\")\n                    .toggleClass(\"k-selected\", item[field])\n                    .end();\n\n                if (item[field]) {\n                    that.current(node);\n                }\n\n                node.attr(ARIA_SELECTED, !!item[field]);\n            } else {\n                var elements = $.map(items, function(item) {\n                    return that.findByUid(item.uid).children(\"span\");\n                });\n\n                for (i = 0; i < items.length; i++) {\n                    context.item = item = items[i];\n                    nodeWrapper = elements[i];\n                    node = nodeWrapper.parent();\n\n                    if (render) {\n                        if (kendo.unbind) {\n                            kendo.unbind(nodeWrapper);\n                        }\n                        nodeWrapper.children(\".k-treeview-leaf\")\n                            .html(that.templates.itemContent(context));\n                    }\n\n                    if (field == CHECKED) {\n                        isChecked = item[field];\n\n                        setCheckedState(nodeWrapper, isChecked);\n\n                        node.attr(ARIA_CHECKED, isChecked);\n\n                        if (that.options.checkboxes.checkChildren) {\n                            setCheckedState(node.children(\".k-treeview-group\"), isChecked);\n\n                            that._setChecked(item.children, isChecked);\n\n                            that._bubbleIndeterminate(node);\n                        }\n                    } else if (field == \"expanded\") {\n                        that._toggle(node, item, item[field]);\n                    } else if (field == \"enabled\") {\n                        node.find(\".k-checkbox-wrap input[type=checkbox]\").prop(\"disabled\", !item[field]);\n\n                        isCollapsed = !nodeContents(node).is(VISIBLE);\n\n                        node.removeAttr(ARIA_DISABLED);\n\n                        if (!item[field]) {\n                            if (item.selected) {\n                                item.set(\"selected\", false);\n                            }\n\n                            if (item.expanded) {\n                                item.set(\"expanded\", false);\n                            }\n\n                            isCollapsed = true;\n                            node.attr(ARIA_SELECTED, false)\n                                .attr(ARIA_DISABLED, true);\n                        }\n\n                        that._updateNodeClasses(node, {}, { enabled: item[field], expanded: !isCollapsed });\n                    }\n\n                    if (nodeWrapper.length) {\n                        this.trigger(\"itemChange\", { item: nodeWrapper, data: item, ns: ui });\n                    }\n                }\n            }\n        },\n\n        _appendItems: function(index, items, parentNode) {\n            var group = subGroup(parentNode);\n            var children = group.children();\n            var collapsed = !this._expanded(parentNode);\n\n            if (this.element === parentNode) {\n                var dataItems = this.dataSource.data();\n                var viewItems = this.dataSource.view();\n                var rootItems = viewItems.length < dataItems.length ? viewItems : dataItems;\n                index = rootItems.indexOf(items[0]);\n            } else if (items.length) {\n                index = items[0].parent().indexOf(items[0]);\n            }\n\n            if (typeof index == UNDEFINED) {\n                index = children.length;\n            }\n\n            this._insertNode(items, index, parentNode, function(item, group) {\n                // insert node into DOM\n                if (index >= children.length) {\n                    item.appendTo(group);\n                } else {\n                    item.insertBefore(children.eq(index));\n                }\n            }, collapsed);\n\n            this._updateNodeClasses(parentNode, {}, { expanded: !collapsed });\n\n            if (!collapsed) {\n                subGroup(parentNode).css(\"display\", \"block\");\n            }\n        },\n\n        _refreshChildren: function(parentNode, items, index) {\n            var i, children, child;\n            var options = this.options;\n            var loadOnDemand = options.loadOnDemand;\n            var checkChildren = options.checkboxes && options.checkboxes.checkChildren;\n\n            subGroup(parentNode).empty();\n\n            if (!items.length) {\n                updateNodeHtml(parentNode);\n            } else {\n                this._appendItems(index, items, parentNode);\n\n                children = subGroup(parentNode).children();\n\n                if (loadOnDemand && checkChildren) {\n                    this._bubbleIndeterminate(children.last());\n                }\n\n                for (i = 0; i < children.length; i++) {\n                    child = children.eq(i);\n                    this.trigger(\"itemChange\", {\n                        item: child.children(\"span\"),\n                        data: items[i],\n                        ns: ui\n                    });\n                }\n            }\n        },\n\n        _refreshRoot: function(items) {\n            var groupHtml = this._renderGroup({\n                items: items,\n                group: {\n                    firstLevel: true,\n                    expanded: true\n                }\n            });\n\n            if (this.root.length && this.root[0].parentElement) {\n                var group = $(groupHtml);\n\n                this.root\n                    .attr(\"class\", group.attr(\"class\"))\n                    .html(group.html());\n            } else {\n                this.root = this.wrapper.html(groupHtml).children(\"ul\");\n            }\n\n            var elements = this.root.children(\".k-treeview-item\");\n            for (var i = 0; i < items.length; i++) {\n                this.trigger(\"itemChange\", {\n                    item: elements.eq(i),\n                    data: items[i],\n                    ns: ui\n                });\n            }\n        },\n\n        refresh: function(e) {\n            var node = e.node;\n            var action = e.action;\n            var items = e.items;\n            var parentNode = this.wrapper;\n            var options = this.options;\n            var loadOnDemand = options.loadOnDemand;\n            var checkChildren = options.checkboxes && options.checkboxes.checkChildren;\n            var i;\n\n            if (this._skip) {\n                return;\n            }\n\n            for (i = 0; i < items.length; i++) {\n                this._dataSourceUids[items[i].uid] = items[i];\n            }\n\n            if (e.field) {\n                if (!items[0] || !items[0].level) {\n                    return;\n                }\n\n                return this._updateNodes(items, e.field);\n            }\n\n            if (node) {\n                parentNode = this.findByUid(node.uid);\n                this._progress(parentNode, false);\n            }\n\n            if (checkChildren && action != \"remove\") {\n                var bubble = false;\n\n                for (i = 0; i < items.length; i++) {\n                    if (\"checked\" in items[i]) {\n                        bubble = true;\n                        break;\n                    }\n                }\n\n                if (!bubble && node && node.checked) {\n                    for (i = 0; i < items.length; i++) {\n                        items[i].checked = true;\n                    }\n                }\n            }\n\n            if (action == \"add\") {\n                this._appendItems(e.index, items, parentNode);\n            } else if (action == \"remove\") {\n                this._remove(this.findByUid(items[0].uid), false);\n            } else if (action == \"itemchange\") {\n                this._updateNodes(items);\n            } else if (action == \"itemloaded\") {\n                this._refreshChildren(parentNode, items, e.index);\n            } else {\n                this._refreshRoot(items);\n                this.element.attr(ARIA_BUSY, false);\n            }\n\n            if (action != \"remove\") {\n                for (i = 0; i < items.length; i++) {\n                    if (!loadOnDemand || items[i].expanded || items[i]._loaded) {\n                        items[i].load();\n                    }\n                }\n            }\n\n            this.wrapper.find(\">ul\").attr(\"role\", \"tree\");\n\n\n            this.trigger(DATABOUND, { node: node ? parentNode : undefined });\n            if (this.dataSource.filter() && this.options.checkboxes.checkChildren) {\n                this.updateIndeterminate(parentNode);\n            }\n        },\n\n        _error: function(e) {\n            var node = e.node && this.findByUid(e.node.uid);\n            var retryHtml = this.templates.retry({ messages: this.options.messages });\n\n            if (node) {\n                this._progress(node, false);\n                this._expanded(node, false);\n                nodeIcon(node).replaceWith(ui.icon($(TOGGLE_ICON_ELM), { icon: \"arrow-rotate-cw\" }));\n                e.node.loaded(false);\n            } else {\n                this._progress(false);\n                this.dataSource.data([]);\n                this.element.html(retryHtml);\n            }\n        },\n\n        _retryRequest: function(e) {\n            e.preventDefault();\n\n            this.dataSource.fetch(this._attemptLoadCompleted.bind(this));\n        },\n\n        expand: function(nodes) {\n            this._processNodes(nodes, function(index, item) {\n                this.toggle(item, true);\n            });\n        },\n\n        collapse: function(nodes) {\n            this._processNodes(nodes, function(index, item) {\n                this.toggle(item, false);\n            });\n        },\n\n        enable: function(nodes, enable) {\n            if (typeof nodes === \"boolean\") {\n                enable = nodes;\n                nodes = this.items();\n            } else {\n                enable = arguments.length == 2 ? !!enable : true;\n            }\n\n            this._processNodes(nodes, function(index, item) {\n                this.dataItem(item).set(\"enabled\", enable);\n            });\n        },\n\n        current: function(node) {\n            var that = this,\n                current = that._current,\n                element = that.element;\n\n            if (arguments.length > 0 && node && node.length) {\n                if (current) {\n                    current.children(\"span\").removeClass(\"k-focus\");\n                }\n\n                current = that._current = $(node, element).closest(NODE);\n                current.children(\"span\").addClass(\"k-focus\");\n                that._updateActiveDescendant();\n\n                return;\n            }\n\n            if (!current) {\n                current = that._nextVisible($());\n            }\n\n            return current;\n        },\n\n        _updateActiveDescendant: function() {\n            var current = this._current,\n                id = current[0].id || this._ariaId,\n                prev = this.element.find(\"#\" + this._ariaId);\n\n            if (prev.length > 0) {\n                prev.removeAttr(\"id\");\n            }\n\n            this.root.removeAttr(ARIA_ACTIVEDESCENDANT);\n            current.attr(\"id\", id);\n            this.root.attr(ARIA_ACTIVEDESCENDANT, id);\n        },\n\n        select: function(node) {\n            var that = this,\n                element = that.element;\n\n            if (!arguments.length) {\n                return element.find(\".k-treeview-item-content.k-selected\").closest(NODE);\n            }\n\n            node = $(node, element).closest(NODE);\n\n            element.find(\".k-treeview-item-content.k-selected\").each(function() {\n                var item = $(this).closest(NODE);\n                var dataItem = that.dataItem(item);\n                if (dataItem) {\n                    dataItem.set(\"selected\", false);\n                    delete dataItem.selected;\n                } else {\n                    $(this).removeClass(\"k-selected\");\n                }\n            });\n\n            if (node.length) {\n                that.dataItem(node).set(\"selected\", true);\n                that._clickTarget = node;\n            }\n\n            that.trigger(CHANGE);\n        },\n\n        _toggle: function(node, dataItem, expand) {\n            var options = this.options;\n            var contents = nodeContents(node);\n            var direction = expand ? \"expand\" : \"collapse\";\n            var loaded;\n\n            if (contents.data(\"animating\")) {\n                return;\n            }\n\n            loaded = dataItem && dataItem.loaded();\n\n            if (expand && !loaded) {\n                if (options.loadOnDemand) {\n                    this._progress(node, true);\n                }\n\n                contents.remove();\n                dataItem.load();\n            } else {\n                this._updateNodeClasses(node, {}, { expanded: expand });\n\n                if (!expand) {\n                    contents.css(\"height\", contents.height()).css(\"height\");\n                }\n\n                contents\n                    .kendoStop(true, true)\n                    .kendoAnimate(extend(\n                        { reset: true },\n                        options.animation[direction],\n                        {\n                            complete: function() {\n                                if (expand) {\n                                    contents.css(\"height\", \"\");\n                                }\n                            }\n                        }\n                    ));\n            }\n\n        },\n\n        toggle: function(node, expand) {\n            node = $(node);\n\n            if (!nodeIcon(node)) {\n                return;\n            }\n\n            if (arguments.length == 1) {\n                expand = !this._expanded(node);\n            }\n\n            this._expanded(node, expand);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that.wrapper.off(NS);\n            that.wrapper.find(\".k-checkbox-wrap :checkbox\").off(NS);\n            that._clickHandler = null;\n\n            that._unbindDataSource();\n\n            if (that.dragging) {\n                that.dragging.destroy();\n            }\n\n            that._dataSourceUids = {};\n\n            kendo.destroy(that.element);\n\n            that.root = that.wrapper = that.element = null;\n        },\n\n        _expanded: function(node, value, force) {\n            var expandedAttr = kendo.attr(\"expanded\");\n            var dataItem;\n            var expanded = value;\n            var direction = expanded ? \"expand\" : \"collapse\";\n\n            if (node.children().hasClass(\"k-hidden\")) {\n                node.children().removeClass(\"k-hidden\");\n            }\n\n            if (arguments.length == 1) {\n                dataItem = this._dataItem(node);\n                return node.attr(expandedAttr) === \"true\" || (dataItem && dataItem.expanded);\n            }\n\n            dataItem = this.dataItem(node);\n\n            if (nodeContents(node).data(\"animating\")) {\n                return;\n            }\n\n            if (force || !this._trigger(direction, node)) {\n                if (expanded) {\n                    node.attr(expandedAttr, \"true\");\n                    node.attr(ARIA_EXPANDED, \"true\");\n                } else {\n                    node.removeAttr(expandedAttr);\n                    node.attr(ARIA_EXPANDED, \"false\");\n                }\n\n                if (dataItem) {\n                    dataItem.set(\"expanded\", expanded);\n                    // necessary when expanding an item yields an error and the item is not expanded as a result\n                    expanded = dataItem.expanded;\n                }\n            }\n        },\n\n        _progress: function(node, showProgress) {\n            var element = this.element;\n            var loadingText = this.templates.loading({ messages: this.options.messages });\n\n            if (arguments.length == 1) {\n                showProgress = node;\n\n                if (showProgress) {\n                    element.html(loadingText);\n                } else {\n                    element.empty();\n                }\n\n                this.element.attr(ARIA_BUSY, showProgress);\n            } else {\n                nodeIcon(node).replaceWith(\n                    $(TOGGLE_ICON_ELM)\n                        .toggleClass('k-i-loading', showProgress)\n                        .toggleClass('k-icon', showProgress));\n                node.attr(ARIA_BUSY, showProgress);\n            }\n        },\n\n        text: function(node, text) {\n            var dataItem = this.dataItem(node),\n                fieldBindings = this.options[bindings.text],\n                level = dataItem.level(),\n                length = fieldBindings.length,\n                field = fieldBindings[Math.min(level, length - 1)];\n\n            if (text) {\n                dataItem.set(field, text);\n            } else {\n                return dataItem[field];\n            }\n        },\n\n        _objectOrSelf: function(node) {\n            return $(node).closest(\"[data-role=treeview]\").data(\"kendoTreeView\") || this;\n        },\n\n        _dataSourceMove: function(nodeData, group, parentNode, callback) {\n            var referenceDataItem,\n                destTreeview = this._objectOrSelf(parentNode || group),\n                destDataSource = destTreeview.dataSource;\n            var loadPromise = $.Deferred().resolve().promise();\n\n            if (parentNode && parentNode[0] != destTreeview.element[0]) {\n                referenceDataItem = destTreeview.dataItem(parentNode);\n\n                if (!referenceDataItem.loaded()) {\n                    destTreeview._progress(parentNode, true);\n                    loadPromise = referenceDataItem.load();\n                }\n\n                if (parentNode != this.root) {\n                    destDataSource = referenceDataItem.children;\n\n                    if (!destDataSource || !(destDataSource instanceof HierarchicalDataSource)) {\n                        referenceDataItem._initChildren();\n                        referenceDataItem.loaded(true);\n                        destDataSource = referenceDataItem.children;\n                    }\n                }\n            }\n\n            nodeData = this._toObservableData(nodeData);\n\n            return callback.call(destTreeview, destDataSource, nodeData, loadPromise);\n        },\n\n        _toObservableData: function(node) {\n            var dataItem = node, dataSource, uid;\n\n            if (isJQueryInstance(node) || isDomElement(node)) {\n                dataSource = this._objectOrSelf(node).dataSource;\n                uid = $(node).attr(kendo.attr(\"uid\"));\n                dataItem = dataSource.getByUid(uid);\n\n                if (dataItem) {\n                    dataItem = dataSource.remove(dataItem);\n                }\n            }\n\n            return dataItem;\n        },\n\n        _insert: function(data, model, index) {\n            if (!(model instanceof kendo.data.ObservableArray)) {\n                if (!isArray(model)) {\n                    model = [model];\n                }\n            } else {\n                // items will be converted to new Node instances\n                model = model.toJSON();\n            }\n\n            var parentNode = data.parent();\n\n            if (parentNode && parentNode._initChildren) {\n                parentNode.hasChildren = true;\n                parentNode._initChildren();\n            }\n\n            data.splice.apply(data, [index, 0].concat(model));\n\n            return this.findByUid(data[index].uid);\n        },\n\n        insertAfter: insertAction(1),\n\n        insertBefore: insertAction(0),\n\n        append: function(nodeData, parentNode, success) {\n            var group = this.root;\n\n            if (parentNode && nodeData instanceof jQuery && parentNode[0] === nodeData[0]) {\n                return;\n            }\n\n            parentNode = parentNode && parentNode.length ? parentNode : null;\n\n            if (parentNode) {\n                group = subGroup(parentNode);\n            }\n\n            return this._dataSourceMove(nodeData, group, parentNode, function(dataSource, model, loadModel) {\n                var inserted;\n                var that = this;\n\n                function add() {\n                    if (parentNode) {\n                        that._expanded(parentNode, true, true);\n                    }\n\n                    var data = dataSource.data(),\n                        index = Math.max(data.length, 0);\n\n                    return that._insert(data, model, index);\n                }\n\n                loadModel.done(function() {\n                    inserted = add();\n                    success = success || $.noop;\n                    success(inserted);\n                });\n\n                return inserted || null;\n            });\n        },\n\n        _remove: function(node, keepData) {\n            var that = this,\n                parentNode,\n                prevSibling, nextSibling;\n\n            node = $(node, that.element);\n\n            if (node.attr(\"id\") === that.root.attr(ARIA_ACTIVEDESCENDANT)) {\n                that.root.removeAttr(ARIA_ACTIVEDESCENDANT);\n            }\n\n            parentNode = node.parent().parent();\n            prevSibling = node.prev();\n            nextSibling = node.next();\n\n            node[keepData ? \"detach\" : \"remove\"]();\n\n            if (parentNode.hasClass(\"k-treeview-item\")) {\n                updateNodeHtml(parentNode);\n                that._updateNodeClasses(parentNode);\n            }\n\n            that._updateNodeClasses(prevSibling);\n            that._updateNodeClasses(nextSibling);\n\n            return node;\n        },\n\n        remove: function(node) {\n            var dataItem = this.dataItem(node);\n            if (dataItem) {\n                this.dataSource.remove(dataItem);\n            }\n        },\n\n        detach: function(node) {\n            return this._remove(node, true);\n        },\n\n        findByText: function(text) {\n            return $(this.element).find(\".k-treeview-leaf\").filter(function(i, element) {\n                return $(element).text() == text;\n            }).closest(NODE);\n        },\n\n        findByUid: function(uid) {\n            var items = this.element.find(\".k-treeview-item\");\n            var uidAttr = kendo.attr(\"uid\");\n            var result;\n\n            for (var i = 0; i < items.length; i++) {\n                if (items[i].getAttribute(uidAttr) == uid) {\n                    result = items[i];\n                    break;\n                }\n            }\n\n            return $(result);\n        },\n\n        expandPath: function(path, complete) {\n            var treeview = this;\n            var nodeIds = path.slice(0);\n            var callback = complete || $.noop;\n\n            function proceed() {\n                nodeIds.shift();\n\n                if (nodeIds.length) {\n                    expand(nodeIds[0]).then(proceed);\n                } else {\n                    callback.call(treeview);\n                }\n            }\n\n            function expand(id) {\n                var result = $.Deferred();\n                var node = treeview.dataSource.get(id);\n                var expandedAttr = kendo.attr(\"expanded\");\n                var nodeElement;\n\n                if (node) {\n                    nodeElement = treeview.findByUid(node.uid);\n\n                    if (node.loaded()) {\n                        node.set(\"expanded\", true);\n                        nodeElement.attr(expandedAttr, true);\n                        nodeElement.attr(ARIA_EXPANDED, true);\n                        result.resolve();\n                    } else {\n                        // manually show progress of the node\n                        // should be moved to `refresh`\n                        // if the datasource starts triggering a `requestStart` event for nodes\n                        treeview._progress(nodeElement, true);\n\n                        node.load().then(function() {\n                            node.set(\"expanded\", true);\n                            nodeElement.attr(expandedAttr, true);\n                            nodeElement.attr(ARIA_EXPANDED, true);\n                            result.resolve();\n                        });\n                    }\n                } else {\n                    result.resolve();\n                }\n\n                return result.promise();\n            }\n\n            // expand async nodes\n            expand(nodeIds[0]).then(proceed);\n        },\n\n        _parentIds: function(node) {\n            var parent = node && node.parentNode();\n            var parents = [];\n            while (parent && parent.parentNode) {\n                parents.unshift(parent.id);\n                parent = parent.parentNode();\n            }\n\n            return parents;\n        },\n\n        expandTo: function(node) {\n            if (!(node instanceof kendo.data.Node)) {\n                node = this.dataSource.get(node);\n            }\n\n            var parents = this._parentIds(node);\n\n            this.expandPath(parents);\n        },\n\n        _renderItem: function(options) {\n            if (!options.group) {\n                options.group = {};\n            }\n\n            options.treeview = this.options;\n\n            options.r = this.templates;\n\n            return this.templates.item(options);\n        },\n\n        _renderGroup: function(options) {\n            var that = this;\n\n            options.renderItems = function(options) {\n                var html = \"\",\n                    i = 0,\n                    items = options.items,\n                    len = items ? items.length : 0,\n                    group = options.group;\n\n                group.length = len;\n\n                for (; i < len; i++) {\n                    options.group = group;\n                    options.item = items[i];\n                    options.item.index = i;\n                    html += that._renderItem(options);\n                }\n\n                return html;\n            };\n\n            options.r = that.templates;\n\n            return that.templates.group(options);\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"TreeView\", \"k-treeview-\");\n\n    ui.plugin(TreeView);\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}