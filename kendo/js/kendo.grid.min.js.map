{"version":3,"file":"kendo.grid.min.js","names":[],"sources":["../../src/grid/contextmenu.js","../../src/grid/commands.js","../../src/utils/loaderContainer.js","../../src/kendo.grid.js"],"sourcesContent":["import \"../kendo.menu.js\";\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        ContextMenu = ui.ContextMenu,\n        extend = $.extend,\n        encode = kendo.htmlEncode;\n\n    var ACTION = \"action\";\n\n    var GridContextMenu = ContextMenu.extend({\n        init: function(element, options) {\n            var that = this;\n\n            ContextMenu.fn.init.call(that, element, options);\n\n            that._overrideTemplates();\n            that._extendItems();\n\n            that.bind(\"select\", that._onSelect.bind(that));\n            that.bind(\"open\", that._onOpen.bind(that));\n        },\n\n        _overrideTemplates: function() {\n            this.templates.sprite = ({ icon, spriteCssClass }) => `${(icon || spriteCssClass) ? kendo.ui.icon({ icon: encode(icon || \"\"), iconClass: encode(spriteCssClass || \"\") }) : ''}`;\n        },\n\n        defaultItems: {\n            \"separator\": { name: \"separator\", separator: true },\n            \"create\": { name: \"create\", text: \"Add\", icon: \"plus\", command: \"AddCommand\", rules: \"isEditable\" },\n            \"edit\": { name: \"edit\", text: \"Edit\", icon: \"pencil\", command: \"EditCommand\", rules: \"isEditable\" },\n            \"destroy\": { name: \"destroy\", text: \"Delete\", icon: \"trash\", command: \"DeleteCommand\", rules: \"isEditable\" },\n            \"select\": { name: \"select\", text: \"Select\", icon: \"table-body\", rules: \"isSelectable\", items: [\n                { name: \"selectRow\", text: \"Row\", icon: \"table-row-groups\", command: \"SelectRowCommand\" },\n                { name: \"selectAllRows\", text: \"All rows\", icon: \"grid\", command: \"SelectAllRowsCommand\" },\n                { name: \"clearSelection\", text: \"Clear selection\", icon: \"table-unmerge\", softRules: \"hasSelection\", command: \"ClearSelectionCommand\" },\n            ] },\n            \"copySelection\": { name: \"copySelection\", text: \"Copy selection\", icon: \"page-header-section\", rules: \"isSelectable\", softRules: \"hasSelection\", command: \"CopySelectionCommand\", options: \"withHeaders\" },\n            \"copySelectionNoHeaders\": { name: \"copySelectionNoHeaders\", text: \"Copy selection (No Headers)\", icon: \"file-txt\", rules: \"isSelectable\", softRules: \"hasSelection\", command: \"CopySelectionCommand\" },\n            \"paste\": { name: \"paste\", text: \"Paste (use CTRL/âŒ˜ + V)\", rules: \"allowPaste\", softRules: \"alwaysDisabled\", icon: \"clipboard\" },\n            \"reorderRow\": { name: \"reorderRow\", text: \"Reorder row\", icon: \"caret-alt-expand\", rules: \"isRowReorderable\", softRules: \"isSorted\", items: [\n                { name: \"reorderRowUp\", text: \"Up\", icon: \"caret-alt-up\", command: \"ReorderRowCommand\", options: \"dir:up\" },\n                { name: \"reorderRowDown\", text: \"Down\", icon: \"caret-alt-down\", command: \"ReorderRowCommand\", options: \"dir:down\" },\n                { name: \"reorderRowTop\", text: \"Top\", icon: \"caret-alt-to-top\", command: \"ReorderRowCommand\", options: \"dir:top\" },\n                { name: \"reorderRowBottom\", text: \"Bottom\", icon: \"caret-alt-to-bottom\", command: \"ReorderRowCommand\", options: \"dir:bottom\" }\n            ] },\n            \"exportPDF\": { name: \"exportPDF\", text: \"Export to PDF\", icon: \"file-pdf\", command: \"ExportPDFCommand\" },\n            \"exportExcel\": { name: \"exportExcel\", text: \"Export to Excel\", icon: \"file-excel\", items: [\n                { name: \"exportToExcelAll\", text: \"All\", command: \"ExportExcelCommand\" },\n                { name: \"exportToExcelSelection\", text: \"Selection\", command: \"ExportExcelCommand\", softRules: \"hasSelection\", options: \"selection,withHeaders\" },\n                { name: \"exportToExcelSelectionNoHeaders\", text: \"Selection (No Headers)\", softRules: \"hasSelection\", command: \"ExportExcelCommand\", options: \"selection\" }\n            ] },\n            \"sortAsc\": { name: \"sortAsc\", text: \"Sort Ascending\", icon: \"sort-asc-small\", rules: \"isSortable\", command: \"SortCommand\", options: \"dir:asc\" },\n            \"sortDesc\": { name: \"sortDesc\", text: \"Sort Descending\", icon: \"sort-desc-small\", rules: \"isSortable\", command: \"SortCommand\", options: \"dir:desc\" },\n            \"moveGroupPrevious\": { name: \"moveGroupPrevious\", text: \"Move previous\", icon: \"arrow-left\", rules: \"isGroupable\", softRules: \"canMoveGroupPrev\", command: \"MoveGroupCommand\", options: \"dir:prev\" },\n            \"moveGroupNext\": { name: \"moveGroupNext\", text: \"Move next\", icon: \"arrow-right\", rules: \"isGroupable\", softRules: \"canMoveGroupNext\", command: \"MoveGroupCommand\", options: \"dir:next\" }\n            // \"filter\": { name: \"filter\", text: \"Filter\", icon: \"filter\", attr: { [kendo.attr(\"is-filter\")]: true }, items: [\n            //     { content: '<div class=\"k-columnmenu-item-wrapper\"><div class=\"k-columnmenu-item-content k-column-menu-filter\"><div class=\"k-filterable\"></div></div></div>' }\n            // ] },\n        },\n\n        events: ContextMenu.fn.events.concat([\n            ACTION\n        ]),\n\n        _onSelect: function(ev) {\n            var command = $(ev.item).data(\"command\");\n            var options = $(ev.item).data(\"options\");\n                options = options ? options.split(\",\")\n                .map(val => {\n                    if (val.indexOf(\":\") > -1) {\n                        var [key, val] = val.split(\":\");\n                        return { [key || \"_\"]: val };\n                    }\n\n                    return { [val]: true };\n                })\n                .reduce((acc, v) => Object.assign(acc, v), {}) : {};\n\n            var target = $(ev.target);\n\n            if (!command) {\n                return;\n            }\n\n            this.action({\n                command: command,\n                options: Object.assign(options, { target: target })\n            });\n        },\n\n        _onOpen: function(ev) {\n            var menu = ev.sender,\n                items = menu.options.items,\n                elTarget = $(ev.event ? ev.event.target : null);\n\n            if ((!items && $.isEmptyObject(this.defaultItems)) || elTarget.closest(\".k-grid-column-menu\").length) {\n                ev.preventDefault();\n                return;\n            }\n\n            this._toggleSeparatorVisibility();\n\n            menu.element.find(`[${kendo.attr('soft-rules')}]`).each((i, item) => {\n                var rules = $(item).attr(kendo.attr('soft-rules')).split(\";\");\n                menu.enable(item, this._validateSoftRules(rules, elTarget));\n            });\n        },\n\n        _toggleSeparatorVisibility: function() {\n            var that = this,\n                items = that.element.find(\".k-item.k-separator\").filter((i, item) => {\n                    var prev = $(item).prev(\".k-item:not(.k-separator)\");\n                    var next = $(item).next(\".k-item:not(.k-separator)\");\n\n                    return !(prev.length && next.length);\n                });\n\n            items.hide();\n        },\n\n        _extendItems: function() {\n            var that = this,\n                items = that.options.items,\n                item, isBuiltInTool;\n\n            if (items && items.length) {\n                for (var i = 0; i < items.length; i++) {\n                    item = items[i];\n                    isBuiltInTool = $.isPlainObject(item) && Object.keys(item).length === 1 && item.name;\n\n                    if (isBuiltInTool) {\n                        item = item.name;\n                    }\n\n                    if ($.isPlainObject(item)) {\n                        that._append(item);\n                    } else if (that.defaultItems[item]) {\n                        item = that.defaultItems[item];\n                        that._append(item);\n                    } else if (typeof(item) === \"string\") {\n                        item = { name: item, text: item, spriteCssClass: item, command: item + \"Command\" };\n                        that._append(item);\n                    }\n                }\n            } else {\n                for (var key in that.defaultItems) {\n                    item = that.defaultItems[key];\n                    that._append(item);\n                }\n            }\n        },\n\n        _extendItem: function(item) {\n            var that = this,\n                messages = that.options.messages,\n                attr = item.attr || {};\n\n            if (item.command) {\n                attr[kendo.attr(\"command\")] = item.command;\n            }\n\n            if (item.options) {\n                attr[kendo.attr(\"options\")] = item.options;\n            }\n\n            if (item.softRules) {\n                attr[kendo.attr(\"soft-rules\")] = item.softRules;\n            }\n\n            if (item.items) {\n                for (var j = 0; j < item.items.length; j++) {\n                    item.items.forEach(subItem => {\n                        that._extendItem(subItem);\n                    });\n                }\n            }\n\n            extend(item, {\n                text: messages.commands[item.name],\n                icon: item.icon || \"\",\n                spriteCssClass: item.spriteCssClass || \"\",\n                attr: attr,\n                uid: kendo.guid()\n            });\n        },\n\n        _validateSoftRules: function(rules, target) {\n            var that = this;\n\n            if (!rules || !(rules && rules.length)) {\n                return true;\n            }\n\n            for (var i = 0; i < rules.length; i++) {\n                if (!this._readState(rules[i], target)) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n\n        _validateRules: function(tool) {\n            var that = this,\n                rules = tool.rules ? tool.rules.split(\";\") : [];\n\n            if (!rules.length) {\n                return true;\n            }\n\n            for (var i = 0; i < rules.length; i++) {\n                if (!this._readState(rules[i])) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n\n        _readState: function(state, target) {\n            var that = this,\n                states = that.options.states;\n\n            if (kendo.isFunction(states[state])) {\n                return states[state](target);\n            } else {\n                return states[state];\n            }\n        },\n\n        _append: function(item) {\n            var that = this;\n\n            that._extendItem(item);\n\n            if (that._validateRules(item)) {\n                that.append(item);\n            }\n        },\n\n        action: function(args) {\n            this.trigger(ACTION, args);\n        }\n    });\n\n    kendo.ui.grid = kendo.ui.grid || {};\n\n    extend(kendo.ui.grid, {\n        ContextMenu: GridContextMenu\n    });\n})(window.kendo.jQuery);","(function($, undefined) {\n    var kendo = window.kendo,\n        extend = $.extend,\n        Class = kendo.Class;\n\n    var Command = Class.extend({\n        init: function(options) {\n            this.options = options;\n            this.grid = options.grid;\n        }\n    });\n\n    var MoveGroupCommand = Command.extend({\n        exec: function() {\n            var that = this,\n                grid = that.grid,\n                groupable = grid.groupable,\n                options = that.options,\n                target = options.target.closest(\".k-chip\"),\n                method = options.dir === \"next\" ? \"after\" : \"before\",\n                position = options.dir === \"next\" ? target.next() : target.prev();\n\n            position[method](target);\n            groupable._change();\n        },\n    });\n\n    var SortCommand = Command.extend({\n        exec: function() {\n            var that = this,\n                grid = that.grid,\n                dataSource = grid.dataSource,\n                sort = dataSource.sort() || [],\n                options = that.options,\n                dir = options.dir,\n                field = grid._getCellField(options.target),\n                multipleMode = grid.options.sortable.mode && grid.options.sortable.mode === \"multiple\",\n                compare = grid.options.compare,\n                length, idx;\n\n            if (multipleMode) {\n                for (idx = 0, length = sort.length; idx < length; idx++) {\n                    if (sort[idx].field === field) {\n                        sort.splice(idx, 1);\n                        break;\n                    }\n                }\n                sort.push({ field: field, dir: dir, compare: compare });\n            } else {\n                sort = [{ field: field, dir: dir, compare: compare }];\n            }\n\n            dataSource.sort(sort);\n        },\n    });\n\n    var AddCommand = Command.extend({\n        exec: function() {\n            var that = this,\n                grid = that.grid;\n\n            grid.addRow();\n        }\n    });\n\n    var EditCommand = Command.extend({\n        exec: function() {\n            var that = this,\n                grid = that.grid,\n                inCellMode = grid._editMode() === \"incell\",\n                target = inCellMode ? that.options.target : that.options.target.closest(\"tr\");\n\n            if (inCellMode) {\n                grid.editCell(target);\n            } else {\n                grid.editRow(target);\n            }\n        }\n    });\n\n    var DeleteCommand = Command.extend({\n        exec: function() {\n            var that = this,\n                grid = that.grid,\n                target = that.options.target.closest(\"tr\");\n\n            grid.removeRow(target);\n        }\n    });\n\n    var CopySelectionCommand = Command.extend({\n        exec: function() {\n            var that = this,\n                grid = that.grid,\n                withHeaders = that.options.withHeaders;\n\n            grid.copySelectionToClipboard(withHeaders);\n        }\n    });\n\n    var SelectRowCommand = Command.extend({\n        exec: function() {\n            var that = this,\n                grid = that.grid,\n                selectMode = kendo.ui.Selectable.parseOptions(grid.options.selectable),\n                target = that.options.target.closest(\"tr\");\n\n            grid.select(selectMode.cell ? target.find('td') : target);\n        }\n    });\n\n    var SelectAllRowsCommand = Command.extend({\n        exec: function() {\n            var that = this,\n                grid = that.grid,\n                selectMode = kendo.ui.Selectable.parseOptions(grid.options.selectable),\n                rows = grid.items();\n\n            grid.select(selectMode.cell ? rows.find('td') : rows);\n        }\n    });\n\n    var ClearSelectionCommand = Command.extend({\n        exec: function() {\n            var that = this,\n                grid = that.grid;\n\n            grid.clearSelection();\n        }\n    });\n\n    var ReorderRowCommand = Command.extend({\n        exec: function() {\n            var that = this,\n                grid = that.grid,\n                dir = that.options.dir,\n                target = that.options.target.closest(\"tr\"),\n                index = target.index(),\n                newIndex;\n\n            switch (dir) {\n                case \"up\":\n                    newIndex = index - 1;\n                    break;\n                case \"down\":\n                    newIndex = index + 2;\n                    break;\n                case \"top\":\n                    newIndex = 0;\n                    break;\n                case \"bottom\":\n                    newIndex = grid.items().length;\n                    break;\n            }\n\n            grid.reorderRowTo(target, newIndex);\n        }\n    });\n\n    var ExportPDFCommand = Command.extend({\n        exec: function() {\n            var that = this,\n                grid = that.grid;\n\n            grid.saveAsPDF();\n        }\n    });\n\n    var ExportExcelCommand = Command.extend({\n        exec: function() {\n            var that = this,\n                selection = that.options.selection,\n                withHeaders = that.options.withHeaders,\n                grid = that.grid;\n\n            if (selection) {\n                grid.exportSelectedToExcel(withHeaders);\n            } else {\n                grid.saveAsExcel();\n            }\n        }\n    });\n\n    kendo.ui.grid = kendo.ui.grid || {};\n\n    extend(kendo.ui.grid, {\n        GridCommand: Command,\n        commands: {\n            SortCommand: SortCommand,\n            AddCommand: AddCommand,\n            EditCommand: EditCommand,\n            DeleteCommand: DeleteCommand,\n            CopySelectionCommand: CopySelectionCommand,\n            SelectRowCommand: SelectRowCommand,\n            SelectAllRowsCommand: SelectAllRowsCommand,\n            ClearSelectionCommand: ClearSelectionCommand,\n            ReorderRowCommand: ReorderRowCommand,\n            ExportPDFCommand: ExportPDFCommand,\n            ExportExcelCommand: ExportExcelCommand,\n            MoveGroupCommand: MoveGroupCommand\n        }\n    });\n})(window.kendo.jQuery);","import '../kendo.core.js';\n\nlet $ = kendo.jQuery;\n\nexport function useLoaderContainer(toggle, options) {\n    var that = this,\n        wrapper = that.wrapper;\n\n    if (toggle && that.loader) {\n        if (!that.wrapper.find(\".k-loader-container\").length) {\n\n            var defaultOptions = {\n                message: \"Loading...\",\n                overlayColor: \"dark\",\n                themeColor: \"primary\",\n            };\n            defaultOptions = $.extend({}, defaultOptions, options);\n\n            const loaderOverlay = kendo.html.renderLoaderContainer($(\"<div></div>\"), defaultOptions);\n            const wrapperWidth = that.wrapper.width();\n\n            const mask = $(\"<div class='k-loading-pdf-mask'></div>\");\n            const wrapperClone = that.wrapper.clone().removeAttr(\"id\").addClass('k-loading-pdf-progress').width(wrapperWidth);\n            mask.append(wrapperClone);\n            mask.append(loaderOverlay);\n            that.mask = mask;\n\n            wrapper.append(mask);\n\n            that.wrapperClone = mask.find(\".k-pivotgrid\");\n            that.loaderOverlay = mask.find(\".k-loader-container\");\n\n            that.loader.element.insertBefore(mask.find(\".k-loader-container-label\"));\n        }\n    } else {\n        if (that.loaderOverlay.length) {\n            kendo.destroy(that.loaderOverlay);\n            that.mask.remove();\n        }\n    }\n}","import \"./kendo.data.js\";\nimport \"./kendo.columnsorter.js\";\nimport \"./kendo.editable.js\";\nimport \"./kendo.window.js\";\nimport \"./kendo.aiprompt.js\";\nimport \"./kendo.badge.js\";\nimport \"./kendo.filtermenu.js\";\nimport \"./kendo.filtercell.js\";\nimport \"./kendo.columnmenu.js\";\nimport \"./kendo.groupable.js\";\nimport \"./kendo.pager.js\";\nimport \"./kendo.selectable.js\";\nimport \"./kendo.sortable.js\";\nimport \"./kendo.reorderable.js\";\nimport \"./kendo.resizable.js\";\nimport \"./kendo.ooxml.js\";\nimport \"./kendo.excel.js\";\nimport \"./kendo.pane.js\";\nimport \"./kendo.pdf.js\";\nimport \"./kendo.dialog.js\";\nimport \"./kendo.pane.js\";\nimport \"./kendo.switch.js\";\nimport \"./kendo.html.button.js\";\nimport \"./kendo.textbox.js\";\nimport \"./kendo.form.js\";\nimport \"./kendo.toolbar.js\";\nimport \"./kendo.icons.js\";\nimport \"./kendo.smartbox.js\";\nimport \"./grid/contextmenu.js\";\nimport \"./grid/commands.js\";\nimport \"./kendo.loader.js\";\nimport \"./kendo.html.loadercontainer.js\";\nimport { useLoaderContainer } from \"./utils/loaderContainer.js\";\n\nexport const __meta__ = {\n    id: \"grid\",\n    name: \"Grid\",\n    category: \"web\",\n    description: \"The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.\",\n    depends: [\"data\", \"columnsorter\", \"sortable\", \"toolbar\", \"html.button\", \"icons\", \"menu\", \"loader\", \"html.loadercontainer\", \"badge\", \"aiprompt\", \"smartbox\"],\n    features: [{\n        id: \"grid-editing\",\n        name: \"Editing\",\n        description: \"Support for record editing\",\n        depends: [\"editable\", \"window\", \"textbox\", \"form\"]\n    }, {\n        id: \"grid-filtering\",\n        name: \"Filtering\",\n        description: \"Support for record filtering\",\n        depends: [\"filtermenu\"]\n    }, {\n        id: \"grid-columnmenu\",\n        name: \"Column menu\",\n        description: \"Support for header column menu\",\n        depends: [\"columnmenu\"]\n    }, {\n        id: \"grid-grouping\",\n        name: \"Grouping\",\n        description: \"Support for grid grouping\",\n        depends: [\"groupable\"]\n    }, {\n        id: \"grid-filtercell\",\n        name: \"Row filter\",\n        description: \"Support for grid header filtering\",\n        depends: [\"filtercell\"]\n    }, {\n        id: \"grid-paging\",\n        name: \"Paging\",\n        description: \"Support for grid paging\",\n        depends: [\"pager\"]\n    }, {\n        id: \"grid-selection\",\n        name: \"Selection\",\n        description: \"Support for row selection\",\n        depends: [\"selectable\"]\n    }, {\n        id: \"grid-column-reorder\",\n        name: \"Column reordering\",\n        description: \"Support for column reordering\",\n        depends: [\"reorderable\"]\n    }, {\n        id: \"grid-column-resize\",\n        name: \"Column resizing\",\n        description: \"Support for column resizing\",\n        depends: [\"resizable\"]\n    }, {\n        id: \"grid-mobile\",\n        name: \"Grid adaptive rendering\",\n        description: \"Support for adaptive rendering\",\n        depends: [\"dialog\", \"pane\", \"switch\"]\n    }, {\n        id: \"grid-excel-export\",\n        name: \"Excel export\",\n        description: \"Export grid data as Excel spreadsheet\",\n        depends: [\"excel\"]\n    }, {\n        id: \"grid-pdf-export\",\n        name: \"PDF export\",\n        description: \"Export grid data as PDF\",\n        depends: [\"pdf\", \"drawing\"]\n    }]\n};\n\n(function($, undefined) {\n    let kendo = window.kendo,\n        ui = kendo.ui,\n        DataSource = kendo.data.DataSource,\n        ObservableObject = kendo.data.ObservableObject,\n        tbodySupportsInnerHtml = kendo.support.tbodyInnerHtml,\n        activeElement = kendo._activeElement,\n        Widget = ui.Widget,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        keys = kendo.keys,\n        getType = kendo.type,\n\n        isPlainObject = $.isPlainObject,\n        extend = $.extend,\n        map = $.map,\n        grep = $.grep,\n        isArray = Array.isArray,\n        inArray = $.inArray,\n        push = Array.prototype.push,\n        isFunction = kendo.isFunction,\n        encode = kendo.htmlEncode,\n        isEmptyObject = $.isEmptyObject,\n        contains = $.contains,\n        math = Math,\n\n        DOT = \".\",\n        PROGRESS = \"progress\",\n        ERROR = \"error\",\n        HIERARCHY_CELL_CLASS = \"k-hierarchy-cell\",\n        DATA_CELL = \":not(.k-group-cell):not([\" + kendo.attr(\"virtual\") + \"]):not(.k-hierarchy-cell:not(:has(.k-icon.k-i-caret-alt-down,.k-icon.k-i-caret-alt-right,.k-svg-icon.k-svg-i-caret-alt-down,.k-svg-icon.k-svg-i-caret-alt-right,.k-svg-icon.k-svg-i-caret-alt-left,.k-icon.k-i-caret-alt-left))):visible\",\n        DATA_CELL_HIDDENINCLUDED = \":not([\" + kendo.attr(\"virtual\") + \"]):not(.k-hierarchy-cell:not(:has(.k-icon.k-i-caret-alt-down,.k-icon.k-i-caret-alt-right,.k-svg-icon.k-svg-i-caret-alt-down,.k-svg-icon.k-svg-i-caret-alt-right,.k-svg-icon.k-svg-i-caret-alt-left,.k-icon.k-i-caret-alt-left)))\",\n        SELECTION_CELL_SELECTOR = \"tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer):not([data-skeleton-row]) > td:not(.k-group-cell):not(.k-hierarchy-cell)\",\n        STACKED_CELL_SELECTOR = \"tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer):not([data-skeleton-row]) > td:not(.k-group-cell):not(.k-hierarchy-cell) div.k-grid-stack-cell\",\n        NAVROW = \"tr:not(.k-footer-template):visible\",\n        NAVCELL = \":not(.k-group-cell):not(.k-detail-cell):not(.k-hierarchy-cell):visible\",\n        ITEMROW = \"tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible\",\n        COLGROUP = \"col:not(.k-group-col, .k-hierarchy-col)\",\n        HEADERCELLS = \"th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)\",\n        CARET_ALT_DOWN = \"a[class*='-i-caret-alt-down']\",\n        CARET_ALT_RIGHT = \"a[class*='-i-caret-alt-right']\",\n        CARET_ALT_RIGHT_CACHE = CARET_ALT_RIGHT,\n        CARET_ALT_LEFT = \"a[class*='-i-caret-alt-left']\",\n        WRAPPER = \".k-grid\",\n        STACKED = \"k-grid-stack\",\n        NS = \".kendoGrid\",\n        CONTENTRLOCKEDCONTAINER = \"k-grid-content-locked\",\n        GROUPCELLCLASS = \"k-group-cell\",\n        INPUT_SELECTORS = \":button,a,:input,a>.k-icon,a>.k-svg-icon,textarea,span.k-select,span.k-icon,span.k-svg-icon,span.k-svg-icon>svg,span.k-svg-icon>svg>path,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdownlist,.k-switch-thumb,.k-switch-track,.k-switch-label-off,.k-switch-label-on\",\n\n        EDIT = \"edit\",\n        BEFOREEDIT = \"beforeEdit\",\n        SAVE = \"save\",\n        REMOVE = \"remove\",\n        DETAILINIT = \"detailInit\",\n        FILTERMENUINIT = \"filterMenuInit\",\n        COLUMNMENUINIT = \"columnMenuInit\",\n        FILTERMENUOPEN = \"filterMenuOpen\",\n        COLUMNMENUOPEN = \"columnMenuOpen\",\n        CELLCLOSE = \"cellClose\",\n        CHANGING = \"changing\",\n        CHANGE = \"change\",\n        COLUMNHIDE = \"columnHide\",\n        COLUMNSHOW = \"columnShow\",\n        SAVECHANGES = \"saveChanges\",\n        DATABOUND = \"dataBound\",\n        DETAILEXPAND = \"detailExpand\",\n        DETAILCOLLAPSE = \"detailCollapse\",\n        ITEM_CHANGE = \"itemchange\",\n        PAGE = \"page\",\n        PAGING = \"paging\",\n        PASTE = \"paste\",\n        SCROLL = \"scroll\",\n        SYNC = \"sync\",\n        LOAD_START = \"loadStart\",\n        LOAD_END = \"loadEnd\",\n        REQUESTEND = \"requestEnd\",\n\n        FOCUSED = \"k-focus\",\n        HIGHLIGHTED = \"k-highlighted\",\n        HOVER = \"k-hover\",\n        ACTIVE = \"k-active\",\n        FOCUSABLE = \":kendoFocusable\",\n        FOCUSABLE_GRID_ELEMENT_SELECTORS = \".k-command-cell,.k-select-checkbox,.k-grid-stack-cell[tabindex]\",\n        SELECTED = \"k-selected\",\n        CHECKBOX = \"k-checkbox\",\n        CHECKBOXINPUT = \"input[data-role='checkbox'].k-select-checkbox.\" + CHECKBOX,\n        NORECORDSCLASS = \"k-grid-norecords\",\n        LINK_CLASS = \"k-link\",\n        ICON_CLASS = \"k-icon\",\n        SVG_ICON_CLASS = \"k-svg-icon\",\n        ORDER_CLASS = \"k-sort-order\",\n        SORTED_CLASS = \"k-sorted\",\n        HEADER_CLASS = \"k-header\",\n        HEADER_COLUMN_MENU_CLASS = \"k-grid-column-menu\",\n        FILTER_MENU_CLASS = \"k-grid-filter-menu\",\n        STICKY_CELL_CLASS = \"k-grid-content-sticky\",\n        STICKY_HEADER_CLASS = \"k-grid-header-sticky\",\n        STICKY_FOOTER_CLASS = \"k-grid-footer-sticky\",\n        STICKY_HEADER_NO_BORDER_CLASS = \"k-grid-no-left-border\",\n        STACKED_TEMPLATE_WRAPPER_CLASS = \"k-grid-column-template\",\n        ROW_RESIZER = \"k-row-resizer\",\n        ROW_RESIZER_WRAP = \"k-resizer-wrap\",\n        GROUPING_ROW = \"k-grouping-row\",\n        RESIZE = \"resize\",\n        ROWRESIZE = \"rowResize\",\n        COLUMNRESIZE = \"columnResize\",\n        COLUMNREORDER = \"columnReorder\",\n        COLUMNLOCK = \"columnLock\",\n        COLUMNUNLOCK = \"columnUnlock\",\n        COLUMNSTICK = \"columnStick\",\n        COLUMNUNSTICK = \"columnUnstick\",\n        ROWREORDER = \"rowReorder\",\n        NAVIGATE = \"navigate\",\n        CLICK = \"click\",\n        MOUSEDOWN = \"mousedown\",\n        MOUSEUP = \"mouseup\",\n        MOUSEENTER = \"mouseenter\",\n        MOUSELEAVE = \"mouseleave\",\n        MOUSEMOVE = \"mousemove\",\n        DUBLECLICK = \"dblclick\",\n        HEIGHT = \"height\",\n        WIDTH = \"width\",\n        AUTO = \"auto\",\n        TABINDEX = \"tabIndex\",\n        FUNCTION = \"function\",\n        STRING = \"string\",\n        NUMBER = \"number\",\n        BOTTOM = \"bottom\",\n        CONTAINER_FOR = \"container-for\",\n        FIELD = \"field\",\n        INPUT = \"input\",\n        INCELL = \"incell\",\n        INLINE = \"inline\",\n        UNIQUE_ID = \"uid\",\n        MINCOLSPANVALUE = 1,\n        COLSPAN = \"colSpan\",\n        OVERFLOW = \"overflow\",\n        HIDDEN = \"hidden\",\n        SORT = \"sort\",\n        GROUP_SORT = \"group-sort\",\n        DELETECONFIRM = \"Are you sure you want to delete this record?\",\n        NORECORDS = \"No records available.\",\n        CONFIRMDELETE = \"Delete\",\n        CANCELDELETE = \"Cancel\",\n        COLLAPSE = \"Collapse\",\n        EXPAND = \"Expand\",\n        ID = \"id\",\n        PX = \"px\",\n        TR = \"tr\",\n        TH = \"th\",\n        TD = \"td\",\n        DIV = \"div\",\n\n        ARIA_LABEL = \"aria-label\",\n        ARIA_OWNS = \"aria-owns\",\n        ARIA_ROWCOUNT = \"aria-rowcount\",\n        ARIA_COLCOUNT = \"aria-colcount\",\n        ARIA_CONTROLS = \"aria-controls\",\n        ARIA_COLINDEX = \"aria-colindex\",\n        ARIA_ROWINDEX = \"aria-rowindex\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_CHECKED = \"aria-checked\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        ROLE = \"role\",\n        NONE = \"none\",\n        ROW = \"row\",\n        ROWGROUP = \"rowgroup\",\n        COLUMNHEADER = \"columnheader\",\n        GRIDCELL = \"gridcell\",\n\n        formatRegExp = /(\\}|\\#)/ig,\n        templateHashRegExp = /#/ig,\n        whitespaceRegExp = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n        leftRegExp = new RegExp(\"(\\\\s*left\\\\s*:\\\\s*\\\\d*px;?)*\", \"ig\"),\n        rightRegExp = new RegExp(\"(\\\\s*right\\\\s*:\\\\s*\\\\d*px;?)*\", \"ig\"),\n        nonDataCellsRegExp = new RegExp(\"(^|\" + whitespaceRegExp + \")\" + \"(k-group-cell|k-hierarchy-cell)\" + \"(\" + whitespaceRegExp + \"|$)\"),\n        filterRowRegExp = new RegExp(\"(^|\" + whitespaceRegExp + \")\" + \"(k-filter-row)\" + \"(\" + whitespaceRegExp + \"|$)\"),\n        COMMANDBUTTONTMPL = ({ className, attr, text }) => `<button type=\"button\" class=\"${className}\" ${attr}>${kendo.htmlEncode(text)}</button>`,\n        DEFAULTSELECTCOLUMNTMPL = (size, ariaLabel, label) => `<span class=\"k-checkbox-wrap\"><input tabindex=\"-1\" class=\"k-select-checkbox ${CHECKBOX} ${size}\" data-role=\"checkbox\" aria-label=\"${ariaLabel}\" aria-checked=\"false\" type=\"checkbox\"></span>${label ? `<label class=\"k-checkbox-label\">${label}</label>` : \"\"}`,\n        SELECTCOLUMNTMPL = ({ size }) => DEFAULTSELECTCOLUMNTMPL(size, \"Select row\"),\n        SELECTCOLUMNHEADERTMPL = ({ size, label }) => DEFAULTSELECTCOLUMNTMPL(size, \"Select all rows\", label),\n        DRAGHANDLECOLUMNTMPL = () => kendo.ui.icon(\"reorder\"),\n        DEFAULTHEADERTEMPLATE = ({ text }) => `<span class=\"k-cell-inner\"><span class=\"k-link\"><span class=\"k-column-title\">${text}</span></span></span>`,\n        isRtl = false,\n        browser = kendo.support.browser;\n\n    var isIE11 = browser.msie && browser.version === 11;\n    var isMac = /Mac OS/.test(navigator.userAgent);\n    var classNames = {\n        content: \"k-content\",\n        scrollContainer: \"k-scroll-container\",\n        headerCellInner: \"k-cell-inner\"\n    };\n    var GroupsPager;\n\n    var defaultBodyContextMenu = [\n        \"copySelection\",\n        \"copySelectionNoHeaders\",\n        \"paste\",\n        \"separator\",\n        \"create\",\n        \"edit\",\n        \"destroy\",\n        \"select\",\n        \"separator\",\n        \"reorderRow\",\n        \"exportPDF\",\n        \"exportExcel\",\n        \"separator\"\n    ];\n\n    var defaultHeadContextMenu = [\n        \"sortAsc\",\n        \"sortDesc\",\n        \"separator\"\n    ];\n\n    var defaultGroupsContextMenu = [\n        \"moveGroupPrevious\",\n        \"moveGroupNext\",\n        \"separator\"\n    ];\n\n    const editableToolbarItemsSelector = [\n        \".k-grid-edit-command\",\n        \".k-grid-remove-command\",\n        \".k-grid-save-changes\",\n        \".k-grid-cancel-changes\",\n        \".k-grid-cancel-command\",\n        \".k-grid-save-command\"\n    ].join(\", \");\n\n\n    const defaultActionSheetFooterButtons = function(messages) {\n        return {\n            sort: [\n                {\n                    command: \"clear-sort\",\n                    text: messages.clearButtons ? messages.clearButtons.clearSorting : \"Clear Sorting\",\n                    size: \"large\",\n                    icon: \"x\"\n                },\n                {\n                    command: \"done\",\n                    text: messages.applyButtons ? messages.applyButtons.applySorting : \"Done\",\n                    size: \"large\",\n                    themeColor: \"primary\",\n                    icon: \"check\"\n                }\n            ],\n            group: [\n                {\n                    command: \"clear-group\",\n                    text: messages.clearButtons ? messages.clearButtons.clearGrouping : \"Clear Grouping\",\n                    size: \"large\",\n                    icon: \"x\"\n                },\n                {\n                    command: \"done\",\n                    text: messages.applyButtons ? messages.applyButtons.applyGrouping : \"Done\",\n                    size: \"large\",\n                    themeColor: \"primary\",\n                    icon: \"check\"\n                }\n            ],\n            filter: [\n                {\n                    command: \"clear-filter\",\n                    text: messages.clearButtons ? messages.clearButtons.clearFiltering : \"Clear All Filters\",\n                    size: \"large\",\n                    icon: \"filter-clear\"\n                },\n            ],\n            \"column-chooser\": [\n                {\n                    text: messages.clearButtons ? messages.clearButtons.columnChooserReset : \"Reset\",\n                    icon: \"arrow-rotate-ccw\",\n                },\n                {\n                    text: messages.applyButtons ? messages.applyButtons.columnChooserApply : \"Apply\",\n                    themeColor: \"primary\",\n                    icon: \"check\",\n                },\n            ],\n        };\n    };\n\n    if (ui.Pager) {\n        GroupsPager = ui.Pager.extend({\n            init: function(element, options) {\n                ui.Pager.fn.init.call(this, element, extend(true, {}, { messages: ui.Pager.prototype.options.messages }, options));\n                this.dataSource.options.useRanges = true;\n                this.dataSource._omitPrefetch = true;\n            },\n            options: {\n                name: \"GroupsPager\"\n            },\n\n            totalPages: function() {\n                var that = this;\n\n                return Math.ceil((that._collapsedTotal() || 0) / (that.pageSize() || 1));\n            },\n            _collapsedTotal: function() {\n                var dataSource = this.dataSource;\n                return dataSource ? (dataSource.groupsTotal(true) || 0) : 0;\n            }\n        });\n    }\n\n    var VirtualScrollable = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            that._refreshHandler = that.refresh.bind(that);\n            that.setDataSource(options.dataSource);\n            that.wrap();\n        },\n\n        setDataSource: function(dataSource) {\n            var that = this;\n            if (that.dataSource) {\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n            }\n            that.dataSource = dataSource;\n            that.dataSource.bind(CHANGE, that._refreshHandler);\n            that.dataSource.options.useRanges = true;\n            that.dataSource.options.virtual = true;\n        },\n\n        options: {\n            name: \"VirtualScrollable\",\n            itemHeight: $.noop,\n            prefetch: true,\n            maxScrollHeight: 250000\n        },\n\n        events: [\n            PAGING,\n            PAGE,\n            SCROLL,\n            LOAD_START,\n            LOAD_END\n        ],\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that.dataSource.unbind(CHANGE, that._refreshHandler);\n            that.wrapper.add(that.verticalScrollbar).off(NS);\n\n            clearTimeout(that._timeout);\n            if (that._scrollingTimeout) {\n                clearTimeout(that._scrollingTimeout);\n            }\n\n            if (that.drag) {\n                that.drag.destroy();\n                that.drag = null;\n            }\n            that.wrapper = that.element = that.verticalScrollbar = null;\n            that._refreshHandler = null;\n        },\n\n        wrap: function() {\n            var that = this,\n                // workaround for IE issue where scroll is not raised if container is same width as the scrollbar\n                scrollbar = kendo.support.scrollbar() + 1,\n                element = that.element,\n                wrapper;\n\n            element.css({\n                width: AUTO,\n                overflow: \"hidden\"\n            }).css((isRtl ? \"padding-left\" : \"padding-right\"), scrollbar);\n            that.content = element.children().first();\n            wrapper = that.wrapper = that.content.wrap('<div class=\"k-virtual-scrollable-wrap\"/>')\n                .parent()\n                .on(\"DOMMouseScroll\" + NS + \" mousewheel\" + NS, that._wheelScroll.bind(that));\n            that._wrapper();\n\n            if (kendo.support.kineticScrollNeeded || kendo.support.touch) {\n                that.wrapper.css(\"touch-action\", NONE);\n                that.drag = new kendo.UserEvents(that.wrapper, {\n                    global: true,\n                    allowSelection: true,\n                    start: function(e) {\n                        e.sender.capture();\n                    },\n                    move: function(e) {\n                        that.verticalScrollbar.scrollTop(that.verticalScrollbar.scrollTop() - e.y.delta);\n                        kendo.scrollLeft(wrapper, kendo.scrollLeft(wrapper) - e.x.delta);\n                        e.preventDefault();\n                    }\n                });\n            }\n\n            that.verticalScrollbar = $('<div class=\"k-scrollbar k-scrollbar-vertical\" tabindex=\"-1\"/>')\n                .css({\n                    width: scrollbar\n                }).appendTo(element)\n                .on(\"scroll\" + NS, that._scroll.bind(that));\n        },\n\n        _wrapper: function() {\n            var that = this;\n\n            if (isIE11) {\n                //scrolling the virtual scrollbar to the bottom and then\n                //scrolling the horizontal content scrollbar does not fire the \"scroll\" event\n                //seems like a problem in IE 11 only (after version 11.0.9600.18860)\n                //https://github.com/telerik/kendo-ui-core/issues/3779\n                that.wrapper.css({\n                    \"overflow-y\": SCROLL\n                });\n\n                //hide the wrapper behind the virtual scrollbar\n                that.element.css((isRtl ? \"padding-left\" : \"padding-right\"), 0);\n            }\n        },\n\n        _wheelScroll: function(e) {\n            if (e.ctrlKey) {\n                return;\n            }\n\n            var scrollbar = this.verticalScrollbar,\n                scrollTop = scrollbar.scrollTop(),\n                delta = kendo.wheelDeltaY(e);\n\n            if (delta && !(delta > 0 && scrollTop === 0) && !(delta < 0 && scrollTop + scrollbar[0].clientHeight == scrollbar[0].scrollHeight)) {\n                e.preventDefault();\n                this.verticalScrollbar.scrollTop(scrollTop + (-delta));\n            }\n        },\n\n        _scroll: function(e) {\n            var that = this,\n                delayLoading = !that.options.prefetch,\n                scrollTop = e.currentTarget.scrollTop,\n                dataSource = that.dataSource,\n                rowHeight = that.itemHeight,\n                skip = dataSource.skip() || 0,\n                start = that._rangeStart || skip,\n                height = that.element.innerHeight(),\n                isScrollingUp = !!(that._scrollbarTop && that._scrollbarTop > scrollTop),\n                firstItemIndex = math.max(math.floor(scrollTop / rowHeight), 0),\n                lastItemOffset = isScrollingUp ? math.ceil(height / rowHeight) : math.floor(height / rowHeight),\n                lastItemIndex = math.max(firstItemIndex + lastItemOffset, 0);\n\n            if (that._preventScroll) {\n                that._preventScroll = false;\n                return;\n            }\n            that._prevScrollTop = that._scrollTop;\n            that._scrollTop = scrollTop - (start * rowHeight);\n            that._scrollbarTop = scrollTop;\n\n            that._scrolling = delayLoading;\n\n            if (!that._fetch(firstItemIndex, lastItemIndex, isScrollingUp)) {\n                that.wrapper[0].scrollTop = that._scrollTop;\n            }\n            that.trigger(SCROLL);\n\n            if (delayLoading) {\n                if (that._scrollingTimeout) {\n                    clearTimeout(that._scrollingTimeout);\n                }\n\n                that._scrollingTimeout = setTimeout(function() {\n                    that._scrolling = false;\n                    that._page(that._rangeStart, that.dataSource.take());\n                }, 100);\n            }\n        },\n\n        scrollToTop: function() {\n            this._scrollTo(0);\n        },\n\n        scrollToBottom: function() {\n            var scrollbar = this.verticalScrollbar;\n            this._scrollTo(scrollbar[0].scrollHeight - scrollbar.height());\n        },\n\n        _scrollWrapperToTop: function() {\n            this.wrapper.scrollTop(0);\n        },\n\n        _scrollWrapperToBottom: function() {\n            this.wrapper.scrollTop(this.wrapper[0].scrollHeight);\n        },\n\n        _scrollWrapperOnColumnResize: function() {\n            var that = this;\n            var wrapper = this.wrapper;\n            var initialScrollTop = wrapper.scrollTop();\n\n            if (wrapper[0].scrollWidth > wrapper[0].clientWidth) {\n                if ((!that._wrapperScrolled && initialScrollTop) || that._isScrolledToBottom()) {\n                    wrapper.scrollTop(initialScrollTop + kendo.support.scrollbar());\n                    that._scrollTop = wrapper.scrollTop();\n                    that._wrapperScrolled = true;\n                }\n            } else if (that._wrapperScrolled) {\n                if (!that._isWrapperScrolledToBottom()) {\n                    wrapper.scrollTop(initialScrollTop - kendo.support.scrollbar());\n                    that._scrollTop = wrapper.scrollTop();\n                }\n\n                that._wrapperScrolled = false;\n            }\n        },\n\n        _scrollTo: function(scrollTop, programmaticScrollPosition) {\n            var that = this;\n            var scrollbar = that.verticalScrollbar;\n\n            if (scrollbar.scrollTop() !== scrollTop) {\n                that._preventScroll = true;\n            }\n\n            that.wrapper.scrollTop(scrollTop);\n            that._scrollTop = that.wrapper.scrollTop();\n\n            scrollbar.scrollTop(programmaticScrollPosition ?? scrollTop);\n            that._scrollbarTop = scrollbar.scrollTop();\n        },\n\n        _isScrolledToTop: function() {\n            return this.verticalScrollbar.scrollTop() === 0;\n        },\n\n        _isScrolledToBottom: function() {\n            var scrollbar = this.verticalScrollbar;\n            var scrollTop = scrollbar.scrollTop();\n\n            return (scrollTop > 0 && scrollTop >= parseInt(scrollbar[0].scrollHeight - scrollbar.height(), 10));\n        },\n\n        _isWrapperScrolledToBottom: function() {\n            var wrapper = this.wrapper;\n\n            return (wrapper.scrollTop() >= parseInt(wrapper[0].scrollHeight - wrapper.height(), 10));\n        },\n\n        itemIndex: function(rowIndex) {\n            var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n\n            return rangeStart + rowIndex;\n        },\n\n        position: function(index) {\n            var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n            var pageSize = this.dataSource.pageSize();\n            var result;\n\n            if (index > rangeStart) {\n                result = index - rangeStart;\n            } else {\n                result = rangeStart - index - 1;\n            }\n\n            return result > pageSize ? pageSize : result;\n        },\n\n        scrollIntoView: function(row) {\n            var container = this.wrapper[0];\n            var containerHeight = container.clientHeight;\n            var containerScroll = !this._isScrolledToBottom() ? (this._scrollTop || container.scrollTop) : container.scrollTop;\n            var elementOffset = row[0].offsetTop;\n            var elementHeight = row[0].offsetHeight;\n\n            if (containerScroll > elementOffset) {\n                this.verticalScrollbar[0].scrollTop -= containerHeight / 2;\n            } else if (elementOffset + elementHeight >= containerScroll + containerHeight) {\n                this.verticalScrollbar[0].scrollTop += containerHeight / 2;\n            }\n        },\n\n        _fetch: function(firstItemIndex, lastItemIndex, scrollingUp) {\n            var that = this,\n                dataSource = that.dataSource,\n                itemHeight = that.itemHeight,\n                take = dataSource.take(),\n                rangeStart = that._rangeStart || dataSource.skip() || 0,\n                currentSkip = math.floor(firstItemIndex / take) * take,\n                fetching = false,\n                prefetchAt = 0.33;\n            var scrollbar = that.verticalScrollbar;\n            var webkitCorrection = browser.webkit ? 1 : 0;\n            var total = dataSource._isGroupPaged() ? dataSource.groupsTotal(true) : dataSource.total();\n\n            if (firstItemIndex < rangeStart) {\n\n                fetching = true;\n                if (that._alwaysScrollTop) {\n                    rangeStart = math.min(firstItemIndex, total - take);\n                    that._scrollTop = 0;\n                } else {\n                    rangeStart = math.max(0, lastItemIndex - take);\n                    that._scrollTop = scrollbar.scrollTop() - (rangeStart * itemHeight);\n                }\n                that._page(rangeStart, take);\n\n            } else if (lastItemIndex >= rangeStart + take && !scrollingUp) {\n\n                fetching = true;\n                rangeStart = math.min(firstItemIndex, total - take);\n\n                //ensure the scrollbar can be scrolled to bottom with mouse drag\n                if (scrollbar.scrollTop() >= scrollbar[0].scrollHeight - scrollbar[0].offsetHeight - webkitCorrection) {\n                    that._scrollTop = that.wrapper[0].scrollHeight - that.wrapper[0].offsetHeight;\n                } else if (that.dataSource._isGroupPaged() && firstItemIndex >= total - take) {\n                    that._scrollTop = that.wrapper[0].scrollHeight - that.wrapper[0].offsetHeight - (that._scrollTop - that._prevScrollTop);\n                } else if (that._alwaysScrollTop) {\n                    that._scrollTop = 0;\n                } else {\n                    that._scrollTop = itemHeight;\n                }\n\n\n                that._page(rangeStart, take);\n\n            } else if (!that._fetching && that.options.prefetch) {\n\n                if (firstItemIndex < (currentSkip + take) - take * prefetchAt && firstItemIndex > take) {\n                    dataSource.prefetch(currentSkip - take, take, $.noop);\n                }\n                if (lastItemIndex > currentSkip + take * prefetchAt) {\n                    dataSource.prefetch(currentSkip + take, take, $.noop);\n                }\n\n            }\n            return fetching;\n        },\n\n        fetching: function() {\n            return this._fetching;\n        },\n\n        _page: function(skip, take, callback) {\n            var that = this,\n                delayLoading = !that.options.prefetch,\n                dataSource = that.dataSource,\n                isGroupPaged = dataSource._isGroupPaged();\n            callback = isFunction(callback) ? callback : $.noop;\n\n            if (that.trigger(PAGING, { skip: skip, take: take })) {\n                return;\n            }\n\n            clearTimeout(that._timeout);\n            that._fetching = true;\n            that._rangeStart = skip;\n\n            if ((isGroupPaged && dataSource._groupRangeExists(skip, skip + take)) || (!isGroupPaged && dataSource.inRange(skip, take))) {\n                that.trigger(LOAD_START);\n\n                dataSource.range(skip, take, function() {\n                    that.trigger(LOAD_END);\n                    callback();\n                    that.trigger(PAGE);\n                }, \"page\");\n            } else {\n                if (!delayLoading) {\n                    that.trigger(LOAD_START);\n                }\n\n                that._timeout = setTimeout(function() {\n                    if (!that._scrolling) {\n\n                        if (delayLoading) {\n                            that.trigger(LOAD_START);\n                        }\n\n                        dataSource.range(skip, take, function() {\n                            that.trigger(LOAD_END);\n                            callback();\n                            that.trigger(PAGE);\n                        });\n                    }\n                }, 100);\n            }\n        },\n\n        repaintScrollbar: function(shouldScrollWrapper) {\n            var that = this,\n                maxHeight = that.options.maxScrollHeight,\n                dataSource = that.dataSource,\n                scrollbar = !kendo.support.kineticScrollNeeded ? kendo.support.scrollbar() : 0,\n                wrapperElement = that.wrapper[0],\n                totalHeight,\n                idx,\n                itemHeight;\n            var wasScrolledToBottom = that._isScrolledToBottom();\n\n            itemHeight = that.itemHeight = that.options.itemHeight() || 0;\n\n            var addScrollBarHeight = (wrapperElement.scrollWidth > wrapperElement.offsetWidth) ? scrollbar : 0;\n\n            totalHeight = (dataSource._isGroupPaged() ? dataSource.groupsTotal(true) : dataSource.total()) * itemHeight + addScrollBarHeight;\n\n            var divElements = $(new Array(math.floor(totalHeight / maxHeight) + 1).join('<div></div>'))\n                .css({\n                    width: \"1px\",\n                    height: `${maxHeight}px`\n                });\n\n            if (totalHeight % maxHeight) {\n                divElements = divElements.add($(\"<div></div>\").css({\n                    width: \"1px\",\n                    height: `${(totalHeight % maxHeight)}px`\n                }));\n            }\n\n            that.verticalScrollbar.empty().append(divElements);\n\n            if (wasScrolledToBottom && !that._isScrolledToBottom() && !that.dataSource._isGroupPaged()) {\n                that.scrollToBottom();\n            }\n\n            if (typeof (that._scrollTop) !== \"undefined\" && !!shouldScrollWrapper) {\n                wrapperElement.scrollTop = that._scrollTop;\n                that._scrollWrapperOnColumnResize();\n            }\n        },\n\n        refresh: function(e) {\n            var that = this,\n                dataSource = that.dataSource,\n                rangeStart = that._rangeStart;\n            var action = (e || {}).action;\n            var shouldScrollWrapper = that._isScrolledToBottom() || !action || (action !== ITEM_CHANGE && action !== REMOVE && action !== SYNC);\n\n            that.trigger(LOAD_END);\n            clearTimeout(that._timeout);\n\n            that.repaintScrollbar(shouldScrollWrapper);\n\n            if (that.drag) {\n                that.drag.cancel();\n            }\n\n            if (typeof (rangeStart) !== \"undefined\" && !that._fetching) { // we are rebound from outside local range should be reset\n                if (!action || (action !== SYNC && action !== ITEM_CHANGE && action !== \"expandGroup\")) {\n                    that._rangeStart = dataSource.skip();\n                }\n\n                if (dataSource.page() === 1 && (!action || (action !== SYNC && action !== ITEM_CHANGE && action !== \"expandGroup\" && action !== \"collapseGroup\"))) {\n                    // reset the scrollbar position if datasource is filtered\n                    that.verticalScrollbar[0].scrollTop = 0;\n                }\n            }\n\n            if (that._programmaticallyScrolling && that._programmaticallyScrolling.state() !== 'resolved') {\n                that._programmaticallyScrolling.resolve();\n            }\n\n            if (that._alwaysScrollTop) {\n                delete that._alwaysScrollTop;\n            }\n            that._fetching = false;\n        }\n    });\n\n    function flattenFilterDescriptors(filters) {\n        if (!filters || !Array.isArray(filters.filters)) {\n            return [];\n        }\n\n        const flattened = [];\n\n        function processFilter(filter) {\n            if (filter.logic && filter.filters) {\n                filter.filters.forEach(processFilter);\n            } else if (filter.field && filter.operator) {\n                flattened.push({\n                    ...filter,\n                });\n            }\n        }\n\n        filters.filters.forEach(processFilter);\n        return flattened;\n    }\n\n    function flattenGroupDescriptors(groups) {\n        if (!groups || !Array.isArray(groups)) {\n            return [];\n        }\n\n        const flattened = [];\n\n        function processGroup(group) {\n            flattened.push({\n                ...group\n            });\n\n            if (group.items && Array.isArray(group.items)) {\n                group.items.forEach(item => {\n                    if (item.items) {\n                        processGroup(item);\n                    }\n                });\n            }\n        }\n\n        groups.forEach(processGroup);\n        return flattened;\n    }\n\n    function flattenSortDescriptors(sorts) {\n        if (!sorts || !Array.isArray(sorts)) {\n            return [];\n        }\n\n        return sorts;\n    }\n\n    function hasInvalidDescriptor(descriptors, key) {\n        let flatFunction = {\n            sort: flattenSortDescriptors,\n            filter: flattenFilterDescriptors,\n            group: flattenGroupDescriptors\n        }[key];\n\n\n        if (!flatFunction) {\n            return false;\n        }\n\n        const flattened = flatFunction(descriptors);\n\n        return flattened.some(item => !item.field);\n    }\n\n    function attrEquals(attrName, attrValue) {\n        return \"[\" + kendo.attr(attrName) + \"=\" + attrValue + \"]\";\n    }\n\n    function groupCells(count) {\n        return new Array(count + 1).join('<td class=\"k-group-cell k-table-group-td k-table-td\">&nbsp;</td>');\n    }\n\n    function cellsExcludingSpecialColumns(cells) {\n        return cells.filter((i, cell) => {\n            const $cell = $(cell);\n            const hasCheckbox = $cell.children(\".k-select-checkbox\").length > 0;\n            const hasWrappedCheckbox = $cell.find(\"> .k-checkbox-wrap > .k-select-checkbox\").length > 0;\n            return $cell.attr(\"[ref-grid-drag-cell]\") === undefined && !$cell.hasClass(\"k-command-cell\") && !hasCheckbox && !hasWrappedCheckbox;\n        });\n    }\n\n    function stringifyAttributes(attributes) {\n        var attr,\n            result = \" \";\n\n        if (attributes) {\n            if (typeof attributes === STRING) {\n                return attributes;\n            }\n\n            for (attr in attributes) {\n                if (attributes[attr] !== '') {\n                    result += attr + '=\"' + attributes[attr] + '\"';\n                }\n            }\n        }\n        return result;\n    }\n\n    function parseDate(value, fields) {\n        if (!fields) {\n            return value;\n        }\n\n        return value.map((descriptor) =>\n            ({\n                ...descriptor,\n                logic: (descriptor?.logic || descriptor?.logicalOperator || \"and\").toLowerCase(),\n                filters: descriptor?.filters?.map((filter) => {\n                    const field = filter.field;\n                    if (fields && fields[field]) {\n                        if (fields[field].type.toLowerCase() === \"date\") {\n                            return { ...filter, value: new Date(filter.value) };\n                        }\n                    }\n                    return filter;\n                })\n            })\n        ) || [];\n    }\n\n\n    var defaultCommands = {\n        aiassistant: {\n            text: \"\",\n            icon: \"sparkles\",\n            rounded: \"full\",\n            className: \"k-grid-ai-assistant-tool\",\n            themeColor: \"primary\"\n        },\n        create: {\n            text: \"Add\",\n            className: \"k-grid-add\",\n            iconClass: \"k-i-plus\"\n        },\n        cancel: {\n            text: \"Cancel changes\",\n            className: \"k-grid-cancel-changes\",\n            iconClass: \"k-i-cancel\"\n        },\n        save: {\n            text: \"Save changes\",\n            className: \"k-grid-save-changes\",\n            iconClass: \"k-i-check\"\n        },\n        selectall: {\n            text: \"Select all\",\n        },\n        destroy: {\n            text: \"Delete\",\n            className: \"k-grid-remove-command\",\n            iconClass: \"k-i-trash\"\n        },\n        edit: {\n            text: \"Edit\",\n            className: \"k-grid-edit-command\",\n            iconClass: \"k-i-pencil\",\n        },\n        update: {\n            text: \"Save\",\n            className: \"k-grid-save-command\",\n            iconClass: \"k-i-save\",\n        },\n        canceledit: {\n            text: \"Cancel\",\n            className: \"k-grid-cancel-command\",\n            iconClass: \"k-i-cancel\"\n        },\n        excel: {\n            text: \"Export to Excel\",\n            className: \"k-grid-excel\",\n            iconClass: \"k-i-file-excel\"\n        },\n        pdf: {\n            text: \"Export to PDF\",\n            className: \"k-grid-pdf\",\n            iconClass: \"k-i-file-pdf\"\n        },\n        search: {\n            text: \"Search...\",\n            className: \"k-grid-search\"\n        },\n        columns: {\n            text: \"Columns\",\n            type: \"button\",\n            icon: \"columns\",\n            fillMode: \"flat\",\n            overflow: \"never\",\n            className: \"k-grid-column-menu\",\n            attr: {\n                \"aria-haspopup\": \"menu\"\n            }\n        },\n        columnchooser: {\n            text: \"Columns\",\n            type: \"button\",\n            icon: \"columns\",\n            overflow: \"never\",\n            className: \"k-grid-column-chooser\",\n            attr: {\n                \"aria-haspopup\": \"menu\"\n            },\n        },\n        sort: {\n            text: \"Sort\",\n            type: \"button\",\n            icon: \"arrows-swap\",\n            overflow: \"never\",\n            className: \"k-grid-sort-tool\",\n            attr: {\n                \"aria-haspopup\": \"menu\",\n            },\n            clearButton: true,\n        },\n        filter: {\n            text: \"Filter\",\n            type: \"button\",\n            icon: \"filter\",\n            overflow: \"never\",\n            className: \"k-grid-filter-tool\",\n            attr: {\n                \"aria-haspopup\": \"menu\",\n            },\n            clearButton: true,\n        },\n        group: {\n            text: \"Group\",\n            type: \"button\",\n            icon: \"group\",\n            overflow: \"never\",\n            className: \"k-grid-group-tool\",\n            attr: {\n                \"aria-haspopup\": \"menu\",\n            },\n            clearButton: true,\n        },\n        smartbox: {\n            overflow: \"never\",\n            template: () => `<input ref-grid-smartbox-input data-role=\"smartbox\" />`,\n        },\n    };\n\n    const supportedAIDataSourceCommands = {\n        \"GridSort\": \"sort\",\n        \"GridClearSort\": \"sort\",\n        \"GridFilter\": \"filter\",\n        \"GridClearFilter\": \"filter\",\n        \"GridGroup\": \"group\",\n        \"GridClearGroup\": \"group\",\n        \"GridPage\": \"page\",\n        \"GridPageSize\": \"pageSize\",\n    };\n\n    const supportedAIGridCommands = {\n        \"GridHighlight\": \"highlight\",\n        \"GridClearHighlight\": \"highlight\",\n        \"GridSelect\": \"select\",\n        \"GridClearSelect\": \"select\",\n        \"GridColumnResize\": \"resizeColumn\",\n        \"GridColumnHide\": \"hideColumn\",\n        \"GridColumnShow\": \"showColumn\",\n        \"GridColumnLock\": \"lockColumn\",\n        \"GridColumnUnlock\": \"unlockColumn\",\n        \"GridColumnReorder\": \"reorderColumn\",\n        \"GridExportPDF\": \"_exportPdf\",\n        \"GridExportExcel\": \"_exportExcel\",\n    };\n\n    const placeholderId = kendo.guid();\n\n    function promptPlaceholderOptions(messages) {\n        return {\n            id: placeholderId,\n            prompt: \"\",\n            output: messages.outputPlaceholder,\n            skipHeader: true,\n            skipActions: true,\n        };\n    }\n\n    function cursor(context, value) {\n        $('th, th .k-grid-filter-menu, th .k-link', context)\n            .add(document.body)\n            .css('cursor', value);\n    }\n\n    function reorder(selector, source, dest, before, count) {\n        var sourceIndex = source;\n        source = $();\n        count = count || 1;\n        for (var idx = 0; idx < count; idx++) {\n            source = source.add(selector.eq(sourceIndex + idx));\n        }\n\n        if (typeof dest == \"number\") {\n            source[before ? \"insertBefore\" : \"insertAfter\"](selector.eq(dest));\n        } else {\n            source.appendTo(dest);\n        }\n    }\n\n    function elements(lockedContent, content, filter) {\n        return $(lockedContent).add(content).find(filter);\n    }\n\n    function attachCustomCommandEvent(context, container, commands) {\n        var idx,\n            length,\n            command,\n            commandName;\n\n        commands = !isArray(commands) ? [commands] : commands;\n\n        for (idx = 0, length = commands.length; idx < length; idx++) {\n            command = commands[idx];\n\n            if (isPlainObject(command) && command.click) {\n                commandName = command.name || command.text;\n                container.on(CLICK + NS, \".k-grid-\" + (commandName || \"\").replace(/\\s/g, \"\"), { commandName: commandName }, command.click.bind(context));\n            }\n        }\n    }\n\n    function normalizeColumns(columns, encoded, hide, locked, parentIds) {\n        return map(columns, function(column) {\n            column = typeof column === STRING ? { field: column } : column;\n\n            var hidden;\n            column.parentIds = parentIds;\n\n            if (column.attributes instanceof Function) {\n                column._attributesFunction = column.attributes;\n            }\n\n            if (!isVisible(column) || hide) {\n                column.attributes = addHiddenStyle(column.attributes);\n                column.footerAttributes = addHiddenStyle(column.footerAttributes);\n                column.headerAttributes = addHiddenStyle(column.headerAttributes);\n                hidden = true;\n            } else if (isVisible(column) || !hide) {\n                column.attributes = removeHiddenStyle(column.attributes);\n                column.footerAttributes = removeHiddenStyle(column.footerAttributes);\n                column.headerAttributes = removeHiddenStyle(column.headerAttributes);\n                hidden = undefined;\n            }\n\n            var uid = kendo.guid();\n            if (locked && !column.locked) {\n                column.locked = locked;\n            }\n\n            column.headerAttributes = extend({ headers: parentIds }, column.headerAttributes);\n            if (!column.headerAttributes.id) {\n                column.headerAttributes = extend({ id: uid }, column.headerAttributes);\n                column.uid = uid;\n            } else {\n                column.uid = uid = column.headerAttributes.id;\n            }\n\n            if (column.columns) {\n                column.columns = normalizeColumns(column.columns, encoded, hidden, column.locked, parentIds ? (parentIds + \" \" + uid) : uid);\n            }\n            return extend({ encoded: encoded, hidden: hidden, locked: locked }, column);\n        });\n    }\n\n    function columnParent(column, columns) {\n        var parents = [];\n        columnParents(column, columns, parents);\n        return parents[parents.length - 1];\n    }\n\n    function columnParents(column, columns, parents) {\n        parents = parents || [];\n\n        for (var idx = 0; idx < columns.length; idx++) {\n            if (column === columns[idx]) {\n                return true;\n            } else if (columns[idx].columns) {\n                var inserted = parents.length;\n                parents.push(columns[idx]);\n                if (!columnParents(column, columns[idx].columns, parents)) {\n                    parents.splice(inserted, parents.length - inserted);\n                } else {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    function setColumnVisibility(column, visible) {\n        setVisibility(column, visible, visible);\n    }\n\n    function addElementsToTab(elements) {\n        elements.attr(TABINDEX, 1);\n    }\n\n    function removeElementsFromTab(elements) {\n        elements.removeAttr(TABINDEX);\n    }\n\n    function setVisibility(column, visible, show) {\n        var method = show ? removeHiddenStyle : addHiddenStyle;\n        column.hidden = !visible;\n        column.attributes = method(column.attributes);\n        column.footerAttributes = method(column.footerAttributes);\n        column.headerAttributes = method(column.headerAttributes);\n    }\n\n\n    function setColumnMediaVisibility(column, visible) {\n        setColumnMatchesMedia(column);\n        var hideByMedia = column._hideByMedia;\n        setVisibility(column, visible, hideByMedia ? column.matchesMedia : visible);\n    }\n\n    function setColumnMatchesMedia(column) {\n        column.matchesMedia = columnMatchesMedia(column);\n    }\n\n    function columnMatchesMedia(column) {\n        return column && (isUndefined(column.media) || (!isUndefined(column.media) && kendo.matchesMedia(column.media)));\n    }\n\n    function isCellVisible() {\n        return this.style.display !== NONE && !this.classList.contains(\"k-hidden\");\n    }\n\n    function isElementVisible(element) {\n        return $(element)[0].style.display !== NONE && !$(element)[0].classList.contains(\"k-hidden\");\n    }\n\n    function isVisible(column) {\n        return visibleColumns([column]).length > 0;\n    }\n\n    function visibleColumns(columns) {\n        return grep(columns, function(column) {\n            var result = !column.hidden && column.matchesMedia !== false;\n\n            if (result && column.columns) {\n                result = visibleColumns(column.columns).length > 0;\n            }\n            return result;\n        });\n    }\n\n    function columnsWithMedia(columns) {\n        var result = [];\n        var column;\n\n        for (var i = 0; i < columns.length; i++) {\n            column = columns[i];\n\n            if (!isUndefined(column.media)) {\n                if (!isUndefined(column.minScreenWidth)) {\n                    throw new Error(\"Using 'media' and 'minScreenWidth' options at the same time is not supported.\");\n                }\n\n                result.push(column);\n            }\n\n            if (column.columns) {\n                result = result.concat(columnsWithMedia(column.columns));\n            }\n        }\n\n        return result;\n    }\n\n    function isUndefined(value) {\n        return typeof value === \"undefined\";\n    }\n\n    function toJQuery(elements) {\n        return $(elements).map(function() { return this.toArray(); });\n    }\n\n    function updateCellRowSpan(cell, columns, sourceLockedColumnsCount) {\n        var lockedColumnDepth = depth(lockedColumns(columns));\n        var nonLockedColumnDepth = depth(nonLockedColumns(columns));\n\n        var rowSpan = cell.rowSpan;\n        if (sourceLockedColumnsCount) {\n            if (lockedColumnDepth > nonLockedColumnDepth) {\n                cell.rowSpan = (rowSpan - (lockedColumnDepth - nonLockedColumnDepth)) || 1;\n            } else {\n                cell.rowSpan = rowSpan + (nonLockedColumnDepth - lockedColumnDepth);\n            }\n        } else {\n            if (lockedColumnDepth > nonLockedColumnDepth) {\n                cell.rowSpan = rowSpan + (lockedColumnDepth - nonLockedColumnDepth);\n            } else {\n                cell.rowSpan = (rowSpan - (nonLockedColumnDepth - lockedColumnDepth)) || 1;\n            }\n        }\n    }\n\n    function findColumnByField(columns, field) {\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].field == field) {\n                return columns[i];\n            }\n        }\n    }\n\n    function getMergedAIDescriptors(previousDescriptors, newDescriptors, key) {\n        let shouldContinue;\n        newDescriptors.forEach(newDescriptor => {\n            shouldContinue = false;\n            let index;\n            const matchingPreviousDescriptor = previousDescriptors.find((prevDescriptor, i) => {\n                if (prevDescriptor.field === newDescriptor.field) {\n                    index = i;\n                    return true;\n                }\n            });\n\n            if (matchingPreviousDescriptor && key === \"group\") {\n                shouldContinue = true;\n                return;\n            }\n\n            if (matchingPreviousDescriptor) {\n                previousDescriptors.splice(index, 1);\n            }\n            previousDescriptors.push(newDescriptor);\n        });\n\n        return {\n            descriptors: previousDescriptors,\n            shouldContinue,\n        };\n    }\n\n    function getEnabledAICommands(options, dataSource, checkBoxSelection) {\n        const sortable = options.sortable || options?.columnMenu?.sortable;\n        const filterable = options.filterable || options?.columnMenu?.filterable;\n        const selectable = options.selectable || checkBoxSelection;\n        const groupable = (options?.groupable?.enabled || options.groupable) || dataSource._groupPaging;\n        const resizable = options.resizable || options?.resizable?.columns;\n        const reorderable = options.reorderable || options?.reorderable?.columns;\n        const pageable = (options?.scrollable?.virtual && options?.scrollable?.virtual === 'columns' && options.pageable) || (!options.scrollable?.endless && options.pageable) || options.pageable;\n\n        return {\n            \"GridSort\": sortable,\n            \"GridClearSort\": sortable,\n            \"GridFilter\": filterable,\n            \"GridClearFilter\": filterable,\n            \"GridGroup\": groupable,\n            \"GridClearGroup\": groupable,\n            \"GridSelect\": selectable,\n            \"GridClearSelect\": selectable,\n            \"GridColumnResize\": resizable,\n            \"GridColumnReorder\": reorderable,\n            \"GridPage\": pageable,\n            \"GridPageSize\": true,\n            \"GridColumnHide\": true,\n            \"GridColumnShow\": true,\n            \"GridColumnLock\": true,\n            \"GridColumnUnlock\": true,\n        };\n    }\n\n    function getToolbarRegex({ mode, hasSelected, hasChanges, editContainerVisible, differentSelectionThanEditing, _editableIsClosing, _isEditableEnabled, options }) {\n        const editableCommands = /\\b(k-grid-edit-command|k-grid-remove-command|k-grid-save-changes|k-grid-cancel-changes|k-grid-cancel-command|k-grid-save-command)\\b/;\n        const commands = [];\n\n        if (!_isEditableEnabled || !options.editable) {\n            return editableCommands;\n        }\n\n        if (!hasSelected) {\n            commands.push(\"k-grid-edit-command\");\n            commands.push(\"k-grid-remove-command\");\n        }\n\n        if (hasSelected && (mode === \"incell\" || (mode === \"inline\" && !differentSelectionThanEditing))) {\n            commands.push(\"k-grid-edit-command\");\n        }\n\n        if (!hasChanges) {\n            commands.push(\"k-grid-save-changes\");\n            commands.push(\"k-grid-cancel-changes\");\n        }\n\n        if (mode !== \"inline\" || (!editContainerVisible || (editContainerVisible && _editableIsClosing))) {\n            commands.push(\"k-grid-save-command\");\n            commands.push(\"k-grid-cancel-command\");\n        }\n\n        let regex = \"\";\n\n        if (commands.length) {\n            regex = commands.join(\"|\");\n            regex = `\\\\b(${regex})\\\\b`;\n            return new RegExp(regex);\n        }\n\n        return regex;\n    }\n\n    function moveCellsBetweenContainers(sources, target, leafs, columns, container, destination, groups, action) {\n        var sourcesDepth = depth(sources);\n        var targetDepth = depth([target]);\n\n        if (sourcesDepth > targetDepth) {\n            var groupCells = new Array(groups + 1).join('<th class=\"k-group-cell k-header k-table-th\" scope=\"col\">&nbsp;</th>');\n            var rows = destination.children(\":not(.k-filter-row)\");\n            $(new Array((sourcesDepth - targetDepth) + 1).join(\"<tr class='k-table-row'>\" + groupCells + \"</tr>\")).insertAfter(rows.last());\n        }\n\n        addRowSpanValue(destination, sourcesDepth - targetDepth);\n\n        moveCells(leafs, columns, container, destination, action);\n    }\n\n    function updateCellIndex(thead, columns, offset) {\n        offset = offset || 0;\n\n        var position;\n        var cell;\n        var allColumns = columns;\n        columns = leafColumns(columns);\n\n        var cells = {};\n        var rows = thead.find(\">tr:not(.k-filter-row)\");\n\n        var filter = function() {\n            var el = $(this);\n            return !el.hasClass(\"k-group-cell\") && !el.hasClass(\"k-hierarchy-cell\");\n        };\n\n        for (var idx = 0, length = columns.length; idx < length; idx++) {\n            position = columnPosition(columns[idx], allColumns);\n\n            if (!cells[position.row]) {\n                cells[position.row] = rows.eq(position.row)\n                    .find(DOT + HEADER_CLASS)\n                    .filter(filter);\n            }\n\n            cell = cells[position.row].eq(position.cell);\n            cell.attr(kendo.attr(\"index\"), offset + idx);\n        }\n\n\n        return columns.length;\n    }\n\n    function depth(columns) {\n        var result = 1;\n        var max = 0;\n\n        for (var idx = 0; idx < columns.length; idx++) {\n            if (columns[idx].columns) {\n                var temp = depth(columns[idx].columns);\n                if (temp > max) {\n                    max = temp;\n                }\n            }\n        }\n        return result + max;\n    }\n\n    function moveCells(leafs, columns, container, destination, action) {\n        var sourcePosition = columnVisiblePosition(leafs[0], columns);\n\n        var ths = container.find(\">tr:not(.k-filter-row)\").eq(sourcePosition.row).children(\"th.k-header:not(.k-group-cell)\");\n\n        var t = $();\n        var sourceIndex = sourcePosition.cell;\n        var idx;\n\n        for (idx = 0; idx < leafs.length; idx++) {\n            t = t.add(ths.eq(sourceIndex + idx));\n        }\n\n        destination.find(\">tr:not(.k-filter-row)\").eq(sourcePosition.row)[action](t);\n\n        var children = [];\n        for (idx = 0; idx < leafs.length; idx++) {\n            if (leafs[idx].columns) {\n                children = children.concat(leafs[idx].columns);\n            }\n        }\n\n        if (children.length) {\n            moveCells(children, columns, container, destination, action);\n        }\n    }\n\n    function columnPosition(column, columns, row, cellCounts) {\n        var result;\n        var idx;\n\n        row = row || 0;\n        cellCounts = cellCounts || {};\n        cellCounts[row] = cellCounts[row] || 0;\n\n        for (idx = 0; idx < columns.length; idx++) {\n            if (columns[idx] == column) {\n                result = { cell: cellCounts[row], row: row };\n                break;\n            } else if (columns[idx].columns) {\n                result = columnPosition(column, columns[idx].columns, row + 1, cellCounts);\n                if (result) {\n                    break;\n                }\n            }\n\n            cellCounts[row]++;\n        }\n        return result;\n    }\n    function findParentColumnWithChildren(columns, index, source, rtl) {\n        var target;\n        var locked = !!source.locked;\n        var targetLocked;\n\n        do {\n            target = columns[index];\n            index += rtl ? 1 : -1;\n            targetLocked = !!target.locked;\n        } while (target && index > -1 && index < columns.length && target != source && !target.columns && targetLocked === locked);\n\n        return target;\n    }\n\n    function decorateCellWithClass(html, skipTdClass) {\n        let element = html;\n        let classes = element.match(/class=[\"][^\"]+/g);\n        if (classes) {\n            const cssClasses = classes[0].split('\\\"').pop();\n            element = element.replace(cssClasses, cssClasses + (skipTdClass ? \"\" : \" k-table-td \"));\n        } else {\n            element = element.replace(\"<td\", \"<td class='k-table-td'\");\n        }\n\n        return element;\n    }\n\n    function findReorderTarget(columns, target, source, before, masterColumns) {\n        if (target.columns) {\n            target = target.columns;\n            return target[before ? 0 : target.length - 1];\n        } else {\n            var parent = columnParent(target, columns);\n            var parentColumns;\n\n            if (parent) {\n                parentColumns = parent.columns;\n            } else {\n                parentColumns = columns;\n            }\n\n            var index = inArray(target, parentColumns);\n            if (index === 0 && before) {\n                index++;\n            } else if ((index == parentColumns.length - 1 && !before) || (!source.locked && !target.columns && !before)) {\n                index--;\n            } else if (index > 0 || (index === 0 && !before)) {\n                index++;\n            }\n\n            var sourceIndex = inArray(source, parentColumns);\n            target = findParentColumnWithChildren(parentColumns, index, source, sourceIndex > index);\n            var targetIndex = inArray(target, masterColumns);\n            if (target.columns && (!targetIndex || targetIndex === parentColumns.length - 1)) {\n                return null;\n            }\n\n            if (target && target != source && target.columns) {\n                return findReorderTarget(columns, target, source, before, masterColumns);\n            }\n        }\n        return null;\n    }\n\n    function columnVisiblePosition(column, columns, row, cellCounts) {\n        var result;\n        var idx;\n\n        row = row || 0;\n        cellCounts = cellCounts || {};\n        cellCounts[row] = cellCounts[row] || 0;\n\n        for (idx = 0; idx < columns.length; idx++) {\n            if (columns[idx] == column) {\n                result = { cell: cellCounts[row], row: row };\n                break;\n            } else if (columns[idx].columns) {\n                result = columnVisiblePosition(column, columns[idx].columns, row + 1, cellCounts);\n                if (result) {\n                    break;\n                }\n            }\n\n            if (!columns[idx].hidden) {\n                cellCounts[row]++;\n            }\n        }\n        return result;\n    }\n\n    function flatColumnsInDomOrder(columns) {\n        var result = flatColumns(lockedColumns(columns));\n        return result.concat(flatColumns(nonLockedColumns(columns)));\n    }\n\n    function targetParentContainerIndex(flatColumns, columns, sourceIndex, targetIndex) {\n        var column = flatColumns[sourceIndex];\n        var target = flatColumns[targetIndex];\n\n        var parent = columnParent(column, columns);\n        columns = parent ? parent.columns : columns;\n\n        return inArray(target, columns);\n    }\n\n    function flatColumns(columns) {\n        var result = [];\n        var children = [];\n        for (var idx = 0; idx < columns.length; idx++) {\n            result.push(columns[idx]);\n            if (columns[idx].columns) {\n                children = children.concat(columns[idx].columns);\n            }\n\n        }\n        if (children.length) {\n            result = result.concat(flatColumns(children));\n        }\n        return result;\n    }\n\n    function hiddenLeafColumnsCount(columns) {\n        var counter = 0;\n        var column;\n\n        for (var idx = 0; idx < columns.length; idx++) {\n            column = columns[idx];\n\n            if (column.columns) {\n                counter += hiddenLeafColumnsCount(column.columns);\n            } else if (column.hidden) {\n                counter++;\n            }\n        }\n        return counter;\n    }\n\n    function sumWidths(cols) {\n        var width = 0;\n\n        for (var idx = 0, length = cols.length; idx < length; idx++) {\n            if (!cols[idx].hidden) {\n                width += parseInt(cols[idx].width, 10);\n            }\n        }\n\n        return width;\n    }\n\n    function columnsWidth(cols) {\n        var colWidth, width = 0;\n\n        for (var idx = 0, length = cols.length; idx < length; idx++) {\n            colWidth = cols[idx].style.width;\n            if (colWidth && colWidth.indexOf(\"%\") == -1) {\n                width += parseInt(colWidth, 10);\n            }\n        }\n\n        return width;\n    }\n\n    function removeRowSpanValue(container, count) {\n        var cells = container.find(\"tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)\");\n\n        var rowSpan;\n        for (var idx = 0; idx < cells.length; idx++) {\n            rowSpan = cells[idx].rowSpan;\n            if (rowSpan > 1) {\n                cells[idx].rowSpan = (rowSpan - count) || 1;\n            }\n        }\n    }\n\n    function addRowSpanValue(container, count) {\n        var cells = container.find(\"tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)\");\n\n        for (var idx = 0; idx < cells.length; idx++) {\n            cells[idx].rowSpan += count;\n        }\n    }\n\n    function removeEmptyRows(container) {\n        var rows = container.find(\"tr:not(.k-filter-row)\");\n\n        var emptyRowsCount = rows.filter(function() {\n            return !$(this).children().length;\n        }).remove().length;\n\n        var cells = rows.find(\"th:not(.k-group-cell,.k-hierarchy-cell)\");\n\n        for (var idx = 0; idx < cells.length; idx++) {\n            if (cells[idx].rowSpan > 1) {\n                cells[idx].rowSpan -= emptyRowsCount;\n            }\n        }\n        return rows.length - emptyRowsCount;\n    }\n\n    function mapColumnToCellRows(columns, cells, rows, rowIndex, offset) {\n        var idx, row, length, children = [];\n\n        for (idx = 0, length = columns.length; idx < length; idx++) {\n            row = rows[rowIndex] || [];\n            row.push(cells.eq(offset + idx));\n            rows[rowIndex] = row;\n\n            if (columns[idx].columns) {\n                children = children.concat(columns[idx].columns);\n            }\n        }\n\n        if (children.length) {\n            mapColumnToCellRows(children, cells, rows, rowIndex + 1, offset + columns.length);\n        }\n    }\n\n    function setLeftAndRightStyles(element, left, right) {\n        element.css({\n            \"left\": left,\n            \"right\": right\n        });\n    }\n\n    function createColumnAttribute(column, attribute, property) {\n        column[attribute] = column[attribute] || {};\n        column[attribute][property] = column[attribute][property] || \"\";\n    }\n\n    function addColumnAttribute(column, attribute, property, value) {\n        createColumnAttribute(column, attribute, property);\n\n        if (column[attribute][property] !== \"\") {\n            column[attribute][property] += \" \" + value;\n        } else {\n            column[attribute][property] = value;\n        }\n    }\n\n    function removeColumnAttribute(column, attribute, property, value, removeAttributeProperty) {\n        createColumnAttribute(column, attribute, property);\n        if (removeAttributeProperty) {\n            delete column[attribute][property];\n        } else {\n            column[attribute][property] = column[attribute][property].replace(value, \"\");\n        }\n    }\n\n    function lockedColumns(columns) {\n        return grep(columns, function(column) {\n            return column.locked;\n        });\n    }\n\n    function nonLockedColumns(columns) {\n        return grep(columns, function(column) {\n            return !column.locked;\n        });\n    }\n\n    function stickyColumns(columns) {\n        return grep(columns, function(column) {\n            return column.sticky && !column.locked;\n        });\n    }\n\n    function visibleStickyColumns(columns) {\n        return grep(columns, function(column) {\n            return column.sticky && !column.locked && isVisible(column);\n        });\n    }\n\n    function visibleNonLockedColumns(columns) {\n        return grep(columns, function(column) {\n            return !column.locked && isVisible(column);\n        });\n    }\n\n    function visibleLockedColumns(columns) {\n        return grep(columns, function(column) {\n            return column.locked && isVisible(column);\n        });\n    }\n\n    function visibleLeafColumns(columns) {\n        var result = [];\n\n        for (var idx = 0; idx < columns.length; idx++) {\n            if (columns[idx].hidden) {\n                continue;\n            }\n\n            if (columns[idx].columns) {\n                result = result.concat(visibleLeafColumns(columns[idx].columns));\n            } else {\n                result.push(columns[idx]);\n            }\n        }\n\n        return result;\n    }\n\n    function visibleLeafExportColumns(columns) {\n        var result = [];\n\n        for (var idx = 0; idx < columns.length; idx++) {\n            if (columns[idx].hidden) {\n                continue;\n            }\n\n            if (columns[idx].columns) {\n                result = result.concat(visibleLeafColumns(columns[idx].columns));\n            } else {\n                result.push({\n                    field: columns[idx].field,\n                    width: columns[idx].width,\n                    values: columns[idx].values,\n                    title: columns[idx].title\n                });\n            }\n        }\n\n        return result;\n    }\n\n    function childColumns(columns) {\n        var result = [];\n\n        for (var idx = 0; idx < columns.length; idx++) {\n            if (columns[idx].columns) {\n                result = result.concat(columns[idx].columns);\n            }\n        }\n\n        return result;\n    }\n\n    function visibleChildColumns(columns) {\n        var result = childColumns(columns);\n\n        result = result.filter(function(e) {\n            return !e.hidden;\n        });\n\n        return result;\n    }\n\n    function leafColumns(columns) {\n        var result = [];\n\n        for (var idx = 0; idx < columns.length; idx++) {\n            if (!columns[idx].columns) {\n                result.push(columns[idx]);\n                continue;\n            }\n            result = result.concat(leafColumns(columns[idx].columns));\n        }\n\n        return result;\n    }\n\n    function getColumnsFields(columns) {\n        var result = [];\n        columns = leafColumns(columns);\n\n        for (var idx = 0; idx < columns.length; idx++) {\n            if (typeof columns[idx] === \"string\") {\n                result.push(columns[idx]);\n            } else if (columns[idx].field) {\n                result.push(columns[idx].field);\n            }\n        }\n        return result;\n    }\n\n    function getAllColumns(columns) {\n        var result = [];\n        for (var idx = 0; idx < columns.length; idx++) {\n            result.push(columns[idx]);\n            if (columns[idx].columns) {\n                result = result.concat(getAllColumns(columns[idx].columns));\n            }\n        }\n        return result;\n    }\n\n    function createMultiHeaderTitle(gridInstance, col) {\n            const separator = col.multiHeaderSeparator || \" / \";\n            const columns = getAllColumns(gridInstance.columns);\n\n            const parentTitles = col.parentIds\n                .split(\" \")\n                .map((id) => {\n                    let parent = columns.find((c) => c.uid === id);\n                    return parent ? parent.title || parent.field || \"\" : \"\";\n                });\n\n            parentTitles.push(col.title || col.field);\n            return parentTitles.join(separator);\n        }\n\n    function editField(column, adaptive) {\n        return {\n            field: column.field,\n            title: column.title,\n            format: column.format,\n            editor: column.editor,\n            values: column.values,\n            editorOptions: extend(true, { format: column.format, adaptiveMode: adaptive }, column.editorOptions),\n            label: column.title || column.field || \"\"\n        };\n    }\n\n    function leafDataCells(container) {\n        var rows = container.find(\">tr:not(.k-filter-row)\");\n\n        var filter = function() {\n            var el = $(this);\n            return !el.hasClass(\"k-group-cell\") && !el.hasClass(\"k-hierarchy-cell\");\n        };\n\n        var cells = $();\n        if (rows.length > 1) {\n            cells = rows.find(\"th\")\n                .filter(filter)\n                .filter(function() { return this.rowSpan > 1; });\n        }\n\n        cells = cells.add(rows.last().find(\"th\").filter(filter));\n\n        var indexAttr = kendo.attr(\"index\");\n        return [].sort.call(cells, function(a, b) {\n            a = $(a);\n            b = $(b);\n\n            var indexA = a.attr(indexAttr);\n            var indexB = b.attr(indexAttr);\n\n            if (indexA === undefined) {\n                indexA = $(a).index();\n            }\n            if (indexB === undefined) {\n                indexB = $(b).index();\n            }\n\n            indexA = parseInt(indexA, 10);\n            indexB = parseInt(indexB, 10);\n            return indexA > indexB ? 1 : (indexA < indexB ? -1 : 0);\n        });\n    }\n\n    function parentColumnsCells(cell) {\n        var container = cell.closest(\"table\");\n        var result = $().add(cell);\n\n        var row = cell.closest(TR);\n        var headerRows = container.find(\"tr:not(.k-filter-row)\");\n        var level = headerRows.index(row);\n        if (level > 0) {\n            var parent = headerRows.eq(level - 1);\n            var parentCellsWithChildren = parent.find(\"th:not(.k-group-cell,.k-hierarchy-cell)\").filter(function() {\n                return !$(this).attr(\"rowspan\");\n            });\n\n            var offset = 0;\n            var index = row.find(\"th:not(.k-group-cell,.k-hierarchy-cell)\").index(cell);\n\n            var prevCells = cell.prevAll(\":not(.k-group-cell,.k-hierarchy-cell)\").filter(function() {\n                return this.colSpan > 1;\n            });\n\n            for (var idx = 0; idx < prevCells.length; idx++) {\n                offset += prevCells[idx].colSpan || 1;\n            }\n\n            index += Math.max(offset - 1, 0);\n\n            offset = 0;\n            for (idx = 0; idx < parentCellsWithChildren.length; idx++) {\n                var parentCell = parentCellsWithChildren.eq(idx);\n                if (parentCell.attr(\"data-colspan\")) {\n                    offset += parentCell[0].getAttribute(\"data-colspan\");\n                } else {\n                    offset += 1;\n                }\n                if (index >= idx && index < offset) {\n                    result = parentColumnsCells(parentCell).add(result);\n                    break;\n                }\n            }\n        }\n        return result;\n    }\n\n    function childColumnsCells(cell) {\n        var container = cell.closest(\"thead\");\n        var result = $().add(cell);\n\n        var row = cell.closest(TR);\n        var headerRows = container.find(\"tr:not(.k-filter-row)\");\n        var level = headerRows.index(row) + cell[0].rowSpan;\n        var colSpanAttr = kendo.attr(\"colspan\");\n\n        if (level <= headerRows.length - 1) {\n            var child = row.next();\n            var prevCells = cell.prevAll(\":not(.k-group-cell,.k-hierarchy-cell)\");\n\n            var idx;\n\n            prevCells = prevCells.filter(function() {\n                return !this.rowSpan || this.rowSpan === 1;\n            });\n\n            var offset = 0;\n\n            for (idx = 0; idx < prevCells.length; idx++) {\n                offset += parseInt(prevCells.eq(idx).attr(colSpanAttr), 10) || 1;\n            }\n\n            var cells = child.find(\"th:not(.k-group-cell,.k-hierarchy-cell)\");\n            var colSpan = parseInt(cell.attr(colSpanAttr), 10) || 1;\n\n            idx = 0;\n\n            while (idx < colSpan) {\n                child = cells.eq(idx + offset);\n                result = result.add(childColumnsCells(child));\n                var value = parseInt(child.attr(colSpanAttr), 10);\n                if (value > 1) {\n                    colSpan -= value - 1;\n                }\n                idx++;\n            }\n        }\n\n        return result;\n    }\n\n    function appendContent(tbody, table, html, size) {\n        var placeholder,\n            tmp = tbody;\n\n        if (tbodySupportsInnerHtml) {\n            let $html = $(html);\n            kendo.applyStylesFromKendoAttributes($html, [\"display\", \"left\", \"right\"]);\n            tbody.empty();\n            $html.each((_, el) => tbody[0].appendChild(el));\n        } else {\n            placeholder = document.createElement(DIV);\n            placeholder.innerHTML = \"<table class='k-grid-table k-table'><tbody class='k-table-tbody'>\" + html + \"</tbody></table>\";\n            $(placeholder).find(\"table\").addClass(kendo.getValidCssClass(\"k-table-\", \"size\", size));\n            tbody = placeholder.firstChild.firstChild;\n            table[0].replaceChild(tbody, tmp[0]);\n            tbody = $(tbody);\n        }\n        return tbody;\n    }\n\n    function addHiddenStyle(attr) {\n        attr = attr || {};\n        let kendoStyleAttrObject = {};\n        kendoStyleAttrObject[kendo.attr(\"style-display\")] = \"none\";\n\n        return extend({}, attr, kendoStyleAttrObject);\n    }\n\n    function hasHiddenStyle(attr) {\n        attr = attr || {};\n\n        return !!attr[kendo.attr(\"style-display\")];\n    }\n\n    function removeHiddenStyle(attr) {\n        attr = attr || {};\n        delete attr[kendo.attr(\"style-display\")];\n\n        return attr;\n    }\n\n    function normalizeCols(table, visibleColumns, hasDetails, groups, stacked) {\n        var colgroup = table.find(\">colgroup\"),\n            width,\n            cols = stacked ? [\"<col>\"] : map(visibleColumns, function(column) {\n                width = column.width;\n                if (width && parseInt(width, 10) !== 0) {\n                    return kendo.format(`<col ${kendo.attr('style-width')}=\"{0}\" ${column.draggable ? 'class=k-drag-col' : ''} />`, typeof width === STRING ? width : width + PX);\n                }\n\n                if (column.draggable) {\n                    return \"<col class='k-drag-col' />\";\n                }\n                return \"<col />\";\n            });\n\n        if (!stacked && (hasDetails || colgroup.find(\".k-hierarchy-col\").length)) {\n            cols.splice(0, 0, '<col class=\"k-hierarchy-col\" />');\n        }\n\n        if (colgroup.length) {\n            colgroup.remove();\n        }\n\n        colgroup = $(new Array(groups + 1).join('<col class=\"k-group-col\">') + cols.join(\"\"));\n        kendo.applyStylesFromKendoAttributes(colgroup, [\"width\"]);\n\n        if (!colgroup.is(\"colgroup\")) {\n            colgroup = $(\"<colgroup/>\").append(colgroup);\n        }\n\n        table.prepend(colgroup);\n    }\n\n    function normalizeHeaderCells(container, columns) {\n        var lastIndex = 0;\n        var idx, len;\n        var th = container.find(\"th:not(.k-group-cell)\");\n\n        for (idx = 0, len = columns.length; idx < len; idx++) {\n            if (columns[idx].locked) {\n                th.eq(idx).insertBefore(th.eq(lastIndex));\n                th = container.find(\"th:not(.k-group-cell)\");\n                lastIndex++;\n            }\n        }\n    }\n\n    function convertToObject(array) {\n        var result = {},\n            item,\n            idx,\n            length;\n\n        for (idx = 0, length = array.length; idx < length; idx++) {\n            item = array[idx];\n            result[item.value] = item.text;\n        }\n\n        return result;\n    }\n\n    function formatGroupValue(value, format, columnValues, encoded) {\n        let isForeignKey = columnValues && columnValues.length && isPlainObject(columnValues[0]) && \"value\" in columnValues[0],\n            groupValue = isForeignKey ? convertToObject(columnValues)[value] : value;\n\n        groupValue = groupValue != null ? groupValue : \"\";\n        let usedValue = encoded === false ? groupValue : kendo.htmlEncode(groupValue);\n\n        return format ? kendo.format(format, usedValue) : usedValue;\n    }\n\n    function setCellVisibility(cells, index, visible) {\n        var pad = 0,\n            state,\n            cell = cells[pad];\n\n        while (cell) {\n            state = visible ? true : cell.style.display !== NONE;\n\n            if (visible && cell.classList.contains(\"k-hidden\")) {\n                cell.classList.remove(\"k-hidden\");\n            }\n\n            if (state && !nonDataCellsRegExp.test(cell.className) && --index < 0) {\n                cell.style.display = visible ? \"\" : NONE;\n                break;\n            }\n\n            cell = cells[++pad];\n        }\n    }\n\n    function hideColumnCells(rows, columnIndex) {\n        var idx = 0,\n            length = rows.length,\n            cell, row;\n\n        for (; idx < length; idx += 1) {\n            row = rows.eq(idx);\n            if (row.is(\".k-grouping-row,.k-detail-row\")) {\n                cell = row.children(\":not(.k-group-cell):first,.k-detail-cell\").last();\n                cell.attr(\"colspan\", parseInt(cell.attr(\"colspan\"), 10) - 1);\n            } else {\n                if (row.hasClass(\"k-grid-edit-row\") && (cell = row.children(\".k-edit-container\")[0])) {\n                    cell = $(cell);\n                    cell.attr(\"colspan\", parseInt(cell.attr(\"colspan\"), 10) - 1);\n                    cell.find(\"col\").eq(columnIndex).remove();\n                    row = cell.find(TR).first();\n                }\n\n                setCellVisibility(row[0].cells, columnIndex, false);\n            }\n        }\n    }\n\n    function groupRows(data) {\n        var result = [];\n        var item;\n\n        for (var idx = 0; idx < data.length; idx++) {\n            item = data[idx];\n            if (!(\"field\" in item && \"value\" in item && \"items\" in item)) {\n                break;\n            }\n\n            result.push(item);\n\n            if (item.hasSubgroups) {\n                result = result.concat(groupRows(item.items));\n            }\n        }\n\n        return result;\n    }\n\n    function groupFooters(data) {\n        var result = [];\n        var item;\n\n        for (var idx = 0; idx < data.length; idx++) {\n            item = data[idx];\n            if (!(\"field\" in item && \"value\" in item && \"items\" in item)) {\n                break;\n            }\n\n            if (item.hasSubgroups) {\n                result = result.concat(groupFooters(item.items));\n            }\n\n            result.push(item.aggregates);\n        }\n\n        return result;\n    }\n\n    function showColumnCells(rows, columnIndex) {\n        var idx = 0,\n            length = rows.length,\n            cell, row, columns;\n\n        for (; idx < length; idx += 1) {\n            row = rows.eq(idx);\n            if (row.is(\".k-grouping-row,.k-detail-row\")) {\n                cell = row.children(\":not(.k-group-cell):first,.k-detail-cell\").last();\n                cell.attr(\"colspan\", parseInt(cell.attr(\"colspan\"), 10) + 1);\n            } else {\n                if (row.hasClass(\"k-grid-edit-row\") && (cell = row.children(\".k-edit-container\")[0])) {\n                    cell = $(cell);\n                    cell.attr(\"colspan\", parseInt(cell.attr(\"colspan\"), 10) + 1);\n                    normalizeCols(cell.find(\">form>table\"), visibleColumns(columns), false, 0);\n                    row = cell.find(TR).first();\n                }\n\n                setCellVisibility(row[0].cells, columnIndex, true);\n            }\n        }\n    }\n\n    function updateColspan(toAdd, toRemove, num) {\n        num = num || 1;\n\n        var item, idx, length;\n        for (idx = 0, length = toAdd.length; idx < length; idx++) {\n            item = toAdd.eq(idx).children(\":not([hidden])\").last();\n            item.attr(\"colspan\", parseInt(item.attr(\"colspan\"), 10) + num);\n\n            item = toRemove.eq(idx).children(\":not([hidden])\").last();\n            item.attr(\"colspan\", parseInt(item.attr(\"colspan\"), 10) - num);\n        }\n    }\n\n    function tableWidth(table) {\n        var idx, length, width = 0;\n        var cols = table.find(\">colgroup>col\");\n\n        for (idx = 0, length = cols.length; idx < length; idx += 1) {\n            width += parseInt(cols[idx].style.width, 10);\n        }\n\n        return width;\n    }\n\n    function getDefaultAIRequestConfig(prompt, columns) {\n        return {\n            \"role\": \"user\",\n            \"contents\": [{\n                \"$type\": \"text\",\n                \"text\": prompt\n            }],\n            \"columns\": columns.map((col) => {\n                let colType;\n\n                if (col.selectable) {\n                    colType = \"checkbox\";\n                } else if (col.command) {\n                    colType = \"command\";\n                } else if (col.draggable) {\n                    colType = \"draggable\";\n                }\n\n                const colConfig = { ...col, \"id\": `${col.uid}` };\n\n                if (colType) {\n                    colConfig.type = colType;\n                }\n\n                return colConfig;\n            })\n        };\n    }\n\n    function aiPromptDefaultOutputGetter(response, messages, isRowSelection) {\n        const commands = response?.commands || [];\n        const messagesSeparator = \"\\u2022\" + \" \";\n        const isError = response?.status;\n\n        const outputMessages = commands.map((cmd, i) => {\n            const selectionProtectedMessage = messagesSeparator + messages.invalidSelection;\n            if (cmd?.type === \"GridSelect\") {\n                const hasCells = Object.keys(cmd?.select.cells).length;\n                if (hasCells && isRowSelection && cmd?.select?.filters.length) {\n                    cmd.skipCommand = true;\n                    return selectionProtectedMessage;\n                }\n\n                if (!hasCells && !isRowSelection && cmd?.select?.filters.length) {\n                    cmd.skipCommand = true;\n                    return selectionProtectedMessage;\n                }\n            }\n\n            return cmd?.message ? messagesSeparator + cmd?.message : \"\";\n        });\n        let output = [];\n\n        if (isError) {\n            output.push(messages.error + \" \" + `${response.status} ${response.statusText}`);\n        } else if (response.message) {\n            output.push(response.message);\n        } else {\n            output.push(messages.success);\n\n            if (outputMessages) {\n                output.push(...outputMessages);\n            }\n        }\n\n        return output.join(\"/n\");\n    }\n\n    function prepareAICommands(commands, multiple) {\n        const mergedCommands = [];\n        let lastUniqueCommand;\n\n        if (!commands) {\n            return;\n        }\n\n        for (let i = 0; i < commands.length; i++) {\n            const command = commands[i];\n\n            if (!command || !command.type) {\n                continue;\n            }\n\n            const key = supportedAIDataSourceCommands[command.type];\n\n            if (key === \"filter\" || (key === \"sort\" && !multiple)) {\n                mergedCommands.push(command);\n                continue;\n            }\n\n            if (key) {\n                if (lastUniqueCommand && lastUniqueCommand.type !== command.type) {\n                    mergedCommands.push(lastUniqueCommand);\n                    lastUniqueCommand = null;\n                }\n\n                if (!lastUniqueCommand) {\n                    lastUniqueCommand = command;\n                } else if (command[key] !== undefined) {\n                    const isArray = Array.isArray(lastUniqueCommand[key]);\n                    if (!isArray) {\n                        lastUniqueCommand[key] = [lastUniqueCommand[key]];\n                    }\n                    lastUniqueCommand[key].push(command[key]);\n                    lastUniqueCommand = { ...lastUniqueCommand, [key]: lastUniqueCommand[key] };\n                }\n            } else {\n                if (lastUniqueCommand) {\n                    mergedCommands.push(lastUniqueCommand);\n                    lastUniqueCommand = null;\n                }\n                mergedCommands.push(command);\n            }\n        }\n\n        if (lastUniqueCommand) {\n            mergedCommands.push(lastUniqueCommand);\n        }\n\n        return mergedCommands;\n    }\n\n    function handleAIResponseOutput(output, ai, skeletonID) {\n        if (!ai._requestInProgress || !ai.options.service) {\n            return;\n        }\n\n        const outputObjects = ai.outputObjects;\n\n        ai.updatePromptOutputContent(output.output, skeletonID);\n        ai.element.find(\"[data-id='\" + skeletonID + \"']\").attr(\"data-id\", output.outputId);\n\n        const value = outputObjects.get(skeletonID);\n        outputObjects.delete(skeletonID);\n\n        if (value) {\n            value.id = output?.outputId;\n            value.data.id = output?.outputId;\n            outputObjects.set(output?.outputId, value);\n        }\n\n        ai.promptOutputs = ai.promptOutputs.map((item) => {\n            if (item.id === skeletonID) {\n                item.id = output?.outputId;\n            }\n            return item;\n        });\n\n        ai.stopStreaming();\n        ai._requestInProgress = false;\n    }\n\n    function processAIOutputMessage(message) {\n        const startMarker = \"Column '\";\n        const startIndex = message.indexOf(startMarker);\n\n        const valueStart = startIndex + startMarker.length;\n        const endIndex = message.indexOf(\"'\", valueStart);\n\n        return {\n            uid: message.substring(valueStart, endIndex),\n            originalText: message.substring(startIndex, endIndex + 1)\n        };\n    }\n\n    const aiPromptOutputTemplate = (message, messages, columns) => {\n        const messageData = processAIOutputMessage(message);\n        const col = columns.find(c => c.uid === messageData?.uid);\n\n        if (col) {\n            const originalText = messageData?.originalText;\n            const replacementText = `Column '${col.title || col.field}'`;\n            message = message.replace(originalText, replacementText);\n        }\n\n        if (message.includes(messages.error)) {\n            return `<p class=\"k-text-error\">${kendo.htmlEncode(message)}</p>`;\n        } else {\n            return `<div class=\"k-card-text\">${kendo.htmlEncode(message)}</div>`;\n        }\n    };\n\n    var Grid = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options, events) {\n            var that = this;\n\n            options = isArray(options) ? { dataSource: options } : options;\n\n            Widget.fn.init.call(that, element, options);\n\n            if (events) {\n                that._events = events;\n            }\n\n            isRtl = kendo.support.isRtl(element);\n            CARET_ALT_RIGHT = isRtl ? CARET_ALT_LEFT : CARET_ALT_RIGHT_CACHE;\n\n            that._element();\n\n            that._ariaId();\n\n            that._columns($.extend(true, [], that.options.columns));\n            that._bindMediaQueries();\n\n            if (that._foreignKeyPromises) {\n                $.when.apply(null, that._foreignKeyPromises)\n                    .then(function() {\n                        that._foreignKeyPromises = null;\n                        that._continueInit();\n                    });\n            } else {\n                that._continueInit();\n            }\n        },\n\n        _continueInit: function() {\n            var that = this;\n\n            that._dataSource();\n\n            that._stickyColumns();\n\n            that._tbody();\n\n            that._thead();\n\n            that._rowResizing();\n\n            that._groupable();\n\n            that._toolbar();\n\n            that._initToolbarItemsPopups();\n\n            that._ai();\n\n            that._pageable();\n\n            that._setContentHeight();\n\n            that._templates();\n\n            that._navigatable();\n\n            that._initSelectableAggregates();\n\n            that._selectable();\n\n            that._statusBar();\n\n            that._clipboard();\n\n            that._paste();\n\n            that._details();\n\n            that._editable();\n\n            that._attachCustomCommandsEvent();\n\n            that._adaptiveColumns();\n\n            that._minScreenSupport();\n\n            if (that.options.autoBind) {\n                that.dataSource.fetch();\n            } else {\n                that._group = that._groups() > 0;\n                that._footer();\n            }\n\n            that._setInitialRtlScrollPosition();\n\n            if (that.options.contextMenu) {\n                that._initContextMenu();\n            }\n\n            if (that.lockedContent) {\n                that.wrapper.addClass(\"k-grid-lockedcolumns\");\n                that._resizeHandler = function() {\n                    that.resize();\n                };\n                $(window).on(\"resize\" + NS, that._resizeHandler);\n            }\n\n            that._initLoader();\n\n            kendo.notify(that);\n\n            if (that._showWatermarkOverlay) {\n                that._showWatermarkOverlay(that.wrapper[0]);\n            }\n        },\n\n        events: [\n            CHANGE,\n            CHANGING,\n            \"dataBinding\",\n            \"cancel\",\n            DATABOUND,\n            DETAILEXPAND,\n            DETAILCOLLAPSE,\n            DETAILINIT,\n            FILTERMENUINIT,\n            FILTERMENUOPEN,\n            COLUMNMENUINIT,\n            COLUMNMENUOPEN,\n            EDIT,\n            BEFOREEDIT,\n            SAVE,\n            REMOVE,\n            SAVECHANGES,\n            CELLCLOSE,\n            ROWRESIZE,\n            COLUMNRESIZE,\n            COLUMNREORDER,\n            COLUMNSHOW,\n            COLUMNHIDE,\n            COLUMNLOCK,\n            COLUMNUNLOCK,\n            COLUMNSTICK,\n            COLUMNUNSTICK,\n            ROWREORDER,\n            NAVIGATE,\n            PASTE,\n            \"page\",\n            \"sort\",\n            \"filter\",\n            \"group\",\n            \"groupExpand\",\n            \"groupCollapse\",\n            \"kendoKeydown\"\n        ],\n\n        setDataSource: function(dataSource) {\n            var that = this;\n            var scrollable = that.options.scrollable;\n            var scrollableContent;\n\n            that.options.dataSource = dataSource;\n\n            that._dataSource();\n\n            that._pageable();\n\n            that._thead();\n\n            that._rowResizing();\n\n            if (scrollable) {\n                if (scrollable.virtual) {\n                    scrollableContent = that.content.find(\">.k-virtual-scrollable-wrap\");\n                    kendo.scrollLeft(scrollableContent, leftMostPosition(scrollableContent, isRtl));\n                } else {\n                    scrollableContent = that.tbody;\n                    kendo.scrollLeft(that.content, leftMostPosition(scrollableContent, isRtl));\n                }\n            }\n\n            if (that.options.groupable) {\n                that._groupable();\n            }\n\n            if (that.virtualScrollable) {\n                that.virtualScrollable.setDataSource(that.options.dataSource);\n            }\n\n            if (that.options.navigatable) {\n                that._navigatable();\n            }\n\n            if (that.options.selectable) {\n                that._selectable();\n            }\n\n            if (that.options.autoBind) {\n                that.dataSource.fetch();\n            } else {\n                that._footer();\n            }\n        },\n\n        options: {\n            name: \"Grid\",\n            adaptiveMode: \"none\",\n            ai: null,\n            columns: [],\n            toolbar: null,\n            autoBind: true,\n            filterable: false,\n            scrollable: true,\n            sortable: false,\n            selectable: false,\n            allowCopy: false,\n            allowPaste: false,\n            navigatable: false,\n            pageable: false,\n            persistSelection: false,\n            editable: false,\n            encodeTitles: false,\n            groupable: false,\n            rowTemplate: \"\",\n            altRowTemplate: \"\",\n            statusBarTemplate: null,\n            search: false,\n            noRecords: false,\n            dataSource: {},\n            height: null,\n            resizable: false,\n            reorderable: false,\n            columnMenu: false,\n            detailTemplate: null,\n            contextMenu: false,\n            columnResizeHandleWidth: 3,\n            size: undefined,\n            mobile: \"\",\n            loaderType: \"loadingPanel\",\n            dataLayoutMode: 'columns',\n            stackedLayoutSettings: {},\n            messages: {\n                loader: {\n                    loading: \"Loading...\",\n                    exporting: \"Exporting...\",\n                },\n\n                editable: {\n                    cancelDelete: CANCELDELETE,\n                    confirmation: DELETECONFIRM,\n                    confirmDelete: CONFIRMDELETE\n                },\n                commands: {\n                    create: defaultCommands.create.text,\n                    cancel: defaultCommands.cancel.text,\n                    save: defaultCommands.save.text,\n                    destroy: defaultCommands.destroy.text,\n                    edit: defaultCommands.edit.text,\n                    update: defaultCommands.update.text,\n                    canceledit: defaultCommands.canceledit.text,\n                    excel: defaultCommands.excel.text,\n                    pdf: defaultCommands.pdf.text,\n                    search: defaultCommands.search.text,\n                    columns: defaultCommands.columns.text,\n                    select: \"Select\",\n                    selectall: defaultCommands.selectall.text,\n                    sort: defaultCommands.sort.text,\n                    filter: defaultCommands.filter.text,\n                    group: defaultCommands.group.text,\n                    columnchooser: defaultCommands.columnchooser.text,\n                    selectRow: \"Select Row\",\n                    selectAllRows: \"All rows\",\n                    clearSelection: \"Clear selection\",\n                    copySelection: \"Copy selection\",\n                    copySelectionNoHeaders: \"Copy selection (No Headers)\",\n                    paste: \"Paste (use CTRL/âŒ˜ + V)\",\n                    reorderRow: \"Reorder row\",\n                    reorderRowUp: \"Up\",\n                    reorderRowDown: \"Down\",\n                    reorderRowTop: \"Top\",\n                    reorderRowBottom: \"Bottom\",\n                    exportPdf: \"Export to PDF\",\n                    exportExcel: \"Export to Excel\",\n                    exportToExcelAll: \"All\",\n                    exportToExcelSelection: \"Selection\",\n                    exportToExcelSelectionNoHeaders: \"Selection (No Headers)\",\n                    sortAsc: \"Sort Ascending\",\n                    sortDesc: \"Sort Descending\",\n                    moveGroupPrevious: \"Move previous\",\n                    moveGroupNext: \"Move next\",\n                },\n                details: {\n                    expand: \"Expand Details\",\n                    collapse: \"Collapse Details\",\n                },\n                ai: {\n                    outputPlaceholder: \"No AI output available\",\n                    success: \"Data is:\",\n                    error: \"Operation is not successful. Error:\",\n                    invalidSelection: \"This selection mode is not currently enabled. Please enable the appropriate selection option in the grid configuration.\",\n                    promptPlaceholder: \"Enter your AI prompt here...\"\n                },\n                noRecords: NORECORDS,\n                expandCollapseColumnHeader: \"\",\n                groupHeader: \"Press ctrl + space to group\",\n                ungroupHeader: \"Press ctrl + space to ungroup\",\n                itemsSelected: \"items selected\",\n                dragHandleLabel: \"Drag row\",\n                toolbarLabel: \"grid toolbar\",\n                groupingHeaderLabel: \"grid grouping header\",\n                filterCellTitle: \"filter cell\",\n                clearButtons: {\n                    clearFiltering: \"Clear All Filters\",\n                    clearSorting: \"Clear Sorting\",\n                    clearGrouping: \"Clear Grouping\",\n                    columnChooserReset: \"Reset\",\n                },\n                applyButtons: {\n                    applySorting: \"Done\",\n                    applyGrouping: \"Done\",\n                    columnChooserApply: \"Apply\",\n                }\n            },\n            width: null\n        },\n\n        destroy: function() {\n            var that = this,\n                element,\n                reorderableInstance;\n\n            that._destroyColumnAttachments();\n            that._unbindToolbarTools();\n\n            Widget.fn.destroy.call(that);\n\n            if (this._navigatableTables) {\n                this._navigatableTables.off(NS);\n                this._navigatableTables = null;\n                this._headertables = null;\n            }\n\n            if (that._resizeHandler) {\n                $(window).off(\"resize\" + NS, that._resizeHandler);\n            }\n\n            if (that._aiAssistant) {\n                that._aiAssistant?.destroy();\n                that._aiAssistant = null;\n            }\n\n            if (that._aiAssistantWindow) {\n                that._aiAssistantWindow?.destroy();\n                that._aiAssistantWindow = null;\n            }\n\n            if (that.pager && that.pager.element) {\n                that.pager.destroy();\n            }\n\n            if (that.timer) {\n                clearTimeout(that.timer);\n            }\n\n            if (that._progressTimeOut) {\n                clearTimeout(that._progressTimeOut);\n            }\n\n            if (that._collapseGroupsTimeOut) {\n                clearTimeout(that._collapseGroupsTimeOut);\n            }\n\n            if (that._endlessFetchTimeOut) {\n                clearTimeout(that._endlessFetchTimeOut);\n            }\n\n            that.pager = null;\n\n            that._destroyGroupable();\n\n            reorderableInstance = that.wrapper.data(\"kendoReorderable\");\n            if (reorderableInstance) {\n                reorderableInstance.destroy();\n            }\n\n            reorderableInstance = that.tbody ? that.tbody.data(\"kendoReorderable\") : null;\n            if (reorderableInstance) {\n                reorderableInstance.destroy();\n            }\n\n            if (that.allowPaste) {\n                const container = that.content || that.table;\n                container.off(PASTE + NS, that.pasteHandler);\n                that.unbind(that.pasteHandler);\n            }\n\n            if (that.pasteActionsDropDownList) {\n                that.pasteActionsDropDownList.destroy();\n                that.pasteActionsDropDownList = null;\n            }\n\n            if (that.selectable && that.selectable.element) {\n                that.selectable.destroy();\n\n                that.clearArea();\n                that._selectedIds = null;\n\n                if (that.copyHandler) {\n                    that.wrapper.off(\"keydown\", that.copyHandler);\n                    that.unbind(that.copyHandler);\n                }\n                if (that.updateClipBoardState) {\n                    that.unbind(that.updateClipBoardState);\n                    that.updateClipBoardState = null;\n                }\n                if (that.clearAreaHandler) {\n                    that.wrapper.off(\"keyup\", that.clearAreaHandler);\n                }\n            }\n\n            that.selectable = null;\n            that._selectableAggregatesOptions = null;\n\n            if (that.resizable) {\n                that.resizable.destroy();\n\n                if (that._resizeUserEvents) {\n                    if (that._resizeHandleDocumentClickHandler) {\n                        $(document).off(\"click\", that._resizeHandleDocumentClickHandler);\n                    }\n                    that._resizeUserEvents.destroy();\n                    that._resizeUserEvents = null;\n                }\n                that.resizable = null;\n            }\n\n            that._destroyRowResizing();\n\n            that._destroyVirtualScrollable();\n\n            if (that.editableUserEvents) {\n                that.editableUserEvents.destroy();\n                that.editableUserEvents = null;\n            }\n\n            if (that._lockedContentUserEvents) {\n                that._lockedContentUserEvents.destroy();\n                that._lockedContentUserEvents = null;\n            }\n\n            that._destroyEditable();\n\n            if (that.dataSource) {\n                that.dataSource.unbind(CHANGE, that._refreshHandler)\n                    .unbind(PROGRESS, that._progressHandler)\n                    .unbind(ERROR, that._errorHandler)\n                    .unbind(SORT, that._clearSortClasses);\n\n                that._refreshHandler = that._progressHandler = that._errorHandler = that._sortHandler = null;\n            }\n\n            element = that.element\n                .add(that.wrapper)\n                .add(that.table)\n                .add(that.thead)\n                .add(that.wrapper.find(\">.k-grid-toolbar\"));\n\n            if (that.content) {\n                element = element\n                    .add(that.content)\n                    .add(that.content.find(\">.k-virtual-scrollable-wrap\"));\n            }\n\n            if (that.scrollables && that.scrollables.first()) {\n                element = element.add(that.scrollables.first());\n            }\n\n            if (that.lockedHeader) {\n                that._removeLockedContainers();\n            }\n\n            if (that.pane) {\n                that.pane.destroy();\n            }\n\n            if (that._isMobile) {\n                that.wrapper.off(\"transitionend\" + NS);\n                that.wrapper.off(\"contextmenu\" + NS);\n            }\n\n            if (that.minScreenResizeHandler) {\n                $(window).off(\"resize\", that.minScreenResizeHandler);\n            }\n\n            that._detachColumnMediaResizeHandler();\n\n            if (that._draggableInstance && that._draggableInstance.element) {\n                that._draggableInstance.destroy();\n            }\n\n            that._draggableInstance = null;\n\n            if (that._draggableRowsInstance && that._draggableRowsInstance.element) {\n                that._draggableRowsInstance.destroy();\n            }\n\n            if (that.tbodyContextMenu) {\n                that.tbodyContextMenu.destroy();\n            }\n\n            if (that.theadContextMenu) {\n                that.theadContextMenu.destroy();\n            }\n\n            if (that.loader) {\n                that.loader.destroy();\n            }\n\n            that._draggableRowsInstance = null;\n\n            element.off(NS);\n            element[0].kendoBindingTarget = null;\n\n            kendo.destroy(that.wrapper);\n\n            that.rowTemplate =\n                that.altRowTemplate =\n                that.lockedRowTemplate =\n                that.lockedAltRowTemplate =\n                that.detailTemplate =\n                that.footerTemplate =\n                that.groupFooterTemplate =\n                that.lockedGroupFooterTemplate =\n                that.noRecordsTemplate = null;\n\n            that.scrollables =\n                that.thead =\n                that.tbody =\n                that.element =\n                that.table =\n                that.content =\n                that.statusBar =\n                that.footer =\n                that.wrapper =\n                that.lockedTable =\n                that.lockedContent =\n                that.lockedHeader =\n                that.lockedFooter =\n                that._groupableClickHandler =\n                that._groupRows =\n                that._setContentWidthHandler =\n                that.loaderOverlay =\n                that.wrapperClone = null;\n        },\n\n        getOptions: function() {\n            var options = this.options;\n            options.dataSource = null;\n\n            var result = extend(true, {}, this.options);\n            result.columns = kendo.deepExtend([], this.columns);\n\n            var dataSource = this.dataSource;\n\n            var initialData = dataSource.options.data && dataSource._data;\n            dataSource.options.data = null;\n\n            result.dataSource = $.extend(true, {}, dataSource.options);\n\n            dataSource.options.data = initialData;\n\n            result.dataSource.data = initialData;\n            result.dataSource.page = dataSource.page();\n            result.dataSource.filter = $.extend(true, {}, dataSource.filter());\n            result.dataSource.pageSize = dataSource.pageSize();\n            result.dataSource.sort = dataSource.sort();\n            result.dataSource.group = dataSource.group();\n            result.dataSource.aggregate = dataSource.aggregate();\n\n            if (result.dataSource.transport) {\n                result.dataSource.transport.dataSource = null;\n            }\n\n            if (result.pageable && result.pageable.pageSize) {\n                result.pageable.pageSize = dataSource.pageSize();\n            }\n\n            return result;\n        },\n\n        setOptions: function(options) {\n            var currentOptions = this.getOptions(),\n                element = this.element;\n\n\n            if (currentOptions.size) {\n                const size = kendo.getValidCssClass(\"k-grid-\", \"size\", currentOptions.size);\n                element.removeClass(size);\n            }\n\n            kendo.deepExtend(currentOptions, options);\n            if (!options.dataSource) {\n                currentOptions.dataSource = this.dataSource;\n            } else {\n                if (options.dataSource.filter) {\n                    currentOptions.dataSource.filter = options.dataSource.filter;\n                }\n            }\n            var wrapper = this.wrapper;\n            var events = this._events;\n\n            this.destroy();\n            this.options = null;\n            if (this._isMobile) {\n                var mobileWrapper = wrapper.closest(kendo.roleSelector(\"pane\")).parent();\n                mobileWrapper.after(wrapper);\n                mobileWrapper.remove();\n                wrapper.removeClass(\"k-grid-mobile\");\n            }\n            if (wrapper[0] !== element[0]) {\n                wrapper.before(element);\n                wrapper.remove();\n            }\n            element.empty();\n\n            this.init(element, currentOptions, events);\n            this._setEvents(currentOptions);\n        },\n\n        items: function() {\n            if (this.lockedContent) {\n                return this._items(this.tbody).add(this._items(this.lockedTable.children(\"tbody\")));\n            } else {\n                return this._items(this.tbody);\n            }\n        },\n\n        _items: function(container, includeGroupRows) {\n            return container.children().filter(function() {\n                var tr = $(this);\n                return (includeGroupRows ? !tr.hasClass(\"k-detail-row\") : !tr.hasClass(GROUPING_ROW)) && !tr.hasClass(\"k-detail-row\") && !tr.hasClass(\"k-group-footer\");\n            });\n        },\n\n        dataItems: function() {\n            var dataItems = kendo.ui.DataBoundWidget.fn.dataItems.call(this);\n            if (this.lockedContent) {\n                var n = dataItems.length, tmp = new Array(2 * n);\n                for (var i = n; --i >= 0;) {\n                    tmp[i] = tmp[i + n] = dataItems[i];\n                }\n                dataItems = tmp;\n            }\n\n            return dataItems;\n        },\n\n        _destroyColumnAttachments: function() {\n            var that = this;\n\n            that.resizeHandle = null;\n\n            if (!that.thead) {\n                return;\n            }\n\n            that.thead.add(that.lockedHeader).find(\"th\").each(function() {\n                var th = $(this),\n                    filterMenu = th.data(\"kendoFilterMenu\"),\n                    sortable = th.data(\"kendoColumnSorter\"),\n                    columnMenu = th.data(\"kendoColumnMenu\");\n\n                if (filterMenu) {\n                    filterMenu.destroy();\n                }\n\n                if (sortable) {\n                    sortable.destroy();\n                }\n\n                if (columnMenu) {\n                    columnMenu.destroy();\n                }\n            });\n        },\n\n        _setInitialRtlScrollPosition: function() {\n            const that = this;\n\n            if (isRtl && that.scrollables) {\n                kendo.scrollLeft(that.scrollables, 0);\n            }\n        },\n\n        _attachCustomCommandsEvent: function() {\n            var that = this,\n                columns = leafColumns(that.columns || []),\n                command,\n                idx,\n                length;\n\n            for (idx = 0, length = columns.length; idx < length; idx++) {\n                command = columns[idx].command;\n\n                if (command) {\n                    attachCustomCommandEvent(that, that.wrapper, command);\n                }\n            }\n        },\n\n        _bindMediaQueries: function() {\n            const that = this;\n            const isAdaptive = that.options.adaptiveMode === \"auto\";\n\n            if (isAdaptive) {\n                that.largeMQL = kendo.mediaQuery(\"large\");\n                that.mediumMQL = kendo.mediaQuery(\"medium\");\n                that.smallMQL = kendo.mediaQuery(\"small\");\n\n                const handler = (fullscreen, handler) => {\n                    if (that._editMode() !== \"popup\") {\n                        return;\n                    }\n                    const checkActionSheet = fullscreen === true || fullscreen === false;\n\n                    let popup;\n\n                    if (that._editContainer) {\n                        popup = that._editContainer && that._editContainer.data(handler);\n                    }\n\n                    if (!popup) {\n                        const reverseHandler = handler === \"kendoActionSheet\" ? \"kendoWindow\" : \"kendoActionSheet\";\n                        popup = that._editContainer && that._editContainer.data(reverseHandler);\n                    }\n\n                    if (checkActionSheet) {\n                        if (popup && popup.fullscreen && popup.visible()) {\n                            that._showAdaptiveView = true;\n                            popup.fullscreen(fullscreen);\n                        } else if (popup) {\n                            that._showAdaptiveView = false;\n                            that._destroyEditable(true);\n                        }\n                    } else {\n                        if (popup && popup.fullscreen) {\n                            popup.close();\n                        }\n                    }\n                };\n\n                that.smallMQL\n                    .onEnter(() => {\n                        handler(true, \"kendoActionSheet\");\n                    });\n\n                that.mediumMQL\n                    .onEnter(() => {\n                        handler(false, \"kendoActionSheet\");\n                    });\n\n                that.largeMQL\n                    .onEnter(() => {\n                        handler(null, \"kendoWindow\");\n                    });\n            } else {\n                that.smallMQL && that.smallMQL.destroy();\n                that.mediumMQL && that.mediumMQL.destroy();\n                that.largeMQL && that.largeMQL.destroy();\n\n                that._showAdaptiveView = false;\n            }\n        },\n\n        _aria: function() {\n            var wrapper = this.wrapper,\n                gridRole = this._hasDetails() ? \"treegrid\" : this.options.navigatable ? \"grid\" : null,\n                table = this.table,\n                toolbar = wrapper.find(\".k-grid-toolbar\"),\n                groupingHeader = wrapper.find(\".k-grouping-header\"),\n                gridId = this._ariaGridId(),\n                tableTabindex = table.attr(TABINDEX),\n                tbodyId, headerGroupId, footerGroupId, tableOwned,\n                stacked = this._isStackedMode(),\n                numberOfFixedRows = !stacked && this.thead.find(TR).length + this.wrapper.find(\".k-grid-footer-wrap table tr\").length,\n                trailingColumns = this._trailingColumns(),\n                virtual = this.virtualScroll,\n                pageable = this.options.pageable,\n                rowsCount;\n\n            table.attr(TABINDEX, tableTabindex >= 0 ? tableTabindex : 0);\n\n            if (gridRole) {\n                table.attr(ROLE, gridRole);\n            }\n\n            const tbody = table.find(\"tbody\");\n            const thead = table.find(\"thead\");\n            const tfoot = table.find(\"tfoot\");\n            const tr = table.find(TR);\n\n            if (tbody.find(TR).length > 0) {\n                tbody.attr(ROLE, ROWGROUP);\n            }\n\n            if (thead.find(`${TR} ${TH}`).length > 0) {\n                thead.attr(ROLE, ROWGROUP);\n            }\n\n            if (tfoot.find(TR).length > 0) {\n                tfoot.attr(ROLE, ROWGROUP);\n            }\n\n            if (tr.children().length > 0) {\n                tr.attr(ROLE, ROW);\n            }\n\n            table.find(\"th\").attr(ROLE, COLUMNHEADER);\n            table.find(\"td\").attr(ROLE, GRIDCELL);\n\n            if ((pageable && this.dataSource.totalPages() > 1) || (virtual && virtual.rows)) {\n                if (this._groups() > 0) {\n                    rowsCount = -1;\n                } else if (this._hasDetails()) {\n                    rowsCount = numberOfFixedRows + (this.dataSource.total() * 2);\n                } else {\n                    rowsCount = numberOfFixedRows + this.dataSource.total();\n                }\n\n                table.attr(ARIA_ROWCOUNT, rowsCount);\n            } else if (this._hasDetails()) {\n                if (this._groups() > 0) {\n                    rowsCount = -1;\n                } else {\n                    rowsCount = numberOfFixedRows + (this.dataSource.total() * 2);\n                }\n\n                table.attr(ARIA_ROWCOUNT, rowsCount);\n            }\n\n            if (rowsCount && rowsCount > 0) {\n                this._ariaRowIndex();\n            }\n\n            if (!stacked && (virtual && virtual.columns) ||\n                (!table.attr(ARIA_COLCOUNT) &&\n                    (table.find(\"td:not([group-header-spanned-hidden]):hidden\").length > 0 ||\n                        wrapper.find(\".k-grid-content-locked td:not([group-header-spanned-hidden]):hidden\").length > 0))) {\n                table.attr(ARIA_COLCOUNT, trailingColumns + leafColumns(this.columns).length);\n                this._ariaColumnIndex();\n            }\n\n            if (this.pager) {\n                this.pager.element.attr(ARIA_CONTROLS, gridId);\n            }\n\n            toolbar.attr({\n                role: \"toolbar\",\n                \"aria-label\": this.options.messages.toolbarLabel,\n                \"aria-controls\": gridId\n            });\n\n            groupingHeader.attr({\n                role: \"toolbar\",\n                \"aria-label\": this.options.messages.groupingHeaderLabel,\n                \"aria-controls\": gridId\n            });\n\n            headerGroupId = !stacked ? this._ariaHeaderFooter(\"header\", \"thead\", \"th, td\", COLUMNHEADER) : \"\";\n            footerGroupId = this._ariaHeaderFooter(\"footer\", \"tfoot\", \"td\", GRIDCELL);\n\n            if (!stacked && wrapper.find(\".k-grid-content-locked\").length > 0) {\n                this._ariaLockedContent();\n            }\n\n            if (!!headerGroupId || !!footerGroupId) {\n                tbodyId = this.tbody.attr(ID) || kendo.guid();\n                tableOwned = [headerGroupId, tbodyId, footerGroupId].join(\" \");\n\n                this.tbody.attr(ID, tbodyId);\n                table.attr(ARIA_OWNS, tableOwned);\n            }\n\n            if (this.options.groupable) {\n                this._ariaGroupTitles();\n            }\n        },\n\n        _ariaColumnIndex: function() {\n            var trailingColumns = this._trailingColumns(),\n                dataVirtual = this.tbody.find(\">tr\").last().find(\"> td[data-virtual]\"),\n                headerRows = this.thead.find(\">tr\").not(\".k-filter-row\"),\n                lockedHeaderRows = this.wrapper.find(\".k-grid-header-locked thead > tr\").not(\".k-filter-row\"),\n                firstIndex = Number.MAX_VALUE,\n                lastIndex = 0,\n                lockedLastIndex = 0,\n                previousVirtual = 0,\n                nextVirtual = 0,\n                previousIndex, i, cells, dataIndex, cellsIndex,\n                eachHeaderCell = function(j, cell) {\n                    var current = cell.getAttribute(\"data-index\"),\n                        currentIndex = Number(current),\n                        lockedParent = $(cell).closest(\".k-grid-header-locked\");\n\n                    if (lockedParent.length === 0 && currentIndex < firstIndex) {\n                        firstIndex = currentIndex;\n                    }\n\n                    if (lockedParent.length > 0 && lockedLastIndex < currentIndex) {\n                        lockedLastIndex = currentIndex;\n                    }\n\n                    if (lockedParent.length === 0 && lastIndex < currentIndex) {\n                        lastIndex = currentIndex;\n                    }\n\n                    if (current !== null) {\n                        cell.setAttribute(ARIA_COLINDEX, Number(currentIndex) + 1);\n                        previousIndex = Number(currentIndex) + 1 + cell.getAttribute(\"colspan\");\n                    } else {\n                        cell.setAttribute(ARIA_COLINDEX, previousIndex + 1);\n                        previousIndex = previousIndex + cell.getAttribute(\"colspan\");\n                    }\n                };\n\n            if (dataVirtual.length === 2) {\n                previousVirtual = Number(dataVirtual[0].getAttribute(\"colspan\"));\n                nextVirtual = Number(dataVirtual[1].getAttribute(\"colspan\"));\n            } else if (dataVirtual.length === 1 && dataVirtual.prev().length === 0) {\n                previousVirtual = Number(dataVirtual[0].getAttribute(\"colspan\"));\n            } else if (dataVirtual.length === 1 && dataVirtual.prev().length === 1) {\n                nextVirtual = Number(dataVirtual[0].getAttribute(\"colspan\"));\n            }\n\n            for (i = 0; i < lockedHeaderRows.length; i++) {\n                previousIndex = 0;\n                lockedHeaderRows.eq(i).find(\"th\").each(eachHeaderCell);\n            }\n\n            for (i = 0; i < headerRows.length; i++) {\n                previousIndex = 0;\n                headerRows.eq(i).find(\"th\").each(eachHeaderCell);\n            }\n\n            for (i = 0; i <= lockedLastIndex; i++) {\n                dataIndex = i + trailingColumns;\n                cells = this.wrapper.find(\".k-grid-content-locked tbody > tr > td:nth-child(\" + (i + 1) + \")\");\n                cells.attr(ARIA_COLINDEX, dataIndex + 1);\n            }\n\n            for (i = previousVirtual; i <= lastIndex - firstIndex - nextVirtual; i++) {\n                if (previousVirtual === 0) {\n                    cellsIndex = i + 1;\n                } else {\n                    cellsIndex = i - previousVirtual + 2;\n                }\n\n                dataIndex = firstIndex + i + trailingColumns;\n\n                cells = this.tbody.find(\"> tr > td:nth-child(\" + cellsIndex + \")\");\n                cells.attr(ARIA_COLINDEX, dataIndex + 1);\n            }\n        },\n\n        _ariaGroupTitles: function() {\n            var that = this,\n                groups = that.dataSource.group(),\n                ths = that.wrapper.find(\".k-grid-header th\");\n\n            ths.each(function(i, el) {\n                if (el.getAttribute(\"title\") === that.options.messages.ungroupHeader) {\n                    el.setAttribute(\"title\", that.options.messages.groupHeader);\n                }\n            });\n\n            if (groups && groups.length > 0) {\n                groups.forEach(function(group) {\n                    var field = group.field,\n                        el = ths.filter(\"[\" + kendo.attr(\"field\") + \"='\" + field + \"']\");\n\n                    if (el.attr(\"title\") === that.options.messages.groupHeader) {\n                        el.attr(\"title\", that.options.messages.ungroupHeader);\n                    }\n                });\n            }\n        },\n\n        _ariaHeaderFooter: function(type, group, el, role) {\n            var that = this,\n                wrapper = that.wrapper,\n                table = wrapper.find(\".k-grid-\" + type + \" .k-grid-\" + type + \"-wrap table\"),\n                lockedTable = wrapper.find(\".k-grid-\" + type + \" .k-grid-\" + type + \"-locked table\"),\n                groupId = \"\",\n                rowGroup;\n\n            if (table.length > 0) {\n                rowGroup = table.find(group + \", tbody\");\n                groupId = rowGroup.attr(ID) || kendo.guid();\n\n                table.attr(ROLE, NONE);\n\n                const tr = table.find(TR);\n\n                if (tr.children().length > 0) {\n                    tr.attr(ROLE, ROW);\n                    rowGroup.attr(ROLE, ROWGROUP);\n                }\n\n                table.find(el).attr(ROLE, role);\n                rowGroup.attr({\n                    id: groupId\n                });\n            }\n\n            if (lockedTable.length > 0) {\n                that._ariaLocked(type, group, el, role);\n            }\n\n            lockedTable.find(\"td\").attr(ROLE, GRIDCELL);\n            table.find(\"td\").attr(ROLE, GRIDCELL);\n\n            return groupId;\n        },\n\n        _ariaId: function() {\n            var id = this.element.attr(ID) || \"aria\";\n\n            if (id) {\n                this._cellId = id + \"_active_cell\";\n            }\n        },\n\n        _ariaGridId: function() {\n            var table = this.table,\n                gridId = table.attr(ID);\n\n            if (!gridId) {\n                gridId = kendo.guid();\n                table.attr(ID, gridId);\n            }\n\n            return gridId;\n        },\n\n        _ariaLocked: function(type, group, el, role) {\n            var that = this,\n                wrapper = that.wrapper,\n                table = wrapper.find(\".k-grid-\" + type + \" .k-grid-\" + type + \"-wrap table\"),\n                lockedTable = wrapper.find(\".k-grid-\" + type + \" .k-grid-\" + type + \"-locked table\"),\n                rows = table.find(TR),\n                lockedRows = lockedTable.find(TR);\n\n            lockedTable.attr(ROLE, NONE);\n            lockedTable.find(group + \", tbody\").attr(ROLE, NONE);\n            lockedRows.attr(ROLE, NONE);\n\n            lockedTable.find(el).attr(ROLE, role);\n\n            rows.each(function(i, row) {\n                var ownedCells = [];\n\n                ownedCells = that._cellsIds(lockedRows.eq(i).find(el), \"locked_\" + type, i);\n                ownedCells = ownedCells.concat(that._cellsIds($(row).find(el), type, i));\n\n                row.setAttribute(ARIA_OWNS, ownedCells.join(\" \"));\n            });\n        },\n\n        _ariaLockedContent: function() {\n            var that = this,\n                table = that.table,\n                tableRows = table.find(TR),\n                lockedTable = that.wrapper.find(\".k-grid-content-locked table\"),\n                lockedRows = lockedTable.find(TR);\n\n            lockedTable.attr(ROLE, NONE);\n            lockedTable.find(\"tbody\").attr(ROLE, NONE);\n            lockedRows.attr(ROLE, NONE);\n            lockedTable.find(\"td\").attr(ROLE, GRIDCELL);\n\n            tableRows.each(function(i, row) {\n                var ownedCells = [];\n\n                ownedCells = that._cellsIds(lockedRows.eq(i).find(\"td\"), \"locked_datacell\", i);\n                ownedCells = ownedCells.concat(that._cellsIds($(row).find(\"td\"), \"datacell\", i));\n\n                row.setAttribute(ARIA_OWNS, ownedCells.join(\" \"));\n            });\n        },\n\n        _ariaAddHiddenColIndex: function() {\n            var virtualScroll = this.virtualScroll || {},\n                columns = this.columns,\n                table = this.table,\n                leafColsCount = leafColumns(columns).length;\n\n            if (!virtualScroll.columns && !table.attr(ARIA_COLCOUNT)) {\n                this._ariaColumnIndex();\n\n                table.attr(ARIA_COLCOUNT, leafColsCount);\n            }\n        },\n\n        _ariaRemoveHiddenColIndex: function() {\n            var virtualScroll = this.virtualScroll || {},\n                columns = this.columns,\n                leafColsCount = leafColumns(columns).length;\n\n            if (!virtualScroll.columns && (leafColsCount === visibleLeafColumns(this.columns).length)) {\n                this.wrapper.find(\"td, th\").removeAttr(ARIA_COLINDEX);\n\n                this.table.removeAttr(ARIA_COLCOUNT);\n            }\n        },\n\n        _ariaRowIndex: function() {\n            var headerRows = !this._isStackedMode() && this.thead.find(\">tr\"),\n                numberOfHeaderRows = headerRows ? headerRows.length : 0,\n                bodyRows = this.tbody.find(\">tr\"),\n                footerRows = this.wrapper.find(\".k-grid-footer-wrap tfoot > tr\"),\n                totalNumberOfItems = this.dataSource.total(),\n                previousItems = this.dataSource.skip() || 0,\n                currentIndex = 1,\n                previousMaster = false,\n                i, currentRow;\n\n            if (this._hasDetails()) {\n                totalNumberOfItems = totalNumberOfItems * 2;\n                previousItems = previousItems * 2;\n            }\n\n            for (i = 0; i < numberOfHeaderRows; i++) {\n                headerRows.eq(i).attr(ARIA_ROWINDEX, currentIndex + i);\n            }\n\n            currentIndex = numberOfHeaderRows + previousItems;\n\n            for (i = 0; i < bodyRows.length; i++) {\n                currentRow = bodyRows.eq(i);\n\n                if (this._hasDetails() && currentRow.hasClass(\"k-master-row\")) {\n                    if (previousMaster) {\n                        currentIndex = currentIndex + 2;\n                    } else {\n                        currentIndex = currentIndex + 1;\n                    }\n\n                    previousMaster = true;\n                } else {\n                    currentIndex = currentIndex + 1;\n                    previousMaster = false;\n                }\n\n                currentRow.attr(ARIA_ROWINDEX, currentIndex);\n            }\n\n            currentIndex = numberOfHeaderRows + totalNumberOfItems + 1;\n\n            for (i = 0; i < footerRows.length; i++) {\n                footerRows.eq(i).attr(ARIA_ROWINDEX, currentIndex + i);\n            }\n        },\n\n        _cellsIds: function(elements, prefix, i) {\n            var ownedCells = [],\n                gridId = this._ariaGridId();\n\n            elements.each(function(j, cell) {\n                var id = cell.getAttribute(ID) || gridId + \"_\" + prefix + \"_\" + i + \"_\" + j;\n\n                cell.setAttribute(ID, id);\n\n                ownedCells.push(id);\n            });\n\n            return ownedCells;\n        },\n\n        _trailingColumns: function() {\n            return this._groups() + (this._hasDetails() ? 1 : 0);\n        },\n\n        _element: function() {\n            const that = this;\n            let table = that.element;\n\n\n            if (!table.is(\"table\")) {\n                if (that.options.scrollable) {\n                    table = that.element.find(\"> .k-grid-content > table\");\n                } else {\n                    table = that.element.children(\"table\");\n                }\n\n                if (!table.length) {\n                    table = $(\"<table />\").appendTo(that.element);\n                }\n            }\n\n            table.addClass(\"k-grid-table k-table\");\n            table.addClass(kendo.getValidCssClass(\"k-table-\", \"size\", that.options.size));\n            that.table = table;\n\n            that._wrapper();\n        },\n\n        _createResizeHandle: function(container, th) {\n            var that = this;\n            var indicatorWidth = that.options.columnResizeHandleWidth;\n            var scrollable = that.options.scrollable;\n            var resizeHandle = that.resizeHandle;\n            var halfResizeHandle = (indicatorWidth * 3) / 2;\n            var rtlCorrection = 0;\n            var headerWrap;\n            var ieCorrection;\n            var webkitCorrection;\n            var firefoxCorrection;\n            var leftMargin;\n            var invisibleSpace;\n            var leftBorderWidth;\n            var scrollLeft;\n            var left;\n            var top;\n\n            if (resizeHandle && that.lockedContent && resizeHandle.data(\"th\")[0] !== th[0]) {\n                resizeHandle.off(NS).remove();\n                resizeHandle = null;\n            }\n\n            if (!resizeHandle) {\n                resizeHandle = that.resizeHandle = $('<div class=\"k-resize-handle\"><div class=\"k-resize-handle-inner\"></div></div>');\n                container.append(resizeHandle);\n            }\n\n            scrollLeft = kendo.scrollLeft(container);\n\n            if (isRtl && (browser.mozilla || (browser.webkit && browser.version >= 85))) {\n                scrollLeft = scrollLeft * -1;\n            }\n\n            leftBorderWidth = parseFloat(container.css(\"borderLeftWidth\"));\n\n            left = th.offset().left + scrollLeft - parseFloat(th.css(\"marginLeft\")) - (container.offset().left + leftBorderWidth);\n\n            if (!isRtl) {\n                left += th[0].offsetWidth;\n            } else {\n                if (scrollable) {\n                    rtlCorrection = (left <= scrollLeft ? halfResizeHandle : 0);// when shown on first column headers are misaligned due to the width of the resize handler\n                    headerWrap = th.closest(\".k-grid-header-wrap, .k-grid-header-locked\");\n                    invisibleSpace = headerWrap[0].scrollWidth - headerWrap[0].offsetWidth; // the difference between the entire width and the visible area\n                    leftMargin = parseFloat(headerWrap.css(\"marginLeft\"));\n                    ieCorrection = browser.msie ? 2 * kendo.scrollLeft(headerWrap) + leftBorderWidth - leftMargin - rtlCorrection : 0;\n                    webkitCorrection = -rtlCorrection;\n                    firefoxCorrection = browser.mozilla ? leftBorderWidth - leftMargin - rtlCorrection : 0;\n\n                    left -= webkitCorrection + firefoxCorrection + ieCorrection;\n                }\n            }\n\n            top = th.offset().top - parseFloat(th.css(\"marginTop\")) - (container.offset().top + parseFloat(container.css(\"borderTopWidth\")));\n\n            resizeHandle.css({\n                top: top, //scrollable ? 0 : heightAboveHeader(that.wrapper),\n                left: left - halfResizeHandle,\n                height: outerHeight(th),\n                width: indicatorWidth * 3 - rtlCorrection\n            })\n                .data(\"th\", th)\n                .show();\n\n            resizeHandle.off(DUBLECLICK + NS).on(DUBLECLICK + NS, function() {\n                that._autoFitLeafColumn(parseInt(th.attr(kendo.attr(\"index\")), 10));\n            });\n        },\n\n        _positionColumnResizeHandle: function() {\n            var that = this,\n                lockedHead = that.lockedHeader ? that.lockedHeader.find(\"thead\").first() : $();\n\n            if (that.thead) {\n                that.thead.add(lockedHead).on(MOUSEMOVE + NS, \"tr:not(.k-filter-row) > th:not([data-resizable=false])\", function(e) {\n                    var button = typeof e.buttons !== \"undefined\" ? e.buttons : (e.which || e.button);\n\n                    var th = $(this);\n                    if (th.hasClass(\"k-group-cell\") || th.hasClass(\"k-hierarchy-cell\")) {\n                        return;\n                    }\n\n                    if (typeof button !== \"undefined\" && button !== 0) {\n                        //do not create a new resize handle if a mouse button is still pressed\n                        //this happens during resizing or before UserEvents trigger \"start\"\n                        return;\n                    }\n\n                    if (th[0].hasAttribute(kendo.attr(COLSPAN))) {\n                        // resizing multi-column headers is not supported\n                        return;\n                    }\n\n                    that._createResizeHandle(th.closest(DIV), th);\n                });\n            }\n        },\n\n        _resizeHandleDocumentClick: function(e) {\n            if ($(e.target).closest(\".k-column-active\").length) {\n                return;\n            }\n\n            $(document).off(e);\n\n            this._resetResizeHandleHeader();\n            this._hideResizeHandle();\n        },\n\n        _resetResizeHandleHeader: function() {\n            var th;\n\n            if (!this.resizeHandle) {\n                return;\n            }\n\n            th = $(this.resizeHandle).data(\"th\");\n\n            if (th) {\n                th.find(DOT + LINK_CLASS).find(DOT + ICON_CLASS + \",\" + DOT + SVG_ICON_CLASS).show();\n                th.find(DOT + ORDER_CLASS).show();\n                th.find(DOT + HEADER_COLUMN_MENU_CLASS).show();\n                th.find(DOT + FILTER_MENU_CLASS).show();\n            }\n        },\n\n        _hideResizeHandle: function() {\n            if (this.resizeHandle) {\n                this.resizeHandle.data(\"th\")\n                    .removeClass(\"k-column-active\");\n\n                if (this.lockedContent && !(this._isMobile || kendo.support.mobileOS)) {\n                    this.resizeHandle.off(NS).remove();\n                    this.resizeHandle = null;\n                } else {\n                    this.resizeHandle.hide();\n                }\n            }\n        },\n\n        _positionColumnResizeHandleTouch: function() {\n            var that = this,\n                lockedHead = that.lockedHeader ? that.lockedHeader.find(\"thead\").first() : $();\n\n            that._resizeUserEvents = new kendo.UserEvents(lockedHead.add(that.thead), {\n                filter: \"th:not(.k-group-cell):not(.k-hierarchy-cell)\",\n                threshold: 10,\n                minHold: 500,\n                hold: function(e) {\n                    var th = $(e.target);\n\n                    e.preventDefault();\n\n                    if (that.resizeHandle) {\n                        that.resizeHandle.data(\"th\")\n                            .removeClass(\"k-column-active\");\n                        that._resetResizeHandleHeader();\n                    }\n\n                    th.addClass(\"k-column-active\");\n\n                    th.find(DOT + LINK_CLASS).find(DOT + ICON_CLASS + \",\" + DOT + SVG_ICON_CLASS).hide();\n                    th.find(DOT + ORDER_CLASS).hide();\n                    th.find(DOT + HEADER_COLUMN_MENU_CLASS).hide();\n                    th.find(DOT + FILTER_MENU_CLASS).hide();\n\n                    that._createResizeHandle(th.closest(DIV), th);\n\n                    if (!that._resizeHandleDocumentClickHandler) {\n                        that._resizeHandleDocumentClickHandler = that._resizeHandleDocumentClick.bind(that);\n                    }\n\n                    $(document).on(\"click\", that._resizeHandleDocumentClickHandler);\n                }\n            });\n        },\n\n        resizeColumn: function(column, columnWidth) {\n            var that = this;\n            var isLocked = !!column.locked;\n            var isHidden = !!column.hidden;\n            var options = this.options;\n            var scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0;\n            var index = isLocked ? inArray(column, visibleLockedColumns(visibleLeafColumns(that.columns))) : inArray(column, visibleNonLockedColumns(visibleLeafColumns(that.columns)));\n            var contentTable = isLocked ? that.lockedTable : that.table;\n            var footer = that.footer || $();\n            var columnMinWidth = column.minResizableWidth || 10;\n            var gridWidth = isLocked ? outerWidth(contentTable.find(\"tbody\")) : outerWidth(that.tbody); // IE returns 0 if grid is empty and scrolling is enabled\n            var col;\n\n            if (this._isStackedMode()) {\n                return;\n            }\n            var header = isLocked ? that.lockedHeader.find(\"table\") : that.thead.closest(\"table\");\n\n            if (isHidden) {\n                column.width = columnWidth > columnMinWidth ? columnWidth : columnMinWidth;\n                return;\n            }\n\n            if (that.footer && that.lockedContent) {\n                footer = isLocked ? that.footer.children(\".k-grid-footer-locked\") : that.footer.children(\".k-grid-footer-wrap\");\n            }\n\n            if (options.scrollable) {\n\n                col = header.find(\"col:not(.k-group-col,.k-hierarchy-col)\").eq(index)\n                    .add(contentTable.children(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index))\n                    .add(footer.find(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index));\n            } else {\n                col = contentTable.find(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index);\n            }\n\n            if (options.scrollable) {\n                var constrain = false;\n                var totalWidth = that.wrapper.width() - scrollbar;\n                var width = columnWidth = columnWidth > columnMinWidth ? columnWidth : columnMinWidth;\n\n                if (isLocked && gridWidth - columnWidth + width > totalWidth) {\n                    width = columnWidth + (totalWidth - gridWidth - scrollbar * 2);\n                    if (width < 0) {\n                        width = columnWidth;\n                    }\n                    constrain = true;\n                }\n\n                if (width > 10 && width >= columnMinWidth) {\n                    col.css('width', width);\n\n                    if (gridWidth) {\n                        if (constrain) {\n                            width = totalWidth - scrollbar * 2;\n                        } else {\n                            width = gridWidth + (columnWidth - column.width);\n                        }\n\n                        contentTable\n                            .add(header)\n                            .add(footer)\n                            .css('width', width);\n\n                        if (!isLocked) {\n                            that._footerWidth = width;\n                        }\n                    }\n                }\n\n                that._scrollVirtualWrapperOnColumnResize();\n            } else if (columnWidth > 10 && columnWidth >= columnMinWidth) {\n                col.css('width', columnWidth);\n            }\n\n            column.width = columnWidth;\n\n            that._applyLockedContainersWidth();\n            that._syncLockedContentHeight();\n            that._syncLockedHeaderHeight();\n            that._updateStickyColumns();\n        },\n\n        _adjustColWidths: function(contentTable, header, footer, gridWidth) {\n            const colWidths = {};\n\n            contentTable\n                .add(header)\n                .add(footer)\n                .css('width', gridWidth);\n\n            contentTable\n                .add(header)\n                .add(footer)\n                .find(\"col\")\n                .each((i, col) => {\n                    // Retrieve the actual widths of the elements.\n                    colWidths[i] = $(col).css(\"width\");\n                });\n\n            contentTable\n                .add(header)\n                .add(footer)\n                .find(\"col\")\n                .each((i, col) => {\n                    // Ensure that the style=\"width\" attribute on the col elements matches the real width of the columns.\n                    $(col).css(\"width\", colWidths[i]);\n                });\n        },\n\n        _resizable: function() {\n            var that = this,\n                options = that.options,\n                container,\n                columnStart,\n                columnWidth,\n                columnMinWidth,\n                gridWidth,\n                isMobile = that._isMobile || kendo.support.mobileOS,\n                scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0,\n                isLocked,\n                col, th;\n\n            if (!that._isStackedMode() && (options.resizable === true || (options.resizable && options.resizable.columns === true))) {\n                container = options.scrollable ? that.wrapper.find(\".k-grid-header-wrap\").first() : that.wrapper;\n\n                if (isMobile) {\n                    that._positionColumnResizeHandleTouch(container);\n                } else {\n                    that._positionColumnResizeHandle(container);\n                }\n\n                if (that.resizable) {\n                    that.resizable.destroy();\n                }\n\n                that.resizable = new ui.Resizable(container.add(that.lockedHeader), {\n                    handle: (!!options.scrollable ? \"\" : \">\") + \".k-resize-handle\",\n                    hint: function(handle) {\n                        return $('<div class=\"k-grid-resize-indicator\" />').css({\n                            height: outerHeight(handle.data(\"th\")) + that.tbody.attr(\"clientHeight\")\n                        });\n                    },\n                    start: function(e) {\n                        th = $(e.currentTarget).data(\"th\");\n\n                        if (isMobile) {\n                            that._hideResizeHandle();\n                        }\n\n                        let header = th.closest(\"table\"),\n                            index = $.inArray(th[0], leafDataCells(th.closest(\"thead\")).filter(\":visible\"));\n\n                        isLocked = header.parent().hasClass(\"k-grid-header-locked\");\n\n                        let contentTable = isLocked ? that.lockedTable : that.table,\n                            footer = that.footer || $();\n\n                        if (that.footer && that.lockedContent) {\n                            footer = isLocked ? that.footer.children(\".k-grid-footer-locked\") : that.footer.children(\".k-grid-footer-wrap\");\n                        }\n\n                        let footerTable = footer.find(\"table\");\n\n                        cursor(that.wrapper, 'col-resize');\n\n                        if (options.scrollable) {\n                            col = header.find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index)\n                                .add(contentTable.children(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index))\n                                .add(footer.find(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index));\n                        } else {\n                            col = contentTable.children(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index);\n                        }\n\n                        let columns = $.map(that.columns, function(a) {\n                            return !a.hidden && ((isLocked && a.locked) || ((!isLocked && !a.locked))) ? a : null;\n                        });\n\n                        columnStart = e.x.location;\n                        columnWidth = outerWidth(th);\n                        columnMinWidth = leafColumns(columns)[index].minResizableWidth || 10;\n                        gridWidth = isLocked ? outerWidth(contentTable.children(\"tbody\")) : outerWidth(that.tbody); // IE returns 0 if grid is empty and scrolling is enabled\n\n                        // fix broken UI in Chrome38+\n                        if (browser.webkit) {\n                            that.wrapper.addClass(\"k-grid-column-resizing\");\n                        }\n\n                        that._adjustColWidths(contentTable, header, footerTable, gridWidth);\n                    },\n                    resize: function(e) {\n                        var rtlMultiplier = isRtl ? -1 : 1,\n                            currentWidth = columnWidth + (e.x.location * rtlMultiplier) - (columnStart * rtlMultiplier);\n\n                        if (options.scrollable) {\n                            var footer;\n                            if (isLocked && that.lockedFooter) {\n                                footer = that.lockedFooter.children(\"table\");\n                            } else if (that.footer) {\n                                footer = that.footer.find(\">.k-grid-footer-wrap>table\");\n                            }\n                            if (!footer || !footer[0]) {\n                                footer = $();\n                            }\n                            var header = th.closest(\"table\");\n                            var contentTable = isLocked ? that.lockedTable : that.table;\n                            var constrain = false;\n                            var totalWidth = that.wrapper.width() - scrollbar;\n                            var width = currentWidth;\n\n                            if (isLocked && gridWidth - columnWidth + width > totalWidth) {\n                                width = columnWidth + (totalWidth - gridWidth - scrollbar * 2);\n                                if (width < 0) {\n                                    width = currentWidth;\n                                }\n                                constrain = true;\n                            }\n\n                            if (width > 10 && width >= columnMinWidth) {\n                                col.css('width', width);\n\n                                if (gridWidth) {\n                                    if (constrain) {\n                                        width = totalWidth - scrollbar * 2;\n                                    } else {\n                                        width = gridWidth + (e.x.location * rtlMultiplier) - (columnStart * rtlMultiplier);\n                                    }\n\n                                    contentTable\n                                        .add(header)\n                                        .add(footer)\n                                        .css('width', width);\n\n                                    if (!isLocked) {\n                                        that._footerWidth = width;\n                                    }\n                                }\n                            }\n\n                            that._scrollVirtualWrapperOnColumnResize();\n                        } else if (currentWidth > 10 && currentWidth >= columnMinWidth) {\n                            col.css('width', currentWidth);\n                        }\n                    },\n                    resizeend: function() {\n                        var newWidth = outerWidth(th),\n                            column,\n                            header;\n\n                        cursor(that.wrapper, \"\");\n\n                        if (browser.webkit) {\n                            that.wrapper.removeClass(\"k-grid-column-resizing\");\n                        }\n\n                        if (th && columnWidth != newWidth) {\n                            header = that.lockedHeader ? that.lockedHeader.find(\"thead\").first().find(TR).first().add(that.thead.find(TR).first()) : th.parent();\n\n                            var index = th.attr(kendo.attr(\"index\"));\n                            if (!index) {\n                                index = header.find(\"th:not(.k-group-cell):not(.k-hierarchy-cell)\").index(th);\n                            }\n                            column = leafColumns(that.columns)[index];\n\n                            column.width = newWidth;\n\n                            that.trigger(COLUMNRESIZE, {\n                                column: column,\n                                oldWidth: columnWidth,\n                                newWidth: newWidth\n                            });\n\n                            that._applyLockedContainersWidth(true);\n                            that._syncLockedContentHeight();\n                            that._syncLockedHeaderHeight();\n                            that._updateStickyColumns();\n                        }\n\n                        that._resetResizeHandleHeader();\n                        that._hideResizeHandle();\n                        th = null;\n                    }\n                });\n\n            }\n        },\n\n        // Row resizing functionality below\n        _addLockedRowResizing: function(tr) {\n            var index = tr.index();\n\n            return this.lockedTable.find(TR).eq(index)\n                .add(this.tbody.find(TR).eq(index));\n        },\n\n        _getMinRowHeight: function(row) {\n            var minHeight = 0;\n\n            row.each((i, el) => {\n                var currentMinHeight;\n\n                el.style.height = '';\n                currentMinHeight = outerHeight(el);\n\n                if (currentMinHeight > minHeight) {\n                    minHeight = currentMinHeight;\n                }\n            });\n\n            return minHeight;\n        },\n\n        _cacheRowHeight: function(rows, height) {\n            var that = this;\n\n            if (!that._cachedRowsHeight) {\n                that._cachedRowsHeight = {};\n            }\n\n            rows.each((i, el) => {\n                var uid = el.getAttribute(\"data-uid\");\n\n                that._cachedRowsHeight[uid] = height;\n            });\n        },\n\n        _clearCachedRowsHeight: function(rows) {\n            var that = this;\n\n            if (rows && that._cachedRowsHeight) {\n                rows.each((i, el) => {\n                    var uid = el.getAttribute(\"data-uid\");\n\n                    delete that._cachedRowsHeight[uid];\n                });\n            } else {\n                that._cachedRowsHeight = null;\n            }\n        },\n\n        _mapCachedRowsHeight: function(method, target) {\n            var input = this._cachedRowsHeight,\n                ds = this.dataSource,\n                output = {};\n\n            Object.keys(input).forEach((key) => {\n                var item = ds[method](key);\n\n                if (item) {\n                    output[item[target]] = input[key];\n                }\n            });\n\n            this._cachedRowsHeight = output;\n        },\n\n        _rowResizerDblClick: function() {\n            var that = this,\n                resizer = that.rowResizer,\n                row = resizer.data(TR),\n                oldHeight = outerHeight(row),\n                newHeight, rows;\n\n            if (row.hasClass(SELECTED)) {\n                rows = that.select();\n            } else {\n                rows = row;\n            }\n\n            if (that.lockedTable) {\n                row = that._addLockedRowResizing(row);\n\n                if (row.hasClass(SELECTED)) {\n                    rows = that.lockedTable.find(DOT + SELECTED);\n                } else {\n                    rows = that.lockedTable.find(TR).eq(row.index());\n                }\n\n                rows.each((i, el) => {\n                    var rowIndex = el.rowIndex,\n                        rowPair = $(el).add(that.tbody.find(TR).eq(rowIndex)),\n                        pairMinHeight = that._getMinRowHeight(rowPair);\n\n                    rowPair.css(HEIGHT, pairMinHeight);\n                });\n            } else {\n                rows.css(HEIGHT, AUTO);\n            }\n\n            that._clearCachedRowsHeight(rows);\n\n            resizer.removeClass(HOVER);\n            resizer.removeClass(ACTIVE);\n\n            newHeight = outerHeight(row);\n\n            if (oldHeight != newHeight) {\n                that.trigger(ROWRESIZE, {\n                    row,\n                    rows,\n                    oldHeight,\n                    newHeight\n                });\n            }\n        },\n\n        _setupRowResizer(resizer, row, top) {\n            resizer\n                .data(TR, row)\n                .css({\n                    top: top\n                });\n        },\n\n        _attachRowResizerEvents: function() {\n            var rowResizer = this.rowResizer,\n                delay = 200,\n                isIn = false;\n\n            rowResizer\n                .on(MOUSEDOWN + NS, (e) => {\n                    if (e.button === 0) {\n                        rowResizer.removeClass(HOVER);\n                        rowResizer.addClass(ACTIVE);\n                    }\n                })\n                .on(MOUSEUP + NS, (e) => {\n                    if (e.button === 0) {\n                        rowResizer.removeClass(ACTIVE);\n                        rowResizer.addClass(HOVER);\n                    }\n                })\n                .on(MOUSEENTER + NS, () => {\n                    isIn = true;\n\n                    setTimeout(() => {\n                        if (isIn) {\n                            rowResizer.addClass(HOVER);\n                        }\n                    }, delay);\n                })\n                .on(MOUSELEAVE + NS, () => {\n                    isIn = false;\n                    rowResizer.removeClass(HOVER);\n                });\n        },\n\n        _getResizerTop: function(tr, container) {\n            var resizer = this.rowResizer,\n                inner = resizer.find(DOT + ROW_RESIZER)[0],\n                paddingTop = parseInt(getComputedStyle(resizer[0]).paddingTop);\n\n            return tr.offset().top -\n                parseFloat(tr.css(\"marginTop\")) -\n                (container.offset().top + parseFloat(container.css(\"borderTopWidth\"))) -\n                inner.clientHeight -\n                paddingTop +\n                container.scrollTop();\n        },\n\n        _getResizerContainer: function() {\n            var container = this.tbody.closest(DIV);\n\n            if (this.lockedTable) {\n                container = container.closest(DOT + \"k-grid-container\");\n            }\n\n            return container;\n        },\n\n        _createRowResizer: function(e) {\n            var that = this,\n                tr = $(e.currentTarget),\n                targetHeight = e.currentTarget.clientHeight,\n                positionIntarget = e.offsetY,\n                rowResizer = that.rowResizer,\n                previousRow = tr.prev(TR + \":visible\"),\n                container = that._getResizerContainer(),\n                top;\n\n            if (!rowResizer) {\n                rowResizer = that.rowResizer = $('<div class=\"k-resizer-wrap\"><div class=\"k-row-resizer\"></div></div>');\n                container.append(rowResizer);\n                that._attachRowResizerEvents();\n\n                rowResizer.off(DUBLECLICK + NS).on(DUBLECLICK + NS, that._rowResizerDblClick.bind(that));\n            }\n\n            top = that._getResizerTop(tr, container);\n\n            if (previousRow.length !== 0 && targetHeight / 2 > positionIntarget) {\n                if (!previousRow.hasClass(GROUPING_ROW)) {\n                    that._setupRowResizer(rowResizer, previousRow, top);\n                }\n            } else {\n                if (!tr.hasClass(GROUPING_ROW)) {\n                    that._setupRowResizer(rowResizer, tr, top + targetHeight);\n                }\n            }\n        },\n\n        _detachRowResizerEvents: function() {\n            var rowResizer = this.rowResizer;\n\n            rowResizer\n                .off(MOUSEDOWN + NS)\n                .off(MOUSEUP + NS)\n                .off(MOUSEENTER + NS)\n                .off(MOUSELEAVE + NS);\n        },\n\n        _mapResizedRows: function(rows, multiSelectionLocked, newHeight) {\n            var that = this;\n\n            rows.each((i, el) => {\n                var minHeight;\n\n                if (multiSelectionLocked) {\n                    var rowIndex = el.rowIndex,\n                        pairNew = newHeight,\n                        pairMin = 0,\n                        rowPair = $(el).add(that.tbody.find(TR).eq(rowIndex));\n\n                    rowPair.each((i, r) => {\n                        var currentMinHeight;\n\n                        r.style.height = '';\n                        currentMinHeight = outerHeight(r);\n\n                        if (currentMinHeight > pairMin) {\n                            pairMin = currentMinHeight;\n                        }\n                    });\n\n                    if (pairNew < pairMin) {\n                        pairNew = pairMin;\n\n                        that._clearCachedRowsHeight(rowPair.eq(0));\n                    } else {\n                        that._cacheRowHeight(rowPair.eq(0), pairNew);\n                    }\n\n                    rowPair.css(HEIGHT, pairNew);\n                } else {\n                    el.style.height = '';\n                    minHeight = outerHeight(el);\n\n                    if (newHeight > minHeight) {\n                        el.style.height = newHeight + PX;\n\n                        that._cacheRowHeight($(el), newHeight);\n                    } else {\n                        that._clearCachedRowsHeight($(el));\n                    }\n                }\n            });\n        },\n\n        _rowResizing: function() {\n            var that = this,\n                options = that.options,\n                container, rowStart, rowHeight, tr;\n\n            if (options.resizable && options.resizable.rows === true) {\n                that.tbody\n                    .parent()\n                    .add(that.lockedTable)\n                    .on(MOUSEMOVE + NS, \".k-grid-footer tr, .k-table-tbody tr\", that._createRowResizer.bind(that));\n\n                if (that.rowResizing) {\n                    that.rowResizing.destroy();\n                }\n\n                container = that._getResizerContainer();\n\n                that.rowResizing = new ui.Resizable(container, {\n                    handle: DOT + ROW_RESIZER_WRAP,\n                    start: function(e) {\n                        tr = $(e.currentTarget).data(TR);\n\n                        if (that.lockedTable) {\n                            tr = that._addLockedRowResizing(tr);\n                        }\n\n                        tr.addClass(HOVER);\n\n                        that._detachRowResizerEvents();\n\n                        rowStart = e.y.location;\n                        rowHeight = outerHeight(tr);\n                    },\n                    resize: function(e) {\n                        var newHeight = rowHeight + e.y.location - rowStart,\n                            minHeight = 0;\n\n                        if (tr.length > 1) {\n                            minHeight = that._getMinRowHeight(tr);\n                        }\n\n                        if (newHeight < minHeight) {\n                            newHeight = minHeight;\n                        }\n\n                        tr.css('height', newHeight);\n\n                        that._setupRowResizer(that.rowResizer, tr, that._getResizerTop(tr, container) + newHeight);\n                    },\n                    resizeend: function() {\n                        var newHeight = outerHeight(tr),\n                            multiSelectionLocked = false,\n                            rows;\n\n                        if (tr.hasClass(SELECTED)) {\n                            rows = that.select();\n\n                            if (tr.length > 1 && rows.length > tr.length) {\n                                rows = that.lockedTable.find(DOT + SELECTED).not(tr);\n                                multiSelectionLocked = true;\n                            }\n                        } else {\n                            rows = tr;\n                        }\n\n                        that._mapResizedRows(rows, multiSelectionLocked, newHeight);\n\n                        tr.removeClass(HOVER);\n\n                        that.rowResizer.removeClass(ACTIVE);\n                        that.rowResizer.addClass(HOVER);\n                        that._attachRowResizerEvents();\n\n                        if (multiSelectionLocked) {\n                            rows = that.select();\n                        }\n\n                        if (rowHeight != newHeight) {\n                            that.trigger(ROWRESIZE, {\n                                row: tr,\n                                rows,\n                                oldHeight: rowHeight,\n                                newHeight\n                            });\n                        }\n\n                        tr = null;\n                    }\n                });\n            }\n        },\n\n        _draggable: function() {\n            var that = this,\n                reorderable = that.options.reorderable;\n\n            if (reorderable === true || (reorderable && reorderable.columns)) {\n\n                if (that._draggableInstance) {\n                    that._draggableInstance.destroy();\n                }\n\n                var header = that.wrapper.children(\".k-grid-header\");\n                header.addClass(\"k-grid-draggable-header\");\n\n                that._draggableInstance = that.wrapper.kendoDraggable({\n                    group: kendo.guid(),\n                    autoScroll: true,\n                    filter: that.content ? \".k-grid-header:first \" + HEADERCELLS : \"table:first>.k-grid-header \" + HEADERCELLS,\n                    dragstart: function() {\n                        header.children(\".k-grid-header-wrap\").off(\"scroll\" + NS + \"scrolling\").on(\"scroll\" + NS + \"scrolling\", function(e) {\n                            if (that.virtualScrollable) {\n                                kendo.scrollLeft(that.content.find(\">.k-virtual-scrollable-wrap\"), this.scrollLeft);\n                            } else {\n                                kendo.scrollLeft(that.scrollables.not(e.currentTarget), this.scrollLeft);\n                            }\n                        });\n                    },\n                    dragend: function() {\n                        that._resetResizeHandleHeader();\n                        header.children(\".k-grid-header-wrap\").off(\"scroll\" + NS + \"scrolling\");\n                    },\n                    drag: function() {\n                        that._hideResizeHandle();\n                    },\n                    hint: function(target) {\n                        var title = target.attr(kendo.attr(\"title\"));\n                        if (title) {\n                            title = kendo.htmlEncode(title);\n                        }\n                        return $('<div class=\"k-reorder-clue k-drag-clue\" />')\n                            .html(title || target.attr(kendo.attr(\"field\")) || target.text())\n                            .prepend(kendo.ui.icon({ icon: \"cancel\", iconClass: \"k-drag-status\" }));\n                    }\n                }).data(\"kendoDraggable\");\n            }\n        },\n\n        _reorderable: function() {\n            let that = this,\n                reorderable = that.options.reorderable;\n\n            if (reorderable === true || (reorderable && reorderable.columns)) {\n                if (that.wrapper.data(\"kendoReorderable\")) {\n                    that.wrapper.data(\"kendoReorderable\").destroy();\n                }\n\n                that.wrapper.kendoReorderable({\n                    draggable: that._draggableInstance,\n                    dropFilter: HEADERCELLS,\n                    allowDropAfterLastItem: true,\n                    dragOverContainers: function(sourceIndex, targetIndex) {\n                        let columns = flatColumnsInDomOrder(that.columns);\n                        return columns[sourceIndex].lockable !== false && targetParentContainerIndex(columns, that.columns, sourceIndex, targetIndex) > -1;\n                    },\n                    inSameContainer: function(e) {\n                        let sourceParent = $(e.source).parent()[0],\n                            targetParent = $(e.target).parent()[0],\n                            sourceIndex = e.sourceIndex,\n                            targetIndex = e.targetIndex,\n                            flatColumns = flatColumnsInDomOrder(that.columns),\n                            lockable = flatColumns && flatColumns[sourceIndex] && !!flatColumns[sourceIndex].lockable;\n\n                        /* If there are locked columns, check if the grid header is the same instead.\n                        Otherwise the locked/unlocked headers are treated as separate(in the case of column reordering they shouldn't be). */\n                        if (that._isLocked() && lockable) {\n                            sourceParent = $(e.source.closest(\".k-grid-header\"))[0];\n                            targetParent = $(e.target.closest(\".k-grid-header\"))[0];\n                        }\n\n                        return sourceParent === targetParent && targetParentContainerIndex(flatColumns, that.columns, sourceIndex, targetIndex) > -1;\n                    },\n                    change: function(e) {\n                        let columns = flatColumnsInDomOrder(that.columns);\n                        let column = columns[e.oldIndex];\n                        let newIndex = targetParentContainerIndex(columns, that.columns, e.oldIndex, e.newIndex);\n\n                        that.trigger(COLUMNREORDER, {\n                            newIndex: newIndex,\n                            oldIndex: inArray(column, columns),\n                            column: column\n                        });\n\n                        that.reorderColumn(newIndex, column, e.position === \"before\");\n                    }\n                });\n            }\n        },\n\n        _reorderHeader: function(sources, target, before, container) {\n            var that = this;\n            var sourcePosition = columnPosition(sources[0], that.columns);\n            var destPosition = columnPosition(target, that.columns);\n            var action;\n            var ths;\n\n            var leafs = [];\n            for (var idx = 0; idx < sources.length; idx++) {\n                if (sources[idx].columns) {\n                    leafs = leafs.concat(sources[idx].columns);\n                }\n            }\n            if (container) {\n                ths = elements(container, container, \"tr:eq(\" + sourcePosition.row + \")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)\");\n            } else {\n                ths = elements(that.lockedHeader, that.thead, \"tr:eq(\" + sourcePosition.row + \")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)\");\n            }\n\n            var sourceLockedColumns = lockedColumns(sources).length;\n            var targetLockedColumns = lockedColumns([target]).length;\n\n            if (leafs.length) {\n                if (sourceLockedColumns > 0 && targetLockedColumns === 0) {\n                    action = \"prepend\";\n                    moveCellsBetweenContainers(sources, target, leafs, that.columns, that.lockedHeader.find(\"thead\"), that.thead, this._groups(), action);\n                } else if (sourceLockedColumns === 0 && targetLockedColumns > 0) {\n                    action = destPosition.cell === 0 && sources[0].columns && !target.columns && !that._group ? \"prepend\" : \"append\";\n                    moveCellsBetweenContainers(sources, target, leafs, nonLockedColumns(that.columns), that.thead, that.lockedHeader.find(\"thead\"), this._groups(), action);\n                }\n\n                if (target.columns || sourcePosition.cell - destPosition.cell > 1 || destPosition.cell - sourcePosition.cell > 1) {\n                    target = findReorderTarget(that.columns, target, sources[0], before, that.columns);\n                    if (target) {\n                        if (sourceLockedColumns > 0 && targetLockedColumns === 0) {\n                            that._reorderHeader(leafs, target, before, that.thead);\n                        } else if (sourceLockedColumns === 0 && targetLockedColumns > 0) {\n                            that._reorderHeader(leafs, target, before, that.lockedHead);\n                        } else {\n                            that._reorderHeader(leafs, target, before);\n                        }\n                    }\n                }\n            } else if (sourceLockedColumns !== targetLockedColumns) { // move between containers\n                updateCellRowSpan(ths[sourcePosition.cell], that.columns, sourceLockedColumns);\n            }\n\n            reorder(ths, sourcePosition.cell, destPosition.cell, before, sources.length);\n        },\n\n        _reorderContent: function(sources, destination, before) {\n            var that = this;\n            var lockedRows = $();\n            var source = sources[0];\n            var visibleSources = visibleColumns(sources);\n            var sourceIndex = inArray(source, leafColumns(that.columns));\n            var destIndex = inArray(destination, leafColumns(that.columns));\n\n            var colSourceIndex = inArray(visibleSources[0], visibleLeafColumns(that.columns));\n            var colDest = inArray(destination, visibleLeafColumns(that.columns));\n            var lockedCount = lockedColumns(that.columns).length;\n            var isLocked = !!destination.locked;\n            var footer = that.footer || that.wrapper.find(\".k-grid-footer\");\n\n            var headerCol, footerCol, beforeVisibleColumn;\n            headerCol = footerCol = colDest;\n\n            if (destination.hidden) {\n                var columnsArray = isLocked ? lockedColumns(that.columns) : nonLockedColumns(that.columns);\n\n                if (visibleColumns(columnsArray).length > 0) {\n                    headerCol = footerCol = colDest = this._findClosestVisibleColumnIndex(columnsArray, destIndex);\n                    beforeVisibleColumn = visibleColumns(columnsArray.slice(destIndex)).length > 0;\n                }\n                else {\n                    if (isLocked) {\n                        colDest = that.lockedTable.find(\"colgroup\");\n                        headerCol = that.lockedHeader.find(\"colgroup\");\n                        footerCol = $(that.lockedFooter).find(\">table>colgroup\");\n                    } else {\n                        colDest = that.tbody.prev();\n                        headerCol = that.thead.prev();\n                        footerCol = footer.find(\".k-grid-footer-wrap\").find(\">table>colgroup\");\n                    }\n                }\n            }\n\n            if (that._hasFilterRow()) {\n                reorder(that.wrapper.find(\".k-filter-row td:not(.k-group-cell,.k-hierarchy-cell)\"), sourceIndex, destIndex, before, sources.length);\n            }\n\n            if (colSourceIndex >= 0) {\n                reorder(elements(that.lockedHeader, that.thead.prev(), COLGROUP), colSourceIndex, headerCol, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n            }\n\n            if (that.options.scrollable) {\n                if (colSourceIndex >= 0 && !that._hasVirtualColumns()) {\n                    reorder(elements(that.lockedTable, that.tbody.prev(), COLGROUP), colSourceIndex, colDest, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n                }\n            }\n\n            if (footer && footer.length) {\n                if (colSourceIndex >= 0) {\n                    reorder(elements(that.lockedFooter, footer.find(\".k-grid-footer-wrap\"), \">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)\"), colSourceIndex, footerCol, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n                }\n                reorder(footer.find(\".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)\"), sourceIndex, destIndex, before, sources.length);\n            }\n\n            var rows = that.tbody.children(\":not(.k-grouping-row,.k-detail-row)\");\n            if (that.lockedTable) {\n                if (lockedCount > destIndex) {\n                    if (lockedCount <= sourceIndex) {\n                        updateColspan(\n                            that.lockedTable.find(\">tbody>tr.k-grouping-row:not([hidden])\"),\n                            that.table.find(\">tbody>tr.k-grouping-row:not([hidden])\"),\n                            sources.length\n                        );\n                    }\n                } else if (lockedCount > sourceIndex) {\n                    updateColspan(\n                        that.table.find(\">tbody>tr.k-grouping-row:not([hidden])\"),\n                        that.lockedTable.find(\">tbody>tr.k-grouping-row:not([hidden])\"),\n                        sources.length\n                    );\n                }\n\n                lockedRows = that.lockedTable.find(\">tbody>tr:not(.k-grouping-row,.k-detail-row)\");\n            }\n\n            for (var idx = 0, length = rows.length; idx < length; idx += 1) {\n                reorder(elements(lockedRows[idx], rows[idx], \">td:not(.k-group-cell,.k-hierarchy-cell)\"), sourceIndex, destIndex, before, sources.length);\n            }\n        },\n\n        _findClosestVisibleColumnIndex: function(columns, columnIndex) {\n            var columnsArray = visibleColumns(columns.slice(columnIndex)).length > 0 ? columns.slice(columnIndex) : columns.slice(0, columnIndex + 1).reverse(),\n                closestVisibleColumn = visibleColumns(columnsArray)[0];\n\n            return inArray(closestVisibleColumn, visibleColumns(this.columns));\n        },\n\n        _autoFitLeafColumn: function(leafIndex) {\n            this.autoFitColumn(leafColumns(this.columns)[leafIndex]);\n        },\n\n        _hasReorderableRows: function() {\n            return this.options.reorderable && this.options.reorderable.rows;\n        },\n\n        _draggableRows: function() {\n            var that = this,\n                selectable = that._checkBoxSelection ||\n                    (that.options.selectable && !kendo.ui.Selectable.parseOptions(that.options.selectable).cell),\n                clickMoveClick = false,\n                isMobile = !!(that._isMobile || kendo.support.mobileOS);\n\n            if (that._draggableRowsInstance) {\n                that._draggableRowsInstance.destroy();\n            }\n\n            if (this.options.reorderable.rows.clickMoveClick !== false && this._hasDragHandleColumn) {\n                clickMoveClick = true;\n            }\n\n            that._draggableRowsInstance = that.tbody.kendoDraggable({\n                holdToDrag: isMobile,\n                showHintOnHold: isMobile,\n                preventOsHoldFeatures: isMobile,\n                group: \"row-draggable\",\n                autoScroll: true,\n                filter: (selectable ? \" > .k-selected\" : \" > \" + ITEMROW) + (that._hasDragHandleColumn ? \" > [ref-grid-drag-cell]\" : \":not(:has([data-container-for]))\"),\n                hint: function(target) {\n                    var hint = $('<div class=\"k-reorder-clue k-drag-clue\">' + kendo.ui.icon({ icon: \"cancel\", iconClass: \"k-drag-status\" }) + '</div>');\n\n                    if (selectable && that.select().length > 1 && that.lockedContent) {\n                        hint.append(\"<span>\" + that.select().length / 2 + \" \" + encode(that.options.messages.itemsSelected) + \"</span>\");\n                    } else if (selectable && that.select().length > 1 && !that.lockedContent) {\n                        hint.append(\"<span>\" + that.select().length + \" \" + encode(that.options.messages.itemsSelected) + \"</span>\");\n                    } else {\n                        var clone = target.closest(ITEMROW).clone();\n                        clone.find(\"td.k-command-cell\").remove();\n                        clone.find(\"td\").each(function(index, elm) {\n                            hint.append(\"<span>\" + elm.innerText.replace(/<(\\/?)script([^>]*)>/ig, \"\") + \"&nbsp;</span>\");\n                        });\n                    }\n\n                    return hint;\n                },\n                clickMoveClick: clickMoveClick,\n                cursorOffset: { top: 0, left: 0 }\n            }).data(\"kendoDraggable\");\n        },\n\n        _reorderableRows: function() {\n            var that = this,\n                selectable = that._checkBoxSelection ||\n                    (that.options.selectable && !kendo.ui.Selectable.parseOptions(that.options.selectable).cell);\n\n            if (that.tbody.data(\"kendoReorderable\")) {\n                that.tbody.data(\"kendoReorderable\").destroy();\n            }\n\n            that.tbody.kendoReorderable({\n                smartPosition: false,\n                draggable: that._draggableRowsInstance,\n                dragOverContainers: function(sourceIndex, targetIndex) {\n                    var result = true,\n                        target = $(ITEMROW, that.content).eq(targetIndex);\n\n                    if (selectable) {\n                        result = !target.is(\".k-selected\");\n                    }\n\n                    return result;\n                },\n                inSameContainer: function(e) {\n                    if (selectable) {\n                        return !$(e.target).is(\".k-selected\");\n                    }\n\n                    return true;\n                },\n                dropFilter: \"> \" + ITEMROW,\n                allowIcon: \"insert-middle\",\n                orientation: \"vertical\",\n                reorderDropCue: $('<div class=\"k-drop-hint k-drop-hint-h\"><div class=\"k-drop-hint-start\"></div><div class=\"k-drop-hint-line\"></div></div>'),\n                positionDropCue: function(reorderDropCue, dropTarget) {\n                    var firstCellLeft = kendo.getOffset(dropTarget.children(DATA_CELL).eq(0)).left;\n                    reorderDropCue.css({\n                        transform: \"translate(0,-50%)\",\n                        left: firstCellLeft\n                    });\n                },\n                externalDraggable: function(e) {\n                    var draggable = e.draggable;\n\n                    if (draggable) {\n                        return draggable;\n                    }\n                },\n                change: function(e) {\n                    that._triggerRowRorder(e);\n                }\n            });\n        },\n\n        _triggerRowRorder: function(e) {\n            var that = this,\n                args = {\n                    newIndex: e.position === \"after\" ? e.newIndex + 1 : e.newIndex,\n                    oldIndex: e.oldIndex\n                },\n                row = e.element,\n                selectable = that._checkBoxSelection ||\n                    (that.options.selectable && !kendo.ui.Selectable.parseOptions(that.options.selectable).cell);\n\n            if (selectable && that.select().length > 1) {\n                args = extend(args, {\n                    rows: that.select()\n                });\n            } else {\n                args = extend(args, {\n                    row: row\n                });\n            }\n\n            if (!that.trigger(ROWREORDER, args)) {\n                that.reorderRows(selectable ? that.select() : row, args.newIndex);\n            }\n        },\n\n        reorderRowTo: function(row, index) {\n            var that = this,\n                item = that.dataItem(row),\n                oldIndex = row.index();\n\n            if (index < 0 || index === oldIndex) {\n                return;\n            }\n\n            if (!that.trigger(ROWREORDER, {\n                row: row,\n                oldIndex: row.index(),\n                newIndex: index\n            })) {\n                that.dataSource.pushMove(index, [item]);\n            }\n        },\n\n        reorderRows: function(rows, index) {\n            var that = this,\n                dataSource = that.dataSource,\n                rowsLength = that.tbody.children(ITEMROW).length,\n                targetItem = that.dataItem(that.tbody.children(ITEMROW).eq(index)),\n                items = rows.toArray().map(function(row) {\n                    let dataItem = that.dataItem(row);\n                    dataItem._isMoved = true;\n                    return dataItem;\n                });\n\n            if (!targetItem) {\n                // If index is after last row dataItem wouldn't exist\n                targetItem = that.dataItem(that.tbody.children(ITEMROW).eq(rowsLength - 1));\n                index = dataSource.indexOf(targetItem) + 1;\n            } else {\n                index = dataSource.indexOf(targetItem);\n            }\n\n            if (index >= 0) {\n                that._rowDropping = true;\n                dataSource.pushMove(index, items);\n                that._rowDropping = false;\n            }\n        },\n\n        autoFitColumns: function(columns) {\n            var that = this;\n\n            columns = columns || that.columns;\n\n            for (var i = 0; i < columns.length; i++) {\n                var column = columns[i];\n\n                if (column.columns) {\n                    that.autoFitColumns(column.columns);\n                } else {\n                    that.autoFitColumn(column);\n                }\n            }\n        },\n\n        autoFitColumn: function(column) {\n            var that = this,\n                options = that.options,\n                columns = that.columns,\n                index,\n                th,\n                headerTable,\n                leafCols,\n                isLocked,\n                visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find(\">table>thead\")).filter(isCellVisible).length : 0,\n                col,\n                minWidth,\n                contentDiv, scrollLeft,\n                notGroupOrHierarchyCol = \"col:not(.k-group-col):not(.k-hierarchy-col)\",\n                notGroupOrHierarchyVisibleCell = \"td:visible:not(.k-group-cell):not(.k-hierarchy-cell)\",\n                menu,\n                thWidth;\n\n            //  retrieve the column object, depending on the method argument\n            if (typeof column == \"number\") {\n                column = columns[column];\n            } else if (isPlainObject(column)) {\n                column = grep(flatColumns(columns), function(item) {\n                    return item === column;\n                })[0];\n            } else {\n                column = grep(flatColumns(columns), function(item) {\n                    return item.field === column;\n                })[0];\n            }\n\n            if (!column || !isVisible(column)) {\n                return;\n            }\n\n            leafCols = leafColumns(columns);\n            minWidth = column.minResizableWidth;\n            index = inArray(column, leafCols);\n            isLocked = column.locked;\n\n            if (isLocked) {\n                headerTable = that.lockedHeader.children(\"table\");\n            } else {\n                headerTable = that.thead.parent();\n            }\n\n            th = headerTable.find(\"[data-index='\" + index + \"']\");\n            menu = th.find('a.k-grid-column-menu, a.k-grid-filter-menu');\n\n            var contentTable = isLocked ? that.lockedTable : that.table,\n                footer = that.footer || $();\n\n            if (that.footer && that.lockedContent) {\n                footer = isLocked ? that.footer.children(\".k-grid-footer-locked\") : that.footer.children(\".k-grid-footer-wrap\");\n            }\n\n            var footerTable = footer.find(\"table\").first();\n\n            if (that.lockedHeader && !isLocked) {\n                index -= visibleLocked;\n            }\n\n            // adjust column index, depending on previous hidden columns\n            for (var j = 0; j < leafCols.length; j++) {\n                if (leafCols[j] === column) {\n                    break;\n                } else {\n                    if (leafCols[j].hidden) {\n                        index--;\n                    }\n                }\n            }\n\n            // get col elements\n            if (options.scrollable) {\n                col = headerTable.find(notGroupOrHierarchyCol).eq(index)\n                    .add(contentTable.children(\"colgroup\").find(notGroupOrHierarchyCol).eq(index))\n                    .add(footerTable.find(\"colgroup\").find(notGroupOrHierarchyCol).eq(index));\n\n                if (!isLocked) {\n                    contentDiv = contentTable.parent();\n                    scrollLeft = kendo.scrollLeft(contentDiv);\n                }\n\n                if (that._hasVirtualColumns()) {\n                    index = inArray(column, that.virtualCols);\n                }\n            } else {\n                col = contentTable.children(\"colgroup\").find(notGroupOrHierarchyCol).eq(index);\n            }\n\n            var tables = headerTable.add(contentTable).add(footerTable);\n\n            if (browser.safari) {\n                th.css(\"white-space\", \"initial\");\n            }\n\n            var oldColumnWidth = outerWidth(th);\n\n            // reset the table and autofitted column widths\n            // if scrolling is disabled, we need some additional repainting of the table\n            col.width(\"\");\n            tables.css(\"table-layout\", \"fixed\");\n            col.width(AUTO);\n            tables.addClass(\"k-autofitting\");\n            tables.css(\"table-layout\", \"\");\n\n            thWidth = outerWidth(th);\n\n            // +1 is required by IE, regardless of the border widths, otherwise unexpected wrapping may occur with hyphenated text\n            var newColumnWidth = Math.ceil(Math.max(\n                thWidth,\n                outerWidth(contentTable.find(\"tr:not(.k-grouping-row)\").eq(0).children(notGroupOrHierarchyVisibleCell).eq(index)),\n                outerWidth(footerTable.find(TR).eq(0).children(notGroupOrHierarchyVisibleCell).eq(index))\n            )) + 1;\n\n            if (minWidth && minWidth > newColumnWidth) {\n                newColumnWidth = minWidth;\n            }\n\n            col.width(newColumnWidth);\n            column.width = newColumnWidth;\n\n            if (browser.safari) {\n                th.css(\"white-space\", \"\");\n            }\n\n            // if all visible columns have widths, the table needs a pixel width as well\n            if (options.scrollable) {\n                var cols = headerTable.find(\"col\"),\n                    colWidth,\n                    totalWidth = 0;\n                for (var idx = 0, length = cols.length; idx < length; idx += 1) {\n                    colWidth = cols[idx].style.width;\n                    if (colWidth && colWidth.indexOf(\"%\") == -1) {\n                        totalWidth += parseInt(colWidth, 10);\n                    } else if (cols.eq(idx).hasClass(\"k-group-col\")) {\n                        totalWidth += parseInt(cols.eq(idx).width(), 10);\n                    } else {\n                        totalWidth = 0;\n                        break;\n                    }\n                }\n\n                if (totalWidth) {\n                    tables.each(function() {\n                        this.style.width = totalWidth + PX;\n                    });\n                }\n            }\n\n            tables.removeClass(\"k-autofitting\");\n\n            if (scrollLeft) {\n                kendo.scrollLeft(contentDiv, scrollLeft);\n            }\n\n            that.trigger(COLUMNRESIZE, {\n                column: column,\n                oldWidth: oldColumnWidth,\n                newWidth: newColumnWidth\n            });\n\n            that._applyLockedContainersWidth();\n            that._syncLockedContentHeight();\n            that._syncLockedHeaderHeight();\n            that._updateStickyColumns();\n        },\n\n        reorderColumn: function(destIndex, column, before) {\n            var that = this,\n                parent = columnParent(column, that.columns),\n                columns = parent ? parent.columns : that.columns,\n                sourceIndex = inArray(column, columns),\n                destColumn = columns[destIndex],\n                virtualScroll = that.virtualScroll || {},\n                lockChanged,\n                isLocked = !!destColumn.locked,\n                lockedCount = lockedColumns(that.columns).length,\n                groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function(column) { return column.groupHeaderColumnTemplate; });\n\n            if (that._isStackedMode()) {\n                return;\n            }\n\n            if (sourceIndex === destIndex) {\n                return;\n            }\n\n            if (!column.locked && isLocked && nonLockedColumns(that.columns).length == 1) {\n                return;\n            }\n\n            if (column.locked && !isLocked && lockedCount == 1) {\n                return;\n            }\n\n            that._hideResizeHandle();\n\n            if (before === undefined) {\n                before = destIndex < sourceIndex;\n            }\n\n            var sourceColumns = [column];\n\n            that._reorderHeader(sourceColumns, destColumn, before);\n\n            if (that.lockedHeader) {\n                removeEmptyRows(that.thead);\n                removeEmptyRows(that.lockedHeader);\n            }\n\n            if (destColumn.columns) {\n                destColumn = leafColumns(destColumn.columns);\n                destColumn = destColumn[before ? 0 : destColumn.length - 1];\n            }\n\n            if (column.columns) {\n                sourceColumns = leafColumns(column.columns);\n            }\n\n            that._reorderContent(sourceColumns, destColumn, before);\n\n            lockChanged = !!column.locked;\n            lockChanged = lockChanged != isLocked;\n            column.locked = isLocked;\n\n            columns.splice(before ? destIndex : destIndex + 1, 0, column);\n            columns.splice(sourceIndex < destIndex ? sourceIndex : sourceIndex + 1, 1);\n\n            that._updateLockedCols();\n            that._updateCols();\n            that._templates();\n\n            that._updateColumnCellIndex();\n            that._updateColumnSorters();\n\n            if (groupHeaderColumnTemplateColumns.length > 0) {\n                that._renderGroupRows();\n            }\n            that._updateTablesWidth();\n            that._applyLockedContainersWidth();\n            that._syncLockedHeaderHeight();\n            that._syncLockedContentHeight();\n            that._updateFirstColumnClass();\n            that._updateStickyColumns();\n\n            if (virtualScroll.columns) {\n                that.refresh();\n            }\n\n            if (!lockChanged) {\n                return;\n            }\n\n            if (isLocked) {\n                that.trigger(COLUMNLOCK, {\n                    column: column\n                });\n            } else {\n                that.trigger(COLUMNUNLOCK, {\n                    column: column\n                });\n            }\n        },\n\n        _updateColumnCellIndex: function() {\n            var header;\n            var offset = 0;\n\n            if (this.lockedHeader) {\n                header = this.lockedHeader.find(\"thead\");\n                offset = updateCellIndex(header, lockedColumns(this.columns));\n            }\n            updateCellIndex(this.thead, nonLockedColumns(this.columns), offset);\n        },\n\n        lockColumn: function(column) {\n            var columns = this.columns;\n\n            if (typeof column == \"number\") {\n                column = columns[column];\n            } else {\n                column = grep(columns, function(item) {\n                    return item.field === column;\n                })[0];\n            }\n\n            if (!column || column.locked || column.hidden) {\n                return;\n            }\n\n            if (column.sticky) {\n                this.unstickColumn(columns.indexOf(column));\n            }\n\n            var index = lockedColumns(columns).length - 1;\n            this.reorderColumn(index, column, false);\n        },\n\n        unlockColumn: function(column) {\n            var columns = this.columns;\n\n            if (typeof column == \"number\") {\n                column = columns[column];\n            } else {\n                column = grep(columns, function(item) {\n                    return item.field === column;\n                })[0];\n            }\n\n            if (!column || !column.locked || column.hidden) {\n                return;\n            }\n\n            var index = lockedColumns(columns).length;\n            this.reorderColumn(index, column, true);\n        },\n\n        stickColumn: function(column) {\n            var columns = this.columns;\n\n            if (typeof column == \"number\") {\n                column = columns[column];\n            } else {\n                column = grep(columns, function(item) {\n                    return item.field === column;\n                })[0];\n            }\n\n            if (!column || column.sticky || column.hidden) {\n                return;\n            }\n\n            if (column.locked) {\n                this.unlockColumn(columns.indexOf(column));\n\n                if (column.locked) {\n                    return;\n                }\n            }\n\n            column.sticky = true;\n            this._updateStickyColumns();\n        },\n\n        unstickColumn: function(column) {\n            var columns = this.columns;\n\n            if (typeof column == \"number\") {\n                column = columns[column];\n            } else {\n                column = grep(columns, function(item) {\n                    return item.field === column;\n                })[0];\n            }\n\n            if (!column || !column.sticky || column.locked || column.hidden) {\n                return;\n            }\n\n            this._removeStickyAttributes([column]);\n            this._removeStickyStyles(stickyColumns(columns));\n\n            column.sticky = false;\n            this._updateStickyColumns();\n\n            if (this._anyStickyColumns() === 0) {\n                this._templates();\n                if (this._hasFilterRow()) {\n                    this._updateStickyFilterCells();\n                }\n            }\n        },\n\n        cellIndex: function(td) {\n            const that = this;\n            var lockedColumnOffset = 0;\n\n            const selector = that._isStackedMode() ? \"div.k-grid-stack-cell\" : \"td\";\n\n            if (this.lockedTable && !$.contains(this.lockedTable[0], td[0])) {\n                lockedColumnOffset = leafColumns(lockedColumns(this.columns)).length;\n            }\n\n            return $(td).parent().children(selector + ':not(.k-group-cell,.k-hierarchy-cell)').index(td) + lockedColumnOffset;\n        },\n\n        _modelForContainer: function(container) {\n            container = $(container);\n\n            if (!container.is(TR) && this._editMode() !== \"popup\") {\n                container = container.closest(TR);\n            }\n\n            var id = container.attr(kendo.attr(\"uid\")) || container.find(\"[ref='popup-edit-form']\").attr(kendo.attr(\"uid\"));\n\n            return this.dataSource.getByUid(id);\n        },\n\n        _calculateColumnIndex: function(cell) {\n            if (this._hasVirtualColumns()) {\n                let virtualOffset = parseInt($(cell).closest(TR).find(\"td\").first().attr(\"colspan\"), 10);\n                virtualOffset = (virtualOffset > 1 ? virtualOffset - 1 : 0);\n\n                const dataField = cell.data(\"field\");\n                const headerForCell = this.thead?.find(\"th[data-field='\" + dataField + \"']\");\n                const cellIndexInColumns = headerForCell.data(\"index\") ?? this.cellIndex(cell) + virtualOffset;\n                return cellIndexInColumns;\n            }\n\n            return this.cellIndex(cell);\n        },\n\n        _editable: function() {\n            let that = this,\n                editable = that.options.editable,\n                handler = function() {\n                    let target = activeElement(),\n                        cell = that._editContainer;\n\n                    if (cell && cell[0] && !$.contains(cell[0], target) && cell[0] !== target && !$(target).closest(\".k-animation-container\").length) {\n                        if (that.editable.end()) {\n                            that.closeCell();\n                            that._toggleToolbarEditingItemsVisibility();\n                        } else {\n                            that._scrollVirtualWrapper();\n                        }\n                    }\n                },\n                mobileOS = kendo.support.mobileOS,\n                useDoubleTapEditing = !!(that._isMobile || mobileOS),\n                /*\n                    https://github.com/telerik/kendo-ui-core/issues/7817\n                */\n                userEventsPreventDefault = mobileOS && mobileOS.ios && (mobileOS.browser === \"chrome\" || mobileOS.browser === \"edge\");\n\n            that._isEditableEnabled = that._isEditableEnabled !== undefined ? that._isEditableEnabled : !editable.readonly;\n            const stacked = that._isStackedMode();\n            if (!that._isEditableEnabled) {\n                that._removeEditableClickHandlers();\n            }\n\n            if (editable && that._isEditableEnabled) {\n\n                let mode = that._editMode();\n                if (mode === \"incell\") {\n                    that.table.add(that.lockedTable)\n                        .on(MOUSEDOWN + NS, NAVROW + \">\" + NAVCELL, function(e) {\n                            let target = $(e.target);\n                            if (that._editMode() === \"incell\" && target.hasClass(\"k-checkbox\") && target.prev().attr(kendo.attr(\"bind\"))) {\n                                e.preventDefault();\n                            }\n                        });\n\n                    if (editable.update !== false) {\n                        if (isMac) {\n                            that.wrapper\n                                .on(CLICK + NS, \".k-edit-cell > input[type='checkbox']\", function(e) {\n                                    // checking /unchecking a checkbox does not change the document.activeElement to be the checkbox\n                                    // this is necessary for the \"focusout\" event to be fired\n                                    $(e.target).trigger(\"focus\");\n                                })\n                                .on(CLICK + NS, \".k-edit-cell\", function(e) {\n                                    if (!$(e.target).is(\"input\")) {\n                                        $(e.currentTarget).find(\"input[type='checkbox']\").trigger(\"focus\");\n                                    }\n                                })\n                                .on(MOUSEDOWN + NS, \"tr:not(.k-grouping-row) > td\", function(e) {\n                                    var editContainer = that._editContainer;\n\n                                    if (editContainer && editContainer[0] && ($.contains(editContainer[0], e.target) || editContainer[0] === e.target)) {\n                                        that._mousedownOnEditCell = true;\n                                    } else {\n                                        that._mousedownOnEditCell = false;\n                                    }\n                                });\n                        }\n\n                        that.editableUserEvents = new kendo.UserEvents(that.wrapper, {\n                            filter: stacked ? \".k-grid-stack-row:not(.k-grouping-row) div.k-grid-stack-cell\" : \"tr:not(.k-grouping-row) > td\",\n                            allowSelection: true,\n                            preventDefault: userEventsPreventDefault,\n                            supportDoubleTap: useDoubleTapEditing,\n                            fastTap: useDoubleTapEditing,\n                            [useDoubleTapEditing ? 'doubleTap' : 'tap']: function(e) {\n                                var td = $(e.target),\n                                isLockedCell = that.lockedTable && td.closest(\"table\")[0] === that.lockedTable[0];\n                                that._mousedownOnEditCell = false;\n\n                                if (td.hasClass(\"k-hierarchy-cell\") ||\n                                    td.hasClass(\"k-detail-cell\") ||\n                                    td.hasClass(\"k-group-cell\") ||\n                                    td.hasClass(\"k-edit-cell\") ||\n                                    td.hasClass(\"k-drag-cell\") ||\n                                    td.hasClass(\"k-grid-stack-edit-cell\") ||\n                                    td.has(\".k-grid-remove-command\").length ||\n                                    (td.closest(\"tbody\")[0] !== that.tbody[0] && !isLockedCell) ||\n                                    $(e.target).is(\":input\")) {\n                                    return;\n                                }\n\n                                let index;\n\n                                if (stacked) {\n                                    index = td.parent().children().index(td);\n                                }\n\n                                if (that.editable) {\n                                    if (that.editable.end()) {\n                                        $(activeElement()).trigger(\"blur\");\n                                        that.closeCell();\n\n                                        if (!that._requestInProgress) {\n                                            that.editCell(td, index);\n                                        }\n                                    } else {\n                                        that._scrollVirtualWrapper();\n                                    }\n                                } else {\n                                    that.editCell(td, index);\n                                }\n                            }\n                        });\n\n                        that.wrapper.on(\"focusin\" + NS, function() {\n                            // fix focus issue in IE\n                            if (!$.contains(this, activeElement())) {\n                                clearTimeout(that.timer);\n                                that.timer = null;\n                            }\n                        })\n                            .on(\"focusout\" + NS, function(e) {\n                                var shouldCloseCell = true;\n\n                                if ((isMac && that._mousedownOnEditCell) || that._virtualColScroll) {\n                                    shouldCloseCell = false;\n                                }\n\n                                that._mousedownOnEditCell = false;\n\n                                if (shouldCloseCell) {\n                                    that.timer = setTimeout(function() {\n                                        handler();\n                                    }, 1);\n                                }\n                            });\n                    }\n                } else {\n                    if (editable.update !== false) {\n                        that._editCommandClickHandler = that._editCommandClick.bind(that);\n                        that.wrapper.on(CLICK + NS, \"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-edit-command\", that._editCommandClickHandler);\n\n                        if (that._isVirtualInlineEditable()) {\n                            that.wrapper.on(\"focusout\" + NS, \"tr:not(.k-grouping-row) > td\", function() {\n                                if (that.editable && !that.editable.end()) {\n                                    that._scrollVirtualWrapper();\n                                }\n                            });\n                        }\n                    }\n                }\n\n                that._removeCommandClickHandler = that._removeCommandClick.bind(that);\n                that.wrapper.on(CLICK + NS, \"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-remove-command\", that._removeCommandClickHandler);\n            }\n        },\n\n        _getLastSelectedItemModel: function() {\n            const that = this;\n            const isSelectable = that.options.selectable;\n\n            if (!isSelectable) {\n                return;\n            }\n\n            const selectedData = that.getSelectedData();\n\n            if (!selectedData || !selectedData.length) {\n                return;\n            }\n\n            const selected = selectedData[selectedData.length - 1];\n            const model = that.dataSource.getByUid(selected.uid);\n\n            return model;\n        },\n\n        _removeToolbarClick: function(e) {\n            if (e.event) {\n                e.event.preventDefault();\n                e.event.stopPropagation();\n            } else {\n                e.preventDefault();\n            }\n\n            const that = this;\n            const model = this._getLastSelectedItemModel();\n\n            if (!model) {\n                return;\n            }\n\n            const row = that.tbody.children(\"[\" + kendo.attr(\"uid\") + \"=\" + model.uid + \"]\");\n\n            that.removeRow(row);\n        },\n\n\n        _editToolbarClick: function(e) {\n            if (e.event) {\n                e.event.preventDefault();\n                e.event.stopPropagation();\n            } else {\n                e.preventDefault();\n            }\n            const that = this;\n            const isIncellEditing = that._editMode() === \"incell\";\n\n            if (isIncellEditing) {\n                return;\n            }\n\n            const model = this._getLastSelectedItemModel();\n\n            if (!model) {\n                return;\n            }\n\n            that.editRow(model);\n        },\n\n        _editCommandClick: function(e) {\n            let that = this,\n                element = $(e.currentTarget);\n            if (!that._belongsToGrid(element)) {\n                return;\n            }\n            e.preventDefault();\n            that.editRow(element.closest(TR));\n        },\n\n        _removeCommandClick: function(e) {\n            let that = this,\n                editable = that.options.editable,\n                element = $(e.currentTarget);\n            if (!that._belongsToGrid(element)) {\n                return;\n            }\n\n            if (editable.destroy !== false) {\n                e.preventDefault();\n                e.stopPropagation();\n                that.removeRow(element.closest(TR));\n            } else {\n                //Required for the MVC server wrapper delete button.\n                e.stopPropagation();\n\n                if (!that._confirmation()) {\n                    e.preventDefault();\n                }\n            }\n            that._toggleToolbarEditingItemsVisibility();\n        },\n\n        editCell: function(cell, index) {\n            cell = $(cell);\n\n            let that = this,\n            colIndex = (index === 0 || index) ? index : that._calculateColumnIndex(cell),\n            column = leafColumns(that.columns)[colIndex],\n            model = that._modelForContainer(cell);\n            const stacked = that._isStackedMode();\n            const editClass = stacked ? \"k-grid-stack-edit-cell\" : \"k-edit-cell\";\n\n            that.closeCell();\n            const cellToEdit = stacked ? cell.find(\".k-grid-stack-content\") : cell;\n\n            if (model && isColumnEditable(column, model) && !column.command) {\n                if (that.trigger(BEFOREEDIT, { model: model })) {\n                    return;\n                }\n\n                that._attachModelChange(model);\n\n                that._editContainer = cellToEdit;\n\n                if (that._shouldClearEditableState) {\n                    that._clearEditableState();\n                }\n\n                cell.addClass(editClass);\n                const skipFocus = (that._isVirtualIncellEditable() || that._hasVirtualColumns()) && that._editableState;\n\n                that.editable = cellToEdit\n                    .kendoEditable({\n                        fields: editField(column, that._isAdaptive() ? \"auto\" : \"none\"),\n                        model: model,\n                        size: that.options.size,\n                        target: that,\n                        change: function(e) {\n                            if (that.trigger(SAVE, { values: e.values, container: cell, model: model })) {\n                                e.preventDefault();\n                            }\n                        },\n                        skipFocus: skipFocus\n\n                    }).data(\"kendoEditable\");\n\n                let tr = cell.closest(TR);\n\n                if (!stacked) {\n                    tr.addClass(\"k-grid-edit-row\");\n                }\n\n                if (model.new === true && !stacked) {\n                    tr.addClass(\"k-grid-add-row\");\n                    delete model.new;\n                }\n\n                if (that.lockedContent) {\n                    adjustRowHeight(tr[0], that._relatedRow(tr).addClass(\"k-grid-edit-row\")[0]);\n                    if (tr.hasClass(\"k-grid-add-row\")) {\n                        that._relatedRow(tr).addClass(\"k-grid-add-row\");\n                    }\n                    that._syncLockedScroll();\n                }\n\n                that.trigger(EDIT, { container: cell, model: model });\n                that._toggleToolbarEditingItemsVisibility();\n            }\n        },\n\n        enableEditing: function() {\n            let that = this,\n                toolbar = that.wrapper.find(\".k-grid-toolbar\");\n\n            if (!that._isEditableEnabled) {\n                that._isEditableEnabled = true;\n                that._editable();\n                let addButton = toolbar.find(\".k-grid-add\").getKendoButton();\n                let editButton = toolbar.find(\".k-grid-edit-command\").getKendoButton();\n                let removeButton = toolbar.find(\".k-grid-remove-command\").getKendoButton();\n                let cancelChangesButton = toolbar.find(\".k-grid-cancel-changes\").getKendoButton();\n                let saveChangesButton = toolbar.find(\".k-grid-save-changes\").getKendoButton();\n                let cancelButton = toolbar.find(\".k-grid-cancel-command\").getKendoButton();\n                let saveButton = toolbar.find(\".k-grid-save-command\").getKendoButton();\n\n                if (addButton) {\n                    addButton.bind(\"click\", that._createClickHandler);\n                }\n                if (editButton) {\n                    editButton.bind(\"click\", that._editClickHandler);\n                }\n                if (removeButton) {\n                    removeButton.bind(\"click\", that._destroyClickHandler);\n                }\n                if (cancelChangesButton) {\n                    cancelChangesButton.bind(\"click\", that._cancelClickHandler);\n                }\n                if (saveChangesButton) {\n                    saveChangesButton.bind(\"click\", that._saveClickHandler);\n                }\n                if (cancelButton) {\n                    cancelButton.bind(\"click\", that._editCancelClickHandler);\n                }\n                if (saveButton) {\n                    saveButton.bind(\"click\", that._updateClickHandler);\n                }\n            }\n\n            that._toggleToolbarEditingItemsVisibility();\n        },\n\n        disableEditing: function() {\n            let that = this;\n\n            if (that._isEditableEnabled) {\n                if (that._editMode() === \"incell\") {\n                    that.closeCell();\n                } else {\n                    that.cancelRow();\n                }\n\n                that._clearEditableState();\n                that._destroyEditable();\n\n                if (that.editableUserEvents) {\n                    that.editableUserEvents.destroy();\n                    that.editableUserEvents = null;\n                }\n\n                that._removeEditableClickHandlers();\n\n                that._isEditableEnabled = false;\n                that._toggleToolbarEditingItemsVisibility();\n            }\n        },\n\n        _removeEditableClickHandlers: function() {\n            let that = this,\n                toolbar = that.wrapper.find(\".k-grid-toolbar\");\n\n            that.wrapper.off(CLICK + NS, \"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-edit-command\", that._editCommandClickHandler);\n            that.wrapper.off(CLICK + NS, \"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-remove-command\", that._removeCommandClickHandler);\n            toolbar.off(CLICK + NS, \".k-grid-add\", that._createClickHandler);\n            toolbar.off(CLICK + NS, \".k-grid-edit-command\", that._editClickHandler);\n            toolbar.off(CLICK + NS, \".k-grid-remove-command\", that._destroyClickHandler);\n\n            let addButton = toolbar.find(\".k-grid-add\").getKendoButton();\n            let editButton = toolbar.find(\".k-grid-edit-command\").getKendoButton();\n            let removeButton = toolbar.find(\".k-grid-remove-command\").getKendoButton();\n            let cancelChangesButton = toolbar.find(\".k-grid-cancel-changes\").getKendoButton();\n            let saveChangesButton = toolbar.find(\".k-grid-save-changes\").getKendoButton();\n            let cancelButton = toolbar.find(\".k-grid-cancel-command\").getKendoButton();\n            let saveButton = toolbar.find(\".k-grid-save-command\").getKendoButton();\n\n            if (addButton) {\n                addButton.unbind(\"click\");\n            }\n            if (editButton) {\n                editButton.unbind(\"click\");\n            }\n            if (removeButton) {\n                removeButton.unbind(\"click\");\n            }\n            if (cancelChangesButton) {\n                cancelChangesButton.unbind(\"click\");\n            }\n            if (saveChangesButton) {\n                saveChangesButton.unbind(\"click\");\n            }\n            if (cancelButton) {\n                cancelButton.unbind(\"click\");\n            }\n            if (saveButton) {\n                saveButton.unbind(\"click\");\n            }\n\n            that._editCommandClickHandler = null;\n            that._removeCommandClickHandler = null;\n        },\n\n        _adjustLockedHorizontalScrollBar: function() {\n            var table = this.table,\n                content = table.parent();\n\n            var scrollbar = table[0].offsetWidth > content[0].clientWidth ? kendo.support.scrollbar() : 0;\n            this.lockedContent.height(content[0].offsetHeight - scrollbar);\n        },\n\n        _syncLockedScroll: function() {\n            this.lockedContent[0].scrollTop = this.content[0].scrollTop;\n            if (this.virtualScrollable) {\n                this.lockedContent[0].scrollTop = this.wrapper.find(\".k-virtual-scrollable-wrap\")[0].scrollTop;\n            }\n        },\n\n        _syncLockedContentHeight: function() {\n            if (this.lockedTable) {\n                if (!this.touchScroller) {\n                    this._adjustLockedHorizontalScrollBar();\n                }\n                this._adjustRowsHeight(this.table, this.lockedTable);\n            }\n        },\n\n        _syncLockedHeaderHeight: function() {\n            if (this.lockedHeader) {\n                var lockedTable = this.lockedHeader.children(\"table\");\n                var table = this.thead.parent();\n\n                this._adjustRowsHeight(lockedTable, table);\n\n                syncTableHeight(lockedTable, table);\n            }\n        },\n\n        _syncLockedFooterHeight: function() {\n            if (this.lockedFooter && this.footer && this.footer.length) {\n                this._adjustRowsHeight(this.lockedFooter.children(\"table\"), this.footer.find(\".k-grid-footer-wrap > table\"));\n            }\n        },\n\n        _destroyEditable: function() {\n            let that = this;\n            const component = that._editContainer && that._editContainer.length && that._editContainer.closest(\".k-window\").length ? \"kendoWindow\" : \"kendoActionSheet\";\n\n            let destroy = function() {\n                if (that.editable) {\n\n                    let container = that.editView ? that.editView.element : that._editContainer;\n                    let window = that._editContainer.data(component);\n\n                    if (container) {\n                        if (window) {\n                            container = window.wrapper;\n                        }\n                        container.off(CLICK + NS, \".k-grid-cancel-command, button[ref-cancel-button], [ref-actionsheet-action-button]:not(.k-button-primary)\", that._editCancelClickHandler);\n                        container.off(CLICK + NS, \".k-grid-save-command, button[ref-update-button], [ref-actionsheet-action-button].k-button-primary\", that._editUpdateClickHandler);\n                    }\n\n                    that._detachModelChange();\n                    that.editable.destroy();\n                    that.editable = null;\n                    if (window) {\n                        window.destroy();\n                    }\n                    that._editContainer = null;\n                    that._destroyEditView();\n                    that._editableIsClosing = null;\n                }\n            };\n\n            if (that.editable) {\n                if (that._editMode() === \"popup\" && !that._isMobile) {\n                    if (that._editableIsClosing) {\n                        that._editContainer.data(component).bind(\"deactivate\", destroy);\n                    }\n                    else {\n                        that._editableIsClosing = true;\n                        that._editContainer.data(component).bind(\"deactivate\", destroy).close();\n                    }\n                } else {\n                    destroy();\n                }\n            }\n            if (that._confirmDialog) {\n                that._confirmDialog.close();\n                that._confirmDialog.destroy();\n                that._confirmDialog = null;\n            }\n        },\n\n        _destroyEditView: function() {\n            if (this.editView) {\n                this.editView.purge();\n                this.editView = null;\n                this.pane.navigate(\"\");\n            }\n        },\n\n        _attachModelChange: function(model) {\n            var that = this;\n\n            that._modelChangeHandler = function(e) {\n                that._modelChange({ field: e.field, model: this });\n            };\n\n            model.bind(\"change\", that._modelChangeHandler);\n        },\n\n        _detachModelChange: function() {\n            var that = this,\n                container = that._editContainer,\n                model = that._modelForContainer(container);\n\n            if (model) {\n                model.unbind(CHANGE, that._modelChangeHandler);\n            }\n        },\n\n        closeCell: function(isCancel) {\n            let that = this,\n                cell = that._editContainer,\n                column,\n                tr,\n                model,\n                errors;\n\n            if (!cell) {\n                return;\n            }\n\n            model = that._modelForContainer(cell);\n\n            if (isCancel && that.trigger(\"cancel\", { container: cell, model: model })) {\n                return;\n            }\n\n            const stacked = that._isStackedMode();\n            const editClass = stacked ? \"k-grid-stack-edit-cell\" : \"k-edit-cell\";\n            const editCell = cell.closest(DOT + editClass);\n\n            that.trigger(CELLCLOSE, { type: isCancel ? \"cancel\" : \"save\", model: model, container: cell });\n            const index = stacked ? editCell.parent().children().index(editCell) : that._calculateColumnIndex(cell);\n\n            if (stacked) {\n                editCell.removeClass(editClass);\n            } else {\n                cell.removeClass(editClass);\n            }\n\n            column = leafColumns(that.columns)[index];\n            errors = that.editable && that.editable.validatable && that.editable.validatable.errors();\n\n            if (isCancel && model.dirtyFields && model.dirtyFields[column.field] && errors.length) {\n                delete model.dirtyFields[column.field];\n            }\n\n            tr = cell.closest(TR).removeClass(\"k-grid-edit-row\");\n\n            if (tr.hasClass(\"k-grid-add-row\")) {\n                tr.removeClass(\"k-grid-add-row\");\n            }\n\n            if (that.lockedContent) {\n                const relatedTr = that._relatedRow(tr);\n                relatedTr.removeClass(\"k-grid-edit-row\");\n\n                if (relatedTr.hasClass(\"k-grid-add-row\")) {\n                    relatedTr.removeClass(\"k-grid-add-row\");\n                }\n            }\n\n            that._destroyEditable(); // editable should be destroyed before content of the container is changed\n\n            that._displayCell(cell, column, model);\n\n            if (that._shouldClearEditableState) {\n                that._clearEditableState();\n            }\n\n            that.trigger(\"itemChange\", { item: tr, data: model, ns: ui });\n\n            if (that._activeStackedCell) {\n                that._setCurrentStackedCell(cell);\n            }\n\n            if (that.lockedContent) {\n                const rowUID = tr && tr.data(\"uid\");\n                const heightValue = (that._cachedRowsHeight && that._cachedRowsHeight[rowUID]) ?? \"\";\n                adjustRowHeight(tr.css(HEIGHT, heightValue)[0], that._relatedRow(tr).css(HEIGHT, heightValue)[0]);\n            }\n        },\n\n        _displayCell: function(cell, column, dataItem) {\n            var that = this,\n                state = { storage: {}, count: 0 },\n                settings = extend({}, kendo.Template, that.options.templateSettings),\n                tmpl = kendo.template(that._cellTmpl(column, state), settings);\n\n            if (state.count > 0) {\n                tmpl = tmpl.bind(state.storage);\n            }\n\n            cell.empty().html(tmpl(dataItem));\n        },\n\n        removeRow: function(row) {\n            if (!this._confirmation(row)) {\n                return;\n            }\n\n            this._removeRow(row);\n        },\n\n        _removeRow: function(row) {\n            var that = this,\n                model,\n                modelId,\n                key,\n                schema,\n                mode = that._editMode();\n\n            if (mode !== \"incell\") {\n                that.cancelRow();\n            }\n\n            row = $(row);\n\n            if (that.lockedContent) {\n                row = row.add(that._relatedRow(row));\n            }\n\n            row = row.hide();\n            if (that.dataSource._isGroupPaged()) {\n                that._removeGroupIfEmpty(row);\n            }\n\n            model = that._modelForContainer(row);\n\n            if (model != undefined && model.hasOwnProperty(\"_isMoved\")) {\n                delete model._isMoved;\n            }\n\n            if (model && !that.trigger(REMOVE, { row: row, model: model })) {\n                schema = that.dataSource.options.schema;\n                if (that._selectedIds && schema && schema.model) {\n                    modelId = that._getSchemaIdField();\n                    key = model[modelId];\n                    delete that._selectedIds[key];\n                }\n\n                that.dataSource.remove(model);\n\n                if (mode === \"inline\" || mode === \"popup\") {\n                    that.dataSource.sync();\n                }\n            } else if (mode === \"incell\") {\n                that._destroyEditable();\n            }\n        },\n\n        _editMode: function() {\n            let mode = \"incell\",\n                editable = this.options.editable;\n\n            if (editable !== true) {\n                if (typeof editable == \"string\") {\n                    mode = editable;\n                } else {\n                    mode = editable.mode || mode;\n                }\n            }\n\n            return mode;\n        },\n\n        editRow: function(row) {\n            let model,\n                that = this;\n\n            if (row instanceof ObservableObject) {\n                model = row;\n            } else {\n                row = $(row);\n                model = that._modelForContainer(row);\n            }\n\n            let mode = that._editMode();\n            let container;\n\n            that.cancelRow();\n\n            if (model) {\n                row = that.tbody.children(\"[\" + kendo.attr(\"uid\") + \"=\" + model.uid + \"]\");\n                that._attachModelChange(model);\n\n                if (mode === \"popup\") {\n                    that._createPopupEditor(model);\n                } else if (mode === \"inline\") {\n                    that._createInlineEditor(row, model);\n                } else if (mode === \"incell\") {\n                    const stacked = that._isStackedMode();\n                    const cells = stacked ? row.find(\".k-grid-stack-cell:not(.k-command-cell):not(.k-drag-cell)\") : row.children(DATA_CELL);\n                    cells.each(function() {\n                        let cell = $(this);\n                        const index = stacked ? cell.parent().children().index(cell) : that._calculateColumnIndex(cell);\n                        let column = leafColumns(that.columns)[index];\n\n                        model = that._modelForContainer(cell);\n\n                        if (model && (!model.editable || model.editable(column.field)) && column.field && !column.selectable && !column.draggable) {\n                            that.editCell(cell, index);\n                            return false;\n                        }\n                    });\n                }\n\n                if (that.editView) {\n                    container = that.editView.element;\n                } else if (mode === \"popup\") {\n                    container = that._editContainer?.parent();\n                } else {\n                    container = that._editContainer;\n                }\n\n                if (container) {\n                    if (!this._editCancelClickHandler) {\n                        this._editCancelClickHandler = this._editCancelClick.bind(this);\n                    }\n\n                    container.on(CLICK + NS, \".k-grid-cancel-command, button[ref-cancel-button], [ref-actionsheet-action-button]:not(.k-button-primary)\", this._editCancelClickHandler);\n\n                    if (!this._editUpdateClickHandler) {\n                        this._editUpdateClickHandler = this._editUpdateClick.bind(this);\n                    }\n\n                    container.on(CLICK + NS, \".k-grid-save-command, button[ref-update-button], [ref-actionsheet-action-button].k-button-primary\", this._editUpdateClickHandler);\n                }\n\n                that._toggleToolbarEditingItemsVisibility();\n            }\n        },\n\n        _editUpdateClick: function(e) {\n            e.preventDefault();\n            if (e.stopPropagation) {\n                e.stopPropagation();\n            } else if (e.event && e.event.stopPropagation) {\n                e.event.stopPropagation();\n            }\n\n            this.saveRow();\n            this._preventOnCloseEditableChanges = this._editMode() === \"popup\";\n            this.one(DATABOUND, () => {\n                this._toggleToolbarEditingItemsVisibility();\n            });\n        },\n\n        _editCancelClick: function(e) {\n            var that = this;\n            var navigatable = that.options.navigatable;\n            var model = that.editable.options.model;\n            var container = that.editView ? that.editView.element : that._editContainer;\n\n            e.preventDefault();\n\n            if (e.stopPropagation) {\n                e.stopPropagation();\n            } else if (e.event && e.event.stopPropagation) {\n                e.event.stopPropagation();\n            }\n\n            if (that.trigger(\"cancel\", { container: container, model: model })) {\n                return;\n            }\n\n            var currentIndex = that.items().index($(that.current()).parent());\n\n            that.cancelRow();\n\n            if (navigatable) {\n                that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                focusTable(that.table, true);\n            }\n\n            this._toggleToolbarEditingItemsVisibility();\n        },\n\n        _editFields: function(columns, model) {\n            var fields = [];\n            var column;\n\n            for (var idx = 0; idx < columns.length; idx++) {\n                column = columns[idx];\n                if (column.selectable || column.command) {\n                    continue;\n                }\n                if (isColumnEditable(column, model)) {\n                    fields.push(editField(column, this._isAdaptive() ? \"auto\" : \"none\"));\n                }\n            }\n            return fields;\n        },\n\n        _createPopupEditor: function(model) {\n            var that = this;\n            var html = '<div ' + kendo.attr(\"uid\") + '=\"' + model.uid + '\" ref=\"popup-edit-form\"><' + (that._isMobile ? 'ul class=\"k-edit-form-container k-listgroup k-listgroup-flush\">' : 'div class=\"k-edit-form-container\">');\n            var column;\n            var command;\n            var idx;\n            var length;\n            var tmpl;\n            var updateText;\n            var cancelText;\n            var updateIconClass;\n            var cancelIconClass;\n            var tempCommand;\n            var columns = leafColumns(that.columns);\n            var attr;\n            var editMenuGuid = kendo.guid();\n            var editable = that.options.editable;\n            var template = editable.template;\n            var options = isPlainObject(editable) ? editable.window : {};\n            var settings = extend({}, kendo.Template, that.options.templateSettings);\n            var state;\n            var container;\n            var buttonsHTML;\n\n            const isAdaptive = that._isAdaptive();\n\n            if (that.trigger(BEFOREEDIT, { model: model })) {\n                return;\n            }\n\n            options = options || {};\n\n            if (template) {\n                if (typeof template === STRING) {\n                    template = kendo.unescape(template);\n                }\n\n                html += (kendo.template(template, settings))(model);\n\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    if (column.command) {\n                        tempCommand = getCommand(column.command, \"edit\");\n                        if (tempCommand) {\n                            command = tempCommand;\n                        }\n                    }\n                }\n            } else {\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    if (column.selectable) {\n                        continue;\n                    }\n                    if (!column.command) {\n                        if (that._isMobile) {\n                            html += '<li class=\"k-item k-listgroup-item\">';\n\n                            if (isColumnEditable(column, model)) {\n                                html += '<label class=\"k-label k-listgroup-form-row\">';\n                                html += '<span class=\"k-item-title k-listgroup-form-field-label\">' + (column.title && (that.options.encodeTitles ? htmlEncode(column.title, true) : column.title) || column.field || \"\") + '</span>';\n                                html += '<div class=\"k-listgroup-form-field-wrapper\" id=\"' + column.field + '_' + editMenuGuid + '\" ' + kendo.attr(\"container-for\") + '=\"' + column.field + '\"></div>';\n                                html += '</label>';\n                            } else {\n                                state = { storage: {}, count: 0 };\n\n                                tmpl = kendo.template(that._cellTmpl(column, state), settings);\n\n                                if (state.count > 0) {\n                                    tmpl = tmpl.bind(state.storage);\n                                }\n\n                                html += '<label class=\"k-label k-listgroup-form-row k-no-click\">';\n                                html += '<span class=\"k-item-title k-listgroup-form-field-label\">' + (column.title && (that.options.encodeTitles ? htmlEncode(column.title, true) : column.title) || column.field || \"\") + '</span>';\n                                html += '<span class=\"k-no-editor k-listgroup-form-field-wrapper\">' + tmpl(model) + '</span>';\n                                html += '</label>';\n                            }\n\n                            html += \"</li>\";\n                        }\n                    } else if (column.command) {\n                        tempCommand = getCommand(column.command, \"edit\");\n                        if (tempCommand) {\n                            command = tempCommand;\n                        }\n                    }\n                }\n            }\n\n            if (command) {\n                if (isPlainObject(command)) {\n                    if (isPlainObject(command.text)) {\n                        updateText = command.text.update;\n                        cancelText = command.text.cancel;\n                    }\n                    if (isPlainObject(command.iconClass)) {\n                        updateIconClass = command.iconClass.update;\n                        cancelIconClass = command.iconClass.cancel;\n                    }\n\n                    if (command.attr) {\n                        attr = command.attr;\n                    }\n                }\n            }\n\n            if (!that._isMobile) {\n\n                let updateButton = $(that._createButton({ name: \"update\", text: updateText, attr: attr, iconClass: updateIconClass, skipCommandClass: true, skipTabIndex: true })).attr(\"ref-update-button\", \"\");\n                let cancelButton = $(that._createButton({ name: \"canceledit\", text: cancelText, attr: attr, iconClass: cancelIconClass, skipCommandClass: true, skipTabIndex: true })).attr(\"ref-cancel-button\", \"\");\n\n                html += '</div>';\n\n                if (isAdaptive) {\n                    container = that._editContainer = $(html)\n                        .appendTo(\"body\").eq(0).kendoActionSheet({\n                            modal: true,\n                            adaptive: true,\n                            title: model.id ? \"Edit record\" : \"Add new record\",\n                            fullscreen: that.smallMQL.mediaQueryList.matches,\n                            closeButton: true,\n                            actionButtons: [\n                                {\n                                    text: \"Cancel\",\n                                    icon: \"cancel\",\n                                },\n                                {\n                                    text: \"Save\",\n                                    icon: \"save\",\n                                    themeColor: \"primary\",\n                                }\n                            ],\n                            open: function(e) {\n                                e.sender.element.removeClass(\"k-popup\");\n                                that.editable.element.focus();\n                            },\n                            close: function(e) {\n                                e.sender.element.trigger(\"focus\");\n                                if (!that._preventOnCloseEditableChanges) {\n                                    if (that.trigger(\"cancel\", { container: container, model: model })) {\n                                        e.preventDefault();\n                                        return;\n                                    }\n                                }\n\n                                var currentIndex = that.items().index($(that.current()).parent());\n                                if (!that._preventOnCloseEditableChanges) {\n                                    that._editableIsClosing = true;\n                                    that.cancelRow(false, true);\n                                }\n                                if (that.options.navigatable) {\n                                    if (that._isStackedMode()) {\n                                        that._setCurrentStackedCell();\n                                    } else {\n                                        that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                                        focusTable(that.table, true);\n                                    }\n                                }\n                                that._toggleToolbarEditingItemsVisibility();\n                            }\n                        });\n                } else {\n                    container = that._editContainer = $(html)\n                        .appendTo(that.wrapper).eq(0)\n                        .kendoWindow(extend({\n                            modal: true,\n                            resizable: false,\n                            draggable: true,\n                            title: that.options.messages.commands.edit || \"Edit\",\n                            _footerTemplate: () =>\n                                `<div class=\"k-actions k-actions-start k-actions-horizontal k-window-actions\">` +\n                                updateButton[0].outerHTML +\n                                cancelButton[0].outerHTML +\n                                `</div>`,\n                            visible: false,\n                            close: function(e) {\n                                if (e.userTriggered) {\n                                    //The bellow line is required due to: draggable window in IE, change event will be triggered while the window is closing\n                                    e.sender.element.trigger(\"focus\");\n                                    if (that.trigger(\"cancel\", { container: container, model: model })) {\n                                        e.preventDefault();\n                                        return;\n                                    }\n\n                                    var currentIndex = that.items().index($(that.current()).parent());\n\n                                    that._editableIsClosing = true;\n                                    that.cancelRow();\n                                    that._toggleToolbarEditingItemsVisibility();\n                                      if (that._isStackedMode()) {\n                                        that._setCurrentStackedCell();\n                                    } else {\n                                        that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                                        focusTable(that.table, true);\n                                    }\n                                }\n                            }\n                        }, options));\n                }\n            } else {\n                html += \"</ul></div>\";\n                let cancelText = encode(that.options.messages.commands.cancel);\n                let updateText = encode(that.options.messages.commands.update);\n                that.editView = that.pane.append(\n                    '<div data-' + kendo.ns + 'role=\"view\" class=\"k-grid-edit-form\">' +\n                    '<div data-' + kendo.ns + ' class=\"k-appbar k-appbar-primary\">' +\n                    kendo.html.renderButton(`<button class=\"k-header-cancel k-grid-cancel-command\" title=\"${cancelText}\" aria-label=\"${cancelText}\"></button>`, {\n                        fillMode: \"flat\",\n                        icon: \"chevron-left\"\n                    }) +\n                    '<span class=\"k-spacer\"></span>' +\n                    `<span>${encode(that.options.messages.commands.edit || \"Edit\")}</span>` +\n                    '<span class=\"k-spacer\"></span>' +\n                    kendo.html.renderButton(`<button class=\"k-header-done k-grid-save-command\" title=\"${updateText}\" aria-label=\"${updateText}\"></button>`, {\n                        fillMode: \"flat\",\n                        icon: \"check\"\n                    }) +\n                    '</div>' +\n                    '<div data-' + kendo.ns + 'role=\"content\" class=\"' + classNames.content + '\">' +\n                    html +\n                    '</div>' +\n                    '</div>');\n                container = that._editContainer = that.editView.element.find(\"[ref='popup-edit-form']\");\n            }\n\n            if (!template && !that._isMobile) {\n                that.editable = new ui.Form(that._editContainer.find(\".k-edit-form-container\"), {\n                    items: that._editFields(columns, model),\n                    buttonsTemplate: () => '',\n                    formData: model,\n                    size: that._isAdaptive() ? \"large\" : \"medium\"\n                }).editable;\n                that._editContainer.append(buttonsHTML);\n\n                if (isAdaptive) {\n                    that.editable.element.removeClass(\"k-edit-form-container\");\n                }\n            } else {\n                that.editable = that._editContainer\n                    .kendoEditable({\n                        fields: (that._isMobile && !template) ? that._editFields(columns, model) : null,\n                        model: model,\n                        clearContainer: false,\n                        target: that,\n                        skipFocus: true\n                    }).data(\"kendoEditable\");\n\n                if (isAdaptive) {\n                    that.editable.element.find(\".k-edit-form-container\").removeClass(\"k-edit-form-container\");\n                }\n            }\n\n            that._openPopUpEditor(isAdaptive);\n\n            that.trigger(EDIT, { container: container, model: model });\n        },\n\n        _openPopUpEditor: function(isAdaptive) {\n            var that = this;\n            const component = isAdaptive ? \"kendoActionSheet\" : \"kendoWindow\";\n            var editor = that._editContainer ? that._editContainer.data(component) : null;\n            var windowOptions = (that.options.editable || {}).window || {};\n\n            if (!this._isMobile) {\n                if (editor) {\n                    if (!isAdaptive && !windowOptions.position) {\n                        editor.center();\n                    } else if (isAdaptive) {\n                        editor.fullscreen(that.smallMQL.mediaQueryList.matches);\n                    }\n\n                    editor.open();\n                }\n            } else {\n                this.pane.navigate(this.editView, this._editAnimation);\n            }\n        },\n\n        _createInlineEditor: function(row, model) {\n            var that = this;\n            var column;\n            var cell;\n            var command;\n            var fields = [];\n\n            const stacked = that._isStackedMode();\n\n            if (that.trigger(BEFOREEDIT, { model: model })) {\n                return;\n            }\n\n            if (that.lockedContent) {\n                row = row.add(that._relatedRow(row));\n            }\n\n            let cells = stacked ? row.children(\":not(.k-group-cell,.k-hierarchy-cell)\").find(\".k-grid-stack-cell:not(.k-drag-cell)\") : row.children(\":not(.k-group-cell,.k-hierarchy-cell,.k-drag-cell)\");\n            const columns = stacked ? leafColumns(visibleColumns(that.columns)) : leafColumns(that.columns);\n            if (that.options.navigatable && stacked) {\n                removeElementsFromTab(cells);\n            }\n            cells.each(function() {\n                cell = $(this);\n                column = columns[that._calculateColumnIndex(cell)];\n\n                if (!column) {\n                    return;\n                }\n\n                if (!column.command && isColumnEditable(column, model)) {\n                    fields.push(editField(column, that._isAdaptive() ? \"auto\" : \"none\"));\n                    let target = stacked ? cell.children(\".k-grid-stack-content\") : cell;\n                    target.attr(kendo.attr(\"container-for\"), column.field);\n                    target.empty();\n                } else if (column.command) {\n                    command = getCommand(column.command, \"edit\");\n                    if (command) {\n                        cell.empty();\n\n                        var updateText,\n                            cancelText,\n                            updateIconClass,\n                            cancelIconClass,\n                            attr;\n\n                        if (isPlainObject(command)) {\n                            if (isPlainObject(command.text)) {\n                                updateText = command.text.update;\n                                cancelText = command.text.cancel;\n                            }\n                            if (isPlainObject(command.iconClass)) {\n                                updateIconClass = command.iconClass.update;\n                                cancelIconClass = command.iconClass.cancel;\n                            }\n\n                            if (command.attr) {\n                                attr = command.attr;\n                            }\n                        }\n\n                        $(that._createButton({ name: \"update\", text: updateText, attr: attr, iconClass: updateIconClass, skipTabIndex: true }) +\n                            that._createButton({ name: \"canceledit\", text: cancelText, attr: attr, iconClass: cancelIconClass, skipTabIndex: true })).appendTo(cell);\n                    }\n                }\n            });\n\n            that._editContainer = row;\n\n            that._editContainer.addClass(\"k-grid-edit-row\");\n\n            if (model.new === true) {\n                that._editContainer.addClass(\"k-grid-add-row\");\n                delete model.new;\n            }\n\n            if (that._shouldClearEditableState) {\n                that._clearEditableState();\n            }\n\n            that.editable = new kendo.ui.Editable(that._editContainer, {\n                target: that,\n                fields: fields,\n                size: that.options.size,\n                model: model,\n                skipFocus: (that._isVirtualInlineEditable() && that._editableState && (that._editableState.field ? true : false)) || that._hasVirtualColumns(),\n                clearContainer: false\n            });\n\n            if (row.length > 1) {\n\n                adjustRowHeight(row[0], row[1]);\n                that._applyLockedContainersWidth(true);\n            }\n\n            if (stacked) {\n                cells.addClass(\"k-grid-stack-edit-cell\");\n            }\n\n            that.trigger(EDIT, { container: row, model: model });\n        },\n\n        cancelRow: function(notify) {\n            var that = this,\n                container = that._editContainer,\n                model;\n\n            if (container) {\n                model = that._modelForContainer(container);\n\n                if (!model || (notify && that.trigger(\"cancel\", { container: container, model: model }))) {\n                    return;\n                }\n\n                that._destroyEditable();\n\n                that.dataSource.cancelChanges(model);\n\n                that._clearEditableState();\n\n                if (that._editMode() !== \"popup\") {\n                    that._displayRow(container);\n                } else {\n                    that._displayRow(that.tbody.find(\"[\" + kendo.attr(\"uid\") + \"=\" + model.uid + \"]\"));\n                }\n\n                that._aria();\n            }\n        },\n\n        saveRow: function() {\n            var that = this;\n            var container = this._editContainer;\n            var model = this._modelForContainer(container);\n            var deferred = $.Deferred();\n            var valid;\n\n            if (!container || !this.editable) {\n                return deferred.resolve().promise();\n            }\n\n            valid = that.editable && that.editable.end();\n\n            if (!valid || this.trigger(SAVE, { container: container, model: model })) {\n                if (!valid) {\n                    that._scrollVirtualWrapper();\n                }\n\n                return deferred.reject().promise();\n            }\n\n            if (this._editMode() === \"popup\") {\n                const selector = \"[ref-update-button]\";\n                let uploadButton = container.find(selector);\n                if (!uploadButton?.length) {\n                    uploadButton = container.parent().find(selector);\n                }\n\n                if (uploadButton?.length) {\n                    uploadButton?.addClass(\"k-disabled\").attr(\"aria-disabled\", true);\n                }\n\n            }\n\n            that._clearEditableState();\n\n            return this.dataSource.sync();\n        },\n\n        _displayRow: function(row) {\n            var that = this,\n                model = that._modelForContainer(row),\n                related,\n                newRow,\n                nextRow,\n                isSelected = row.hasClass(SELECTED),\n                isAlt = row.hasClass(\"k-table-alt-row\");\n\n            if (model) {\n\n                if (that.lockedContent) {\n                    related = $((isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model));\n                    kendo.applyStylesFromKendoAttributes(related, [\"display\"]);\n                    that._relatedRow(row.last()).replaceWith(related);\n                }\n\n                newRow = $((isAlt ? that.altRowTemplate : that.rowTemplate)(model));\n                if (!row.is(\":visible\")) {\n                    newRow.hide();\n                }\n\n                kendo.applyStylesFromKendoAttributes(newRow, [\"display\"]);\n\n                if (that._anyStickyColumns()) {\n                    kendo.applyStylesFromKendoAttributes(newRow, [\"left\", \"right\"]);\n                }\n\n                row.replaceWith(newRow);\n\n                that.trigger(\"itemChange\", { item: newRow, data: model, ns: ui });\n\n                if (related && related.length) {\n                    that.trigger(\"itemChange\", { item: related, data: model, ns: ui });\n                }\n\n                if (isSelected && (that.options.selectable || that._checkBoxSelection)) {\n                    that.select(newRow.add(related));\n                }\n\n                if (related) {\n                    adjustRowHeight(newRow[0], related[0]);\n                }\n\n                nextRow = newRow.next();\n                if (nextRow.hasClass(\"k-detail-row\") && nextRow.is(\":visible\")) {\n                    kendo.ui.icon(newRow.find(\".k-hierarchy-cell .k-icon,.k-hierarchy-cell .k-svg-icon\"), { icon: \"caret-alt-down\" });\n                }\n            }\n        },\n\n        _showMessage: function(messages, row) {\n            var that = this;\n\n            if (!that._isMobile) {\n                // eslint-disable-next-line no-alert\n                return window.confirm(messages.title);\n            }\n\n            var confirmDialog = that._confirmDialog = new kendo.ui.Confirm($(\"<div />\").appendTo(document.body), {\n                modal: {\n                    preventScroll: true\n                },\n                closable: false,\n                title: false,\n                content: messages.title,\n                messages: {\n                    okText: messages.confirmDelete,\n                    cancel: messages.cancelDelete\n                },\n                open: function() {\n                    if (that.content) {\n                        that.content.data(OVERFLOW, that.content.css(OVERFLOW));\n                        that.content.css(OVERFLOW, HIDDEN);\n                    }\n                },\n                close: function() {\n                    if (that.content) {\n                        that.content.css(OVERFLOW, that.content.data(OVERFLOW));\n                    }\n                }\n            });\n\n            confirmDialog.result\n                .done(function() {\n                    that._removeRow(row);\n                })\n                .fail(function() {\n                    var confirmDialog = that._confirmDialog;\n\n                    if (confirmDialog) {\n                        confirmDialog.close();\n                        confirmDialog.destroy();\n                    }\n                });\n\n            return false;\n        },\n\n        _confirmation: function(row) {\n            var that = this,\n                editable = that.options.editable,\n                confirmation = (editable === true || typeof editable === STRING) ? that.options.messages.editable.confirmation : editable.confirmation;\n\n            if (isPlainObject(editable) && typeof editable.mode === STRING && typeof confirmation !== FUNCTION && typeof confirmation !== STRING && confirmation !== false) {\n                confirmation = that.options.messages.editable.confirmation;\n            }\n\n            if (confirmation !== false && confirmation != null) {\n\n                if (typeof confirmation === FUNCTION) {\n                    confirmation = confirmation(that._modelForContainer(row));\n                }\n\n                return that._showMessage({\n                    confirmDelete: editable.confirmDelete || that.options.messages.editable.confirmDelete,\n                    cancelDelete: editable.cancelDelete || that.options.messages.editable.cancelDelete,\n                    title: confirmation === true ? that.options.messages.editable.confirmation : confirmation\n                }, row);\n            }\n\n            return true;\n        },\n\n        cancelChanges: function() {\n            var that = this;\n\n            if (that._cachedRowsHeight) {\n                that._mapCachedRowsHeight(\"getByUid\", \"id\");\n                that._shouldMapHights = true;\n            }\n\n            that.dataSource.cancelChanges();\n\n            if (that._isVirtualEditable()) {\n                that._virtualPageToTop(function() {\n                    that.virtualScrollable.scrollToTop();\n                });\n            }\n        },\n\n        saveChanges: function() {\n            var that = this;\n            var valid = that.editable && that.editable.end();\n\n            if ((valid || !that.editable) && !that.trigger(SAVECHANGES)) {\n                that.dataSource.sync();\n            } else if (!valid) {\n                that._scrollVirtualWrapper();\n            }\n        },\n\n        addRow: function() {\n            var that = this,\n                index,\n                dataSource = that.dataSource,\n                mode = that._editMode(),\n                createAt = that.options.editable.createAt || \"\",\n                pageSize = dataSource.pageSize(),\n                view = dataSource.view() || [];\n            var createAtBottom = createAt.toLowerCase() === BOTTOM;\n            var model;\n            var virtualEditable = that._isVirtualEditable();\n\n            if ((that.editable && that.editable.end()) || !that.editable) {\n                if (mode != \"incell\") {\n                    that.cancelRow();\n                }\n\n                index = dataSource.indexOf(view[0]);\n\n                if (createAtBottom) {\n                    index += view.length;\n\n                    if (pageSize && !dataSource.options.serverPaging && pageSize <= view.length) {\n                        index -= 1;\n                    }\n                }\n\n                if (index < 0) {\n                    if (dataSource.page() > dataSource.totalPages()) {\n                        index = (dataSource.page() - 1) * pageSize;\n                    } else {\n                        index = 0;\n                    }\n                }\n\n                if (that.options.navigatable && mode == \"incell\") {\n                    that._removeCurrent();\n                }\n\n                if (virtualEditable) {\n                    that._virtualAddRow();\n                } else {\n                    model = dataSource.insert(index, {});\n                    model.new = true;\n                    that._editModel(model);\n                }\n            } else {\n                that._scrollVirtualWrapper();\n            }\n        },\n\n        _editModel: function(model) {\n            var that = this;\n            var createAt = that.options.editable.createAt || \"\";\n            var mode = that._editMode();\n\n            if (model) {\n                var id = model.uid,\n                    table = that.lockedContent ? that.lockedTable : that.table,\n                    row = table.find(\"tr[\" + kendo.attr(\"uid\") + \"=\" + id + \"]\");\n                const stacked = that._isStackedMode();\n                const cells = stacked ? row.find(\"td:not(.k-group-cell,.k-hierarchy-cell) .k-grid-stack-cell:not(.k-command-cell)\") : row.children(\"td:not(.k-group-cell,.k-hierarchy-cell)\");\n                const index = that._firstEditableColumnIndex(row);\n                const cell = cells.eq(index);\n\n                if (mode === \"inline\" && row.length) {\n                    that.editRow(row);\n                } else if (mode === \"popup\") {\n                    that.editRow(model);\n                } else if (cell.length) {\n                    that.editCell(cell, stacked && index);\n                }\n\n                if (createAt.toLowerCase() == \"bottom\" && that.lockedContent) {\n                    //scroll the containers to the bottom\n                    that.lockedContent[0].scrollTop = that.content[0].scrollTop = that.table[0].offsetHeight;\n                }\n            }\n        },\n\n        _virtualAddRow: function() {\n            var that = this;\n            var createAtBottom = (that.options.editable.createAt || \"\").toLowerCase() === BOTTOM;\n\n            that._clearEditableState();\n\n            if (createAtBottom) {\n                that._virtualAddRowAtBottom();\n            } else {\n                that._virtualAddRowAtTop();\n            }\n        },\n\n        _virtualAddRowAtTop: function() {\n            var that = this;\n            var dataSource = that.dataSource;\n            var virtualScrollable = that.virtualScrollable;\n            var model;\n\n            if (dataSource.page() === 1) {\n                model = dataSource.insert(0, {});\n                model.new = true;\n                that._editModel(model);\n                virtualScrollable.scrollToTop();\n            } else {\n                that._virtualPageToTop(function() {\n                    model = dataSource.insert(0, {});\n                    model.new = true;\n                    that._editModel(model);\n                    virtualScrollable.scrollToTop();\n                });\n            }\n        },\n\n        _virtualAddRowAtBottom: function() {\n            var that = this;\n            var dataSource = that.dataSource;\n            var virtualScrollable = that.virtualScrollable;\n            var index = dataSource.total();\n            var model;\n\n            if (dataSource.at(index - 1) instanceof ObservableObject) {\n                model = dataSource.insert(index, {});\n                model.new = true;\n\n                that._virtualPageToBottom(function() {\n                    that._editModel(model);\n                    virtualScrollable.scrollToBottom();\n                });\n            } else {\n                that._virtualPageToBottom(function() {\n                    model = dataSource.insert(index, {});\n                    model.new = true;\n                    that._editModel(model);\n                    virtualScrollable.scrollToBottom();\n                });\n            }\n        },\n\n        _virtualPageToTop: function(callback) {\n            var that = this;\n\n            that._virtualPage(0, that.dataSource.take(), function() {\n                callback();\n            });\n        },\n\n        _virtualPageToBottom: function(callback) {\n            var that = this;\n            var dataSource = that.dataSource;\n            var take = dataSource.take();\n            var total = dataSource.total();\n            var skip = total > take ? (total - take) : 0;\n\n            that._virtualPage(skip, take, function() {\n                callback();\n            });\n        },\n\n        _virtualPage: function(skip, take, callback) {\n            var that = this;\n\n            if (that._isVirtualEditable()) {\n                that.virtualScrollable._preventScroll = true;\n                that.virtualScrollable._page(skip, take, callback);\n            }\n        },\n\n        _firstEditableColumnIndex: function(container) {\n            var that = this,\n                column,\n                columns = leafColumns(that.columns),\n                idx,\n                length,\n                model = that._modelForContainer(container);\n\n            for (idx = 0, length = columns.length; idx < length; idx++) {\n                column = columns[idx];\n\n                if (model && (!model.editable || model.editable(column.field)) && !column.command && column.field && column.hidden !== true) {\n                    return idx;\n                }\n            }\n            return -1;\n        },\n\n        _clickAdd: function(e) {\n            if (e.preventDefault) {\n                e.preventDefault();\n            }\n\n            this.addRow();\n            this._toggleToolbarEditingItemsVisibility();\n        },\n\n        _clickCancel: function(e) {\n            if (e.preventDefault) {\n                e.preventDefault();\n            }\n\n            this.cancelChanges();\n            this._toggleToolbarEditingItemsVisibility();\n        },\n\n        _clickExcel: function(e) {\n            const that = this;\n\n            if (e.preventDefault) {\n                e.preventDefault();\n            }\n\n            that._exportExcel();\n        },\n\n        _exportExcel: function(doneCallback) {\n            const that = this;\n            const deferred = $.Deferred();\n            that._isExport = true;\n\n            that._progress(true);\n\n            setTimeout(() => {\n                that.saveAsExcel(deferred);\n                deferred.always(() => {\n                    that._progress(false);\n                    that._isExport = false;\n\n                    if (doneCallback && typeof doneCallback === FUNCTION) {\n                        doneCallback();\n                    }\n                });\n            }, 1);\n        },\n\n        _clickPdf: function(e) {\n            var that = this;\n\n            if (e.preventDefault) {\n                e.preventDefault();\n            }\n            that._exportPdf();\n        },\n\n        _exportPdf: function(doneCallback) {\n            const that = this;\n            that._isExport = true;\n            that._pdfInitialized = true;\n\n            that._progress(true);\n            var promise = that.saveAsPDF();\n\n            if (promise) {\n                promise.done(function() {\n                    that._progress(false);\n                    that._isExport = false;\n                    that._pdfInitialized = false;\n\n                    if (doneCallback && typeof doneCallback === FUNCTION) {\n                        doneCallback();\n                    }\n                });\n            } else {\n                that._progress(false);\n                that._isExport = false;\n                that._pdfInitialized = false;\n            }\n        },\n\n        _clickSave: function(e) {\n            if (e.preventDefault) {\n                e.preventDefault();\n            }\n\n            this.saveChanges();\n        },\n\n        _searchInput: function(e) {\n            var that = this,\n                input = e.currentTarget;\n\n            clearTimeout(that._searchTimeOut);\n\n            that._searchTimeOut = setTimeout(function() {\n                that._search(input.value);\n            }, 300);\n        },\n\n        _pasteToolbarDropDown: function() {\n            var that = this;\n\n            if (that.wrapper.find(\".k-grid-paste-action\").length) {\n                that.pasteActionsDropDownList = that.wrapper\n                    .find(\".k-grid-paste-action\")\n                    .kendoDropDownList({\n                        dataSource: [{ value: \"insert\", text: \"Paste (Insert)\" }, { value: \"replace\", text: \"Paste (Replace)\" }],\n                        dataTextField: \"text\",\n                        dataValueField: \"value\",\n                        _allowFilterPaste: false,\n                    }).data(\"kendoDropDownList\");\n            }\n        },\n\n        _pushExpression: function(filters, field, value) {\n            var that = this,\n                isServerFiltering = that.dataSource.options.serverFiltering,\n                defaultOperators = {\n                    string: \"contains\",\n                    number: \"gte\",\n                    date: \"gte\",\n                    enums: \"eq\",\n                    boolean: \"eq\"\n                },\n                name = field.name || field,\n                operator = field.operator,\n                modelInfo = that.dataSource.reader.model && that.dataSource.reader.model.fields,\n                fieldInfo = modelInfo && modelInfo[name],\n                parseFn = fieldInfo && fieldInfo.parse,\n                expression = {\n                    field: name,\n                    operator: operator || defaultOperators.string,\n                    value: value\n                };\n\n            if ((operator || isServerFiltering) && fieldInfo && kendo.isFunction(parseFn) && parseFn(value) !== null) {\n                extend(expression, {\n                    operator: operator || defaultOperators[fieldInfo.type],\n                    value: parseFn(value)\n                });\n            }\n\n            if (isServerFiltering && fieldInfo && kendo.isFunction(parseFn) && parseFn(value) === null) {\n                return;\n            }\n\n            filters.push(expression);\n        },\n\n        _hasTool: function(selector) {\n            const that = this;\n            const tool = that.wrapper.find(`.k-grid-toolbar ${selector}`);\n            return {\n                present: tool.length > 0,\n                tool: tool\n            };\n        },\n\n        _initToolbarItemsPopups: function() {\n            const that = this;\n\n            const columnsToolbarButton = that._hasTool(\".k-toolbar-button.k-grid-column-menu[ref-toolbar-tool]\");\n            const sortToolbarButton = that._hasTool(\".k-toolbar-button.k-grid-sort-tool[ref-toolbar-tool]\");\n            const filterToolbarTool = that._hasTool(\".k-toolbar-button.k-grid-filter-tool[ref-toolbar-tool]\");\n            const columnChooserTool = that._hasTool(\".k-toolbar-button.k-grid-column-chooser[ref-toolbar-tool]\");\n            const groupToolbarTool = that._hasTool(\".k-toolbar-button.k-grid-group-tool[ref-toolbar-tool]\");\n            const smartBoxTool = that._hasTool(\"[ref-grid-smartbox-input]\");\n\n            if (columnsToolbarButton.present) {\n                that._globalColumnsMenu(columnsToolbarButton.tool);\n            }\n\n            if (columnChooserTool.present) {\n                that._columnChooserTool(columnChooserTool.tool);\n            }\n\n            if (sortToolbarButton.present) {\n                that._toggleBadge(sortToolbarButton.tool, that.dataSource.sort());\n                that._sortToolbarTool(sortToolbarButton.tool);\n            }\n\n            if (filterToolbarTool.present) {\n                that._toggleBadge(filterToolbarTool.tool, that.dataSource.filter());\n                that._filterToolbarTool(filterToolbarTool.tool);\n            }\n\n            if (groupToolbarTool.present) {\n                const groups = that.dataSource.group();\n\n                that._toggleBadge(groupToolbarTool.tool, groups && groups.length);\n                that._groupToolbarTool(groupToolbarTool.tool);\n            }\n\n            if (smartBoxTool.present) {\n                that._smartBoxTool(smartBoxTool.tool);\n            }\n        },\n\n        _unbindToolbarTools: function() {\n            const that = this;\n            const currentToolsSelector = `\n                .k-toolbar-button.k-grid-column-menu[ref-toolbar-tool],\n                .k-toolbar-button.k-grid-sort-tool[ref-toolbar-tool],\n                .k-toolbar-button.k-grid-filter-tool[ref-toolbar-tool],\n                .k-toolbar-button.k-grid-column-chooser[ref-toolbar-tool],\n                .k-toolbar-button.k-grid-group-tool[ref-toolbar-tool],\n                .k-toolbar-button.k-grid-ai-assistant-tool[ref-toolbar-tool]\n            `;\n\n            that.wrapper.find(currentToolsSelector).each(function() {\n                const button = $(this);\n                button.off(\"click\" + NS);\n            });\n        },\n\n        _ai: function() {\n            const that = this;\n            const hasAiTool = that._hasTool(\".k-toolbar-button.k-grid-ai-assistant-tool[ref-toolbar-tool]\");\n\n            if (hasAiTool.present) {\n                that._initAiAssistantWindow(hasAiTool.tool);\n            }\n        },\n\n        _defaultSearch: function(value) {\n            const that = this;\n            const smartBoxOptions = that.options.smartBox || {};\n\n            let searchFields = null;\n            if (smartBoxOptions && smartBoxOptions.searchSettings && smartBoxOptions.searchSettings.enabled !== false) {\n                searchFields = smartBoxOptions.searchSettings.searchFields || null;\n            }\n            that._search(value, searchFields);\n        },\n\n        _smartBoxTool: function(tool) {\n            const that = this;\n            const smartBoxOptions = that.options.smartBox || {};\n\n            if (!tool.length) {\n                return;\n            }\n\n            smartBoxOptions.size = that.options.size;\n            smartBoxOptions.rounded = \"full\";\n\n            if (smartBoxOptions.aiAssistantSettings) {\n                let serviceOptions = smartBoxOptions.aiAssistantSettings?.service || that.options?.ai?.service || null;\n                smartBoxOptions.aiAssistantSettings.service = serviceOptions;\n\n                if (serviceOptions) {\n                    const defaultService = {\n                        data: (prompt) => getDefaultAIRequestConfig(prompt, flatColumnsInDomOrder(that.columns))\n                    };\n\n                    serviceOptions = extend(true, defaultService, serviceOptions);\n                    smartBoxOptions.aiAssistantSettings.service = serviceOptions;\n                    const userAiResponseHandler = smartBoxOptions.aiAssistantResponseSuccess;\n\n                    smartBoxOptions.aiAssistantResponseSuccess = function(e) {\n                        if (typeof userAiResponseHandler === \"function\") {\n                            userAiResponseHandler.call(this, e);\n                        }\n\n                        if (!e.isDefaultPrevented()) {\n                            that.handleAIResponse(e.response);\n                        }\n                    };\n                }\n            }\n\n            const userSearchHandler = smartBoxOptions.search;\n\n            smartBoxOptions.search = function(e) {\n                if (typeof userSearchHandler === \"function\") {\n                    userSearchHandler.call(this, e);\n                }\n\n                if (!e.isDefaultPrevented()) {\n                    that._defaultSearch(e.searchValue);\n                }\n            };\n\n            tool.kendoSmartBox(smartBoxOptions);\n\n            const smartBox = tool.data(\"kendoSmartBox\");\n\n            if (smartBox) {\n                that._smartBox = smartBox;\n            }\n        },\n\n        _search: function(value, explicitFields) {\n            const that = this;\n\n            if (that._searchTimeOut) {\n                that._searchTimeOut = null;\n            }\n\n            const options = that.options;\n            const searchFields = explicitFields || (options.search ? options.search.fields : null);\n            let expression = { filters: [], logic: \"or\" };\n            let fields = searchFields;\n\n            if (!fields) {\n                fields = getColumnsFields(options.columns);\n            }\n\n            if (that.dataSource.options.endless) {\n                that.dataSource.options.endless = null;\n                that._endlessPageSize = that.dataSource.options.pageSize;\n            }\n\n            if (value) {\n                for (let i = 0; i < fields.length; i++) {\n                    that._pushExpression(expression.filters, fields[i], value);\n                }\n            } else {\n                expression = {};\n            }\n\n            that.dataSource.filter(expression);\n        },\n\n        _toolbar: function() {\n            var that = this,\n                wrapper = that.wrapper,\n                toolbar = that.options.toolbar,\n                container, items;\n\n            if (toolbar) {\n                that._createClickHandler = that._addClickHandler = that._clickAdd.bind(that);\n                that._editClickHandler = that._editToolbarClick.bind(that);\n                that._destroyClickHandler = that._removeToolbarClick.bind(that);\n                that._editCancelClickHandler = that._editCancelClick.bind(that);\n                that._updateClickHandler = that._editUpdateClick.bind(that);\n                that._cancelClickHandler = that._clickCancel.bind(that);\n                that._saveClickHandler = that._clickSave.bind(that);\n                that._excelClickHandler = that._clickExcel.bind(that);\n                that._pdfClickHandler = that._clickPdf.bind(that);\n                that._serachHandler = that._searchInput.bind(that);\n\n                container = that.wrapper.find(\".k-grid-toolbar\");\n\n                if (!container.length) {\n                    container = $('<div class=\"k-grid-toolbar k-toolbar\" />')\n                        .prependTo(wrapper);\n\n                    if (typeof toolbar === STRING || isFunction(toolbar)) {\n                        if (typeof toolbar === STRING) {\n                            toolbar = kendo.template(toolbar).bind(that);\n                        }\n\n                        container.html(toolbar({ grid: that }));\n                        that._attachToolbarClicks();\n                    } else if (isArray(toolbar)) {\n                        items = that._processItems(toolbar);\n\n                        container.kendoToolBar({\n                            navigateOnTab: !that.options.navigatable,\n                            size: that.options.size,\n                            items: items\n                        });\n                    } else if (isPlainObject(toolbar)) {\n                        container.kendoToolBar({\n                            navigateOnTab: !that.options.navigatable,\n                            size: that.options.size,\n                            items: that._processItems(toolbar.items || []),\n                            overflow: toolbar.overflow\n                        });\n                    }\n                } else {\n                    that._attachToolbarClicks();\n                }\n\n                if (that._checkBoxSelection) {\n                    container.on(CLICK + NS, \".k-select-checkbox\", that._headerCheckboxClick.bind(that));\n                }\n\n                container.on(INPUT + NS, \".k-grid-search input\", this._serachHandler);\n\n                if (toolbar.overflow && toolbar.overflow.mode === \"section\") {\n                    const toolbarElement = container.data(\"kendoToolBar\");\n                    toolbarElement.bind(\"overflowOpen\", function() {\n                        const itemsToCheck = toolbarElement.overflowSection.element.find(\".k-toolbar-items-list\");\n                        that._toggleToolbarEditingItemsVisibility(itemsToCheck?.children(editableToolbarItemsSelector));\n                    });\n                }\n                that._toggleToolbarEditingItemsVisibility();\n            }\n        },\n\n        _toggleToolbarEditingItemsVisibility: function(itemsToCheck) {\n            const that = this;\n            const dataSource = that.dataSource;\n            const hasChanges = dataSource.hasChanges() || that.element.find(\".k-dirty\").length > 0;\n\n            const toolbar = that.wrapper.find(\".k-grid-toolbar\");\n            if (!toolbar.length) {\n                return;\n            }\n\n            let toolbarItems;\n\n            if (that.options.toolbar && that.options.toolbar.overflow && that.options.toolbar.overflow.mode === \"scroll\") {\n                toolbarItems = toolbar.find(\".k-toolbar-items\").children(editableToolbarItemsSelector);\n            } else if (itemsToCheck) {\n                toolbarItems = itemsToCheck;\n            } else {\n                toolbarItems = toolbar.children(editableToolbarItemsSelector);\n            }\n\n            const showInactive = (that.options.toolbar && that.options.toolbar.showInactiveTools) || false;\n            const mode = that._editMode();\n            const editContainerVisible = that._editContainer && that._editContainer.length > 0 && that._editContainer.is(\":visible\");\n\n            const method = showInactive ? (element) => {\n                element.attr(\"aria-disabled\", true);\n                element.addClass(\"k-disabled\");\n            } : (element) => element.hide();\n\n            const selected = that.select();\n            const hasSelected = selected.length > 0;\n            const differentSelectionThanEditing =\n                hasSelected\n                && that._editContainer\n                && that._editContainer.length > 0\n                && that._editContainer.is(\":visible\")\n                && (that._editContainer[0].getAttribute(kendo.attr(\"uid\")) !== selected[selected.length - 1].getAttribute(kendo.attr(\"uid\")));\n\n\n            const regex = getToolbarRegex({\n                mode,\n                hasSelected,\n                hasChanges,\n                editContainerVisible,\n                differentSelectionThanEditing: !differentSelectionThanEditing && differentSelectionThanEditing !== false ? true : differentSelectionThanEditing,\n                _editableIsClosing: that._editableIsClosing || false,\n                _isEditableEnabled: that._isEditableEnabled || false,\n                options: that.options\n            });\n\n            toolbarItems.show().removeClass(\"k-disabled\").attr(\"aria-disabled\", \"false\");\n\n            toolbarItems.each(function() {\n                const element = $(this);\n                const identifier = element.attr(\"class\");\n                if (element.hasClass(FOCUSED)) {\n                    element.removeClass(FOCUSED);\n                    focusTable(that.table, true);\n                }\n                if (identifier && regex && regex.test(identifier)) {\n                    method(element);\n                }\n            });\n        },\n\n        _attachToolbarClicks: function() {\n            var editable = this.options.editable,\n                container = this.wrapper.find(\".k-grid-toolbar\");\n\n            if (editable && editable.create !== false) {\n                container.on(CLICK + NS, \".k-grid-add\", this._createClickHandler)\n                    .on(CLICK + NS, \".k-grid-cancel-changes\", this._cancelClickHandler)\n                    .on(CLICK + NS, \".k-grid-save-changes\", this._saveClickHandler);\n            }\n\n            if (editable && editable.update !== false) {\n                container.on(CLICK + NS, \".k-grid-edit-command\", this._editClickHandler)\n                    .on(CLICK + NS, \".k-grid-save-command\", this._updateClickHandler)\n                    .on(CLICK + NS, \".k-grid-cancel-command\", this._editCancelClickHandler);\n            }\n\n            if (editable.destroy !== false) {\n                container.on(CLICK + NS, \".k-grid-remove-command\", this._destroyClickHandler);\n            }\n\n            container.on(CLICK + NS, \".k-grid-excel\", this._excelClickHandler);\n            container.on(CLICK + NS, \".k-grid-pdf\", this._pdfClickHandler);\n        },\n\n        _processItems: function(tools) {\n            var that = this,\n                options = that.options,\n                items = [],\n                messages = this.options.messages.commands,\n                itemsCollectionHasSpacer = false;\n\n            tools.map(t => {\n                var command, searchText, icon, className, inputSize, template = \"\";\n\n                if (typeof t === 'string') {\n                    command = t.toLowerCase();\n                    t = {};\n                    if (command !== \"aiassistant\") {\n                        t.text = messages[command] || command;\n                    }\n                } else {\n                    command = (t.name || t.text || \"\");\n\n                    let isPredefinedTool = defaultCommands[command.toLowerCase()];\n\n                    if (isPredefinedTool) {\n                        command = command.toLowerCase();\n                    }\n                    if (command !== \"aiassistant\") {\n                        t.text = t.text === \"\" ? \"\" : (t.text || messages[command] || command);\n                    }\n                }\n\n                if (!itemsCollectionHasSpacer && (command === \"search\" || command === \"columns\")) {\n                    itemsCollectionHasSpacer = true;\n                    items.push({\n                        type: \"spacer\"\n                    });\n                }\n\n                if (command.toLowerCase() === \"selectall\") {\n                    const label = t.text;\n                    t.template = t.template || kendo.template(SELECTCOLUMNHEADERTMPL)({ size: kendo.getValidCssClass(\"k-checkbox-\", \"size\", that.options.size), label: label });\n                }\n\n\n                if (command === \"search\") {\n                    searchText = htmlEncode(t.text || messages.search, true);\n                    icon = t.icon || t.iconClass || \"search\";\n\n                    inputSize = kendo.getValidCssClass(\"k-input-\", \"size\", that.options.size);\n                    template += `<span class='k-searchbox k-input ${inputSize} k-grid-search'>`;\n                    template += kendo.ui.icon({ icon: icon, iconClass: \"k-input-icon\" });\n                    template += \"<input autocomplete='off' placeholder='\" + searchText + \"' title='\" + searchText + \"' aria-label='\" + searchText + \"' class='k-input-inner' />\";\n                    template += \"</span>\";\n\n                    items.push({\n                        name: \"search\",\n                        overflow: \"never\",\n                        template: template\n                    });\n                } else if (command === \"smartbox\") {\n                    items.push(extend({}, defaultCommands.smartbox, t, {}));\n                } else if (command === \"paste\" && options.allowPaste) {\n                    items.push({\n                        template: \"<input class='k-grid-paste-action' />\"\n                    });\n                } else {\n                    if (!command && !(isPlainObject(t) && t.template)) {\n                        throw new Error(\"Custom commands should have name specified\");\n                    }\n\n                    t = extend({ type: \"button\" }, defaultCommands[command], t);\n                    className = t.className || \"k-grid-\" + (command || \"\").replace(/\\s/g, \"\");\n\n                    t.attributes = that._processAttr(t.attr);\n                    delete t.attr;\n\n                    if (!!className) {\n                        if (t.attributes[\"class\"] === undefined) {\n                            t.attributes[\"class\"] = \"\";\n                        }\n\n                        t.attributes[\"class\"] += (\" \" + className);\n                    }\n\n                    if (t.template) {\n                        delete t.type;\n                    }\n\n                    if (!!that[\"_\" + command + \"ClickHandler\"]) {\n                        t.click = that[\"_\" + command + \"ClickHandler\"];\n                    }\n                    if (command === \"canceledit\") {\n                        t.click = that._editCancelClickHandler;\n                    }\n\n                    items.push(t);\n                }\n            });\n\n            return items;\n        },\n\n        _processAttr: function(attr) {\n            var attributes = {},\n                attrArray;\n\n            if (typeof attr === STRING && attr.length > 0) {\n                attrArray = attr.split(\" \");\n                attrArray.map(a => {\n                    var keyValue = a.split(\"=\");\n\n                    if (keyValue.length === 2) {\n                        attributes[keyValue[0]] = keyValue[1].replaceAll('\"', \"\").replaceAll(\"'\", \"\");\n                    }\n                });\n            } else if (isPlainObject(attr)) {\n                attributes = attr;\n            }\n\n            return attributes;\n        },\n\n        _createButton: function(command) {\n            var button,\n                template = command.template || COMMANDBUTTONTMPL,\n                commandName = typeof command === STRING ? command : command.name || command.text,\n                className = defaultCommands[commandName] ? defaultCommands[commandName].className : \"k-grid-\" + (commandName || \"\").replace(/\\s/g, \"\"),\n                options = { className: command.skipCommandClass ? \"\" : className, text: commandName, attr: command.skipTabIndex ? \"\" : \"tabindex=-1\", iconClass: \"\", size: command.size || this.options.size },\n                messages = this.options.messages.commands,\n                attributeClassMatch;\n\n            if (!commandName && !(isPlainObject(command) && command.template)) {\n                throw new Error(\"Custom commands should have name specified\");\n            }\n\n            if (isPlainObject(command)) {\n                command = extend(true, {}, command);\n\n                if (command.className && inArray(options.className, command.className.split(\" \")) < 0) {\n                    command.className += \" \" + options.className;\n                } else if (command.className === undefined) {\n                    command.className = options.className;\n                }\n\n                if (command.className.indexOf(\"k-primary\") > -1) {\n                    command.className = command.className.replace(\"k-primary\", \"\");\n                    command.themeColor = \"primary\";\n                }\n\n                if (commandName === \"edit\") {\n                    command = extend(true, {}, command);\n                    command.text = isPlainObject(command.text) ? command.text.edit : command.text;\n                    command.iconClass = isPlainObject(command.iconClass) ? command.iconClass.edit : command.iconClass;\n                }\n\n                if (command.attr) {\n                    if (isPlainObject(command.attr)) {\n                        command.attr = stringifyAttributes(command.attr);\n                    }\n\n                    if (command.attr instanceof Function) {\n                        let compiledAttributes = command.attr(command);\n                        command.attr = stringifyAttributes(compiledAttributes);\n                    }\n\n                    if (typeof command.attr === STRING) {\n                        attributeClassMatch = command.attr.match(/class=\"(.+?)\"/);\n\n                        if (attributeClassMatch && inArray(attributeClassMatch[1], command.className.split(\" \")) < 0) {\n                            command.className += \" \" + attributeClassMatch[1];\n                        }\n                    }\n                }\n\n                const additionalOptions = { text: messages[commandName] };\n\n                if (commandName === \"edit\" || commandName === \"update\") {\n                    additionalOptions.themeColor = \"primary\";\n                }\n\n                if (commandName === \"destroy\") {\n                    additionalOptions.iconClass = \"k-i-x\";\n                }\n\n                options = extend(true, options, defaultCommands[commandName], additionalOptions, command);\n            } else {\n                const additionalOptions = { text: messages[commandName] };\n                if (commandName === \"edit\" || commandName === \"update\") {\n                    additionalOptions.themeColor = \"primary\";\n                }\n\n                if (commandName === \"destroy\") {\n                    additionalOptions.iconClass = \"k-i-x\";\n                }\n                options = extend(true, options, defaultCommands[commandName], additionalOptions);\n            }\n\n            button = kendo.template(template)(options);\n\n            if (!command.template) {\n                return kendo.html.renderButton($(button), options);\n            } else {\n                return button;\n            }\n        },\n\n        _hasFooters: function() {\n            return !!this.footerTemplate ||\n                !!this.groupFooterTemplate ||\n                (this.footer && this.footer.length > 0) ||\n                this.wrapper.find(\".k-grid-footer\").length > 0;\n        },\n\n        _groupable: function() {\n            var that = this;\n\n            if (that._groupableClickHandler) {\n                that.table.add(that.lockedTable).off(CLICK + NS, that._groupableClickHandler);\n            } else {\n                that._groupableClickHandler = function(e) {\n                    var element = $(this),\n                        groupRow = element.closest(TR);\n\n                    var group = that._groupRows ? that._groupRows[that.wrapper.find(DOT + GROUPING_ROW).index(groupRow)] : {};\n\n                    if (element.is(CARET_ALT_DOWN)) {\n                        if (!that.trigger(\"groupCollapse\", { group: group, element: groupRow })) {\n                            that.collapseGroup(groupRow);\n                        }\n                    } else {\n                        if (!that.trigger(\"groupExpand\", { group: group, element: groupRow })) {\n                            that.expandGroup(groupRow);\n                        }\n                    }\n                    e.preventDefault();\n                    e.stopPropagation();\n                };\n            }\n\n            if (that._isLocked()) {\n                that.lockedTable.on(CLICK + NS, \".k-grouping-row \" + CARET_ALT_RIGHT + \", .k-grouping-row \" + CARET_ALT_DOWN, that._groupableClickHandler);\n            } else {\n                that.table.on(CLICK + NS, \".k-grouping-row \" + CARET_ALT_RIGHT + \", .k-grouping-row \" + CARET_ALT_DOWN, that._groupableClickHandler);\n            }\n\n            that._attachGroupable();\n        },\n\n        _toggleGroupableHeader: function(condition) {\n            const that = this;\n            const groupable = that.options.groupable;\n            const header = that.wrapper.find(\"div.k-grouping-header\");\n\n            if (!(groupable && groupable.enabled !== false) || !header.length) {\n                return;\n            }\n\n            if (condition) {\n                header.removeClass(\"k-hidden\");\n            } else {\n                header.addClass(\"k-hidden\");\n            }\n        },\n\n        _attachGroupable: function() {\n            var that = this,\n                wrapper = that.wrapper,\n                groupable = that.options.groupable,\n                draggables = HEADERCELLS + \"[\" + kendo.attr(\"field\") + \"]\",\n                filter = that.content ? \".k-grid-header:first \" + draggables : \"table:first>.k-grid-header \" + draggables;\n\n            const stacked = that._isStackedMode();\n\n            if (stacked) {\n                filter = \".k-grid-stack-cell[data-field]\";\n            }\n\n            if (groupable && groupable.enabled !== false) {\n                if (!wrapper.has(\"div.k-grouping-header\")[0]) {\n                    $(\"<div/>\").addClass(\"k-grouping-header\").prependTo(wrapper);\n                }\n\n                if (that.groupable) {\n                    that._destroyGroupable();\n                }\n\n                if (browser.chrome) {\n                    wrapper.find(\"div.k-grouping-header\").css(\"touch-action\", NONE);\n                    wrapper.find(filter).css(\"touch-action\", NONE);\n                }\n\n                let header = that.wrapper.children(\".k-grid-header\");\n\n                header.addClass(\"k-grid-draggable-header\");\n\n                that.groupable = new ui.Groupable(wrapper, extend({}, groupable, {\n                    draggable: !stacked ? that._draggableInstance : false,\n                    groupContainer: \">div.k-grouping-header\",\n                    dataSource: that.dataSource,\n                    draggableElements: !stacked ? filter : false,\n                    filter: filter,\n                    size: that.options.size,\n                    allowDrag: that.options.reorderable,\n                    enableContextMenu: !!that.options.contextMenu,\n                    removeGroup: function(e) {\n                        that._showUngroupedColumn(e);\n                    },\n                    change: function(e) {\n                        if (that.trigger(\"group\", { groups: e.groups })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            that._hideGroupedColumns(e.groups);\n                            if (that.dataSource.options.endless) {\n                                that._resetEndless();\n                            }\n                        }\n                    },\n                    _groupableFieldsData: stacked && that.columns,\n                }));\n\n                if (stacked) {\n                    that._toggleGroupableHeader(that.dataSource.group().length > 0);\n                }\n\n                that._addGroupableOptionsToHeader();\n            }\n        },\n\n        _showUngroupedColumn: function(group) {\n            var columns = leafColumns(this.columns);\n            var i;\n\n            for (i = 0; i < columns.length; i++) {\n                if (columns[i].uid == group.colID && columns[i].hideOnGroup) {\n                    this.showColumn(columns[i]);\n                }\n            }\n        },\n\n        _hideGroupedColumns: function(groups) {\n            if (!groups) {\n                return;\n            }\n            var columns = leafColumns(this.columns);\n            var fields = [];\n            var i;\n\n            for (i = 0; i < groups.length; i++) {\n                if (groups[i].colID) {\n                    fields.push(groups[i].colID);\n                }\n            }\n\n            for (i = 0; i < columns.length; i++) {\n                if (fields.indexOf(columns[i].uid) >= 0 && columns[i].hideOnGroup) {\n                    this.hideColumn(columns[i]);\n                }\n            }\n        },\n\n        _resetEndless: function() {\n            var that = this;\n            that.dataSource.options.endless = null;\n            that._endlessPageSize = that.dataSource.options.pageSize;\n            that.dataSource._skip = 0;\n            that.dataSource._pageSize = that.dataSource._take = that._endlessPageSize;\n            that.dataSource._page = 1;\n        },\n\n        _addGroupableOptionsToHeader: function() {\n            var that = this;\n            var columns = flatColumns(that.columns);\n            var columnFieldMap = {};\n            var field = \"\";\n            var headerCells = that._headerCells();\n            var cellFieldAttr = \"\";\n            var headerCell;\n            var columnOptions;\n            var i;\n\n            for (i = 0; i < columns.length; i++) {\n                field = columns[i].field;\n                columnFieldMap[columns[i].field] = columns[i];\n            }\n\n            for (i = 0; i < headerCells.length; i++) {\n                headerCell = headerCells.eq(i);\n                cellFieldAttr = headerCell.attr(kendo.attr(FIELD));\n                columnOptions = columnFieldMap[cellFieldAttr];\n\n                if (columnOptions && columnOptions.groupable && columnOptions.groupable.sort) {\n                    headerCell.data(GROUP_SORT, columnOptions.groupable.sort);\n                }\n            }\n        },\n\n        _destroyGroupable: function() {\n            var that = this;\n\n            if (that.groupable && that.groupable.element) {\n                that.groupable.element.kendoGroupable(\"destroy\");\n            }\n\n            that.groupable = null;\n\n            that._removeGroupableOptionsFromHeader();\n        },\n\n        _removeGroupableOptionsFromHeader: function() {\n            var that = this;\n            var headerCells = that._headerCells();\n\n            for (var i = 0; i < headerCells.length; i++) {\n                headerCells.eq(i).removeData(GROUP_SORT);\n            }\n        },\n\n        _continuousItems: function(filter, cell) {\n            if (!this.lockedContent) {\n                return;\n            }\n\n            var that = this;\n\n            var elements = that.table.add(that.lockedTable);\n\n            var lockedItems = $(filter, elements[0]);\n            var nonLockedItems = $(filter, elements[1]);\n            var columns = cell ? lockedColumns(leafColumns(that.columns)).length : 1;\n            var nonLockedColumns = cell ? leafColumns(that.columns).length - columns : 1;\n            var result = [];\n\n            for (var idx = 0; idx < lockedItems.length; idx += columns) {\n                push.apply(result, lockedItems.slice(idx, idx + columns));\n                push.apply(result, [].splice.call(nonLockedItems, 0, nonLockedColumns));\n            }\n\n            return result;\n        },\n\n        _selectable: function() {\n            var that = this,\n                multi,\n                cell,\n                notString = [],\n                isLocked = that._isLocked(),\n                selectable = that.options.selectable,\n                hasSkeletonLoader = that.options.loaderType === \"skeleton\";\n\n            if (selectable && !selectable.checkboxSelection) {\n\n                if (that.selectable) {\n                    that.selectable.destroy();\n                }\n\n                that._selectedIds = {};\n\n                selectable = kendo.ui.Selectable.parseOptions(selectable);\n\n                multi = selectable.multiple;\n                cell = selectable.cell;\n\n                if (that._hasDetails()) {\n                    notString[notString.length] = \".k-detail-row\";\n                }\n                if (that.options.groupable || that._hasFooters() || that._groups()) {\n                    notString[notString.length] = \".k-grouping-row,.k-group-footer\";\n                }\n\n                if (hasSkeletonLoader) {\n                    notString[notString.length] = \"[data-skeleton-row]\";\n                }\n                notString = notString.join(\",\");\n\n                if (notString !== \"\") {\n                    notString = \":not(\" + notString + \")\";\n                }\n\n                var elements = that.table;\n                if (isLocked) {\n                    elements = elements.add(that.lockedTable);\n                }\n\n                const cellSelector = that._isStackedMode() ? STACKED_CELL_SELECTOR : SELECTION_CELL_SELECTOR;\n\n                var filter = \">\" + (cell ? cellSelector : \"tbody>tr\" + notString);\n                that.selectable = new kendo.ui.Selectable(elements, {\n                    allowPaste: that.options.allowPaste,\n                    filter: filter,\n                    aria: true,\n                    multiple: multi,\n                    holdToDrag: !!(that._isMobile || kendo.support.mobileOS),\n                    toggleable: !!(that._isMobile || kendo.support.mobileOS),\n                    dragToSelect: that.options.selectable && that.options.selectable.dragToSelect,\n                    changing: function(e) {\n                        if (that.trigger(CHANGING, { target: e.target, originalEvent: e.originalEvent })) {\n                            e.preventDefault();\n                        }\n                    },\n                    change: function(e) {\n                        var selectedValues;\n                        if (!cell) {\n                            that._persistSelectedRows();\n                        }\n\n                        if (that._checkBoxSelection) {\n                            selectedValues = that.selectable.value();\n                            that._uncheckCheckBoxes();\n                            that._checkRows(selectedValues);\n                            if (selectedValues.length && selectedValues.length === that.items().length) {\n                                that._toggleHeaderCheckState(true);\n                            } else {\n                                that._toggleHeaderCheckState(false);\n                            }\n                        }\n\n                        that._calculateAggregatesForSelected();\n\n                        if (that._editMode() !== \"incell\") {\n                            that._toggleToolbarEditingItemsVisibility();\n                        }\n\n                        if (e.event) {\n                            that.trigger(CHANGE, { cellAggregates: that._cellAggregates });\n                        }\n                    },\n                    useAllItems: isLocked && multi && cell,\n                    relatedTarget: function(items) {\n                        if (cell || !isLocked) {\n                            return;\n                        }\n\n                        var related;\n                        var result = $();\n                        for (var idx = 0, length = items.length; idx < length; idx++) {\n                            related = that._relatedRow(items[idx]);\n\n                            if (inArray(related[0], items) < 0) {\n                                result = result.add(related);\n                            }\n                        }\n\n                        return result;\n                    },\n                    continuousItems: function() {\n                        return that._continuousItems(filter, cell);\n                    },\n                    ignoreOverlapped: that.options.selectable && that.options.selectable.ignoreOverlapped,\n                    addIdToRanges: true\n                });\n\n                if (that.options.navigatable) {\n                    elements.on(\"keydown\" + NS, function(e) {\n                        var current = that.current();\n                        var target = e.target;\n                        var eventObject = { event: e };\n                        var triggerChange;\n                        var triggerChanging;\n                        var lastSelection;\n                        if (!current) {\n                            return;\n                        }\n                        if (e.keyCode === keys.SPACEBAR && !e.shiftKey && $.inArray(target, elements) > -1 &&\n                            !current.is(\".k-grid-stack-edit-cell,.k-edit-cell,.k-header\") &&\n                            current.parent().is(\":not(.k-grouping-row,.k-detail-row,.k-group-footer)\")) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            current = cell ? current : current.parent();\n                            triggerChange = !current.hasClass(SELECTED) || that.selectable.value().length > 1;\n                            triggerChanging = triggerChange || (multi && current.hasClass(SELECTED) && e.ctrlKey);\n\n                            if (triggerChanging && that.trigger(CHANGING, { target: current, originalEvent: e })) {\n                                return;\n                            }\n\n                            if (isLocked && !cell) {\n                                current = current.add(that._relatedRow(current));\n                            }\n\n                            if (multi) {\n                                if (!e.ctrlKey) {\n                                    that.selectable.clear();\n                                } else {\n                                    if (current.hasClass(SELECTED)) {\n                                        that._deselectCheckRows(current);\n                                        that._calculateAggregatesForSelected();\n                                        that.trigger(CHANGE, { cellAggregates: that._cellAggregates });\n                                        return;\n                                    }\n                                }\n                            } else {\n                                that.selectable.clear();\n                            }\n                            if (!cell) {\n                                that.selectable._lastActive = current;\n                            }\n                            that.selectable.value(current);\n                            if (triggerChange) {\n                                that._calculateAggregatesForSelected();\n                                that.trigger(CHANGE, { cellAggregates: that._cellAggregates });\n                            }\n                        } else if (!cell &&\n                            ($(target).is(\"td\") || ($(target).is(\"table\") && inArray(target, this._navigatableTables))) &&\n                            ((e.shiftKey && e.keyCode == keys.LEFT) ||\n                                (e.shiftKey && e.keyCode == keys.RIGHT) ||\n                                (e.shiftKey && e.keyCode == keys.UP) ||\n                                (e.shiftKey && e.keyCode == keys.DOWN) ||\n                                (e.keyCode === keys.SPACEBAR && e.shiftKey))) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            current = current.parent();\n\n                            if (that.trigger(CHANGING, { target: current, originalEvent: e })) {\n                                return;\n                            }\n\n                            lastSelection = that.selectable.value();\n\n                            if (isLocked) {\n                                current = current.add(that._relatedRow(current));\n                            }\n\n                            if (multi) {\n                                if (!that.selectable._lastActive) {\n                                    that.selectable._lastActive = current;\n                                }\n                                that.selectable.selectRange(that.selectable._firstSelectee(), current);\n\n                                if (!compareElements(lastSelection, that.selectable.value())) {\n                                    that.trigger(CHANGE, eventObject);\n                                }\n                            } else if (!current.hasClass(SELECTED)) {\n                                that.selectable.clear();\n                                that.selectable.value(current);\n                                that._calculateAggregatesForSelected();\n                                that.trigger(CHANGE, { cellAggregates: that._cellAggregates });\n                            }\n                        }\n                    });\n                }\n            }\n        },\n\n        _pasteReplaceHandler: function(plain) {\n            var that = this,\n                rows,\n                current,\n                currentRow,\n                currentRowUid,\n                currentField,\n                uids = [];\n\n            current = that.select().first();\n\n            if (that._isStackedMode() || !current.length) {\n                return;\n            }\n\n            if (current.is(TR)) {\n                current = current.children(TD).first();\n            }\n\n            rows = plain.split(\"\\n\").filter(f => f);\n            currentRow = current.closest(\"tr\");\n            currentField = that.thead.find(\"th:eq(\" + current.index() + \")\").data(\"field\");\n            currentRowUid = currentRow.data(\"uid\");\n\n            uids.push(currentRowUid);\n\n            currentRow.nextAll(ITEMROW).slice(0, rows.length - 1).each((i, item) => {\n                uids.push($(item).data(\"uid\"));\n            });\n\n            that._executePaste(rows, uids, null, currentField);\n        },\n\n        _pasteInsertHandler: function(plain) {\n            var that = this,\n                dataSource = that.dataSource,\n                rows,\n                current,\n                currentRow,\n                dataItemIndex,\n                dataItem;\n\n            current = that.select().first();\n\n            if (!current.length) {\n                return;\n            }\n\n            if (current.is(TR)) {\n                current = current.children(TD).first();\n            }\n\n            rows = plain.split(\"\\n\").filter(f => f);\n            currentRow = current.closest(\"tr\");\n            dataItem = that.dataItem(currentRow);\n            dataItemIndex = dataSource.indexOf(dataItem) + 1;\n\n            that._executePaste(rows, null, dataItemIndex, null);\n        },\n\n        _executePaste: function(rows, uids, index, currentField) {\n            var that = this,\n                dataSource = that.dataSource,\n                update = uids || false,\n                dataItem,\n                row,\n                cells,\n                cell,\n                column,\n                field,\n                selectedUids = that._getSelectedRowUids(),\n                selectedColumnFields = that._getSelectedColumnFields(),\n                changedItems = [],\n                visibleColumns = visibleLeafColumns(that.columns).filter(col => !col.selectable && !col.draggable & !col.command),\n                startingIndex = currentField && visibleColumns.map(c => c.field).indexOf(currentField);\n\n            // If only one value is copied and multiple cells are selected, replace all values in all selected cells with the copied value.\n            if (rows.length === 1 && rows[0].split(\"\\t\").length === 1 && update) {\n                for (let j = 0; j < selectedUids.length; j++) {\n                    const uid = selectedUids[j];\n                    dataItem = dataSource.getByUid(uid);\n                    cell = rows[0].split(\"\\t\")[0];\n\n                    for (let j = 0; j < selectedColumnFields.length; j++) {\n                        field = selectedColumnFields[j];\n                        if (dataItem && cell) {\n                            dataItem.set(field, cell);\n                        }\n                    }\n\n                    if (dataItem && dataItem.dirty) {\n                        changedItems.push(dataItem);\n                    }\n                }\n            } else {\n                // If more than one value is copied, proceed with the standard replace.\n                for (let i = 0; i < rows.length; i++) {\n                    row = rows[i];\n                    cells = row.split(\"\\t\");\n                    dataItem = update ? dataSource.getByUid(uids[i]) : dataSource.insert(index + i, {});\n\n                    for (let j = 0; j < cells.length; j++) {\n                        cell = cells[j].replace(/\\r/, \"\");\n                        column = visibleColumns[j + startingIndex || 0];\n\n                        if (column && dataItem && cell) {\n                            field = column.field;\n                            dataItem.set(field, cell);\n                        }\n                    }\n\n                    if (dataItem && dataItem.dirty) {\n                        changedItems.push(dataItem);\n                    }\n                }\n            }\n            that.trigger(PASTE, { items: changedItems, type: update ? \"replace\" : \"insert\" });\n        },\n\n        _pasteKeyboardHandler: function(e) {\n            var that = this,\n                current = that.current(),\n                clipBoardData = e.originalEvent.clipboardData,\n                operation = (that.pasteActionsDropDownList && that.pasteActionsDropDownList.value()) || \"insert\",\n                rowUid,\n                cellIndex,\n                plain;\n\n            if ($(e.target).is(\".k-grid-stack-edit-cell input:visible,.k-edit-cell input:visible\")) {\n                return;\n            }\n\n            if (clipBoardData) {\n                e.preventDefault();\n                plain = clipBoardData.getData(\"text\").trimEnd();\n\n                // If the copied value consists only of white spaces or new lines, reduce it to a single white space.\n                if (isEmptyString(plain)) {\n                    plain = \" \";\n                }\n\n                if (current && current.length) {\n                    cellIndex = current.index();\n                    rowUid = current.closest(TR).data(\"uid\");\n                }\n\n                if (operation === \"replace\") {\n                    that._pasteReplaceHandler(plain);\n                }\n\n                if (operation === \"insert\") {\n                    that._pasteInsertHandler(plain);\n                }\n\n                // Restore the focus to the last focused cell.\n                if (cellIndex && rowUid) {\n                    that._currentRowIndex = that.wrapper.find(TR + \"[data-uid='\" + rowUid + \"']\").index();\n                    that._restoreCurrent(cellIndex);\n                }\n            }\n        },\n\n        _paste: function() {\n            var that = this,\n                options = that.options,\n                selectable = options.selectable,\n                allowPaste = options.allowPaste;\n\n            if (allowPaste && selectable) {\n                that.pasteHandler = that._pasteKeyboardHandler.bind(that);\n                const container = that.content || that.table;\n                container.on(PASTE + NS, that.pasteHandler);\n\n                if (that.options.toolbar) {\n                    that._pasteToolbarDropDown();\n                }\n            }\n        },\n\n        _clipboard: function() {\n            var options = this.options;\n            var selectable = options.selectable;\n\n            if (selectable && options.allowCopy) {\n                var grid = this;\n                if (!options.navigatable) {\n                    grid.table.attr(TABINDEX, 0);\n\n                    grid.table.add(grid.lockedTable)\n                        .on(MOUSEDOWN + NS + \" keydown\" + NS, \".k-detail-cell\", function(e) {\n                            if (e.target !== e.currentTarget) {\n                                e.stopImmediatePropagation();\n                            }\n                        })\n                        .on(MOUSEDOWN + NS, NAVROW + \">\" + NAVCELL, tableClick.bind(grid));\n                }\n                grid.copyHandler = grid.copySelection.bind(grid);\n                grid.updateClipBoardState = function() {\n                    if (grid.areaClipBoard) {\n                        grid.areaClipBoard.val(grid.getTSV()).trigger(\"focus\").select();\n                    }\n                };\n                const container = grid.content || grid.table;\n                grid.bind(\"change\", grid.updateClipBoardState);\n                container.on(\"keydown\", grid.copyHandler);\n                grid.clearAreaHandler = grid.clearArea.bind(grid);\n                container.on(\"keyup\", grid.clearAreaHandler);\n            }\n        },\n\n        copySelectionToClipboard: function(includeHeaders) {\n            this._createAreaClipBoard();\n            this.areaClipBoard.val(this.getTSV(includeHeaders)).trigger(\"focus\").select();\n            document.execCommand('copy');\n        },\n\n        copySelection: function(e) {\n            if ((e instanceof jQuery.Event && !(e.ctrlKey || e.metaKey)) ||\n                !(e.keyCode === 67 && (e.ctrlKey || e.metaKey)) ||\n                $(e.target).is(\"input:visible,textarea:visible\") ||\n                (window.getSelection && window.getSelection().toString()) ||\n                (document.selection && document.selection.createRange().text)) {\n                return;\n            }\n\n            this._createAreaClipBoard();\n            this.areaClipBoard.val(this.getTSV()).trigger(\"focus\").select();\n        },\n\n        _createAreaClipBoard: function() {\n            if (!this.areaClipBoard) {\n                this.areaClipBoard =\n                    $(\"<textarea />\")\n                        .css({\n                            position: \"fixed\",\n                            top: \"50%\",\n                            left: \"50%\",\n                            opacity: 0,\n                            width: 0,\n                            height: 0\n                        })\n                        .appendTo(this.wrapper);\n            }\n        },\n\n        getTSV: function(includeHeaders) {\n            var grid = this;\n            var selected = grid.select();\n            var delimeter = \"\\t\";\n            var allowCopy = grid.options.allowCopy;\n            var onlyVisible = true;\n            var hasLockedCols = grid._isLocked() && lockedColumns(grid.columns).length;\n\n            if ($.isPlainObject(allowCopy) && allowCopy.delimeter) {\n                delimeter = allowCopy.delimeter;\n            }\n            var text = \"\";\n            if (selected.length) {\n                if (selected.eq(0).is(TR)) {\n                    selected = selected.find(\"td:not(.k-group-cell)\");\n                }\n                if (onlyVisible) {\n                    selected.filter(\":visible\");\n                }\n\n                var result = [];\n                var cellsOffset = this.columns.length;\n                var lockedCols = grid._isLocked() && lockedColumns(grid.columns).length;\n                var inLockedArea = true;\n                var fields = [];\n                var field;\n                var columns = visibleLeafColumns(this.columns);\n\n                $.each(selected, function(idx, cell) {\n                    cell = $(cell);\n                    field = grid._getCellField(cell, hasLockedCols);\n\n                    if (columns.findIndex(c => c.field === field) === -1) {\n                        return;\n                    }\n\n                    var tr = cell.closest(TR);\n                    var rowIndex = tr.index();\n                    var cellIndex = cell.index();\n                    if (onlyVisible) {\n                        cellIndex -= cell.prevAll(\":hidden\").length;\n                    }\n                    if (lockedCols && inLockedArea) {\n                        inLockedArea = $.contains(grid.lockedTable[0], cell[0]);\n                    }\n                    if (grid._groups() && inLockedArea) {\n                        cellIndex -= grid._groups();\n                    }\n                    cellIndex = inLockedArea ? cellIndex : (cellIndex + lockedCols);\n                    if (field) {\n                        fields[cellIndex] = field;\n                    }\n                    if (cellsOffset > cellIndex) {\n                        cellsOffset = cellIndex;\n                    }\n                    var cellText = cell.text();\n                    if (!result[rowIndex]) {\n                        result[rowIndex] = [];\n                    }\n                    result[rowIndex][cellIndex] = cellText;\n                });\n\n                var rowsOffset = result.length;\n                result = $.each(result, function(idx, val) {\n                    if (val) {\n                        result[idx] = val.slice(cellsOffset);\n                        if (rowsOffset > idx) {\n                            rowsOffset = idx;\n                        }\n                    }\n                });\n\n                if (includeHeaders && fields.length) {\n                    result.splice(rowsOffset, 0, fields.map(function(field) {\n                        return getTitle(field, columns);\n                    }));\n\n                    var headerIndex = result.findIndex(function(el) {\n                        return el !== undefined;\n                    });\n\n                    result[headerIndex] = result[headerIndex].slice(cellsOffset);\n                }\n\n                $.each(result.slice(rowsOffset), function(idx, val) {\n                    if (val) {\n                        text += val.join(delimeter) + \"\\r\\n\";\n                    } else {\n                        text += \"\\r\\n\";\n                    }\n                });\n            }\n            return text;\n        },\n\n        clearArea: function(e) {\n            if (this.areaClipBoard && e && e.target === this.areaClipBoard[0]) {\n                focusTable(this.table, true);\n            }\n\n            if (this.areaClipBoard) {\n                this.areaClipBoard.remove();\n                this.areaClipBoard = null;\n            }\n        },\n\n        _adaptiveColumns: function() {\n            var that = this;\n\n            if (that._anyColumnHasMediaQuery()) {\n                that._setColumnsMediaVisibility(that.columns);\n                that._attachColumnMediaResizeHandler();\n            }\n        },\n\n        _anyColumnHasMediaQuery: function() {\n            return this._columnsWithMediaQuery().length;\n        },\n\n        _columnsWithMediaQuery: function() {\n            return columnsWithMedia(this.columns);\n        },\n\n        _attachColumnMediaResizeHandler: function() {\n            var that = this;\n\n            that._detachColumnMediaResizeHandler();\n            that._columnMediaResizeHandler = that._onColumnMediaResize.bind(that);\n            $(window).on(RESIZE + NS, that._columnMediaResizeHandler);\n        },\n\n        _detachColumnMediaResizeHandler: function() {\n            var that = this;\n\n            if (that._columnMediaResizeHandler) {\n                $(window).off(RESIZE + NS, that._columnMediaResizeHandler);\n            }\n        },\n\n        _onColumnMediaResize: function() {\n            var that = this;\n            that._setColumnsMediaVisibility(that.columns);\n            that._setContentMediaWidth();\n        },\n\n        _setColumnsMediaVisibility: function(columns) {\n            var cols = columns || [];\n\n            for (var i = 0; i < cols.length; i++) {\n                this._setColumnMediaVisibility(cols[i]);\n            }\n        },\n\n        _setColumnMediaVisibility: function(column) {\n            var that = this;\n\n            if (isUndefined(column.media)) {\n                that._setColumnsMediaVisibility(column.columns);\n            } else {\n                if (columnMatchesMedia(column)) {\n                    that._showColumnByMedia(column);\n\n                    if (!column.hidden) {\n                        that._setColumnsMediaVisibility(column.columns);\n                    }\n                } else {\n                    that._hideColumnByMedia(column);\n                }\n            }\n        },\n\n        _showColumnByMedia: function(column) {\n            if (!column.hidden) {\n                // \"hidden\" has a priority over \"matchesMedia\"\n                this.showColumn(column);\n            }\n\n            setColumnMatchesMedia(column);\n        },\n\n        _hideColumnByMedia: function(column) {\n            var initiallyHidden = column.hidden;\n\n            if (!initiallyHidden) {\n                column._hideByMedia = true;\n                this.hideColumn(column);\n                column._hideByMedia = false;\n\n                // hiding is tracked in \"matchesMedia\" instead of \"hidden\" flag\n                column.hidden = initiallyHidden;\n            }\n\n            setColumnMatchesMedia(column);\n        },\n\n        _setContentMediaWidth: function() {\n            var that = this;\n            var options = that.options;\n            var isLocked = that._isLocked();\n            var footer;\n\n            if (options.scrollable && (options.resizable === true || (options.resizable && options.resizable.columns === true))) {\n                if (isLocked && that.lockedFooter) {\n                    footer = that.lockedFooter.children(\"table\");\n                } else if (that.footer) {\n                    footer = that.footer.find(\">.k-grid-footer-wrap>table\");\n                }\n\n                if (!footer || !footer[0]) {\n                    footer = $();\n                }\n\n                var header = isLocked ? that.wrapper.find(\".k-grid-header-locked\").find(\"table\") : that.wrapper.find(\".k-grid-header\").find(\"table\");\n                var contentTable = isLocked ? that.lockedTable : that.table;\n\n                var headerColumns = header.find(\"th\");\n                var headerColgroup = header.find(\"colgroup\");\n\n                var headerColumnsCount = headerColumns.length;\n                var visibleHeaderColumnsCount = headerColumns.filter(isCellVisible).length;\n                var hiddenHeaderColumnsCount = headerColumns.length - visibleHeaderColumnsCount;\n\n                var totalHeaderWidth = 0;\n\n                if (header[0].style.width !== \"\" && parseFloat(header[0].style.width) !== totalHeaderWidth) {\n                    var currentHeaderWidth = header.css(WIDTH);\n\n                    for (var i = 0; i < headerColumnsCount; i++) {\n                        if (isElementVisible(headerColumns[i])) {\n                            var columnWidth;\n                            var cellIndex = Math.max(i, (i - hiddenHeaderColumnsCount));\n                            var colgroupChild = headerColgroup.children()[cellIndex];\n                            var columnStyleWidth = colgroupChild ? colgroupChild.style.width : \"\";\n\n                            if (columnStyleWidth !== \"\") {\n                                columnWidth = parseFloat(columnStyleWidth);\n                            } else {\n                                // remove the header width to calculate the height of a column without fixed width\n                                header.css(WIDTH, AUTO);\n                                columnWidth = outerWidth(headerColumns.eq(i));\n                                header.css(WIDTH, currentHeaderWidth);\n                            }\n\n                            totalHeaderWidth += columnWidth;\n                        }\n                    }\n\n                    contentTable.css('width', totalHeaderWidth - 1); // subtract 1 to remove the horizontal scroll\n                    header.css('width', totalHeaderWidth);\n                    footer.css('width', totalHeaderWidth);\n                    that._updateStickyColumns();\n                }\n            }\n        },\n\n        _minScreenSupport: function() {\n            var any = this.hideMinScreenCols();\n\n            if (any) {\n                this.minScreenResizeHandler = this.hideMinScreenCols.bind(this);\n                $(window).on(\"resize\", this.minScreenResizeHandler);\n            }\n        },\n\n        hideMinScreenCols: function() {\n            var cols = this.columns,\n                screenWidth = (window.innerWidth > 0) ? window.innerWidth : screen.width;\n\n            return this._iterateMinScreenCols(cols, screenWidth);\n        },\n\n        _iterateMinScreenCols: function(cols, screenWidth) {\n            var any = false;\n\n            for (var i = 0; i < cols.length; i++) {\n                var col = cols[i];\n                var minWidth = col.minScreenWidth;\n                if (minWidth !== undefined && minWidth !== null) {\n                    any = true;\n                    if (minWidth > screenWidth) {\n                        this.hideColumn(col);\n                    } else {\n                        this.showColumn(col);\n                    }\n                }\n                if (!col.hidden && col.columns) {\n                    any = this._iterateMinScreenCols(col.columns, screenWidth) || any;\n                }\n            }\n            return any;\n        },\n\n        _stickyColumns: function() {\n            var that = this;\n\n            if (that._anyStickyColumns()) {\n                that._setStickyColumns(false);\n            }\n        },\n\n        _updateStickyColumns: function() {\n            var that = this;\n            var groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function(column) { return column.groupHeaderColumnTemplate; });\n\n            if (that._anyStickyColumns()) {\n                that._setStickyColumns(true);\n                that._templates();\n\n                if (groupHeaderColumnTemplateColumns.length > 0) {\n                    that._renderGroupRows();\n                }\n\n                if (that._hasFilterRow()) {\n                    that._updateStickyFilterCells();\n                }\n            }\n        },\n\n        _updateStickyFilterCells: function() {\n            var that = this;\n            var filterCells = that.thead.find(\".k-filter-row\").find(\"td:not(.k-group-cell,.k-hierarchy-cell)\");\n            if (filterCells.length) {\n                filterCells.each(function() {\n                    var th = $(this);\n                    var column = th.data(\"column\");\n\n                    if (column.sticky) {\n                        if (isPlainObject(column.stickyStyle)) {\n                            th.css({\n                                left: column.stickyStyle.left || \"\",\n                                right: column.stickyStyle.right || \"\"\n                            });\n                        }\n\n                        th.addClass(STICKY_HEADER_CLASS);\n                    } else {\n                        th.css({\n                            left: \"\",\n                            right: \"\"\n                        });\n\n                        th.removeClass(STICKY_HEADER_CLASS);\n                    }\n                });\n            }\n        },\n\n        _anyStickyColumns: function() {\n            var that = this;\n\n            if (!that.tbody) {\n                return false;\n            }\n\n            return !that._isStackedMode() && stickyColumns(that.columns).length;\n        },\n\n        _setStickyColumns: function(updateStyles) {\n            var that = this;\n            var columns = stickyColumns(that.columns);\n            var visibleColumns = visibleStickyColumns(that.columns);\n            var stickyWidths = that._calculateStickyWidths(visibleColumns);\n\n            that._removeStickyAttributes(columns);\n            that._setStickyClassAttributes(columns);\n            that._setStickyStyleAttributes(visibleColumns, stickyWidths, updateStyles);\n\n            if (updateStyles) {\n                that._setStickyStyles(visibleColumns, stickyWidths);\n            }\n        },\n\n        _calculateStickyWidths: function(columns, initialLeftWidth, initialRightWidth) {\n            var that = this;\n            var i;\n            var column;\n            var columnWidth;\n            var nextColumnLeft;\n            var nextColumnRight;\n            var left = isRtl ? \"right\" : \"left\";\n            var right = isRtl ? \"left\" : \"right\";\n            var stickyWidths = {\n                left: new Array(columns.length).fill(initialLeftWidth ? initialLeftWidth : 0),\n                right: new Array(columns.length).fill(initialRightWidth ? initialRightWidth : 0)\n            };\n\n            for (i = 0; i < columns.length - 1; i++) {\n                column = columns[i];\n                columnWidth = that._sumColumnWidth(column);\n                nextColumnLeft = columnWidth + stickyWidths[left][i];\n\n                stickyWidths[left][i + 1] = nextColumnLeft;\n            }\n\n            for (i = columns.length - 1; i > 0; i--) {\n                column = columns[i];\n                columnWidth = that._sumColumnWidth(column);\n                nextColumnRight = columnWidth + stickyWidths[right][i];\n\n                stickyWidths[right][i - 1] = nextColumnRight;\n            }\n\n            return stickyWidths;\n        },\n\n        _setStickyClassAttributes: function(columns, masterIndex) {\n            var that = this;\n            var i;\n            var column;\n\n            for (i = 0; i < columns.length; i++) {\n                column = columns[i];\n\n                if (column.columns) {\n                    if (!masterIndex && i) {\n                        masterIndex = i;\n                    }\n\n                    that._setStickyClassAttributes(childColumns([column]), masterIndex);\n                }\n\n                if (masterIndex) {\n                    addColumnAttribute(column, \"headerAttributes\", \"class\", STICKY_HEADER_NO_BORDER_CLASS);\n                }\n                addColumnAttribute(column, \"attributes\", \"class\", STICKY_CELL_CLASS);\n                addColumnAttribute(column, \"headerAttributes\", \"class\", STICKY_HEADER_CLASS);\n                addColumnAttribute(column, \"footerAttributes\", \"class\", STICKY_FOOTER_CLASS);\n            }\n        },\n\n        _setStickyStyleAttributes: function(columns, stickyWidths, updateStyles) {\n            var that = this;\n            var i;\n            var column;\n            var stickyLeft;\n            var stickyRight;\n            var stickyStyle;\n            var childCols;\n            var childStickyWidths;\n\n            for (i = 0; i < columns.length; i++) {\n                column = columns[i];\n                stickyLeft = stickyWidths.left[i];\n                stickyRight = stickyWidths.right[i];\n                stickyStyle = { left: stickyLeft + \"px\", right: stickyRight + \"px\" };\n\n                if (column.columns) {\n                    childCols = visibleChildColumns([column]);\n                    childStickyWidths = that._calculateStickyWidths(childCols, stickyLeft, stickyRight);\n\n                    that._setStickyStyleAttributes(childCols, childStickyWidths, updateStyles);\n\n                    if (updateStyles) {\n                        that._setStickyStyles(childCols, childStickyWidths);\n                    }\n                }\n\n                addColumnAttribute(column, \"attributes\", kendo.attr(\"style-left\"), stickyStyle.left);\n                addColumnAttribute(column, \"attributes\", kendo.attr(\"style-right\"), stickyStyle.right);\n                addColumnAttribute(column, \"headerAttributes\", kendo.attr(\"style-left\"), stickyStyle.left);\n                addColumnAttribute(column, \"headerAttributes\", kendo.attr(\"style-right\"), stickyStyle.right);\n                addColumnAttribute(column, \"footerAttributes\", kendo.attr(\"style-left\"), stickyStyle.left);\n                addColumnAttribute(column, \"footerAttributes\", kendo.attr(\"style-right\"), stickyStyle.right);\n\n                column.stickyStyle = stickyStyle;\n            }\n        },\n\n        _removeStickyAttributes: function(columns) {\n            var that = this;\n            var i;\n            var cellClassRegExp = new RegExp(\"(\\\\s*\" + STICKY_CELL_CLASS + \")*\", \"ig\");\n            var headerClassRegExp = new RegExp(\"(\\\\s*\" + STICKY_HEADER_CLASS + \")*\", \"ig\");\n            var footerClassRegExp = new RegExp(\"(\\\\s*\" + STICKY_FOOTER_CLASS + \")*\", \"ig\");\n            var headerClassNoBorderRegExp = new RegExp(\"(\\\\s*\" + STICKY_HEADER_NO_BORDER_CLASS + \")*\", \"ig\");\n            var column;\n\n            for (i = 0; i < columns.length; i++) {\n                column = columns[i];\n\n                if (column.columns) {\n                    that._removeStickyAttributes(childColumns([column]));\n                }\n\n                removeColumnAttribute(column, \"attributes\", \"class\", cellClassRegExp);\n                removeColumnAttribute(column, \"attributes\", kendo.attr(\"style-left\"), '', true);\n                removeColumnAttribute(column, \"attributes\", kendo.attr(\"style-right\"), '', true);\n\n                removeColumnAttribute(column, \"headerAttributes\", \"class\", headerClassRegExp);\n                removeColumnAttribute(column, \"headerAttributes\", \"class\", headerClassNoBorderRegExp);\n                removeColumnAttribute(column, \"headerAttributes\", kendo.attr(\"style-left\"), '', true);\n                removeColumnAttribute(column, \"headerAttributes\", kendo.attr(\"style-right\"), '', true);\n\n                removeColumnAttribute(column, \"footerAttributes\", \"class\", footerClassRegExp);\n                removeColumnAttribute(column, \"footerAttributes\", kendo.attr(\"style-left\"), '', true);\n                removeColumnAttribute(column, \"footerAttributes\", kendo.attr(\"style-right\"), '', true);\n            }\n        },\n\n        _setStickyStyles: function(columns, stickyWidths) {\n            var that = this;\n            var i;\n            var j;\n            var leafsCols = leafColumns(nonLockedColumns(that.columns));\n\n            var rows = that.tbody.children(\":not(.k-detail-row)\");\n            var row;\n            var column;\n            var columnIndex;\n            var left;\n            var right;\n            var header;\n            var footer;\n            var groupHeader;\n            var cell;\n\n            for (i = 0; i < columns.length; i++) {\n                column = columns[i];\n                left = stickyWidths.left[i];\n                right = stickyWidths.right[i];\n                columnIndex = leafsCols.indexOf(column);\n                header = that._getColumnHeader(column);\n\n                header.addClass(STICKY_HEADER_CLASS);\n                if (column.headerAttributes[\"class\"] && column.headerAttributes[\"class\"].indexOf(STICKY_HEADER_NO_BORDER_CLASS) !== -1) {\n                    header.addClass(STICKY_HEADER_NO_BORDER_CLASS);\n                }\n                setLeftAndRightStyles(header, left, right);\n\n                if (column.columns) {\n                    continue;\n                }\n\n                if (that.footer) {\n                    footer = that.footer.find(\".k-grid-footer-wrap tr.k-footer-template\").children().filter(\":not(.k-group-cell,.k-hierarchy-cell)\").eq(columnIndex);\n\n                    footer.addClass(STICKY_FOOTER_CLASS);\n                    setLeftAndRightStyles(footer, left, right);\n                }\n\n                for (j = 0; j < rows.length; j++) {\n                    row = $(rows[j]);\n\n                    if (row.hasClass(GROUPING_ROW)) {\n                        groupHeader = row.find(\".\" + column.groupHeaderColumnTemplateClass);\n\n                        groupHeader.addClass(STICKY_CELL_CLASS);\n                        setLeftAndRightStyles(groupHeader, left, right);\n                    } else {\n                        cell = row.children().filter(\":not(.k-group-cell,.k-hierarchy-cell)\").eq(columnIndex);\n\n                        cell.addClass(STICKY_CELL_CLASS);\n                        setLeftAndRightStyles(cell, left, right);\n                    }\n                }\n            }\n        },\n\n        _removeStickyStyles: function(columns) {\n            var that = this;\n            var i;\n            var j;\n            var leafsCols = leafColumns(nonLockedColumns(that.columns));\n\n            var rows = that.tbody.children(\":not(.k-detail-row)\");\n            var row;\n            var column;\n            var columnIndex;\n            var header;\n            var footer;\n            var groupHeader;\n            var cell;\n\n            for (i = 0; i < columns.length; i++) {\n                column = columns[i];\n                columnIndex = leafsCols.indexOf(column);\n                header = that._getColumnHeader(column);\n\n                header.removeClass(STICKY_HEADER_CLASS);\n                header.removeClass(STICKY_HEADER_NO_BORDER_CLASS);\n                setLeftAndRightStyles(header, \"\", \"\");\n\n                if (column.columns) {\n                    that._removeStickyStyles(column.columns);\n                    continue;\n                }\n\n                if (column.footerTemplate && that.footer) {\n                    footer = that.footer.find(\".k-grid-footer-wrap tr.k-footer-template\").children().filter(\":not(.k-group-cell,.k-hierarchy-cell)\").eq(columnIndex);\n\n                    footer.removeClass(STICKY_FOOTER_CLASS);\n                    setLeftAndRightStyles(footer, \"\", \"\");\n                }\n\n                for (j = 0; j < rows.length; j++) {\n                    row = $(rows[j]);\n\n                    if (row.hasClass(GROUPING_ROW)) {\n                        groupHeader = row.find(\".\" + column.groupHeaderColumnTemplateClass);\n\n                        groupHeader.removeClass(STICKY_CELL_CLASS);\n                        setLeftAndRightStyles(groupHeader, \"\", \"\");\n                    } else {\n                        cell = row.children().filter(\":not(.k-group-cell,.k-hierarchy-cell)\").eq(columnIndex);\n\n                        cell.removeClass(STICKY_CELL_CLASS);\n                        setLeftAndRightStyles(cell, \"\", \"\");\n                    }\n                }\n            }\n        },\n\n        _getColumnHeader: function(column) {\n            var that = this;\n            var header = $(\"#\" + column.headerAttributes.id).length ? $(\"#\" + column.headerAttributes.id) : $(\"#\" + that._cellId);\n\n            return header;\n        },\n\n        _sumColumnWidth: function(column) {\n            var that = this;\n            var width = 0;\n\n            if (column.columns) {\n                width = that._sumCurrentWidths(leafColumns([column]));\n            } else {\n                width = that._sumCurrentWidths([column]);\n            }\n\n            return width;\n        },\n\n        _sumCurrentWidths: function(cols) {\n            var that = this;\n            var width = 0;\n            var colWidth = 0;\n            var col;\n            var header;\n            var i;\n            var length = cols.length;\n\n            for (i = 0; i < length; i++) {\n                col = cols[i];\n                header = that._getColumnHeader(col);\n\n                if (!col.hidden && columnMatchesMedia(col)) {\n                    colWidth = header.is(\":visible\") ? header.outerWidth() : col.width;\n\n                    width += colWidth ? parseInt(colWidth, 10) : 0;\n                }\n            }\n\n            return width;\n        },\n\n        _belongsToGrid: function(element) {\n            return this.wrapper[0] === element.closest(WRAPPER)[0];\n        },\n\n        getSelectedData: function() {\n            const that = this;\n            const selectable = that.selectable;\n            const checkboxSelection = that._checkBoxSelection;\n            const visibleColumns = visibleLeafColumns(that.columns);\n            let result = [];\n            if (selectable) {\n                const selectedRanges = that.selectable?.selectedRanges();\n                const selectedRangeNames = Object.keys(selectedRanges);\n                const selectedSingleItems = that.selectable?.selectedSingleItems();\n\n                for (var idx = 0; idx < selectedRangeNames.length; idx++) {\n                    result = result.concat(that._mapSelectionToData(selectedRanges[selectedRangeNames[idx]], visibleColumns, null, true));\n                }\n\n                if (selectedSingleItems.length) {\n                    result = result.concat(that._mapSelectionToData(selectedSingleItems, visibleColumns, null, true));\n                }\n\n                return result;\n            }\n\n            if (checkboxSelection) {\n                const selectedRows = that.tbody.find(\"tr.k-selected\").toArray().map(function(elem) {\n                    return $(elem);\n                });\n                if (selectedRows.length) {\n                    result = that._mapSelectionToData(selectedRows, visibleColumns, null, true);\n                }\n            }\n\n            return result;\n        },\n\n        getSelectedDataByKeys: function() {\n            var that = this,\n                dataSource = that.dataSource,\n                keys = that.selectedKeyNames(),\n                visibleColumns = visibleLeafColumns(that.columns),\n                key,\n                dataItem,\n                result = {};\n\n            var columnMapHandler = function(col) {\n                var result = {};\n\n                if (!col.field) {\n                    return;\n                }\n\n                result[col.field] = dataItem[col.field];\n                return result;\n            };\n\n            for (let i = 0; i < keys.length; i++) {\n                key = keys[i];\n                dataItem = dataSource.get(key);\n\n                if (dataItem) {\n                    result[dataItem.uid] = $.extend.apply({}, visibleColumns.map(columnMapHandler));\n                }\n            }\n\n            return Object.keys(result).map(function(id) {\n                return result[id];\n            });\n        },\n\n        exportSelectedToExcel: function(includeHeaders) {\n            if (!kendo.excel || !kendo.ooxml) {\n                throw new Error(\"The excel export functionality depends on both kendo.excel.js and kendo.ooxml.js scripts, please make sure they are included.\");\n            }\n\n            var that = this;\n            var excel = this.options.excel || {};\n            var visibleColumns = visibleLeafColumns(that.columns);\n            var exporter = new kendo.excel.ExcelExporter({});\n            var columnHandler = function() { return { autoWidth: true }; };\n            var book = {\n                sheets: [{\n                    columns: Array.apply(0, Array(visibleColumns.length)).map(columnHandler),\n                    rows: [],\n                    freezePane: {},\n                    filter: false\n                }]\n            };\n            var selectedRanges = that.selectable.selectedRanges();\n            var selectedRangeNames = Object.keys(selectedRanges);\n            var selectedSingleItems = that.selectable.selectedSingleItems();\n            var idx;\n            var exportData = [];\n            var hasLockedCols = that._isLocked() && lockedColumns(that.columns).length;\n            var sortHandler = exportDataSort.bind(that);\n\n\n            for (idx = 0; idx < selectedRangeNames.length; idx++) {\n                exportData = exportData.concat(that._mapSelectionToData(selectedRanges[selectedRangeNames[idx]], visibleColumns, isExcelExportableColumn));\n            }\n\n            if (exportData.length) {\n                that._addRangeSelectionRows(book, exporter, exportData, includeHeaders);\n\n            }\n            exportData = selectedSingleItems.length ? that._mapSelectionToData(selectedSingleItems, visibleColumns, isExcelExportableColumn) : [];\n\n            if (exportData.length) {\n                if (hasLockedCols) {\n                    exportData = exportData.sort(sortHandler);\n                }\n                that._addSingleSelectionRows(book, exporter, exportData, includeHeaders);\n            }\n\n            if (book.sheets[0].rows.length) {\n                var workbook = new kendo.ooxml.Workbook(book);\n\n                if (!workbook.options) {\n                    workbook.options = {};\n                }\n                workbook.options.skipCustomHeight = true;\n\n                workbook.toDataURLAsync().then(function(dataURI) {\n                    kendo.saveAs({\n                        dataURI: dataURI,\n                        fileName: book.fileName || excel.fileName,\n                        proxyURL: excel.proxyURL,\n                        forceProxy: excel.forceProxy\n                    });\n                });\n            }\n        },\n\n        _addSingleSelectionRows: function(book, exporter, data, includeHeaders) {\n            var idx = 0;\n            var visibleColumns = visibleLeafExportColumns(this.columns);\n            var item;\n            const exporterInstance = exporter._instance ?? exporter;\n            for (idx = 0; idx < data.length; idx++) {\n                item = data[idx];\n                exporter.data = [item];\n                this._setExporterColumns(exporterInstance, visibleColumns, item);\n                this._createExportRows(book, exporterInstance, includeHeaders);\n            }\n        },\n\n        _addRangeSelectionRows: function(book, exporter, data, includeHeaders) {\n            var visibleColumns = visibleLeafExportColumns(this.columns);\n            const exporterInstance = exporter._instance ?? exporter;\n            exporter.data = data;\n            this._setExporterColumns(exporterInstance, visibleColumns, data[0]);\n            this._createExportRows(book, exporterInstance, includeHeaders);\n        },\n\n        _createExportRows: function(book, exporter, includeHeaders) {\n            const exporterInstance = exporter._instance ?? exporter;\n            book.sheets[0].rows = book.sheets[0].rows.concat(includeHeaders ? exporterInstance._rows() : exporterInstance._dataRows(exporterInstance.data, 0));\n        },\n\n        _setExporterColumns: function(exporter, columns, item) {\n            const exporterInstance = exporter._instance ?? exporter;\n            exporterInstance.columns = exporterInstance.options.columns = $.map(columns.filter(function(col) {\n                return Object.keys(item).indexOf(col.field) >= 0;\n            }), exporterInstance._prepareColumn);\n        },\n\n        _mapSelectionToData: function(elements, visibleColumns, columnsFilter, ignoreOffset) {\n            var that = this;\n            var elementType = elements[0][0].nodeName;\n            var isRowSelection = elementType === 'TR';\n            var dataItem;\n            var result = {};\n            var element;\n            var curr;\n            var field;\n            var columnMapHandler = function(col) {\n                var result = {};\n\n                if (!col.field || (columnsFilter && !columnsFilter(col))) {\n                    return;\n                }\n\n                result[col.field] = dataItem[col.field];\n                return result;\n            };\n            var hasLockedCols = that._isLocked() && lockedColumns(that.columns).length;\n            var column;\n\n            for (var i = 0; i < elements.length; i++) {\n                element = elements[i];\n                dataItem = that.dataItem(isRowSelection ? element : element.closest(TR));\n\n                if (isRowSelection) {\n                    result[dataItem.uid] = $.extend.apply({}, visibleColumns.map(columnMapHandler));\n                } else {\n                    field = that._getCellField(element, hasLockedCols, ignoreOffset);\n\n                    if (!field) {\n                        continue;\n                    }\n\n                    curr = result[dataItem.uid];\n\n                    if (!curr) {\n                        curr = result[dataItem.uid] = {};\n                    }\n\n                    column = findColumnByField(visibleColumns, field);\n\n                    if (!column || (columnsFilter && !columnsFilter(column))) {\n                        continue;\n                    }\n\n                    curr[field] = dataItem[field];\n                }\n            }\n\n            return Object.keys(result).map(function(id) {\n                result[id].uid = id;\n                return result[id];\n            });\n        },\n\n        _getCellField: function(cell, hasLockedCols, ignoreOffset) {\n            const grid = this;\n            const inLockedArea = hasLockedCols && $.contains(grid.lockedTable[0], cell[0]);\n            const fieldAttr = kendo.attr('field');\n            const index = kendo.attr('index');\n            const lockedOffset = inLockedArea ? 0 : hasLockedCols;\n            let indexOffset = 0;\n\n            if (ignoreOffset) {\n                indexOffset = grid._trailingColumns();\n            }\n\n            if (grid._isStackedMode()) {\n                return grid.table.find(\"div.k-grid-stack-cell[\" + index + \"='\" + (cell.index() - indexOffset) + \"']\").attr(fieldAttr);\n            } else if (hasLockedCols) {\n                return grid.element.find(\".k-grid-header-\" + (inLockedArea ? \"locked\" : \"wrap\") + \" th[\" + index + \"='\" + (cell.index() + lockedOffset) + \"']\").attr(fieldAttr);\n            } else {\n                return grid.thead && grid.thead.find(\"th[\" + index + \"='\" + (cell.index() - indexOffset) + \"']\").attr(fieldAttr);\n            }\n        },\n\n        _relatedRow: function(row) {\n            var lockedTable = this.lockedTable;\n            row = $(row);\n\n            if (!lockedTable) {\n                return row;\n            }\n\n            var table = row.closest(this.table.add(this.lockedTable));\n            var index = table.find(\">tbody>tr\").index(row);\n\n            table = table[0] === this.table[0] ? lockedTable : this.table;\n\n            return table.find(\">tbody>tr\").eq(index);\n        },\n\n        _relatedCell: function(cell) {\n            var lockedTable = this.lockedTable;\n\n            cell = $(cell);\n\n            if (!lockedTable) {\n                return cell;\n            }\n\n            var table = cell.closest(this.table.add(this.lockedTable));\n            var index = table.find(\">tbody>tr>td\").index(cell);\n\n            table = table[0] === this.table[0] ? lockedTable : this.table;\n\n            return table.find(\">tbody>tr>td\").index(index);\n        },\n\n        clearSelection: function() {\n            var that = this;\n\n            if (that.selectable && !that._checkBoxSelection) {\n                that.selectable.clear();\n            }\n\n            if (that._hasAISelection) {\n                delete that._hasAISelection;\n            }\n\n            if (that._checkBoxSelection) {\n                that._deselectCheckRows(that.select());\n                return;\n            }\n\n            if (that.options.persistSelection) {\n                that._persistSelectedRows();\n            } else {\n                that._selectedIds = {};\n            }\n        },\n\n        clearHighlight: function() {\n            const that = this;\n            if (that._highlightDescriptors) {\n                delete that._highlightDescriptors;\n            }\n\n            if (that._highlightedItems && that._highlightedItems.length) {\n                that._highlightedItems.removeClass(HIGHLIGHTED);\n                delete that._highlightedItems;\n            }\n\n            if (that._hasAIHighlight) {\n                delete that._hasAIHighlight;\n            }\n        },\n\n        _getElementsToProcess: function(data) {\n            const that = this;\n            const columns = that.columns;\n            const lockedColumns = [];\n            const nonLockedCols = [];\n            const elements = [];\n            const rowSelector = (uid) => `tr[data-uid='${uid}']`;\n            const getColIndex = (cols, field) => cols.length && cols.findIndex((col) => col.field === field);\n\n            grep(columns, (col) => {\n                if (col.locked) {\n                    lockedColumns.push(col);\n                } else {\n                    nonLockedCols.push(col);\n                }\n            });\n\n            Object.entries(data).forEach(([key, value]) => {\n                if (!key) {\n                    return;\n                }\n\n                const item = that.dataSource.get(key);\n\n                if (!item) {\n                    return;\n                }\n\n                let row = that.tbody.find(rowSelector(item.uid));\n\n                if (value === true) {\n                    elements.push(row);\n                } else if (typeof value === 'object') {\n                    Object.keys(value).forEach((field) => {\n                        if (!field && !value[field]) {\n                            return;\n                        }\n\n                        let isLockedCell = false;\n                        let columnIndex = getColIndex(nonLockedCols, field);\n\n                        if (columnIndex === -1) {\n                            columnIndex = getColIndex(lockedColumns, field);\n                            isLockedCell = true;\n                        }\n\n                        if (isLockedCell) {\n                            row = that._relatedRow(row);\n                        }\n\n                        const td = row.find(`td:eq(${columnIndex})`);\n\n                        if (td.length) {\n                            elements.push(td);\n                            row = that.tbody.find(rowSelector(item.uid));\n                        }\n                    });\n                }\n            });\n\n            return elements;\n        },\n\n        _getElementsToHighlight: function(data) {\n            return this._getElementsToProcess(data);\n        },\n\n        _getElementsToSelect: function(data) {\n            return this._getElementsToProcess(data);\n        },\n\n        _restoreHighlight: function() {\n            const that = this;\n            const highlightDescriptors = that._highlightDescriptors;\n\n            if (!highlightDescriptors || !Object.keys(highlightDescriptors).length) {\n                return;\n            }\n\n            that.highlight(highlightDescriptors);\n        },\n\n        _persistHighlight: function(element) {\n            const that = this;\n            const highlightDescriptor = {};\n            const isRow = element.is(\"tr\");\n            const idField = that.options.dataSource?.schema?.model?.id || \"id\";\n\n            let row = isRow ? element : element.closest(\"tr\");\n\n\n            const uid = row.data(\"uid\");\n\n            const item = that.dataSource.getByUid(uid);\n\n            if (!item) {\n                return;\n            }\n\n            const key = item[idField];\n\n            if (isRow) {\n                highlightDescriptor[key] = true;\n            } else {\n                const field = that._getCellField(element, that._isLocked(), true);\n                if (!field) {\n                    return;\n                }\n                highlightDescriptor[key] = field;\n            }\n\n            if (that._highlightDescriptors) {\n                that._highlightDescriptors = that._mergeHighlightDescriptor(that._highlightDescriptors, highlightDescriptor);\n            } else {\n                that._highlightDescriptors = highlightDescriptor;\n            }\n        },\n\n        _mergeHighlightDescriptor: function(existingDescriptors, newDescriptor) {\n            const merged = {};\n            let key, existingValue, newValue;\n\n            for (key in existingDescriptors) {\n                merged[key] = existingDescriptors[key];\n            }\n\n            for (key in newDescriptor) {\n                existingValue = merged[key];\n                newValue = newDescriptor[key];\n\n                if (existingValue === undefined) {\n                    merged[key] = newValue;\n                } else if (newValue === true) {\n                    merged[key] = true;\n                } else if (typeof newValue === \"object\" && newValue !== null && typeof existingValue === \"object\" && existingValue !== null) {\n                    merged[key] = extend({}, existingValue, newValue);\n                } else {\n                    merged[key] = existingValue;\n                }\n            }\n\n            return merged;\n        },\n\n        highlight: function(data) {\n            const that = this;\n            const lockedContainer = that.lockedTable;\n            const isEmptyArray = Array.isArray(data) && !data.length;\n\n            if (!data && !isEmptyArray) {\n                return that._highlightedItems || $();\n            }\n\n            if (isEmptyArray) {\n                that.clearHighlight();\n                return;\n            }\n\n            const isObject = typeof data === \"object\" && !Array.isArray(data);\n\n            const keys = isObject ? Object.keys(data) : [];\n            const isHighlightDescriptor = keys.length && that.dataSource.get(keys[0]);\n\n            let itemsToHighlight;\n\n            if (isHighlightDescriptor) {\n                that._highlightDescriptors = that._mergeHighlightDescriptor(that._highlightDescriptors || {}, data);\n                itemsToHighlight = that._getElementsToHighlight(data);\n            } else {\n                itemsToHighlight = Array.isArray(data) ? data : [data];\n            }\n\n            const highlightRelatedRow = (item) => {\n                const targetIsRow = item.is(\"tr\");\n                let relatedItem;\n\n                if (!item) {\n                    return;\n                }\n\n                if (targetIsRow && lockedContainer?.length) {\n                    relatedItem = that._relatedRow(item);\n                    item = item.add(relatedItem);\n                }\n\n                return item;\n            };\n\n            itemsToHighlight.forEach(function(item) {\n                const target = highlightRelatedRow($(item));\n\n                if (target && !isHighlightDescriptor) {\n                    that._persistHighlight(target);\n                }\n\n                if (target?.length) {\n                     if (that._highlightedItems && that._highlightedItems.index(target) !== -1) {\n                        return;\n                    }\n\n                    target.addClass(HIGHLIGHTED);\n                    if (that._highlightedItems) {\n                        that._highlightedItems = that._highlightedItems.add(target);\n                    } else {\n                        that._highlightedItems = target;\n                    }\n                }\n            });\n        },\n\n        select: function(items) {\n            var that = this,\n                selectable = that.selectable,\n                selectableoptions = kendo.ui.Selectable.parseOptions(this.options.selectable),\n                cell = selectableoptions.cell;\n\n            items = that.table.add(that.lockedTable).find(items);\n            if (items.length) {\n                if (selectable && !selectable.options.multiple) {\n                    selectable.clear();\n                    items = items.first();\n                }\n\n                if (that._isLocked()) {\n                    items = items.add(items.map(function() {\n                        if (cell) {\n                            return that._relatedCell(this);\n                        }\n                        else {\n                            return that._relatedRow(this);\n                        }\n                    }));\n                }\n\n                if (selectable && !that._checkBoxSelection) {\n                    selectable.value(items);\n                } else {\n                    that._checkRows(items);\n                    if (that.select().length === that.items().length) {\n                        that._toggleHeaderCheckState(true);\n                    }\n                }\n\n                if (!cell) {\n                    that._persistSelectedRows();\n                }\n\n                return;\n            }\n\n            return selectable ? selectable.value() : that.items().filter(\".\" + SELECTED);\n        },\n\n        _initSelectableAggregates: function() {\n            var that = this;\n\n            if (!that.options.selectable) {\n                return;\n            }\n\n            if (!that._selectableAggregatesOptions) {\n                that._selectableAggregatesOptions = that._parseSelectableAggregatesOptions();\n            }\n\n            if (that._selectableAggregatesOptions.count) {\n                that._cellAggregates = {\n                    count: 0\n                };\n            }\n        },\n\n        _calculateAggregatesForSelected: function() {\n            var that = this,\n                options = that.options,\n                selectedData = that.getSelectedDataByKeys(),\n                selectable = that.options.selectable,\n                cellAggregates = selectable.cellAggregates,\n                cellsLength = visibleLeafColumns(that.columns).filter(col => !col.selectable && !col.draggable & !col.command).length,\n                columnFields = getColumnsFields(options.columns),\n                isCellSelection = kendo.ui.Selectable.parseOptions(selectable).cell,\n                dataItem,\n                type,\n                value,\n                numberAggregates = [],\n                dateAggregates = [],\n                booleanAggregates = [],\n                count, min, max, sum, average, earliest, latest, isTrue, isFalse;\n\n            if (!cellAggregates) {\n                return;\n            }\n\n            // getSelectedDataByKeys won't work for cell selection.\n            if (isCellSelection) {\n                selectedData = that.getSelectedData();\n            }\n\n            cellAggregates = that._selectableAggregatesOptions;\n\n            for (let i = 0; i < selectedData.length; i++) {\n                dataItem = selectedData[i];\n\n                for (let j = 0; j < columnFields.length; j++) {\n                    value = dataItem[columnFields[j]];\n                    type = getType(value);\n\n                    switch (type) {\n                        case \"number\":\n                            numberAggregates.push(value);\n                            break;\n                        case \"date\":\n                            dateAggregates.push(value);\n                            break;\n                        case \"boolean\":\n                            booleanAggregates.push(value);\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n\n            if (cellAggregates.count) {\n                count = isCellSelection ? cellsExcludingSpecialColumns(that.select()).length : selectedData.length * cellsLength;\n            }\n\n            if (numberAggregates.length) {\n                max = cellAggregates.max ? numberAggregates.reduce((acc, current) => Math.max(acc, current)) : null;\n                min = cellAggregates.min ? numberAggregates.reduce((acc, current) => Math.min(acc, current)) : null;\n                sum = cellAggregates.sum ? numberAggregates.reduce((acc, current) => acc + current) : null;\n                average = cellAggregates.average ? numberAggregates.reduce((acc, current) => (acc + current)) / numberAggregates.length : null;\n            }\n\n            if (dateAggregates.length) {\n                earliest = cellAggregates.earliest ? dateAggregates.reduce((acc, current) => new Date(Math.min(acc, current))) : null;\n                latest = cellAggregates.latest ? dateAggregates.reduce((acc, current) => new Date(Math.max(acc, current))) : null;\n            }\n\n            if (booleanAggregates.length) {\n                isTrue = cellAggregates.isTrue ? booleanAggregates.filter(b => b === true).length : null;\n                isFalse = cellAggregates.isFalse ? booleanAggregates.filter(b => b === false).length : null;\n            }\n\n            that._cellAggregates = {\n                count: count,\n                max: max,\n                min: min,\n                sum: sum,\n                average: average,\n                earliest: earliest,\n                latest: latest,\n                isTrue: isTrue,\n                isFalse: isFalse\n            };\n\n            if (that.statusBar) {\n                that._statusBar();\n            }\n        },\n\n        _parseSelectableAggregatesOptions: function() {\n            var that = this,\n                cellAggregates = that.options.selectable.cellAggregates,\n                result = {};\n\n            if (isArray(cellAggregates)) {\n                for (let i = 0; i < cellAggregates.length; i++) {\n                    result[cellAggregates[i]] = true;\n                }\n                return result;\n            }\n\n            // If the value of cellAggregates is 'true' -> all aggregates must be enabled.\n            return {\n                count: true,\n                min: true,\n                max: true,\n                sum: true,\n                average: true,\n                earliest: true,\n                latest: true,\n                isTrue: true,\n                isFalse: true\n            };\n        },\n\n        _toggleHeaderCheckState: function(checked) {\n            const that = this;\n            const stacked = that._isStackedMode();\n            const toolbar = that.wrapper.find(\".k-toolbar\");\n            const selectAllTool = toolbar.find(CHECKBOXINPUT);\n\n            let container = stacked ? toolbar : that.thead.add(that.lockedHeader);\n            let checkboxSelector = stacked ? CHECKBOXINPUT : \"tr \" + CHECKBOXINPUT;\n\n\n            const toggleState = (element, state) => {\n\n                if (element.length) {\n                    const ariaLabel = state ? \"Deselect all rows\" : \"Select all rows\";\n\n                    element\n                        .prop(\"checked\", state).attr(ARIA_CHECKED, state)\n                        .attr(ARIA_LABEL, ariaLabel);\n                }\n            };\n\n            if (stacked) {\n                toggleState(selectAllTool, checked);\n            } else {\n                const headerCheckbox = container.find(checkboxSelector);\n                toggleState(headerCheckbox, checked);\n                toggleState(selectAllTool, checked);\n            }\n        },\n\n        _uncheckCheckBoxes: function() {\n            var that = this;\n            var tables = that.table.add(that.lockedTable);\n\n            tables.find(\"tbody \" + CHECKBOXINPUT).attr(ARIA_CHECKED, false)\n                .prop(\"checked\", false).attr(ARIA_LABEL, \"Select row\");\n\n        },\n\n        _deselectCheckRows: function(items) {\n            var that = this,\n                rangeSelectedAttr = kendo.attr(\"range-selected\");\n            items = that.table.add(that.lockedTable).find(items);\n\n            if (that._isLocked()) {\n                items = items.add(items.map(function() {\n                    return that._relatedRow(this);\n                }));\n            }\n\n            items.each(function() {\n                $(this).removeClass(SELECTED).removeAttr(rangeSelectedAttr).find(CHECKBOXINPUT).attr(ARIA_CHECKED, false)\n                    .prop(\"checked\", false).attr(ARIA_LABEL, \"Select row\");\n            });\n            that._toggleHeaderCheckState(false);\n\n            that._persistSelectedRows();\n\n        },\n\n        _checkRows: function(items) {\n            items.each(function() {\n                $(this).addClass(SELECTED).find(CHECKBOXINPUT)\n                    .prop(\"checked\", true)\n                    .attr(ARIA_LABEL, \"Deselect row\")\n                    .attr(ARIA_CHECKED, true);\n            });\n        },\n\n        _persistSelectedRows: function() {\n            var that = this,\n                key,\n                dataItem,\n                allRows = that.items(),\n                dataSourceOptions = that.dataSource.options,\n                schema = dataSourceOptions.schema,\n                modelId,\n                selectedViewIds = {};\n\n            if (!schema || !schema.model || !that._data) {\n                return;\n            }\n\n            modelId = that._getSchemaIdField();\n\n            if (!modelId) {\n                return;\n            }\n\n            if (!kendo.ui.Selectable.parseOptions(that.options.selectable).multiple && !that._checkBoxSelection) {\n                that._selectedIds = {};\n            }\n\n            that.select().each(function() {\n                dataItem = that.dataItem(this);\n                selectedViewIds[dataItem[modelId]] = true;\n            });\n\n            for (var i = 0; i < allRows.length; i++) {\n                dataItem = that.dataItem(allRows[i]);\n                key = dataItem[modelId];\n                if (selectedViewIds[key]) {\n                    that._selectedIds[key] = true;\n                } else {\n                    delete that._selectedIds[key];\n                }\n            }\n        },\n\n        selectedKeyNames: function() {\n            var that = this,\n                ids = [];\n            for (var property in that._selectedIds) {\n                ids.push(property);\n            }\n            ids.sort();\n            return ids;\n        },\n\n        _updateCurrentAttr: function(current, next, skipFocus) {\n            var headerId = $(current).data(\"headerId\");\n            var nextId;\n            var descId;\n\n            $(current).removeClass(FOCUSED);\n            this.table.removeAttr(ARIA_ACTIVEDESCENDANT);\n\n            if (headerId) {\n                headerId = headerId.replace(this._cellId, \"\");\n                $(current).attr(ID, headerId);\n            } else {\n                $(current).removeAttr(ID);\n            }\n\n            nextId = next.attr(ID);\n\n            if (nextId != this._cellId) {\n                next.data(\"headerId\", nextId);\n            }\n\n            if (!!nextId) {\n                descId = nextId;\n            } else {\n                next.attr(ID, this._cellId);\n            }\n\n            if (!skipFocus) {\n                next.addClass(FOCUSED);\n            }\n\n            this.table.attr(ARIA_ACTIVEDESCENDANT, descId || this._cellId);\n\n            this._current = next;\n        },\n\n        _scrollCurrent: function() {\n            const current = this._current;\n            const scrollable = this.options.scrollable;\n\n            if (!current || !scrollable) {\n                return;\n            }\n\n            var row = current.parent();\n            var tableContainer = row.closest(\"table\").parent();\n\n            var isInLockedContainer = tableContainer.is(\".k-grid-content-locked,.k-grid-header-locked\");\n            var isInContent = tableContainer.is(\".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap\");\n\n            var scrollableContainer = $(this.content).find(\">.k-virtual-scrollable-wrap\").addBack().last()[0];\n\n            //adjust scroll vertically\n            if (isInContent) {\n                if (this.virtualScroll) {\n                    var rowIndex = Math.max(inArray(row[0], this._items(row.parent())), 0);\n                    if (this.virtualScroll.rows) {\n                        this._rowVirtualIndex = this.virtualScrollable.itemIndex(rowIndex);\n                        this.virtualScrollable.scrollIntoView(row);\n                    } else {\n                        this._rowVirtualIndex = rowIndex;\n                        this._scrollTo(this._relatedRow(row)[0], scrollableContainer);\n                    }\n                } else {\n                    this._scrollTo(this._relatedRow(row)[0], scrollableContainer);\n                }\n            }\n\n            if (this.lockedContent) {\n                //sync locked and non-locked content scrollTop\n                this.lockedContent[0].scrollTop = scrollableContainer.scrollTop;\n            }\n\n            //adjust scroll horizontally, if not inside locked tables\n            if (!isInLockedContainer) {\n                this._scrollTo(current[0], scrollableContainer);\n            }\n        },\n\n\n        _findGroupedItem: function(data, id, idField) {\n            const that = this;\n            let item;\n\n            for (let i = 0; i < data.length; i++) {\n                const group = data[i];\n                if (group.field === idField) {\n                    if (group.value === id) {\n                        if (group.items[0].uid && group.items[0][idField]) {\n                            item = group.items[0];\n                        } else {\n                            item = that._findGroupedItem(group.items, id, idField);\n                        }\n                    }\n                } else if (group.items[0].uid && group.items[0][idField]) {\n                    item = group.items.find((item) => item[idField] === id);\n                } else {\n                    item = that._findGroupedItem(group.items, id, idField);\n                }\n\n                if (item) {\n                    return item;\n                }\n\n            }\n        },\n\n        _findClosestGroupingRow: function(htmlRow, rowsCount, hiddenGroupingRows) {\n            const that = this;\n            const hasGroupingRows = that.options.groupable && that.dataSource.group().length > 0;\n            let i = rowsCount ? rowsCount : 0;\n            let j = hiddenGroupingRows ? hiddenGroupingRows : 0;\n\n            if (!hasGroupingRows || !htmlRow) {\n                return { targetRow: htmlRow, rowsToTarget: i, hiddenGroupingRows: j };\n            }\n\n            const prevSibling = $(htmlRow.previousSibling);\n            if (prevSibling && prevSibling.hasClass(GROUPING_ROW)) {\n                let result = { targetRow: prevSibling, rowsToTarget: i, hiddenGroupingRows: j };\n                if (prevSibling.css(\"display\") === \"none\") {\n                    result = that._findClosestGroupingRow(prevSibling[0], i, j + 1);\n                }\n                return result;\n            } else {\n                const result = that._findClosestGroupingRow(prevSibling[0], i + 1, j);\n                if (result) {\n                    return { targetRow: result.targetRow, rowsToTarget: result.rowsToTarget, hiddenGroupingRows: j };\n                }\n            }\n        },\n\n        _checkItemAlreadyLoaded: function(id, idField) {\n            const that = this;\n            const dataSource = that.dataSource;\n            const ranges = dataSource._ranges;\n\n            let item;\n            for (let i = 0; i < ranges.length; i++) {\n                const range = ranges[i].data;\n                item = range.find((item) => item[idField] === id);\n\n                if (item) {\n                    return { loadedItem: item, page: i };\n                }\n            }\n\n            return;\n        },\n\n        scrollToItem: function(id, callback) {\n            const that = this,\n                options = that.options,\n                dataSource = that.dataSource,\n                groups = dataSource.group(),\n                pageSize = dataSource.pageSize(),\n                idField = that._getSchemaIdField(),\n                scrollable = options.scrollable,\n                scrollableContainer = that.wrapper.find(\".k-grid-content.k-auto-scrollable\"),\n                rowHeight = kendo._outerHeight(that.tbody.find(`tr:not(.${GROUPING_ROW})`)),\n                isVirtual = scrollable && scrollable.virtual && (scrollable.virtual === 'rows' || scrollable.virtual === true);\n\n            let rootGroupingRow = options.groupable && that.wrapper.find(`.${GROUPING_ROW}:first-child`);\n            let previouslyScrolledItems = {};\n            let targetRowIsHidden = false;\n            let groupingRowHeight = 0;\n\n            if (that._scrolledItems) {\n                previouslyScrolledItems = that._scrolledItems;\n            }\n\n            if (isVirtual && groups.length === 0) {\n                that.virtualScrollable._alwaysScrollTop = true;\n            }\n\n            if (!id || !idField) {\n                return;\n            }\n\n            const currentView = dataSource.view();\n\n            let item = currentView.find((item) => item[idField] == id);\n\n            if (groups.length > 0) {\n                item = that._findGroupedItem(currentView, id, idField);\n                groupingRowHeight = kendo._outerHeight(rootGroupingRow[0]);\n            }\n\n            if (!item && isVirtual) {\n                if (!that.virtualScrollable._programmaticallyScrolling || that.virtualScrollable._programmaticallyScrolling.state() === 'resolved') {\n                    that.virtualScrollable._programmaticallyScrolling = $.Deferred();\n                }\n\n                callback && typeof callback === 'function' && callback({\n                    success: (index) => {\n                        let itemIndex = index;\n                        itemIndex = typeof itemIndex !== 'number' ? Number(itemIndex) : itemIndex;\n\n                        if (isNaN(itemIndex)) {\n                            return;\n                        }\n\n                        const serverPaging = dataSource.options.serverPaging;\n                        let page = math.floor(itemIndex / pageSize);\n\n                        if (serverPaging) {\n                            const itemLoaded = that._checkItemAlreadyLoaded(id, idField);\n                            if (itemLoaded) {\n                                page = itemLoaded.page;\n                            }\n                        }\n\n\n                        const allRows = scrollableContainer.find(TR);\n                        const lastRowOffsetTop = allRows[allRows.length - 1].offsetTop;\n                        const pageEndOffset = (pageSize / allRows.length) * lastRowOffsetTop;\n\n                        const itemsToTarget = (itemIndex - page * pageSize) - 1;\n\n                        const scrollPosition = page * pageEndOffset + itemsToTarget * rowHeight;\n\n                        that._scrollingUp = that.virtualScrollable.verticalScrollbar.scrollTop() > scrollPosition;\n                        that._scrollOffset = scrollPosition;\n                        that.virtualScrollable._scrollTo(scrollPosition);\n                        that.virtualScrollable.verticalScrollbar.trigger(SCROLL);\n\n                        return that.virtualScrollable._programmaticallyScrolling.done(() => {\n                            that.scrollToItem(id);\n                        });\n                    }\n                });\n                return;\n            }\n\n            const uid = item && item.uid;\n\n            if (!uid) {\n                return;\n            }\n\n            const selector = `[data-uid=${uid}]`;\n            let element = $(selector);\n\n\n            let { targetRow, rowsToTarget, hiddenGroupingRows } = that._findClosestGroupingRow(element[0]);\n\n\n            if (!element || !targetRow) {\n                return;\n            } else if (groups.length > 0 && element.css(\"display\") === \"none\") {\n                element = targetRow;\n                targetRowIsHidden = true;\n            }\n\n            const hiddenGroupingRowsOffset = targetRowIsHidden ? (hiddenGroupingRows * groupingRowHeight) + rowHeight : 0;\n            let wrapperPosition = element[0].offsetTop - (((rowsToTarget + groups.length) * groupingRowHeight) - hiddenGroupingRowsOffset);\n            let scrollPosition = wrapperPosition;\n\n            if (isVirtual) {\n                if (previouslyScrolledItems && previouslyScrolledItems[id]) {\n                    const scrollerPosition = Math.floor(that.virtualScrollable.verticalScrollbar.scrollTop());\n                    const prevScrollDown = Math.floor(previouslyScrolledItems[id].scrollingDownOffset);\n                    const prevScrollUp = Math.floor(previouslyScrolledItems[id].scrollingUpOffset);\n\n                    if (scrollerPosition === prevScrollUp || scrollerPosition === prevScrollDown) {\n                        return;\n                    }\n\n                    that._scrollingUp = scrollerPosition > scrollPosition;\n\n                    if (that._scrollingUp) {\n                        scrollPosition = prevScrollUp ?? scrollPosition;\n                    } else {\n                        scrollPosition = prevScrollDown ?? scrollPosition;\n                    }\n                }\n\n                if (that._scrollOffset) {\n                    if (!that._scrollingUp) {\n                        scrollPosition += that._scrollOffset;\n                    } else {\n                        if (that._scrollOffset === wrapperPosition) {\n                            that._scrollOffset += rowHeight;\n                        }\n                        scrollPosition = ((wrapperPosition - that.virtualScrollable._scrollTop) + that._scrollOffset);\n                    }\n                }\n                that.virtualScrollable._scrollTo(wrapperPosition, scrollPosition);\n\n                if (!previouslyScrolledItems[id]) {\n                    previouslyScrolledItems[id] = {};\n                }\n\n                if (that._scrollingUp) {\n                    if (previouslyScrolledItems[id] && !previouslyScrolledItems[id].scrollingUpOffset) {\n                        previouslyScrolledItems[id].scrollingUpOffset = scrollPosition;\n                    }\n                } else {\n                    if (previouslyScrolledItems[id] && !previouslyScrolledItems[id].scrollingDownOffset) {\n                        previouslyScrolledItems[id].scrollingDownOffset = scrollPosition;\n                    }\n                }\n            } else {\n                scrollableContainer.scrollTop(scrollPosition);\n            }\n\n            if (that.virtualScrollable) {\n                if (that._scrollOffset) {\n                    delete that._scrollOffset;\n                }\n                if (that._scrollingUp) {\n                    delete that._scrollingUp;\n                }\n            }\n\n            that._scrolledItems = previouslyScrolledItems;\n        },\n\n        current: function(next) {\n            return this._setCurrent(next, true);\n        },\n\n        _setCurrent: function(next, preventTrigger, preventScroll, skipFocus) {\n            var current = this._current;\n\n            next = $(next);\n\n            if (current && next && current.length && next.length && current.closest(\".k-filter-row\").length > 0 && next.closest(\".k-filter-row\").length === 0) {\n                this._filterFocusable().attr(TABINDEX, -1);\n            }\n\n            if (next.length) {\n                if (!current || current[0] !== next[0]) {\n                    var parent = next.parent();\n                    var siblings = parent.children(DATA_CELL);\n                    var colspan = parseInt(parent.children().first().attr(\"colspan\"), 10);\n\n                    if (this._hasVirtualColumns()) {\n                        this._virtualCellIndex = (colspan > 1 ? colspan : 0) + siblings.index(next);\n                    }\n                    this._updateCurrentAttr(current, next, skipFocus);\n\n                    if (!preventScroll) {\n                        this._scrollCurrent();\n                    }\n\n                    if (!preventTrigger) {\n                        this.trigger(NAVIGATE, {\n                            element: next\n                        });\n                    }\n                }\n            }\n\n            if (next && next.length) {\n                this._lastCellIndex = next.parent().children(\".k-group-cell, .k-grid-stack-content,\" + DATA_CELL_HIDDENINCLUDED).index(next);\n            }\n\n            this._updateSelctCheckbox(current, next);\n\n            return this._current;\n        },\n\n        _removeCurrent: function() {\n            if (this._current) {\n                this._current.removeClass(FOCUSED);\n                this._current = null;\n            }\n        },\n\n        _updateSelctCheckbox: function(current, next) {\n            var nextCheckbox;\n\n            if (next && next.length) {\n                nextCheckbox = next.find(\".k-select-checkbox\");\n\n                if (nextCheckbox.length > 0) {\n                    nextCheckbox.trigger(\"focus\");\n                } else if (current && current.find(\".k-select-checkbox\").length > 0) {\n                    focusTable(this.table, true);\n                }\n            }\n        },\n\n        _scrollTo: function(element, container) {\n            var elementToLowercase = element.tagName.toLowerCase();\n            var isHorizontal = elementToLowercase === \"td\" || elementToLowercase === \"th\";\n            var table = $(element).closest(\"table\")[0];\n            var elementOffsetDir = element[isHorizontal ? \"offsetWidth\" : \"offsetHeight\"];\n            var containerScroll = container[isHorizontal ? \"scrollLeft\" : \"scrollTop\"];\n            var containerOffsetDir = container[isHorizontal ? \"clientWidth\" : \"clientHeight\"];\n            var elementOffset = $(element).css(\"position\") === \"relative\" && isRtl && isHorizontal ? Math.abs(table.offsetLeft - element.offsetLeft) : element[isHorizontal ? \"offsetLeft\" : \"offsetTop\"];\n            var bottomDistance = elementOffset + elementOffsetDir;\n            var result = 0;\n            var ieCorrection = 0;\n            var firefoxCorrection = 0;\n\n            if (isRtl && isHorizontal) {\n                if (browser.msie || browser.edge) {\n                    ieCorrection = table.offsetLeft;\n                } else if (browser.mozilla || (browser.webkit && (browser.version > 85))) {\n                    firefoxCorrection = table.offsetLeft - kendo.support.scrollbar();\n                }\n            }\n\n            containerScroll = Math.abs(containerScroll + ieCorrection - firefoxCorrection);\n\n            if (containerScroll > elementOffset) {\n                result = elementOffset;\n            } else if (bottomDistance > (containerScroll + containerOffsetDir)) {\n                if (elementOffsetDir <= containerOffsetDir) {\n                    result = (bottomDistance - containerOffsetDir);\n                } else {\n                    result = elementOffset;\n                }\n            } else {\n                result = containerScroll;\n            }\n\n            result = Math.abs(result + ieCorrection) + firefoxCorrection;\n\n            container[isHorizontal ? \"scrollLeft\" : \"scrollTop\"] = result;\n        },\n\n        _navigatable: function() {\n            var that = this;\n\n            if (!that.options.navigatable) {\n                return;\n            }\n\n            const stacked = that._isStackedMode();\n\n            //data tables - locked and non-locked\n            var dataTables = that.table.add(that.lockedTable);\n            //header tables - locked and non-locked\n            var headerTables = !stacked && that.thead.parent().add($(\">table\", that.lockedHeader));\n\n            //the over wich keys will be handled\n            var tables = dataTables;\n\n            if (that.options.scrollable) {\n                //add the header table when the widget is scrollable\n                tables = tables.add(headerTables);\n            }\n\n            this._navigatableTables = tables;\n\n            if (headerTables) {\n                this._headertables = headerTables;\n            }\n\n            //dettach all previous events\n            tables.off(MOUSEDOWN + NS + \" focus\" + NS + \" focusout\" + NS + \" keydown\" + NS);\n\n            if (headerTables) {\n                headerTables\n                    .find(\"a.k-link\").attr(\"tabIndex\", -1);\n            }\n\n            //prevent propagation when clicked inside detail grid\n            dataTables\n                .on(\"keydown\" + NS, \".k-detail-cell\", function(e) {\n                    if (e.target !== e.currentTarget) {\n                        e.stopImmediatePropagation();\n                    }\n                });\n\n            tables\n                //handle click on tables, will attempt to focus the table\n                .on((kendo.support.touch ? \"touchstart\" + NS : MOUSEDOWN + NS), NAVROW + \">\" + NAVCELL, tableClick.bind(that))\n                .on(\"focus\" + NS, that._tableFocus.bind(that))\n                .on(\"focusout\" + NS, that._tableBlur.bind(that))\n                .on(\"keydown\" + NS, that, that._tableKeyDown.bind(that));\n\n            that._filterFocusable().on(\"focus\", that._filterFocus.bind(that));\n        },\n\n        _filterFocus: function(e) {\n            var header = e.target.closest(\"th\");\n\n            this._filterFocusable().attr(TABINDEX, 0);\n            this._setCurrent(header);\n            $(header).removeClass(FOCUSED);\n        },\n\n        _tableFocus: function() {\n            var current = this.current();\n            var table = this.lockedTable ? this.lockedTable : this.table;\n\n            //if there is already current, highlighted it\n            //otherwise highlight the first possible cell\n            if (current && current.is(\":visible\")) {\n                current.addClass(FOCUSED);\n            } else {\n                if (this._virtualColScroll) {\n                    this._setCurrent(table.find(NAVROW).first().children(NAVCELL).first(), true, true);\n                } else {\n                    this._setCurrent(table.find(NAVROW).first().children(NAVCELL).first());\n                }\n            }\n\n            this.table.attr(TABINDEX, 0);\n        },\n\n        _tableBlur: function() {\n            var current = this.current();\n\n            if (current) {\n                current.removeClass(FOCUSED);\n            }\n        },\n\n        _findCellIndex: function(columns, startIndex, reversed) {\n            var cellIndex;\n            var i;\n\n            if (reversed) {\n                for (i = startIndex; i >= 0; i--) {\n                    cellIndex = i;\n                    if (!columns[i].hidden) {\n                        break;\n                    }\n                }\n            } else {\n                for (i = startIndex; i < columns.length; i++) {\n                    cellIndex = i;\n                    if (!columns[i].hidden) {\n                        break;\n                    }\n                }\n            }\n\n            return cellIndex;\n        },\n\n        _scrollToColumn: function(key, e) {\n            if (this._virtualCellIndex === undefined) {\n                return false;\n            }\n\n            var that = this;\n            var cellIndex = that._virtualCellIndex;\n            var leafsCols = leafColumns(nonLockedColumns(that.columns));\n            var scrollWidth = 0;\n\n            if (key == (isRtl ? keys.LEFT : keys.RIGHT) && (cellIndex !== leafsCols.length - 1)) {\n                cellIndex = that._findCellIndex(leafsCols, cellIndex + 1);\n            } else if (key == (isRtl ? keys.RIGHT : keys.LEFT) && cellIndex) {\n                cellIndex = that._findCellIndex(leafsCols, cellIndex - 1, true);\n            } else if (key == keys.HOME) {\n                cellIndex = that._findCellIndex(leafsCols, 0);\n            } else if (key == keys.END) {\n                cellIndex = that._findCellIndex(leafsCols, leafsCols.length - 1, true);\n            }\n\n            for (var i = 0; i < cellIndex; i++) {\n                scrollWidth += leafsCols[i].width;\n            }\n\n            that._virtualCellIndex = cellIndex;\n            if (e) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n\n            let scrollable = that.content;\n            if (that._hasVirtualRows() && that._hasVirtualColumns()) {\n                scrollable = that.virtualScrollable.wrapper;\n            }\n            kendo.scrollLeft(scrollable, scrollWidth);\n            return true;\n        },\n\n        _tableKeyDown: function(e) {\n            let current = this.current(),\n                currentTable = current && current.closest(DOT + \"k-grid-table\")[0],\n                virtualScroll = this.virtualScroll || {},\n                requestInProgress = this.virtualScrollable && this.virtualScrollable.fetching(),\n                target = $(e.target),\n                canHandle = !e.isDefaultPrevented() && (!target.is(\":button,a,:input:not(.k-select-checkbox),a>.k-icon,a>.k-svg-icon\") || this._isFocusableGridElement(current));\n\n            if (e.altKey && e.keyCode == keys.DOWN) {\n                this.current().find(\".k-grid-filter-menu, .k-grid-column-menu\").click();\n                e.stopImmediatePropagation();\n                return;\n            }\n\n            // do not handle key down if request in progress\n            // or there isn't current set\n            if (requestInProgress) {\n                // swallow key events while in progress\n                e.preventDefault();\n                return;\n            }\n\n            if (virtualScroll.columns && (!current || !document.body.contains(current[0])) && (this._scrollToColumn(e.keyCode, e))) {\n                return;\n            }\n\n            if (!current) {\n                current = $(this.lockedTable).add(this.options.scrollable ? this.table : this.tbody).find(NAVROW).first().children(NAVCELL).first();\n            }\n\n            if (!current.length) {\n                return;\n            }\n\n            var handled = false;\n\n            if (!e.isDefaultPrevented() && e.keyCode === keys.F10) {\n                handled = this._focusToolbar();\n            }\n\n            if (canHandle && e.keyCode == keys.UP) {\n                handled = this._moveUp(current, e.shiftKey, e.ctrlKey);\n            }\n\n            if (canHandle && e.keyCode == keys.DOWN) {\n                handled = this._moveDown(current, e.shiftKey, e.ctrlKey);\n            }\n\n            if (canHandle && e.keyCode == (isRtl ? keys.LEFT : keys.RIGHT)) {\n                handled = this._moveRight(current, e.altKey, e.shiftKey, e.ctrlKey, currentTable);\n            }\n\n            if (canHandle && e.keyCode == (isRtl ? keys.RIGHT : keys.LEFT)) {\n                handled = this._moveLeft(current, e.altKey, e.shiftKey, e.ctrlKey, currentTable);\n            }\n\n            if (canHandle && e.keyCode == keys.PAGEDOWN) {\n                handled = this._handlePageDown();\n            }\n\n            if (canHandle && e.keyCode == keys.PAGEUP) {\n                handled = this._handlePageUp();\n            }\n\n            if (canHandle && e.keyCode == keys.HOME) {\n                handled = this._handleHome(current, e.ctrlKey);\n            }\n\n            if (canHandle && e.keyCode == keys.END) {\n                handled = this._handleEnd(current, e.ctrlKey);\n            }\n\n            if (canHandle && e.keyCode == keys.SPACEBAR) {\n                handled = this._handleSpaceKey(current, e.ctrlKey);\n            }\n\n            if (e.keyCode == keys.ENTER || e.keyCode == keys.F2) {\n                handled = this._handleEnterKey(current, currentTable, target, e.keyCode == keys.F2);\n            }\n\n            if (e.keyCode == keys.ESC) {\n                handled = this._handleEscKey(current);\n            }\n\n            if (e.keyCode == keys.TAB) {\n                handled = this._handleTabKey(current, currentTable, e.shiftKey, target);\n            }\n\n            if (e.keyCode === keys.DELETE || e.keyCode === keys.BACKSPACE) {\n                handled = this._handleDeletion(e);\n            }\n\n            if (handled) {\n                //prevent scrolling while pressing the keys\n                e.preventDefault();\n                //required in hierarchy\n                e.stopPropagation();\n            }\n        },\n\n        _focusToolbar: function() {\n            var focusable = this.wrapper.find(\".k-grid-toolbar [tabindex=0]\");\n\n            if (focusable.length > 0) {\n                focusable.first().addClass(\".k-focus\").trigger(\"focus\");\n\n                return true;\n            }\n\n            return false;\n        },\n\n        _focusFocusable: function(current, next, preventTrigger, preventScroll, eventData) {\n            let focusable = this._isFocusableGridElement(next) && next.find(FOCUSABLE);\n\n            if (!focusable || !focusable.length) {\n                if (next.is(FOCUSABLE)) {\n                    focusable = next;\n                }\n            }\n\n            // If we have focused a focusable element inside a cell with multiple focusable elements,\n            // we should not be able to use the arrows to navigate to another cell.\n            if ((this._containerHasActiveElement(current) && current.find(FOCUSABLE).length !== 1) || !next.length) {\n                return;\n            }\n\n            focusTable(this.table, true);\n            this._setCurrent(next, preventTrigger, preventScroll);\n            if (focusable.length === 1 && !focusable.is(\"table\")) {\n                focusable.trigger(\"focus\");\n                eventData?.preventDefault();\n            }\n        },\n\n        _containerHasActiveElement: function(container) {\n            return container.find(activeElement()).length;\n        },\n\n        _isFocusableGridElement: function(element) {\n            if (!element) {\n                return false;\n            }\n\n            return element.is(FOCUSABLE_GRID_ELEMENT_SELECTORS) || element.has(FOCUSABLE_GRID_ELEMENT_SELECTORS).length;\n        },\n\n        _moveLeft: function(current, altKey, shiftKey, ctrlKey, currentTable) {\n            var next, index;\n            var row = current.parent();\n            //thead or tbody\n            var container = row.parent();\n\n            if (altKey) {\n                if (row.hasClass(GROUPING_ROW)) {\n                    this.collapseGroup(row);\n                } else {\n                    this.collapseRow(row);\n                }\n            } else if (ctrlKey && current.is(DOT + HEADER_CLASS) && this.options.reorderable) {\n                this._moveColumn(current, true);\n            } else {\n                index = container.find(NAVROW).index(row);\n                next = this._prevHorizontalCell(container, current, index);\n\n                if (!next[0] && !this._containerHasActiveElement(current)) {\n                    if (shiftKey) {\n                        if (this.lockedTable) {\n                            next = this._relatedRow(row);\n                            if ($.contains(this.lockedTable[0], row[0])) {\n                                next = next.prevAll(ITEMROW).first();\n                            }\n                            next = next.children(DATA_CELL).last();\n                        } else {\n                            next = this._tabNext(current, currentTable, true);\n                        }\n                    } else {\n                        container = this._horizontalContainer(container);\n\n                        next = this._prevHorizontalCell(container, current, index);\n\n                        if (next[0] !== current[0]) {\n                            focusTable(this.table, true);\n                        }\n                    }\n                }\n                this._focusFocusable(current, next);\n            }\n\n            return true;\n        },\n\n        _moveRight: function(current, altKey, shiftKey, ctrlKey, currentTable) {\n            var next, index;\n            var row = current.parent();\n            //thead or tbody\n            var container = row.parent();\n\n            if (altKey) {\n                if (row.hasClass(GROUPING_ROW)) {\n                    this.expandGroup(row);\n                } else {\n                    this.expandRow(row);\n                }\n            } else if (ctrlKey && current.is(DOT + HEADER_CLASS) && this.options.reorderable) {\n                this._moveColumn(current, false);\n            } else {\n                index = container.find(NAVROW).index(row);\n                next = this._nextHorizontalCell(container, current, index);\n\n                if (!next[0] && !this._containerHasActiveElement(current)) {\n                    if (shiftKey) {\n                        if (this.lockedTable) {\n                            next = this._relatedRow(row);\n                            if ($.contains(this.table[0], row[0])) {\n                                next = next.nextAll(ITEMROW).first();\n                            }\n                            next = next.children(DATA_CELL).first();\n                        } else {\n                            next = this._tabNext(current, currentTable, false);\n                        }\n                    } else {\n                        container = this._horizontalContainer(container, true);\n\n                        next = this._nextHorizontalCell(container, current, index);\n\n                        if (next[0] !== current[0]) {\n                            focusTable(this.table, true);\n                        }\n                    }\n                }\n                this._focusFocusable(current, next);\n            }\n\n            return true;\n        },\n\n        _moveUp: function(current, shiftKey, ctrlKey) {\n            //thead or tbody\n            var container = current.parent().parent();\n            var next, cellIndex, index, oldIndex;\n\n            if (shiftKey) {\n                next = current.parent();\n                next = next.prevAll(ITEMROW).first();\n                next = current.parent().is(ITEMROW) ? next.children().eq(current.index()) : next.children(DATA_CELL).last();\n            } else if (ctrlKey && current.parent().is(ITEMROW) && this._hasReorderableRows()) {\n                cellIndex = current.index();\n                next = current.parent();\n                next = next.prevAll(ITEMROW).first();\n                index = this.tbody.children(ITEMROW).index(next);\n                oldIndex = this.tbody.children(ITEMROW).index(current.parent());\n\n                if (index >= 0 && !this.trigger(ROWREORDER, { oldIndex: oldIndex, newIndex: index, row: current.parent() })) {\n                    this.reorderRows(current.parent(), index);\n                    next = this.tbody.children(ITEMROW).eq(index).children().eq(cellIndex);\n                }\n            } else {\n                next = this._prevVerticalCell(container, current);\n                if (!next[0]) {\n                    this._lastCellIndex = 0;\n                    container = this._verticalContainer(container, true);\n\n                    next = this._prevVerticalCell(container, current);\n\n                    if (next.is(\":hidden\")) {\n                        next = next.nextAll().not(\":hidden\").first();\n                    }\n\n                    if (next[0]) {\n                        focusTable(this.table, true);\n                    }\n                }\n            }\n\n            var tmp = this._lastCellIndex || 0;\n\n            if (!this._isStackedMode()) {\n                this._focusFocusable(current, next);\n            } else {\n                focusTable(this.table, true);\n                this._setCurrent(next);\n            }\n\n            this._lastCellIndex = tmp;\n\n            return true;\n        },\n\n        _moveDown: function(current, shiftKey, ctrlKey) {\n            //thead or tbody\n            var container = current.parent().parent();\n            var next, cellIndex, index, oldIndex;\n\n            if (shiftKey) {\n                next = current.parent();\n                next = next.nextAll(ITEMROW).first();\n                next = current.parent().is(ITEMROW) ? next.children().eq(current.index()) : next.children(DATA_CELL).first();\n            } else if (ctrlKey && current.parent().is(ITEMROW) && this._hasReorderableRows()) {\n                cellIndex = current.index();\n                next = current.parent();\n                next = next.nextAll(ITEMROW).first();\n                index = this.tbody.children(ITEMROW).index(next);\n                oldIndex = this.tbody.children(ITEMROW).index(current.parent());\n\n                if (index >= 0 && !this.trigger(ROWREORDER, { oldIndex: oldIndex, newIndex: index, row: current.parent() })) {\n                    this.reorderRows(current.parent(), index + 1);\n                    next = this.tbody.children(ITEMROW).eq(index).children().eq(cellIndex);\n                }\n            } else {\n                next = this._nextVerticalCell(container, current);\n                if (!next[0]) {\n                    this._lastCellIndex = 0;\n                    container = this._verticalContainer(container);\n\n                    next = this._nextVerticalCell(container, current);\n                    if (next[0]) {\n                        focusTable(this.table, true);\n                    }\n                }\n            }\n            var tmp = this._lastCellIndex || 0;\n            if (!this._isStackedMode()) {\n                this._focusFocusable(current, this._findVisibleCell(next));\n            } else {\n                focusTable(this.table, true);\n                this._setCurrent(this._findVisibleCell(next));\n            }\n            this._lastCellIndex = tmp;\n            return true;\n        },\n\n        _moveColumn: function(current, isLeft) {\n            var elements = this.wrapper.data().kendoReorderable.element.find(this._draggableInstance.options.filter + \":visible\");\n\n            var columns = visibleColumns(flatColumnsInDomOrder(this.columns));\n            var oldIndex = elements.index($(current));\n            var offset = isLeft ? - 1 : 1;\n            var column = columns[oldIndex];\n            var newIndex = targetParentContainerIndex(columns, this.columns, oldIndex, oldIndex + offset);\n            if (newIndex >= 0) {\n                this.reorderColumn(newIndex, column, isLeft);\n                this.trigger(COLUMNREORDER, {\n                    newIndex: newIndex,\n                    oldIndex: oldIndex,\n                    column: column\n                });\n            }\n        },\n\n        _handleHome: function(current, ctrl) {\n            const that = this;\n            let row = current.parent();\n            const rowContainer = row.parent();\n            const isInLockedTable = that.lockedTable && that.lockedTable.children(\"tbody\")[0] === rowContainer[0];\n            const isInBody = rowContainer[0] === that.tbody[0];\n            let prev;\n\n            const hasVirtualColumns = that._hasVirtualColumns();\n            const hasVirtualRows = that._hasVirtualRows();\n            const scrollable = hasVirtualRows ? that.virtualScrollable.wrapper : that.content;\n            const isScrolledToStart = scrollable.scrollLeft() === 0;\n\n\n            if (hasVirtualColumns && hasVirtualRows && ctrl) {\n                that._focusVirtualCell(true, hasVirtualColumns && !isScrolledToStart);\n\n                return true;\n            }\n\n            if (hasVirtualColumns) {\n                if (isScrolledToStart) {\n                    that._setCurrent(that.table.find(ITEMROW).first().children(NAVCELL).first());\n                } else {\n                    that._forceScrollVirtualColumn(keys.HOME, ctrl);\n                }\n\n                return true;\n            }\n\n            if (hasVirtualRows && ctrl) {\n                that._focusVirtualCell(true);\n\n                return true;\n            }\n\n            if (ctrl) {\n                if (that.lockedTable) {\n                    prev = that.lockedTable.find(ITEMROW).first().children(NAVCELL).first();\n                } else {\n                    prev = that.table.find(ITEMROW).first().children(NAVCELL).first();\n                }\n            } else if (isInBody || isInLockedTable) {\n                if (isInBody && this.lockedTable) {\n                    row = that._relatedRow(row);\n                }\n                prev = row.children(DATA_CELL).first();\n            }\n\n            if (prev && prev.length) {\n                that._setCurrent(prev);\n                return true;\n            }\n        },\n\n\n        _setCurrentVirtualCell: function(focusFirst) {\n            const that = this;\n\n            if (focusFirst) {\n                this._setCurrent(that.table.find(ITEMROW).first().children(NAVCELL).first());\n            } else {\n                this._setCurrent(that.table.find(ITEMROW).last().children(NAVCELL).last());\n            }\n        },\n\n        _forceScrollVirtualColumn: function(key, condition, setboth) {\n            const that = this;\n\n            if (setboth) {\n                that._shouldFocusInLastRow = !condition;\n                that._shouldFocusInFirstRow = condition;\n            } else if (key === keys.HOME) {\n                that._shouldFocusInFirstRow = condition;\n            } else {\n                that._shouldFocusInLastRow = condition;\n            }\n\n            that.one(DATABOUND, function() {\n                if (setboth) {\n                    that.one(DATABOUND, function() {\n                        that._setCurrentVirtualCell(condition);\n                    });\n                }\n\n                if (that._shouldFocusInLastRow) {\n                    that.content.scrollTop(that.content[0].scrollHeight);\n                    delete that._shouldFocusInLastRow;\n                }\n                if (that._shouldFocusInFirstRow) {\n                    that.content.scrollTop(0);\n                    delete that._shouldFocusInFirstRow;\n                }\n            });\n\n            that._scrollToColumn(key);\n        },\n\n\n        _focusVirtualCell: function(first, scrollColumn) {\n            const that = this;\n            const scrollbar = this.virtualScrollable.verticalScrollbar;\n            const isScrolledToBottom = Math.ceil(scrollbar.scrollTop() + scrollbar.innerHeight()) >= scrollbar[0].scrollHeight;\n            const isScrollToTop = this.virtualScrollable.verticalScrollbar.scrollTop() === 0;\n            const scrollbarCondition = first ? isScrollToTop : isScrolledToBottom;\n            const key = first ? keys.HOME : keys.END;\n\n            if (scrollbarCondition) {\n                if (scrollColumn) {\n                    that._forceScrollVirtualColumn(key, first, true);\n                } else {\n                    that._setCurrentVirtualCell(first);\n                }\n            } else {\n                if (that.dataSource.group().length === 0) {\n                    that.virtualScrollable._alwaysScrollTop = true;\n                }\n\n                const scrollPosition = first ? 0 : scrollbar[0].scrollHeight;\n\n                that.one(DATABOUND, function() {\n                    if (scrollColumn) {\n                        that._forceScrollVirtualColumn(key, first, true);\n                    } else {\n                        that._setCurrentVirtualCell(first);\n\n                        if (that._shouldFocusInLastRow) {\n                            delete that._shouldFocusInLastRow;\n                        }\n                        if (that._shouldFocusInFirstRow) {\n                            delete that._shouldFocusInFirstRow;\n                        }\n                    }\n                });\n                scrollbar.scrollTop(scrollPosition);\n                scrollbar.trigger(SCROLL);\n            }\n        },\n\n        _handleEnd: function(current, ctrl) {\n            const that = this;\n            let row = current.parent();\n            const rowContainer = row.parent();\n            const isInLockedTable = that.lockedTable && that.lockedTable.children(\"tbody\")[0] === rowContainer[0];\n            const isInBody = rowContainer[0] === that.tbody[0];\n            let next;\n\n            const hasVirtualColumns = that._hasVirtualColumns();\n            const hasVirtualRows = that._hasVirtualRows();\n            const scrollable = hasVirtualRows ? that.virtualScrollable.wrapper : that.content;\n            const isScrolledToEnd = (scrollable.scrollLeft() + scrollable.innerWidth()) >= scrollable[0].scrollWidth;\n\n            if (hasVirtualColumns && hasVirtualRows && ctrl) {\n                that._focusVirtualCell(false, hasVirtualColumns && !isScrolledToEnd);\n\n                return true;\n            }\n\n            if (hasVirtualColumns) {\n                if (isScrolledToEnd) {\n                    that._setCurrent(that.table.find(ITEMROW).last().children(NAVCELL).last());\n                } else {\n                    that._forceScrollVirtualColumn(keys.END, ctrl);\n                }\n\n                return true;\n            }\n\n            if (hasVirtualRows && ctrl) {\n                that._focusVirtualCell(false);\n\n                return true;\n            }\n\n            if (ctrl) {\n                next = that.table.find(ITEMROW).last().children(NAVCELL).last();\n            } else if (isInBody || isInLockedTable) {\n                if (!isInBody && this.lockedTable) {\n                    row = that._relatedRow(row);\n                }\n                next = row.children(DATA_CELL).last();\n            }\n\n            if (next && next.length) {\n                that._setCurrent(next);\n                return true;\n            }\n        },\n\n        _handlePageDown: function() {\n            if (!this.options.pageable) {\n                return false;\n            }\n\n            this.dataSource.page(this.dataSource.page() + 1);\n\n            return true;\n        },\n\n        _handlePageUp: function() {\n            if (!this.options.pageable) {\n                return false;\n            }\n\n            this.dataSource.page(this.dataSource.page() - 1);\n\n            return true;\n        },\n\n        _handleTabKey: function(current, currentTable, shiftKey, target) {\n            const isInCell = this.options.editable && this._editMode() == \"incell\";\n            let cell = $(activeElement()).closest(\".k-grid-stack-edit-cell,.k-edit-cell\");\n            let filterFocusable;\n\n            const stacked = this._isStackedMode();\n            const isTargetFocusable = target.is(FOCUSABLE);\n            const isTargetNotTable = !target.is(\"table\");\n            const focusStackedCell = stacked && target.is(\".k-grid-stack-cell\");\n            const stackedParent = !focusStackedCell && target.closest(\".k-grid-stack-cell\");\n            const isCurrentFocusableGridElement = this._isFocusableGridElement(current);\n            const isNotInEditMode = !isInEdit(current);\n            const initialTarget = target;\n\n            let hasMultipleFocusableElements;\n\n            if (stacked) {\n                if (focusStackedCell) {\n                    hasMultipleFocusableElements = target.parent().find(\".k-grid-stack-cell\").length > 1;\n                } else if (stackedParent && stackedParent.length) {\n                    hasMultipleFocusableElements = stackedParent.find(FOCUSABLE).length > 1;\n                }\n            } else {\n                hasMultipleFocusableElements = current.find(FOCUSABLE).length > 1;\n            }\n\n            if (!cell[0] && isTargetFocusable && isTargetNotTable && hasMultipleFocusableElements && isCurrentFocusableGridElement && isNotInEditMode) {\n                if (!stacked && ((target.is(\":last-child\") && !shiftKey) || (target.is(\":first-child\") && shiftKey))) {\n                    focusTable(this.table, true);\n                    return true;\n                }\n\n                if (shiftKey) {\n                    target = target.prev(FOCUSABLE);\n                } else {\n                    target = target.next(FOCUSABLE);\n                }\n\n                if (focusStackedCell && !target.length) {\n                    const focusableSiblings = initialTarget.parent().find(\".k-grid-stack-cell\");\n\n                    if (shiftKey && initialTarget.is(\":first-child\")) {\n                        target = focusableSiblings.last();\n                    }\n                    if (!shiftKey && initialTarget.is(\":last-child\")) {\n                        target = focusableSiblings.first();\n                    }\n                } else if (!target.length && !focusStackedCell) {\n                    const closestStackedCell = initialTarget.closest(\".k-grid-stack-cell\");\n\n                    if (shiftKey && initialTarget.is(\":first-child\")) {\n                        target = closestStackedCell;\n                    }\n                    if (!shiftKey && initialTarget.is(\":last-child\")) {\n                        target = closestStackedCell.find(FOCUSABLE).first();\n                    }\n                }\n\n                if (stacked && target.is(\".k-grid-stack-cell\")) {\n                    this._currentStackedCell(target, true);\n                } else {\n                    target.trigger(\"focus\");\n                }\n\n                return true;\n            }\n\n            const stackedCondition = stacked && !focusStackedCell && !cell[0];\n            if (stackedCondition || !isInCell ||\n                current.is(\"th\") ||\n                (this.options.scrollable ? (this._headertables && this._headertables.filter(currentTable).length) : (this.thead && this.thead.filter(target).length))) {\n                if (current.parent().hasClass(\"k-filter-row\")) {\n                    filterFocusable = this._filterFocusable();\n\n                    if (!shiftKey && filterFocusable[filterFocusable.length - 1] === document.activeElement) {\n                        filterFocusable.first().trigger(\"focus\");\n\n                        return true;\n                    } else if (shiftKey && filterFocusable[0] === document.activeElement) {\n                        filterFocusable.last().trigger(\"focus\");\n\n                        return true;\n                    }\n                }\n\n                return false;\n            }\n\n            if (cell[0] && cell[0] !== current[0]) {\n                current = cell;\n            }\n\n            cell = this._tabNext(current, currentTable, shiftKey);\n\n            if (cell[0] === current[0]) {\n                return false;\n            }\n\n            if (cell.length && this._isEditableEnabled) {\n                this._handleEditing(current, cell, cell.closest(\"table\"));\n\n                return true;\n            }\n\n            return false;\n        },\n\n        _handleDeletion: function(e) {\n            const that = this;\n            const current = that.current();\n            const activeElementInstance = $(activeElement());\n            const stackedCondition = !that._isStackedMode() ? !activeElementInstance.is(\"table\") : !that._currentStackedCell();\n            const editable = that._isEditableEnabled !== undefined ? that._isEditableEnabled && that.options.editable : that.options.editable;\n\n            if (!editable || isInEdit(current) || stackedCondition || !current.closest(\"tbody\").length || !current.closest(\".k-master-row\").length) {\n                return false;\n            }\n\n            that._removeCommandClick({ currentTarget: current, preventDefault: e.preventDefault, stopPropagation: e.stopPropagation });\n\n            return true;\n        },\n\n        _handleEscKey: function(current) {\n            const active = activeElement();\n            const isInCell = this._editMode() == \"incell\";\n            const stacked = this._isStackedMode();\n            const activeElementInstance = $(active);\n            const stackedParent = !activeElementInstance.is(\".k-grid-stack-cell\") ? activeElementInstance.closest(\".k-grid-stack-cell\") : $();\n            const cell = stacked ? activeElementInstance : current;\n            const targetIsInsideStackedCell = stackedParent && stackedParent.length > 0;\n            const isStackedCell = stacked && cell.is(\".k-grid-stack-cell\");\n\n            if (!isInEdit(stackedParent.length ? stackedParent : cell)) {\n                if (isStackedCell || (!targetIsInsideStackedCell && current.has(active).length && !(this._isFocusableGridElement(current) && current.find(FOCUSABLE).length === 1))) {\n                    // return focus back to the table\n                    focusTable(this.table, true);\n                    delete this._activeStackedCell;\n                    return true;\n                }\n\n                if (targetIsInsideStackedCell) {\n                    stackedParent.trigger(\"focus\");\n                    return true;\n                }\n\n                if (current.parent().hasClass(\"k-filter-row\")) {\n                    this._filterFocusable().attr(TABINDEX, -1);\n                    focusTable(this.table, true);\n\n                    return true;\n                }\n\n                return false;\n            }\n\n            if (isInCell) {\n                this.closeCell(true);\n                if (stacked && targetIsInsideStackedCell) {\n                    addElementsToTab(stackedParent.parent().children(\".k-grid-stack-cell\"));\n                    this._currentStackedCell(stackedParent, true);\n                }\n            } else {\n                var currentIndex = $(current).closest(TR).index();\n                if (active) {\n                    active.blur();\n                }\n                this.cancelRow(true);\n                if (currentIndex >= 0) {\n                    const lastActiveStackedCell = this._currentStackedCell();\n\n                    if (stacked && lastActiveStackedCell) {\n                        const cell = this.tbody\n                            .find(TR)\n                            .eq(currentIndex)\n                            .find(\".k-grid-stack-cell\")\n                            .eq(lastActiveStackedCell.index);\n                        this._setCurrentStackedCell(cell);\n                    } else {\n                        const target = this.items().eq(currentIndex).children(NAVCELL).first();\n                        this._setCurrent(target);\n                    }\n                }\n            }\n\n            if (!stacked) {\n                focusTable(this.table, true);\n            }\n\n            return !stacked;\n        },\n\n        _toggleCurrent: function(current, editable, hasDetails) {\n            const that = this;\n            const row = current.parent();\n\n            if (current.is(\".k-command-cell\")) {\n                return false;\n            }\n\n            if (row.is(\".k-filter-row\")) {\n                return false;\n            }\n\n            if (row.is(DOT + GROUPING_ROW)) {\n                row.find(\".k-icon,.k-svg-icon\").first().click();\n\n                return true;\n            }\n\n            if (!editable && hasDetails) {\n                const selector = that._isStackedMode() ? `[ref=\"expand-detail-button\"], [ref=\"collapse-detail-button\"]` : \".k-icon,.k-svg-icon\";\n                row.find(selector).first().click();\n\n                return true;\n            }\n\n            return false;\n        },\n\n        _handleSpaceKey: function(current, ctrlKey) {\n            var that = this;\n\n            if (!ctrlKey || !that.groupable || !current.hasClass(HEADER_CLASS)) {\n                return;\n            }\n            var descriptors = that.groupable.descriptors();\n            var field = current.attr(kendo.attr(\"field\"));\n            var aggregates = that.groupable.aggregates();\n\n            if (that.groupable._canDrag(current)) {\n                descriptors.push({\n                    field: field,\n                    dir: \"asc\",\n                    aggregates: aggregates || []\n                });\n            } else {\n                descriptors = $.grep(descriptors, function(item) {\n                    return item.field !== field;\n                });\n            }\n\n            if (that.trigger(\"group\", { groups: descriptors })) {\n                return;\n            }\n\n            that.dataSource.group(descriptors);\n\n            return true;\n        },\n\n        _hasStackedModeDetailsButton: function(cell) {\n            return cell.find(`[ref=\"expand-detail-button\"], [ref=\"collapse-detail-button\"]`).length > 0;\n        },\n\n        _currentStackedCell: function(current, triggerFocus) {\n            const that = this;\n\n            if (!current || !current.length) {\n                return that._activeStackedCell;\n            }\n\n            that._activeStackedCell = {\n                cell: current,\n                index: current.index(),\n            };\n\n            if (triggerFocus && current.length) {\n                current.trigger(\"focus\");\n            }\n\n        },\n\n        _handleEnterKey: function(current, currentTable, target, isF2) {\n            const that = this;\n\n            var editable = this.options.editable && this.options.editable.update !== false;\n            var container = target.closest(\"td\");\n            var hasDetails = this._hasDetails();\n            var link, filterFocusable;\n\n            const stacked = that._isStackedMode();\n            const skipToEditing = stacked && isF2 && that._editMode() !== \"incell\";\n            const editClass = stacked ? \"k-grid-stack-edit-cell\" : \"k-edit-cell\";\n            const focusIsInStackedCell = stacked && (target.is(\".k-grid-stack-cell\") || target.parent().is(\".k-grid-stack-cell\") || target.closest(\".k-grid-stack-cell\").length > 0);\n\n\n            if (!target.is(\"table\") && !$.contains(current[0], target[0])) {\n                current = container;\n            }\n\n            if (current.is(\"th\")) {\n                // sort the column, if possible\n                link = current.find(\".k-link\");\n\n                if (current.has($(activeElement())).length > 0) {\n                    return false;\n                } else if (link.length) {\n                    link.click();\n                } else if (current.parent().hasClass(\"k-filter-row\")) {\n                    filterFocusable = this._filterFocusable();\n                    filterFocusable.attr(TABINDEX, 0);\n                    current.find(\":kendoFocusable\").first().trigger(\"focus\");\n                } else {\n                    current.find(CHECKBOXINPUT).trigger(\"focus\");\n                }\n\n                return true;\n            }\n\n            if (!skipToEditing) {\n                 if (!focusIsInStackedCell && this._toggleCurrent(current, editable, hasDetails)) {\n                    return true;\n                }\n\n                if (focusIsInStackedCell && that._hasStackedModeDetailsButton(target)) {\n                    this._toggleCurrent(current, false, true);\n                    return true;\n                }\n\n                let focusableSelector = \":kendoFocusable\";\n\n                if (stacked && !focusIsInStackedCell) {\n                    addElementsToTab(current.find(\".k-grid-stack-cell\"));\n                }\n\n                const focusableContainer = focusIsInStackedCell ? target : current;\n\n                var focusable = focusableContainer.find(focusableSelector).first();\n                if (focusable[0] && (focusIsInStackedCell || (!current.hasClass(editClass) && current.hasClass(\"k-focus\")))) {\n                    if (!focusIsInStackedCell) {\n                        that._currentStackedCell(focusable, true);\n                    } else {\n                        focusable.trigger(\"focus\");\n                    }\n                    return true;\n                }\n            }\n\n            if (editable && !target.is(\":button,.k-button,textarea\")) {\n                if (!container[0]) {\n                    container = current;\n                }\n\n                if (stacked && target.is(\".k-grid-stack-cell\")) {\n                    that._currentStackedCell(target);\n                }\n\n                if (focusIsInStackedCell) {\n                    if (!target.is(\".k-grid-stack-cell\")) {\n                        container = target.closest(\".k-grid-stack-cell\");\n                    } else {\n                        container = target;\n                    }\n                }\n\n                if (this._isEditableEnabled) {\n                    this._handleEditing(container, false, currentTable);\n                }\n                return true;\n            }\n\n            return false;\n        },\n\n        _nextHorizontalCell: function(table, current, originalIndex) {\n            var cells = current.nextAll(DATA_CELL);\n\n            if (!cells.length) {\n                var rows = table.find(NAVROW);\n                var rowIndex = rows.index(current.parent());\n\n                //no sibling cells are found and we've changed the table\n                if (rowIndex == -1) {\n                    if (current.hasClass(HEADER_CLASS)) {\n                        var headerRows = [];\n                        mapColumnToCellRows([lockedColumns(this.columns)[0]], childColumnsCells(rows.eq(0).children(\":visible\").first()), headerRows, 0, 0);\n\n                        if (headerRows[originalIndex]) {\n                            return headerRows[originalIndex][0];\n                        }\n\n                        return current;\n                    }\n\n                    //current is in filter row\n                    if (current.parent().hasClass(\"k-filter-row\")) {\n                        return rows.last().children(DATA_CELL).first();\n                    }\n\n                    //get the same row index in the new table\n                    return this._findVisibleCell(rows.eq(originalIndex).children(DATA_CELL + \",[hidden]\").first());\n                }\n            }\n\n            return this._findVisibleCell(current.nextAll(DATA_CELL + \",[hidden]\").eq(0));\n        },\n\n        _prevHorizontalCell: function(table, current, originalIndex) {\n            var cells = current.prevAll(DATA_CELL);\n\n            if (!cells.length) {\n                var rows = table.find(NAVROW);\n                var rowIndex = rows.index(current.parent());\n\n                //no sibling cells are found and we've changed the table\n                if (rowIndex == -1) {\n                    if (current.hasClass(HEADER_CLASS)) {\n                        var headerRows = [];\n                        var columns = lockedColumns(this.columns);\n                        mapColumnToCellRows([columns[columns.length - 1]], childColumnsCells(rows.eq(0).children().last()), headerRows, 0, 0);\n\n                        if (headerRows[originalIndex]) {\n                            return headerRows[originalIndex][0];\n                        }\n\n                        return current;\n                    }\n\n                    //current is in filter row\n                    if (current.parent().hasClass(\"k-filter-row\")) {\n                        return rows.last().children(DATA_CELL).last();\n                    }\n\n                    //get the same row index in the new table\n                    return rows.eq(originalIndex).children(DATA_CELL).last();\n                }\n            }\n\n            cells = current.prevAll(DATA_CELL + \",[hidden]\");\n            let cellToFocus = this._findVisibleCell(cells.first());\n            if (cellToFocus.is(\".k-group-cell\")) {\n                return cellToFocus.next(DATA_CELL);\n            }\n\n            return cellToFocus;\n        },\n\n        _currentDataIndex: function(table, current) {\n            var index = current.attr(\"data-index\");\n\n            if (!index) {\n                return undefined;\n            }\n\n            var lockedColumnsCount = lockedColumns(this.columns).length;\n            if (lockedColumnsCount && !table.closest(DIV).hasClass(\"k-grid-content-locked\")[0]) {\n                return index - lockedColumnsCount;\n            }\n\n            return index;\n        },\n\n        _findVisibleCell: function($cell) {\n            var col = $cell.index();\n            var row = $cell.closest('tr').index();\n            var $newFocus;\n\n            if ($cell.is('[hidden]')) {\n                $newFocus = $cell.prevAll(':not([hidden])').first();\n                var hiddenCount = $cell.prevUntil(':not([hidden])', '[hidden]').length;\n                if (!$newFocus.attr('colspan') || ($newFocus.attr('colspan') > 1 && $newFocus.attr('colspan') <= hiddenCount + 1)) {\n                    $newFocus = $cell.prevAll('[hidden]').last();\n                    if ($newFocus.length === 0) {\n                        return $cell.closest('tr').prevAll().find(`td:nth-of-type(${col + 1}):visible`).last();\n                    }\n\n                    while (!$newFocus.attr('rowspan') && !($newFocus.attr('rowspan') > 1 && $newFocus.attr('rowspan') != row - $newFocus.closest('tr').index()) && Math.abs($newFocus.index() - col) != $newFocus.attr('colspan')) {\n                        $newFocus = $newFocus.closest('tr').prevAll().find('td, th').eq(col).first();\n                        if ($newFocus.length === 0) {\n                            $newFocus = $cell;\n                            break;\n                        }\n                    }\n                }\n            } else {\n                $newFocus = $cell;\n            }\n\n            return $newFocus;\n        },\n\n        _prevVerticalCell: function(container, current) {\n            var cells;\n            var row = current.parent();\n            var rows = container.children(NAVROW);\n            var rowIndex = rows.index(row);\n            //get data-index in case of last level of multi-level columns\n            var index = this._currentDataIndex(container, current);\n\n            //current is in the header, but not at the last level of multi-level columns\n            if (index || current.hasClass(HEADER_CLASS)) {\n                cells = parentColumnsCells(current);\n                return cells.eq(cells.length - 2);\n            }\n\n            //check this out\n            index = Math.max(row.children(DATA_CELL_HIDDENINCLUDED).index(current), this._lastCellIndex || 0);\n\n            //if current is inside filter row\n            if (row.hasClass(\"k-filter-row\")) {\n                let offset = rows.last().children(\".k-group-cell\").length;\n\n                return leafDataCells(container).filter(isCellVisible).eq(Math.max(0, index - offset));\n            }\n\n            //move up to header container\n            if (rowIndex == -1) {\n                if (this._hasVirtualColumns()) {\n                    index = this._virtualCellIndex;\n                }\n                //is there filter row in the header container\n                row = container.find(\"tr.k-filter-row:visible\");\n                if (!row[0]) {\n                    // in hierarchical grid we need to correct the index\n                    // since the k-hierarchy cell is navigatable\n                    if ((this._hasDetails() || current.parent().find('.k-hierarchy-cell').length) && index) {\n                        index--;\n                    }\n\n                    let offset = 0;\n                    if (current.parent().is(\".k-table-group-row\")) {\n                        offset = rows.last().children(\".k-group-cell\").length;\n                    }\n\n                    return leafDataCells(container).eq(Math.max(0, index - offset));\n                } else {\n                    if (this._hasDetails()) {\n                        index--;\n                    }\n                }\n            } else {\n                row = rowIndex === 0 ? $() : rows.eq(rowIndex - 1);\n            }\n\n            cells = row.children(DATA_CELL_HIDDENINCLUDED);\n            if (cells.length > index) {\n                let nextCell = cells.eq(index);\n                if (nextCell.is(\".k-group-cell\")) {\n                    nextCell = nextCell.nextAll(\"td\").not(\".k-group-cell\").not(\":hidden\").first();\n                }\n\n                return this._findVisibleCell(nextCell);\n            }\n\n            return cells.eq(0);\n        },\n\n        _nextVerticalCell: function(container, current) {\n            var cells;\n            var originalRow;\n            var row = originalRow = current.closest(TR);\n            var rows = container.children(NAVROW);\n            var rowIndex = rows.index(row);\n            //get data-index in case of last level of multi-level columns\n            var index = this._currentDataIndex(container, current);\n            var virtualScroll = this.virtualScroll || {};\n            var colspan;\n            //current is in the header, but not at the last level of multi-level columns\n            //and we are not changing the table\n            if (rowIndex != -1 && index === undefined && current.hasClass(HEADER_CLASS)) {\n                return childColumnsCells(current).eq(1);\n            }\n\n            index = index ? parseInt(index, 10) : row.children(DATA_CELL_HIDDENINCLUDED).index(current);\n            index = Math.max(index, this._lastCellIndex || 0);\n\n            //move down to data container\n            if (rowIndex == -1) {\n                row = rows.eq(0);\n                if (virtualScroll.columns) {\n                    colspan = parseInt(row.children().first().attr(\"colspan\"), 10);\n                    index = this._virtualCellIndex - (colspan > 1 ? colspan : 0);\n                }\n                // in hierarchical grid we need to correct the index\n                // since the k-hierarchy cell is navigatable\n                if (this._hasDetails() || row.find('.k-hierarchy-cell').length) {\n                    index++;\n                }\n\n                if (row.hasClass(\"k-table-group-row\")) {\n                    index += originalRow.children(\".k-group-cell\").length;\n                }\n            } else {\n                row = rows.eq(rowIndex + current[0].rowSpan);\n            }\n\n            cells = row.children(\".k-group-cell,\" + DATA_CELL_HIDDENINCLUDED);\n\n            let cellToFocus = cells.eq(0);\n            if (cells.length > index) {\n                cellToFocus = cells.eq(index);\n            }\n\n            if (cellToFocus.is(\".k-group-cell\")) {\n                cellToFocus = cellToFocus.nextAll(\"td\").not(\".k-group-cell\").not(\":hidden\").first();\n            }\n\n            return cellToFocus;\n        },\n\n        _verticalContainer: function(container, up) {\n            var table = container.parent();\n            var length = this._navigatableTables.length;\n            var step = Math.floor(length / 2);\n            var index = inArray(table[0], this._navigatableTables);\n\n            if (up) {\n                step *= -1;\n            }\n            index += step;\n\n            if (index >= 0 || index < length) {\n                table = this._navigatableTables.eq(index);\n            }\n\n            return table.find(up ? \">thead\" : \">tbody\");\n        },\n\n        _filterFocusable: function() {\n            return this.wrapper.find(\".k-filter-row\").find(\".k-dropdownlist, .k-input .k-input-inner:visible, input[type='radio']:visible, input[type='checkbox']:visible\");\n        },\n\n        _horizontalContainer: function(container, right) {\n            var length = this._navigatableTables.length;\n            if (length <= 2) {\n                return container;\n            }\n\n            var table = container.parent();\n            var index = inArray(table[0], this._navigatableTables);\n\n            index += right ? 1 : -1;\n\n            if (right && (index == 2 || index == length)) {\n                return container;\n            }\n\n            if (!right && (index == 1 || index < 0)) {\n                return container;\n            }\n\n            return this._navigatableTables.eq(index).find(\"thead, tbody\");\n        },\n\n        _tabNext: function(current, currentTable, back) {\n            var switchRow = true;\n            var next = back ? current.prevAll(DATA_CELL).first() : current.nextAll(\":visible\").first();\n\n            if (!next.length) {\n                next = current.parent();\n                if (this.lockedTable) {\n                    switchRow = (back && currentTable == this.lockedTable[0]) || (!back && currentTable == this.table[0]);\n                    next = this._relatedRow(next);\n                }\n\n                if (switchRow) {\n                    if (this._hasVirtualColumns()) {\n                        return current;\n                    }\n                    next = next[back ? \"prevAll\" : \"nextAll\"](\"tr:not(.k-grouping-row):not(.k-detail-row):visible\").first();\n                }\n                if (back) {\n                    next = next.children(DATA_CELL).last();\n                } else {\n                    next = next.children(DATA_CELL).first();\n                }\n            }\n\n            return next;\n        },\n\n        _handleEditing: function(current, next, table) {\n            var that = this,\n                active = $(activeElement()),\n                mode = that._editMode(),\n                isIE = browser.msie,\n                editContainer = that._editContainer,\n                focusable,\n                editable = that.options.editable && that.options.editable.update !== false,\n                isEdited;\n\n            const stacked = that._isStackedMode();\n            const isStackedCell = current.is(\".k-grid-stack-cell\");\n\n            table = $(table);\n            if (mode == \"incell\") {\n                const editClass = stacked ? \"k-grid-stack-edit-cell\" : \"k-edit-cell\";\n                isEdited = current.hasClass(editClass);\n            } else {\n                isEdited = isStackedCell ? current.hasClass(\"k-grid-stack-edit-cell\") : current.parent().hasClass(\"k-grid-edit-row\");\n            }\n\n            if (that.editable) {\n                if ($.contains(editContainer[0], active[0])) {\n                    active.trigger(\"blur\");\n                    if (isIE) {\n                        //IE10 with jQuery 1.9.x does not trigger blur handler\n                        //numeric textbox does trigger change\n                        active.trigger(\"blur\");\n                    }\n                }\n\n                if (!that.editable && !isStackedCell) {\n                    focusTable(that.table);\n                    return;\n                }\n\n                if (that.editable.end()) {\n                    if (mode == \"incell\") {\n                        that.closeCell();\n                    } else {\n                        that.saveRow();\n                        isEdited = true;\n                    }\n                } else {\n                    if (stacked && isStackedCell) {\n                        return that._setCurrentStackedCell(current);\n                    }\n\n                    if (mode == \"incell\") {\n                        that._setCurrent(editContainer);\n                    } else {\n                        that._setCurrent(editContainer.children().filter(DATA_CELL).first());\n                    }\n                    focusable = editContainer.find(\":kendoFocusable\").first()[0];\n                    if (focusable) {\n                        focusable.focus();\n                    }\n                    return;\n                }\n            }\n\n            if (next) {\n                that._setCurrent(next);\n            }\n\n            if (!isStackedCell) {\n                focusTable(that.table, true);\n            }\n\n            if (!editable) {\n                return;\n            }\n\n            if ((!isEdited && !next) || next) {\n                if (mode === INCELL) {\n                    const incellCondition = stacked ? current.find(\"[ref='expand-detail-button'], [ref='collapse-detail-button']\").length : $(that.current()).hasClass(HIERARCHY_CELL_CLASS);\n                    if (!incellCondition) {\n                        const stacked = that._isStackedMode();\n                        const cell = stacked ? current : that.current();\n\n                        if (stacked && cell.is(\".k-command-cell\")) {\n                            return;\n                        }\n\n                        that.editCell(cell, stacked && cell.parent().children().index(cell));\n                    }\n                } else {\n                    that.editRow(that.current().parent());\n                }\n            }\n\n            that._toggleToolbarEditingItemsVisibility();\n        },\n\n        _wrapper: function() {\n            var that = this,\n                table = that.table,\n                height = that.options.height,\n                width = that.options.width,\n                wrapper = that.element;\n\n            if (!wrapper.is(DIV)) {\n                wrapper = wrapper.wrap(\"<div/>\").parent();\n            }\n\n            that.wrapper = wrapper.addClass(\"k-grid \" + kendo.getValidCssClass(\"k-grid-\", \"size\", that.options.size));\n\n            if (that._isStackedMode()) {\n                that.wrapper.addClass(STACKED);\n            } else {\n                that.wrapper.removeClass(STACKED);\n            }\n\n            if (height) {\n                that.wrapper.css(HEIGHT, height);\n                table.css(HEIGHT, AUTO);\n            }\n\n            if (width) {\n                that.wrapper.css(WIDTH, width);\n            }\n\n            that._initMobile();\n        },\n\n        _initContextMenu: function() {\n            var that = this,\n                options = that.options,\n                groupsContextMenu = isPlainObject(options.contextMenu) && isArray(options.contextMenu.groups) ? { items: options.contextMenu.groups } : { items: defaultGroupsContextMenu },\n                tbodyContextMenu = isPlainObject(options.contextMenu) && isArray(options.contextMenu.body) ? { items: options.contextMenu.body } : { items: defaultBodyContextMenu },\n                theadContextMenu = isPlainObject(options.contextMenu) && isArray(options.contextMenu.head) ? { items: options.contextMenu.head } : { items: defaultHeadContextMenu };\n\n            var mainOptions = isPlainObject(options.contextMenu) ? options.contextMenu : {};\n\n            tbodyContextMenu = extend({}, {\n                messages: options.messages,\n                target: that.tbody,\n                filter: \".k-table-td\",\n                action: that._action.bind(that),\n                states: that._buildStates()\n            }, mainOptions, tbodyContextMenu);\n\n            theadContextMenu = extend({}, {\n                messages: options.messages,\n                target: that.thead,\n                filter: \".k-table-th\",\n                action: that._action.bind(that),\n                states: that._buildStates()\n            }, mainOptions, theadContextMenu);\n\n            if (that.groupable) {\n                groupsContextMenu = extend({}, {\n                    showOn: \"click\",\n                    target: that.groupable.groupContainer,\n                    filter: \".k-groupable-context-menu\",\n                    messages: options.messages,\n                    action: that._action.bind(that),\n                    states: that._buildStates()\n                }, mainOptions, groupsContextMenu);\n            }\n\n\n            that.tbodyContextMenu = new ui.grid.ContextMenu(\"<ul></ul>\", tbodyContextMenu);\n            that.theadContextMenu = new ui.grid.ContextMenu(\"<ul></ul>\", theadContextMenu);\n            that.groupsContextMenu = !!that.groupable && new ui.grid.ContextMenu(\"<ul></ul>\", groupsContextMenu);\n        },\n\n        _buildStates: function() {\n            var that = this;\n\n            return {\n                isEditable: that.options.editable,\n                isSelectable: that.options.selectable,\n                isSortable: that.options.sortable,\n                isRowReorderable: isPlainObject(that.options.reorderable) ? that.options.reorderable.rows : that.options.reorderable,\n                isGroupable: that.options.groupable,\n                allowPaste: that.options.allowPaste,\n                alwaysDisabled: false,\n                hasSelection: () => (this.select() ? this.select().length > 0 : false),\n                isSorted: () => !(this.dataSource.sort() ? this.dataSource.sort().length > 0 : false),\n                canMoveGroupPrev: (target) => {\n                    var group = $(target).closest(\".k-chip\");\n\n                    return group.index() > 0;\n                },\n                canMoveGroupNext: (target) => {\n                    var length = $(target).closest(\".k-chip-list\").children().length - 1;\n                    var group = $(target).closest(\".k-chip\");\n\n                    return group.index() < length;\n                }\n            };\n        },\n\n        _action: function(args) {\n            var commandName = args.command,\n                commandOptions = extend({ grid: this }, args.options),\n                command = new ui.grid.commands[commandName](commandOptions);\n\n            return command.exec();\n        },\n\n        _initMobile: function() {\n            var options = this.options;\n            var that = this;\n\n            this._isMobile = that.options.adaptiveMode !== 'auto' && (options.mobile === true && kendo.support.mobileOS) ||\n                options.mobile === \"phone\" ||\n                options.mobile === \"tablet\";\n\n\n            if (kendo.support.mobileOS) {\n                this.wrapper.addClass(\"k-grid-mobile\");\n            }\n\n            if (this._isMobile) {\n                var html = this.wrapper.wrap(\n                    '<div data-' + kendo.ns + 'stretch=\"true\" data-' + kendo.ns + 'role=\"view\" ' +\n                    'data-' + kendo.ns + 'init-widgets=\"false\"></div>'\n                )\n                    .parent();\n\n                this.pane = this._createPane(html);\n                this.view = this.pane.view();\n\n                if (options.height) {\n                    this.pane.element.parent().css(HEIGHT, options.height);\n                } else {\n                    this.pane.element.parent().css(HEIGHT, this.wrapper[0].style.height);\n                }\n\n                this._editAnimation = \"slide\";\n\n                // Grid transitions should not propagate to the view\n                that.wrapper.on(\"transitionend\" + NS, function(e) {\n                    e.stopPropagation();\n                });\n\n                that.wrapper.on(\"contextmenu\" + NS, \"th a\", function(e) {\n                    e.preventDefault();\n                    return false;\n                });\n\n                this.view.bind(\"showStart\", function() {\n                    if (that._isLocked()) {\n                        that._updateTablesWidth();\n                        that._applyLockedContainersWidth();\n                        that._syncLockedContentHeight();\n                        that._syncLockedHeaderHeight();\n                        that._syncLockedFooterHeight();\n                    }\n                });\n            }\n        },\n\n        _createPane: function(html) {\n            var pane = kendo.Pane.wrap(html, {\n                viewEngine: {\n                    viewOptions: {\n                        renderOnInit: true,\n                        wrap: false,\n                        wrapInSections: true,\n                        detachOnHide: false,\n                        detachOnDestroy: false\n                    }\n                }\n            });\n\n            return pane;\n        },\n\n        _initLoader: function(options) {\n            var that = this,\n                defaultOptions = {\n                    size: 'medium',\n                    messages: { exporting: 'Exporting...' }\n                };\n            defaultOptions = $.extend({}, defaultOptions, options);\n\n            const loader = $(\"<div></div>\").kendoLoader(defaultOptions).data(\"kendoLoader\");\n\n            that.loader = loader;\n            that._loaderContainer = useLoaderContainer.bind(that);\n        },\n\n        _tbody: function() {\n            var that = this,\n                table = that.table,\n                tbody;\n\n            tbody = table.find(\">tbody\");\n\n            if (!tbody.length) {\n                tbody = $(\"<tbody/>\").appendTo(table);\n            }\n\n            tbody.addClass('k-table-tbody');\n            that.tbody = tbody;\n        },\n\n        _scrollable: function() {\n            var that = this,\n                header,\n                table,\n                options = that.options,\n                scrollable = options.scrollable,\n                hasVirtualScroll = scrollable !== true && scrollable.virtual,\n                virtualScroll = hasVirtualScroll ? parseVirtualSettings(scrollable.virtual) : null,\n                scrollbar = !kendo.support.kineticScrollNeeded || (virtualScroll && virtualScroll.rows) ? kendo.support.scrollbar() : 0,\n                headerWrap;\n\n            const stacked = that._isStackedMode();\n\n            if (scrollable) {\n                if (!stacked) {\n                    header = that.wrapper.children(\".k-grid-header\");\n\n                    if (!header[0]) {\n                        header = $('<div class=\"k-grid-header\" />').insertBefore(that.table);\n                    }\n\n                    // workaround for IE issue where scroll is not raised if container is same width as the scrollbar\n                    header.css((isRtl ? \"padding-left\" : \"padding-right\"), scrollable.virtual ? scrollbar + 1 : scrollbar);\n                    table = $('<table role=\"none\" class=\"k-grid-header-table k-table\"/>');\n                    table.addClass(kendo.getValidCssClass(\"k-table-\", \"size\", options.size));\n                    table.width(that.table[0].style.width);\n                }\n\n                if (!stacked) {\n                    table.append(that.thead);\n                    header.empty().append($('<div class=\"k-grid-header-wrap k-auto-scrollable\" />').append(table));\n                }\n\n\n                that.content = that.table.parent();\n                that.virtualScroll = virtualScroll;\n\n                if (that.content.is(\".k-virtual-scrollable-wrap, \" + DOT + classNames.scrollContainer)) {\n                    that.content = that.content.parent();\n                }\n\n                if (!that.content.is(\".k-grid-content, .k-virtual-scrollable-wrap\")) {\n                    that.content = that.table.wrap('<div class=\"k-grid-content k-auto-scrollable\" />').parent();\n                }\n\n                if (!that.content.parent().hasClass(\"k-grid-container\")) {\n                    that.content.wrap(\"<div class='k-grid-container' />\").parent();\n                }\n\n                if (virtualScroll && virtualScroll.rows && !that.virtualScrollable) {\n                    that._createVirtualScrollable();\n                }\n\n                if (virtualScroll && virtualScroll.columns) {\n\n                    that.table.add(that.thead.parent()).css({\n                        width: sumWidths(visibleLeafColumns(visibleNonLockedColumns(that.columns)))\n                    });\n                }\n\n                if (!stacked) {\n                    headerWrap = header.children(\".k-grid-header-wrap\");\n                    that.scrollables = headerWrap.add(that.content);\n                } else {\n                    that.scrollables = that.content;\n                }\n\n\n                // the footer may exists if rendered from the server\n                var footer = that.wrapper.find(\".k-grid-footer\");\n\n                if (footer.length) {\n                    that.scrollables = that.scrollables.add(footer.children(\".k-grid-footer-wrap\"));\n                }\n\n                if (!stacked) {\n                    headerWrap.off(\"scroll\" + NS).on(\"scroll\" + NS, function(e) {\n                        if (that._scrollLeft !== this.scrollLeft) {\n                            kendo.scrollLeft(that.scrollables.not(e.currentTarget), this.scrollLeft);\n                        }\n                    });\n                }\n\n                if (virtualScroll && virtualScroll.rows) {\n                    that.content.find(\">.k-virtual-scrollable-wrap\").off(\"scroll\" + NS).on(\"scroll\" + NS, function() {\n                        var isScrollingLeft = this.scrollLeft != that._scrollLeft;\n                        that._scrollLeft = this.scrollLeft;\n                        kendo.scrollLeft(that.scrollables, this.scrollLeft);\n                        if (that.lockedContent) {\n                            that.lockedContent[0].scrollTop = this.scrollTop;\n                        }\n                        if (virtualScroll.columns && isScrollingLeft) {\n                            that.refresh();\n                        }\n                    });\n                } else {\n                    var endless = scrollable.endless;\n                    var originalPageSize = that.dataSource.options.pageSize;\n                    if (endless) {\n                        that._endlessPageSize = originalPageSize;\n                    }\n                    that.content.off(\"scroll\" + NS).on(\"scroll\" + NS, function(e) {\n                        var isScrollingLeft = this.scrollLeft != that._scrollLeft;\n                        that._scrollLeft = this.scrollLeft;\n                        kendo.scrollLeft(that.scrollables.not(e.currentTarget), that._scrollLeft);\n                        if (that.lockedContent && e.currentTarget == that.content[0]) {\n                            that.lockedContent[0].scrollTop = this.scrollTop;\n                        }\n                        if (endless) {\n                            if ((this.scrollTop + this.clientHeight - this.scrollHeight >= -10) &&\n                                !that._endlessFetchInProgress &&\n                                that._endlessPageSize < that.dataSource.total()) {\n                                that._skipRerenderItemsCount = that._endlessPageSize;\n                                that._endlessPageSize = that._endlessPageSize + originalPageSize;\n                                that.dataSource.options.endless = true;\n                                that._endlessFetchInProgress = true;\n                                that.dataSource.pageSize(that._endlessPageSize);\n                            }\n                        }\n\n                        if (virtualScroll && virtualScroll.columns && isScrollingLeft) {\n                            that._virtualColScroll = true;\n                            that._cacheEditableState();\n                            that.refresh();\n                            that._restoreEditableState();\n                            that._virtualColScroll = false;\n                        }\n\n                        if (that.rowResizer) {\n                            that.rowResizer.css(\"left\", e.currentTarget.scrollLeft + \"px\");\n                        }\n                    });\n\n                    var touchScroller = that.content.data(\"kendoTouchScroller\");\n                    if (touchScroller) {\n                        touchScroller.destroy();\n                    }\n\n                    touchScroller = kendo.touchScroller(that.content);\n                    if (touchScroller && touchScroller.movable) {\n                        that.touchScroller = touchScroller;\n                        touchScroller.movable.bind(\"change\", function(e) {\n                            kendo.scrollLeft(that.scrollables, -e.sender.x);\n                            if (that.lockedContent) {\n                                that.lockedContent.scrollTop(-e.sender.y);\n                            }\n                        });\n\n                        that.one(DATABOUND, function(e) {\n                            e.sender.wrapper.addClass(\"k-grid-backface\");\n                        });\n                    }\n                }\n            }\n        },\n\n        _createVirtualScrollable: function() {\n            var that = this;\n\n            if (that.virtualScrollable) {\n                that.virtualScrollable.destroy();\n            }\n\n            that.virtualScrollable = new VirtualScrollable(that.content, {\n                dataSource: that.dataSource,\n                itemHeight: function() { return that._averageRowHeight(); },\n                page: function() {\n                    that._restoreEditableState();\n                },\n                scroll: function() {\n                    that._focusEditable();\n                },\n                loadStart: function() {\n                    that._progress(true);\n                },\n                loadEnd: function() {\n                    that._progress(false);\n                }\n            });\n\n            that.virtualScrollable.bind(PAGING, that._onVirtualPaging.bind(that));\n        },\n\n        _onVirtualPaging: function() {\n            var that = this;\n\n            that._cacheEditableState();\n\n            if (that._isVirtualIncellEditable()) {\n                that._shouldClearEditableState = false;\n                that.closeCell();\n                that._shouldClearEditableState = true;\n            }\n        },\n\n        _isVirtualEditable: function() {\n            return this._isVirtualIncellEditable() || this._isVirtualInlineEditable() || this._isVirtualPopupEditable();\n        },\n\n        _isVirtualInlineEditable: function() {\n            return (this.virtualScrollable) && this._editMode() === INLINE;\n        },\n\n        _isVirtualIncellEditable: function() {\n            return (this.virtualScrollable) && this._editMode() === INCELL;\n        },\n\n        _isVirtualPopupEditable: function() {\n            return this.virtualScrollable && this._editMode() === \"popup\";\n        },\n\n        _hasVirtualColumns: function() {\n            return (this.virtualScroll || {}).columns ? true : false;\n        },\n\n        _hasVirtualRows: function() {\n            return (this.virtualScroll || {}).rows ? true : false;\n        },\n\n        _scrollVirtualWrapper: function() {\n            var that = this;\n            var scrollable = that.virtualScrollable;\n\n            if (that._isVirtualInlineEditable() || that._isVirtualIncellEditable()) {\n                if (scrollable._isScrolledToBottom()) {\n                    scrollable._scrollWrapperToBottom();\n                } else if (scrollable._isScrolledToTop()) {\n                    scrollable._scrollWrapperToTop();\n                }\n            }\n        },\n\n        _scrollVirtualWrapperOnColumnResize: function() {\n            var virtualScrollable = this.virtualScrollable;\n\n            if (virtualScrollable) {\n                virtualScrollable._scrollWrapperOnColumnResize();\n            }\n        },\n\n        _restoreEditableState: function() {\n            var that = this;\n            var editableState = that._editableState || {};\n            var editedModel = editableState.model;\n            var dataSource = that.dataSource;\n            var inlineMode = that._isVirtualInlineEditable();\n            var incellMode = that._isVirtualIncellEditable();\n            var virtualColumns = that._hasVirtualColumns();\n            var row;\n            var cell;\n\n            if ((inlineMode || incellMode || virtualColumns) && editedModel && dataSource._getByUid(editedModel.uid, dataSource.view())) {\n                if (that._editMode() === INLINE) {\n                    that._shouldClearEditableState = false;\n                    that.editRow(editedModel);\n                    if (!virtualColumns) {\n                        that._focusEditable();\n                    }\n                } else if (that._editMode() === INCELL) {\n                    const stacked = that._isStackedMode();\n                    row = that.tbody.children(attrEquals(UNIQUE_ID, editedModel.uid));\n                    cell = stacked ? $(row).find(\".k-grid-stack-cell:not(.k-drag-cell):not(.k-command-cell)\" + attrEquals(FIELD, editableState.field)) : $(row).children(attrEquals(FIELD, editableState.field));\n\n                    if (cell[0]) {\n                        that._shouldClearEditableState = false;\n                        that.editCell(cell, stacked && cell.parent().children().index(cell));\n                        if (!virtualColumns) {\n                            that._focusEditable();\n                        }\n                    }\n                }\n            }\n\n            that._shouldClearEditableState = true;\n        },\n\n        _focusEditable: function() {\n            var that = this;\n            var editedField = (that._editableState || {}).field;\n            var editContainer = that._editContainer;\n\n            if (editContainer && editContainer.length && !contains(editContainer[0], activeElement()) && that._canFocusEditable()) {\n                if (that._isVirtualInlineEditable() || that._hasVirtualColumns()) {\n                    editContainer.find(attrEquals(CONTAINER_FOR, editedField)).find(FOCUSABLE).eq(0).trigger(\"focus\");\n                } else if (that._isVirtualIncellEditable() || that._hasVirtualColumns()) {\n                    editContainer.find(FOCUSABLE).eq(0).trigger(\"focus\");\n                }\n            }\n        },\n\n        _canFocusEditable: function() {\n            var that = this;\n            var result = ((that._isVirtualIncellEditable() || that._isVirtualInlineEditable() || that._hasVirtualColumns()) &&\n                (isElementVisibleInWrapper((that.virtualScrollable || {}).wrapper, that._editContainer) || isElementVisibleInWrapper(that.content, that._editContainer)));\n\n            return result;\n        },\n\n        _cacheEditableState: function() {\n            var that = this;\n            var editContainer = that._editContainer;\n            var editedModel = editContainer ? that._modelForContainer(editContainer) : null;\n            var inlineMode = that._isVirtualInlineEditable();\n            var incellMode = that._isVirtualIncellEditable();\n            var virtualColumns = that._hasVirtualColumns();\n            var active;\n            var widget;\n            var value;\n\n            if ((inlineMode || incellMode || virtualColumns) && editedModel) {\n                that._clearEditableState();\n                active = $(activeElement());\n\n                if (editContainer && active[0] && contains(editContainer[0], active[0])) {\n                    //change event is not fired if the editable container is scrolled\n                    //out of the virtual view with the mousewheel right after editing\n                    active.change();\n\n                    widget = kendo.widgetInstance(active, kendo.ui);\n\n                    if (widget && isFunction(widget.value) && active.is(INPUT)) {\n                        value = active.val();\n\n                        if (active.is(\"[type='checkbox'\")) {\n                            value = active.is(\":checked\");\n                        }\n\n                        widget.value(value);\n                        widget.trigger(CHANGE);\n                    }\n                }\n\n                if (that._editMode() === INLINE) {\n                    that._editableState = {\n                        model: editedModel,\n                        field: active.closest(\"[\" + kendo.attr(CONTAINER_FOR) + \"]\").attr(kendo.attr(CONTAINER_FOR))\n                    };\n                } else if (that._editMode() === INCELL) {\n                    that._editableState = {\n                        model: editedModel,\n                        field: editContainer.attr(kendo.attr(FIELD))\n                    };\n                }\n            }\n        },\n\n        _clearSortClasses: function() {\n            var that = this,\n                content = that.content || that.table,\n                lockedContent = that.lockedContent;\n\n            if (content) {\n                content.find(COLGROUP).removeClass(SORTED_CLASS);\n            }\n\n            if (lockedContent) {\n                lockedContent.find(COLGROUP).removeClass(SORTED_CLASS);\n            }\n        },\n\n        _clearEditableState: function() {\n            var that = this;\n\n            if (that.virtualScrollable || (that.virtualScroll && that._hasVirtualColumns())) {\n                that._editableState = null;\n            }\n        },\n\n        _destroyVirtualScrollable: function() {\n            var that = this;\n\n            that._clearEditableState();\n\n            if (that.virtualScrollable && that.virtualScrollable.element) {\n                that.virtualScrollable.destroy();\n            }\n\n            that.virtualScrollable = null;\n        },\n\n        _destroyRowResizing: function() {\n            if (this.rowResizing) {\n                this.rowResizing.destroy();\n\n                this.rowResizing = null;\n            }\n\n            if (this.rowResizer) {\n                this._detachRowResizerEvents();\n                this.rowResizer.off(DUBLECLICK + NS);\n                this.rowResizer = null;\n                this._clearCachedRowsHeight();\n            }\n        },\n\n        _renderNoRecordsContent: function() {\n            var that = this;\n\n            if (that.options.noRecords) {\n                var noRecordsElement = that.table.parent().children('.' + NORECORDSCLASS);\n\n                if (noRecordsElement.length) {\n                    noRecordsElement.remove();\n                }\n\n                if (!that.dataSource || !that.dataSource.view().length) {\n                    noRecordsElement = $(that.noRecordsTemplate({ grid: that }));\n                    kendo.applyStylesFromKendoAttributes(noRecordsElement, [\"margin\", \"position\"]);\n                    noRecordsElement.insertAfter(that.table);\n                }\n            }\n        },\n\n        _setContentWidth: function(scrollLeft) {\n            var that = this,\n                hiddenDivClass = 'k-grid-content-expander',\n                hiddenDiv = '<div class=\"' + hiddenDivClass + '\"></div>',\n                resizable = that.resizable,\n                expander;\n\n            if (that.options.scrollable && that.wrapper.is(\":visible\")) {\n                expander = that.table.parent().children('.' + hiddenDivClass);\n                that._setContentWidthHandler = that._setContentWidth.bind(that);\n                if (!that.dataSource || !that.dataSource.view().length) {\n                    if (!expander[0]) {\n                        expander = $(hiddenDiv).appendTo(that.table.parent());\n                        if (resizable) {\n                            resizable.bind(\"resize\", that._setContentWidthHandler);\n                        }\n                    }\n                    if (that.thead) {\n                        expander.width(that.thead.width());\n                        if (!isNaN(parseFloat(scrollLeft, 10))) {\n                            kendo.scrollLeft(that.content, scrollLeft);\n                        }\n                    }\n                } else if (expander[0]) {\n                    expander.remove();\n                    if (resizable) {\n                        resizable.unbind(\"resize\", that._setContentWidthHandler);\n                    }\n                }\n\n                that._applyLockedContainersWidth(true);\n                that._syncLockedContentHeight();\n\n                // workaround IE does not show vertical scrollbar for elements without width\n                if (that.lockedHeader && that.table[0].clientWidth === 0) {\n                    that.table[0].style.width = \"1px\";\n                }\n            }\n        },\n\n        _applyLockedContainersWidth: function(calculateGroupWidth) {\n            if (this.options.scrollable && this.lockedHeader) {\n                let headerTable = this.thead.parent(),\n                    headerWrap = headerTable.parent(),\n                    contentWidth = this.wrapper[0].clientWidth,\n                    groups = this._groups(),\n                    scrollbar = kendo.support.scrollbar(),\n                    cols = this.lockedHeader.find(\">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)\"),\n                    nonLockedCols = headerTable.find(\">colgroup>col:not(.k-group-col, .k-hierarchy-col)\"),\n                    width = columnsWidth(cols),\n                    nonLockedColsWidth = columnsWidth(nonLockedCols),\n                    footerWrap;\n\n                if (groups > 0 && calculateGroupWidth) {\n                    width += outerWidth(this.lockedHeader.find(\".k-group-cell\").first()) * groups;\n                }\n\n                if (width >= contentWidth) {\n                    width = contentWidth - 3 * scrollbar;\n                }\n\n                this.lockedHeader\n                    .add(this.lockedContent)\n                    .width(width);\n\n                headerWrap[0].style.width = headerWrap.parent().width() - width - 2 + PX;\n\n                headerTable.add(this.table).width(nonLockedColsWidth);\n\n                //https://github.com/telerik/kendo-ui-core/issues/377\n                if (this.virtualScrollable && !isIE11) {\n                    contentWidth -= scrollbar;\n                }\n\n                this.content[0].style.width = contentWidth - width - 1 + PX;\n\n                if (this.lockedFooter && this.lockedFooter.length) {\n                    this.lockedFooter.width(width);\n                    footerWrap = this.footer.find(\".k-grid-footer-wrap\");\n                    footerWrap[0].style.width = headerWrap[0].clientWidth + PX;\n                    footerWrap.children().first().width(nonLockedColsWidth);\n                }\n            }\n        },\n\n        _setContentHeight: function() {\n            var that = this,\n                options = that.options,\n                height,\n                header = that.wrapper.children(\".k-grid-header\"),\n                scrollbar = kendo.support.scrollbar();\n            var scrollableHeight = (options.scrollable || {}).height;\n\n            if (options.scrollable && that.wrapper.is(\":visible\")) {\n                if (scrollableHeight && that.content[0].style.height === \"\") {\n                    // fallback to client-side setting as ASP.NET MVC Core wrapper does not provide server rendering of the content\n                    that.content[0].style.height = scrollableHeight;\n                }\n\n                height = that.wrapper.innerHeight();\n\n                height -= outerHeight(header);\n\n                if (that.pager && that.pager.element.is(\":visible\")) {\n                    height -= outerHeight(that.pager.element);\n                }\n\n                if (options.groupable) {\n                    height -= outerHeight(that.wrapper.children(\".k-grouping-header:not(.k-hidden)\"));\n                }\n\n                if (options.toolbar) {\n                    height -= outerHeight(that.wrapper.children(\".k-grid-toolbar\"));\n                }\n\n                if (that.footerTemplate) {\n                    height -= outerHeight(that.wrapper.children(\".k-grid-footer\"));\n                }\n\n                if (that.statusBar) {\n                    height -= outerHeight(that.wrapper.children(\".k-selection-aggregates\"));\n                }\n\n                var isGridHeightSet = function(el) {\n                    var initialHeight, newHeight;\n                    if (el[0].style.height) {\n                        return true;\n                    } else {\n                        initialHeight = el.height();\n                    }\n\n                    el.height(AUTO);\n                    newHeight = el.height();\n\n                    if (initialHeight != newHeight) {\n                        el.height(\"\");\n                        return true;\n                    }\n                    el.height(\"\");\n                    return false;\n                };\n\n                if (isGridHeightSet(that.wrapper)) { // set content height only if needed\n                    if (height > scrollbar * 2) { // do not set height if proper scrollbar cannot be displayed\n                        if (that.lockedContent) {\n                            scrollbar = that.table[0].offsetWidth > that.table.parent()[0].clientWidth ? scrollbar : 0;\n                            that.lockedContent.height(height - scrollbar);\n                        }\n\n                        that.content.height(height);\n                    } else {\n                        that.content.height(scrollbar * 2 + 1);\n                    }\n                }\n            }\n        },\n\n        _averageRowHeight: function() {\n            var that = this,\n                itemsCount = that._items(that.tbody, true).length,\n                rowHeight = that._rowHeight;\n\n            if (itemsCount === 0) {\n                return rowHeight;\n            }\n\n            if (!that._rowHeight) {\n                that._rowHeight = rowHeight = outerHeight(that.table) / itemsCount;\n                that._sum = rowHeight;\n                that._measures = 1;\n            }\n\n            var currentRowHeight = outerHeight(that.table) / itemsCount;\n\n            if (rowHeight !== currentRowHeight) {\n                that._measures++;\n                that._sum += currentRowHeight;\n                that._rowHeight = that._sum / that._measures;\n            }\n            return rowHeight;\n        },\n\n        _dataSource: function() {\n            var that = this,\n                options = that.options,\n                pageable,\n                dataSource = options.dataSource;\n\n            dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            if (isPlainObject(dataSource)) {\n                extend(dataSource, { table: that.table, fields: that.columns });\n\n                pageable = options.pageable;\n\n                if (isPlainObject(pageable) && pageable.pageSize !== undefined) {\n                    dataSource.pageSize = pageable.pageSize;\n                }\n            }\n\n            if (that.dataSource && that._refreshHandler) {\n                that.dataSource.unbind(CHANGE, that._refreshHandler)\n                    .unbind(PROGRESS, that._progressHandler)\n                    .unbind(REQUESTEND, that._requestEndHandler)\n                    .unbind(ERROR, that._errorHandler)\n                    .unbind(SORT, that._sortHandler);\n            } else {\n                that._refreshHandler = that.refresh.bind(that);\n                that._progressHandler = that._requestStart.bind(that);\n                that._requestEndHandler = that._requestEnd.bind(that);\n                that._errorHandler = that._error.bind(that);\n                that._sortHandler = that._clearSortClasses.bind(that);\n            }\n\n            that.dataSource = DataSource.create(dataSource)\n                .bind(CHANGE, that._refreshHandler)\n                .bind(PROGRESS, that._progressHandler)\n                .bind(REQUESTEND, that._requestEndHandler)\n                .bind(ERROR, that._errorHandler)\n                .bind(SORT, that._sortHandler);\n        },\n\n        _error: function() {\n            this._progress(false);\n            this._requestInProgress = false;\n        },\n\n        _requestStart: function() {\n            this._progress(true);\n            this._requestInProgress = true;\n        },\n\n        _requestEnd: function() {\n            this._requestInProgress = false;\n        },\n\n        _modelChange: function(e) {\n            var that = this,\n                tbody = that.tbody,\n                model = e.model,\n                row = that.tbody.find(\"tr[\" + kendo.attr(\"uid\") + \"=\" + model.uid + \"]\"),\n                relatedRow,\n                cell,\n                column,\n                isAlt = row.hasClass(\"k-table-alt-row\"),\n                tmp,\n                idx = that._items(tbody).index(row),\n                isLocked = that.lockedContent,\n                selectable,\n                selectableRow,\n                childCells,\n                originalCells,\n                length;\n\n            const stacked = that._isStackedMode();\n\n            if (isLocked) {\n                relatedRow = that._relatedRow(row);\n            }\n\n            const editCells = stacked ? row.add(relatedRow).find(\".k-grid-stack-cell:not(.k-drag-cell):not(.k-command-cell)\") : row.add(relatedRow).children(\".k-edit-cell\");\n\n            if (editCells.length && !that.options.rowTemplate) {\n                const iterateCells = stacked ? row.add(relatedRow).children(\":not(.k-group-cell,.k-hierarchy-cell)\").find(\".k-grid-stack-cell:not(.k-drag-cell):not(.k-command-cell)\") : row.add(relatedRow).children(\":not(.k-group-cell,.k-hierarchy-cell)\");\n                iterateCells.each(function() {\n                    cell = $(this);\n\n                    if (stacked && cell.hasClass(\".k-command-cell\")) {\n                        return;\n                    }\n\n                    column = leafColumns(that.columns)[that._calculateColumnIndex(cell)];\n\n                    if (column.field === e.field) {\n                        const editClass = stacked ? \"k-grid-stack-edit-cell\" : \"k-edit-cell\";\n                        if (!cell.hasClass(editClass)) {\n                            const target = stacked ? cell.find(\".k-grid-stack-content\") : cell;\n                            that._displayCell(target, column, model);\n                        } else {\n                            cell.addClass(\"k-dirty-cell\");\n                        }\n                    }\n                });\n\n            } else if (!row.hasClass(\"k-grid-edit-row\")) {\n\n                selectableRow = $().add(row);\n\n                if (isLocked) {\n                    tmp = (isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model);\n\n                    selectableRow = selectableRow.add(relatedRow);\n\n                    relatedRow.replaceWith(tmp);\n                }\n\n                tmp = (isAlt ? that.altRowTemplate : that.rowTemplate)(model);\n\n                let tmpResult = $(tmp);\n                kendo.applyStylesFromKendoAttributes(tmpResult, [\"display\"]);\n                row.replaceWith(tmpResult);\n\n                tmp = that._items(tbody).eq(idx);\n\n                if (isLocked) {\n                    row = row.add(relatedRow);\n\n                    relatedRow = that._relatedRow(tmp)[0];\n                    adjustRowHeight(tmp[0], relatedRow);\n\n                    tmp = tmp.add(relatedRow);\n                }\n\n                selectable = that.options.selectable;\n                if ((selectable || that._checkBoxSelection) && row.hasClass(SELECTED)) {\n                    that.select(tmp);\n                }\n\n                originalCells = selectableRow.children(\":not(.k-group-cell,.k-hierarchy-cell)\");\n                childCells = tmp.children(\":not(.k-group-cell,.k-hierarchy-cell)\");\n\n                for (idx = 0, length = that.columns.length; idx < length; idx++) {\n                    column = that.columns[idx];\n\n                    cell = stacked ? childCells.find().eq(idx) : childCells.eq(idx);\n                    if (selectable && originalCells.eq(idx).hasClass(SELECTED)) {\n                        cell.addClass(SELECTED);\n                    }\n                }\n\n                that.trigger(\"itemChange\", { item: tmp, data: model, ns: ui });\n            }\n\n            that._toggleToolbarEditingItemsVisibility();\n        },\n\n        _pageable: function() {\n            var that = this,\n                pagerWrap,\n                pageable = that.options.pageable,\n                size = that.options.size,\n                navigatable = that.options.navigatable;\n\n            if (pageable) {\n                pagerWrap = that.wrapper.children(\"div.k-grid-pager\");\n\n                if (!pagerWrap.length) {\n                    pagerWrap = $('<div class=\"k-pager k-grid-pager\"/>');\n                }\n\n                if (pageable.position === \"top\") {\n                    pagerWrap.prependTo(that.wrapper).addClass(\"k-grid-pager-top\");\n                } else {\n                    pagerWrap.appendTo(that.wrapper);\n                }\n\n                if (that.pager) {\n                    that.pager.destroy();\n                }\n\n                let adaptive = that.options.adaptiveMode;\n                if (that.options.adaptiveMode === \"auto\") {\n                    if (pageable && typeof pageable === \"object\" && pageable.adaptiveMode) {\n                        adaptive = pageable.adaptiveMode;\n                    }\n                }\n\n                if (typeof pageable === \"object\" && pageable instanceof kendo.ui.Pager) {\n                    that.pager = pageable;\n                } else {\n                    if (that.dataSource._groupPaging) {\n                        that.pager = new GroupsPager(pagerWrap, extend({}, pageable, { dataSource: that.dataSource, navigatable: navigatable, size: size, adaptiveMode: adaptive }));\n                    } else {\n                        that.pager = new kendo.ui.Pager(pagerWrap, extend({}, pageable, { dataSource: that.dataSource, navigatable: navigatable, size: size, adaptiveMode: adaptive }));\n                    }\n                }\n\n                that.pager.bind(\"pageChange\", function(e) {\n                    if (that.trigger(\"page\", { page: e.index })) {\n                        e.preventDefault();\n                    }\n                });\n\n                that._togglePagerVisibility();\n            }\n        },\n\n        _statusBar: function() {\n            var that = this,\n                options = that.options,\n                wrapper = that.wrapper,\n                statusBarTemplate = options.statusBarTemplate,\n                content = \"\";\n\n            if (statusBarTemplate) {\n                if (!that.statusBar) {\n                    content += '<div class=\"k-selection-aggregates k-grid-selection-aggregates\">';\n\n                    content += statusBarTemplate({ aggregates: that._cellAggregates });\n\n                    content += '</div>';\n\n                    if (options.scrollable) {\n                        that.statusBar = $(content).insertAfter(wrapper.find(DOT + \"k-grid-container\"));\n                    } else {\n                        that.statusBar = $(content).insertAfter(wrapper.find(DOT + \"k-grid-table\"));\n                    }\n                } else {\n                    that.statusBar.html(statusBarTemplate({ aggregates: that._cellAggregates }));\n                }\n            }\n        },\n\n        _footer: function() {\n            var that = this,\n                aggregates = that.dataSource.aggregates(),\n                html = \"\",\n                footerTemplate = that.footerTemplate,\n                options = that.options,\n                footerWrap,\n                footer = that.footer || that.wrapper.find(\".k-grid-footer\");\n\n            if (footerTemplate) {\n                html = $(that._wrapFooter(footerTemplate(aggregates)));\n                kendo.applyStylesFromKendoAttributes(html, [\"display\", \"left\", \"right\"]);\n\n                if (footer.length) {\n                    var tmp = html;\n\n                    footer.replaceWith(tmp);\n                    footer = that.footer = tmp;\n                } else {\n                    if (options.scrollable) {\n                        if (that.statusBar) {\n                            that.footer = html.insertBefore(that.statusBar);\n                        } else if (options.pageable && options.pageable.position !== \"top\") {\n                            that.footer = html.insertBefore(that.wrapper.children(\"div.k-grid-pager\"));\n                        } else {\n                            that.footer = html.appendTo(that.wrapper);\n                        }\n                        footer = that.footer;\n                    } else {\n                        footer = that.footer = html.insertAfter(that.tbody);\n                    }\n                }\n            } else if (footer && !that.footer) {\n                that.footer = footer;\n            }\n\n            if (footer.length) {\n                if (options.scrollable) {\n                    footerWrap = footer.attr(TABINDEX, -1).children(\".k-grid-footer-wrap\");\n\n                    that.scrollables = $(\n                        that.scrollables\n                            .filter(function() { return !$(this).is(\".k-grid-footer-wrap\"); })\n                            .toArray()\n                    ).add(footerWrap);\n                }\n\n                if (that._footerWidth) {\n                    footer.find(\"table\").css('width', that._footerWidth);\n                }\n\n                if (footerWrap) {\n                    var offset = kendo.scrollLeft(that.content);\n\n                    if (options.scrollable !== true && that.virtualScroll && that.virtualScroll.rows) {\n                        offset = kendo.scrollLeft(that.wrapper.find('.k-virtual-scrollable-wrap'));\n                    }\n                    kendo.scrollLeft(footerWrap, offset);\n                }\n            }\n\n            if (that.lockedContent) {\n                that._appendLockedColumnFooter();\n                that._applyLockedContainersWidth();\n                that._syncLockedFooterHeight();\n            }\n        },\n\n        _wrapFooter: function(footerRow) {\n            var that = this,\n                html = \"\",\n                table,\n                scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0;\n\n            if (that.options.scrollable) {\n                html = $('<div class=\"k-grid-footer\"><div class=\"k-grid-footer-wrap\"><table class=\"k-table k-grid-footer-table\"><tfoot class=\"k-table-tfoot\">' + footerRow + '</tfoot></table></div></div>');\n                table = html.find(\"table\");\n                table.addClass(kendo.getValidCssClass(\"k-table-\", \"size\", that.options.size));\n                that._appendCols(table);\n                html.css((isRtl ? \"padding-left\" : \"padding-right\"), scrollbar); // Update inner fix.\n\n                return html;\n            }\n\n            return '<tfoot class=\"k-grid-footer k-table-tfoot\">' + footerRow + '</tfoot>';\n        },\n\n        _actionsheetFooterActionsTemplate: function(buttonsConfig) {\n            let buttonsHtml = \"\";\n\n            buttonsConfig.forEach(buttonOptions => {\n                const command = buttonOptions.command;\n                const text = buttonOptions.text;\n\n                buttonsHtml += kendo.html.renderButton(`<button data-command=${command}>${text}</button>`, buttonOptions);\n            });\n\n            return buttonsHtml;\n        },\n        _isAdaptive: function() {\n            const that = this;\n            return that.options.adaptiveMode === \"auto\" && (that.smallMQL.mediaQueryList.matches || that.mediumMQL.mediaQueryList.matches);\n        },\n\n        _isStackedMode: function() {\n            const that = this;\n            return that.options.dataLayoutMode === \"stacked\";\n        },\n\n        _toolPopup: function(cell) {\n            return cell.popup && cell.popup.wrapper;\n        },\n\n        _filterToolbarTool: function(cell) {\n            const that = this;\n            const columns = leafColumns(that.columns);\n            const options = that.options;\n            const clearFilterButton = (cell) => {\n                const clearFilterSelector = that._isAdaptive() ? \"[ref-actionsheet-action-button]\" : \"[ref='clear-filter']\";\n                return that._toolPopup(cell)?.find(clearFilterSelector);\n            };\n\n            const toolbarFilterOptions = that._toolbarOptionsForTool(\"filter\");\n\n            function content({ isAdaptive }) {\n                let content = \"\";\n\n\n                for (let i = 0; i < columns.length; i++) {\n                    const column = columns[i];\n                    const filterable = options.filterable && column.filterable !== false;\n\n                    if (!filterable || column.command || column.draggable || column.selectable) {\n                        continue;\n                    }\n\n                    content += `<div class=\"k-columnmenu-item-wrapper\">`;\n                    content += `<div class=\"k-columnmenu-item-content k-columns-item\" ref=\"filter\" tabindex=\"0\" data-field=\"${column.field}\" data-index=${column.index || i || 0}></div>`;\n\n                    content += `</div>`;\n\n                }\n\n                if ((!toolbarFilterOptions || toolbarFilterOptions.clearButton) && !isAdaptive) {\n                    content += `<div class=\"k-actions k-actions-stretched k-actions-horizontal k-column-menu-footer\">`;\n\n                    content += kendo.html.renderButton(`<button ref=\"clear-filter\">${defaultActionSheetFooterButtons(that.options.messages).filter[0].text}</button>`, { icon: \"filter-clear\" });\n\n                    content += \"</div>\";\n                }\n\n                return content;\n            }\n\n            const menu = cell.data(\"kendoColumnMenu\");\n            if (menu) {\n                menu.wrapper.off(\"click\" + NS);\n                menu.element.off(\"click\" + NS);\n                menu.destroy();\n            }\n\n            const filterable = options.filterable && that.options.columnMenu.filterable !== false ? extend(true, { pane: that.pane }, options.filterable) : false;\n\n            if (!filterable) {\n                return;\n            }\n\n            const menuOptions = {\n                dataSource: that.dataSource,\n                columns: false,\n                sortable: false,\n                filterable: filterable,\n                hideAutoSizeColumn: true,\n                owner: that,\n                adaptiveMode: that.options.adaptiveMode,\n                encodeTitles: that.options.encodeTitles,\n                componentType: \"modern\",\n                _actionsheet: {\n                    actionButtons: defaultActionSheetFooterButtons(that.options.messages).filter,\n                    title: \"Filter by\",\n                    closeButton: true,\n                    ref: \"filter-view\",\n                },\n                closeCallback: function(e) {\n                    e.removeClass(SELECTED);\n                    const popupElement = that._toolPopup(cell);\n\n                    if (popupElement.length) {\n                        popupElement.find(\".k-focus\").removeClass(\"k-focus\");\n                    }\n\n                    cell.element.focus();\n                },\n                init: function(e) {\n                    cell.wrapper.attr(\"ref\", \"filter-tool\");\n                    if (!that._showAdaptiveView) {\n                        for (var idx = 0, length = columns.length; idx < length; idx++) {\n                            const column = columns[idx];\n                            const field = column.field;\n                            const filterable = options.filterable && column.filterable !== false && !column.draggable && !column.selectable && !column.command;\n                            if (!filterable) {\n                                continue;\n                            }\n\n                            const element = cell.wrapper.find(`.k-columns-item[data-field=\"${field}\"]`);\n                            that._initFilterMenuForColumn(column, element);\n                        }\n                    }\n                },\n                contentTemplate: content,\n                filtering: function(e) {\n                    if (that.trigger(\"filter\", { filter: e.filter, field: e.field })) {\n                        e.preventDefault();\n                    } else {\n                        that._clearEditableState();\n                        if (that.dataSource.options.endless) {\n                            that._resetEndless();\n                        }\n                    }\n                }\n            };\n\n            cell = cell.kendoColumnMenu(menuOptions).data(\"kendoColumnMenu\");\n\n            cell.element.bind(\"click\" + NS, function(e) {\n                if (cell.popup && cell.popup._closing) {\n                    return;\n                }\n                $(e.currentTarget).addClass(SELECTED);\n                clearFilterButton(cell)?.toggleClass(\"k-disabled\", !cell.dataSource._filter);\n            });\n\n            const filterToolHandler = function(e) {\n                const cell = e.sender.wrapper && e.sender.wrapper.find(\".k-grid-filter-tool\")?.data(\"kendoColumnMenu\");\n                const filters = cell.dataSource._filter;\n                const field = e.field;\n                let isRemoveFilter = !e.filter;\n                let condition;\n                const filteredFields = filters && filters.filters;\n\n                if (\n                    isRemoveFilter\n                    && filteredFields\n                    && filteredFields.length\n                    && !filteredFields.find((descriptor) => (descriptor.filters && descriptor.filters.length ? descriptor.filters[0].field === field : descriptor.field === field))\n                ) {\n                    return;\n                }\n\n                const expansionPanel = cell.wrapper\n                    .find(`.k-columns-item[data-field='${field}']`);\n\n                const headerElement = expansionPanel\n                    ?.closest(\".k-expander\")\n                    ?.find(\".k-columnmenu-item\");\n\n                if (filters && filters.filters.length) {\n                    if (isRemoveFilter) {\n                        condition = filteredFields.filter((descriptor) => descriptor.field !== field).length > 0;\n                    } else {\n                        condition = !isRemoveFilter;\n                    }\n                } else if (!isRemoveFilter) {\n                    condition = true;\n                }\n\n                if (expansionPanel.length) {\n                    expansionPanel.data(\"kendoExpansionPanel\").toggle(false);\n                }\n\n                clearFilterButton(cell)?.toggleClass(\"k-disabled\", !condition);\n                that._toggleColumnMenuFilterIndicator(headerElement, !isRemoveFilter);\n                that._toggleBadge(cell.element, condition);\n            };\n\n            that.unbind(\"filter\", filterToolHandler);\n            that.bind(\"filter\", filterToolHandler);\n\n            cell.bind(\"open\", function() {\n                const popupElement = that._toolPopup(cell);\n\n                if (popupElement.length) {\n                    popupElement.focus();\n                    const clearFilterBtn = clearFilterButton(cell);\n                    const filters = cell.dataSource._filter && cell.dataSource._filter.filters;\n\n                    if (filters && filters.length) {\n                        filters.forEach((descriptor) => {\n                            const field = descriptor.field || descriptor.filters[0].field;\n                            const expansionPanel = cell.wrapper\n                                .find(`.k-columns-item[data-field='${field}']`);\n\n                            const headerElement = expansionPanel\n                                ?.closest(\".k-expander\")\n                                ?.find(\".k-columnmenu-item\");\n\n                            that._toggleColumnMenuFilterIndicator(headerElement, true);\n                        });\n                    }\n\n                    if (clearFilterBtn.length) {\n                        clearFilterBtn.off(\"mousedown\" + NS);\n\n                        clearFilterBtn.on(\"mousedown\" + NS, function() {\n                            that.dataSource.filter([]);\n                            that._toggleBadge(cell.element, false);\n                            cell.wrapper.find(\".k-columnmenu-indicators\").remove();\n                            clearFilterBtn.toggleClass(\"k-disabled\", true);\n                            cell.popup.close();\n                        });\n                    }\n                }\n            });\n        },\n\n        _initFilterMenuForColumn: function(column, element) {\n            const that = this;\n            let filterable = that._hasFilterMenu();\n\n            let filterMenu;\n            if (element.length) {\n                filterMenu = element.data(\"kendoFilterMenu\");\n\n                if (filterMenu) {\n                    filterMenu.destroy();\n                }\n\n                filterMenu = element.data(\"kendoFilterMultiCheck\");\n\n                if (filterMenu) {\n                    filterMenu.destroy();\n                }\n\n                var columnFilterable = column.filterable;\n\n                var options = extend({},\n                    filterable,\n                    columnFilterable,\n                    {\n                        appendToElement: true,\n                        componentType: \"modern\",\n                        dataSource: that.dataSource,\n                        values: column.values,\n                        format: column.format,\n                        title: column.title || column.field,\n                        pane: that.pane,\n                        adaptiveMode: that.options.adaptiveMode,\n                        change: function(e) {\n                            if (that.trigger(\"filter\", { filter: e.filter, field: e.field })) {\n                                e.preventDefault();\n                            } else {\n                                that._clearEditableState();\n                                if (that.dataSource.options.endless) {\n                                    that._resetEndless();\n                                }\n                            }\n                        },\n                    }\n                );\n\n                if (columnFilterable && columnFilterable.messages) {\n                    options.messages = extend(true, {}, filterable.messages, columnFilterable.messages);\n                }\n\n                if (columnFilterable && columnFilterable.dataSource) {\n                    options.forceUnique = false;\n                    options.checkSource = columnFilterable.dataSource;\n                }\n\n                if (columnFilterable && columnFilterable.multi) {\n                    return element.kendoFilterMultiCheck(options).data(\"kendoFilterMultiCheck\");\n                } else {\n                    return element.kendoFilterMenu(options).data(\"kendoFilterMenu\");\n                }\n            }\n        },\n\n        _isRowSelection: function() {\n            const that = this;\n            const selectable = that.options.selectable;\n\n            if (!selectable && !that._checkBoxSelection) {\n                return false;\n            }\n\n            if (selectable === true\n                || selectable === \"multiple\"\n                || selectable === \"single\"\n                || selectable?.mode === \"multiple\"\n                || selectable?.mode === \"single\"\n                || that._checkBoxSelection\n            ) {\n                return true;\n            }\n\n            if (isPlainObject(selectable)) {\n                const mode = selectable.mode;\n                return mode ? (typeof mode === \"string\" && mode.includes(\"row\")) : false;\n            }\n\n            if (typeof selectable === \"string\") {\n                return selectable.includes(\"row\");\n            }\n\n            return false;\n        },\n\n        _isSingleSelectionEnabled: function() {\n            const that = this;\n            const selectable = that.options.selectable;\n            if (!selectable) {\n                return false;\n            }\n\n            if (selectable === true\n                || selectable === \"single\"\n                || selectable?.mode === \"single\"\n                || selectable === \"row\"\n                || selectable?.mode === \"row\"\n                || selectable === \"cell\"\n                || selectable?.mode === \"cell\"\n            ) {\n                return true;\n            }\n\n            if (isPlainObject(selectable)) {\n                const mode = selectable.mode;\n                return mode ? (typeof mode === \"string\" && mode.includes(\"single\")) : false;\n            }\n\n            if (typeof selectable === \"string\") {\n                return selectable.includes(\"single\");\n            }\n\n            return false;\n        },\n\n        _initAiPrompt: function() {\n            const that = this;\n            const aiOptions = that.options.ai;\n            const promptConfig = aiOptions?.aiAssistant || {};\n            const messages = that.options.messages?.ai;\n            let aiService = aiOptions?.service;\n\n            const defaults = {\n                data: (prompt) => getDefaultAIRequestConfig(prompt, flatColumnsInDomOrder(that.columns)),\n                outputGetter: (response) => aiPromptDefaultOutputGetter(response, messages, that._isRowSelection())\n            };\n\n            if (aiOptions?.service) {\n                const serviceIsString = typeof aiOptions.service === \"string\";\n                const url = serviceIsString ? aiOptions.service : aiOptions.service.url;\n\n                if (url) {\n                    aiService = {\n                        ...defaults,\n                        ...(!serviceIsString ? aiOptions.service : {}),\n                        url: url,\n                    };\n                }\n            }\n\n            const skeletonID = \"skeleton\" + kendo.guid();\n            const aiAssistant = that._aiAssistant = $(\"<div></div>\").kendoAIPrompt($.extend(true, {\n                service: aiService,\n                speechToText: true,\n                promptTextArea: {\n                    resize: \"none\",\n                    rows: 3,\n                    placeholder: messages?.promptPlaceholder || \"\",\n                    fillMode: \"outline\",\n                    maxLength: 1000\n                },\n                outputTemplate: (data) => {\n                    const outputObject = data.output;\n                    return outputObject.output?.split(\"/n\").map((line) => aiPromptOutputTemplate(line, messages, flatColumnsInDomOrder(that.columns))).join(\"\");\n                },\n                views: [\n                    {\n                        type: 'prompt',\n                        buttonIcon: \"sparkles\",\n                        themeColor: \"primary\",\n                        footerTemplate: () => `<div class=\"k-actions k-actions-start k-actions-horizontal k-prompt-actions\">${kendo.html.renderButton(`<button ref-ai-apply-button>Apply</button>`, {\n                            themeColor: \"primary\",\n                            icon: \"table-wizard\",\n                            rounded: \"full\",\n                        })}</div>`,\n                    },\n                    {\n                        type: 'output',\n                        themeColor: \"primary\",\n                        isStreaming: true,\n                        isLoading: true,\n                    }\n                ],\n                promptRequest: (e) => {\n                    if (!aiAssistant.options.service) {\n                        return;\n                    }\n\n                    aiAssistant.activeView(\"output\");\n                    aiAssistant.removePromptOutput(placeholderId);\n\n                    aiAssistant.addPromptOutput({\n                        id: skeletonID,\n                        prompt: e.prompt,\n                        output: \"\",\n                        isLoading: true,\n                        isStreaming: true\n                    });\n                    aiAssistant._requestInProgress = true;\n                    aiAssistant.transport.options.requestStart = null;\n                },\n                promptResponse: (e) => {\n                    e.preventDefault();\n                    const output = e;\n\n                    handleAIResponseOutput(output, aiAssistant, skeletonID);\n\n                    if (output && output.response) {\n                        that.handleAIResponse(output.response);\n                    }\n\n                    if (aiOptions.autoClose === false) {\n                        return;\n                    }\n\n                    that._aiAssistantWindow?.close();\n                },\n                promptRequestCancel: () => {\n                    aiAssistant.removePromptOutput(skeletonID);\n                    if (!aiAssistant.outputObjects.size) {\n                        aiAssistant.addPromptOutput(promptPlaceholderOptions(messages));\n                    }\n\n                    aiAssistant._requestInProgress = false;\n                }\n            }, promptConfig)).data('kendoAIPrompt');\n\n            if (aiAssistant?.transport) {\n                aiAssistant.transport.options.error = function(res) {\n                    res.response.abort();\n                    handleAIResponseOutput({ output: res.output, outputId: res.id }, aiAssistant, skeletonID);\n                };\n            }\n\n            that._aiAssistantWindow.element.append(that._aiAssistant.element);\n\n            that._aiAssistantWindow.wrapper.addClass(\"k-grid-assistant-window\");\n        },\n\n        handleAIResponse: function(response) {\n            const that = this;\n            const schema = that.dataSource.options.schema;\n            const fields = schema?.model?.fields;\n            const multipleSortable = that.options.sortable?.mode === \"multiple\" || that.options.sortable?.mode === \"mixed\";\n            const commands = prepareAICommands(response?.commands, multipleSortable);\n            const allColumns = flatColumnsInDomOrder(that.columns);\n            const enabled = getEnabledAICommands(that.options, that.dataSource, that._checkBoxSelection);\n\n            if (commands) {\n                for (let i = 0; i < commands.length; i++) {\n                    const command = commands[i];\n                    const type = command?.type;\n                    const commandKey = supportedAIDataSourceCommands[type] || supportedAIGridCommands[type];\n                    const isPageCommand = commandKey === \"page\" || commandKey === \"pageSize\";\n                    let isClearValue = !command[commandKey];\n                    let value;\n\n                    if (supportedAIDataSourceCommands[type]) {\n                        const hasPreviousValue = that.dataSource[commandKey]();\n\n                        if (isPageCommand) {\n                            value = command[commandKey];\n                        } else {\n                            value = isClearValue ? [] : command[commandKey];\n                            value = Array.isArray(value) ? value : [value];\n                        }\n\n\n                        const isValidOperation = isClearValue || (!isClearValue && !hasInvalidDescriptor(value, commandKey));\n\n                        if (!isValidOperation) {\n                            continue;\n                        }\n\n                        if (isClearValue && !hasPreviousValue) {\n                            continue;\n                        }\n\n                        if (enabled[type]) {\n                            if (!isClearValue && commandKey === \"filter\") {\n                                value = parseDate(value, fields);\n                            }\n\n                            if (commandKey === \"sort\" && !multipleSortable) {\n                                that.dataSource[commandKey](value);\n                                continue;\n                            }\n\n                            if (hasPreviousValue && !isClearValue && !isPageCommand) {\n                                const previousValue = Array.isArray(hasPreviousValue) ? hasPreviousValue : [hasPreviousValue];\n                                if (commandKey === \"filter\") {\n                                    value = previousValue.map(v => ({\n                                            ...v,\n                                            filters: [...v.filters, value[0]]\n                                        }));\n                                } else {\n                                    const config = getMergedAIDescriptors(previousValue, value, commandKey);\n                                    if (config.shouldContinue) {\n                                        continue;\n                                    }\n                                    value = config.descriptors;\n                                }\n                            }\n\n                            that.dataSource[commandKey](value);\n                        }\n                    }\n\n                    if (supportedAIGridCommands[type]) {\n                        value = isClearValue ? [] : command[commandKey];\n                        value = Array.isArray(value) ? value : [value];\n\n                        if (commandKey === \"highlight\") {\n                            that.clearHighlight();\n\n                            if (!isClearValue) {\n                                that._hasAIHighlight = value;\n                                that._applyAIHighlight(value);\n                            }\n                            continue;\n                        }\n\n                        if (commandKey === \"select\" && enabled[type] && !command.skipCommand) {\n                            that.clearSelection();\n                            if (!isClearValue) {\n                                that._hasAISelection = value;\n                                that._applyAISelection(value);\n                            }\n                            continue;\n                        }\n\n                        if (commandKey === \"_exportPdf\" || commandKey === \"_exportExcel\") {\n                            const remainingCommands = commands.slice(i + 1);\n                            const responseWithRemainingCommands = {\n                                commands: remainingCommands\n                            };\n                            const customFileName = command?.fileName;\n\n                            that._changeAIExportFileName(commandKey, customFileName, true);\n\n                            that[commandKey](() => {\n                                that._changeAIExportFileName(commandKey, customFileName, false);\n                                that.handleAIResponse(responseWithRemainingCommands);\n                            });\n\n                            break;\n                        }\n\n                        if (enabled[type]) {\n                            const identifier = command?.id;\n\n                            const width = kendo.parseFloat(command?.size);\n                            const position = command?.position ?? command?.index;\n\n                            const useIndex = commandKey === \"lockColumn\" || commandKey === \"unlockColumn\";\n                            let colIndex;\n                            const col = allColumns.find((col, idx) => {\n                                if (col.uid === identifier) {\n                                    colIndex = idx;\n                                    return col;\n                                }\n                            });\n                            const column = useIndex ? colIndex : col;\n\n                            const isMultiColumnHeader = allColumns.length > that.columns.length;\n\n                            if (column) {\n                                let firstArgument = position ?? column;\n                                let secondArgument = position !== undefined ? column : width;\n                                let reorderPosition;\n\n                                if (isMultiColumnHeader && commandKey === \"reorderColumn\") {\n                                    firstArgument = targetParentContainerIndex(allColumns, that.columns, colIndex, position);\n                                    reorderPosition = colIndex > position ? \"before\" : \"after\";\n                                }\n                                that[commandKey](firstArgument, secondArgument, reorderPosition);\n                            }\n                        }\n                    }\n                }\n            }\n        },\n\n        getAIRequest: function(prompt) {\n            const that = this;\n\n            return getDefaultAIRequestConfig(prompt, flatColumnsInDomOrder(that.columns));\n        },\n\n        _changeAIExportFileName: function(commandKey, customFileName, toggle) {\n            const that = this;\n            if (!toggle) {\n                if (commandKey === \"_exportPdf\") {\n                    that.options.pdf.fileName = that?._aiPdfFilename;\n                    delete that._aiPdfFilename;\n                }\n                if (commandKey === \"_exportExcel\") {\n                    that.options.excel.fileName = that?._aiExcelFilename;\n                    delete that._aiExcelFilename;\n                }\n\n                return;\n            }\n\n            let originalName = commandKey === \"_exportPdf\" ? that.options?.pdf?.fileName : that.options?.excel?.fileName;\n            if (customFileName) {\n                const variableName = commandKey === \"_exportPdf\" ? \"_aiPdfFilename\" : \"_aiExcelFilename\";\n                that[variableName] = originalName;\n\n                if (commandKey === \"_exportPdf\") {\n                    that.options.pdf.fileName = customFileName;\n                }\n\n                if (commandKey === \"_exportExcel\") {\n                    that.options.excel.fileName = customFileName;\n                }\n            }\n        },\n\n        _bindAIPrompt: function() {\n            const that = this;\n            const aiOptions = that.options.ai;\n            const aiAssistant = that._aiAssistant;\n            const getGenerateOutputButton = (element) => element.find(\"[ref-ai-apply-button]\");\n\n            aiAssistant.element.on(\"input\" + NS, \"[ref-prompt-input]\", (e) => {\n                const button = getGenerateOutputButton(aiAssistant.element);\n                const value = $(e.currentTarget).val();\n\n                button.toggleClass(\"k-disabled\", !value || value.trim() === \"\");\n            });\n\n            if (aiOptions?.aiAssistant?.promptSuggestions) {\n                aiAssistant.element.on(\"click\" + NS, \".k-suggestion\", (e) => {\n                    getGenerateOutputButton(aiAssistant.element).toggleClass(\"k-disabled\", false);\n                });\n            }\n\n            aiAssistant.element.on(\"click\" + NS, \"[ref-ai-apply-button]\", () => {\n                const prompt = aiAssistant.element.find(\"[ref-prompt-input]\").getKendoTextArea().value();\n                const promptView = aiAssistant._selectedView;\n                const eventArgs = { prompt, isRetry: false, history: [] };\n\n                if (promptView?.service) {\n                    eventArgs.service = promptView.service;\n                }\n\n                aiAssistant.trigger(\"promptRequest\", eventArgs);\n\n                if (aiAssistant.transport) {\n                    aiAssistant.transport.read({ prompt: eventArgs.prompt, history: eventArgs.history, isRetry: false, service: promptView.service });\n                }\n            });\n\n            if (aiAssistant?.speechToTextButton) {\n                aiAssistant.speechToTextButton.bind(\"result\", function() {\n                    getGenerateOutputButton(aiAssistant.element).toggleClass(\"k-disabled\", false);\n                });\n            }\n        },\n\n        _unbindAIPrompt: function() {\n            const that = this;\n            const aiAssistant = that._aiAssistant;\n\n            aiAssistant?.element?.off(\"input\" + NS);\n            aiAssistant?.element?.off(\"click\" + NS);\n\n        },\n\n        _prepareAIDataForSelectOrHighlight: function(value) {\n            const that = this;\n            const schema = that.dataSource.options.schema;\n            const idField = schema?.model?.id || \"id\";\n            const fields = schema?.model?.fields;\n            value = parseDate(value, fields);\n\n            return that.dataSource.parseHighlightDescriptors(value, idField);\n        },\n\n        _applyAIHighlight: function(value) {\n            const that = this;\n            const data = that._prepareAIDataForSelectOrHighlight(value);\n            that.highlight(data);\n        },\n\n        _applyAISelection: function(value) {\n            const that = this;\n            const data = that._prepareAIDataForSelectOrHighlight(value);\n            const items = that._getElementsToSelect(data);\n            items.forEach(item => that.select(item));\n        },\n\n        _initAiAssistantWindow: function(cell) {\n            const that = this;\n            const aiOptions = that.options.ai;\n            const skipInitialization = (aiOptions && aiOptions === true) || aiOptions === false;\n            const userConfig = aiOptions?.aiAssistantWindow || {};\n            const customContent = userConfig?.content;\n            const windowOptions = {\n                modal: false,\n                resizable: false,\n                title: \"AI Assistant\",\n                visible: false,\n                actions: [ \"Minimize\", \"Maximize\", \"Close\" ],\n                position: {\n                    top: outerHeight(cell) + cell.offset().top,\n                    left: cell.offset().left + (cell.outerWidth() / 2)\n                },\n                width: 437,\n                ...userConfig,\n                open: function(e) {\n                    if (userConfig.open) {\n                        userConfig.open(e);\n                    }\n\n                    if (e._defaultPrevented) {\n                        return;\n                    }\n\n                    const ai = that._aiAssistant;\n                    if (ai && ai.element) {\n                        const messages = that.options.messages?.ai;\n\n                        if (!ai.outputObjects.size) {\n                            ai.addPromptOutput(promptPlaceholderOptions(messages));\n                        }\n\n                        ai.activeView(\"prompt\");\n                        const button = ai.element.find(\"[ref-ai-apply-button]\");\n                        const value = ai.element.find(\"[ref-prompt-input]\").val();\n\n                        if (that._aiAssistant) {\n                            that._bindAIPrompt();\n                        }\n\n                        button.toggleClass(\"k-disabled\", !value || value.trim() === \"\");\n                    }\n                },\n                close: function(e) {\n                    if (userConfig.close) {\n                        userConfig.close(e);\n                    }\n\n                    if (e._defaultPrevented) {\n                        return;\n                    }\n\n                    if (e.userTriggered) {\n                        e.sender.element.trigger(\"focus\");\n                        var currentIndex = that.items().index($(that.current()).parent());\n\n                        that._toggleToolbarEditingItemsVisibility();\n                        if (that.options.navigatable && that.current()) {\n                            that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                                focusTable(that.table, true);\n                        }\n                    }\n                    if (that._aiAssistant) {\n                        if (!aiOptions?.keepOutputHistory) {\n                            that._aiAssistant?.clearOutput();\n                        }\n                        that._unbindAIPrompt();\n                    }\n                },\n                };\n\n            if (!skipInitialization) {\n                that._aiAssistantWindow = $(\"<div></div>\").kendoWindow(windowOptions).data(\"kendoWindow\");\n\n                if (!customContent) {\n                    that._initAiPrompt();\n                }\n            }\n\n            cell.bind(\"click\" + NS, function(e) {\n                if (!that._aiAssistantWindow) {\n                    return;\n                }\n\n                if (that._aiAssistantWindow.element.is(\":visible\")) {\n                    that._aiAssistantWindow.close();\n                } else {\n                    that._aiAssistantWindow.open();\n                }\n            });\n        },\n\n        _toolbarOptionsForTool: function(toolName) {\n            const that = this;\n            const options = that.options;\n            let toolbarItems = [];\n\n\n            if (Array.isArray(options.toolbar)) {\n                toolbarItems = options.toolbar;\n            } else if (options.toolbar && options.toolbar.items) {\n                toolbarItems = options.toolbar.items;\n            }\n\n            return extend({}, defaultCommands[toolName], toolbarItems.find((item) => item.name === toolName));\n        },\n\n        _groupToolbarTool: function(cell) {\n            const that = this;\n            const options = that.options;\n            const clearGroupButton = (cell) => {\n                const clearGroupSelector = that._isAdaptive() ? \"[ref-actionsheet-action-button]:not('.k-button-primary')\" : \"[ref='clear-group']\";\n                return that._toolPopup(cell)?.find(clearGroupSelector);\n            };\n\n            let menu;\n            let menuOptions;\n\n            const groupable = (options.groupable && options.groupable.enabled !== false) || that.dataSource._groupPaging;\n\n            if (!groupable) {\n                return;\n            }\n\n            menu = cell.data(\"kendoColumnMenu\");\n            if (menu) {\n                menu.wrapper.off(\"click\" + NS);\n                menu.element.off(\"click\" + NS);\n                menu.destroy();\n            }\n\n            const toolbarGroupOptions = that._toolbarOptionsForTool(\"group\");\n\n            // Currently we want to distribute reordering throught the buttons as a default and only behaviour\n            // the user wont be able to set it throught the options by himself\n            toolbarGroupOptions.reorderButtons = true;\n\n            const indicator = ({ isAdaptive, isFirstItem, isLastItem }) => (\n                `<span class=\"k-group-menu-item-actions\">\n                ${toolbarGroupOptions.reorderButtons ?\n                    `<span class=\"k-group-menu-item-action k-group-menu-item-up-action ${isFirstItem ? \"k-disabled\" : \"\"}\" ${isFirstItem ? \"aria-disabled=true\" : \"aria-disabled=false\"}>\n                    ${kendo.ui.icon($('<span></span>'), { icon: \"chevron-up\", size: isAdaptive ? \"large\" : \"medium\" })}\n                </span>\n                <span class=\"k-group-menu-item-action k-group-menu-item-down-action ${isLastItem ? \"k-disabled\" : \"\"}\" ${isLastItem ? \"aria-disabled=true\" : \"aria-disabled=false\"}>\n                    ${kendo.ui.icon($('<span></span>'), { icon: \"chevron-down\", size: isAdaptive ? \"large\" : \"medium\" })}\n                </span>`\n                    :\n                    `<span class=\"k-group-menu-item-action k-group-menu-item-drag-action\">\n                    ${kendo.ui.icon($('<span></span>'), { icon: \"handle-drag-dots\", size: isAdaptive ? \"large\" : \"medium\" })}\n                    </span>`}\n                </span>`);\n\n            const itemTemplate = (column, action, options) => {\n                const isAdaptive = that._isAdaptive();\n                const title = (column.title || column.field || \"\");\n                return `<div class=\"k-group-menu-item\" data-field=\"${column.field}\" data-index=\"${(options && options.index) || column.index || \"0\"}\" tabindex=\"0\">\n                ${(options && options.renderIndicator) ? indicator({ isAdaptive: isAdaptive, isFirstItem: options.isFirstItem, isLastItem: options.isLastItem }) : \"\"}\n                        <span class=\"k-group-item-text\">${title}</span>\n                        <span class=\"k-spacer\"></span>\n                        <span class=\"k-group-menu-item-actions\">\n                            <span class=\"k-group-menu-item-action ${action.actionClass}\">\n                                ${kendo.ui.icon($('<span></span>'), { ...action, size: isAdaptive ? \"large\" : \"medium\" })}\n                            </span>\n                        </span>\n                    </div>`;\n            };\n\n            const content = ({ columns }) => {\n                const isAdaptive = that._isAdaptive();\n                let content = `<div class=\"k-group-menu\"><div class='k-group-menu-item-wrap'>`;\n\n                columns.forEach((column) => {\n                    if (!isColumnGroupable(that, column) || column.command || column._originalObject.selectable) {\n                        return;\n                    }\n                    content += itemTemplate(column, { icon: \"plus-circle\", actionClass: \"k-group-menu-item-add-action\" });\n                });\n                content += `</div>`;\n\n                if ((!toolbarGroupOptions || toolbarGroupOptions.clearButton) && !isAdaptive) {\n                    content += `<div class=\"k-actions k-actions-stretched k-actions-horizontal k-column-menu-footer\">\n                                     ${kendo.html.renderButton(`<button ref=\"clear-group\">${defaultActionSheetFooterButtons(that.options.messages).group[0].text}</button>`, { icon: \"x\" })}\n                                </div>`;\n                }\n\n                content += `</div>`;\n\n                return content;\n            };\n\n            menuOptions = {\n                dataSource: that.dataSource,\n                columns: false,\n                sortable: false,\n                filterable: false,\n                hideAutoSizeColumn: false,\n                owner: that,\n                adaptiveMode: that.options.adaptiveMode,\n                encodeTitles: that.options.encodeTitles,\n                componentType: \"modern\",\n                _actionsheet: {\n                    actionButtons: defaultActionSheetFooterButtons(that.options.messages).group,\n                    title: \"Group by\",\n                    ref: \"group-view\",\n                    closeButton: {\n                        icon: \"check\",\n                        themeColor: \"primary\",\n                    },\n                },\n                init: function(e) {\n                    const element = cell.wrapper.find(\".k-group-menu\");\n                    element.attr(\"ref\", \"group-tool\");\n\n                    if (cell._showAdaptiveView) {\n                        element.unwrap();\n                        element.removeClass(\"k-group-menu-md\").addClass(\"k-group-menu-lg\");\n                    } else {\n                        cell.wrapper.removeClass(\"k-column-menu\");\n                    }\n\n                    element.find(\".k-group-menu-item\").on(\"click\" + NS, `.k-group-menu-item-remove-action, .k-group-menu-item-add-action`, function(e) {\n                        that._groupItemClickHandler(e, cell, { itemTemplate, indicator });\n                    });\n\n                    that._syncGroupingTool(e, cell, that.dataSource.group(), { itemTemplate, indicator });\n                },\n                closeCallback: function(e) {\n                    e.removeClass(SELECTED);\n                    const popupElement = that._toolPopup(cell);\n                    if (popupElement.length) {\n                        popupElement.find(\".k-focus\").removeClass(\"k-focus\");\n                    }\n                    cell.element.focus();\n                },\n                contentTemplate: content,\n            };\n\n            let oldGroups = that.dataSource.group() || [];\n            cell = cell.kendoColumnMenu(menuOptions).data(\"kendoColumnMenu\");\n\n            const groupToolHandler = function(e) {\n                const that = this;\n                const cell = e.sender.wrapper && e.sender.wrapper.find(\".k-grid-group-tool\")?.data(\"kendoColumnMenu\");\n                const groups = e.groups || that.dataSource.group() || [];\n                const clearButton = clearGroupButton(cell);\n\n                const groupedData = oldGroups.length > groups.length ? oldGroups : groups;\n                that._syncGroupingTool(e, cell, groupedData, { itemTemplate, indicator });\n                that._toggleBadge(cell.element, groups.length > 0);\n                clearButton?.toggleClass(\"k-disabled\", !groups.length);\n                oldGroups = groups;\n            };\n\n            that.unbind(\"group\", groupToolHandler);\n            that.bind(\"group\", groupToolHandler);\n\n            cell.element.on(\"click\" + NS, function(e) {\n                if (cell.popup && cell.popup._closing) {\n                    return;\n                }\n                $(e.currentTarget).addClass(SELECTED);\n            });\n\n            cell.bind(\"open\", function() {\n                const clearButton = clearGroupButton(cell);\n\n                if (clearButton.length) {\n                    clearButton.off(\"mousedown\" + NS);\n\n                    clearButton.on(\"mousedown\" + NS, function() {\n                        that.dataSource.group([]);\n                        that.groupable.trigger(CHANGE, { groups: [] });\n                        that._toggleBadge(cell.element, false);\n                        clearButton?.toggleClass(\"k-disabled\", true);\n                        cell.popup.close();\n                    });\n                }\n\n                clearButton?.toggleClass(\"k-disabled\", !that.dataSource.group().length);\n            });\n        },\n\n        _toggleReorderButtonsDisabledState: function(item, isFirstItem, isLastItem) {\n            const disabled = \"k-disabled\";\n\n            if (!item.length) {\n                return;\n            }\n\n            const firstReorderButton = item.find(\".k-group-menu-item-actions .k-group-menu-item-up-action\");\n\n            if (firstReorderButton.length) {\n                if (isFirstItem && !firstReorderButton.hasClass(disabled)) {\n                    firstReorderButton.addClass(disabled);\n                    firstReorderButton.attr(\"aria-disabled\", true);\n                } else if (!isFirstItem && firstReorderButton.hasClass(disabled)) {\n                    firstReorderButton.removeClass(disabled);\n                    firstReorderButton.attr(\"aria-disabled\", false);\n                }\n\n                const prevItem = firstReorderButton.next();\n\n                if (prevItem.length) {\n                    if (isLastItem && !prevItem.hasClass(disabled)) {\n                        prevItem.addClass(disabled);\n                        prevItem.attr(\"aria-disabled\", true);\n                    } else if (!isLastItem && prevItem.hasClass(disabled)) {\n                        prevItem.removeClass(disabled);\n                        prevItem.attr(\"aria-disabled\", false);\n                    }\n                }\n            }\n        },\n\n        _syncGroupingTool: function(ev, cell, groupedData, templates) {\n            const that = this;\n            const groups = ev.groups || that.dataSource.group() || [];\n            const getWrapper = () => (cell._showAdaptiveView ? that._toolPopup(cell) : cell.wrapper);\n            const containerClass = \"k-group-menu-item-wrap\";\n            const findContainers = () => getWrapper()?.find(`.${containerClass}`);\n            const itemSelector = \".k-group-menu-item\";\n            const wrapper = getWrapper();\n            let containers = findContainers();\n\n            if (cell._draggableInstance && cell._triggeredReordering) {\n                delete cell._triggeredReordering;\n                return;\n            }\n\n            if (containers && containers.length) {\n\n                groupedData.forEach((group, i) => {\n                    const item = wrapper.find(itemSelector + `[data-field='${group.field}']`);\n                    const index = item.data(\"index\");\n                    const action = item.find(\".k-icon\")?.attr(\"class\").includes(\"plus-circle\") ? \"remove\" : \"add\";\n                    const shouldAdd = action === \"remove\";\n                    const actionClass = `k-group-menu-item-${action}-action`;\n                    const parentContainer = item.parent();\n                    containers = findContainers();\n\n                    let isFirstItem = groups && groups.length ? groups[0]?.field === group.field : false;\n                    let isLastItem = groups && groups.length ? groups[groups.length - 1].field === group.field : false;\n\n                    that._toggleReorderButtonsDisabledState(item, isFirstItem, isLastItem);\n\n                    const isRemoveAction = !(groups.find((descriptor) => descriptor.field === group.field));\n\n                    if (!isRemoveAction && parentContainer.is(\"[ref='group-container']\")) {\n                        return;\n                    }\n\n                    let container;\n\n                    if (containers && containers.length === 2) {\n                        container = shouldAdd ? containers.first() : containers.last();\n                    } else {\n                        container = $(`<div class=\"${containerClass}\" ${shouldAdd ? 'ref=\"group-container' : \"\"}\"></div>`);\n                        const method = shouldAdd ? \"prepend\" : \"append\";\n                        const containersWrapper = containers.first().parent();\n                        const clearBtn = containersWrapper.find(\"[ref='clear-group']\");\n\n                        if (clearBtn.length && !shouldAdd) {\n                            clearBtn.parent().before(container);\n                        } else if (containersWrapper.length) {\n                            containersWrapper[method](container);\n                        }\n                    }\n\n                    const column = leafColumns(that.columns)[index];\n                    const shouldAddDragIndicator = !isRemoveAction && groups.length > 1;\n                    const templateOptions = {\n                        renderIndicator: shouldAddDragIndicator,\n                        index,\n                        isFirstItem,\n                        isLastItem,\n                    };\n                    const groupedItem = $(templates.itemTemplate(column, { icon: shouldAdd ? \"x-circle\" : \"plus-circle\", actionClass: actionClass }, templateOptions));\n\n                    item.remove();\n\n                    const shouldRemoveContainer = containers.length === 2 && !parentContainer.children().length;\n\n                    if (shouldRemoveContainer) {\n                        if (parentContainer.data(\"kendoReorderable\")) {\n                            parentContainer.data(\"kendoReorderable\")?.destroy();\n                        }\n                        parentContainer.remove();\n                    }\n\n                    if (shouldAdd) {\n                        if (shouldAddDragIndicator) {\n                            const firstItem = container.children().first();\n                            if (firstItem.find(\".k-group-menu-item-actions\")?.length === 1) {\n                                firstItem.prepend(templates.indicator({\n                                    isAdaptive: that._isAdaptive(),\n                                    isFirstItem: true,\n                                    isLastItem: false,\n                                }));\n                            }\n                        }\n                        container.append(groupedItem);\n                    } else {\n                        const nextItem = container.find(itemSelector + `[data-index=\"${index + 1}\"]`);\n                        if (groups.length === 1) {\n                            const firstItem = parentContainer.children().first();\n\n                            firstItem.find(\".k-group-menu-item-actions:first-of-type\").remove();\n                        }\n\n                        if (nextItem.length) {\n                            nextItem.before(groupedItem);\n                        } else {\n                            container.append(groupedItem);\n                        }\n                    }\n\n                    container.find(groupedItem).on(\"click\" + NS, `.k-group-menu-item-remove-action, .k-group-menu-item-add-action`, function(e) {\n                        that._groupItemClickHandler(e, cell);\n                    });\n                });\n\n                containers = findContainers();\n\n                if (containers && containers.length) {\n                    const dragIndicators = containers.first().find(\".k-group-menu-item-drag-action\");\n                    const reorderButtons = containers.first().find(\".k-group-menu-item-up-action, .k-group-menu-item-down-action\");\n                    const container = containers.first();\n                    const hasContainer = container.is(\"[ref='group-container']\") && container?.length;\n                    const initDragInstance = dragIndicators.length;\n                    const initButtonsReordering = reorderButtons.length;\n\n                    if (hasContainer && initButtonsReordering) {\n                        reorderButtons.each(function() {\n                            const button = $(this);\n                            button.unbind(\"click\" + NS);\n                            button.bind(\"click\" + NS, (e) => that._buttonClickReorderHandler(e, cell));\n                        });\n                    } else if (hasContainer && initDragInstance) {\n                        that._groupToolDraggableInstance(cell, container);\n                        that._groupToolReorderableInstance(cell, container);\n                    }\n                }\n            }\n        },\n\n        _buttonClickReorderHandler: function(e, cell) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            const that = this;\n            const itemSelector = \".k-group-menu-item\";\n            const clicked = $(e.currentTarget);\n            const element = clicked.closest(itemSelector);\n\n            const position = clicked.hasClass(\"k-group-menu-item-up-action\") ? \"before\" : \"after\";\n            const target = position === \"before\" ? element.prev(itemSelector) : element.next(itemSelector);\n\n            const evData = {\n                element,\n                target,\n                position,\n            };\n\n            that._handleGroupReordering(evData, cell);\n        },\n\n        _groupToolDraggableInstance: function(cell, container) {\n            const that = this;\n            const isMobile = that._isMobile;\n\n            cell._draggableInstance = container.kendoDraggable({\n                holdToDrag: isMobile,\n                showHintOnHold: isMobile,\n                preventOsHoldFeatures: isMobile,\n                group: \"group-item-draggable\",\n                autoScroll: true,\n                filter: \".k-group-menu-item-drag-action\",\n                hint: function(target) {\n                    var hint = $('<div class=\"k-reorder-clue k-drag-clue\">' + kendo.ui.icon({ icon: \"cancel\", iconClass: \"k-drag-status\" }) + '</div>');\n                    return hint;\n                },\n                clickMoveClick: false,\n                cursorOffset: { top: 0, left: 0 }\n            }).data(\"kendoDraggable\");\n        },\n\n        _groupToolReorderableInstance: function(cell, container) {\n            const that = this;\n            const itemSelector = \".k-group-menu-item\";\n\n            if (container && container.data(\"kendoReorderable\")) {\n                container.data(\"kendoReorderable\").destroy();\n            }\n\n            container.kendoReorderable({\n                smartPosition: false,\n                draggable: cell._draggableInstance,\n                dragOverContainers: function(sourceIndex, targetIndex) {\n                    var result = true,\n                        target = $(itemSelector).eq(targetIndex);\n\n                    return result;\n                },\n                dropFilter: \"> \" + itemSelector,\n                allowIcon: \"insert-middle\",\n                orientation: \"vertical\",\n                reorderDropCue: $('<div class=\"k-drop-hint k-drop-hint-h\"><div class=\"k-drop-hint-start\"></div><div class=\"k-drop-hint-line\"></div></div>'),\n                positionDropCue: function(reorderDropCue) {\n                    reorderDropCue.css({\n                        transform: \"translate(0,-50%)\",\n                    });\n                },\n                externalDraggable: function(e) {\n                    var draggable = e.draggable;\n\n                    if (draggable) {\n                        return draggable;\n                    }\n                },\n                change: function(e) {\n                    that._handleGroupReordering(e, cell);\n                }\n            });\n        },\n\n        _handleGroupReordering: function(e, cell) {\n            const element = e.element;\n            const newSibling = e.target;\n            const method = e.position === \"before\" ? \"insertBefore\" : \"insertAfter\";\n\n            const descriptors = this.groupable.descriptors();\n\n            element[method](newSibling);\n\n            const items = element.parent().children();\n            const newDescriptors = [];\n\n            for (let i = 0; i < items.length; i++) {\n                const field = $(items[i]).data(\"field\");\n                const descriptor = descriptors.find((d) => d.field === field);\n\n                if (descriptor) {\n                    newDescriptors.push(descriptor);\n                }\n            }\n            cell._triggeredReordering = true;\n            this.dataSource.group(newDescriptors);\n            this.groupable.trigger(CHANGE, { groups: newDescriptors });\n        },\n\n        _groupItemClickHandler: function(e, cell) {\n            const that = this;\n            const itemSelector = \".k-group-menu-item\";\n            const item = $(e.currentTarget).closest(itemSelector);\n            const action = $(e.currentTarget).find(\".k-icon\")?.attr(\"class\").includes(\"plus-circle\") ? \"remove\" : \"add\";\n            const shouldAdd = action === \"remove\";\n            const index = item.data(\"index\");\n\n\n            let descriptors = that.groupable.descriptors();\n\n            if (!descriptors.length) {\n                descriptors = that.dataSource.group();\n            }\n\n            const column = leafColumns(that.columns)[index];\n\n            if (shouldAdd) {\n                descriptors.push({ field: column.field, dir: \"asc\", aggregates: that.groupable.aggregates() || [], colID: column.uid, compare: (column.sortable && column.sortable.compare) || (that.groupable.sort && that.groupable.sort.compare) });\n            } else {\n                descriptors = descriptors.filter((descriptor) => descriptor.field !== column.field);\n            }\n            that.dataSource.group(descriptors);\n            that.groupable.trigger(CHANGE, { groups: descriptors });\n        },\n\n        _sortToolbarTool: function(cell) {\n            const that = this;\n            const options = that.options;\n            const selectorClass = \"k-columnmenu-indicators\";\n            const isAdaptive = that._isAdaptive();\n            const clearSortButton = (cell) => {\n                const clearSortSelector = that._isAdaptive() ? \"[ref-actionsheet-action-button]:not('.k-button-primary')\" : \"[ref='clear-sort']\";\n                return that._toolPopup(cell)?.find(clearSortSelector);\n            };\n\n            let menu;\n            let menuOptions;\n\n            const toolbarSortOptions = that._toolbarOptionsForTool(\"sort\");\n\n            menu = cell.data(\"kendoColumnMenu\");\n            if (menu) {\n                menu.wrapper.off(\"click\" + NS);\n                menu.element.off(\"click\" + NS);\n                menu.destroy();\n            }\n\n            function content({ columns, isAdaptive }) {\n                let content = `<div class=\"k-columnmenu-item-wrapper\">`;\n                columns.forEach((column) => {\n                    if (column.sortable === false || column.command || column._originalObject.draggable || column._originalObject.selectable) {\n                        return;\n                    }\n                    content += `<div class=\"k-columnmenu-item\" tabindex=\"0\" data-field=\"${column.field}\">${column.title || column.field || \"\"}</div>`;\n                });\n\n                content += \"</div>\";\n                if ((!toolbarSortOptions || toolbarSortOptions.clearButton) && !isAdaptive) {\n                    content += `<div class=\"k-actions k-actions-stretched k-actions-horizontal k-column-menu-footer\">`;\n\n                    content += kendo.html.renderButton(`<button ref=\"clear-sort\">${defaultActionSheetFooterButtons(that.options.messages).sort[0].text}</button>`, { icon: \"x\" });\n\n                    content += \"</div>\";\n                }\n\n                return content;\n            }\n            const sortable = options.columnMenu.sortable !== false && options.sortable !== false ? extend({}, options.sortable, { allowUnsort: false }) : false;\n\n            if (!sortable) {\n                return;\n            }\n\n            menuOptions = {\n                dataSource: that.dataSource,\n                columns: false,\n                sortable: sortable,\n                filterable: false,\n                hideAutoSizeColumn: true,\n                owner: that,\n                adaptiveMode: that.options.adaptiveMode,\n                encodeTitles: that.options.encodeTitles,\n                componentType: \"modern\",\n                _actionsheet: {\n                    actionButtons: defaultActionSheetFooterButtons(that.options.messages).sort,\n                    title: \"Sort by\",\n                    ref: \"sort-view\",\n                    closeButton: {\n                        icon: \"check\",\n                        themeColor: \"primary\",\n                    },\n                },\n                init: function(e) {\n                    cell.wrapper.attr(\"ref\", \"sort-tool\");\n                },\n                closeCallback: function(e) {\n                    e.removeClass(SELECTED);\n                    const popupElement = that._toolPopup(cell);\n                    if (popupElement.length) {\n                        popupElement.find(\".k-focus\").removeClass(\"k-focus\");\n                    }\n                    cell.element.focus();\n                },\n                sort: function(e) {\n                    const preventClose = e.preventClose;\n\n                    cell._preventClose = that.options.sortable.mode === \"multiple\" || preventClose;\n\n                    if (that.trigger(\"sort\", { sort: e.sort })) {\n                        e.preventDefault();\n                    } else {\n                        that._clearEditableState();\n                        if (that.dataSource.options.endless) {\n                            that._resetEndless();\n                        }\n                    }\n                },\n                contentTemplate: content,\n            };\n\n            cell = cell.kendoColumnMenu(menuOptions).data(\"kendoColumnMenu\");\n\n            const sortToolHandler = function(e) {\n                const cell = e.sender.wrapper && e.sender.wrapper.find(\".k-grid-sort-tool\")?.data(\"kendoColumnMenu\");\n                const dataSource = e.sender.dataSource;\n                const sortFields = dataSource._sortFields;\n                const isArray = Array.isArray(e.sort);\n                const field = e.sort.field;\n                const isMultiSortingEnabled = e.sender.options.sortable && (e.sender.options.sortable.mode === \"multiple\" || e.sender.options.sortable.mode === \"mixed\");\n                let condition;\n                let isUnsortEvent = e.sort.dir === undefined;\n\n                if (isArray) {\n                    condition = e.sort.length;\n                } else if (sortFields && Object.keys(sortFields).length) {\n                    condition = !isUnsortEvent || isUnsortEvent && Object.keys(sortFields).length - 1 > 0;\n                } else {\n                    condition = !isUnsortEvent;\n                }\n\n\n                that._toggleBadge(cell.element, condition);\n\n\n                const element = cell.wrapper.find(`.k-columnmenu-item[data-field='${field}']`);\n                let indicatorsWrapper = element.find(\".\" + selectorClass);\n\n                if (isUnsortEvent) {\n                    indicatorsWrapper.remove();\n                } else {\n                    if (!isMultiSortingEnabled) {\n                        indicatorsWrapper = cell.wrapper.find(\".\" + selectorClass);\n                    }\n\n                    if (indicatorsWrapper.length) {\n                        indicatorsWrapper.remove();\n                    }\n\n                    element.append(that._renderIndicator(`sort-${e.sort.dir}-small`));\n                }\n\n                clearSortButton(cell)?.toggleClass(\"k-disabled\", !condition);\n            };\n\n            that.unbind(\"sort\", sortToolHandler);\n            that.bind(\"sort\", sortToolHandler);\n\n            cell.bind(\"open\", function() {\n                const popupElement = that._toolPopup(cell);\n\n                if (popupElement.length) {\n                    popupElement.focus();\n                    const clearSortBtn = clearSortButton(cell);\n                    const items = popupElement.find(\".k-columnmenu-item\");\n\n                    if (clearSortBtn.length) {\n                        clearSortBtn.off(\"mousedown\" + NS);\n\n                        clearSortBtn.on(\"mousedown\" + NS, function() {\n                            that.dataSource.sort([]);\n                            that._toggleBadge(cell.element, false);\n                            clearSortButton(cell)?.toggleClass(\"k-disabled\", true);\n                            cell.wrapper.find(\".k-columnmenu-indicators\").remove();\n                            cell.close();\n                        });\n                    }\n\n                    if (items.length) {\n                        popupElement.off(\"click\" + NS);\n\n                        popupElement.on(\"click\" + NS, \".k-columnmenu-item\", function(e) {\n                            const currentTarget = $(e.currentTarget);\n                            const field = currentTarget.data(\"field\");\n                            const unsort = that._toggleColumnMenuSortIndicator(currentTarget);\n                            const isMixed = that.options.sortable && that.options.sortable.mode === \"mixed\";\n                            const hasCtrlKey = e.originalEvent.ctrlKey;\n\n                            cell.field = field;\n                            cell._sortHandler({ item: currentTarget, allowUnsort: unsort, allowSelectedState: false, isMixed, hasCtrlKey });\n                            that._toggleSortIndexes(that.dataSource._sortFields && Object.keys(that.dataSource._sortFields).length > 1, cell, selectorClass);\n                        });\n                    }\n                }\n            });\n\n            cell.element.on(\"click\" + NS, function(e) {\n                if (cell.popup && cell.popup._closing) {\n                    return;\n                }\n                $(e.currentTarget).addClass(SELECTED);\n                const sortFields = cell.dataSource._sortFields;\n                const condition = sortFields && Object.keys(sortFields).length;\n                const shouldRenderIndexes = Object.keys(sortFields).length > 1;\n\n                if (condition) {\n                    Object.keys(sortFields).forEach((sortField) => {\n                        const element = cell.wrapper.find(`.k-columnmenu-item[data-field='${sortField}']`);\n                        const indicator = element.find(\".\" + selectorClass);\n\n                        if (indicator.length) {\n                            indicator.remove();\n                        }\n\n                        element.append(that._renderIndicator(`sort-${sortFields[sortField].dir}-small`));\n                    });\n                }\n                that._toggleSortIndexes(shouldRenderIndexes, cell, selectorClass, isAdaptive);\n\n                clearSortButton(cell)?.toggleClass(\"k-disabled\", !condition);\n            });\n        },\n\n        _toggleSortIndexes: function(condition, cell, selector) {\n            const that = this;\n            const showIndexes = that.options.sortable && that.options.sortable.showIndexes;\n\n            if (!showIndexes) {\n                return;\n            }\n            const indicators = cell.wrapper.find(`.${selector}`);\n            let sortFields = cell.dataSource && cell.dataSource._sortFields;\n\n            if (!indicators.length) {\n                return;\n            }\n\n            if (condition) {\n                indicators.each((index, indicator) => {\n                    const field = $(indicator).closest(\".k-columnmenu-item\").data(\"field\");\n                    const sortField = sortFields[field];\n                    const sortIndex = $(indicator).parent().find(\".k-sort-index\");\n\n                    if (!sortIndex.length) {\n                        if (sortField.index) {\n                            $(indicator).append(`<span class='k-sort-index'>${sortField.index}</span>`);\n                        } else {\n                            $(indicator).append(`<span class='k-sort-index'>${index + 1}</span>`);\n                        }\n                    } else {\n                        sortIndex.text(sortField.index);\n                    }\n                });\n            } else {\n                cell.wrapper.find(\".k-sort-index\").remove();\n            }\n        },\n\n        _columnChooserTool: function(cell) {\n            const that = this;\n            const templateRef = \"column-chooser\";\n\n            function content(config) {\n                const template = config._defaultContents()[templateRef];\n\n                return template(config);\n            }\n\n            const menu = cell.data(\"kendoColumnMenu\");\n            if (menu) {\n                menu.wrapper.off(\"click\" + NS);\n                menu.element.off(\"click\" + NS);\n                menu.destroy();\n            }\n\n            const menuOptions = {\n                dataSource: that.dataSource,\n                columns: true,\n                sortable: false,\n                filterable: false,\n                hideAutoSizeColumn: true,\n                owner: that,\n                adaptiveMode: that.options.adaptiveMode,\n                encodeTitles: that.options.encodeTitles,\n                messages: {\n                    reset: that.options.messages.clearButtons ? that.options.messages.clearButtons.columnChooserReset : \"Reset\",\n                    apply: that.options.messages.applyButtons ? that.options.messages.applyButtons.columnChooserApply : \"Apply\",\n                },\n                componentType: \"modern\",\n                contentTemplate: content,\n                _actionsheet: {\n                    actionButtons: defaultActionSheetFooterButtons(that.options.messages)[templateRef],\n                    title: \"Column visibility\",\n                    subtitle: \"Selected fields are visible\",\n                    closeButton: true,\n                    ref: `${templateRef}-view`,\n                },\n                init: function(e) {\n                    cell.wrapper.attr(\"ref\", templateRef + \"-tool\");\n                    if (cell._showAdaptiveView) {\n                        cell.popup._content.find(`[ref='${templateRef}']`).unwrap();\n                    } else {\n                        cell.wrapper.removeClass(\"k-column-menu\");\n                    }\n                },\n                closeCallback: function(e) {\n                    e.removeClass(SELECTED);\n                    const popupElement = that._toolPopup(cell);\n                    if (popupElement.length) {\n                        popupElement.find(\".k-focus\").removeClass(\"k-focus\");\n                    }\n                    if (cell && cell._showAdaptiveView) {\n                        cell._applyColumnVisibility();\n                    }\n                    cell.element.focus();\n                },\n            };\n\n            cell = cell.kendoColumnMenu(menuOptions).data(\"kendoColumnMenu\");\n\n            cell.element.bind(\"click\", function(e) {\n                if (cell.popup && cell.popup._closing) {\n                    return;\n                }\n                $(e.currentTarget).addClass(SELECTED);\n            });\n\n            cell.bind(\"open\", function() {\n                const popupElement = that._toolPopup(cell);\n\n                if (popupElement.length) {\n                    popupElement.find(\".k-checkbox\")?.first()?.focus();\n                }\n            });\n        },\n\n        _toggleBadge: function(cell, condition) {\n            const badgeSelector = \"k-badge-container\";\n            const badgeContainer = cell.closest(`.${badgeSelector}`);\n            const badge = badgeContainer.length && badgeContainer.find(\".k-badge\");\n            const overflowProp = cell.data(\"overflow\");\n\n            if (!badge.length && condition) {\n                const badgeContainer = cell.wrap(`<div class='k-badge-container' ${overflowProp ? \"data-overflow=\" + overflowProp : \"\"}></div>`).parent();\n                badgeContainer.append($('<span></span>').kendoBadge({\n                    round: 'full',\n                    position: 'edge',\n                    align: 'top end',\n                    themeColor: 'primary',\n                    cutoutBorder: true,\n                }));\n            } else if (!condition && badge.length) {\n                badge.remove();\n                cell.unwrap(\".k-badge-container\");\n            }\n        },\n\n        _toggleColumnMenuFilterIndicator: function(element, condition) {\n            const that = this;\n            const classSelector = \".k-columnmenu-indicators\";\n            const indicatorWrapper = element.find(classSelector);\n            const spacer = element.find(\".k-spacer\");\n\n            if (condition && spacer.length) {\n                if (indicatorWrapper && indicatorWrapper.length) {\n                    return;\n                }\n\n                spacer.before(that._renderIndicator(\"filter\"));\n            } else {\n                if (indicatorWrapper && indicatorWrapper.length) {\n                    indicatorWrapper.remove();\n                }\n            }\n        },\n\n        _toggleColumnMenuSortIndicator: function(element) {\n            const that = this;\n            const classSelector = \".k-columnmenu-indicators\";\n            const indicatorWrapper = element.find(classSelector);\n            const sortIndex = element.find(\".k-sort-index\");\n\n            let unsort;\n\n            let action = !sortIndex.length ? \"append\" : \"before\";\n\n            if (indicatorWrapper && indicatorWrapper.length) {\n                const indicator = indicatorWrapper.find(\".k-icon\");\n\n                if (indicator.length && indicator.hasClass(\"k-svg-i-sort-desc-small\")) {\n                    indicatorWrapper.remove();\n                    unsort = true;\n                } else {\n                    indicator.remove();\n                    indicatorWrapper[action](that._renderIndicator(\"sort-desc-small\"));\n                    unsort = false;\n                }\n            } else {\n                element[action](that._renderIndicator(\"sort-asc-small\"));\n                unsort = false;\n            }\n\n            return unsort;\n        },\n\n        _renderIndicator: function(icon) {\n            return $(\"<span class='k-columnmenu-indicators'></span>\").append(\n                kendo.ui.icon($('<span></span>'), { icon: icon })\n            );\n        },\n\n        _globalColumnsMenu: function(cell) {\n            var that = this,\n                menu,\n                columns = leafColumns(that.columns),\n                options = that.options,\n                columnMenu = options.columnMenu,\n                menuOptions,\n                initCallback = function(e) {\n                    if (that._isAdaptive()) {\n                        e.sender.popup.wrapper.find(\".k-expanded [ref=columns-visibility]\").data(\"handler\").toggle(false);\n                    }\n                    that.trigger(COLUMNMENUINIT, { field: e.field, container: e.container });\n                },\n                openCallback = function(e) {\n                    that.trigger(COLUMNMENUOPEN, { field: e.field, container: e.container });\n                },\n                closeCallback = function() {\n                    cell.trigger(\"focus\");\n                };\n\n            if (columnMenu) {\n                if (typeof columnMenu == \"boolean\") {\n                    columnMenu = {};\n                }\n\n                that._setColumnsMediaVisibility(columns);\n\n                let toggleable = !!(columnMenu.autoSize || columnMenu.clearAllFilters);\n\n                menu = cell.data(\"kendoColumnMenu\");\n                if (menu) {\n                    menu.destroy();\n                }\n\n                let columnsExpanderOptions = {\n                    toggleable: toggleable,\n                    expanded: columnMenu.expanded || true,\n                    animation: false,\n                    hideExpanderIndicator: !toggleable\n                };\n\n                menuOptions = {\n                    dataSource: that.dataSource,\n                    columns: columnMenu.columns,\n                    sortable: false,\n                    filterable: false,\n                    clearAllFilters: columnMenu.clearAllFilters,\n                    messages: columnMenu.messages,\n                    hideAutoSizeColumn: true,\n                    owner: that,\n                    closeCallback: closeCallback,\n                    init: initCallback,\n                    open: openCallback,\n                    pane: that.options.adaptiveMode !== 'auto' && that.pane,\n                    autoSize: columnMenu.autoSize,\n                    encodeTitles: that.options.encodeTitles,\n                    componentType: \"modern\",\n                    adaptiveMode: \"auto\",\n                    columnsExpanderOptions: columnsExpanderOptions\n                };\n\n                cell.kendoColumnMenu(menuOptions);\n            }\n        },\n\n        _columnMenu: function() {\n            var that = this,\n                menu,\n                columns = leafColumns(that.columns),\n                column,\n                options = that.options,\n                columnMenu = options.columnMenu,\n                menuOptions,\n                sortable,\n                filterable,\n                cells,\n                hasMultiColumnHeaders = grep(that.columns, function(item) {\n                    return item.columns !== undefined;\n                }).length > 0,\n                hasLockableColumns = grep(that.columns, function(item) {\n                    return item.lockable !== false;\n                }).length > 0,\n                hasStickableColumns = grep(that.columns, function(item) {\n                    return item.stickable === true;\n                }).length > 0,\n                isMobile = this._isMobile,\n                initCallback = function(e) {\n                    that.trigger(COLUMNMENUINIT, { field: e.field, container: e.container });\n                },\n                openCallback = function(e) {\n                    that.trigger(COLUMNMENUOPEN, { field: e.field, container: e.container });\n                },\n                closeCallback = function() {\n                    focusTable(that.table, true);\n                },\n                stickCallback = function(e) {\n                    that.trigger(COLUMNSTICK, { column: e.column });\n                },\n                unstickCallback = function(e) {\n                    that.trigger(COLUMNUNSTICK, { column: e.column });\n                },\n                sortHandler = function(e) {\n                    if (that.trigger(\"sort\", { sort: e.sort })) {\n                        e.preventDefault();\n                    } else {\n                        that._clearEditableState();\n                        if (that.dataSource.options.endless) {\n                            that._resetEndless();\n                        }\n                    }\n                },\n                filterHandler = function(e) {\n                    if (that.trigger(\"filter\", { filter: e.filter, field: e.field })) {\n                        e.preventDefault();\n                    } else {\n                        that._clearEditableState();\n                        if (that.dataSource.options.endless) {\n                            that._resetEndless();\n                        }\n                    }\n                };\n\n            if (columnMenu && !that._isStackedMode()) {\n                if (typeof columnMenu == \"boolean\") {\n                    columnMenu = {};\n                }\n\n                that._setColumnsMediaVisibility(columns);\n\n                cells = leafDataCells(that.thead);\n\n                for (var idx = 0, length = cells.length; idx < length; idx++) {\n                    column = columns[idx];\n                    var cell = cells.eq(idx);\n\n                    if (column.columnMenu !== false && !column.command && (column.field || cell.attr(\"data-\" + kendo.ns + \"field\"))) {\n                        menu = cell.data(\"kendoColumnMenu\");\n                        if (menu) {\n                            menu.destroy();\n                        }\n\n                        sortable = column.sortable !== false && columnMenu.sortable !== false && options.sortable !== false ? extend({}, options.sortable, {\n                            compare: (column.sortable || {}).compare\n                        }) : false;\n\n                        filterable = options.filterable && column.filterable !== false && columnMenu.filterable !== false ? extend(true, { pane: that.pane }, options.filterable, column.filterable) : false;\n\n                        if (column.filterable && column.filterable.dataSource) {\n                            filterable.forceUnique = false;\n                            filterable.checkSource = column.filterable.dataSource;\n                        }\n\n                        if (filterable) {\n                            filterable.format = column.format;\n                        }\n\n                        const isAdaptive = that.options.adaptiveMode !== \"auto\" ? (columnMenu.adaptiveMode || that.options.adaptiveMode) : that.options.adaptiveMode;\n\n                        menuOptions = {\n                            dataSource: that.dataSource,\n                            values: column.values,\n                            columns: columnMenu.columns,\n                            sortable: sortable,\n                            filterable: filterable,\n                            messages: columnMenu.messages,\n                            owner: that,\n                            adaptiveMode: isAdaptive,\n                            adaptiveTitle: column.title || column.field,\n                            closeCallback: closeCallback,\n                            init: initCallback,\n                            open: openCallback,\n                            stick: stickCallback,\n                            unstick: unstickCallback,\n                            pane: that.options.adaptiveMode !== 'auto' && that.pane,\n                            sort: sortHandler,\n                            filtering: filterHandler,\n                            filter: isMobile ? \":not(.k-column-active)\" : \"\",\n                            autoSize: columnMenu.autoSize,\n                            hasLockableColumns: lockedColumns(columns).length > 0 && hasLockableColumns && !hasMultiColumnHeaders,\n                            hasStickableColumns: hasStickableColumns && !hasMultiColumnHeaders,\n                            encodeTitles: that.options.encodeTitles,\n                            componentType: columnMenu.componentType,\n                            appendTo: DOT + classNames.headerCellInner,\n                            reorderable: options.reorderable === true || (options.reorderable && options.reorderable.columns),\n                            groupable: that.options.groupable && that.options.groupable.enabled !== false && column.groupable !== false\n                        };\n\n                        cell.kendoColumnMenu(menuOptions);\n                    }\n                }\n            }\n        },\n\n        _headerCells: function() {\n            return $(this.thead).find(\"th\").filter(function() {\n                var th = $(this);\n                return !th.hasClass(\"k-group-cell\") && !th.hasClass(\"k-hierarchy-cell\");\n            });\n        },\n\n        _hasFilterMenu: function() {\n            var filterable = this.options.filterable;\n            if (filterable && typeof filterable.mode == STRING && filterable.mode.indexOf(\"menu\") == -1) {\n                return false;\n            }\n\n            return filterable;\n        },\n\n        _filterable: function() {\n            var that = this,\n                columns = leafColumns(that.columns),\n                filterMenu,\n                cells,\n                cell,\n                filterInit = function(e) {\n                    that.trigger(FILTERMENUINIT, { field: e.field, container: e.container });\n                },\n                closeCallback = function() {\n                    focusTable(that.table, true);\n                },\n                filterHandler = function(e) {\n                    if (that.trigger(\"filter\", { filter: e.filter, field: e.field })) {\n                        e.preventDefault();\n                    } else {\n                        that._clearEditableState();\n                        if (that.dataSource.options.endless) {\n                            that._resetEndless();\n                        }\n                    }\n                },\n                filterOpen = function(e) {\n                    that.trigger(FILTERMENUOPEN, { field: e.field, container: e.container });\n                },\n                filterable = that._hasFilterMenu();\n\n            if (filterable && !that.options.columnMenu && !that._isStackedMode()) {\n                cells = leafDataCells(that.thead);//that._headerCells();\n\n                for (var idx = 0, length = cells.length; idx < length; idx++) {\n                    cell = cells.eq(idx);\n\n                    if (columns[idx].filterable !== false && !columns[idx].command && (columns[idx].field || cell.attr(\"data-\" + kendo.ns + \"field\"))) {\n                        filterMenu = cell.data(\"kendoFilterMenu\");\n\n                        if (filterMenu) {\n                            filterMenu.destroy();\n                        }\n\n                        filterMenu = cell.data(\"kendoFilterMultiCheck\");\n                        if (filterMenu) {\n                            filterMenu.destroy();\n                        }\n\n                        var columnFilterable = columns[idx].filterable;\n\n                        var options = extend({},\n                            filterable,\n                            columnFilterable,\n                            {\n                                dataSource: that.dataSource,\n                                values: columns[idx].values,\n                                format: columns[idx].format,\n                                closeCallback: closeCallback,\n                                title: columns[idx].title || columns[idx].field,\n                                init: filterInit,\n                                open: filterOpen,\n                                pane: that.pane,\n                                change: filterHandler,\n                                appendTo: DOT + classNames.headerCellInner,\n                                adaptiveMode: that.options.adaptiveMode\n                            }\n                        );\n\n                        if (columnFilterable && columnFilterable.messages) {\n                            options.messages = extend(true, {}, filterable.messages, columnFilterable.messages);\n                        }\n                        if (columnFilterable && columnFilterable.dataSource) {\n                            options.forceUnique = false;\n                            options.checkSource = columnFilterable.dataSource;\n                        }\n\n                        if (columnFilterable && columnFilterable.multi) {\n                            cell.kendoFilterMultiCheck(options);\n                        } else {\n                            cell.kendoFilterMenu(options);\n                        }\n                    }\n                }\n            }\n        },\n\n        _filterRow: function() {\n            var that = this;\n            if (!that._hasFilterRow()) {\n                return;\n            }\n\n            var settings;\n            var columns = leafColumns(that.columns),\n                filterable = that.options.filterable,\n                rowheader = that.thead.find(\".k-filter-row\"),\n                filterHandler = function(e) {\n                    if (that.trigger(\"filter\", { filter: e.filter, field: e.field })) {\n                        e.preventDefault();\n                    } else {\n                        that._clearEditableState();\n                        if (that.dataSource.options.endless) {\n                            that._resetEndless();\n                        }\n                    }\n                };\n\n\n            this._updateHeader(that._groups());\n\n            for (var i = 0; i < columns.length; i++) {\n                var suggestDataSource,\n                    col = columns[i],\n                    operators = that.options.filterable.operators,\n                    customDataSource = false,\n                    td = $(\"<td class='k-table-td' title='\" + that.options.messages.filterCellTitle + \"'/>\"),\n                    field = col.field;\n\n                if (col.hidden) {\n                    td.hide();\n                }\n                rowheader.append(td);\n                if (field && col.filterable !== false) {\n                    var cellOptions = col.filterable && col.filterable.cell || {};\n\n                    suggestDataSource = that.options.dataSource;\n                    if (suggestDataSource instanceof DataSource) {\n                        suggestDataSource = that.options.dataSource.options;\n                    }\n\n                    var messages = extend(true, {}, filterable.messages);\n                    if (col.filterable) {\n                        extend(true, messages, col.filterable.messages);\n                    }\n\n                    if (cellOptions.enabled === false) {\n                        td.html(\"&nbsp;\");\n                        continue;\n                    }\n                    if (cellOptions.dataSource) {\n                        suggestDataSource = cellOptions.dataSource;\n                        customDataSource = true;\n                    }\n                    if (col.filterable && col.filterable.operators) {\n                        operators = col.filterable.operators;\n                    }\n\n                    settings = {\n                        column: col,\n                        dataSource: that.dataSource,\n                        suggestDataSource: suggestDataSource,\n                        customDataSource: customDataSource,\n                        field: field,\n                        messages: messages,\n                        size: that.options.size,\n                        values: col.values,\n                        template: cellOptions.template,\n                        delay: cellOptions.delay,\n                        inputWidth: cellOptions.inputWidth,\n                        suggestionOperator: cellOptions.suggestionOperator,\n                        minLength: cellOptions.minLength,\n                        dataTextField: cellOptions.dataTextField,\n                        operator: cellOptions.operator,\n                        operators: operators,\n                        showOperators: cellOptions.showOperators,\n                        change: filterHandler,\n                        adaptiveMode: that.options.adaptiveMode,\n                    };\n\n                    $(\"<span/>\").attr(kendo.attr(\"field\"), field)\n                        .appendTo(td)\n                        .kendoFilterCell(settings);\n                } else {\n                    td.html(\"&nbsp;\");\n                }\n                td.data(\"column\", col);\n            }\n\n            this._filterFocusable().attr(TABINDEX, -1);\n        },\n\n        _sortable: function() {\n            var that = this,\n                columns = leafColumns(that.columns),\n                column,\n                sorterInstance,\n                cell,\n                sortable = that.options.sortable,\n                sortHandler = function(e) {\n                    if (that.trigger(\"sort\", { sort: e.sort })) {\n                        e.preventDefault();\n                    } else {\n                        that._clearEditableState();\n                    }\n                };\n\n\n            if (sortable && !that._isStackedMode()) {\n                var cells = leafDataCells(that.thead);\n\n                for (var idx = 0, length = cells.length; idx < length; idx++) {\n                    column = columns[idx];\n\n                    if (column.sortable !== false && !column.command && column.field) {\n                        cell = cells.eq(idx);\n\n                        sorterInstance = cell.data(\"kendoColumnSorter\");\n\n                        if (sorterInstance) {\n                            sorterInstance.destroy();\n                        }\n\n                        cell.attr(\"data-\" + kendo.ns + \"field\", column.field)\n                            .kendoColumnSorter(\n                                extend({}, sortable, column.sortable, {\n                                    dataSource: that.dataSource,\n                                    aria: true,\n                                    filter: \":not(.k-column-active)\",\n                                    change: sortHandler\n                                })\n                            );\n                    }\n                }\n                cells = null;\n            }\n        },\n\n        _columns: function(columns) {\n            var that = this,\n                table = that.table,\n                encoded,\n                cols = table.find(\"col\"),\n                lockedCols,\n                headerRows = that.element.find('thead tr'),\n                dataSource = that.options.dataSource,\n                draggableColumns;\n\n            // using HTML5 data attributes as a configuration option e.g. <th data-field=\"foo\">Foo</foo>\n            columns = columns.length ? columns : map(table.find(\"th:not(.k-group-cell):not(.k-hierarchy-cell)\"), function(th, idx) {\n                th = $(th);\n                var sortable = th.attr(kendo.attr(\"sortable\")),\n                    filterable = th.attr(kendo.attr(\"filterable\")),\n                    type = th.attr(kendo.attr(\"type\")),\n                    groupable = th.attr(kendo.attr(\"groupable\")),\n                    field = th.attr(kendo.attr(\"field\")),\n                    title = th.attr(kendo.attr(\"title\")),\n                    columnMenu = th.attr(kendo.attr(\"column-menu\")),\n                    menu = th.attr(kendo.attr(\"menu\"));\n\n                if (!field) {\n                    field = th.text().replace(/\\s|[^A-z0-9]/g, \"\");\n                }\n\n                return {\n                    field: field,\n                    type: type,\n                    title: title,\n                    sortable: sortable !== \"false\",\n                    filterable: filterable !== \"false\",\n                    groupable: groupable !== \"false\",\n                    menu: menu !== \"false\",\n                    columnMenu: columnMenu !== \"false\",\n                    template: th.attr(kendo.attr(\"template\")),\n                    width: cols.eq(idx).css(WIDTH)\n                };\n            });\n\n            encoded = !(that.table.find(\"tbody tr\").length > 0 && (!dataSource || !dataSource.transport));\n\n            if (that.options.scrollable && !that._isStackedMode()) {\n                var initialColumns = columns;\n                lockedCols = lockedColumns(columns);\n                columns = nonLockedColumns(columns);\n\n                if (lockedCols.length > 0 && columns.length === 0) {\n                    throw new Error(\"There should be at least one non locked column\");\n                }\n\n                normalizeHeaderCells(that.element.find(\"tr:has(th)\").first(), initialColumns);\n                columns = lockedCols.concat(columns);\n            }\n\n            if (headerRows.length && columns.length) {\n                that._updateColumnIDs(columns, headerRows.first());\n            }\n\n            that.columns = normalizeColumns(columns, encoded);\n\n            if ($.grep(leafColumns(that.columns), function(col) { return col.selectable; }).length) {\n                that._selectedIds = {};\n                that._checkBoxSelection = true;\n                that.wrapper.on(CLICK + NS, \"tbody > tr \" + CHECKBOXINPUT, that._checkboxClick.bind(that));\n                that.wrapper.on(CLICK + NS, \"thead > tr \" + CHECKBOXINPUT, that._headerCheckboxClick.bind(that));\n            }\n\n            draggableColumns = $.grep(leafColumns(that.columns), function(col) { return col.draggable; });\n\n            if (draggableColumns.length) {\n                that._hasDragHandleColumn = true;\n\n                for (var i = 0; i < draggableColumns.length; i++) {\n                    draggableColumns[i].headerAttributes = $.extend({\n                        \"aria-label\": that.options.messages.dragHandleLabel\n                    }, draggableColumns[i].headerAttributes);\n                }\n            }\n\n            that._foreignKeyBindings(flatColumns(that.columns));\n        },\n\n        _foreignKeyBindings: function(columns) {\n            var that = this;\n            var length = columns.length;\n            var column;\n\n            for (var i = 0; i < length; i++) {\n                column = columns[i];\n\n                if (column.dataSource) {\n                    that._fetchForeignKeyValues(column);\n                }\n            }\n        },\n\n        _fetchForeignKeyValues: function(column) {\n            var that = this;\n            var promise = $.Deferred();\n\n            that._hasBoundForeignKey = true;\n            column.dataSource = DataSource.create(column.dataSource);\n\n            if (!that._foreignKeyPromises) {\n                that._foreignKeyPromises = [];\n            }\n\n            that._foreignKeyPromises.push(promise);\n            column.dataSource.fetch().then(function() {\n                var data = column.dataSource.data();\n                column.values = data.map(function(item) {\n                    return {\n                        value: item[column.dataValueField],\n                        text: item[column.dataTextField]\n                    };\n                });\n                promise.resolve();\n            });\n\n        },\n\n        _updateColumnIDs: function(columns, tr) {\n\n            if (!columns.length) {\n                return;\n            }\n\n            var ths = tr.find(\"th:not(.k-group-cell):not(.k-hierarchy-cell)\");\n            var id;\n            for (var i = 0; i < columns.length; i++) {\n                id = ths.eq(i).attr(ID);\n                if (id) {\n                    columns[i].headerAttributes = extend(columns[i].headerAttributes, { id: id });\n                }\n            }\n\n            this._updateColumnIDs(childColumns(columns), tr.next());\n        },\n\n        _headerCheckboxClick: function(e) {\n            var that = this,\n                checkBox = $(e.target),\n                checked = checkBox.prop(\"checked\");\n\n            if (!that._belongsToGrid(checkBox)) {\n                return;\n            }\n\n            if (that.trigger(CHANGING, { target: checkBox, originalEvent: e })) {\n                e.preventDefault();\n                return;\n            }\n\n            if (checked) {\n                that.select(that.items());\n            } else {\n                that.clearSelection();\n            }\n\n            that._calculateAggregatesForSelected();\n            that.trigger(CHANGE, { cellAggregates: that._cellAggregates });\n        },\n\n        _checkboxClick: function(e) {\n            var that = this,\n                row = $(e.target).closest(TR),\n                isSelecting = !row.hasClass(SELECTED);\n\n            if (!that._belongsToGrid(row)) {\n                return;\n            }\n\n            if (that.trigger(CHANGING, { target: row, originalEvent: e })) {\n                e.preventDefault();\n                return;\n            }\n\n            if (isSelecting) {\n                that.select(row);\n            } else {\n                that._deselectCheckRows(row);\n            }\n            that._calculateAggregatesForSelected();\n            that.trigger(CHANGE, { cellAggregates: that._cellAggregates });\n        },\n\n        _groups: function() {\n            var group = this.dataSource.group();\n\n            return group ? group.length : 0;\n        },\n\n        _getStackedLayoutSettings: function() {\n            const that = this;\n            const layoutSetting = that.options.stackedLayoutSettings;\n            const stackedColsConfig = layoutSetting && layoutSetting.cols;\n\n            let config = [];\n            let colClass = \"\";\n            if (stackedColsConfig) {\n                if (Array.isArray(stackedColsConfig)) {\n                    for (let i = 0; i < stackedColsConfig.length; i++) {\n                        if (typeof stackedColsConfig[i] === \"object\") {\n                            const width = stackedColsConfig[i].width;\n                            if (!width && width !== 0) {\n                                continue;\n                            }\n\n                            if (typeof width === \"number\") {\n                                config.push(`${width}px`);\n                            }\n\n                            if (typeof width === \"string\") {\n                                config.push(width);\n                            }\n                        } else if (typeof stackedColsConfig[i] === \"number\") {\n                            config.push(`${stackedColsConfig[i]}px`);\n                        } else if (typeof stackedColsConfig[i] === \"string\") {\n                            config.push(stackedColsConfig[i]);\n                        }\n                    }\n                } else if (typeof stackedColsConfig === \"number\") {\n                    colClass = `k-grid-cols-${stackedColsConfig}`;\n                }\n            }\n\n            return {\n                colClass: colClass,\n                colsConfig: config.join(\" \")\n            };\n        },\n\n        _tmpl: function(rowTemplate, columns, alt, skipGroupCells) {\n            var that = this,\n                settings = extend({}, kendo.Template, that.options.templateSettings),\n                idx,\n                length = columns.length,\n                template,\n                state = { storage: {}, count: 0 },\n                column,\n                hasDetails = that._hasDetails(),\n                groups = that._groups();\n\n            var fieldAttr = kendo.attr(\"field\");\n            var field;\n            var classAttribute;\n            var compiledAttributes;\n            let rowTemplateFunc;\n\n            if (!rowTemplate) {\n                rowTemplateFunc = (data) => {\n                    var uid = length ? ` ${kendo.attr(\"uid\")}=\"${kendo.getter(\"uid\")(data)}\"` : '';\n                    var rowTemplateResult = `<tr class=\"${alt ? 'k-table-row k-table-alt-row ' : 'k-table-row '}k-master-row\"${uid}>`;\n\n                    if (groups > 0 && !skipGroupCells) {\n                        rowTemplateResult += groupCells(groups);\n                    }\n\n                    if (hasDetails) {\n                        rowTemplateResult += '<td class=\"k-hierarchy-cell k-table-td\" aria-expanded=\"false\">' + kendo.ui.icon($(`<a href=\"#\" ${ARIA_LABEL}=\"${EXPAND}\" tabindex=\"-1\"></a>`), { icon: `caret-alt-${isRtl ? \"left\" : \"right\"}` }) + '</td>';\n                    }\n\n                    for (idx = 0; idx < length; idx++) {\n                        column = columns[idx];\n                        template = column.template;\n                        field = column.field;\n                        compiledAttributes = {};\n\n                        let dirtyCellTemplate;\n\n                        if (that._editMode() && field) {\n                            column.attributes = column.attributes || {};\n\n                            if (that.virtualScroll) {\n                                column.attributes[fieldAttr] = field;\n                            }\n\n                            dirtyCellTemplate = that._dirtyCellTemplate(field)(data);\n                        }\n\n                        if (column.colSpan && column.colSpan > 0 && hasHiddenStyle(column.attributes)) { //virtual cell should be visible at all times\n                            column.attributes = removeHiddenStyle(column.attributes);\n                        } else if (!column.colSpan && column.hidden) {\n                            column.attributes = addHiddenStyle(column.attributes);\n                        }\n\n                        if (column.command) {\n                            column.attributes = column.attributes || {};\n                            classAttribute = column.attributes[\"class\"];\n\n                            if (typeof classAttribute !== \"undefined\") {\n                                if (classAttribute.indexOf(\"k-command-cell\") < 0) {\n                                    column.attributes[\"class\"] += \" k-command-cell \";\n                                }\n                            } else {\n                                column.attributes[\"class\"] = \" k-command-cell \";\n                            }\n                        }\n\n                        if (column.draggable) {\n                            column.attributes = column.attributes || {};\n                            if (typeof column.attributes[\"class\"] !== \"undefined\") {\n                                if (column.attributes[\"class\"].indexOf(\"k-drag-cell\") < 0) {\n                                    column.attributes[\"class\"] += \" k-drag-cell \";\n                                }\n                            } else {\n                                column.attributes[\"class\"] = \" k-drag-cell \";\n                            }\n\n                            if (!column.attributes[\"ref-grid-drag-cell\"]) {\n                                column.attributes[\"ref-grid-drag-cell\"] = true;\n                            }\n\n                            if (typeof column.attributes[ARIA_LABEL] === \"undefined\") {\n                                column.attributes[ARIA_LABEL] = that.options.messages.dragHandleLabel;\n                            }\n\n                            if (typeof column.attributes.style !== \"undefined\") {\n                                if (column.attributes.style.indexOf(\"cursor: move;\") < 0) {\n                                    column.attributes.style += \" cursor: move;\";\n                                }\n                            } else {\n                                column.attributes.style = \"cursor: move;\";\n                            }\n                        }\n\n                        if (column._attributesFunction) {\n                            compiledAttributes = column._attributesFunction(data);\n                        }\n\n                        let attributes = extend({}, column.attributes, compiledAttributes);\n                        if (dirtyCellTemplate) {\n                            attributes[\"class\"] = (attributes[\"class\"] || \"\");\n                            attributes[\"class\"] += dirtyCellTemplate;\n                        }\n                        let columnAttributes = stringifyAttributes(attributes);\n                        let colSpanAttributes = '';\n\n                        if (column.colSpan) {\n                            if (column.colSpan > 1) {\n                                colSpanAttributes += \" \" + kendo.attr(\"virtual\");\n                            }\n                            colSpanAttributes += ` colSpan=\"${column.colSpan}\"`;\n                        }\n                        rowTemplateResult += decorateCellWithClass(`<td${columnAttributes}${colSpanAttributes}>`);\n                        rowTemplateResult += column.selectable ? kendo.template(SELECTCOLUMNTMPL)({ size: kendo.getValidCssClass(\"k-checkbox-\", \"size\", that.options.size) }) : that._cellTmpl(column, state)(data);\n                        rowTemplateResult += \"</td>\";\n                    }\n\n                    rowTemplateResult += \"</tr>\";\n                    return rowTemplateResult;\n                };\n\n\n                if (that._isStackedMode()) {\n                    rowTemplateFunc = (data) => {\n                    columns = leafColumns(visibleColumns(columns));\n                    length = columns.length;\n                    var uid = length ? ` ${kendo.attr(\"uid\")}=\"${kendo.getter(\"uid\")(data)}\"` : '';\n                    var rowTemplateResult = `<tr class=\"${alt ? 'k-table-row k-table-alt-row ' : 'k-table-row '}k-master-row\"${uid}>`;\n                        if (groups > 0 && !skipGroupCells) {\n                            rowTemplateResult += groupCells(groups);\n                        }\n\n                        rowTemplateResult += `<td class=\"k-table-td\">\n                            <div class=\"k-grid-stack-row\">\n                        `;\n\n                        for (idx = 0; idx < length; idx++) {\n                            column = columns[idx];\n                            template = column.template;\n                            field = column.field;\n                            compiledAttributes = {};\n\n                            const showHideColumnOnGroup = groups > 0 && that.dataSource.group().find((g) => g.field === field) && column.hideOnGroup;\n\n                            let dirtyCellTemplate;\n\n                            if (showHideColumnOnGroup) {\n                                continue;\n                            }\n\n                            if (that._editMode() && field) {\n                                column.attributes = column.attributes || {};\n\n                                if (that.virtualScroll) {\n                                    column.attributes[fieldAttr] = field;\n                                }\n\n                                dirtyCellTemplate = that._dirtyCellTemplate(field)(data);\n                            }\n\n                            if (column.colSpan && column.colSpan > 0 && hasHiddenStyle(column.attributes)) { //virtual cell should be visible at all times\n                                column.attributes = removeHiddenStyle(column.attributes);\n                            } else if (!column.colSpan && column.hidden) {\n                                column.attributes = addHiddenStyle(column.attributes);\n                            }\n\n                            column.attributes[\"class\"] = \"k-grid-stack-cell\";\n\n                            if (column.title) {\n                                column.attributes[kendo.attr(\"title\")] = column.title;\n                            }\n\n                            if (column.aggregates) {\n                                column.attributes[kendo.attr(\"aggregates\")] = column.aggregates;\n                            }\n\n                            let shouldRenderStackedContent = !column.selectable;\n                            let shouldRenderStackedHeader = !column.selectable;\n\n                            if (column.command) {\n                                column.attributes = column.attributes || {};\n                                classAttribute = column.attributes[\"class\"];\n\n                                if (typeof classAttribute !== \"undefined\") {\n                                    if (classAttribute.indexOf(\"k-command-cell\") < 0) {\n                                        column.attributes[\"class\"] += \" k-command-cell\";\n                                    }\n                                } else {\n                                    column.attributes[\"class\"] = \"k-command-cell\";\n                                }\n\n                                shouldRenderStackedHeader = column.title && column.title !== \"&nbsp;\";\n                                shouldRenderStackedContent = true;\n                            }\n\n                            if (column.draggable) {\n                                shouldRenderStackedHeader = false;\n                                shouldRenderStackedContent = true;\n                                column.attributes = column.attributes || {};\n                                if (typeof column.attributes[\"class\"] !== \"undefined\") {\n                                    if (column.attributes[\"class\"].indexOf(\"k-drag-cell\") < 0) {\n                                        column.attributes[\"class\"] += \" k-drag-cell\";\n                                    }\n                                } else {\n                                    column.attributes[\"class\"] = \"k-drag-cell\";\n                                }\n\n                                if (!column.attributes[\"ref-grid-drag-cell\"]) {\n                                    column.attributes[\"ref-grid-drag-cell\"] = true;\n                                }\n\n                                if (typeof column.attributes[ARIA_LABEL] === \"undefined\") {\n                                    column.attributes[ARIA_LABEL] = that.options.messages.dragHandleLabel;\n                                }\n\n                                if (typeof column.attributes.style !== \"undefined\") {\n                                    if (column.attributes.style.indexOf(\"cursor: move;\") < 0) {\n                                        column.attributes.style += \" cursor: move;\";\n                                    }\n                                } else {\n                                    column.attributes.style = \"cursor: move;\";\n                                }\n                            }\n\n                            if (column._attributesFunction) {\n                                compiledAttributes = column._attributesFunction(data);\n                            }\n\n                            let attributes = extend({}, column.attributes, compiledAttributes);\n                            if (dirtyCellTemplate) {\n                                attributes[\"class\"] = (attributes[\"class\"] || \"\");\n                                attributes[\"class\"] += dirtyCellTemplate;\n                            }\n                            let columnAttributes = stringifyAttributes(attributes);\n                            let colSpanAttributes = '';\n\n                            if (column.colSpan) {\n                                if (column.colSpan > 1) {\n                                    colSpanAttributes += \" \" + kendo.attr(\"virtual\");\n                                }\n                                colSpanAttributes += ` colSpan=\"${column.colSpan}\"`;\n                            }\n\n                            const title = column.parentIds ? createMultiHeaderTitle(that, column) : (column.title || column.field || \"\");\n                            rowTemplateResult += decorateCellWithClass(`<div${columnAttributes}${colSpanAttributes} ${column.field ? `data-field=${ column.field }` : ''} data-index=${ idx }>`, true);\n                            if (shouldRenderStackedHeader) {\n                                rowTemplateResult += `<div class=\"k-grid-stack-header\">${title}</div>`;\n                            }\n                            if (shouldRenderStackedContent) {\n                                rowTemplateResult += `<div class=\"k-grid-stack-content\">`;\n                            }\n\n                            rowTemplateResult += column.selectable ? kendo.template(SELECTCOLUMNTMPL)({ size: kendo.getValidCssClass(\"k-checkbox-\", \"size\", that.options.size) }) : that._cellTmpl(column, state)(data);\n\n                            if (shouldRenderStackedContent) {\n                                rowTemplateResult += `</div>`;\n                            }\n\n                            rowTemplateResult += \"</div>\";\n                        }\n\n                        if (hasDetails) {\n                            rowTemplateResult += `<div class=\"k-grid-stack-cell\">\n                                <div class=\"k-grid-stack-content\">\n                                    ${kendo.html.renderButton(`<button tabindex='-1' ref=\"expand-detail-button\">${that.options.messages.details.expand}</button>`, { icon: \"plus\", fillMode: \"flat\", themeColor: \"primary\" })}\n                                </div>\n                            </div>`;\n                        }\n\n                        rowTemplateResult += \"</div></td></tr>\";\n                        return rowTemplateResult;\n                };\n                }\n            }\n\n            rowTemplate = kendo.template(rowTemplate || rowTemplateFunc, settings);\n\n            if (state.count > 0) {\n                return rowTemplate.bind(state.storage);\n            }\n\n            return rowTemplate;\n        },\n\n        _dirtyCellTemplate: function(field) {\n            return (data) => {\n                if (field && data && data.dirty && data.dirtyFields) {\n                    let dirtyField = field.charAt(0) === \"[\" ? kendo.getter(field)(data.dirtyFields) : data.dirtyFields[field];\n                    return dirtyField ? ' k-dirty-cell' : '';\n                }\n\n                return \"\";\n            };\n        },\n\n        _headerCellText: function(column) {\n            var that = this,\n                settings = extend({}, kendo.Template, that.options.templateSettings),\n                template = column.headerTemplate,\n                type = typeof (template),\n                text = column.title && (that.options.encodeTitles ? htmlEncode(column.title) : column.title) || htmlEncode(column.field || \"\");\n\n            if (type === FUNCTION) {\n                text = kendo.template(template, settings)({});\n            } else if (type === STRING) {\n                text = template;\n            }\n            return text;\n        },\n\n        _cellTmpl: function(column, state) {\n            var that = this,\n                settings = extend({}, kendo.Template, that.options.templateSettings),\n                template = column.template,\n                field = column.field,\n                // html = \"\",\n                idx,\n                length,\n                format = column.format,\n                type = typeof template,\n                columnValues = column.values;\n\n            if (column.command) {\n                if (isArray(column.command)) {\n                    return (data) => {\n                        let html = \"\";\n                        for (idx = 0, length = column.command.length; idx < length; idx++) {\n                            if (column.command[idx].visible) {\n                                html += column.command[idx].visible(data) ? that._createButton(column.command[idx]) : '';\n                            } else {\n                                html += that._createButton(column.command[idx]);\n                            }\n                        }\n                        return html;\n                    };\n                }\n                return () => that._createButton(column.command);\n            }\n\n            if (column.selectable) {\n                return SELECTCOLUMNTMPL;\n            }\n\n            if (column.draggable) {\n                return DRAGHANDLECOLUMNTMPL;\n            }\n\n            return (data) => {\n                let html = that._dirtyIndicatorTemplate(field)(data);\n\n                if (type === FUNCTION) {\n                    state.storage[\"tmpl\" + state.count] = template;\n                    html += template(data);\n                    state.count++;\n                } else if (type === STRING) {\n                    html += kendo.template(template, settings)(data);\n                } else if (columnValues && columnValues.length && isPlainObject(columnValues[0]) && \"value\" in columnValues[0] && field) {\n                    var v = convertToObject(columnValues);\n                    var f = v[settings.useWithBlock ? kendo.getter(field)(data) : field];\n                    html += encode(f != null ? f : '');\n                } else {\n                    let fieldValue = '';\n                    if (field) {\n                        field = kendo.getter(field)(data);\n                        fieldValue = field == null ? '' : field;\n                    }\n\n                    if (format) {\n                        fieldValue = kendo.format(format.replace(formatRegExp, \"$1\"), fieldValue);\n                    }\n\n                    html += column.encoded ? encode(fieldValue) : fieldValue;\n                }\n\n                return html;\n            };\n        },\n\n        _dirtyIndicatorTemplate: function(field) {\n            return (data) => {\n                if (field && data && data.dirty && data.dirtyFields) {\n                    let dirtyField = field.charAt(0) === \"[\" ? kendo.getter(field)(data.dirtyFields) : data.dirtyFields[field];\n                    return dirtyField ? '<span class=\\\"k-dirty\\\"></span>' : '';\n                }\n\n                return \"\";\n            };\n        },\n\n        _virtualCols: function(columns) {\n            var that = this;\n            var widths = $.map(columns, function(c) { return c.hidden ? 0 : parseInt(c.width, 10); });\n            var scrollLeft = that.virtualScrollable ? kendo.scrollLeft(that.content.find(\">.k-virtual-scrollable-wrap\")) : kendo.scrollLeft(that.content);\n            var tableWidth = outerWidth(that.content);\n            var sumOfWidths = sumWidths(columns);\n            var colsToRender = [];\n            var firstColspan = 0;\n            var lastColspan = 0;\n            var hiddenColumns = 0;\n            var idx = 0;\n            var widthOfHiddenColumns = 0;\n            var considerNext;\n\n            for (idx = 0; idx < columns.length; idx++) {\n                considerNext = (idx < widths.length - 1) ? widths[idx + 1] : 0;\n                if (widthOfHiddenColumns + widths[idx] + 2 * considerNext < scrollLeft) {\n                    if (widths[idx]) {\n                        hiddenColumns++;\n                    }\n                    widthOfHiddenColumns += widths[idx];\n                } else {\n                    firstColspan = 1 + hiddenColumns;\n                    break;\n                }\n            }\n\n            hiddenColumns = 0;\n            widthOfHiddenColumns = 0;\n\n            for (var i = columns.length - 1; i >= 0; i--) {\n                if (widthOfHiddenColumns + 3 * widths[i] < sumOfWidths - tableWidth - scrollLeft) {\n                    if (widths[i]) {\n                        hiddenColumns++;\n                    }\n                    widthOfHiddenColumns += widths[i];\n                } else {\n                    lastColspan = 1 + hiddenColumns;\n                    for (var j = idx; j <= i; j++) {\n                        if (columns[j].locked) {\n                            continue;\n                        }\n                        colsToRender.push(columns[j]);\n                        if (columns[j].colSpan) {\n                            delete columns[j].colSpan;\n                        }\n                    }\n                    colsToRender[0].colSpan = firstColspan;\n                    colsToRender[colsToRender.length - 1].colSpan = lastColspan;\n                    break;\n                }\n            }\n\n            if (colsToRender[0].hidden) {\n                colsToRender[0].colSpan--;\n            }\n\n            that.virtualCols = colsToRender;\n\n            return colsToRender;\n        },\n\n        _templates: function() {\n            var that = this,\n                options = that.options,\n                dataSource = that.dataSource,\n                groups = dataSource.group(),\n                footer = that.footer || that.wrapper.find(\".k-grid-footer\"),\n                aggregates = dataSource.aggregate(),\n                stacked = that._isStackedMode(),\n                columnLeafs = leafColumns(that.columns),\n                columnsLocked = leafColumns(lockedColumns(that.columns)),\n                leafsCols = options.scrollable ? leafColumns(nonLockedColumns(that.columns)) : columnLeafs,\n                columns = (that.virtualScroll || {}).columns ? that._virtualCols(leafsCols) : leafsCols,\n                groupHeaderColumnTemplateLockedColumns = grep(visibleColumns(columnsLocked), function(column, index) { return column.groupHeaderColumnTemplate && index !== 0; }),\n                groupHeaderColumnTemplateNonLockedColumns = grep(visibleColumns(columns), function(column) { return column.groupHeaderColumnTemplate; });\n\n            if (options.scrollable && columnsLocked.length && !stacked) {\n                if (options.rowTemplate || options.altRowTemplate) {\n                    throw new Error(\"Having both row template and locked columns is not supported\");\n                }\n\n                that.rowTemplate = that._tmpl(options.rowTemplate, columns, false, true);\n                that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true, true);\n\n                that.lockedRowTemplate = that._tmpl(options.rowTemplate, columnsLocked);\n                that.lockedAltRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columnsLocked, true);\n            } else {\n                that.rowTemplate = that._tmpl(options.rowTemplate, stacked ? that.columns : columns);\n                that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, stacked ? that.columns : columns, true);\n            }\n\n            if (that._hasDetails()) {\n                that.detailTemplate = that._detailTmpl(options.detailTemplate || (() => \"\"));\n            }\n\n            if ((that._group && !isEmptyObject(aggregates)) || (!isEmptyObject(aggregates) && !footer.length) ||\n                grep(columnLeafs, function(column) { return column.footerTemplate; }).length) {\n\n                that.footerTemplate = that._footerTmpl(columnLeafs, aggregates, \"footerTemplate\", \"k-footer-template k-table-row\");\n            }\n\n            if (groups && grep(columnLeafs, function(column) { return column.groupFooterTemplate; }).length) {\n                aggregates = $.map(groups, function(g) { return g.aggregates; });\n\n                that.groupFooterTemplate = that._footerTmpl(columns, aggregates, \"groupFooterTemplate\", \"k-group-footer k-table-row\", columnsLocked.length);\n\n                if (options.scrollable && columnsLocked.length) {\n                    that.lockedGroupFooterTemplate = that._footerTmpl(columnsLocked, aggregates, \"groupFooterTemplate\", \"k-group-footer k-table-row\");\n                }\n            }\n\n            if (groups && (groupHeaderColumnTemplateLockedColumns.length || groupHeaderColumnTemplateNonLockedColumns.length)) {\n                aggregates = $.map(groups, function(g) { return g.aggregates; });\n\n                that.groupHeaderColumnTemplate = that._groupHeaderTmpl(visibleColumns(columns), aggregates, \"groupHeaderColumnTemplate\", \"k-table-group-row k-grouping-row k-table-row\", columnsLocked.length, groupHeaderColumnTemplateNonLockedColumns);\n\n                if (options.scrollable && columnsLocked.length) {\n                    that.lockedGroupHeaderColumnTemplate = that._groupHeaderTmpl(visibleColumns(columnsLocked), aggregates, \"groupHeaderColumnTemplate\", \"k-table-group-row k-grouping-row k-table-row\", 0, groupHeaderColumnTemplateLockedColumns);\n                }\n            } else {\n                that.groupHeaderColumnTemplate = null;\n                that.lockedGroupHeaderColumnTemplate = null;\n            }\n\n            if (that.options.noRecords) {\n                that.noRecordsTemplate = that._noRecordsTmpl();\n            }\n        },\n\n        _noRecordsTmpl: function() {\n            var wrapper = '<div class=\"{0}\">{1}</div>';\n            var defaultTemplate = '<div class=\"k-grid-norecords-template\"{1}>{0}</div>';\n            var scrollableNoGridHeightStyles = (this.options.scrollable && !this.wrapper[0].style.height) ? ` ${kendo.attr(\"style-margin\")}=\"0 auto\" ${kendo.attr(\"style-position\")}=\"static\"` : '';\n            var state = { storage: {}, count: 0 };\n            var settings = $.extend({}, kendo.Template, this.options.templateSettings);\n            var paramName = settings.paramName;\n            var template;\n            // var html = \"\";\n            var type;\n            var tmpl;\n            let resultTemplate;\n\n            if (this.options.noRecords.template) {\n                template = this.options.noRecords.template;\n            } else {\n                template = kendo.format(defaultTemplate, this.options.messages.noRecords, scrollableNoGridHeightStyles);\n            }\n\n            type = typeof template;\n            if (type === \"function\") {\n                let currentCustomTemplate = state.storage[\"tmpl\" + state.count] = template;\n                state.count++;\n                resultTemplate = (data) => kendo.format(wrapper, NORECORDSCLASS, currentCustomTemplate(data));\n\n            } else if (type === \"string\") {\n                resultTemplate = this.options.noRecords.template ?\n                    kendo.format(wrapper, NORECORDSCLASS, template)\n                    : () => kendo.format(wrapper, NORECORDSCLASS, template);\n            }\n\n            tmpl = kendo.template(resultTemplate, settings);\n\n            if (state.count > 0) {\n                tmpl = tmpl.bind(state.storage);\n            }\n\n            return tmpl;\n        },\n\n        _footerTmpl: function(columns, aggregates, templateName, rowClass, skipGroupCells) {\n            var that = this,\n                settings = extend({}, kendo.Template, that.options.templateSettings),\n                paramName = settings.paramName,\n                idx,\n                length,\n                template,\n                type,\n                storage = {},\n                count = 0,\n                scope = {},\n                groups = that._groups(),\n                fieldsMap = that.dataSource._emptyAggregates(aggregates),\n                column;\n\n            const stacked = that._isStackedMode();\n\n            let footerTemplateFunction = (data) => {\n                let html = '<tr class=\"' + rowClass + '\">';\n\n                if (groups > 0 && !skipGroupCells) {\n                    html += groupCells(groups);\n                }\n\n                if (that._hasDetails() && !stacked) {\n                    html += '<td class=\"k-hierarchy-cell k-table-td\">&nbsp;</td>';\n                }\n\n                const columnsToCheck = columns;\n\n                if (stacked) {\n                    html += decorateCellWithClass(\"<td>\");\n                    html += `<div class=\"${STACKED_TEMPLATE_WRAPPER_CLASS}\">`;\n\n                    for (idx = 0, length = columnsToCheck.length; idx < length; idx++) {\n                        column = columnsToCheck[idx];\n                        template = column[templateName];\n                        type = typeof template;\n\n                        if (template) {\n\n                            if (type !== FUNCTION) {\n                                scope = fieldsMap[column.field] ? extend({}, settings, { paramName: paramName + \"['\" + column.field + \"']\" }) : {};\n                                template = kendo.template(template, scope);\n                            }\n\n                            storage[\"tmpl\" + count] = template;\n\n                            html += template(data);\n\n                            count++;\n                        }\n                    }\n                    html += \"</div></td>\";\n                } else {\n                    for (idx = 0, length = columnsToCheck.length; idx < length; idx++) {\n                        column = columnsToCheck[idx];\n                        template = column[templateName];\n                        type = typeof template;\n\n                        html += decorateCellWithClass(\"<td\" + stringifyAttributes(column.footerAttributes) + \">\");\n\n                        if (template) {\n                            if (type !== FUNCTION) {\n                                scope = fieldsMap[column.field] ? extend({}, settings, { paramName: paramName + \"['\" + column.field + \"']\" }) : {};\n                                template = kendo.template(template, scope);\n                            }\n\n                            storage[\"tmpl\" + count] = template;\n\n                            html += template(data);\n                            count++;\n                        } else {\n                            html += \"&nbsp;\";\n                        }\n\n                        html += \"</td>\";\n                    }\n                }\n\n\n                html += '</tr>';\n                return html;\n            };\n\n            let resultTemplate = kendo.template(footerTemplateFunction, settings);\n\n            if (count > 0) {\n                return resultTemplate.bind(storage);\n            }\n\n            return resultTemplate;\n        },\n\n        _groupHeaderTmpl: function(columns, aggregates, templateName, rowClass, skipGroupCells, groupHeaderColumnTemplateColumns) {\n            var that = this,\n                settings = extend({}, kendo.Template, that.options.templateSettings),\n                paramName = settings.paramName,\n                html = \"\",\n                idx,\n                length,\n                template,\n                type,\n                storage = {},\n                count = 0,\n                scope = {},\n                fieldsMap = that.dataSource._emptyAggregates(aggregates),\n                column,\n                headerTemplateIndex = groupHeaderColumnTemplateColumns.length ? inArray(groupHeaderColumnTemplateColumns[0], columns) : -1,\n                groupHeaderColumnTemplateClass;\n\n            if (headerTemplateIndex < 0) {\n                return;\n            }\n\n            const stacked = that._isStackedMode();\n            var groupHeaderTemplFunc = (data) => {\n                let aggregatesHTML = \"\";\n                var resultHtml = '<tr data-group-uid=\"' + data.uid + '\" class=\"' + rowClass + '\">';\n\n                if (!skipGroupCells) {\n                    for (var i = 0; i < data.groupCells; i++) {\n                        resultHtml += '<td class=\"k-table-td k-group-cell\">&nbsp;</td>';\n                    }\n                }\n\n                const columnsToCheck = columns;\n\n                if (stacked) {\n                    aggregatesHTML += `<div class=\"${STACKED_TEMPLATE_WRAPPER_CLASS}\">`;\n\n                    for (idx = headerTemplateIndex, length = columnsToCheck.length; idx < length; idx++) {\n                        column = columnsToCheck[idx];\n                        template = column[templateName];\n                        type = typeof template;\n\n                        if (template) {\n                            if (type !== FUNCTION) {\n                                scope = fieldsMap[column.field] ? extend({}, settings, { paramName: paramName + \"['\" + column.field + \"']\" }) : {};\n                                template = kendo.template(template, scope);\n                            }\n\n                            storage[\"tmpl\" + count] = template;\n\n                            aggregatesHTML += storage[\"tmpl\" + count](data);\n                            count++;\n\n                        }\n                    }\n                    aggregatesHTML += \"</div>\";\n                }\n\n                if (that._hasDetails() && !stacked) {\n                    resultHtml += '<td class=\"k-table-td k-hierarchy-cell\">&nbsp;</td>';\n                }\n                if (headerTemplateIndex < MINCOLSPANVALUE && groupHeaderColumnTemplateColumns.length <= 1 && !skipGroupCells) {\n                    resultHtml += !skipGroupCells ? groupCellBuilder(columnsToCheck.length, stacked, aggregatesHTML)(data) : '';\n                    return resultHtml;\n                    // return kendo.template(resultHtml, settings);\n                }\n\n                if (headerTemplateIndex < MINCOLSPANVALUE) {\n                    headerTemplateIndex = !skipGroupCells ? 1 : 0;\n                    resultHtml += !skipGroupCells ? groupCellBuilder(headerTemplateIndex, stacked, aggregatesHTML)(data) : '';\n                }\n                else {\n                    resultHtml += !skipGroupCells ? groupCellBuilder(headerTemplateIndex, stacked, aggregatesHTML)(data) : groupCellLockedContentBuilder(headerTemplateIndex);\n                }\n\n                if (!stacked) {\n                    for (idx = headerTemplateIndex, length = columnsToCheck.length; idx < length; idx++) {\n                        column = columnsToCheck[idx];\n                        template = column[templateName];\n                        type = typeof template;\n\n                        if (column.sticky) {\n                            let stickyAttributes = '';\n                            groupHeaderColumnTemplateClass = (column.groupHeaderColumnTemplateClass || '');\n\n                            if (!groupHeaderColumnTemplateClass) {\n                                groupHeaderColumnTemplateClass = column.groupHeaderColumnTemplateClass = \"group-header-column-template-\" + kendo.guid();\n                            }\n\n                            if (isPlainObject(column.stickyStyle)) {\n                                let stickyLeft = column.stickyStyle.left ? `${kendo.attr(\"style-left\")}=\"${column.stickyStyle.left}\"` : '';\n                                let stickyRight = column.stickyStyle.right ? `${kendo.attr(\"style-right\")}=\"${column.stickyStyle.right}\"` : '';\n                                stickyAttributes = `${stickyLeft} ${stickyRight}`;\n                            }\n\n                            resultHtml += `<td class=\"k-table-td ${STICKY_CELL_CLASS} ${groupHeaderColumnTemplateClass}\" ${stickyAttributes}>`;\n                        } else {\n                            resultHtml += \"<td class='k-table-td'>\";\n                        }\n\n                        if (template) {\n                            if (type !== FUNCTION) {\n                                scope = fieldsMap[column.field] ? extend({}, settings, { paramName: paramName + \"['\" + column.field + \"']\" }) : {};\n                                template = kendo.template(template, scope);\n                            }\n\n                            storage[\"tmpl\" + count] = template;\n                            resultHtml += storage[\"tmpl\" + count](data);\n                            count++;\n                        } else {\n                            resultHtml += \"&nbsp;\";\n                        }\n\n                        resultHtml += \"</td>\";\n                    }\n                }\n\n                resultHtml += '</tr>';\n\n                return resultHtml;\n            };\n\n            html = kendo.template(groupHeaderTemplFunc, settings);\n\n            if (count > 0) {\n                return html.bind(storage);\n            }\n\n            return html;\n        },\n\n        _detailTmpl: function(template) {\n            var that = this,\n                settings = extend({}, kendo.Template, that.options.templateSettings),\n                paramName = settings.paramName,\n                templateFunctionStorage = {},\n                templateFunctionCount = 0,\n                groups = that._groups(),\n                stacked = that._isStackedMode(),\n                colspan = stacked ? that.table.find(\"col\").length : visibleColumns(leafColumns(that.columns)).length,\n                type = typeof template;\n\n            let detailTemplateFunction = (data) => {\n                let html = '<tr role=\"row\" class=\"k-detail-row k-table-row\">';\n                if (groups > 0) {\n                    html += groupCells(groups);\n                }\n\n                if (!stacked) {\n                    html += `<td role=\"gridcell\" class=\"k-hierarchy-cell k-table-td\"></td>`;\n                }\n\n                html += `<td role=\"gridcell\" class=\"k-detail-cell k-table-td\" ${colspan ? ` colspan=\"${colspan}\"` : ''}>`;\n                if (type === FUNCTION) {\n                    templateFunctionStorage[\"tmpl\" + templateFunctionCount] = template;\n                    html += template(data);\n                    templateFunctionCount++;\n                } else {\n                    html += kendo.template(template, settings)(data);\n                }\n\n                html += \"</td></tr>\";\n                return html;\n            };\n\n            let resultTemplate = kendo.template(detailTemplateFunction, settings);\n\n            if (templateFunctionCount > 0) {\n                return resultTemplate.bind(templateFunctionStorage);\n            }\n\n            return resultTemplate;\n        },\n\n        _hasDetails: function() {\n            var that = this;\n\n            return that.options.detailTemplate !== null || (that._events[DETAILINIT] || []).length;\n        },\n        _hasFilterRow: function() {\n            var filterable = this.options.filterable;\n            var hasFiltering = filterable &&\n                typeof filterable.mode == STRING &&\n                filterable.mode.indexOf(ROW) != -1;\n            var columns = this.columns;\n            var columnsWithoutFiltering = $.grep(columns, function(col) {\n                return col.filterable === false;\n            });\n\n            if (this._isStackedMode() || (columns.length && columnsWithoutFiltering.length == columns.length)) {\n                hasFiltering = false;\n            }\n\n            return hasFiltering;\n        },\n\n        _details: function() {\n            var that = this;\n\n            if (that.options.scrollable && that._hasDetails() && lockedColumns(that.columns).length) {\n                throw new Error(\"Having both detail template and locked columns is not supported\");\n            }\n\n            const stacked = that._isStackedMode();\n\n            const selector = stacked ?\n                `[ref=\"expand-detail-button\"], [ref=\"collapse-detail-button\"]` : \".k-hierarchy-cell \" + CARET_ALT_RIGHT + \", .k-hierarchy-cell \" + CARET_ALT_DOWN;\n\n            that.table.on(CLICK + NS, selector, function(e) {\n                var button = $(this);\n\n                if (stacked) {\n                    that._toggleStackedDetails(button);\n                } else {\n                    that._toggleDetails(button);\n                }\n                e.preventDefault();\n                return false;\n            });\n        },\n\n        _setCurrentStackedCell: function(cell) {\n            const that = this;\n            const currentIndex = cell ? $(cell).closest(TR).index() : that._currentRowIndex;\n            const currentStackedCell = that._currentStackedCell();\n\n            if (!currentStackedCell || !that.options.navigatable) {\n                return;\n            }\n\n            if (currentIndex >= 0) {\n                let target;\n                let stackedCellIndex = currentStackedCell && currentStackedCell.index;\n                const stackedCells = that.table.find(`${TR}:eq(${currentIndex}) .k-grid-stack-cell`);\n                target = stackedCells.eq(stackedCellIndex);\n\n                if (target.length) {\n                    if (target.attr(\"tabindex\") === \"-1\" || !target.attr(\"tabindex\")) {\n                        addElementsToTab(target.parent().children());\n                    }\n                    that._currentStackedCell(target, true);\n                }\n            }\n        },\n\n        _toggleStackedDetails: function(button, omitAnimation) {\n            const that = this;\n            const cell = button.closest(\".k-grid-stack-cell\");\n            const content = cell.find(\".k-grid-stack-content\");\n            const expanding = button.is(`[ref=\"expand-detail-button\"]`);\n            const masterRow = button.closest(\"tr.k-master-row\");\n            const ariaLabelText = expanding ? COLLAPSE : EXPAND;\n\n            button.remove();\n            let buttonInstance;\n            if (!expanding) {\n                buttonInstance = kendo.html.renderButton(`<button tabindex='-1' ref=\"expand-detail-button\" aria-label=${ariaLabelText}>${kendo.htmlEncode(that.options.messages.details.expand)}</button>`, { icon: \"plus\", fillMode: \"flat\", themeColor: \"primary\" });\n            } else {\n                buttonInstance = kendo.html.renderButton(`<button tabindex='-1' ref=\"collapse-detail-button\" aria-label=${ariaLabelText}>${kendo.htmlEncode(that.options.messages.details.collapse)}</button>`, { icon: `minus`, fillMode: \"flat\", themeColor: \"primary\" });\n            }\n\n            content.append(buttonInstance);\n\n            that._addDetailRow(masterRow, expanding, omitAnimation);\n            that._setCurrentStackedCell(cell);\n        },\n\n        _addDetailRow: function(masterRow, expanding, omitAnimation) {\n            const that = this;\n            const detailTemplate = that.detailTemplate;\n            const masterRowIndex = masterRow.attr(ARIA_ROWINDEX);\n            const hasDetails = that._hasDetails();\n            let detailRow = masterRow.next();\n            let data;\n\n            if (detailRow.hasClass(\"k-hidden\")) {\n                detailRow.removeClass(\"k-hidden\");\n            }\n\n            if (hasDetails && !detailRow.hasClass(\"k-detail-row\")) {\n                data = that.dataItem(masterRow);\n\n                detailRow = $(detailTemplate(data))\n                    .addClass(masterRow.hasClass(\"k-table-alt-row\") ? \"k-table-alt-row\" : \"\")\n                    .insertAfter(masterRow);\n\n                if (masterRowIndex || masterRowIndex === 0) {\n                    detailRow.attr(ARIA_ROWINDEX, Number(masterRowIndex) + 1);\n                }\n\n                that.trigger(DETAILINIT, { masterRow: masterRow, detailRow: detailRow, data: data, detailCell: detailRow.find(\".k-detail-cell\") });\n            }\n\n            that.trigger(expanding ? DETAILEXPAND : DETAILCOLLAPSE, { masterRow: masterRow, detailRow: detailRow });\n\n            if (omitAnimation) {\n                toggleRow(detailRow, expanding);\n            } else {\n                detailRow.toggle(expanding);\n            }\n        },\n\n        _toggleDetails: function(button, omitAnimation) {\n            var that = this,\n                cell = button.closest(\"td.k-hierarchy-cell\"),\n                expanding = button.is(CARET_ALT_RIGHT),\n                masterRow = button.closest(\"tr.k-master-row\"),\n                ariaLabelText = expanding ? COLLAPSE : EXPAND,\n                ariaExpandText = expanding ? \"true\" : \"false\";\n\n            if (!expanding) {\n                kendo.ui.icon(button, { icon: `caret-alt-${isRtl ? 'left' : 'right'}` });\n            } else {\n                kendo.ui.icon(button, { icon: \"caret-alt-down\" });\n            }\n\n            button.attr(ARIA_LABEL, ariaLabelText);\n\n            cell.attr(ARIA_EXPANDED, ariaExpandText);\n\n            that._addDetailRow(masterRow, expanding, omitAnimation);\n        },\n\n        dataItem: function(tr) {\n            tr = $(tr)[0];\n            if (!tr) {\n                return null;\n            }\n\n            var rows = this.tbody.children(),\n                classesRegEx = /k-grouping-row|k-detail-row|k-group-footer/,\n                idx = tr.sectionRowIndex,\n                j, correctIdx;\n\n            correctIdx = idx;\n\n            for (j = 0; j < idx; j++) {\n                if (classesRegEx.test(rows[j].className)) {\n                    correctIdx--;\n                }\n            }\n\n            return this._data[correctIdx];\n        },\n\n        expandRow: function(tr, omitAnimation) {\n            var button = $(tr).find('> td ' + CARET_ALT_RIGHT);\n\n            if (button.length) {\n                this._toggleDetails(button, omitAnimation);\n            }\n        },\n\n        collapseRow: function(tr, omitAnimation) {\n            var button = $(tr).find('> td ' + CARET_ALT_DOWN);\n\n            if (button.length) {\n                this._toggleDetails(button, omitAnimation);\n            }\n        },\n\n        _createHeaderCells: function(columns, rowSpan) {\n            var that = this,\n                idx,\n                th,\n                text,\n                html = \"\",\n                length,\n                title,\n                columnMenu = that.options.columnMenu,\n                sortable = that.options.sortable,\n                filterable = that._hasFilterMenu(),\n                messages = that.options.messages,\n                leafs = leafColumns(that.columns),\n                groups = that.dataSource.group(),\n                field;\n\n            for (idx = 0, length = columns.length; idx < length; idx++) {\n                th = columns[idx].column || columns[idx];\n                text = that._headerCellText(th);\n                title = th.title;\n                field = \"\";\n\n                let index = inArray(th, leafs);\n                let currentTh = \"\";\n\n                if (th.selectable) {\n                    currentTh += \"<th scope='col'\" + stringifyAttributes(th.headerAttributes);\n\n                    if (rowSpan && !columns[idx].colSpan) {\n                        currentTh += \" rowspan='\" + rowSpan + \"'\";\n                    }\n\n                    if (index > -1) {\n                        currentTh += kendo.attr(\"index\") + \"='\" + index + \"'\";\n                    }\n                    text = th.headerTemplate ? text : kendo.template(SELECTCOLUMNHEADERTMPL)({ size: kendo.getValidCssClass(\"k-checkbox-\", \"size\", that.options.size) });\n                    currentTh += \">\" + text + \"</th>\";\n                } else if (th.draggable) {\n                    currentTh += \"<th class='k-header' ref-grid-drag-cell scope='col'\" + stringifyAttributes(th.headerAttributes);\n\n                    if (rowSpan && !columns[idx].colSpan) {\n                        currentTh += \" rowspan='\" + rowSpan + \"'\";\n                    }\n\n                    if (index > -1) {\n                        currentTh += kendo.attr(\"index\") + \"='\" + index + \"'\";\n                    }\n                    text = th.headerTemplate ? text : \"\";\n                    currentTh += \">\" + text + \"</th>\";\n                } else if (th.command) {\n                    currentTh += \"<th scope='col'\" + stringifyAttributes(th.headerAttributes);\n\n                    if (rowSpan && !columns[idx].colSpan) {\n                        currentTh += \" rowspan='\" + rowSpan + \"'\";\n                    }\n\n                    if (index > -1) {\n                        currentTh += kendo.attr(\"index\") + \"='\" + index + \"'\";\n                    }\n\n                    currentTh += \">\" + ((!text || text === \"&nbsp;\") ? text : kendo.template(DEFAULTHEADERTEMPLATE)({ text: text })) + \"</th>\";\n                } else {\n                    if (th.field) {\n                        field = kendo.attr(\"field\") + \"='\" + th.field + \"' \";\n                    }\n\n                    currentTh += \"<th scope='col' \" + field;\n                    if ((columnMenu && th.field && th.menu !== false)) {\n                        currentTh += \" aria-haspopup='menu'\";\n                    } else if (filterable && th.filterable !== false && !th.command) {\n                        currentTh += \" aria-haspopup='dialog'\";\n                    }\n\n                    if (rowSpan && !columns[idx].colSpan) {\n                        currentTh += \" rowspan='\" + rowSpan + \"'\";\n                    }\n\n                    if (columns[idx].colSpan > 1) {\n                        currentTh += 'colspan=\"' + (columns[idx].colSpan - hiddenLeafColumnsCount(th.columns)) + '\" ';\n                        currentTh += kendo.attr(\"colspan\") + \"='\" + columns[idx].colSpan + \"'\";\n                    } else if (columns[idx].colSpan === 1) {\n                        currentTh += kendo.attr(\"colspan\") + \"='\" + columns[idx].colSpan + \"'\";\n                    }\n\n                    if (title) {\n                        title = title && (that.options.encodeTitles ? htmlEncode(title, true) : title);\n                        currentTh += kendo.attr(\"title\") + '=\"' + title + '\" ';\n                    }\n\n                    if (th.groupable !== undefined) {\n                        currentTh += kendo.attr(\"groupable\") + \"='\" + th.groupable + \"' \";\n                    }\n\n                    if (isColumnGroupable(that, th) && (!th.headerAttributes || !th.headerAttributes.title)) {\n                        currentTh += \"title='\";\n                        currentTh += isGroupedBy(groups, th.field) ? messages.ungroupHeader : messages.groupHeader;\n                        currentTh += \"' \";\n                    }\n\n                    if (th.aggregates && th.aggregates.length) {\n                        currentTh += kendo.attr(\"aggregates\") + \"='\" + th.aggregates + \"'\";\n                    }\n\n                    if (index > -1) {\n                        currentTh += kendo.attr(\"index\") + \"='\" + index + \"'\";\n                    }\n\n                    currentTh += stringifyAttributes(th.headerAttributes);\n\n                    text = kendo.template(DEFAULTHEADERTEMPLATE)({ text: text });\n\n                    currentTh += \">\" + text + \"</th>\";\n                }\n                if (that.options.resizable) {\n                    html += $(currentTh).attr(\"data-resizable\", (th.resizable !== false).toString()).addClass(\"k-table-th\")[0].outerHTML;\n                } else {\n                    html += $(currentTh).addClass(\"k-table-th\")[0].outerHTML;\n                }\n            }\n            return html;\n        },\n\n        _appendLockedColumnContent: function() {\n            var columns = this.columns,\n                idx,\n                colgroup = this.table.find(\"colgroup\"),\n                cols = colgroup.find(COLGROUP),\n                length,\n                lockedCols = $(),\n                skipHiddenCount = 0,\n                container,\n                colSpan,\n                spanIdx,\n                colOffset = 0;\n\n            for (idx = 0, length = columns.length; idx < length; idx++) {\n                if (columns[idx].locked) {\n\n                    if (isVisible(columns[idx])) {\n                        colSpan = 1;\n\n                        if (columns[idx].columns) {\n                            colSpan = leafColumns(columns[idx].columns).length - hiddenLeafColumnsCount(columns[idx].columns);\n                        }\n\n                        colSpan = colSpan || 1;\n                        for (spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                            lockedCols = lockedCols.add(cols.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                        }\n                        colOffset += colSpan - 1;\n                    } else {\n                        skipHiddenCount++;\n                    }\n                }\n            }\n\n            container = $('<div class=\"k-grid-content-locked\"><table class=\"k-grid-table k-table\"><colgroup></colgroup><tbody class=\"k-table-tbody\"></tbody></table></div>');\n            // detach is required for IE8, otherwise it switches to compatibility mode\n            colgroup.detach();\n            container.find(\"colgroup\").append(lockedCols);\n            colgroup.insertBefore(this.table.find(\"tbody\"));\n\n            this.lockedContent = container.insertBefore(this.content);\n            this.lockedTable = container.children(\"table\");\n            this.lockedTable.addClass(kendo.getValidCssClass(\"k-table-\", \"size\", this.options.size));\n        },\n\n        _appendLockedColumnFooter: function() {\n            var that = this;\n            var footer = that.footer;\n            var cells = footer.find(\".k-footer-template>td\");\n            var cols = footer.find(\".k-grid-footer-wrap>table>colgroup>col\");\n            var html = $('<div class=\"k-grid-footer-locked\"><table class=\"k-grid-footer-table k-table\"><colgroup></colgroup><tfoot class=\"k-table-tfoot\"><tr class=\"k-footer-template k-table-row\"></tr></tfoot></table></div>');\n            var idx, length;\n            var groups = that._groups();\n            var lockedCells = $(), lockedCols = $();\n\n            html.find(\"table\").addClass(kendo.getValidCssClass(\"k-table-\", \"size\", this.options.size));\n\n            lockedCells = lockedCells.add(cells.filter(\".k-group-cell\"));\n            for (idx = 0, length = leafColumns(lockedColumns(that.columns)).length; idx < length; idx++) {\n                lockedCells = lockedCells.add(cells.eq(idx + groups));\n            }\n\n            lockedCols = lockedCols.add(cols.filter(\".k-group-col\"));\n            for (idx = 0, length = visibleColumns(leafColumns(visibleLockedColumns(that.columns))).length; idx < length; idx++) {\n                lockedCols = lockedCols.add(cols.eq(idx + groups));\n            }\n\n            lockedCells.appendTo(html.find(TR));\n            lockedCols.appendTo(html.find(\"colgroup\"));\n            that.lockedFooter = html.prependTo(footer);\n        },\n\n        _appendLockedColumnHeader: function(container) {\n            var that = this,\n                columns = this.columns,\n                idx,\n                html,\n                length,\n                colgroup,\n                tr,\n                trFilter,\n                table,\n                header,\n                filtercellCells,\n                rows = [],\n                skipHiddenCount = 0,\n                cols = $(),\n                hasFilterRow = that._hasFilterRow(),\n                filterCellOffset = 0,\n                filterCells = $(),\n                cell,\n                leafColumnsCount = 0,\n                cells = $();\n\n            colgroup = that.thead.prev().find(COLGROUP);\n            header = that.thead.find(TR).first().find(\".k-header:not(.k-group-cell,.k-hierarchy-cell)\");\n            filtercellCells = that.thead.find(\".k-filter-row\").find(\"td:not(.k-group-cell,.k-hierarchy-cell)\");\n\n            var colOffset = 0;\n            for (idx = 0, length = columns.length; idx < length; idx++) {\n                if (columns[idx].locked) {\n                    cell = header.eq(idx);\n                    leafColumnsCount = leafColumns(columns[idx].columns || []).length;\n\n                    if (isVisible(columns[idx])) {\n                        var colSpan = null;\n\n                        if (columns[idx].columns) {\n                            colSpan = leafColumnsCount - hiddenLeafColumnsCount(columns[idx].columns);\n                        }\n\n                        colSpan = colSpan || 1;\n                        for (var spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                            cols = cols.add(colgroup.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                        }\n                        colOffset += colSpan - 1;\n                    }\n\n                    mapColumnToCellRows([columns[idx]], childColumnsCells(cell), rows, 0, 0);\n\n                    leafColumnsCount = leafColumnsCount || 1;\n                    for (var j = 0; j < leafColumnsCount; j++) {\n                        filterCells = filterCells.add(filtercellCells.eq(filterCellOffset + j));\n                    }\n                    filterCellOffset += leafColumnsCount;\n                }\n\n                if (columns[idx].columns) {\n                    skipHiddenCount += hiddenLeafColumnsCount(columns[idx].columns);\n                }\n\n                if (!isVisible(columns[idx])) {\n                    skipHiddenCount++;\n                }\n            }\n\n            if (rows.length) {\n                html = '<div class=\"k-grid-header-locked\"><table class=\"k-grid-header-table k-table\"><colgroup></colgroup><thead class=\"k-table-thead\">';\n                html += new Array(rows.length + 1).join(\"<tr class='k-table-row'></tr>\");\n                html += (hasFilterRow ? '<tr class=\"k-filter-row k-table-row\"></tr>' : '') + '</thead></table></div>';\n\n                table = $(html);\n\n                table.find('.k-grid-header-locked').css('width', '1px');\n\n                table.find(\"table\").addClass(kendo.getValidCssClass(\"k-table-\", \"size\", that.options.size));\n                colgroup = table.find(\"colgroup\");\n                colgroup.append(that.thead.prev().find(\"col.k-group-col\").add(cols));\n\n                tr = table.find(\"thead tr:not(.k-filter-row)\");\n                for (idx = 0, length = rows.length; idx < length; idx++) {\n                    cells = toJQuery(rows[idx]);\n                    tr.eq(idx).append(that.thead.find(TR).eq(idx).find(\".k-group-cell\").add(cells));\n                }\n\n                var count = removeEmptyRows(this.thead);\n                if (rows.length < count) {\n                    removeRowSpanValue(table, count - rows.length);\n                }\n\n                trFilter = table.find(\".k-filter-row\");\n                trFilter.append(that.thead.find(\".k-filter-row .k-group-cell\").add(filterCells));\n\n                this.lockedHeader = table.prependTo(container);\n                this.thead.find(\".k-group-cell\").remove();\n\n                return true;\n            }\n            return false;\n        },\n\n        _removeLockedContainers: function() {\n            var elements = this.lockedHeader\n                .add(this.lockedContent)\n                .add(this.lockedFooter);\n\n            kendo.destroy(elements);\n            elements.off(NS).remove();\n\n            this.lockedHeader = this.lockedContent = this.lockedFooter = null;\n            this.selectable = null;\n        },\n\n        _thead: function() {\n            var that = this,\n                columns = that.columns,\n                hasDetails = that._hasDetails() && columns.length,\n                hasFilterRow = that._hasFilterRow(),\n                idx,\n                html = \"\",\n                thead = that.table.find(\">thead\"),\n                hasTHead = that.element.find(\"thead\").first().length > 0,\n                headerContent = that.options.messages.expandCollapseColumnHeader,\n                tr;\n\n            const isStacked = that._isStackedMode();\n\n            if (!isStacked) {\n                if (!thead.length) {\n                    thead = $(\"<thead/>\").insertBefore(that.tbody);\n                }\n\n                thead.addClass(\"k-table-thead\");\n\n                if (that.lockedHeader && that.thead) {\n                    tr = that.thead.find(\"tr:has(th):not(.k-filter-row)\").html(\"\");\n                    tr.remove();\n                    tr = $();\n\n                    that._removeLockedContainers();\n                } else if (hasTHead) {\n                    tr = that.element.find(\"thead\").first().find(\"tr:has(th):not(.k-filter-row)\");\n                } else {\n                    tr = that.element.find(\"tr:has(th)\").first();\n                }\n\n                if (!tr.length) {\n                    tr = thead.children().first();\n                    if (!tr.length) {\n                        var rows = [{ rowSpan: 1, cells: [], index: 0 }];\n                        that._prepareColumns(rows, columns);\n\n                        for (idx = 0; idx < rows.length; idx++) {\n                            html += \"<tr class='k-table-row'>\";\n                            if (hasDetails) {\n                                html += '<th class=\"k-hierarchy-cell k-table-th\" scope=\"col\">' + headerContent + '</th>';\n                            }\n                            html += that._createHeaderCells(rows[idx].cells, rows[idx].rowSpan);\n                            html += \"</tr>\";\n                        }\n\n                        tr = $(html);\n                        kendo.applyStylesFromKendoAttributes(tr, [\"display\", \"left\", \"right\"]);\n                    }\n                } else {\n                    for (idx = 0; idx < columns.length; idx++) {\n                        let columnIndex = inArray(columns[idx], leafColumns(columns));\n                        let cell = leafDataCells(tr.parent()).filter(\"th:not(.k-group-cell):not(.k-hierarchy-cell)\").eq(columnIndex);\n                        cell.addClass(\"k-table-th\");\n\n                        const cellElement = cell[0];\n                        const cellChildNodes = cellElement?.childNodes || [];\n\n                        // Apply the default template only if the cell contains a single text node.\n                        // In all other cases the structure must remain unchanged. It is up to the developer to provide a custom template.\n                        if (cellChildNodes.length === 1 && cellChildNodes[0].nodeType === 3) {\n                            cell.html(DEFAULTHEADERTEMPLATE({ text: htmlEncode(cell.text()) }));\n                        }\n\n                        if (columns[idx].hidden && columnIndex >= 0) {\n                            cellElement.style.display = NONE;\n                        }\n                    }\n\n                    that._updateHeadersAttr(childColumns(columns));\n                }\n\n                if (hasFilterRow) {\n                    var filterRow = $(\"<tr/>\");\n                    filterRow.addClass(\"k-filter-row k-table-row\");\n                    if (hasDetails || tr.find(\".k-hierarchy-cell\").length) { // handles server side detail template\n                        filterRow.prepend('<td class=\"k-table-td k-hierarchy-cell\">&nbsp;</td>');\n                    }\n\n                    var existingFilterRow = (that.thead || thead).find(\".k-filter-row\");\n                    if (existingFilterRow.length) {\n                        kendo.destroy(existingFilterRow);\n                        existingFilterRow.remove();\n                    }\n\n                    thead.append(filterRow);\n                }\n\n                if (!tr.children().length) {\n                    html = \"\";\n                    if (hasDetails) {\n                        html += '<th class=\"k-hierarchy-cell k-table-th\" scope=\"col\">&nbsp;</th>';\n                    }\n\n                    html += that._createHeaderCells(columns);\n\n                    tr.html(html);\n                } else if (hasDetails && !tr.find(\".k-hierarchy-cell\")[0]) {\n                    tr.prepend('<th class=\"k-hierarchy-cell k-table-th\" scope=\"col\">' + (headerContent ? headerContent : '&nbsp;') + '</th>');\n                }\n\n                const th = tr.find(TH);\n\n                th.addClass(HEADER_CLASS);\n\n                if (th.length > 0) {\n                    thead.attr(ROLE, ROWGROUP);\n                }\n\n                if (!that.options.scrollable) {\n                    thead.addClass(\"k-grid-header\");\n                }\n\n                tr.find(\"script\").remove().end().prependTo(thead);\n\n                if (that.thead) {\n                    that._destroyColumnAttachments();\n                }\n\n                that.thead = thead;\n            }\n\n            that._sortable();\n\n            that._filterable();\n\n            that._filterRow();\n\n            that._scrollable();\n\n            that._columnMenu();\n\n            var syncHeight;\n            var hasLockedColumns = this.options.scrollable && lockedColumns(this.columns).length;\n\n            if (hasLockedColumns && !isStacked) {\n\n                syncHeight = that._appendLockedColumnHeader(that.thead.closest(\".k-grid-header\"));\n\n                that._appendLockedColumnContent();\n\n                that.lockedContent.on(\"DOMMouseScroll\" + NS + \" mousewheel\" + NS, that._wheelScroll.bind(that));\n\n                if (kendo.support.touch) {\n                    that._lockedContentUserEvents = new kendo.UserEvents(that.lockedContent, {\n                        move: function(e) {\n                            that.content.scrollTop(that.content.scrollTop() + (-e.y.delta));\n                            e.preventDefault();\n                        }\n                    });\n                }\n\n                that._updateLockedCols();\n            }\n\n            that._updateCols();\n            if (!isStacked) {\n\n                that._updateColumnCellIndex();\n\n                that._updateFirstColumnClass();\n            }\n\n            that._resizable();\n\n            that._draggable();\n\n            that._reorderable();\n\n            if (!isStacked) {\n                that._updateHeader(that._groups());\n\n                that._updateStickyColumns();\n            }\n\n            if (hasLockedColumns && !isStacked) {\n                if (syncHeight) {\n                    that._syncLockedHeaderHeight();\n                }\n\n                that._applyLockedContainersWidth();\n            }\n        },\n\n        _retrieveFirstColumn: function(columns, rows) {\n            var result = $();\n\n            if (rows.length && columns[0]) {\n                var column = columns[0];\n\n                while (column.columns && column.columns.length) {\n                    column = column.columns[0];\n                    rows = rows.filter(\":not(:first)\");\n                }\n\n                result = result.add(rows);\n            }\n\n            return result;\n        },\n\n        _updateFirstColumnClass: function() {\n            var that = this,\n                columns = that.columns || [],\n                hasDetails = that._hasDetails() && columns.length;\n\n            if (!hasDetails && !that._groups()) {\n                var tr = that.thead.find(\">tr:not(.k-filter-row):not(:first)\");\n                columns = nonLockedColumns(columns);\n\n                var rows = that._retrieveFirstColumn(columns, tr);\n\n                if (that._isLocked()) {\n                    tr = that.lockedHeader.find(\"thead>tr:not(.k-filter-row):not(:first)\");\n                    columns = lockedColumns(that.columns);\n\n                    rows = rows.add(that._retrieveFirstColumn(columns, tr));\n                }\n\n                rows.each(function() {\n                    var ths = $(this).find(\"th\");\n                    ths.removeClass(\"k-first\");\n                    ths.eq(0).addClass(\"k-first\");\n                });\n            }\n        },\n\n        _prepareColumns: function(rows, columns, parentCell, parentRow) {\n            var row = parentRow || rows[rows.length - 1];\n\n            var childRow = rows[row.index + 1];\n            var totalColSpan = 0;\n\n            for (var idx = 0; idx < columns.length; idx++) {\n                var cell = { column: columns[idx], colSpan: 0 };\n                row.cells.push(cell);\n\n                if (columns[idx].columns && columns[idx].columns.length) {\n                    if (!childRow) {\n                        childRow = { rowSpan: 0, cells: [], index: rows.length };\n                        rows.push(childRow);\n                    }\n                    cell.colSpan = columns[idx].columns.length;\n                    this._prepareColumns(rows, columns[idx].columns, cell, childRow);\n                    totalColSpan += cell.colSpan - 1;\n                    row.rowSpan = rows.length - row.index;\n                }\n            }\n            if (parentCell) {\n                parentCell.colSpan += totalColSpan;\n            }\n        },\n\n        _wheelScroll: function(e) {\n            if (e.ctrlKey) {\n                return;\n            }\n\n            var content = this.content;\n\n            if (this.virtualScroll && this.virtualScroll.rows) {\n                content = this.virtualScrollable.verticalScrollbar;\n            }\n\n            var scrollTop = content.scrollTop(),\n                delta = kendo.wheelDeltaY(e);\n\n            if (delta) {\n                if (content[0].scrollHeight > content[0].clientHeight &&\n                    (content[0].scrollTop < content[0].scrollHeight - content[0].clientHeight && delta < 0 ||\n                        content[0].scrollTop > 0 && delta > 0)) {\n                    e.preventDefault();\n                }\n\n                content.scrollTop(scrollTop + (-delta));\n            }\n        },\n\n        _isLocked: function() {\n            return this.lockedHeader != null;\n        },\n\n        _updateHeaderCols: function() {\n            var table = this.thead.parent().add(this.table);\n\n            if (this._isLocked()) {\n                normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n            } else {\n                normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), 0);\n            }\n        },\n\n        _updateColumnSorters: function() {\n            var that = this;\n            var cells = leafDataCells(that.thead);\n            var columns = leafColumns(that.columns);\n            var column;\n            var cell;\n            var sorterInstance;\n\n            if (!that.options.sortable) {\n                return;\n            }\n\n            for (var idx = 0, length = cells.length; idx < length; idx++) {\n                column = columns[idx];\n\n                if (column.sortable !== false && !column.command && column.field) {\n                    cell = cells.eq(idx);\n\n                    sorterInstance = cell.data(\"kendoColumnSorter\");\n\n                    if (sorterInstance) {\n                        sorterInstance.refresh();\n                    }\n                }\n            }\n        },\n\n        _updateHeadersAttr: function(columns) {\n            if (!columns.length) {\n                return;\n            }\n\n            var that = this;\n\n            for (var i = 0; i < columns.length; i++) {\n                if (columns[i].headerAttributes) {\n                    var th = that.element.find(\"[id='\" + columns[i].headerAttributes.id + \"']\");\n                    th.attr(\"headers\", columns[i].headerAttributes.headers);\n                }\n            }\n\n            that._updateHeadersAttr(childColumns(columns));\n        },\n\n        _updateCols: function(table) {\n            const that = this;\n            const defaultTable = that._isStackedMode() ? that.table : that.thead.parent().add(that.table);\n            table = table || defaultTable;\n\n            this._appendCols(table, this._isLocked());\n        },\n\n        _updateLockedCols: function(table) {\n            if (this._isLocked()) {\n                table = table || this.lockedHeader.find(\"table\").add(this.lockedTable);\n\n                normalizeCols(table, visibleLeafColumns(visibleLockedColumns(this.columns)), this._hasDetails(), this._groups());\n            }\n        },\n\n        _appendCols: function(table, locked) {\n            if (locked) {\n                normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n            } else {\n                normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), this._groups(), this._isStackedMode());\n            }\n        },\n\n        _autoColumns: function(schema) {\n            if (schema && schema.toJSON) {\n                var that = this,\n                    field,\n                    encoded;\n\n                schema = schema.toJSON();\n\n                encoded = !(that.table.find(\"tbody tr\").length > 0 && (!that.dataSource || !that.dataSource.transport));\n\n                for (field in schema) {\n                    that.columns.push({ field: field, encoded: encoded, headerAttributes: { id: kendo.guid() } });\n                }\n\n                that._thead();\n\n                that._templates();\n            }\n        },\n\n        _setRowCachedHeight: function(row, uid) {\n            var cachedHeights = this._cachedRowsHeight,\n                cachedHeight = cachedHeights[uid],\n                $row;\n\n            if (cachedHeight) {\n                $row = $(row);\n                $row[0].style.height = cachedHeight + \"px\";\n                row = $row.prop(\"outerHTML\");\n            }\n\n            return row;\n        },\n\n        _rowsHtml: function(data, templates) {\n            var that = this,\n                html = \"\",\n                idx,\n                rowTemplate = templates.rowTemplate,\n                altRowTemplate = templates.altRowTemplate,\n                cachedHeights = that._cachedRowsHeight,\n                length, row;\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if (that._skipRerenderItemsCount > 0) {\n                    that._skipRerenderItemsCount--;\n                } else {\n                    if (idx % 2) {\n                        row = altRowTemplate(data[idx]);\n                    } else {\n                        row = rowTemplate(data[idx]);\n                    }\n\n                    if (cachedHeights) {\n                        row = that._setRowCachedHeight(row, data[idx].uid);\n                    }\n\n                    html += row;\n                }\n                that._data.push(data[idx]);\n            }\n\n            return html;\n        },\n\n        _groupData: function(group, skipFooter, firstColumn) {\n            var that = this,\n                footerDefaults = that._groupAggregatesDefaultObject || {},\n                groupItems = group.items,\n                aggregates = extend({}, footerDefaults, group.aggregates),\n                headerData = extend({}, {\n                    field: group.field,\n                    value: group.value,\n                    items: groupItems,\n                    aggregates: aggregates\n                }, group.aggregates[firstColumn ? firstColumn.field : group.field]),\n                footerData = {};\n\n            if (!skipFooter) {\n                for (var aggregate in aggregates) {\n                    footerData[aggregate] = extend({}, aggregates[aggregate],\n                        { group: { field: group.field, value: group.value, items: groupItems } }\n                    );\n                }\n            }\n            return extend({}, footerData, headerData);\n        },\n\n        _removeGroupIfEmpty: function(row) {\n            var that = this,\n                itemsCount,\n                subgroupsCount,\n                length = that.dataSource._group.length;\n\n            for (var i = 0; i < length; i++) {\n                row = row.prev();\n                itemsCount = +row.attr('data-group-item-count');\n                subgroupsCount = +row.attr('data-sub-group-count');\n\n                if (itemsCount == 1 || subgroupsCount == 1) {\n                    row.hide();\n                }\n\n            }\n        },\n\n        _groupRowHtml: function(group, colspan, level, groupHeaderBuilder, templates, skipColspan, skipLastGroup, isLockedTable) {\n            var that = this,\n                html = \"\",\n                idx,\n                length,\n                isLocked = that.lockedContent != null,\n                field = group.field,\n                column = grep(leafColumns(that.columns), function(column) { return column.field == field; })[0] || {},\n                firstColumn = visibleColumns(that.columns)[0],\n                firstVisibleColumnGroupHeaderTemplate = firstColumn ? firstColumn.groupHeaderColumnTemplate : null,\n                template = column.groupHeaderTemplate ? column.groupHeaderTemplate : firstVisibleColumnGroupHeaderTemplate,\n                text = (column.title && (that.options.encodeTitles ? htmlEncode(column.title, true) : column.title) || htmlEncode(field, true)) + ': ' + formatGroupValue(group.value, column.format, column.values, column.encoded),\n                groupItems = group.currentItems || group.items,\n                groups = that._groups(),\n                groupFooterTemplate = templates.groupFooterTemplate,\n                groupHeaderColumnTemplate = templates.groupHeaderColumnTemplate,\n                groupData,\n                isGroupPaged = that.dataSource._isGroupPaged(),\n                expanded = isGroupPaged ? that.dataSource._groupsState[group.uid] : true;\n\n            if (that.options.editable && group.items && group.items[0] && group.items[0].isNew && group.items[0].isNew()) {\n                expanded = true;\n            }\n\n            if (templates.groupFooterTemplate || templates.groupHeaderColumnTemplate || column.groupHeaderTemplate || that._isStackedMode()) {\n                groupData = that._groupData(group, false, !column.groupHeaderTemplate && visibleColumns(that.columns)[0].groupHeaderColumnTemplate ? visibleColumns(that.columns)[0] : false);\n            }\n            if (template && !skipColspan) {\n                text = typeof template === FUNCTION ? template(groupData) : kendo.template(template)(groupData);\n            }\n\n            if (!that._skipRerenderItemsCount) {\n                if (!group.excludeHeader) {\n                    html += groupHtmlBuilder({ groupHeaderColumnTemplate, groupHeaderBuilder, colspan, templateColspan: groups - level, groupData, level, text, expanded, group, isGroupPaged, stacked: that._isStackedMode() });\n                } else if (isLocked) {\n                    group.excludeHeader = isLockedTable ? false : true;\n                } else {\n                    group.excludeHeader = false;\n                }\n            } else {\n                groupHeaderBuilder(colspan, level, text, expanded, group.uid, isGroupPaged, that._isStackedMode());\n            }\n\n            if (expanded) {\n                if (group.hasSubgroups) {\n                    for (idx = 0, length = groupItems.length; idx < length; idx++) {\n                        html += that._groupRowHtml(groupItems[idx], skipColspan ? colspan : colspan - 1, level + 1, groupHeaderBuilder, templates, skipColspan, skipLastGroup && idx === groupItems.length - 1, isLockedTable);\n                    }\n                } else {\n                    html += that._rowsHtml(groupItems, templates);\n                }\n            }\n\n            if (groupFooterTemplate) {\n\n                if (skipLastGroup) {\n                    if (!inArray(group.value, that._skippedGroups)) {\n                        that._skippedGroups.push(group.value);\n                    }\n                } else {\n                    if (that._skippedGroups.length && that._skippedGroups[0] === group.value) {\n                        that._skippedGroups.shift();\n                    }\n                    if (!that._skipRerenderItemsCount) {\n                        html += groupFooterTemplate(groupData);\n                    }\n                }\n            }\n            return html;\n        },\n\n        collapseGroup: function(group) {\n            var level,\n                that = this,\n                groupToCollapse = group,\n                groupable = this.options.groupable,\n                showFooter = groupable.showFooter,\n                footerCount = showFooter ? 0 : 1,\n                offset,\n                relatedGroup = $(),\n                idx,\n                length,\n                tr;\n\n            group = $(group);\n            level = group.find(\".k-group-cell\").length;\n\n            if (this.dataSource._isGroupPaged()) {\n                var groupUid = group.attr(\"data-group-uid\");\n                var groupObject = that.dataSource._getGroupByUid(groupUid);\n                var currentGroupCount = that.dataSource._calculateGroupsTotal([groupObject], true);\n                var groupCountAfterCollapse;\n\n                that.dataSource._groupsState[groupUid] = false;\n                groupCountAfterCollapse = that.dataSource._calculateGroupsTotal([groupObject], true);\n                that.dataSource._serverGroupsTotal -= currentGroupCount - groupCountAfterCollapse;\n                that._progress(true);\n                that.dataSource.range(that.dataSource._currentRangeStart, that.dataSource.take(), function() {\n                    that._progress(false);\n                }, \"collapseGroup\");\n                return;\n            }\n\n            if (this._isLocked()) {\n                if (!group.closest(DIV).hasClass(\"k-grid-content-locked\")) {\n                    relatedGroup = group.nextAll(TR);\n                    group = this.lockedTable.find(\">tbody>tr\").eq(group.index());\n                } else {\n                    relatedGroup = this.tbody.children(TR).eq(group.index()).nextAll(TR);\n                }\n            }\n\n            if (group.find(CARET_ALT_DOWN).length) {\n                kendo.ui.icon(group.find(CARET_ALT_DOWN), { icon: `caret-alt-${isRtl ? 'left' : 'right'}` });\n            }\n\n            group.find(\"td[aria-expanded='true']\").first().attr(ARIA_EXPANDED, false)\n                .find(\"a\").attr(ARIA_LABEL, EXPAND);\n\n            group = group.nextAll(TR);\n\n            var toHide = [];\n\n            for (idx = 0, length = group.length; idx < length; idx++) {\n                tr = group.eq(idx);\n                offset = tr.find(\".k-group-cell\").length;\n\n                if (tr.hasClass(GROUPING_ROW)) {\n                    footerCount++;\n                } else if (tr.hasClass(\"k-group-footer\")) {\n                    footerCount--;\n                }\n\n                if (offset <= level || (tr.hasClass(\"k-group-footer\") && footerCount < 0)) {\n                    break;\n                }\n\n                if (relatedGroup.length) {\n                    toHide.push(relatedGroup[idx]);\n                }\n                toHide.push(tr[0]);\n            }\n\n            $(toHide).hide();\n\n            if (this.options.scrollable.endless && this.content) {\n                clearTimeout(that._collapseGroupsTimeOut);\n                that._collapseGroupsTimeOut = setTimeout(function() {\n                    that.content.scroll();\n                    that._groupToCollapse = groupToCollapse;\n                });\n            }\n        },\n\n        expandGroup: function(group) {\n            group = $(group);\n\n            var that = this,\n                showFooter = that.options.groupable.showFooter,\n                level,\n                tr,\n                offset,\n                relatedGroup = $(),\n                idx,\n                length,\n                footersVisibility = [],\n                groupsCount = 1;\n\n            level = group.find(\".k-group-cell\").length;\n\n            if (this.dataSource._isGroupPaged()) {\n                var groupUid = group.attr(\"data-group-uid\");\n                var groupObject = that.dataSource._getGroupByUid(groupUid);\n                var groupCount = that.dataSource._calculateGroupsTotal([groupObject], true);\n                var groupCountAfterExpand;\n\n                that.dataSource._groupsState[groupUid] = true;\n                if (groupObject.items && groupObject.items.length) {\n                    groupCountAfterExpand = that.dataSource._calculateGroupsTotal([groupObject], true);\n                    that.dataSource._serverGroupsTotal += groupCountAfterExpand - groupCount;\n                }\n\n                that._progress(true);\n                that.dataSource.range(that.dataSource._currentRangeStart, that.dataSource.take(), function() {\n                    that._progress(false);\n                }, \"expandGroup\");\n                return;\n            }\n\n            if (this._isLocked()) {\n                if (!group.closest(DIV).hasClass(\"k-grid-content-locked\")) {\n                    relatedGroup = group.nextAll(TR);\n                    group = this.lockedTable.find(\">tbody>tr\").eq(group.index());\n                } else {\n                    relatedGroup = this.tbody.children(TR).eq(group.index()).nextAll(TR);\n                }\n            }\n\n            if (group.find(CARET_ALT_RIGHT).length) {\n                kendo.ui.icon(group.find(CARET_ALT_RIGHT), { icon: \"caret-alt-down\" });\n            }\n\n            group.find(\"td[aria-expanded='false']\").first().attr(ARIA_EXPANDED, true)\n                .find(\"a\").attr(ARIA_LABEL, COLLAPSE);\n            group = group.nextAll(TR);\n\n            for (idx = 0, length = group.length; idx < length; idx++) {\n                tr = group.eq(idx);\n                offset = tr.find(\".k-group-cell\").length;\n                if (offset <= level) {\n                    break;\n                }\n\n                if (offset == level + 1 && !tr.hasClass(\"k-detail-row\")) {\n                    tr.show();\n                    relatedGroup.eq(idx).show();\n\n                    if (tr.hasClass(GROUPING_ROW) && tr.find(\".k-icon,.k-svg-icon\").is(CARET_ALT_DOWN)) {\n                        that.expandGroup(tr);\n                    }\n\n                    if (tr.hasClass(\"k-master-row\") && tr.find(\".k-icon,.k-svg-icon\").is(CARET_ALT_DOWN)) {\n                        tr.next().show();\n                        relatedGroup.eq(idx + 1).show();\n                    }\n                }\n\n                if (tr.hasClass(GROUPING_ROW)) {\n                    if (showFooter) {\n                        footersVisibility.push(tr.is(\":visible\"));\n                    }\n                    groupsCount++;\n                }\n\n                if (tr.hasClass(\"k-group-footer\")) {\n                    if (showFooter) {\n                        var toggleVisibility = footersVisibility.pop();\n                        tr.toggle(toggleVisibility);\n                        relatedGroup.eq(idx).toggle(toggleVisibility);\n                    }\n                    if (groupsCount == 1) {\n                        tr.show();\n                        relatedGroup.eq(idx).show();\n                    } else {\n                        groupsCount--;\n                    }\n                }\n            }\n\n            if ((level === 0 && that.options.scrollable.endless && this._isLocked()) ||\n                (!that.options.scrollable.endless && this._isLocked())) {\n                that._syncLockedContentHeight();\n            }\n        },\n\n        _updateHeader: function(groups) {\n            var that = this,\n                container = that._isLocked() ? that.lockedHeader.find(\"thead\") : that.thead,\n                filterCells = container.find(\"tr.k-filter-row\").find(\"td.k-group-cell\").length,\n                length = container.find(TR).first().find(\"th.k-group-cell\").length,\n                rows = container.children(\"tr:not(:first)\").filter(function() {\n                    return !$(this).children(\":visible\").length;\n                });\n\n            if (groups > length) {\n                $(new Array(groups - length + 1).join('<th class=\"k-group-cell k-header k-table-th\" scope=\"col\">' + encode(that.options.messages.expandCollapseColumnHeader) + '</th>')).prependTo(container.children(\"tr:not(.k-filter-row)\"));\n                if (that.element.is(\":visible\")) {\n                    rows.find(\"th.k-group-cell\").hide();\n                }\n            } else if (groups < length) {\n                container.find(TR).each(function() {\n                    $(this).find(\".k-group-cell\").eq(groups).remove();\n                    $(this).find(\".k-group-cell\").slice(groups).remove();\n                });\n            }\n            if (groups > filterCells) {\n                $(new Array(groups - filterCells + 1).join('<td class=\"k-group-cell k-table-group-td k-table-td\">&nbsp;</td>')).prependTo(container.find(\".k-filter-row\"));\n            }\n        },\n\n        _firstDataItem: function(data, grouped) {\n            if (data && grouped) {\n                if (data.hasSubgroups) {\n                    data = this._firstDataItem(data.items[0], grouped);\n                } else {\n                    data = data.items[0];\n                }\n            }\n            return data;\n        },\n\n        _updateTablesWidth: function() {\n            var that = this,\n                tables;\n\n            if (!that._isLocked()) {\n                return;\n            }\n\n            tables =\n                $(\">.k-grid-footer>.k-grid-footer-wrap>table\", that.wrapper)\n                    .add(that.thead.parent())\n                    .add(that.table);\n\n            that._footerWidth = tableWidth(tables.eq(0));\n            tables.width(that._footerWidth);\n\n            tables =\n                $(\">.k-grid-footer>.k-grid-footer-locked>table\", that.wrapper)\n                    .add(that.lockedHeader.find(\">table\"))\n                    .add(that.lockedTable);\n\n            tables.width(tableWidth(tables.eq(0)));\n        },\n\n        hideColumn: function(column) {\n            var that = this,\n                cell,\n                tables,\n                idx,\n                cols,\n                colWidth,\n                position,\n                width = 0,\n                headerCellIndex,\n                length,\n                footer = that.footer || that.wrapper.find(\".k-grid-footer\"),\n                virtualScroll = that.virtualScroll || {},\n                columns = that.columns,\n                visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find(\">table>thead\")).filter(isCellVisible).length : 0,\n                columnIndex,\n                groupHeaderColumnTemplateColumns,\n                columnsToHide;\n\n            if (!Array.isArray(column)) {\n                columnsToHide = [column];\n            } else {\n                columnsToHide = column;\n            }\n\n            columnsToHide.forEach((column) => {\n                groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function(column) { return column.groupHeaderColumnTemplate; });\n\n                if (typeof column == \"number\") {\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(flatColumns(columns), function(item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(flatColumns(columns), function(item) {\n                        return item.field === column;\n                    })[0];\n                }\n\n                if (!column || !isVisible(column)) {\n                    return;\n                }\n\n                if (that._isStackedMode()) {\n                    that._stackedColumnVisibility(column, \"hide\");\n                    that.trigger(COLUMNHIDE, { column: column });\n                    return;\n                }\n\n                var setColumnVisibility = that._columnVisibilitySetter(column);\n\n                if (column.columns && column.columns.length) {\n                    position = columnVisiblePosition(column, columns);\n\n                    setColumnVisibility(column, false);\n\n                    setCellVisibility(elements($(\">table>thead\", that.lockedHeader), that.thead, \">tr:eq(\" + position.row + \")>th\"), position.cell, false);\n\n                    for (idx = 0; idx < column.columns.length; idx++) {\n                        this.hideColumn(column.columns[idx]);\n                    }\n\n                    that._ariaAddHiddenColIndex();\n                    that.trigger(COLUMNHIDE, { column: column });\n\n                    return;\n                }\n\n                columnIndex = inArray(column, visibleColumns(leafColumns(columns)));\n\n                setColumnVisibility(column, false);\n\n                that._setParentsVisibility(column, false);\n\n                that._templates();\n\n                that._updateCols();\n                that._updateLockedCols();\n\n                var container = that.thead;\n\n                headerCellIndex = columnIndex;\n                if (that.lockedHeader && visibleLocked > columnIndex) {\n                    container = that.lockedHeader.find(\">table>thead\");\n                } else {\n                    headerCellIndex -= visibleLocked;\n                }\n                cell = leafDataCells(container).filter(isCellVisible).eq(headerCellIndex);\n                cell[0].style.display = NONE;\n                setCellVisibility(elements($(\">table>thead\", that.lockedHeader), that.thead, \">tr.k-filter-row>td\"), columnIndex, false);\n                if (footer[0]) {\n                    that._updateCols(footer.find(\">.k-grid-footer-wrap>table\"));\n                    that._updateLockedCols(footer.find(\">.k-grid-footer-locked>table\"));\n                    setCellVisibility(footer.find(\".k-footer-template>td\"), columnIndex, false);\n                }\n\n                if (virtualScroll.columns && !column.locked) {\n                    that._updateContentWidth();\n                    that.trigger(COLUMNHIDE, { column: column });\n                    return;\n                }\n\n                if (that.lockedTable && visibleLocked > columnIndex) {\n                    hideColumnCells(that.lockedTable.find(\">tbody>tr\"), columnIndex);\n                } else {\n                    hideColumnCells(that.tbody.children(), columnIndex - visibleLocked);\n                }\n\n                if (that.lockedTable) {\n                    that._updateTablesWidth();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedContentHeight();\n                    that._syncLockedHeaderHeight();\n                    that._syncLockedFooterHeight();\n                } else {\n                    cols = that.thead ? that.thead.prev().find(\"col\") : [];\n                    for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                        colWidth = cols[idx].style.width;\n\n                        if (cols[idx].className.indexOf(\"k-hierarchy-col\") > -1) {\n                            width += outerWidth(cols[idx]);\n                            continue;\n                        }\n\n                        if (cols[idx].className.indexOf(\"k-group-col\") > -1) {\n                            width += outerWidth(cols[idx]);\n                            continue;\n                        }\n\n                        if (colWidth && colWidth.indexOf(\"%\") == -1) {\n                            width += parseInt(colWidth, 10);\n                        } else {\n                            width = 0;\n                            break;\n                        }\n                    }\n\n                    tables = that.wrapper.find(\">.k-grid-header table\").first().add(that.wrapper.find(\">.k-grid-footer table\").first()).add(that.table);\n                    that._footerWidth = null;\n\n                    if (width) {\n                        tables.each(function() {\n                            this.style.width = width + PX;\n                        });\n\n                        that._footerWidth = width;\n                        that._setContentWidth();\n                    }\n                }\n\n                that._updateFirstColumnClass();\n                that._updateStickyColumns();\n                that._ariaAddHiddenColIndex();\n\n                if (groupHeaderColumnTemplateColumns.length > 0) {\n                    that._renderGroupRows();\n                }\n                that.trigger(COLUMNHIDE, { column: column });\n            });\n        },\n\n        _stackedColumnVisibility: function(column, method) {\n            const that = this;\n            const field = column.field;\n            let index;\n\n            if (that.columns.length) {\n               for (let i = 0; i < that.columns.length; i++) {\n                    if (that.columns[i].field === field) {\n                        index = i;\n                        break;\n                    }\n               }\n\n               if (index || index === 0) {\n                   const cells = that.table.find(\".k-grid-stack-cell[data-index='\" + index + \"']\");\n                   cells.each(function() {\n                        const cell = $(this);\n                        if (!cell.closest(\".k-detail-row\").length) {\n                            cell[method]();\n                        }\n                   });\n                   setColumnVisibility(column, method === \"show\");\n               }\n            }\n        },\n\n        _setParentsVisibility: function(column, visible) {\n            var that = this;\n            var columns = that.columns;\n            var idx;\n            var parents = [];\n            var parent;\n            var position;\n            var cell;\n            var colSpan;\n            var setColumnVisibility = that._columnVisibilitySetter(column);\n\n            var predicate = visible ?\n                function(p) { return visibleColumns(p.columns).length && p.hidden; } :\n                function(p) { return !visibleColumns(p.columns).length && !p.hidden; };\n\n\n            if (columnParents(column, columns, parents) && parents.length) {\n                for (idx = parents.length - 1; idx >= 0; idx--) {\n                    parent = parents[idx];\n                    position = columnPosition(parent, columns);\n                    cell = elements($(\">table>thead\", this.lockedHeader), this.thead, \">tr:eq(\" + position.row + \")>th:not(.k-group-cell):not(.k-hierarchy-cell)\").eq(position.cell);\n\n                    if (predicate(parent)) {\n                        setColumnVisibility(parent, visible);\n                        cell[0].style.display = visible ? \"\" : NONE;\n                    }\n\n                    if (cell.filter(\"[\" + kendo.attr(\"colspan\") + \"]\").length) {\n                        colSpan = parseInt(cell.attr(kendo.attr(\"colspan\")), 10);\n                        cell[0].colSpan = (colSpan - hiddenLeafColumnsCount(parent.columns)) || 1;\n                    }\n                }\n            }\n        },\n\n        _updateContentWidth: function() {\n            const that = this;\n            const tables = that.table.add(that.thead ? that.thead.parent() : $());\n\n            tables.css({\n                width: sumWidths(visibleLeafColumns(visibleNonLockedColumns(that.columns)))\n            });\n            that.refresh();\n        },\n\n        showColumn: function(column) {\n            var that = this,\n                idx,\n                length,\n                cell,\n                tables,\n                width,\n                headerCellIndex,\n                position,\n                colWidth,\n                cols,\n                columns = that.columns,\n                virtualScroll = that.virtualScroll || {},\n                footer = that.footer || that.wrapper.find(\".k-grid-footer\"),\n                lockedColumnsCount = that.lockedHeader ? leafDataCells(that.lockedHeader.find(\">table>thead\")).length : 0,\n                columnIndex,\n                originalColumn,\n                columnLeafIndex,\n                groupHeaderColumnTemplateColumns,\n                columnsToShow;\n\n            if (!Array.isArray(column)) {\n                columnsToShow = [column];\n            } else {\n                columnsToShow = column;\n            }\n\n            columnsToShow.forEach((column) => {\n                groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function(column) { return column.groupHeaderColumnTemplate; });\n\n                if (typeof column == \"number\") {\n                    columnIndex = column;\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    $.each(flatColumns(columns), function(index, item) {\n                        if (item === column) {\n                            column = item;\n                            columnIndex = index;\n                            return false;\n                        }\n                    });\n                } else {\n                    $.each(flatColumns(columns), function(index, item) {\n                        if (item.field === column) {\n                            column = item;\n                            columnIndex = index;\n                            return false;\n                        }\n                    });\n                }\n\n                if (!column || isVisible(column)) {\n                    return;\n                }\n\n                if (that._isStackedMode()) {\n                    that._stackedColumnVisibility(column, \"show\");\n                    that.trigger(COLUMNSHOW, { column: column });\n                    return;\n                }\n\n                var setColumnVisibility = that._columnVisibilitySetter(column);\n\n                if (column.columns && column.columns.length) {\n                    position = columnPosition(column, columns);\n                    originalColumn = flatColumns(that.options.columns)[columnIndex];\n\n                    setColumnVisibility(column, true);\n\n                    setCellVisibility(elements($(\">table>thead\", that.lockedHeader), that.thead, \">tr:eq(\" + position.row + \")>th\"), position.cell, true);\n\n                    for (idx = 0; idx < column.columns.length; idx++) {\n                        if (!originalColumn.columns[idx].hidden) {\n                            this.showColumn(column.columns[idx]);\n                        }\n                    }\n\n                    that._ariaRemoveHiddenColIndex();\n                    that.trigger(COLUMNSHOW, { column: column });\n\n                    return;\n                }\n\n                columnLeafIndex = inArray(column, leafColumns(columns));\n\n                setColumnVisibility(column, true);\n\n                that._setParentsVisibility(column, true);\n\n                that._templates();\n                that._updateCols();\n                that._updateLockedCols();\n\n                var container = that.thead;\n\n                headerCellIndex = columnLeafIndex;\n                if (that.lockedHeader && lockedColumnsCount > columnLeafIndex) {\n                    container = that.lockedHeader.find(\">table>thead\");\n                } else {\n                    headerCellIndex -= lockedColumnsCount;\n                }\n\n                cell = leafDataCells(container).eq(headerCellIndex);\n                cell[0].style.display = \"\";\n                cell[0].classList.remove(\"k-hidden\");\n\n                setCellVisibility(elements($(\">table>thead\", that.lockedHeader), that.thead, \">tr.k-filter-row>td\"), columnLeafIndex, true);\n                if (footer[0]) {\n                    that._updateCols(footer.find(\">.k-grid-footer-wrap>table\"));\n                    that._updateLockedCols(footer.find(\">.k-grid-footer-locked>table\"));\n                    setCellVisibility(footer.find(\".k-footer-template>td\"), columnLeafIndex, true);\n                }\n\n                if (virtualScroll.columns && !column.locked) {\n                    that._updateContentWidth();\n                    that.trigger(COLUMNSHOW, { column: column });\n                    return;\n                }\n\n                if (that.lockedTable && lockedColumnsCount > columnLeafIndex) {\n                    showColumnCells(that.lockedTable.find(\">tbody>tr\"), columnLeafIndex);\n                } else {\n                    showColumnCells(that.tbody.children(), columnLeafIndex - lockedColumnsCount);\n                }\n\n                if (that.lockedTable) {\n                    that._updateTablesWidth();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedContentHeight();\n                    that._syncLockedHeaderHeight();\n                } else {\n                    tables = that.wrapper.find(\">.k-grid-header table\").first().add(that.wrapper.find(\">.k-grid-footer table\").first()).add(that.table);\n                    if (!column.width) {\n                        tables.width(\"\");\n                    } else {\n                        width = 0;\n                        cols = that.thead.prev().find(\"col\");\n                        for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                            colWidth = cols[idx].style.width;\n\n                            if (cols[idx].className.indexOf(\"k-hierarchy-col\") > -1) {\n                                width += outerWidth(cols[idx]);\n                                continue;\n                            }\n\n                            if (cols[idx].className.indexOf(\"k-group-col\") > -1) {\n                                width += outerWidth(cols[idx]);\n                                continue;\n                            }\n\n                            if (colWidth.indexOf(\"%\") > -1) {\n                                width = 0;\n                                break;\n                            }\n                            width += parseInt(colWidth, 10);\n                        }\n\n                        that._footerWidth = null;\n                        if (width) {\n                            tables.each(function() {\n                                this.style.width = width + PX;\n                            });\n                            that._footerWidth = width;\n                            that._setContentWidth();\n                        }\n                    }\n                }\n\n                that._updateFirstColumnClass();\n                that._updateStickyColumns();\n                if (groupHeaderColumnTemplateColumns.length > 0) {\n                    that._renderGroupRows();\n                }\n                that._ariaRemoveHiddenColIndex();\n                that.trigger(COLUMNSHOW, { column: column });\n            });\n        },\n\n        _columnVisibilitySetter: function(column) {\n            var col = column || {};\n\n            if (isUndefined(col.media)) {\n                return setColumnVisibility;\n            } else {\n                return setColumnMediaVisibility;\n            }\n        },\n\n\n        _buildSkeleton: function() {\n            const visibleColumns = this.virtualCols ? this.virtualCols : visibleLeafColumns(this.columns);\n            const pageSize = this.dataSource.pageSize() || this.dataSource.total();\n            const groups = this._groups();\n            const stacked = this._isStackedMode();\n            let loaderHTML = \"\";\n            let colspan;\n            let columnsCount = stacked ? 1 : visibleColumns.length + groups;\n\n            if (this._hasDetails() && !stacked) {\n                columnsCount++;\n            }\n\n            if (this._hasVirtualColumns()) {\n                colspan = parseInt(this.content.find(TR).first().find(\"td\").first().attr(\"colspan\"), 10);\n            }\n\n            for (var i = 0; i < pageSize; i++) {\n                loaderHTML += \"<tr class='k-table-row' data-skeleton-row>\";\n                for (var j = 0; j < columnsCount; j++) {\n                    if (colspan && !j) {\n                        loaderHTML += \"<td colspan='\" + colspan + \"'><span class='k-skeleton k-skeleton-text k-skeleton-pulse k-table-td'></span></td>\";\n                    } else {\n                        loaderHTML += \"<td><span class='k-skeleton k-skeleton-text k-skeleton-pulse k-table-td'></span></td>\";\n                    }\n                }\n                loaderHTML += \"</tr>\";\n            }\n            return loaderHTML;\n        },\n\n        _progress: function(toggle) {\n            var element = this.element;\n            var endless = this.options.scrollable && this.options.scrollable.endless;\n            var loaderType = this.options.loaderType;\n            var isVirtualization = this.options.scrollable && this.options.scrollable.virtual;\n            var skeleton;\n\n            if (isVirtualization) {\n                element = this.content;\n            } else if (this._editContainer && this._editMode() === \"popup\") {\n                element = this._editContainer;\n            } else if (this.lockedContent || endless) {\n                element = this.wrapper;\n            } else if (this.element.is(\"table\")) {\n                element = this.element.parent();\n            } else if (this.content && this.content.length) {\n                element = this.content;\n            }\n\n            if (loaderType == \"skeleton\" && !this._isExport) {\n                const tbody = element.find(\"tbody\");\n                if (toggle) {\n                    skeleton = this._buildSkeleton();\n                    if (endless) {\n                        this._currentEndlessRows = tbody.children(\":not([data-skeleton-row])\");\n                    }\n                    tbody.empty().append(skeleton);\n                } else {\n                    if (endless) {\n                        element.find(\"[data-skeleton-row]\").remove();\n                        tbody.prepend(this._currentEndlessRows);\n                    } else {\n                        element.find(\".k-skeleton\").closest(\"tbody\").empty();\n                    }\n                }\n            } else {\n                if (this._isExport) {\n                    this._loaderContainer(toggle, { message: this.options.messages.loader.exporting });\n                } else if (endless && toggle) {\n                    kendo.ui.progress(element, toggle, { height: this.content.height(), top: this.content.parent()[0].offsetTop, opacity: true });\n                } else {\n                    kendo.ui.progress(element, toggle);\n                }\n            }\n        },\n\n        _resize: function(size, force) {\n\n            this._syncLockedContentHeight();\n            this._syncLockedHeaderHeight();\n\n            if (this.content) {\n                this._setContentWidth();\n                this._setContentHeight();\n            }\n\n            if (this.lockedTable) {\n                this._syncLockedScroll();\n            }\n\n            if (this.virtualScrollable && (force || this._rowHeight)) {\n                if (force) {\n                    this._rowHeight = null;\n                }\n                this.virtualScrollable.repaintScrollbar();\n            }\n\n            if (this.pager && this.pager.element) {\n                this.pager.resize(force);\n            }\n\n            if (this._anyStickyColumns()) {\n                this._updateStickyColumns(false);\n            }\n        },\n\n        _isActiveInTable: function() {\n            var active = activeElement();\n\n            if (!active) { return false; }\n\n            return this.table[0] === active ||\n                $.contains(this.table[0], active) ||\n                (this._isLocked() &&\n                    (this.lockedTable[0] === active || $.contains(this.lockedTable[0], active))\n                );\n        },\n\n        refresh: function(e) {\n            var that = this,\n                data = that.dataSource.view(),\n                navigatable = that.options.navigatable,\n                virtualScroll = that.virtualScroll || {},\n                currentIndex,\n                current = $(that.current()),\n                isCurrentInHeader = false,\n                groups = that._groups(),\n                colspan = groups + visibleLeafColumns(visibleColumns(that.columns)).length,\n                hasMultiColumnHeaders = grep(that.columns, function(item) {\n                    return item.columns !== undefined;\n                }).length > 0,\n                contentScrollLeft,\n                cachedItemsToSkip,\n                multiColumnHeaderIndex = 0,\n                hasGroups = that.dataSource.group() && that.dataSource.group().length > 0;\n\n            const stacked = that._isStackedMode();\n\n            if (e && e.action === \"itemchange\" && (that.editable || that.options.scrollable.endless)) { // skip rebinding if editing is in progress\n                if (this._editMode() != \"popup\" || this._editMode() === \"popup\" && !that._editableIsClosing) { // popup editing animation has not finished yet and the editable is not destoyed\n                    return;\n                }\n            }\n\n            if (that._shouldMapHights) {\n                that._mapCachedRowsHeight(\"get\", \"uid\");\n                that._shouldMapHights = false;\n            }\n\n            if (virtualScroll.columns) {\n                that._templates();\n            }\n\n            //someone remove the edited item\n            if (e && e.action === \"remove\" && that.editable &&\n                that.editable.options.model && inArray(that.editable.options.model, e.items) > -1) {\n                that.editable.options.model.unbind(CHANGE, that._modelChangeHandler);\n            }\n\n            e = e || {};\n\n            if (that.trigger(\"dataBinding\", { action: e.action || \"rebind\", index: e.index, items: e.items })) {\n                return;\n            }\n\n            if (e.action === SYNC && that._isVirtualEditable()) {\n                that._destroyEditable();\n                that._clearEditableState();\n            }\n\n            if (!that._endlessFetchInProgress) {\n                const component = that._isAdaptive() ? \"kendoActionSheet\" : \"kendoWindow\";\n\n                if (navigatable && (that._isActiveInTable() || (that._editContainer && that._editContainer.data(component)))) {\n                    isCurrentInHeader = current.is(\"th\");\n                    currentIndex = isCurrentInHeader ? current.parent().children(\":not(.k-group-cell)\").index(current[0]) : Math.max(that.cellIndex(current), 0);\n\n                    if (isCurrentInHeader && hasMultiColumnHeaders) {\n                        multiColumnHeaderIndex = current.parent().index();\n                    }\n                }\n                that._destroyEditable();\n            }\n\n            if (that.options.scrollable && that.options.scrollable.endless && !that._pdfInitialized) {\n                clearTimeout(that._progressTimeOut);\n                that._progressTimeOut = setTimeout(function() {\n                    if (!that._endlessFetchInProgress) {\n                        that._progress(false);\n                        if (stacked) {\n                            that._toggleGroupableHeader(hasGroups);\n                        }\n                    }\n                }, 250);\n            } else {\n                if (!that._isExport) {\n                    that._progress(false);\n                    if (stacked) {\n                        that._toggleGroupableHeader(hasGroups);\n                    }\n                }\n            }\n\n            if (current.length) {\n                that._currentRowIndex = current.parent().index();\n            }\n\n            that._hideResizeHandle();\n\n            that._data = [];\n\n            if (!that.columns.length) {\n                that._autoColumns(that._firstDataItem(data[0], groups));\n                colspan = groups + that.columns.length;\n            }\n\n            that._group = groups > 0 || that._group;\n\n            if (that._group) {\n                that._templates();\n                that._updateCols();\n                that._updateLockedCols();\n                if (!that._virtualColScroll && !stacked) {\n                    that._updateHeader(groups);\n                }\n                that._group = groups > 0;\n                that._groupRows = groupRows(data);\n            }\n\n            if (that.content) {\n                contentScrollLeft = kendo.scrollLeft(that.content);\n            }\n\n            const hasGroupAggregateTemplate = that.dataSource.group()?.some(g => g.aggregates) && that.columns?.some(c => c.groupFooterTemplate || c.groupHeaderTemplate);\n\n            if (that.options.loaderType !== \"skeleton\" && e && e.action === \"sync\" && e.partialUpdate && e.changedItems && e.changedItems.length && !hasGroupAggregateTemplate) {\n                that._data = that.dataSource.flatView();\n                e.changedItems.forEach((changedItem) => {\n                    const row = that.tbody.find(\"[\" + kendo.attr(\"uid\") + \"=\" + changedItem.uid + \"]\");\n                    if (that._editMode() === INCELL && that.dataSource.options.autoSync && that.dataSource.isLocalTransport()) {\n                        that.trigger(CELLCLOSE, { type: \"save\", model: e.changedItems[0], container: row.find(\".k-edit-cell\") });\n                    }\n                    that._displayRow(row);\n                });\n                that._progress(false);\n\n                if (stacked) {\n                    that._toggleGroupableHeader(hasGroups);\n                }\n\n                that._destroyEditable();\n            } else {\n                cachedItemsToSkip = that._skipRerenderItemsCount;\n                that._renderContent(data, colspan, groups);\n                if (that.options.scrollable && that.options.scrollable.endless && this.lockedContent) {\n                    that._skipRerenderItemsCount = cachedItemsToSkip;\n                }\n                that._renderLockedContent(data, colspan, groups);\n            }\n\n            if (!that._virtualColScroll) {\n                that._footer();\n\n                that._renderNoRecordsContent();\n\n                that._togglePagerVisibility();\n\n                that._setContentHeight();\n\n                that._setContentWidth(that.content && contentScrollLeft);\n            }\n\n            if (that.lockedTable) {\n                //requires manual trigger of scroll to sync both tables\n                if (virtualScroll.rows) {\n                    that.content.find(\">.k-virtual-scrollable-wrap\").trigger(\"scroll\");\n                } else if (that.touchScroller) {\n                    that.touchScroller.movable.trigger(\"change\");\n                } else {\n                    that.wrapper.one(\"scroll\", function(e) { e.stopPropagation(); });\n                    that.content.trigger(\"scroll\");\n                }\n            }\n\n            if (!that._endlessFetchInProgress && !that._rowDropping) {\n                if (stacked && that.options.navigatable) {\n                    that._setCurrentStackedCell();\n                } else {\n                    const currentIsLockedHeader = that._isLocked() && current.closest(\".k-grid-header-locked\").length && isCurrentInHeader;\n                    that._restoreCurrent(currentIndex, isCurrentInHeader, multiColumnHeaderIndex, currentIsLockedHeader);\n                }\n            }\n\n            if (that.touchScroller) {\n                that.touchScroller.contentResized();\n            }\n\n            if (that.selectable) {\n                that.selectable.resetTouchEvents();\n            }\n\n            if (that._checkBoxSelection) {\n                that._toggleHeaderCheckState(false);\n            }\n\n            if (that.options.persistSelection &&\n                ((that.selectable && !kendo.ui.Selectable.parseOptions(that.options.selectable).cell) || that._checkBoxSelection) &&\n                (that.items().length || that.dataSource._isGroupPaged())) {\n                that._restoreSelection();\n            }\n\n            that._restoreHighlight();\n\n            if (that._hasAIHighlight) {\n                that._applyAIHighlight(that._hasAIHighlight);\n            }\n\n            if (that._hasAISelection && !that._isSingleSelectionEnabled()) {\n                that._applyAISelection(that._hasAISelection);\n            }\n\n            if (!that.options.persistSelection) {\n                that._selectedIds = {};\n            }\n\n            if (that._hasReorderableRows()) {\n                that._draggableRows();\n                that._reorderableRows();\n            }\n\n            if (that.options.selectable && that.options.selectable.cellAggregates) {\n                that._calculateAggregatesForSelected();\n            }\n            if (stacked) {\n                const layoutSettings = that._getStackedLayoutSettings();\n                const stackedRows = that.tbody.find(\".k-grid-stack-row\");\n\n                if (layoutSettings.colClass) {\n                    stackedRows.addClass(layoutSettings.colClass);\n                } else if (layoutSettings.colsConfig) {\n                    stackedRows.css(\"grid-template-columns\", layoutSettings.colsConfig);\n                }\n            }\n\n            that._toggleToolbarEditingItemsVisibility();\n            that._aria();\n\n            that.trigger(DATABOUND);\n        },\n\n        _getSchemaIdField: function() {\n            const that = this;\n            const model = that.dataSource.options.schema.model;\n            return isFunction(model) ? model.fn.idField : model && model.id;\n        },\n\n        _restoreCurrent: function(currentIndex, isCurrentInHeader, multiColumnHeaderIndex, isLocked) {\n            if (currentIndex === undefined || currentIndex < 0) {\n                return;\n            }\n\n            this._removeCurrent();\n\n            if (isCurrentInHeader) {\n                const container = isLocked ? this.lockedHeader : this.thead;\n                this._setCurrent(container.find(`tr:eq(${multiColumnHeaderIndex}) th:not(.k-group-cell)`).eq(currentIndex), false, this._hasVirtualColumns());\n            } else {\n                var rowIndex = 0;\n                var virtualScroll = this.virtualScroll || {};\n\n                if (this._rowVirtualIndex) {\n                    if (virtualScroll.rows) {\n                        rowIndex = this.virtualScrollable.position(this._rowVirtualIndex);\n                    } else {\n                        rowIndex = this._rowVirtualIndex;\n                    }\n                } else if (this._currentRowIndex) {\n                    rowIndex = this._currentRowIndex;\n                } else {\n                    currentIndex = 0;\n                }\n\n                var row = $();\n                var colspan;\n\n                if (this.lockedTable) {\n                    if (this._shouldFocusInLastRow) {\n                        row = this.lockedTable.find(\">tbody>tr\").last();\n                    } else if (this._shouldFocusInFirstRow) {\n                        row = this.lockedTable.find(\">tbody>tr\").first();\n                    } else {\n                        row = this.lockedTable.find(\">tbody>tr\").eq(rowIndex);\n                    }\n                }\n\n                let nonLockedRow;\n                if (this._shouldFocusInLastRow) {\n                    nonLockedRow = this.tbody.children().last();\n                } else if (this._shouldFocusInFirstRow) {\n                    nonLockedRow = this.tbody.children().first();\n                } else {\n                    nonLockedRow = this.tbody.children().eq(rowIndex);\n                }\n\n                row = row.add(nonLockedRow);\n\n                if (this._hasVirtualColumns()) {\n                    colspan = parseInt(row.find(\"td\").first().attr(\"colspan\"), 10);\n                    currentIndex = this._virtualCellIndex - (colspan > 1 ? colspan - 1 : 0);\n                }\n\n\n                var td = row.find(\">td:not(.k-group-cell):not(.k-hierarchy-cell)\")\n                    .eq(currentIndex);\n\n                if (!td.length || currentIndex < 0) {\n                    return;\n                }\n\n                if (this._hasVirtualColumns()) {\n                    this._setCurrent(td, true, true);\n                } else {\n                    this._setCurrent(td);\n                }\n\n            }\n\n            if (this._current) {\n                focusTable(this.table, true);\n            }\n        },\n\n        _restoreSelection: function() {\n            var that = this,\n                allRows = that.items(),\n                selectedRows,\n                id = that._getSchemaIdField();\n\n            selectedRows = grep(allRows, function(row) {\n                var dataItemKey = that.dataItem(row)[id];\n                if (that._selectedIds[dataItemKey]) {\n                    return row;\n                }\n            });\n\n            that.select(selectedRows);\n        },\n\n        _getSelectedRowUids: function() {\n            var that = this,\n                selected = that.select(),\n                row,\n                uid,\n                result = [];\n\n            for (let i = 0; i < selected.length; i++) {\n                row = $(selected[i]);\n\n                if (kendo.ui.Selectable.parseOptions(that.options.selectable).cell) {\n                    row = row.closest(TR);\n                }\n\n                uid = row.data(\"uid\");\n\n                if (result.indexOf(uid) === -1) {\n                    result.push(uid);\n                }\n            }\n\n            return result;\n        },\n\n        _getSelectedColumnFields: function() {\n            var that = this,\n                selected = that.select(),\n                field,\n                index,\n                visibleColumns = visibleLeafColumns(that.columns).filter(col => !col.selectable && !col.draggable & !col.command),\n                result = [];\n\n            // If the mode is in row selection, then return all of the visible columns.\n            if (!kendo.ui.Selectable.parseOptions(that.options.selectable).cell) {\n                return visibleColumns.map(vc => vc.field);\n            }\n\n            for (let i = 0; i < selected.length; i++) {\n                index = $(selected[i]).index();\n\n                field = that.thead.find(\"th:eq(\" + index + \")\").data(\"field\");\n\n                if (result.indexOf(field) === -1) {\n                    result.push(field);\n                }\n            }\n\n            return result;\n        },\n\n        _cleanupDetailItems: function() {\n            var that = this;\n\n            if (that._hasDetails()) {\n                that.tbody.find(\".k-detail-cell\").empty();\n            }\n        },\n\n        _renderContent: function(data, colspan, groups) {\n            var that = this,\n                idx,\n                length,\n                html = \"\",\n                isLocked = that.lockedContent != null,\n                endlessAppend = null,\n                skipLastGroup,\n                flatViewLength,\n                scrollable = that.options.scrollable,\n                templates = {\n                    rowTemplate: that.rowTemplate,\n                    altRowTemplate: that.altRowTemplate,\n                    groupFooterTemplate: that.groupFooterTemplate,\n                    groupHeaderColumnTemplate: that.groupHeaderColumnTemplate\n                };\n\n            const stacked = that._isStackedMode();\n\n            if (scrollable && scrollable.endless && !that.dataSource.options.endless) {\n                that._skipRerenderItemsCount = 0;\n                if (that.content) {\n                    that.content[0].scrollTop = 0;\n                }\n            }\n            endlessAppend = that._skipRerenderItemsCount > 0;\n            colspan = isLocked ? colspan - visibleLeafColumns(visibleLockedColumns(that.columns)).length : colspan;\n\n            if (stacked) {\n                colspan = that.table.find(\"col\").length;\n            }\n\n            if (groups > 0) {\n\n                colspan = isLocked ? colspan - groups : colspan;\n\n                if (that.detailTemplate && !stacked) {\n                    colspan++;\n                }\n\n                if (that.groupFooterTemplate) {\n                    that._groupAggregatesDefaultObject = that.dataSource.aggregates();\n                }\n                if (that.options.scrollable.endless) {\n                    flatViewLength = that.dataSource.flatView().length;\n                }\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    if (!that._skippedGroups) {\n                        that._skippedGroups = [];\n                    }\n                    skipLastGroup = flatViewLength && idx === data.length - 1 && flatViewLength !== that.dataSource.total();\n                    html += that._groupRowHtml(data[idx], colspan, 0, isLocked ? groupRowLockedContentBuilder : groupRowBuilder, templates, isLocked, skipLastGroup, false);\n                }\n            } else {\n                html += that._rowsHtml(data, templates);\n            }\n\n            if (endlessAppend) {\n                that.tbody.append(html);\n                kendo.applyStylesFromKendoAttributes(that.tbody, [\"display\", \"left\", \"right\"]);\n                clearTimeout(that._endlessFetchTimeOut);\n                that._endlessFetchTimeOut = setTimeout(function() {\n                    if (that._groupToCollapse) {\n                        that.collapseGroup(that._groupToCollapse);\n                        that._groupToCollapse = null;\n                    }\n                });\n                that._endlessFetchInProgress = null;\n            } else {\n                that.tbody = appendContent(that.tbody, that.table, html, this.options.size);\n            }\n        },\n\n        _renderGroupRows: function() {\n            var that = this,\n                data = that._groupRows,\n                groupRows = that.wrapper.find(DOT + GROUPING_ROW),\n                groups = that._groups(),\n                groupRowBuilderFunc,\n                isLocked = that.lockedContent != null,\n                columns,\n                colspan,\n                group,\n                field,\n                column,\n                template,\n                text,\n                groupHeaderData,\n                tableContainer,\n                isInLockedContainer,\n                prevElement,\n                newGroupRowElement,\n                currentRow,\n                level,\n                groupHeaderColumnTemplate,\n                firstColumnGroupData;\n\n            groupRows.each(function(index, row) {\n                currentRow = $(row);\n                tableContainer = currentRow.closest(\"table\").parent();\n                isInLockedContainer = tableContainer.is(\".\" + CONTENTRLOCKEDCONTAINER);\n                columns = isInLockedContainer ? visibleLeafColumns(visibleColumns(lockedColumns(that.columns))) : visibleLeafColumns(visibleColumns(nonLockedColumns(that.columns)));\n                level = currentRow.find(\".\" + GROUPCELLCLASS).length;\n                if (isLocked) {\n                    groupRowBuilderFunc = isInLockedContainer ? groupRowBuilder : groupRowLockedContentBuilder;\n                    colspan = isInLockedContainer ? columns.length + groups - level : columns.length;\n                }\n                else {\n                    groupRowBuilderFunc = groupRowBuilder;\n                    colspan = columns.length + groups - level;\n                }\n\n                group = index >= data.length ? data[index - data.length] : data[index];\n                field = group.field;\n                column = grep(leafColumns(that.columns), function(column) { return column.field == field; })[0] || {};\n                firstColumnGroupData = !column.groupHeaderTemplate && visibleColumns(that.columns)[0].groupHeaderColumnTemplate ? visibleColumns(that.columns)[0] : false;\n                template = column.groupHeaderTemplate ? column.groupHeaderTemplate : visibleColumns(that.columns)[0].groupHeaderColumnTemplate;\n                text = (column.title && (that.options.encodeTitles ? htmlEncode(column.title, true) : column.title) || htmlEncode(field, true)) + ': ' + formatGroupValue(group.value, column.format, column.values, column.encoded);\n                groups = groups;\n                groupHeaderData = that._groupData(group, false, firstColumnGroupData);\n                groupHeaderColumnTemplate = isInLockedContainer ? that.lockedGroupHeaderColumnTemplate : that.groupHeaderColumnTemplate;\n\n                if (template) {\n                    text = typeof template === FUNCTION ? template(groupHeaderData) : kendo.template(template)(groupHeaderData);\n                }\n\n                prevElement = currentRow.prev().length ? currentRow.prev() : currentRow.parent();\n\n                newGroupRowElement = $(groupHeaderColumnTemplate ?\n                    groupHeaderColumnTemplate(extend({}, groupHeaderData, { groupCells: level, colspan: groups - level, text: text })) :\n                    groupRowBuilderFunc(colspan, level, text, null, null, null, isRtl, that._isStackedMode())\n                );\n\n                kendo.applyStylesFromKendoAttributes(newGroupRowElement, [\"display\", \"left\", \"right\"]);\n\n                if (prevElement.is(\"tbody\")) {\n                    prevElement.prepend(newGroupRowElement);\n                }\n                else {\n                    prevElement.after(newGroupRowElement);\n                }\n                currentRow.remove();\n            });\n        },\n\n        _renderLockedContent: function(data, colspan, groups) {\n            var html = \"\",\n                idx,\n                length,\n                skipLastGroup,\n                endlessAppend = null,\n                flatViewLength,\n                templates = {\n                    rowTemplate: this.lockedRowTemplate,\n                    altRowTemplate: this.lockedAltRowTemplate,\n                    groupFooterTemplate: this.lockedGroupFooterTemplate,\n                    groupHeaderColumnTemplate: this.lockedGroupHeaderColumnTemplate\n                };\n\n            if (this.lockedContent) {\n\n                var table = this.lockedTable;\n                endlessAppend = this._skipRerenderItemsCount > 0;\n\n                if (groups > 0) {\n                    colspan = colspan - visibleColumns(leafColumns(nonLockedColumns(this.columns))).length;\n                    if (this.options.scrollable.endless) {\n                        flatViewLength = this.dataSource.flatView().length;\n                    }\n                    for (idx = 0, length = data.length; idx < length; idx++) {\n                        skipLastGroup = flatViewLength && idx === data.length - 1 && flatViewLength !== this.dataSource.total();\n                        html += this._groupRowHtml(data[idx], colspan, 0, groupRowBuilder, templates, false, skipLastGroup, true);\n                    }\n                } else {\n                    html = this._rowsHtml(data, templates);\n                }\n\n                if (endlessAppend) {\n                    table.children(\"tbody\").append(html);\n                } else {\n                    appendContent(table.children(\"tbody\"), table, html, this.options.size);\n                }\n\n                this._syncLockedContentHeight();\n            }\n        },\n\n        _togglePagerVisibility: function() {\n            if (this.options.pageable.alwaysVisible === false) {\n                this.wrapper.find(\".k-grid-pager\").toggle(this.dataSource.total() >= this.dataSource.pageSize());\n            }\n        },\n\n        _adjustRowsHeight: function(table1, table2) {\n            var rows = table1[0].rows,\n                length = rows.length,\n                idx,\n                rows2 = table2[0].rows,\n                containers = table1.add(table2),\n                containersLength = containers.length,\n                heights = [];\n\n            for (idx = 0; idx < length; idx++) {\n                if (!rows2[idx]) {\n                    break;\n                }\n\n                if (rows[idx].style.height) {\n                    rows[idx].style.height = rows2[idx].style.height = \"\";\n                }\n            }\n\n            for (idx = 0; idx < length; idx++) {\n                if (!rows2[idx]) {\n                    break;\n                }\n\n                var offsetHeight1 = rows[idx].getBoundingClientRect().height;\n                var offsetHeight2 = rows2[idx].getBoundingClientRect().height;\n                var height = 0;\n\n                if (offsetHeight1 > offsetHeight2) {\n                    height = offsetHeight1;\n                } else if (offsetHeight1 < offsetHeight2) {\n                    height = offsetHeight2;\n                }\n\n                heights.push(height);\n            }\n\n            for (idx = 0; idx < containersLength; idx++) {\n                containers[idx].style.display = NONE;\n            }\n\n            for (idx = 0; idx < length; idx++) {\n                if (heights[idx]) {\n                    rows[idx].style.height = rows2[idx].style.height = heights[idx] + PX;\n                }\n            }\n\n            for (idx = 0; idx < containersLength; idx++) {\n                containers[idx].style.display = \"\";\n            }\n        }\n    });\n\n    if (kendo.ExcelMixin) {\n        kendo.ExcelMixin.extend(Grid.prototype);\n    }\n\n    if (kendo.PDFMixin) {\n        kendo.PDFMixin.extend(Grid.prototype);\n\n        Grid.prototype._drawPDF_autoPageBreak = function(progress) {\n            var grid = this;\n            var result = new $.Deferred();\n            var dataSource = grid.dataSource;\n            var allPages = grid.options.pdf.allPages;\n            var origBody = grid.wrapper.find('> table > tbody, .k-grid-content > table > tbody').first();\n            var cont = $(\"<div>\")\n                .css({ position: \"absolute\", left: -10000, top: -10000 });\n            var clone;\n\n            grid.toggleUnexportableColumns(grid.columns);\n            clone = grid.wrapper.clone().css({\n                height: AUTO, width: AUTO\n            }).appendTo(cont);\n            clone.find(\".k-grid-content\").css({ height: AUTO, width: AUTO, overflow: \"visible\" });\n            clone.find('> table, .k-grid-header table, .k-grid-content > table, .k-grid-footer table').css({ height: AUTO, width: \"100%\", overflow: \"visible\" });\n            clone.find(\".k-grid-pager, .k-grid-toolbar, .k-grouping-header\").remove();\n            clone.find(\".k-grid-header, .k-grid-footer, .k-auto-scrollable\").css({ paddingRight: 0 });\n\n            var body = clone.find('> table > tbody, .k-grid-content > table > tbody').first().empty();\n            var startingPage = dataSource.page();\n\n            function resolve() {\n                if (allPages && startingPage !== undefined) {\n                    dataSource.one(\"change\", draw);\n                    dataSource.page(startingPage);\n                } else {\n                    grid.refresh();\n                    draw();\n                }\n            }\n\n            function draw() {\n                cont.appendTo(document.body);\n                var options = $.extend({}, grid.options.pdf, {\n                    _destructive: true,\n                    progress: function(p) {\n                        progress.notify({\n                            page: p.page,\n                            pageNumber: p.pageNum,\n                            progress: 0.5 + p.pageNum / p.totalPages / 2,\n                            totalPages: p.totalPages\n                        });\n                    }\n                });\n                kendo.drawing.drawDOM(clone, options)\n                    .always(function() {\n                        cont.remove();\n                    })\n                    .then(function(group) {\n                        result.resolve(group);\n                        grid.toggleUnexportableColumns(grid.columns, true);\n                    })\n                    .fail(function(err) {\n                        result.reject(err);\n                    });\n            }\n\n            function renderPage() {\n                var pageNum = dataSource.page();\n                var totalPages = allPages ? dataSource.totalPages() : 1;\n                body.append(origBody.children(\"tr:not(.k-detail-row)\"));\n                if (pageNum < totalPages) {\n                    dataSource.page(pageNum + 1);\n                } else {\n                    dataSource.unbind(\"change\", renderPage);\n                    resolve();\n                }\n            }\n\n            if (allPages) {\n                dataSource.bind(\"change\", renderPage);\n                dataSource.page(1);\n            } else {\n                renderPage();\n            }\n\n            return result.promise();\n        };\n\n        Grid.prototype.toggleUnexportableColumns = function(columns, restore) {\n            var length = columns.length;\n            var column;\n            var exportable;\n            var visibleInExport;\n            var visibleInExportOnly;\n\n            for (var i = 0; i < length; i++) {\n                column = columns[i];\n                exportable = column.exportable;\n                if (!restore) {\n                    if (typeof column.exportable === \"object\") {\n                        exportable = column.exportable.pdf;\n                    }\n\n                    visibleInExport = !column.hidden && exportable !== false;\n                    visibleInExportOnly = column.hidden && exportable === true;\n                    exportable = visibleInExport || visibleInExportOnly;\n\n                    if (!exportable && !column.hidden) {\n                        column._toggledDuringExport = true;\n                        this.hideColumn(column);\n                    } else if (exportable && column.hidden) {\n                        column._toggledDuringExport = true;\n                        this.showColumn(column);\n                    } else if (exportable && column.columns) {\n                        this.toggleUnexportableColumns(column.columns);\n                    }\n                } else {\n                    if (column._toggledDuringExport) {\n                        column._toggledDuringExport = false;\n\n                        if (column.hidden) {\n                            this.showColumn(column);\n                        } else {\n                            this.hideColumn(column);\n                        }\n                    } else if (column.columns) {\n                        this.toggleUnexportableColumns(column.columns, restore);\n                    }\n                }\n            }\n        };\n\n        Grid.prototype._drawPDF = function(progress) {\n            var grid = this;\n\n            if (grid.options.pdf.paperSize && grid.options.pdf.paperSize != AUTO) {\n                return grid._drawPDF_autoPageBreak(progress);\n            }\n\n            var result = new $.Deferred();\n            var dataSource = grid.dataSource;\n            var allPages = grid.options.pdf.allPages;\n\n            // This group will be our document containing all pages\n            var doc = new kendo.drawing.Group();\n            var startingPage = dataSource.page();\n\n            function resolve() {\n                if (allPages && startingPage !== undefined) {\n                    dataSource.unbind(\"change\", exportPage);\n                    dataSource.one(\"change\", function() {\n                        result.resolve(doc);\n                    });\n\n                    dataSource.page(startingPage);\n                } else {\n                    result.resolve(doc);\n                }\n            }\n\n            function exportPage() {\n                grid.toggleUnexportableColumns(grid.columns);\n                grid._drawPDFShadow({\n                    width: grid.wrapper.width()\n                }, {\n                    avoidLinks: grid.options.pdf.avoidLinks\n                })\n                    .done(function(group) {\n                        var pageNum = dataSource.page();\n                        var totalPages = allPages ? dataSource.totalPages() : 1;\n\n                        var args = {\n                            page: group,\n                            pageNumber: pageNum,\n                            progress: pageNum / totalPages,\n                            totalPages: totalPages\n                        };\n\n                        grid.toggleUnexportableColumns(grid.columns, true);\n                        progress.notify(args);\n                        doc.append(args.page);\n\n                        if (pageNum < totalPages) {\n                            dataSource.page(pageNum + 1);\n                        } else {\n                            resolve();\n                        }\n                    })\n                    .fail(function(err) {\n                        result.reject(err);\n                    });\n            }\n\n            if (allPages) {\n                dataSource.bind(\"change\", exportPage);\n                dataSource.page(1);\n            } else {\n                exportPage();\n            }\n\n            return result.promise();\n        };\n    }\n\n    function syncTableHeight(table1, table2) {\n        table1 = table1[0];\n        table2 = table2[0];\n\n        if (table1.rows.length !== table2.rows.length) {\n            var lockedHeigth = table1.offsetHeight;\n            var tableHeigth = table2.offsetHeight;\n\n            var row;\n            var diff;\n            if (lockedHeigth > tableHeigth) {\n                row = table2.rows[table2.rows.length - 1];\n\n                if (filterRowRegExp.test(row.className)) {\n                    row = table2.rows[table2.rows.length - 2];\n                }\n\n                diff = lockedHeigth - tableHeigth;\n            } else {\n                row = table1.rows[table1.rows.length - 1];\n\n                if (filterRowRegExp.test(row.className)) {\n                    row = table1.rows[table1.rows.length - 2];\n                }\n\n                diff = tableHeigth - lockedHeigth;\n            }\n            row.style.height = row.offsetHeight + diff + PX;\n        }\n    }\n\n    function adjustRowHeight(row1, row2) {\n        var height;\n        var offsetHeight1 = row1.offsetHeight;\n        var offsetHeight2 = row2.offsetHeight;\n\n        if (offsetHeight1 > offsetHeight2) {\n            height = offsetHeight1 + PX;\n        } else if (offsetHeight1 < offsetHeight2) {\n            height = offsetHeight2 + PX;\n        }\n\n        if (height) {\n            row1.style.height = row2.style.height = height;\n        }\n    }\n\n    function getCommand(commands, name) {\n        var idx, length, command;\n\n        if (typeof commands === STRING && commands === name) {\n            return commands;\n        }\n\n        if (isPlainObject(commands) && commands.name === name) {\n            return commands;\n        }\n\n        if (isArray(commands)) {\n            for (idx = 0, length = commands.length; idx < length; idx++) {\n                command = commands[idx];\n\n                if ((typeof command === STRING && command === name) || (command.name === name)) {\n                    return command;\n                }\n            }\n        }\n        return null;\n    }\n\n    function compareElements(element, toCompare) {\n        if (element.length !== toCompare.length) {\n            return false;\n        }\n\n        for (var i = 0; i < element.length; i++) {\n            if (element[i] !== toCompare[i]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function focusTable(table, direct) {\n        if (!table || table.length === 0) {\n            return;\n        }\n\n        if (direct === true) {\n            table = $(table);\n            var scrollLeft = kendo.scrollLeft(table.parent());\n\n            kendo.focusElement(table);\n            kendo.scrollLeft(table.parent(), scrollLeft);\n        } else {\n            $(table).one(\"focusin\", function(e) { e.preventDefault(); }).trigger(\"focus\");\n        }\n    }\n\n    function isColumnGroupable(grid, column) {\n        return grid.options.groupable && (column.groupable || column.groupable === undefined);\n    }\n\n    function isGroupedBy(groups, field) {\n        return !!$.grep(groups, function(item) {\n            return item.field === field;\n        }).length;\n    }\n\n    function isColumnEditable(column, model) {\n        if (!column.field || column.selectable) {\n            return false;\n        }\n        if (model.editable && !model.editable(column.field)) {\n            return false;\n        }\n        if (column.editable && !column.editable(model)) {\n            return false;\n        }\n        return true;\n    }\n\n    function isInputElement(element) {\n        return $(element).is(INPUT_SELECTORS)\n        // inline Editor component scenario\n        || $(element).is(\"div[contenteditable=true]\");\n    }\n\n    function tableClick(e) {\n        var that = this,\n            currentTarget = $(e.currentTarget),\n            isHeader = currentTarget.is(\"th\"),\n            table = this.table.add(this.lockedTable),\n            headerTable = this.thead && this.thead.parent().add($(\">table\", this.lockedHeader)),\n            isInput = isInputElement(e.target),\n            preventScroll = $(e.target).is('.k-checkbox'),\n            target = $(e.target),\n            currentTable = currentTarget.closest(\"table\")[0],\n            stacked = that._isStackedMode();\n\n        if (!stacked && isInput && currentTarget.find(kendo.roleSelector(\"filtercell\")).length) {\n            this._setCurrent(currentTarget, null, null, true);\n            return;\n        }\n\n        if (currentTable !== table[0] && currentTable !== table[1] && currentTable !== headerTable[0] && currentTable !== headerTable[1]) {\n            return;\n        }\n\n        if (target.is(CARET_ALT_RIGHT + \",\" + CARET_ALT_DOWN + \",\" + \"[ref='expand-detail-button'], [ref='collapse-detail-button']\")) {\n            return;\n        }\n\n        if (this.options.navigatable) {\n            this._setCurrent(currentTarget, false, preventScroll);\n        }\n\n        if (isHeader || !isInput) {\n            setTimeout(function() {\n                var activeEl = $(kendo._activeElement());\n                if ((activeEl.hasClass(\"k-widget\") || activeEl.hasClass(\"k-dropdownlist\") || activeEl.is(\".k-upload .k-upload-button\")) && !activeEl.hasClass(\"k-grid-pager\") || activeEl.hasClass(\"k-select-checkbox\")) {\n                    return;\n                }\n\n                //Only if input element is not selected yet and it is not descendant of the grid's table\n                if (that.table && (activeEl.is(CHECKBOXINPUT) || !isInputElement(kendo._activeElement()) || !$.contains(currentTable, kendo._activeElement()))) {\n                    //DOMElement.focus() only for header, because IE doesn't really focus the table\n                    focusTable(that.table[0], true);\n                }\n            });\n        }\n\n        if (isHeader && !kendo.support.touch) {\n            e.preventDefault(); //if any problem occurs, call preventDefault only for the clicked header links\n        }\n    }\n\n    function leftMostPosition(element, rtl) {\n        if (!rtl) {\n            return 0;\n        }\n\n        var result = 0;\n\n        if (kendo.support.browser.webkit) {\n            result = element.width();\n        }\n\n        return result;\n    }\n\n    function parseVirtualSettings(options) {\n        var asLowerString;\n\n        if (typeof options === \"string\") {\n            asLowerString = options.toLowerCase();\n            if (asLowerString === \"true\") {\n                return {\n                    rows: true\n                };\n            } else {\n                return {\n                    rows: asLowerString.indexOf(\"rows\") > -1,\n                    columns: asLowerString.indexOf(\"columns\") > -1\n                };\n            }\n\n        } else if (options === true) {\n            return {\n                rows: true\n            };\n        }\n    }\n\n    function isElementVisibleInWrapper(wrapper, element) {\n        var offsetTop;\n        var halfHeight;\n\n        if (!wrapper) {\n            return false;\n        }\n\n        element = $(element);\n\n        if (element[0] && contains(wrapper[0], element[0])) {\n            offsetTop = element.offset().top - wrapper.offset().top;\n            halfHeight = element.outerHeight() / 2;\n\n            if ((offsetTop >= 0 || math.abs(offsetTop) <= halfHeight) && (math.floor(offsetTop + halfHeight) <= wrapper.height())) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    function isInEdit(cell) {\n        return cell &&\n            (cell.hasClass(\"k-edit-cell\") ||\n                cell.parent().hasClass(\"k-grid-edit-row\") || cell.hasClass(\"k-grid-stack-edit-cell\"));\n    }\n\n    function groupHtmlBuilder({ groupHeaderColumnTemplate, groupHeaderBuilder, colspan, templateColspan, groupData, level, text, expanded, group, isGroupPaged, stacked }) {\n        var html;\n\n        if (groupHeaderColumnTemplate) {\n            html = groupHeaderColumnTemplate(extend({}, groupData, {\n                groupCells: level,\n                colspan: templateColspan,\n                text: text,\n                expanded: expanded,\n                isRtl: isRtl,\n                uid: group.uid\n            }));\n        } else {\n            html = groupHeaderBuilder(colspan, level, text, expanded, group.uid, isGroupPaged, isRtl, stacked);\n        }\n\n        return html;\n    }\n\n    function groupCellBuilder(headerTemplateIndex, stacked, aggregates) {\n        return ({ colspan, text, expanded, isRtl }) => {\n            let length = (colspan + headerTemplateIndex) > 0 ? colspan + headerTemplateIndex : 0;\n            let collapsedClass = `caret-alt-${isRtl ? 'left' : 'right'}`;\n            return `<td class=\"k-table-td\" colspan=\"${colspan + headerTemplateIndex}\">` +\n                '<p class=\"k-reset\">' +\n                kendo.ui.icon($(`<a href=\"\\\\#\" tabindex=\"-1\" ${ARIA_LABEL}=\"${(expanded ? COLLAPSE : EXPAND)}\"></a>`), { icon: (expanded ? 'caret-alt-down' : collapsedClass) }) + text +\n                `</p>${aggregates || \"\"}</td>${!stacked ? new Array(length).join(\"<td hidden group-header-spanned-hidden></td>\") : \"\"}`;\n        };\n    }\n\n    function groupCellLockedContentBuilder(headerTemplateIndex) {\n        return '<td class=\"k-table-td\" colspan=\"' + headerTemplateIndex + '\">' +\n            `<p class=\"k-reset\">&nbsp;</p></td>${new Array(headerTemplateIndex).join(\"<td hidden group-header-spanned-hidden></td>\")}`;\n    }\n\n    function groupRowBuilder(colspan, level, text, expanded, uid, includeAdditionalData, isRtl, stacked, aggregates) {\n        return '<tr ' + (includeAdditionalData ? 'data-group-uid=\"' + uid + '\"' : '') + 'class=\"k-table-group-row k-grouping-row k-table-row\">' + groupCells(level) +\n            '<td class=\"k-table-td\" colspan=\"' + colspan + '\" aria-expanded=\"' + !!expanded + '\">' +\n            '<p class=\"k-reset\">' +\n            kendo.ui.icon($('<a href=\"#\" tabindex=\"-1\" ' + ARIA_LABEL + '=\"' + (expanded ? COLLAPSE : EXPAND) + '\"></a>'), { icon: (expanded ? 'caret-alt-down' : `caret-alt-${isRtl ? 'left' : 'right'}`) }) + text +\n            `</p>${aggregates || \"\"}</td>${!stacked ? new Array(colspan).join(\"<td hidden group-header-spanned-hidden></td>\") : \"\"}</tr>`;\n    }\n\n    function groupRowLockedContentBuilder(colspan) {\n        return '<tr class=\"k-table-group-row k-grouping-row k-table-row\">' +\n            '<td class=\"k-table-td\" colspan=\"' + colspan + '\" aria-expanded=\"true\">' +\n            `<p class=\"k-reset\">&nbsp;</p></td>${new Array(colspan).join(\"<td hidden group-header-spanned-hidden></td>\")}</tr>`;\n    }\n\n    function toggleRow(row, visible) {\n        row = $(row)[0];\n        if (visible) {\n            row.style.display = \"\";\n        } else {\n            row.style.display = NONE;\n        }\n    }\n\n    function htmlEncode(value, backslashEscapeQuotes) {\n        var ampRegExp = /&/g,\n            ltRegExp = /</g,\n            quoteRegExp = /\"/g,\n            aposRegExp = /'/g,\n            gtRegExp = />/g;\n\n        return (\"\" + value)\n            .replace(ampRegExp, \"&amp;\")\n            .replace(ltRegExp, \"&lt;\")\n            .replace(gtRegExp, \"&gt;\")\n            .replace(quoteRegExp, function(match) {\n                if (backslashEscapeQuotes) {\n                    return \"\\\\\" + match;\n                }\n                return \"&quot;\";\n            })\n            .replace(aposRegExp, \"&#39;\");\n    }\n\n    function isEmptyString(value) {\n        return !/\\S/.test(value);\n    }\n\n    function getTitle(field, columns) {\n        return columns.filter(function(col) {\n            return col.field === field;\n        })[0].title || field;\n    }\n\n    function exportDataSort(a, b) {\n        return this.dataSource.indexOf(this.dataSource.getByUid(a.uid)) - this.dataSource.indexOf(this.dataSource.getByUid(b.uid));\n    }\n\n    function isExcelExportableColumn(column) {\n        return !(column.exportable === false || (column.exportable && column.exportable.excel === false));\n    }\n\n    ui.plugin(Grid);\n    ui.plugin(VirtualScrollable);\n\n    extend(kendo.ui.grid, {\n        defaultBodyContextMenu: defaultBodyContextMenu,\n        defaultHeadContextMenu: defaultHeadContextMenu,\n        defaultGroupsContextMenu: defaultGroupsContextMenu\n    });\n\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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EAqBf,IAAI,EAAkB,CAClB,YAAa,CACT,KAAM,GACN,KAAM,WACN,QAAS,OACT,UAAW,2BACX,WAAY,UACf,CACD,OAAQ,CACJ,KAAM,MACN,UAAW,aACX,UAAW,WACd,CACD,OAAQ,CACJ,KAAM,iBACN,UAAW,wBACX,UAAW,aACd,CACD,KAAM,CACF,KAAM,eACN,UAAW,sBACX,UAAW,YACd,CACD,UAAW,CACP,KAAM,aACT,CACD,QAAS,CACL,KAAM,SACN,UAAW,wBACX,UAAW,YACd,CACD,KAAM,CACF,KAAM,OACN,UAAW,sBACX,UAAW,aACd,CACD,OAAQ,CACJ,KAAM,OACN,UAAW,sBACX,UAAW,WACd,CACD,WAAY,CACR,KAAM,SACN,UAAW,wBACX,UAAW,aACd,CACD,MAAO,CACH,KAAM,kBACN,UAAW,eACX,UAAW,iBACd,CACD,IAAK,CACD,KAAM,gBACN,UAAW,aACX,UAAW,eACd,CACD,OAAQ,CACJ,KAAM,YACN,UAAW,gBACd,CACD,QAAS,CACL,KAAM,UACN,KAAM,SACN,KAAM,UACN,SAAU,OACV,SAAU,QACV,UAAW,qBACX,KAAM,CACF,gBAAiB,OACpB,CACJ,CACD,cAAe,CACX,KAAM,UACN,KAAM,SACN,KAAM,UACN,SAAU,QACV,UAAW,wBACX,KAAM,CACF,gBAAiB,OACpB,CACJ,CACD,KAAM,CACF,KAAM,OACN,KAAM,SACN,KAAM,cACN,SAAU,QACV,UAAW,mBACX,KAAM,CACF,gBAAiB,OACpB,CACD,YAAa,GAChB,CACD,OAAQ,CACJ,KAAM,SACN,KAAM,SACN,KAAM,SACN,SAAU,QACV,UAAW,qBACX,KAAM,CACF,gBAAiB,OACpB,CACD,YAAa,GAChB,CACD,MAAO,CACH,KAAM,QACN,KAAM,SACN,KAAM,QACN,SAAU,QACV,UAAW,oBACX,KAAM,CACF,gBAAiB,OACpB,CACD,YAAa,GAChB,CACD,SAAU,CACN,SAAU,QACV,aAAgB,yDACnB,CACJ,CAED,IAAM,GAAgC,CAClC,SAAY,OACZ,cAAiB,OACjB,WAAc,SACd,gBAAmB,SACnB,UAAa,QACb,eAAkB,Q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"}