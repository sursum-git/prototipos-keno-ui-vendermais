{"version":3,"file":"kendo.draganddrop.min.js","names":[],"sources":["../../src/kendo.draganddrop.js"],"sourcesContent":["import \"./kendo.core.js\";\nimport \"./kendo.userevents.js\";\n\nexport const __meta__ = {\n    id: \"draganddrop\",\n    name: \"Drag & drop\",\n    category: \"framework\",\n    description: \"Drag & drop functionality for any DOM element.\",\n    depends: [ \"core\", \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        document = window.document,\n        $window = $(window),\n        Class = kendo.Class,\n        Widget = kendo.ui.Widget,\n        Observable = kendo.Observable,\n        UserEvents = kendo.UserEvents,\n        ClickMoveClick = kendo.ClickMoveClick,\n        extend = $.extend,\n        getOffset = kendo.getOffset,\n        draggables = {},\n        dropTargets = {},\n        dropAreas = {},\n        lastDropTarget,\n        elementUnderCursor = kendo.elementUnderCursor,\n        KEYUP = \"keyup\",\n        CHANGE = \"change\",\n\n        // Draggable events\n        DRAGSTART = \"dragstart\",\n        HOLD = \"hold\",\n        DRAG = \"drag\",\n        DRAGEND = \"dragend\",\n        DRAGCANCEL = \"dragcancel\",\n        HINTDESTROYED = \"hintDestroyed\",\n\n        // DropTarget events\n        DRAGENTER = \"dragenter\",\n        DRAGLEAVE = \"dragleave\",\n        DROP = \"drop\";\n\n    function contains(parent, child) {\n        try {\n            return $.contains(parent, child) || parent == child;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function numericCssPropery(element, property) {\n        return parseInt(element.css(property), 10) || 0;\n    }\n\n    function within(value, range) {\n        return Math.min(Math.max(value, range.min), range.max);\n    }\n\n    function containerBoundaries(container, element) {\n        var offset = getOffset(container),\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            minX = offset.left + numericCssPropery(container, \"borderLeftWidth\") + numericCssPropery(container, \"paddingLeft\"),\n            minY = offset.top + numericCssPropery(container, \"borderTopWidth\") + numericCssPropery(container, \"paddingTop\"),\n            maxX = minX + container.width() - outerWidth(element, true),\n            maxY = minY + container.height() - outerHeight(element, true);\n\n        return {\n            x: { min: minX, max: maxX },\n            y: { min: minY, max: maxY }\n        };\n    }\n\n    function checkTarget(target, targets, areas) {\n        var theTarget, theFilter, i = 0,\n            targetLen = targets && targets.length,\n            areaLen = areas && areas.length;\n\n        while (target && target.parentNode) {\n            for (i = 0; i < targetLen; i ++) {\n                theTarget = targets[i];\n                if (theTarget.element[0] === target) {\n                    return { target: theTarget, targetElement: target };\n                }\n            }\n\n            for (i = 0; i < areaLen; i ++) {\n                theFilter = areas[i];\n                if ($.contains(theFilter.element[0], target) && support.matchesSelector.call(target, theFilter.options.filter)) {\n                    return { target: theFilter, targetElement: target };\n                }\n            }\n\n            target = target.parentNode;\n        }\n\n        return undefined;\n    }\n\n    var TapCapture = Observable.extend({\n        init: function(element, options) {\n            var that = this,\n                domElement = element[0];\n\n            that.capture = false;\n\n            if (domElement.addEventListener) {\n                $.each(kendo.eventMap.down.split(\" \"), function() {\n                    domElement.addEventListener(this, that._press.bind(that), true);\n                });\n                $.each(kendo.eventMap.up.split(\" \"), function() {\n                    domElement.addEventListener(this, that._release.bind(that), true);\n                });\n            } else {\n                $.each(kendo.eventMap.down.split(\" \"), function() {\n                    domElement.attachEvent(this, that._press.bind(that));\n                });\n                $.each(kendo.eventMap.up.split(\" \"), function() {\n                    domElement.attachEvent(this, that._release.bind(that));\n                });\n            }\n\n            Observable.fn.init.call(that);\n\n            that.bind([\"press\", \"release\"], options || {});\n        },\n\n        captureNext: function() {\n            this.capture = true;\n        },\n\n        cancelCapture: function() {\n            this.capture = false;\n        },\n\n        _press: function(e) {\n            var that = this;\n            that.trigger(\"press\");\n            if (that.capture) {\n                e.preventDefault();\n            }\n        },\n\n        _release: function(e) {\n            var that = this;\n            that.trigger(\"release\");\n\n            if (that.capture) {\n                e.preventDefault();\n                that.cancelCapture();\n            }\n        }\n    });\n\n    var PaneDimension = Observable.extend({\n        init: function(options) {\n            var that = this;\n            Observable.fn.init.call(that);\n\n            that.forcedEnabled = false;\n\n            $.extend(that, options);\n\n            that.scale = 1;\n\n            if (that.horizontal) {\n                that.measure = \"offsetWidth\";\n                that.scrollSize = \"scrollWidth\";\n                that.axis = \"x\";\n            } else {\n                that.measure = \"offsetHeight\";\n                that.scrollSize = \"scrollHeight\";\n                that.axis = \"y\";\n            }\n        },\n\n        makeVirtual: function() {\n            $.extend(this, {\n                virtual: true,\n                forcedEnabled: true,\n                _virtualMin: 0,\n                _virtualMax: 0\n            });\n        },\n\n        virtualSize: function(min, max) {\n            if (this._virtualMin !== min || this._virtualMax !== max) {\n                this._virtualMin = min;\n                this._virtualMax = max;\n                this.update();\n            }\n        },\n\n        outOfBounds: function(offset) {\n            return offset > this.max || offset < this.min;\n        },\n\n        forceEnabled: function() {\n            this.forcedEnabled = true;\n        },\n\n        getSize: function() {\n            return this.container[0][this.measure];\n        },\n\n        getTotal: function() {\n            return this.element[0][this.scrollSize];\n        },\n\n        rescale: function(scale) {\n            this.scale = scale;\n        },\n\n        update: function(silent) {\n            var that = this,\n                total = that.virtual ? that._virtualMax : that.getTotal(),\n                scaledTotal = total * that.scale,\n                size = that.getSize();\n\n            if (total === 0 && !that.forcedEnabled) {\n                return; // we are not visible.\n            }\n\n            that.max = that.virtual ? -that._virtualMin : 0;\n            that.size = size;\n            that.total = scaledTotal;\n            that.min = Math.min(that.max, size - scaledTotal);\n            that.minScale = size / total;\n            that.centerOffset = (scaledTotal - size) / 2;\n\n            that.enabled = that.forcedEnabled || (scaledTotal > size);\n\n            if (!silent) {\n                that.trigger(CHANGE, that);\n            }\n        }\n    });\n\n    var PaneDimensions = Observable.extend({\n        init: function(options) {\n            var that = this;\n\n            Observable.fn.init.call(that);\n\n            that.x = new PaneDimension(extend({ horizontal: true }, options));\n            that.y = new PaneDimension(extend({ horizontal: false }, options));\n            that.container = options.container;\n            that.forcedMinScale = options.minScale;\n            that.maxScale = options.maxScale || 100;\n\n            that.bind(CHANGE, options);\n        },\n\n        rescale: function(newScale) {\n            this.x.rescale(newScale);\n            this.y.rescale(newScale);\n            this.refresh();\n        },\n\n        centerCoordinates: function() {\n            return { x: Math.min(0, -this.x.centerOffset), y: Math.min(0, -this.y.centerOffset) };\n        },\n\n        refresh: function() {\n            var that = this;\n            that.x.update();\n            that.y.update();\n            that.enabled = that.x.enabled || that.y.enabled;\n            that.minScale = that.forcedMinScale || Math.min(that.x.minScale, that.y.minScale);\n            that.fitScale = Math.max(that.x.minScale, that.y.minScale);\n            that.trigger(CHANGE);\n        }\n    });\n\n    var PaneAxis = Observable.extend({\n        init: function(options) {\n            var that = this;\n            extend(that, options);\n            Observable.fn.init.call(that);\n        },\n\n        outOfBounds: function() {\n            return this.dimension.outOfBounds(this.movable[this.axis]);\n        },\n\n        dragMove: function(delta) {\n            var that = this,\n                dimension = that.dimension,\n                axis = that.axis,\n                movable = that.movable,\n                position = movable[axis] + delta;\n\n            if (!dimension.enabled) {\n                return;\n            }\n\n            if ((position < dimension.min && delta < 0) || (position > dimension.max && delta > 0)) {\n                delta *= that.resistance;\n            }\n\n            movable.translateAxis(axis, delta);\n            that.trigger(CHANGE, that);\n        }\n    });\n\n    var Pane = Class.extend({\n\n        init: function(options) {\n            var that = this,\n                x,\n                y,\n                resistance,\n                movable;\n\n            extend(that, { elastic: true }, options);\n\n            resistance = that.elastic ? 0.5 : 0;\n            movable = that.movable;\n\n            that.x = x = new PaneAxis({\n                axis: \"x\",\n                dimension: that.dimensions.x,\n                resistance: resistance,\n                movable: movable\n            });\n\n            that.y = y = new PaneAxis({\n                axis: \"y\",\n                dimension: that.dimensions.y,\n                resistance: resistance,\n                movable: movable\n            });\n\n            that.userEvents.bind([\"press\", \"move\", \"end\", \"gesturestart\", \"gesturechange\"], {\n                gesturestart: function(e) {\n                    that.gesture = e;\n                    that.offset = that.dimensions.container.offset();\n                },\n\n                press: function(e) {\n                    if ($(e.event.target).closest(\"a\").is(\"[data-navigate-on-press=true]\")) {\n                        e.sender.cancel();\n                    }\n                },\n\n                gesturechange: function(e) {\n                    var previousGesture = that.gesture,\n                        previousCenter = previousGesture.center,\n\n                        center = e.center,\n\n                        scaleDelta = e.distance / previousGesture.distance,\n\n                        minScale = that.dimensions.minScale,\n                        maxScale = that.dimensions.maxScale,\n                        coordinates;\n\n                    if (movable.scale <= minScale && scaleDelta < 1) {\n                        // Resist shrinking. Instead of shrinking from 1 to 0.5, it will shrink to 0.5 + (1 /* minScale */ - 0.5) * 0.8 = 0.9;\n                        scaleDelta += (1 - scaleDelta) * 0.8;\n                    }\n\n                    if (movable.scale * scaleDelta >= maxScale) {\n                        scaleDelta = maxScale / movable.scale;\n                    }\n\n                    var offsetX = movable.x + that.offset.left,\n                        offsetY = movable.y + that.offset.top;\n\n                    coordinates = {\n                        x: (offsetX - previousCenter.x) * scaleDelta + center.x - offsetX,\n                        y: (offsetY - previousCenter.y) * scaleDelta + center.y - offsetY\n                    };\n\n                    movable.scaleWith(scaleDelta);\n\n                    x.dragMove(coordinates.x);\n                    y.dragMove(coordinates.y);\n\n                    that.dimensions.rescale(movable.scale);\n                    that.gesture = e;\n                    e.preventDefault();\n                },\n\n                move: function(e) {\n                    if (e.event.target.tagName.match(/textarea|input/i)) {\n                        return;\n                    }\n\n                    if (x.dimension.enabled || y.dimension.enabled) {\n                        x.dragMove(e.x.delta);\n                        y.dragMove(e.y.delta);\n                        e.preventDefault();\n                    } else {\n                        e.touch.skip();\n                    }\n                },\n\n                end: function(e) {\n                    e.preventDefault();\n                }\n            });\n        }\n    });\n\n    var TRANSFORM_STYLE = \"transform\",\n        translate;\n\n\n    if (support.hasHW3D) {\n        translate = function(x, y, scale) {\n            return \"translate3d(\" + x + \"px,\" + y + \"px,0) scale(\" + scale + \")\";\n        };\n    } else {\n        translate = function(x, y, scale) {\n            return \"translate(\" + x + \"px,\" + y + \"px) scale(\" + scale + \")\";\n        };\n    }\n\n    var Movable = Observable.extend({\n        init: function(element) {\n            var that = this;\n\n            Observable.fn.init.call(that);\n\n            that.element = $(element);\n            that.element[0].style.webkitTransformOrigin = \"left top\";\n            that.x = 0;\n            that.y = 0;\n            that.scale = 1;\n            that._saveCoordinates(translate(that.x, that.y, that.scale));\n        },\n\n        translateAxis: function(axis, by) {\n            this[axis] += by;\n            this.refresh();\n        },\n\n        scaleTo: function(scale) {\n            this.scale = scale;\n            this.refresh();\n        },\n\n        scaleWith: function(scaleDelta) {\n            this.scale *= scaleDelta;\n            this.refresh();\n        },\n\n        translate: function(coordinates) {\n            this.x += coordinates.x;\n            this.y += coordinates.y;\n            this.refresh();\n        },\n\n        moveAxis: function(axis, value) {\n            this[axis] = value;\n            this.refresh();\n        },\n\n        moveTo: function(coordinates) {\n            extend(this, { x: coordinates.x, y: coordinates.y });\n            this.refresh();\n        },\n\n        refresh: function() {\n            var that = this,\n                x = that.x,\n                y = that.y,\n                newCoordinates;\n\n            if (that.round) {\n                x = Math.round(x);\n                y = Math.round(y);\n            }\n\n            newCoordinates = translate(x, y, that.scale);\n\n            if (newCoordinates != that.coordinates) {\n                if (kendo.support.browser.msie && kendo.support.browser.version < 10) {\n                    that.element[0].style.position = \"absolute\";\n                    that.element[0].style.left = that.x + \"px\";\n                    that.element[0].style.top = that.y + \"px\";\n\n                } else {\n                    that.element[0].style[TRANSFORM_STYLE] = newCoordinates;\n                }\n                that._saveCoordinates(newCoordinates);\n                that.trigger(CHANGE);\n            }\n        },\n\n        _saveCoordinates: function(coordinates) {\n            this.coordinates = coordinates;\n        }\n    });\n\n    function destroyDroppable(collection, widget) {\n        var groupName = widget.options.group,\n        droppables = collection[groupName],\n        i;\n\n        Widget.fn.destroy.call(widget);\n\n        if (droppables.length > 1) {\n            for (i = 0; i < droppables.length; i++) {\n                if (droppables[i] == widget) {\n                    droppables.splice(i, 1);\n                    break;\n                }\n            }\n        } else {\n            droppables.length = 0; // WTF, porting this from the previous destroyGroup\n            delete collection[groupName];\n        }\n    }\n\n    var DropTarget = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            var group = that.options.group;\n\n            if (!(group in dropTargets)) {\n                dropTargets[group] = [ that ];\n            } else {\n                dropTargets[group].push( that );\n            }\n        },\n\n        events: [\n            DRAGENTER,\n            DRAGLEAVE,\n            DROP\n        ],\n\n        options: {\n            name: \"DropTarget\",\n            group: \"default\"\n        },\n\n        destroy: function() {\n            destroyDroppable(dropTargets, this);\n        },\n\n        _trigger: function(eventName, e) {\n            var that = this,\n                draggable = draggables[that.options.group];\n\n            if (draggable) {\n                return that.trigger(eventName, extend({}, e.event, {\n                           draggable: draggable,\n                           dropTarget: e.dropTarget\n                       }));\n            }\n        },\n\n        _over: function(e) {\n            this._trigger(DRAGENTER, e);\n        },\n\n        _out: function(e) {\n            this._trigger(DRAGLEAVE, e);\n        },\n\n        _drop: function(e) {\n            var that = this,\n                draggable = draggables[that.options.group];\n\n            if (draggable) {\n                draggable.dropped = !that._trigger(DROP, e);\n            }\n        }\n    });\n\n    DropTarget.destroyGroup = function(groupName) {\n        var group = dropTargets[groupName] || dropAreas[groupName],\n            i;\n\n        if (group) {\n            for (i = 0; i < group.length; i++) {\n                Widget.fn.destroy.call(group[i]);\n            }\n\n            group.length = 0;\n            delete dropTargets[groupName];\n            delete dropAreas[groupName];\n        }\n    };\n\n    DropTarget._cache = dropTargets;\n\n    var DropTargetArea = DropTarget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            var group = that.options.group;\n\n            if (!(group in dropAreas)) {\n                dropAreas[group] = [ that ];\n            } else {\n                dropAreas[group].push( that );\n            }\n        },\n\n        destroy: function() {\n            destroyDroppable(dropAreas, this);\n        },\n\n        options: {\n            name: \"DropTargetArea\",\n            group: \"default\",\n            filter: null\n        }\n    });\n\n    var Draggable = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._activated = false;\n\n            if (this.options.clickMoveClick) {\n                that.clickMoveClick = new ClickMoveClick(that.element, {\n                    global: true,\n                    filter: that.options.filter,\n                    start: that._startClickMoveClick.bind(that),\n                    move: that._drag.bind(that),\n                    end: that._end.bind(that),\n                    cancel: that._onCancel.bind(that)\n                });\n            }\n\n            that.userEvents = new UserEvents(that.element, {\n                global: true,\n                allowSelection: true,\n                filter: that.options.filter,\n                threshold: that.options.distance,\n                start: that._start.bind(that),\n                hold: that._hold.bind(that),\n                move: that._drag.bind(that),\n                end: that._end.bind(that),\n                cancel: that._onCancel.bind(that),\n                select: that._select.bind(that),\n                press: that._press.bind(that),\n            });\n\n            if (kendo.support.touch && !options.allowTouchActions) {\n                that.element.find(that.options.filter).css('touch-action', 'none');\n            }\n\n            that._afterEndHandler = that._afterEnd.bind(that);\n            that._captureEscape = that._captureEscape.bind(that);\n        },\n\n        events: [\n            HOLD,\n            DRAGSTART,\n            DRAG,\n            DRAGEND,\n            DRAGCANCEL,\n            HINTDESTROYED\n        ],\n\n        options: {\n            name: \"Draggable\",\n            distance: ( kendo.support.touch ? 0 : 5),\n            group: \"default\",\n            cursorOffset: null,\n            axis: null,\n            container: null,\n            filter: null,\n            ignore: null,\n            holdToDrag: false,\n            showHintOnHold: false,\n            autoScroll: false,\n            dropped: false,\n            clickMoveClick: false,\n            preventOsHoldFeatures: false,\n            allowTouchActions: false,\n        },\n\n        cancelHold: function() {\n            this._activated = false;\n        },\n\n        _captureEscape: function(e) {\n            var that = this;\n\n            if (e.keyCode === kendo.keys.ESC) {\n                that.userEvents.cancel();\n\n                if (that.clickMoveClick) {\n                    that.clickMoveClick.cancel();\n                }\n\n                this._trigger(DRAGCANCEL, { event: e });\n            }\n        },\n\n        _updateHint: function(e) {\n            var that = this,\n                coordinates,\n                options = that.options,\n                boundaries = that.boundaries,\n                axis = options.axis,\n                cursorOffset = that.options.cursorOffset,\n                updateHint = options.updateHint;\n\n            if (cursorOffset) {\n               coordinates = { left: e.x.location + cursorOffset.left, top: e.y.location + cursorOffset.top };\n            } else {\n                if (e.x.delta !== 0 || e.y.delta !== 0) {\n                    that.hintOffset.left += e.x.delta;\n                    that.hintOffset.top += e.y.delta;\n                    coordinates = $.extend({}, that.hintOffset);\n                } else {\n                    that.hintOffset.left = e.x.startLocation + e.x.initialDelta;\n                    that.hintOffset.top = e.y.startLocation + e.y.initialDelta;\n                    coordinates = $.extend({}, that.hintOffset);\n                }\n            }\n\n            if (boundaries) {\n                coordinates.top = within(coordinates.top, boundaries.y);\n                coordinates.left = within(coordinates.left, boundaries.x);\n            }\n\n            if (axis === \"x\") {\n                delete coordinates.top;\n            } else if (axis === \"y\") {\n                delete coordinates.left;\n            }\n\n            if (updateHint && kendo.isFunction(updateHint)) {\n               return $(updateHint.call(that, that.hint, e));\n            }\n\n            that.hint.css(coordinates);\n        },\n\n        _shouldIgnoreTarget: function(target) {\n            var ignoreSelector = this.options.ignore;\n            return ignoreSelector && $(target).is(ignoreSelector);\n        },\n\n        _select: function(e) {\n            if (!this._shouldIgnoreTarget(e.event.target)) {\n                e.preventDefault();\n            }\n        },\n\n        _startClickMoveClick: function(e) {\n            this._activated = true;\n\n            this._start(e);\n        },\n\n        _hint: function() {\n            var that = this,\n                hint = that.options.hint;\n\n            if (hint) {\n                if (that.hint) {\n                    that.hint.stop(true, true).remove();\n                }\n\n                that.hint = kendo.isFunction(hint) ? $(hint.call(that, that.currentTarget)) : hint;\n\n                var offset = getOffset(that.currentTarget);\n                that.hintOffset = offset;\n\n                that.hint.css({\n                    position: \"absolute\",\n                    zIndex: 20000, // the Window's z-index is 10000 and can be raised because of z-stacking\n                    left: offset.left,\n                    top: offset.top,\n                })\n                .appendTo(document.body);\n            }\n        },\n\n        _start: function(e) {\n            var that = this,\n                options = that.options,\n                container = options.container ? $(options.container) : null,\n                hint = options.hint;\n\n            if (this._shouldIgnoreTarget(e.touch.initialTouch) || (options.holdToDrag && !that._activated)) {\n                that.userEvents.cancel();\n                return;\n            }\n\n            that.currentTarget = e.target;\n            that.currentTargetOffset = getOffset(that.currentTarget);\n\n            if (hint) {\n                that._hint();\n            }\n\n            draggables[options.group] = that;\n\n            that.dropped = false;\n\n            if (container) {\n                that.boundaries = containerBoundaries(container, that.hint);\n            }\n\n            $(document).on(KEYUP, that._captureEscape);\n\n            if (that._trigger(DRAGSTART, e)) {\n                that.userEvents.cancel();\n\n                if (that.clickMoveClick) {\n                    that.clickMoveClick.cancel();\n                }\n\n                that._afterEnd();\n            }\n\n            that.userEvents.capture();\n        },\n\n        _hold: function(e) {\n            this.currentTarget = e.target;\n\n            if (this._trigger(HOLD, e)) {\n                this.userEvents.cancel();\n            } else {\n                this._activated = true;\n                if (this.options.showHintOnHold) {\n                    this._hint();\n                }\n            }\n        },\n\n        _drag: function(e) {\n            e.preventDefault();\n\n            var cursorElement = this._elementUnderCursor(e);\n\n            if (this.options.autoScroll && this._cursorElement !== cursorElement) {\n                this._scrollableParent = findScrollableParent(cursorElement);\n                this._cursorElement = cursorElement;\n            }\n\n            this._lastEvent = e;\n            this._processMovement(e, cursorElement);\n\n            if (this.options.autoScroll) {\n                // chrome seems to trigger mousemove when mouse is moved outside of the window (over the Chrome), too.\n                if (this._scrollableParent[0]) {\n                    var velocity = autoScrollVelocity(e.x.location, e.y.location, scrollableViewPort(this._scrollableParent));\n\n\n                    this._scrollCompenstation = $.extend({}, this.hintOffset);\n                    this._scrollVelocity = velocity;\n\n                    if (velocity.y === 0 && velocity.x === 0) {\n                        clearInterval(this._scrollInterval);\n                        this._scrollInterval = null;\n                    } else if (!this._scrollInterval) {\n                        this._scrollInterval = setInterval(this._autoScroll.bind(this), 50);\n                    }\n                }\n            }\n\n            if (this.hint) {\n                this._updateHint(e);\n            }\n        },\n\n        _processMovement: function(e, cursorElement) {\n            this._withDropTarget(cursorElement, function(target, targetElement) {\n                if (!target) {\n                    if (lastDropTarget) {\n                        lastDropTarget._trigger(DRAGLEAVE, extend(e, { dropTarget: $(lastDropTarget.targetElement) }));\n                        lastDropTarget = null;\n                    }\n                    return;\n                }\n\n                if (lastDropTarget) {\n                    if (targetElement === lastDropTarget.targetElement) {\n                        return;\n                    }\n\n                    lastDropTarget._trigger(DRAGLEAVE, extend(e, { dropTarget: $(lastDropTarget.targetElement) }));\n                }\n\n                target._trigger(DRAGENTER, extend(e, { dropTarget: $(targetElement) }));\n                lastDropTarget = extend(target, { targetElement: targetElement });\n            });\n\n            this._trigger(DRAG, extend(e, { dropTarget: lastDropTarget, elementUnderCursor: cursorElement }));\n        },\n\n        _autoScroll: function() {\n            var parent = this._scrollableParent[0],\n                velocity = this._scrollVelocity,\n                compensation = this._scrollCompenstation;\n\n            if (!parent) {\n                return;\n            }\n\n            var cursorElement = this._elementUnderCursor(this._lastEvent);\n            this._processMovement(this._lastEvent, cursorElement);\n\n            var yIsScrollable, xIsScrollable;\n\n            var isRootNode = parent === scrollableRoot()[0];\n\n            if (isRootNode) {\n                yIsScrollable = document.body.scrollHeight > $window.height();\n                xIsScrollable = document.body.scrollWidth > $window.width();\n            } else {\n                yIsScrollable = parent.offsetHeight <= parent.scrollHeight;\n                xIsScrollable = parent.offsetWidth <= parent.scrollWidth;\n            }\n\n            var yDelta = parent.scrollTop + velocity.y;\n            var yInBounds = yIsScrollable && yDelta > 0 && yDelta < parent.scrollHeight;\n\n            var xDelta = parent.scrollLeft + velocity.x;\n            var xInBounds = xIsScrollable && xDelta > 0 && xDelta < parent.scrollWidth;\n\n            if (yInBounds) {\n                parent.scrollTop += velocity.y;\n            } else if (yIsScrollable && yDelta < 0) {\n                parent.scrollTop = 0;\n            }\n\n            if (xInBounds) {\n                parent.scrollLeft += velocity.x;\n            } else if (xIsScrollable && xDelta < 0) {\n                parent.scrollLeft = 0;\n            }\n\n            if (this.hint && isRootNode && (xInBounds || yInBounds)) {\n                if (yInBounds) {\n                    compensation.top += velocity.y;\n                }\n\n                if (xInBounds) {\n                    compensation.left += velocity.x;\n                }\n\n                this.hint.css(compensation);\n            }\n        },\n\n        _press: function(ev) {\n            if (this.options.preventOsHoldFeatures) {\n                ev.target.css('-webkit-user-select', 'none');\n                ev.target.attr('unselectable', 'on');\n                ev.target.one('contextmenu', (ev) => {\n                    ev.preventDefault();\n                });\n            }\n        },\n\n        _end: function(e) {\n            this._withDropTarget(this._elementUnderCursor(e), function(target, targetElement) {\n                if (target) {\n                    target._drop(extend({}, e, { dropTarget: $(targetElement) }));\n                    lastDropTarget = null;\n                }\n            });\n\n            clearInterval(this._scrollInterval);\n            this._scrollInterval = null;\n            this._cancel(this._trigger(DRAGEND, e));\n        },\n\n        _onCancel: function(e) {\n            this._cancel();\n            this._trigger(DRAGCANCEL, { event: e });\n        },\n\n        _cancel: function(isDefaultPrevented) {\n            var that = this;\n\n            that._scrollableParent = null;\n            this._cursorElement = null;\n            clearInterval(this._scrollInterval);\n            that._activated = false;\n\n            if (that.hint && !that.dropped) {\n                setTimeout(function() {\n                    that.hint.stop(true, true);\n\n                    if (isDefaultPrevented) {\n                        that._afterEndHandler();\n                    } else {\n                        that.hint.animate(that.currentTargetOffset, \"fast\", that._afterEndHandler);\n                    }\n                }, 0);\n            } else {\n                that._afterEnd();\n            }\n        },\n\n        _trigger: function(eventName, e) {\n            var that = this;\n\n            return that.trigger(\n                eventName, extend(\n                {},\n                e.event,\n                {\n                    x: e.x,\n                    y: e.y,\n                    currentTarget: that.currentTarget,\n                    initialTarget: e.touch ? e.touch.initialTouch : null,\n                    dropTarget: e.dropTarget,\n                    elementUnderCursor: e.elementUnderCursor,\n                    clickMoveClick: e.clickMoveClick\n                }\n            ));\n        },\n\n        _elementUnderCursor: function(e) {\n            var target = elementUnderCursor(e),\n                hint = this.hint;\n\n            if (hint && contains(hint[0], target)) {\n                hint.hide();\n                target = elementUnderCursor(e);\n                // IE8 does not return the element in iframe from first attempt\n                if (!target) {\n                    target = elementUnderCursor(e);\n                }\n                hint.show();\n            }\n\n            return target;\n        },\n\n        _withDropTarget: function(element, callback) {\n            var result,\n                group = this.options.group,\n                targets = dropTargets[group],\n                areas = dropAreas[group];\n\n            if (targets && targets.length || areas && areas.length) {\n                result = checkTarget(element, targets, areas);\n\n                if (result) {\n                    callback(result.target, result.targetElement);\n                } else {\n                    callback();\n                }\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that._afterEnd();\n\n            that.userEvents.destroy();\n\n            if (that.clickMoveClick) {\n                that.clickMoveClick.destroy();\n            }\n\n            this._scrollableParent = null;\n            this._cursorElement = null;\n            clearInterval(this._scrollInterval);\n\n            that.currentTarget = null;\n        },\n\n        _afterEnd: function() {\n            var that = this;\n\n            if (that.hint) {\n                that.hint.remove();\n            }\n\n            delete draggables[that.options.group];\n\n            that.trigger(\"destroy\");\n            that.trigger(HINTDESTROYED);\n            $(document).off(KEYUP, that._captureEscape);\n        }\n    });\n\n    kendo.ui.plugin(DropTarget);\n    kendo.ui.plugin(DropTargetArea);\n    kendo.ui.plugin(Draggable);\n    kendo.TapCapture = TapCapture;\n    kendo.containerBoundaries = containerBoundaries;\n\n    extend(kendo.ui, {\n        Pane: Pane,\n        PaneDimensions: PaneDimensions,\n        Movable: Movable\n    });\n\n    function scrollableViewPort(element) {\n        var root = scrollableRoot()[0],\n            offset,\n            top,\n            left;\n\n        if (element[0] === root) {\n            top = root.scrollTop;\n            left = root.scrollLeft;\n\n            return {\n                top: top,\n                left: left,\n                bottom: top + $window.height(),\n                right: left + $window.width()\n            };\n        } else {\n            offset = element.offset();\n            offset.bottom = offset.top + element.height();\n            offset.right = offset.left + element.width();\n            return offset;\n        }\n    }\n\n    function scrollableRoot() {\n        return $(kendo.support.browser.edge || kendo.support.browser.safari ? document.body : document.documentElement);\n    }\n\n    function findScrollableParent(element) {\n        var root = scrollableRoot();\n\n        if (!element || element === document.body || element === document.documentElement) {\n            return root;\n        }\n\n        var parent = $(element)[0];\n\n        while (parent && !kendo.isScrollable(parent) && parent !== document.body) {\n            parent = parent.parentNode;\n        }\n\n        if (parent === document.body) {\n            return root;\n        }\n\n        return $(parent);\n    }\n\n    function autoScrollVelocity(mouseX, mouseY, rect) {\n        var velocity = { x: 0, y: 0 };\n\n        var AUTO_SCROLL_AREA = 50;\n\n        if (mouseX - rect.left < AUTO_SCROLL_AREA) {\n            velocity.x = -(AUTO_SCROLL_AREA - (mouseX - rect.left));\n        } else if (rect.right - mouseX < AUTO_SCROLL_AREA) {\n            velocity.x = AUTO_SCROLL_AREA - (rect.right - mouseX);\n        }\n\n        if (mouseY - rect.top < AUTO_SCROLL_AREA) {\n            velocity.y = -(AUTO_SCROLL_AREA - (mouseY - rect.top));\n        } else if (rect.bottom - mouseY < AUTO_SCROLL_AREA) {\n            velocity.y = AUTO_SCROLL_AREA - (rect.bottom - mouseY);\n        }\n\n        return velocity;\n    }\n\n    // export for testing\n    kendo.ui.Draggable.utils = {\n        autoScrollVelocity: autoScrollVelocity,\n        scrollableViewPort: scrollableViewPort,\n        findScrollableParent: findScrollableParent\n    };\n\n })(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}