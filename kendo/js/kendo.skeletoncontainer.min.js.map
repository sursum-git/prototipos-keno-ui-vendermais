{"version":3,"file":"kendo.skeletoncontainer.min.js","names":[],"sources":["../../src/kendo.skeletoncontainer.js"],"sourcesContent":["import \"./kendo.core.js\";\n\nexport const __meta__ = {\n    id: \"skeletoncontainer\",\n    name: \"SkeletonContainer\",\n    category: \"web\",\n    depends: [ \"core\"]\n};\n\n(function($) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        WAVE_ANIMATION = \"k-skeleton-wave\",\n        PULSE_ANIMATION = \"k-skeleton-pulse\",\n        WRAPPER_CLASS = \"k-skeleton-container\";\n\n    var SkeletonContainer = Widget.extend( {\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that.element = $(element).addClass(WRAPPER_CLASS);\n\n            that._setWrapperStyles();\n            that._initItems();\n            that._initTemplate();\n            that._aria();\n        },\n\n        options: {\n            name: \"SkeletonContainer\",\n            animation: \"pulse\",\n            grid: null,\n            template: null,\n            height: \"\",\n            width: \"\"\n        },\n\n        setOptions: function(options) {\n            kendo.deepExtend(this.options, options);\n            this.element.empty();\n            this.init(this.element, this.options);\n        },\n\n        getOptions: function() {\n            var result = $.extend(true, {}, this.options);\n\n            return result;\n        },\n\n        _aria: function() {\n            var element = this.element;\n\n            element.attr({\n                \"role\": \"alert\",\n                \"aria-live\": \"polite\",\n                \"aria-label\": kendo.ui.progress.messages.loading\n            });\n        },\n\n        _initItems: function() {\n            if (!this.options.grid) {\n                return;\n            }\n\n            var that = this;\n            var grid = that.options.grid;\n            var items = grid.items;\n            var shape;\n            var settings;\n            var item;\n\n            for (var i = 0; i < items.length; i++) {\n                settings = items[i];\n                item = $(\"<div></div>\");\n\n                shape = settings.shape.toLowerCase();\n\n                item\n                    .css({\n                        \"grid-column\": kendo.format(\"{0} / span {1}\",settings.colStart, settings.colSpan),\n                        \"grid-row\": kendo.format(\"{0} / span {1}\",settings.rowStart, settings.rowSpan)\n                    })\n\t\t\t\t\t.addClass(\"k-skeleton\")\n                    .addClass(kendo.format(\"k-skeleton-{0}\", shape === \"rectangle\" ? \"rect\" : shape));\n\n                item.appendTo(that.element);\n            }\n        },\n\n        _initTemplate: function() {\n            if (!this.options.template || this.options.grid) {\n                return;\n            }\n\n            var template = kendo.template(this.options.template)({});\n\n            template = template\n                    .replace(/data-animation/gi, \"k-skeleton\")\n                    .replace(/data-shape/gi, \"k-skeleton\")\n                    .replace(/k-skeleton-rectangle/gi, \"k-skeleton-rect\");\n\n            this.element.append(template);\n\n            this._addClasses();\n        },\n\n        _addClasses: function() {\n            var shapes = [\"circle\", \"rect\", \"text\"];\n            var animations = [\"wave\", \"pulse\"];\n\n            for (var i = 0; i < shapes.length; i++) {\n                this.element\n                    .find(\"[k-skeleton-\" + shapes[i] + \"]\")\n                    .removeAttr(\"k-skeleton-\" + shapes[i])\n                    .addClass(\"k-skeleton k-skeleton-\" + shapes[i] + \"\");\n            }\n\n            for (var j = 0; j < animations.length; j++) {\n                this.element\n                    .find(\"[k-skeleton-\" + animations[j] + \"]\")\n                    .removeAttr(\"k-skeleton-\" + animations[j])\n                    .addClass(\"k-skeleton-\" + animations[j] + \"\");\n            }\n        },\n\n        _setWrapperStyles: function() {\n            var that = this;\n            var options = that.options;\n            var grid = options.grid;\n            var animation = options.animation.toLowerCase();\n\n            if (grid) {\n                that.element\n                    .css({\n                        \"grid-template-columns\": kendo.format(\"repeat({0}, 1fr)\", grid.columns),\n                        \"grid-template-rows\": kendo.format(\"repeat({0}, 1fr)\", grid.rows),\n                        \"column-gap\": (grid.gap || {}).columns + \"px\",\n                        \"row-gap\": (grid.gap || {}).rows + \"px\"\n                    })\n                    .addClass(\"k-d-grid\");\n            }\n\n            that.element.css({\n                \"width\": typeof options.width === \"string\" ? options.width : options.width + \"px\",\n                \"height\": typeof options.height === \"string\" ? options.height : options.height + \"px\"\n            });\n\n            if (animation !== \"none\") {\n                that.element.addClass(animation == \"wave\" ? WAVE_ANIMATION : PULSE_ANIMATION);\n            }\n        }\n    });\n\n    ui.plugin(SkeletonContainer);\n\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}