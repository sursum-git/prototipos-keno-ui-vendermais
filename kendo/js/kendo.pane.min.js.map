{"version":3,"file":"kendo.pane.min.js","names":[],"sources":["../../src/kendo.pane.js"],"sourcesContent":["import \"./kendo.view.js\";\n\nexport const __meta__ = {\n    id: \"pane\",\n    name: \"Pane\",\n    category: \"web\",\n    description: \"Pane\",\n    depends: [ \"view\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        roleSelector = kendo.roleSelector,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        ViewEngine = kendo.ViewEngine,\n        View = kendo.View,\n\n        extend = $.extend,\n\n        NAVIGATE = \"navigate\",\n        VIEW_SHOW = \"viewShow\",\n        SAME_VIEW_REQUESTED = \"sameViewRequested\",\n        OS = kendo.support.mobileOS,\n        SKIP_TRANSITION_ON_BACK_BUTTON = OS.ios && !OS.appMode && OS.flatVersion >= 700,\n        BACK = \"#:back\";\n    var DOT = \".\";\n\n    var classNames = {\n        pane: \"k-pane\",\n        paneWrapper: \"k-pane-wrapper\",\n        collapsiblePane: \"k-collapsible-pane\",\n        vertical: \"k-vertical\"\n    };\n\n    var Pane = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            element = that.element;\n\n            element.addClass(classNames.pane);\n\n            if (that.options.collapsible) {\n                element.addClass(classNames.collapsiblePane);\n            }\n\n            this.history = [];\n\n            this.historyCallback = function(url, params, backButtonPressed) {\n                var transition = that.transition;\n                that.transition = null;\n\n                // swiping back in iOS leaves the app in a very broken state if we perform a transition\n                if (SKIP_TRANSITION_ON_BACK_BUTTON && backButtonPressed) {\n                    transition = \"none\";\n                }\n\n                return that.viewEngine.showView(url, transition, params);\n            };\n\n            this._historyNavigate = function(url) {\n                if (url === BACK) {\n                    if (that.history.length === 1) {\n                        return;\n                    }\n\n                    that.history.pop();\n                    url = that.history[that.history.length - 1];\n                } else {\n                    if (url instanceof View) {\n                        url = \"\";\n                    }\n                    that.history.push(url);\n                }\n\n                that.historyCallback(url, kendo.parseQueryStringParams(url));\n            };\n\n            this._historyReplace = function(url) {\n                var params = kendo.parseQueryStringParams(url);\n                that.history[that.history.length - 1] = url;\n                that.historyCallback(url, params);\n            };\n\n            that.viewEngine = new ViewEngine(extend({}, {\n                container: element,\n                transition: options.transition,\n                modelScope: options.modelScope,\n                rootNeeded: !options.initial,\n                serverNavigation: options.serverNavigation,\n                remoteViewURLPrefix: options.root || \"\",\n                layout: options.layout,\n\n                showStart: function() {\n                    that.closeActiveDialogs();\n                },\n\n                after: function() {\n                },\n\n                viewShow: function(e) {\n                    that.trigger(VIEW_SHOW, e);\n                },\n\n                loadStart: function() {\n                },\n\n                loadComplete: function() {\n                },\n\n                sameViewRequested: function() {\n                    that.trigger(SAME_VIEW_REQUESTED);\n                },\n\n                viewTypeDetermined: function(e) {\n                    if (!e.remote || !that.options.serverNavigation) {\n                        that.trigger(NAVIGATE, { url: e.url });\n                    }\n                }\n            }, this.options.viewEngine));\n\n\n            this._setPortraitWidth();\n\n            kendo.onResize(function() {\n                that._setPortraitWidth();\n            });\n        },\n\n        closeActiveDialogs: function() {\n            var dialogs = this.element.find(roleSelector(\"actionsheet popover modalview\")).filter(\":visible\");\n            dialogs.each(function() {\n                kendo.widgetInstance($(this), ui).close();\n            });\n        },\n\n        navigateToInitial: function() {\n            var initial = this.options.initial;\n\n            if (initial) {\n                this.navigate(initial);\n            }\n\n            return initial;\n        },\n\n        options: {\n            name: \"Pane\",\n            portraitWidth: \"\",\n            transition: \"\",\n            layout: \"\",\n            collapsible: false,\n            initial: null,\n            modelScope: window\n        },\n\n        events: [\n            NAVIGATE,\n            VIEW_SHOW,\n            SAME_VIEW_REQUESTED\n        ],\n\n        append: function(html) {\n            return this.viewEngine.append(html);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            if (that.viewEngine) {\n                that.viewEngine.destroy();\n            }\n        },\n\n        navigate: function(url, transition) {\n            if (url instanceof View) {\n                url = url.id;\n            }\n\n            this.transition = transition;\n\n            this._historyNavigate(url);\n        },\n\n        replace: function(url, transition) {\n            if (url instanceof View) {\n                url = url.id;\n            }\n\n            this.transition = transition;\n\n            this._historyReplace(url);\n        },\n\n        view: function() {\n            return this.viewEngine.view();\n        },\n\n        _setPortraitWidth: function() {\n            var width,\n                portraitWidth = this.options.portraitWidth;\n\n            if (portraitWidth) {\n                this.element.css(\"width\", width);\n            }\n        }\n    });\n\n    Pane.wrap = function(element, options) {\n        if (!element.is(roleSelector(\"view\"))) {\n            element = element.wrap('<div data-' + kendo.ns + 'role=\"view\" data-stretch=\"true\"></div>').parent();\n        }\n\n        var paneContainer = element.wrap('<div class=\"' + classNames.paneWrapper + ' k-widget\"><div></div></div>').parent();\n        var pane = new Pane(paneContainer, options);\n\n        pane.navigate(\"\");\n\n        return pane;\n    };\n\n    // kendo.ui.Pane is already taken in kendo.draganddrop.js\n    kendo.Pane = Pane;\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}