{"version":3,"file":"kendo.mediaplayer.min.js","names":[],"sources":["../../src/kendo.mediaplayer.js"],"sourcesContent":["import \"./kendo.slider.js\";\nimport \"./kendo.toolbar.js\";\nimport \"./kendo.dropdownlist.js\";\nimport \"./kendo.tooltip.js\";\nimport \"./kendo.icons.js\";\n\n    export const __meta__ = {\n        id: \"mediaplayer\",\n        name: \"MediaPlayer\",\n        category: \"web\",\n        description: \"\",\n        depends: [\"slider\", \"toolbar\", \"dropdownlist\", \"tooltip\", \"icons\"]\n    };\n\n    (function($, undefined) {\n        var kendo = window.kendo,\n            END = \"end\",\n            PAUSE = \"pause\",\n            PLAY = \"play\",\n            READY = \"ready\",\n            TIMECHANGE = \"timeChange\",\n            VOLUMECHANGE = \"volumeChange\",\n            FULLSCREEN_ENTER = \"fullscreen\",\n            FULLSCREEN_EXIT = \"fullscreen-exit\",\n            MUTE = \"volume-mute\",\n            LOW_VOLUME = \"volume-down\",\n            HIGH_VOLUME = \"volume-up\",\n            VIDEO_QUALITY = \"k-mediaplayer-quality\",\n            STATE_PLAY = \"play\",\n            STATE_PAUSE = \"pause\",\n            TITLEBAR = \"k-mediaplayer-titlebar\",\n            TITLE = \"k-title\",\n            TOOLBARWRAP = \"k-mediaplayer-toolbar-wrap\",\n            TOOLBAR = \"k-mediaplayer-toolbar\",\n            SLIDER = \"k-mediaplayer-seekbar\",\n            VOLUME_SLIDER = \"k-mediaplayer-volume\",\n            MEDIA = \"k-mediaplayer-media\",\n            OVERLAY = \"k-mediaplayer-overlay\",\n            YTPLAYER = \"k-mediaplayer-yt\",\n            DOT = \".\",\n            STATE_PLAY_SELECTOR = 'span[class*=\"i-' + STATE_PLAY + '\"]',\n            STATE_PAUSE_SELECTOR = 'span[class*=\"i-' + STATE_PAUSE + '\"]',\n            FULLSCREEN_ENTER_SELECTOR = 'span[class*=\"i-' + FULLSCREEN_ENTER + '\"]',\n            FULLSCREEN_EXIT_SELECTOR = 'span[class*=\"i-' + FULLSCREEN_EXIT + '\"]',\n            MUTE_SELECTOR = 'span[class*=\"i-' + MUTE + '\"]',\n            LOW_VOLUME_SELECTOR = 'span[class*=\"i-' + LOW_VOLUME + '\"]',\n            HIGH_VOLUME_SELECTOR = 'span[class*=\"i-' + HIGH_VOLUME + '\"]',\n            SLIDER_SELECTED_STATE = '.k-draghandle.k-selected',\n            ui = kendo.ui,\n            ns = \".kendoMediaPlayer\",\n            baseTime = new Date(1970, 0, 1),\n            timeZoneSec = baseTime.getTimezoneOffset() * 60,\n            Widget = kendo.ui.Widget,\n            isArray = Array.isArray,\n            timeFormats = {\n                shortTime: \"mm:ss\",\n                longTime: \"HH:mm:ss\"\n            },\n            template = kendo.template,\n            keys = kendo.keys,\n            templates = {\n                htmlPlayer: () => \"<video class='\" + MEDIA + \"'> </video>\",\n                titleBar: template(() => \"<div class='\" + TITLEBAR + \"'><span class='\" + TITLE + \"'>Video Title</span></div>\"),\n                toolBar: () => \"<div class='\" + TOOLBARWRAP + \"'><div class='\" + TOOLBAR + \"'></div></div>\",\n                youtubePlayer: () => \"<div class='\" + YTPLAYER + \"'> </div>\",\n                toolBarTime: () => \"<span class='k-mediaplayer-currenttime'>00:00:00</span> / <span class='k-mediaplayer-duration'>00:00:00</span>\",\n                slider: () => \"<input class='\" + SLIDER + \"' value='0' title='seekbar' />\",\n                volumeSlider: () => \"<input class='\" + VOLUME_SLIDER + \"' title='volume'/>\",\n                qualityDropDown: () => \"<input class='\" + VIDEO_QUALITY + \"' title='video quality' />\",\n                toolTip: ({ value }) => `${kendo.toString(new Date(value), 'HH:mm:ss')}`\n            };\n\n        var MediaPlayer = Widget.extend({\n            init: function(element, options) {\n                this.wrapper = $(element);\n\n                Widget.fn.init.call(this, element, options);\n\n                this.wrapper.addClass(\"k-mediaplayer k-widget\");\n\n                options = this.options;\n\n                this._currentIndex = 0;\n\n                this._createTitlebar();\n\n                this._createToolbar();\n\n                this._createDropDown();\n\n                this._createSlider();\n\n                this._createVolumeSlider();\n\n                this._timers = {};\n\n                this._aria();\n\n                this._navigatable();\n\n                if (options.fullScreen) {\n                    this.fullScreen(true);\n                }\n\n                if (options.media) {\n                    this.media(this.options.media);\n                }\n\n                kendo.notify(this);\n            },\n\n            events: [\n                END,\n                PAUSE,\n                PLAY,\n                READY,\n                TIMECHANGE,\n                VOLUMECHANGE\n            ],\n\n            options: {\n                name: \"MediaPlayer\",\n                autoPlay: false,\n                autoRepeat: false,\n                volume: 100,\n                fullScreen: false,\n                mute: false,\n                navigatable: false,\n                forwardSeek: true,\n                media: null,\n                messages: {\n                    \"pause\": \"Pause\",\n                    \"play\": \"Play\",\n                    \"mute\": \"Mute\",\n                    \"unmute\": \"Unmute\",\n                    \"quality\": \"Quality\",\n                    \"fullscreen\": \"Full Screen\"\n                }\n            },\n\n            _msToTime: function(ms) {\n                var time = new Date(baseTime.getTime());\n                time.setSeconds(ms);\n                return time;\n            },\n\n            _timeToSec: function(time) {\n                var curTime = new Date(time).getTime();\n                return curTime / 1000;\n            },\n\n            _createTitlebar: function() {\n                this._titleBar = this.wrapper.find(DOT + TITLEBAR);\n                if (this._titleBar.length === 0) {\n                    this.wrapper.append(templates.titleBar);\n                    this._titleBar = this.wrapper.find(DOT + TITLEBAR);\n                }\n            },\n\n            _createSlider: function() {\n                var sliderElement = this.wrapper.find(DOT + SLIDER);\n                if (!this._slider) {\n                    this._sliderDragChangeHandler = this._sliderDragChange.bind(this);\n                    this._sliderDraggingHandler = this._sliderDragging.bind(this);\n                    sliderElement = this.wrapper.find(DOT + SLIDER);\n\n                    this._slider = new ui.Slider(sliderElement[0], {\n                        smallStep: 1000,\n                        tickPlacement: \"none\",\n                        showButtons: false,\n                        change: this._sliderDragChangeHandler,\n                        slide: this._sliderDraggingHandler,\n                        tooltip: {\n                            template: templates.toolTip\n                        },\n                        dragHandleTitle: this.options.messages.time\n                    });\n                }\n            },\n\n            _createVolumeSlider: function() {\n                var volumeSliderElement = this.wrapper.find(DOT + VOLUME_SLIDER);\n                if (!this._volumeSlider) {\n                    this._volumeDraggingHandler = this._volumeDragging.bind(this);\n                    this._volumeChangeHandler = this._volumeChange.bind(this);\n                    volumeSliderElement.width(87);\n                    this._volumeSlider = new ui.Slider(volumeSliderElement[0], {\n                        smallStep: 1,\n                        min: 0,\n                        max: 100,\n                        value: this.options.volume,\n                        slide: this._volumeDraggingHandler,\n                        change: this._volumeChangeHandler,\n                        tickPlacement: \"none\",\n                        showButtons: false,\n                        tooltip: { enabled: false },\n                        dragHandleTitle: this.options.messages.volume\n                    });\n                }\n            },\n\n            _resetTime: function() {\n                if (this._youTubeVideo) {\n                    this._ytmedia.seekTo(0, true);\n                } else {\n                    this._media.currentTime = 0;\n                }\n\n                this._mediaTimeUpdate();\n                $.grep(this._toolBar.options.items, function(e) { return !!e.template; }).template = templates.toolBarTime;\n            },\n\n            _currentUrl: function() {\n                var media = this.media();\n                return isArray(media.source) ? media.source[this._currentIndex].url : media.source;\n            },\n\n            _isYouTubeUrl: function() {\n                return !!this._currentUrl().match(\"youtube.com/|youtu.be/\");\n            },\n\n            _setPlayerUrl: function() {\n                var oldPlayer = this._youTubeVideo;\n                this.stop();\n\n                this._youTubeVideo = this._isYouTubeUrl();\n\n                if (oldPlayer !== this._youTubeVideo) {\n                    this.wrapper.find(DOT + YTPLAYER).toggle();\n                    this.wrapper.find(DOT + MEDIA).toggle();\n                }\n\n                var initialized = this._media || this._ytmedia;\n\n                this._initializePlayer();\n\n                if (initialized) { //mute and volume settings should be persisted when switching between html and youtube players\n                    this.mute(this.mute());\n                    this.volume(this.volume());\n                }\n\n                if (!this._youTubeVideo) {\n                    this._videoOverlay.show();\n                    this.wrapper.find(DOT + MEDIA + \" > source\").remove();\n                    this.wrapper.find(DOT + MEDIA).attr(\"src\", this._currentUrl());\n\n                    if (this.options.autoPlay) {\n                        this.play();\n                    }\n                }\n                else if (this._ytmedia) {\n                    if (this._videoOverlay) {\n                        this._videoOverlay.hide();\n                    }\n                    if (this.options.autoPlay) {\n                        this._ytmedia.loadVideoById(this._getMediaId());\n                        this._playStateToggle(true);\n                    }\n                    else {\n                        this._ytmedia.cueVideoById(this._getMediaId());\n                        this._playStateToggle(false);\n                    }\n                }\n            },\n\n            _createToolbar: function() {\n                var toolBarElement = this.wrapper.find(DOT + TOOLBAR);\n                if (toolBarElement.length === 0) {\n                    this._toolbarClickHandler = this._toolbarClick.bind(this);\n                    this.wrapper.append(templates.toolBar);\n                    toolBarElement = this.wrapper.find(DOT + TOOLBAR);\n                    toolBarElement.width(this.wrapper.find(DOT + MEDIA).width());\n                    this._toolBar = new ui.ToolBar(toolBarElement, {\n                        click: this._toolbarClickHandler,\n                        resizable: false,\n                        items: [\n                            {\n                                type: \"button\",\n                                attributes: { \"class\": \"k-play-button\" },\n                                icon: \"play\",\n                                fillMode: \"flat\"\n                            },\n                            {\n                                template: templates.toolBarTime,\n                                attributes: { \"class\": \"k-mediaplayer-currenttime-wrap\" }\n                            },\n                            {\n                                type: \"spacer\"\n                            },\n                            {\n                                type: \"button\",\n                                attributes: { \"class\": \"k-volume-button\" },\n                                icon: \"volume-up\",\n                                fillMode: \"flat\"\n                            },\n                            {\n                                template: templates.volumeSlider,\n                                attributes: { \"class\": \"k-mediaplayer-volume-wrap\" }\n                            },\n                            {\n                                template: templates.qualityDropDown,\n                                attributes: { \"class\": \"k-mediaplayer-quality-wrap\" }\n                            },\n                            {\n                                type: \"button\",\n                                attributes: { \"class\": \"k-fullscreen-button\" },\n                                icon: \"fullscreen\",\n                                fillMode: \"flat\"\n                            }\n                        ]\n                    });\n\n                    this._toolBar.wrapper.off(\"keydown\");\n                    toolBarElement.before(templates.slider);\n\n                    this._volumeButton = toolBarElement.find(\".k-volume-button\");\n                    this._fullscreenButton = toolBarElement.find(\".k-fullscreen-button\");\n                    this._volumeButton.attr(\"title\", this.options.mute ? this.options.messages.unmute : this.options.messages.mute);\n                    this._volumeButton.attr(\"aria-label\", this.options.mute ? this.options.messages.unmute : this.options.messages.mute);\n                    this._fullscreenButton.attr(\"title\", this.options.messages.fullscreen);\n                    this._fullscreenButton.attr(\"aria-label\", this.options.messages.fullscreen);\n\n                    toolBarElement.width(\"auto\");\n                    this._currentTimeElement = toolBarElement.find(\".k-mediaplayer-currenttime\");\n                    this._durationElement = toolBarElement.find(\".k-mediaplayer-duration\");\n                    this._playButton = toolBarElement.find(\".k-play-button\");\n                    this._playButtonSpan = this._playButton.find(STATE_PLAY_SELECTOR);\n\n                    if (this.options.autoPlay) {\n                        this._playStateToggle(true);\n                    }\n\n                    if ( kendo.support.cssFlexbox === false ) {\n                        $([\n                            this._volumeButton[0],\n                            toolBarElement.find(\".k-mediaplayer-volume-wrap\")[0],\n                            toolBarElement.find(\".k-mediaplayer-quality-wrap\")[0],\n                            this._fullscreenButton[0]\n                        ]).wrapAll(\"<div class='k-align-right' />\");\n                    }\n                }\n            },\n\n            _createDropDown: function() {\n                var hdIcon = kendo.ui.icon(\"hd\");\n                var dropDownElement = this.wrapper.find(DOT + VIDEO_QUALITY);\n                var media = this.media();\n                if (typeof dropDownElement.data(\"kendoDropDownList\") === \"undefined\") {\n                    this._dropDownSelectHandler = this._dropDownSelect.bind(this);\n                    this._dropDown = new ui.DropDownList(dropDownElement, {\n                        dataTextField: \"quality\",\n                        dataValueField: \"url\",\n                        popup: {\n                            position: \"bottom\",\n                            origin: \"top\",\n                            appendTo: this.wrapper\n                        },\n                        animation: {\n                            open: {\n                                effects: \"slideIn:up\",\n                                duration: 1\n                            }\n                        },\n                        select: this._dropDownSelectHandler\n                    });\n\n                    if (media && isArray(media.source)) {\n                        this._dropDown.setDataSource(media.source);\n                        this._dropDown.select(0);\n                    }\n\n                    this._dropDown.wrapper.addClass(\"k-button k-button-flat\");\n                    this._dropDown.wrapper.attr(\"title\", this.options.messages.quality).hide();\n                    this._dropDown.wrapper.find('span[class*=\"i-caret-alt-down\"]')\n                        .replaceWith(hdIcon);\n                    this._dropDown.list.addClass(\"k-quality-list\");\n                }\n            },\n\n            _dropDownSelect: function(e) {\n                if (this._currentIndex !== e.item.index()) {\n                    this._currentIndex = e.item.index();\n                    this._setPlayerUrl();\n                }\n            },\n\n            _toolbarClick: function(e) {\n                var target = $(e.target).children().first();\n                var isPaused = target.is(STATE_PLAY_SELECTOR);\n\n                if (!this.media()) {\n                    return;\n                }\n\n                if (target.is(STATE_PLAY_SELECTOR) || target.is(STATE_PAUSE_SELECTOR)) {\n                    if (isPaused) {\n                        this.play();\n                    }\n                    else {\n                        this.pause();\n                    }\n                }\n\n                if (target.is(FULLSCREEN_ENTER_SELECTOR) || target.is(FULLSCREEN_EXIT_SELECTOR)) {\n                    if (this._isInFullScreen) {\n                        kendo.ui.icon(target, { icon: FULLSCREEN_ENTER });\n                        this.fullScreen(false);\n                    } else {\n                        kendo.ui.icon(target, { icon: FULLSCREEN_EXIT });\n                        this.fullScreen(true);\n                    }\n                }\n\n                if (target.is(MUTE_SELECTOR) || target.is(LOW_VOLUME_SELECTOR) || target.is(HIGH_VOLUME_SELECTOR)) {\n                    var muted = this.mute();\n                    this.mute(!muted);\n                }\n            },\n\n            _sliderDragging: function() {\n                if (!this.media()) {\n                    return;\n                }\n\n                this._isDragging = true;\n            },\n\n            _sliderDragChange: function(e) {\n                var that = this;\n                var slider = e.sender;\n                var tzOffset = timeZoneSec * 1000;\n\n                if (!this.media()) {\n                    return;\n                }\n\n                that._sliderChangeFired = true;\n                that._isDragging = false;\n\n                if (!this.options.forwardSeek && slider.value() > this._seekBarLastPosition) {\n                    setTimeout(function() {\n                        slider.value(that._seekBarLastPosition);\n                    }, 1);\n                } else if (this._youTubeVideo) {\n                    that._ytmedia.seekTo(that._timeToSec(e.value - tzOffset));\n                } else {\n                    that._media.currentTime = that._timeToSec(e.value - tzOffset);\n                }\n                that.trigger(TIMECHANGE);\n                that._preventPlay = true;\n            },\n\n            _changeVolumeButtonImage: function(volume) {\n                var volumeButton = this._volumeButton;\n                var volumeElement = volumeButton.find(\"span\");\n\n                if (volume === 0) {\n                    kendo.ui.icon(volumeElement, { icon: MUTE });\n                    volumeButton.attr(\"title\", this.options.messages.unmute);\n                    volumeButton.attr(\"aria-label\", this.options.messages.unmute);\n                } else if (volume > 0 && volume < 51) {\n                    kendo.ui.icon(volumeElement, { icon: LOW_VOLUME });\n                    volumeButton.attr(\"title\", this.options.messages.mute);\n                    volumeButton.attr(\"aria-label\", this.options.messages.mute);\n                } else {\n                    kendo.ui.icon(volumeElement, { icon: HIGH_VOLUME });\n                    volumeButton.attr(\"title\", this.options.messages.mute);\n                    volumeButton.attr(\"aria-label\", this.options.messages.mute);\n                }\n            },\n\n            _volumeDragging: function(e) {\n                if (!this.media()) {\n                    return;\n                }\n                this.volume(e.value);\n                this._changeVolumeButtonImage(e.value);\n                this.trigger(VOLUMECHANGE);\n            },\n\n            _volumeChange: function(e) {\n                if (!this.media()) {\n                    return;\n                }\n                this.volume(e.value);\n                this._changeVolumeButtonImage(e.value);\n                this.trigger(VOLUMECHANGE);\n            },\n\n            _mediaTimeUpdate: function() {\n                var currentTime = (this._youTubeVideo) ? this._ytmedia.getCurrentTime() : this._media.currentTime;\n                currentTime = currentTime ? currentTime : 0;\n                var timeInMs = this._msToTime(currentTime);\n                this._currentTimeElement.text(kendo.toString(timeInMs, this._timeFormat));\n                if (!this._isDragging) {\n                    this._seekBarLastPosition = (currentTime + timeZoneSec) * 1000;\n                    this._slider.value(this._seekBarLastPosition);\n                }\n\n                return this.isPlaying();\n            },\n\n            _playStateToggle: function(play) {\n                if (typeof play === \"undefined\") {\n                    play = this._playButtonSpan.is(STATE_PLAY_SELECTOR);\n                }\n\n                if (play) {\n                    kendo.ui.icon(this._playButtonSpan, { icon: STATE_PAUSE });\n                    this._playButton.attr(\"title\", this.options.messages.pause);\n                    this._playButton.attr(\"aria-label\", this.options.messages.pause);\n                }\n                else {\n                    kendo.ui.icon(this._playButtonSpan, { icon: STATE_PLAY });\n                    this._playButton.attr(\"title\", this.options.messages.play);\n                    this._playButton.attr(\"aria-label\", this.options.messages.play);\n                }\n            },\n\n            _mediaEnded: function() {\n                this._playStateToggle(false);\n                this._currentTimeElement.text(kendo.toString(this._msToTime(0), this._timeFormat));\n                this._slider.value((0 + timeZoneSec) * 1000);\n                this.trigger(END);\n            },\n\n            _mediaPlay: function() {\n                this.trigger(PLAY);\n            },\n\n            _mediaReady: function() {\n                this.trigger(READY);\n            },\n\n            _mediaDurationChange: function() {\n                var durationTime = this._msToTime((this._youTubeVideo) ? this._ytmedia.getDuration() : this._media.duration);\n\n                this._timeFormat = durationTime.getHours() === 0 ? timeFormats.shortTime : timeFormats.longTime;\n\n                this._durationElement.text(kendo.toString(durationTime, this._timeFormat));\n                this._slider.setOptions({\n                    min: baseTime.getTime(),\n                    max: durationTime.getTime()\n                });\n\n                if (!this._isFirstRun) {\n                    this._resetTime();\n                    this._isFirstRun = true;\n                }\n            },\n\n            _createYoutubePlayer: function() {\n                this._mediaTimeUpdateHandler = this._mediaTimeUpdate.bind(this);\n                this._mediaDurationChangeHandler = this._mediaDurationChange.bind(this);\n\n                this.wrapper.prepend(templates.youtubePlayer);\n                this._ytPlayer = this.wrapper.find(DOT + YTPLAYER)[0];\n                $(this._ytPlayer)\n                    .css({\n                        width: this.wrapper.width(),\n                        height: this.wrapper.height()\n                    });\n\n                if (!window.YT || !window.YT.Player) {\n                    if (!window.onYouTubeIframeAPIReadyRegister) {\n                        window.onYouTubeIframeAPIReadyRegister = [];\n                        $.getScript(\"https://www.youtube.com/iframe_api\");\n                        window.onYouTubeIframeAPIReady =\n                            function() {\n                                if (window.onYouTubeIframeAPIReadyRegister) {\n                                    for (var i = 0; i < window.onYouTubeIframeAPIReadyRegister.length; i++) {\n                                        window.onYouTubeIframeAPIReadyRegister[i]._youtubeApiReady();\n                                    }\n                                }\n                                window.onYouTubeIframeAPIReadyRegister.length = 0;\n                                window.onYouTubeIframeAPIReadyRegister = undefined;\n                            };\n                    }\n                    window.onYouTubeIframeAPIReadyRegister[window.onYouTubeIframeAPIReadyRegister.length] = this;\n                }\n                else {\n                    this._configurePlayer();\n                }\n            },\n\n            _poll: function(name, callback, interval, context) {\n                var that = this;\n\n                if (that._timers[name] !== null) {\n                    clearTimeout(that._timers[name]);\n                }\n\n                that._timers[name] = setTimeout((function(context) {\n                    return function callLater() {\n                        if (callback.call(context)) {\n                            that._timers[name] = setTimeout(callLater, interval);\n                        }\n                    };\n                })(context), interval);\n\n                return that._timers[name];\n            },\n\n            _youtubeApiReady: function() {\n                this._configurePlayer();\n            },\n\n            _configurePlayer: function() {\n                var vars = {\n                    'autoplay': +this.options.autoPlay,\n                    'wmode': 'transparent',\n                    'controls': 0,\n                    'rel': 0,\n                    'showinfo': 0\n                };\n\n                this._onYouTubePlayerReady = this._onYouTubePlayerReady.bind(this);\n                window.onYouTubePlayerReady = this._onYouTubePlayerReady;\n                this._onPlayerStateChangeHandler = this._onPlayerStateChange.bind(this);\n                window.onPlayerStateChange = this._onPlayerStateChange;\n\n\n                var player = new window.YT.Player(this.wrapper.find(DOT + YTPLAYER)[0], {\n                    height: this.wrapper.height(),\n                    width: this.wrapper.width(),\n                    videoId: this._getMediaId(),\n                    playerVars: vars,\n                    events: {\n                        'onReady': this._onYouTubePlayerReady,\n                        'onStateChange': this._onPlayerStateChangeHandler\n                    }\n                });\n            },\n\n            _onYouTubePlayerReady: function(event) {\n                this._ytmedia = event.target;\n                this._ytmedia.getIframe().style.width = \"100%\";\n                this._ytmedia.getIframe().style.height = \"100%\";\n                this._youTubeVideo = true;\n                this._mediaDurationChangeHandler();\n\n                if (this.options.autoPlay) {\n                    this._playStateToggle(true);\n                    this._ytmedia.loadVideoById(this._getMediaId());\n                }\n                else {\n                    this._ytmedia.cueVideoById(this._getMediaId());\n                }\n\n                if (this.options.mute) {\n                    this.mute(true);\n                }\n\n                this.trigger(READY);\n            },\n\n            _updateTitle: function() {\n                this.titlebar().text(this.media().title || this.media().source);\n            },\n\n            _onPlayerStateChange: function(event) {\n\n                if (event.data === 0) {\n                    this._slider.value(0);\n                    this._paused = false;\n                    this._playStateToggle(true);\n                    this.trigger(END);\n                    if (this.options.autoRepeat) {\n                        this.play();\n                    }\n                }\n                else if (event.data === 1) {\n                    this._mediaDurationChange();\n                    this._ytmedia.setVolume(this.volume());\n                    if (this._sliderChangeFired) {\n                        this._sliderChangeFired = false;\n                    } else {\n                        this._uiDisplay(false);\n                    }\n                    this.trigger(PLAY);\n                    this._playStateToggle(true);\n\n                    this._poll(\"progress\", this._mediaTimeUpdate, 500, this);\n                    this._paused = false;\n                }\n                else if (event.data === 2) {\n                    if (!this._paused) {\n                        this._uiDisplay(true);\n                        this._playStateToggle(false);\n                        this.trigger(PAUSE);\n                        this._paused = true;\n                    }\n                }\n            },\n\n            _getMediaId: function() {\n                var result = this._currentUrl();\n                var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&\\?]*).*/;\n                var match = result.match(regExp);\n\n                if (match && match[7].length === 11) {\n                    result = match[7];\n                }\n\n                return result;\n            },\n\n            _mouseClick: function() {\n                if (this.isPaused()) {\n                    this.play();\n                } else {\n                    this.pause();\n                }\n            },\n\n            _initializePlayer: function() {\n                if (!this._mouseMoveHandler) {\n                    this._mouseMoveHandler = this._mouseMove.bind(this);\n                    this._mouseInHandler = this._mouseIn.bind(this);\n                    this._mouseOutHandler = this._mouseOut.bind(this);\n\n                    $(this.wrapper)\n                        .on(\"mouseenter\" + ns, this._mouseInHandler)\n                        .on(\"mouseleave\" + ns, this._mouseOutHandler)\n                        .on(\"mousemove\" + ns, this._mouseMoveHandler);\n                }\n\n                if (!this._ytmedia && this._youTubeVideo) {\n                    this._createYoutubePlayer();\n                }\n                else if (!this._media && !this._youTubeVideo) {\n                    this._createHtmlPlayer();\n                }\n            },\n\n            _createHtmlPlayer: function() {\n                if (!this._videoOverlay) {\n                    this._mouseClickHanlder = this._mouseClick.bind(this);\n                    this.wrapper.append(\"<div class='\" + OVERLAY + \"'></div>\");\n                    this._videoOverlay = this.wrapper.find(\".k-mediaplayer-overlay\")\n                        .on(\"click\" + ns, this._mouseClickHanlder);\n                }\n\n                this._mediaTimeUpdateHandler = this._mediaTimeUpdate.bind(this);\n                this._mediaDurationChangeHandler = this._mediaDurationChange.bind(this);\n                this._mediaEndedHandler = this._mediaEnded.bind(this);\n                this._mediaCanPlayHandler = this._mediaReady.bind(this);\n                this._mediaPlayHandler = this._mediaPlay.bind(this);\n                this._videoOverlay.after(templates.htmlPlayer);\n                this._media = this.wrapper.find(DOT + MEDIA)[0];\n                $(this._media)\n                    .css({\n                        width: \"100%\",\n                        height: \"100%\"\n                    });\n\n                if (this.options.mute) {\n                    this.mute(true);\n                }\n\n                this._media.ontimeupdate = this._mediaTimeUpdateHandler;\n                this._media.ondurationchange = this._mediaDurationChangeHandler;\n                this._media.oncanplay = this._mediaCanPlayHandler;\n                this._media.onplay = this._mediaPlayHandler;\n                this._media.onended = this._mediaEndedHandler;\n                this._media.loop = this.options.autoRepeat;\n            },\n\n            _mouseIn: function() {\n                if (!this._shownOnKeydown) {\n                    this._uiDisplay(true);\n                }\n            },\n\n            _mouseOut: function() {\n                if (!this._shownOnKeydown) {\n                    this._poll(\"mouseIdle\", this._mouseIdle, 3000, this);\n                }\n            },\n\n            _mouseIdle: function() {\n                if (!this._shownOnKeydown) {\n                    this._uiDisplay(false);\n                }\n                return false;\n            },\n\n            _mouseMove: function() {\n                if (!(this._titleBar.is(':animated') || this._toolBar.element.is(':animated') || this._slider.wrapper.is(':animated'))) {\n                    this._uiDisplay(true);\n                }\n                this._poll(\"mouseIdle\", this._mouseIdle, 3000, this);\n            },\n\n            _uiDisplay: function(state, speed) {\n                var animationSpeed = speed ? speed : 'slow';\n                var uiElements = this._titleBar\n                    .add(this._toolBar.element.parent());\n\n                if (state) {\n                    uiElements.fadeIn(animationSpeed);\n                }\n                else {\n                    uiElements.fadeOut(animationSpeed);\n                    if (this.options.navigatable) {\n                        this.wrapper.trigger(\"focus\");\n                    }\n                }\n            },\n\n            setOptions: function(options) {\n                Widget.fn.setOptions.call(this, options);\n            },\n\n            destroy: function() {\n                Widget.fn.destroy.call(this);\n\n                if (!this.isPaused()) {\n                    this.pause();\n                }\n\n                this.element.off(ns);\n                this.element.find(DOT + OVERLAY).off(ns);\n                this._timers = null;\n                this._mouseMoveHandler = null;\n                this._mouseOutHandler = null;\n                this._mouseInHandler = null;\n                this._mouseClickHanlder = null;\n                this._keyDownHandler = null;\n                this._fullscreenHandler = null;\n\n                this._toolbarClickHandler = null;\n                this._sliderDragChangeHandler = null;\n                this._sliderDraggingHandler = null;\n                this._volumeDraggingHandler = null;\n                this._volumeChangeHandler = null;\n                this._youtubeApiReadyHandler = null;\n                this._onYouTubePlayerReady = null;\n                this._onPlayerStateChangeHandler = null;\n                this._dropDownSelectHandler = null;\n\n                if (this._youTubeVideo) {\n                    this._ytmedia.destroy();\n                }\n                else {\n                    this._media.ontimeupdate = this._mediaTimeUpdateHandler = null;\n                    this._media.ondurationchange = this._mediaDurationChangeHandler = null;\n                    this._media.oncanplay = this._mediaCanPlayHandler = null;\n                    this._media.onplay = this._mediaPlayHandler = null;\n                    this._media.onended = this._mediaEndedHandler = null;\n                    this._media.src = \"\";\n                    this._media.remove();\n                }\n\n                this._mouseMoveTimer = null;\n                clearTimeout(this._mouseMoveTimer);\n\n                kendo.destroy(this.element);\n            },\n\n            seek: function(ms) {\n                if (typeof ms === 'undefined') {\n                    return 1000 * (this._youTubeVideo) ? this._ytmedia.getCurrentTime() : (this._media ? this._media.currentTime : 0);\n                }\n                var seconds = ms / 1000;\n                if (this._youTubeVideo) {\n                    if (seconds + 3 >= this._ytmedia.getDuration() | 0) {\n                        //avoid infinite bad request loop in youtube player.\n                        this._ytmedia.seekTo(this._ytmedia.getDuration() - 3 | 0, true);\n                    } else {\n                        this._ytmedia.seekTo(seconds, true);\n                    }\n                } else {\n                    this._media.currentTime = seconds;\n                }\n\n                return this;\n            },\n\n            play: function() {\n                if (this._youTubeVideo) {\n                    this._ytmedia.playVideo();\n                } else {\n                    if (kendo.support.mobileOS) {\n                        this._uiDisplay(false);\n                    }\n                    this._media.play();\n                }\n                this._paused = false;\n\n                this._playStateToggle(true);\n\n                return this;\n            },\n\n            stop: function() {\n                if (this._youTubeVideo && this._ytmedia) {\n                    this._ytmedia.stopVideo();\n                } else if (this._media && !this._youTubeVideo) {\n                    if (kendo.support.mobileOS) {\n                        this._uiDisplay(true);\n                    }\n                    this._media.pause();\n                    this._media.currentTime = 0;\n                }\n                this._paused = true;\n\n                this._playStateToggle(false);\n                return this;\n            },\n\n            pause: function() {\n                if (this._youTubeVideo) {\n                    this._ytmedia.pauseVideo();\n                } else {\n                    if (kendo.support.mobileOS) {\n                        this._uiDisplay(true);\n                    }\n                    this._media.pause();\n                }\n                this._paused = true;\n                this._playStateToggle(false);\n                this.trigger(PAUSE);\n                return this;\n            },\n\n            toolbar: function() {\n                return this._toolBar;\n            },\n\n            dropdown: function() {\n                return this._dropDown;\n            },\n\n            titlebar: function() {\n                return this._titleBar;\n            },\n\n            fullScreen: function(enterFullScreen) {\n                if (typeof enterFullScreen === 'undefined') {\n                    return this._isInFullScreen || false;\n                }\n                var element = this.element.get(0);\n                if (enterFullScreen) {\n                    // Handles the case when the action is triggered by code and not by user iteraction\n                    this.element.addClass(\"k-mediaplayer-fullscreen\");\n                    if (element.requestFullscreen) {\n                        element.requestFullscreen();\n                    } else if (element.webkitRequestFullscreen) {\n                        element.webkitRequestFullscreen();\n                    } else if (element.mozRequestFullScreen) {\n                        element.mozRequestFullScreen();\n                    } else if (element.msRequestFullscreen) {\n                        element.msRequestFullscreen();\n                    }\n                    this._isInFullScreen = true;\n                } else {\n\n                    if (document.cancelFullscreen) {\n                        document.cancelFullscreen();\n                    } else if (document.webkitCancelFullScreen) {\n                        document.webkitCancelFullScreen();\n                    } else if (document.mozCancelFullScreen) {\n                        document.mozCancelFullScreen();\n                    } else if (document.msCancelFullscreen) {\n                        document.msCancelFullscreen();\n                    } else if (document.exitFullscreen) {\n                        document.exitFullscreen();\n                    } else if (document.msExitFullscreen) {\n                        document.msExitFullscreen();\n                    }\n                    // Handles the case when the action is triggered by code and not by user iteraction\n                    this.element.removeClass(\"k-mediaplayer-fullscreen\");\n                    this._isInFullScreen = false;\n                }\n                this._slider.resize();\n            },\n\n            volume: function(value) {\n                if (typeof value === 'undefined') {\n                    return (typeof this._volume !== 'undefined') ? this._volume : this._volume = this.options.volume;\n                }\n                this._volume = value;\n                this.mute(value <= 0);\n\n                if (this._youTubeVideo) {\n                    this._ytmedia.setVolume(this._volume);\n                } else {\n                    this._media.volume = this._volume / 100;\n                }\n\n                this._volumeSlider.value(value);\n            },\n\n            mute: function(muted) {\n                var currentState = this._youTubeVideo ? (this._ytmedia && this._ytmedia.isMuted()) : (this._media && this._media.muted);\n                if (typeof muted === 'undefined' || muted === currentState) {\n                    return currentState;\n                }\n                if (this._youTubeVideo) {\n                    if (muted) {\n                        this._ytmedia.mute();\n                    }\n                    else {\n                        this._ytmedia.unMute();\n                    }\n                }\n                else {\n                    this._media.muted = muted;\n                }\n\n                if (muted) {\n                    this._volumeSlider.value(0);\n                }\n                else {\n                    this._volumeSlider.value((this._media && this._media.volume * 100) || (this._ytmedia && this._ytmedia.getVolume()));\n                }\n                this.trigger(VOLUMECHANGE);\n                this._changeVolumeButtonImage(this._volumeSlider.value());\n            },\n\n            isEnded: function() {\n                if (this._youTubeVideo) {\n                    return this._ytmedia.getPlayerState() === 0;\n                } else {\n                    return this._media.ended;\n                }\n            },\n\n            media: function(value) {\n                var dropdown = this.dropdown();\n                if (typeof value === 'undefined') {\n                    return (typeof this._mediaData !== 'undefined') ? this._mediaData : this._mediaData = this.options.media;\n                }\n\n                if (isArray(value.source)) {\n                    dropdown.setDataSource(value.source);\n                    dropdown.wrapper.show();\n                }\n                else {\n                    dropdown.wrapper.hide();\n                }\n\n                this._mediaData = value;\n\n                this._updateTitle();\n\n                this._setPlayerUrl();\n            },\n\n            isPaused: function() {\n                return this._paused;\n            },\n\n            isPlaying: function() {\n                return !this.isEnded() && !this._paused;\n            },\n\n            _aria: function() {\n                this.wrapper.attr(\"role\", \"region\");\n                //this.wrapper.attr(\"aria-labelledby\", \"mediaplayerTitleBar\");\n                //add onfocus with aria active descendant\n            },\n\n            _navigatable: function() {\n                this._fullscreenHandler = this._fullscreen.bind(this);\n                $(document)\n                    .on(\"webkitfullscreenchange mozfullscreenchange fullscreenchange\" + ns, this._fullscreenHandler);\n\n                if (this.options.navigatable) {\n                    this.wrapper.attr(\"tabIndex\", 0);\n                    this._keyDownHandler = this._keyDown.bind(this);\n                    this.wrapper\n                        .on(\"keydown\" + ns, this._keyDownHandler);\n                }\n            },\n\n            _fullscreen: function() {\n                var isFullScreen = document.fullScreen ||\n                    document.mozFullScreen ||\n                    document.webkitIsFullScreen,\n                    fullscreenSpan = this.wrapper.find(FULLSCREEN_ENTER_SELECTOR);\n\n                this._uiDisplay(true);\n                this._slider.resize();\n\n                if (!isFullScreen) {\n                    kendo.ui.icon(fullscreenSpan, { icon: FULLSCREEN_ENTER });\n                    this.fullScreen(false);\n                }\n            },\n\n            _keyIdle: function() {\n                const that = this;\n                that._uiDisplay(false);\n                this._shownOnKeydown = false;\n                return false;\n            },\n\n            _keyDown: function(e) {\n                e.preventDefault();\n                const fsButton = this.wrapper.find(FULLSCREEN_ENTER_SELECTOR);\n\n                this._shownOnKeydown = true;\n                this._uiDisplay(true, 'fast');\n                this._poll(\"keyDown\", this._keyIdle, 3000, this);\n\n                if (e.keyCode === keys.SPACEBAR) {\n                    if (this.isPlaying()) {\n                        this.pause();\n                    }\n                    else {\n                        this.play();\n                    }\n                }\n                else if (e.keyCode === keys.ENTER && !this._isInFullScreen) {\n                    kendo.ui.icon(fsButton, { icon: FULLSCREEN_EXIT });\n                    this.fullScreen(true);\n                }\n                else if (e.keyCode === 77) {\n                    var muted = this.mute();\n                    this.mute(!muted);\n                }\n                else if (e.keyCode === keys.ESC && this._isInFullScreen) {\n                    kendo.ui.icon(fsButton, { icon: FULLSCREEN_ENTER });\n                    this.fullScreen(false);\n                } else if (e.keyCode === keys.LEFT || e.keyCode === keys.RIGHT) {\n                    e.preventDefault();\n                    if (!(this._volumeSlider.wrapper.find(SLIDER_SELECTED_STATE).length)) {\n                        this._sliderKeyNav(this._slider, e.keyCode);\n                    }\n                } else if (e.keyCode === keys.UP || e.keyCode === keys.DOWN) {\n                    e.preventDefault();\n                    if (!(this._slider.wrapper.find(SLIDER_SELECTED_STATE).length)) {\n                        this._sliderKeyNav(this._volumeSlider, e.keyCode);\n                    }\n                } else if (e.ctrlKey && (e.keyCode === 97 || e.keyCode === 49)) {\n                    this._qualityDropDownKeyNav('decrease');\n                } else if (e.ctrlKey && (e.keyCode === 98 || e.keyCode === 50)) {\n                    this._qualityDropDownKeyNav('increase');\n                }\n            },\n\n            _error: function() {\n            },\n\n            _progress: function() {\n            },\n\n            _sliderKeyNav: function(slider, keyCode) {\n                slider._setValueInRange(slider._keyMap[keyCode](slider.options.value));\n            },\n\n            _qualityDropDownKeyNav: function(operation) {\n                const that = this;\n                const qualityDropDown = that._dropDown;\n                const dataSource = qualityDropDown.dataSource;\n                const field = qualityDropDown.options.dataValueField;\n                let currentSelected = qualityDropDown.selectedIndex;\n\n                switch (operation) {\n                    case 'increase':\n                        currentSelected += 1;\n                        break;\n                    case 'decrease':\n                        currentSelected -= 1;\n                        break;\n                }\n                const value = dataSource.at(currentSelected);\n\n                if (value && value[field]) {\n                    qualityDropDown.value(value[field]);\n                    this._currentIndex = currentSelected;\n                    this._setPlayerUrl();\n                }\n            }\n        });\n\n        ui.plugin(MediaPlayer);\n\n    })(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}