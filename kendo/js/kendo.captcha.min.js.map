{"version":3,"file":"kendo.captcha.min.js","names":[],"sources":["../../src/kendo.captcha.js"],"sourcesContent":["import \"./kendo.core.js\";\nimport \"./kendo.slider.js\";\nimport \"./kendo.textbox.js\";\nimport \"./kendo.skeletoncontainer.js\";\nimport \"./kendo.icons.js\";\n\n    export const __meta__ = {\n        id: \"captcha\",\n        name: \"Captcha\",\n        category: \"web\",\n        description: \"The Captcha widget displays captcha validation image and an input so that user case be validated against captcha value.\",\n        depends: [\"core\", \"slider\", \"textbox\", \"skeletoncontainer\", \"icons\"]\n    };\n\n    (function($, undefined) {\n        var kendo = window.kendo,\n            Widget = kendo.ui.Widget,\n            extend = $.extend,\n            ajax = $.ajax,\n            isFunction = kendo.isFunction,\n\n            STRING = \"string\",\n\n            DOT = \".\",\n            NS = DOT + \"kendoCaptcha\",\n\n            CLICK = \"click\",\n            BLUR = \"blur\",\n\n            CHANGE = \"change\",\n            REQUEST_START = \"requestStart\",\n            REQUEST_END = \"requestEnd\",\n            ERROR = \"error\";\n\n        var CaptchaStyles = {\n            wrapper: \"k-captcha\",\n            textbox: \"k-textbox\",\n            button: \"k-button\",\n            buttonIcon: \"k-button-icon\",\n            iconButton: \"k-icon-button\",\n            resetIcon: \"arrow-rotate-cw\",\n            audioIcon: \"volume-up\",\n            disabled: \"k-disabled\",\n            inputWrapper: \"k-captcha-input k-vstack\",\n            imageWrapper: \"k-captcha-image-wrap k-hstack\",\n            captchaImage: \"k-captcha-image\",\n            buttonsWrapper: \"k-captcha-image-controls k-vstack\",\n            volumeControlWrapper: \"k-captcha-volume-control k-vstack k-pos-absolute\",\n            hidden: \"k-hidden\",\n            success: \"k-captcha-validation-message k-text-success\",\n            loading: \"k-captcha-loading\"\n        };\n\n        var Captcha = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n\n                Widget.fn.init.call(that, element, options);\n\n                that._captchaField = that.options.dataCaptchaField;\n                that._valueField = that.element.attr(\"name\") || \"captcha\";\n                that._captchaIdField = that.options.dataCaptchaIdField;\n\n                that._wrapper();\n                that._idInput();\n                that._captchaImage();\n\n                if (that.options.audioButton || that.options.resetButton) {\n                    that._buttons();\n\n                }\n\n                if (!that.options.captcha || !that.options.captchaId) {\n                    that._resetHandler();\n                }\n\n                if (that.options.validateOnBlur) {\n                    that.element.on(BLUR + NS, function() {\n                        that._validationHandler();\n                    });\n                }\n\n                that.element.on(CHANGE + NS, function(ev) {\n                    delete that._isValid;\n                    that.trigger(CHANGE, { value: that.element.val(), originalEvent: ev });\n                });\n\n                kendo.notify(that);\n            },\n\n            events: [\n                CHANGE,\n                REQUEST_START,\n                REQUEST_END,\n                ERROR\n            ],\n\n            options: {\n                name: \"Captcha\",\n                dataCaptchaField: \"captcha\",\n                dataCaptchaIdField: \"captchaId\",\n                captchaId: \"\",\n                captcha: null,\n                handler: null,\n                audioHandler: null,\n                validationHandler: null,\n                validateOnBlur: false,\n                resetButton: true,\n                audioButton: true,\n                volumeControl: true,\n                messages: {\n                    reset: \"Reset captcha\",\n                    audio: \"Speak captcha\",\n                    imageAlt: \"Type the Captcha code from the image\",\n                    success: \"Verification successful\"\n                }\n            },\n\n            destroy: function() {\n                var that = this;\n\n                that.textbox.destroy();\n\n                if (that.resetButton) {\n                    that.resetButton.off(NS);\n                }\n\n                if (that.audioButton) {\n                    that.audioButton.off(NS);\n                }\n\n                that.element.off(NS);\n\n                // Just in case, destroy slider.\n                that._audioEnded();\n\n                Widget.fn.destroy.call(that);\n            },\n\n            _wrapper: function() {\n                var that = this,\n                    styles = Captcha.styles,\n                    wrapper = \"<div class='\" + styles.wrapper + \"'><div class='\" + styles.inputWrapper + \"'></div></div>\",\n                    imageWrapper = \"<div class='\" + styles.imageWrapper + \"'></div>\",\n                    cssText = that.element[0].style.cssText;\n\n                that.element.css(\"width\", \"auto\");\n                that.element.css(\"height\", \"auto\");\n                that.textbox = that.element.kendoTextBox({ clearButton: true }).data(\"kendoTextBox\");\n                that._inputWrapper = that.textbox.wrapper;\n                that.wrapper = that._inputWrapper.wrap(wrapper).parent().parent();\n                that.wrapper[0].style.cssText = cssText;\n                that.imageWrapper = $(imageWrapper);\n                that.wrapper.prepend(that.imageWrapper);\n            },\n\n            _captchaImage: function() {\n                var that = this,\n                    options = that.options,\n                    messages = options.messages,\n                    styles = Captcha.styles;\n\n\n                that.captchaImage = $(\"<div class=\\\"\" + styles.captchaImage + \"\\\">\" +\n                                        \"<img alt=\\\"\" + messages.imageAlt + \"\\\" src= \\\"\" + (options.captcha || \"\") + \"\\\"/>\" +\n                                    \"</div>\").find(\"img\");\n\n                that.imageWrapper.append(that.captchaImage.parent());\n\n                that._tabindex(that.captchaImage);\n\n                that._attachImageErrorHandler();\n            },\n\n            _attachImageErrorHandler: function() {\n                var that = this;\n\n                that.captchaImage.off(\"error\");\n                that.captchaImage.one(\"error\", function(ev) {\n                    that.trigger(ERROR, { type: \"image\", originalEvent: ev });\n                });\n            },\n\n            _idInput: function() {\n                var that = this,\n                    options = that.options,\n                    nameAttr = that._captchaIdField;\n\n                that.idInput = $(\"<input type=\\\"hidden\\\" name=\\\"\" + nameAttr + \"\\\" value=\\\"\" + options.captchaId + \"\\\" data-\" + kendo.ns + \"stop=\\\"true\\\" />\");\n                that._inputWrapper.after(that.idInput);\n            },\n\n            _buttons: function() {\n                var that = this,\n                    styles = Captcha.styles;\n\n                that.buttonsWrapper = $(\"<div class=\\\"\" + styles.buttonsWrapper + \"\\\"></div>\");\n                that.imageWrapper.append(that.buttonsWrapper);\n\n                if (that.options.audioButton) {\n                    that._audioButton();\n                }\n\n                if (that.options.resetButton) {\n                    that._resetButton();\n                }\n            },\n\n            _resetButton: function() {\n                var that = this,\n                    messages = that.options.messages,\n                    styles = Captcha.styles;\n\n                that.resetButton = $(\"<button type=\\\"button\\\" title=\\\"\" + messages.reset + \"\\\" class=\\\"\" + styles.button + \" \" + styles.iconButton + \"\\\">\" +\n                                        kendo.ui.icon({ icon: styles.resetIcon, iconClass: \"k-button-icon\" }) +\n                                    \"</button>\");\n\n                that.buttonsWrapper.append(that.resetButton);\n\n                that.resetButton.on(CLICK + NS, that._resetHandler.bind(that, true));\n            },\n\n            _audioButton: function() {\n                var that = this,\n                    messages = that.options.messages,\n                    styles = Captcha.styles;\n\n                that.audioButton = $(\"<button type=\\\"button\\\" title=\\\"\" + messages.audio + \"\\\" class=\\\"\" + styles.button + \" \" + styles.iconButton + \"\\\">\" +\n                                        kendo.ui.icon({ icon: styles.audioIcon, iconClass: \"k-button-icon\" }) +\n                                    \"</button>\");\n\n                that.buttonsWrapper.append(that.audioButton);\n\n                that.audioButton.on(CLICK + NS, that._audioHandler.bind(that));\n            },\n\n            _resetHandler: function(focusResetButton) {\n                var that = this,\n                    handler = that.options.handler,\n                    deferred = $.Deferred(),\n                    success = that._resetCaptcha.bind(that, deferred);\n\n                delete that._isValid;\n                that._toggleSuccessMessage(false);\n                that._audioEnded();\n                that._progress(true);\n\n                if (!handler) {\n                    window.console.error(\"Captcha's handler option is not defined!\");\n                    deferred.reject({ msg: \"Captcha's handler option is not defined!\", error: \"handler_not_defined\" });\n                    that._progress(false);\n                    return deferred.promise();\n                }\n\n                that._callHandler(\"reset\", handler, success)\n                    .done(function() {\n                        if (focusResetButton) {\n                            that.resetButton.trigger(\"focus\");\n                        }\n                    })\n                    .fail(function(args) {\n                        that._progress(false);\n                        deferred.reject(args);\n                    });\n                return deferred.promise();\n            },\n\n            _audioHandler: function() {\n                var that = this,\n                    handler = that.options.audioHandler,\n                    deferred = $.Deferred(),\n                    success = that._playAudio.bind(that, deferred),\n                    data = {};\n\n                data[that._captchaIdField] = that.idInput.val();\n\n                if (!handler) {\n                    window.console.error(\"Captcha's audioHandler option is not defined!\");\n                    deferred.reject({ msg: \"Captcha's audioHandler option is not defined!\", error: \"handler_not_defined\" });\n                    return deferred.promise();\n                }\n\n                that._callHandler(\"audio\", handler, success, data).fail(deferred.reject);\n                return deferred.promise();\n            },\n\n            _validationHandler: function() {\n                var that = this,\n                    handler = that.options.validationHandler,\n                    deferred = $.Deferred(),\n                    success = that._validate.bind(that, deferred),\n                    data = {};\n\n                delete that._isValid;\n\n                data[that._captchaIdField] = that.idInput.val();\n                data[that._valueField] = that.element.val();\n\n                if (!handler) {\n                    window.console.error(\"Captcha's validationHandler option is not defined!\");\n                    deferred.reject({ msg: \"Captcha's validationHandler option is not defined!\", error: \"handler_not_defined\" });\n                    return deferred.promise();\n                }\n\n                that._callHandler(\"validation\", handler, success, data).fail(deferred.reject);\n                return deferred.promise();\n            },\n\n            _callHandler: function(type, handler, success, data) {\n                var that = this,\n                    error = that._error.bind(that, type),\n                    requestEnd = that._requestEnd.bind(that, type),\n                    args;\n\n                if (isFunction(handler)) {\n                    handler({ success: success, data: data });\n                    return $.Deferred().promise();\n                } else {\n                    args = typeof handler === STRING ? { url: handler, cache: false } : extend({}, handler);\n                    args.success = success;\n                    args.data = extend({}, data, args.data);\n\n                    if (!that.trigger(REQUEST_START, { type: type, data: data })) {\n                        return ajax(args).done(requestEnd).fail(error);\n                    }\n                }\n            },\n\n            _requestEnd: function(type, data) {\n                var that = this;\n                that.trigger(REQUEST_END, { type: type, data: data });\n            },\n\n            _error: function(type, jqXHR, textStatus, errorThrown) {\n                var that = this;\n                that.trigger(ERROR, { type: type, jqXHR: jqXHR, textStatus: textStatus, errorThrown: errorThrown });\n            },\n\n            _resetCaptcha: function(deferred, data) {\n                var that = this,\n                    id = data[that._captchaIdField],\n                    captcha = data[that._captchaField];\n\n                that.idInput.val(id);\n                that.captchaImage.attr(\"src\", captcha || \"\");\n\n                that.captchaImage.off(\"load\");\n                that.captchaImage.one(\"load\", function() {\n                    that._progress(false);\n                });\n\n                that._attachImageErrorHandler();\n\n                deferred.resolve(data);\n            },\n\n            _playAudio: function(deferred, data) {\n                var that = this;\n\n                if (that._canPlayWav()) {\n                    if (that.audioElement) {\n                        return;\n                    }\n\n                    that.audioElement = new Audio(data);\n                    that.audioElement.volume = that._audioVolume || that.audioElement.volume;\n\n                    if (that.options.volumeControl) {\n                        $(that.audioElement).on(\"loadeddata\" + NS, function() {\n                            that._showVolumeControl(that.audioElement.volume);\n                        });\n                    }\n\n                    $(that.audioElement).on(\"ended\" + NS + \" error\" + NS, that._audioEnded.bind(that, deferred));\n\n                    that.audioElement.play();\n                }\n            },\n\n            _showVolumeControl: function(volume) {\n                var that = this,\n                    styles = Captcha.styles,\n                    volumeControlWrapper = $(\"<div class=\\\"\" + styles.volumeControlWrapper + \"\\\"></div>\");\n\n                if (that.volumeControl) {\n                    return;\n                }\n\n                that.volumeControlElm = $(\"<input />\");\n                that.volumeControlWrapper = volumeControlWrapper.append(that.volumeControlElm);\n                that.imageWrapper.append(volumeControlWrapper);\n                that.volumeControlWrapper.css(that._isRtl() ? \"right\" : \"left\", that.wrapper.width());\n\n                that.volumeControl = that.volumeControlElm.kendoSlider({\n                    min: 0,\n                    max: 1,\n                    smallStep: 0.1,\n                    largeStep: 0.5,\n                    orientation: \"vertical\",\n                    showButtons: false,\n                    tickPlacement: \"none\",\n                    value: volume,\n                    tooltip: {\n                        enabled: false\n                    },\n                    change: function(ev) {\n                        that._audioVolume = that.audioElement.volume = ev.value;\n                    }\n                }).data(\"kendoSlider\");\n            },\n\n            _audioEnded: function(deferred) {\n                var that = this;\n\n                if ($(document.activeElement).is(\"a.k-draghandle\")) {\n                    that.audioButton.trigger(\"focus\");\n                }\n\n                if (that.volumeControl) {\n                    that.volumeControl.destroy();\n                    that.volumeControl.wrapper.remove();\n                    delete that.volumeControl;\n                    that.volumeControlElm.remove();\n                    that.volumeControlWrapper.remove();\n                    delete that.volumeControlElm;\n                    delete that.volumeControlWrapper;\n                }\n\n                if (that.audioElement) {\n                    that.audioElement.pause();\n                }\n\n                $(that.audioElement).off(NS);\n                $(that.audioElement).remove();\n                delete that.audioElement;\n\n                if (deferred && deferred.resolve) {\n                    deferred.resolve();\n                }\n            },\n\n            _canPlayWav: function() {\n                var that = this,\n                    audio;\n\n                if (that._canPlayAudio) {\n                    return that._canPlayAudio;\n                }\n\n                audio = new Audio();\n                that._canPlayAudio = audio.canPlayType(\"audio/wav\").replace(/no/gi, \"\") !== \"\";\n\n                return that._canPlayAudio;\n            },\n\n            _validate: function(deferred, data) {\n                var that = this;\n                that._isValid = data;\n                that._toggleSuccessMessage(that._isValid);\n                deferred.resolve(data);\n            },\n\n            _toggleSuccessMessage: function(toggle) {\n                var that = this,\n                    idAttr = (that.element.attr(\"id\") || that.element.attr(\"name\")) + \"-success\",\n                    messages = that.options.messages;\n\n                $(that.successMessage).remove();\n                that.element.removeAttr(\"aria-describedby\");\n\n                if (toggle) {\n                    that.successMessage = $(\"<span id=\\\"\" + idAttr + \"\\\" class=\\\"\" + Captcha.styles.success + \"\\\">\" + kendo.htmlEncode(messages.success) + \"</span>\");\n                    that._inputWrapper.after(that.successMessage);\n                    that.element.attr(\"aria-describedby\", idAttr);\n                }\n            },\n\n            _toggleButtons: function(toggle) {\n                var that = this;\n\n                if (that.resetButton) {\n                    that.resetButton.prop(\"disabled\", !toggle);\n                }\n\n                if (that.audioButton) {\n                    that.audioButton.prop(\"disabled\", !toggle);\n                }\n            },\n\n            _progress: function(toggle) {\n                var that = this;\n\n                that.wrapper.toggleClass(Captcha.styles.loading, toggle);\n                that._inputWrapper.toggleClass(Captcha.styles.disabled, toggle);\n                that._toggleButtons(!toggle);\n                that._toggleSkeleton(toggle);\n            },\n\n            _toggleSkeleton: function(toggle) {\n                var that = this;\n\n                if (that.skeleton) {\n                    that.skeleton.remove();\n                }\n\n                if (toggle) {\n                    that.skeleton = $(\"<span class='k-skeleton k-skeleton-rect k-skeleton-pulse'></span>\").css({\n                        width: \"100%\",\n                        height: \"100%\"\n                    });\n                    that.captchaImage.before(that.skeleton);\n                }\n            },\n\n            _isRtl: function() {\n                return kendo.support.isRtl(this.wrapper);\n            },\n\n            value: function() {\n                return this.element.val();\n            },\n\n            getCaptchaId: function() {\n                return this.idInput.val();\n            },\n\n            toJSON: function() {\n                var that = this,\n                    obj = {};\n\n                obj[that._valueField] = that.value();\n                obj[that._captchaIdField] = that.getCaptchaId();\n\n                return obj;\n            },\n\n            validate: function() {\n                return this._validationHandler();\n            },\n\n            isValid: function() {\n                return this._isValid;\n            },\n\n            enable: function(toggle) {\n                var that = this;\n\n                toggle = toggle !== false;\n\n                that._toggleButtons(toggle);\n\n                that.textbox.enable(toggle);\n\n                if (toggle) {\n                    that.captchaImage.removeAttr(\"tabIndex\");\n                    that._tabindex(that.captchaImage);\n                } else {\n                    that.captchaImage.attr(\"tabIndex\", \"-1\");\n                }\n\n                that.captchaImage.toggleClass(Captcha.styles.disabled, !toggle);\n                that.wrapper.toggleClass(Captcha.styles.disabled, !toggle);\n            },\n\n            readonly: function(toggle) {\n                var that = this;\n\n                toggle = toggle !== false;\n\n                if (that.resetButton) {\n                    that.resetButton.prop(\"disabled\", toggle);\n                }\n\n                that.textbox.readonly(toggle);\n            },\n\n            speak: function() {\n                return this._audioHandler();\n            },\n\n            reset: function() {\n                return this._resetHandler();\n            }\n        });\n\n        kendo.ui.plugin(Captcha);\n\n        extend(true, Captcha, { styles: CaptchaStyles });\n\n    })(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}