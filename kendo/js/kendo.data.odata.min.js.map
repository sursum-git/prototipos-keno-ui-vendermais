{"version":3,"file":"kendo.data.odata.min.js","names":[],"sources":["../../src/kendo.data.odata.js"],"sourcesContent":["import \"./kendo.core.js\";\n\nexport const __meta__ = {\n    id: \"data.odata\",\n    name: \"OData\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        extend = $.extend,\n        NEWLINE = \"\\r\\n\",\n        DOUBLELINE = \"\\r\\n\\r\\n\",\n        isFunction = kendo.isFunction,\n        odataFilters = {\n            eq: \"eq\",\n            neq: \"ne\",\n            gt: \"gt\",\n            gte: \"ge\",\n            lt: \"lt\",\n            lte: \"le\",\n            contains: \"substringof\",\n            doesnotcontain: \"substringof\",\n            endswith: \"endswith\",\n            startswith: \"startswith\",\n            isnull: \"eq\",\n            isnotnull: \"ne\",\n            isnullorempty: \"eq\",\n            isnotnullorempty: \"ne\",\n            isempty: \"eq\",\n            isnotempty: \"ne\"\n        },\n        odataFiltersVersionFour = extend({}, odataFilters, {\n            contains: \"contains\"\n        }),\n        mappers = {\n            pageSize: $.noop,\n            page: $.noop,\n            filter: function(params, filter, useVersionFour) {\n                if (filter) {\n                    filter = toOdataFilter(filter, useVersionFour);\n                    if (filter) {\n                        params.$filter = filter;\n                    }\n                }\n            },\n            sort: function(params, orderby) {\n                var expr = $.map(orderby, function(value) {\n                    var order = value.field.replace(/\\./g, \"/\");\n\n                    if (value.dir === \"desc\") {\n                        order += \" desc\";\n                    }\n\n                    return order;\n                }).join(\",\");\n\n                if (expr) {\n                    params.$orderby = expr;\n                }\n            },\n            skip: function(params, skip) {\n                if (skip) {\n                    params.$skip = skip;\n                }\n            },\n            take: function(params, take) {\n                if (take) {\n                    params.$top = take;\n                }\n            }\n        },\n        defaultDataType = {\n            read: {\n                dataType: \"jsonp\"\n            }\n        };\n\n    function toOdataFilter(filter, useOdataFour) {\n        var result = [],\n            logic = filter.logic || \"and\",\n            idx,\n            length,\n            field,\n            type,\n            format,\n            operator,\n            value,\n            ignoreCase,\n            filters = filter.filters;\n\n        for (idx = 0, length = filters.length; idx < length; idx++) {\n            filter = filters[idx];\n            field = filter.field;\n            value = filter.value;\n            operator = filter.operator;\n\n            if (filter.filters) {\n                filter = toOdataFilter(filter, useOdataFour);\n            } else {\n                ignoreCase = filter.ignoreCase;\n                field = field.replace(/\\./g, \"/\");\n                filter = odataFilters[operator];\n                if (useOdataFour) {\n                    filter = odataFiltersVersionFour[operator];\n                }\n\n                if (operator === \"isnullorempty\") {\n                    filter = kendo.format(\"({0} {1} null or {0} {1} '')\", field, filter);\n                } else if (operator === \"isnotnullorempty\") {\n                    filter = kendo.format(\"({0} {1} null and {0} {1} '')\", field, filter);\n                } else if (operator === \"isnull\" || operator === \"isnotnull\") {\n                    filter = kendo.format(\"{0} {1} null\", field, filter);\n                } else if (operator === \"isempty\" || operator === \"isnotempty\") {\n                    filter = kendo.format(\"{0} {1} ''\", field, filter);\n                } else if (filter && value !== undefined) {\n                    type = kendo.type(value);\n                    if (type === \"string\") {\n                        format = \"'{1}'\";\n                        value = value.replace(/'/g, \"''\");\n\n                        if (ignoreCase === true) {\n                            field = \"tolower(\" + field + \")\";\n                        }\n\n                    } else if (type === \"date\") {\n                        if (useOdataFour) {\n                            format = \"{1:yyyy-MM-ddTHH:mm:ss+00:00}\";\n                            value = kendo.timezone.apply(value, 'Etc/UTC');\n                        } else {\n                            format = \"datetime'{1:yyyy-MM-ddTHH:mm:ss}'\";\n                        }\n                    } else {\n                        format = \"{1}\";\n                    }\n\n                    if (filter.length > 3) {\n                        if (filter !== \"substringof\") {\n                            format = \"{0}({2},\" + format + \")\";\n                        } else {\n                            format = \"{0}(\" + format + \",{2})\";\n                            if (operator === \"doesnotcontain\") {\n                                if (useOdataFour) {\n                                    format = \"{0}({2},'{1}') eq -1\";\n                                    filter = \"indexof\";\n                                } else {\n                                    format += \" eq false\";\n                                }\n                            }\n                        }\n                    } else {\n                        format = \"{2} {0} \" + format;\n                    }\n\n                    filter = kendo.format(format, filter, value, field);\n                }\n            }\n\n            result.push(filter);\n        }\n\n        filter = result.join(\" \" + logic + \" \");\n\n        if (result.length > 1) {\n            filter = \"(\" + filter + \")\";\n        }\n\n        return filter;\n    }\n\n    function stripMetadata(obj) {\n        for (var name in obj) {\n            if (name.indexOf(\"@odata\") === 0) {\n                delete obj[name];\n            }\n        }\n    }\n\n    function hex16() {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substr(1);\n    }\n\n    function createBoundary(prefix) {\n        return prefix + hex16() + '-' + hex16() + '-' + hex16();\n    }\n\n    function createDelimeter(boundary, close) {\n        var result = NEWLINE + \"--\" + boundary;\n\n        if (close) {\n            result += \"--\";\n        }\n\n        return result;\n    }\n\n    function createCommand(transport, item, httpVerb, command) {\n         var transportUrl = transport.options[command].url;\n         var commandPrefix = kendo.format(\"{0} \", httpVerb);\n\n         if (isFunction(transportUrl)) {\n             return commandPrefix + transportUrl(item);\n         } else {\n             return commandPrefix + transportUrl;\n         }\n    }\n\n    function getOperationHeader(changeset, changeId) {\n        var header = \"\";\n\n        header += createDelimeter(changeset, false);\n        header += NEWLINE + 'Content-Type: application/http';\n        header += NEWLINE + 'Content-Transfer-Encoding: binary';\n        header += NEWLINE + 'Content-ID: ' + changeId;\n\n        return header;\n    }\n\n    function getOperationContent(item) {\n        var content = \"\";\n\n        content += NEWLINE + \"Content-Type: application/json;odata=minimalmetadata\";\n        content += NEWLINE + \"Prefer: return=representation\";\n        content += DOUBLELINE + kendo.stringify(item);\n\n        return content;\n    }\n\n    function getOperations(collection, changeset, changeId, command, transport, skipContent) {\n        var requestBody = \"\";\n\n        for (var i = 0; i < collection.length; i++) {\n            requestBody += getOperationHeader(changeset, changeId);\n            requestBody += DOUBLELINE + createCommand(transport, collection[i], transport.options[command].type, command) + ' HTTP/1.1';\n            if (!skipContent) {\n                requestBody += getOperationContent(collection[i]);\n            }\n            requestBody += NEWLINE;\n            changeId++;\n        }\n\n        return requestBody;\n    }\n\n    function processCollection(colection, boundary, changeset, changeId, transport, command, skipContent) {\n        var requestBody = \"\";\n\n        requestBody += getBoundary(boundary, changeset);\n        requestBody += getOperations(colection, changeset, changeId, command, transport, skipContent);\n        requestBody += createDelimeter(changeset, true);\n        requestBody += NEWLINE;\n\n        return requestBody;\n    }\n\n    function getBoundary(boundary,changeset) {\n        var requestBody = \"\";\n\n        requestBody += \"--\" + boundary + NEWLINE;\n        requestBody += \"Content-Type: multipart/mixed; boundary=\" + changeset + NEWLINE;\n\n        return requestBody;\n    }\n\n    function createBatchRequest(transport, colections) {\n\t\tvar options = extend({}, transport.options.batch);\n        var boundary = createBoundary(\"sf_batch_\");\n        var requestBody = \"\";\n        var changeId = 0;\n        var batchURL = transport.options.batch.url;\n        var changeset = createBoundary(\"sf_changeset_\");\n\n        options.type = transport.options.batch.type;\n        options.url = isFunction(batchURL) ? batchURL() : batchURL;\n\t\toptions.headers = extend(options.headers || {}, {\n\t\t\t\"Content-Type\": \"multipart/mixed; boundary=\" + boundary\n\t\t});\n\n        if (colections.updated.length) {\n            requestBody += processCollection(colections.updated, boundary, changeset, changeId, transport, \"update\", false);\n            changeId += colections.updated.length;\n            changeset = createBoundary(\"sf_changeset_\");\n        }\n\n        if (colections.destroyed.length) {\n            requestBody += processCollection(colections.destroyed, boundary, changeset, changeId, transport, \"destroy\", true);\n            changeId += colections.destroyed.length;\n            changeset = createBoundary(\"sf_changeset_\");\n        }\n\n        if (colections.created.length) {\n            requestBody += processCollection(colections.created, boundary, changeset, changeId, transport, \"create\", false);\n        }\n\n        requestBody += createDelimeter(boundary, true);\n\n        options.data = requestBody;\n\n        return options;\n    }\n\n    function parseBatchResponse(responseText) {\n        var responseMarkers = responseText.match(/--changesetresponse_[a-z0-9-]+$/gm);\n        var markerIndex = 0;\n        var collections = [];\n        var changeBody;\n        var status;\n        var code;\n        var marker;\n        var jsonModel;\n\n        collections.push({ models: [], passed: true });\n\n        for (var i = 0; i < responseMarkers.length; i++) {\n            marker = responseMarkers[i];\n            if (marker.lastIndexOf('--', marker.length - 1)) {\n                if (i < responseMarkers.length - 1) {\n                    collections.push({ models: [], passed: true });\n                }\n                continue;\n            }\n\n            if (!markerIndex) {\n                markerIndex = responseText.indexOf(marker);\n            } else {\n                markerIndex = responseText.indexOf(marker, markerIndex + marker.length);\n            }\n\n            changeBody = responseText.substring(markerIndex, responseText.indexOf(\"--\", markerIndex + 1));\n            status = changeBody.match(/^HTTP\\/1\\.\\d (\\d{3}) (.*)$/gm).pop();\n            code = kendo.parseFloat(status.match(/\\d{3}/g).pop());\n\n            if (code >= 200 && code <= 299) {\n                jsonModel = changeBody.match(/\\{.*\\}/gm);\n                if (jsonModel) {\n                    collections[collections.length - 1].models.push(JSON.parse(jsonModel[0]));\n                }\n            } else {\n                collections[collections.length - 1].passed = false;\n            }\n\n        }\n\n        return collections;\n    }\n\n    extend(true, kendo.data, {\n        schemas: {\n            odata: {\n                type: \"json\",\n                data: function(data) {\n                    return data.d.results || [data.d];\n                },\n                total: \"d.__count\"\n            }\n        },\n        transports: {\n            odata: {\n                read: {\n                    cache: true, // to prevent jQuery from adding cache buster\n                    dataType: \"jsonp\",\n                    jsonp: \"$callback\"\n                },\n                update: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json\", // to inform the server the request body is JSON encoded\n                    type: \"PUT\" // can be PUT or MERGE\n                },\n                create: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json\",\n                    type: \"POST\" // must be POST to create new entity\n                },\n                destroy: {\n                    cache: true,\n                    dataType: \"json\",\n                    type: \"DELETE\"\n                },\n                parameterMap: function(options, type, useVersionFour) {\n                    var params,\n                        value,\n                        option,\n                        dataType;\n\n                    options = options || {};\n                    type = type || \"read\";\n                    dataType = (this.options || defaultDataType)[type];\n                    dataType = dataType ? dataType.dataType : \"json\";\n\n                    if (type === \"read\") {\n                        params = {\n                            $inlinecount: \"allpages\"\n                        };\n\n                        if (dataType != \"json\") {\n                            params.$format = \"json\";\n                        }\n\n                        for (option in options) {\n                            if (mappers[option]) {\n                                mappers[option](params, options[option], useVersionFour);\n                            } else {\n                                params[option] = options[option];\n                            }\n                        }\n                    } else {\n                        if (dataType !== \"json\") {\n                            throw new Error(\"Only json dataType can be used for \" + type + \" operation.\");\n                        }\n\n                        if (type !== \"destroy\") {\n                            for (option in options) {\n                                value = options[option];\n                                if (typeof value === \"number\") {\n                                    options[option] = value + \"\";\n                                }\n                            }\n\n                            params = kendo.stringify(options);\n                        }\n                    }\n\n                    return params;\n                }\n            }\n        }\n    });\n\n    extend(true, kendo.data, {\n        schemas: {\n            \"odata-v4\": {\n                type: \"json\",\n                data: function(data) {\n                    if (Array.isArray(data)) {\n                        for (var i = 0; i < data.length; i++) {\n                            stripMetadata(data[i]);\n                        }\n                        return data;\n                    } else {\n                        data = $.extend({}, data);\n                        stripMetadata(data);\n\n                        if (data.value) {\n                            return data.value;\n                        }\n                        return [data];\n                    }\n                },\n                total: function(data) {\n                    return data[\"@odata.count\"];\n                }\n            }\n        },\n        transports: {\n            \"odata-v4\": {\n                batch: {\n                    type: \"POST\"\n                },\n                read: {\n                    cache: true, // to prevent jQuery from adding cache buster\n                    dataType: \"json\"\n                },\n                update: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json;IEEE754Compatible=true\", // to inform the server the request body is JSON encoded\n                    type: \"PUT\" // can be PUT or MERGE\n                },\n                create: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json;IEEE754Compatible=true\",\n                    type: \"POST\" // must be POST to create new entity\n                },\n                destroy: {\n                    cache: true,\n                    dataType: \"json\",\n                    type: \"DELETE\"\n                },\n                parameterMap: function(options, type) {\n                    var result = kendo.data.transports.odata.parameterMap(options, type, true);\n                    if (type == \"read\") {\n                        result.$count = true;\n                        delete result.$inlinecount;\n                    }\n\n\t\t\t\t\tif (result && result.$filter) {\n\t\t\t\t\t\t// Remove the single quotation marks around the GUID (OData v4).\n\t\t\t\t\t\tresult.$filter = result.$filter.replace(/('[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}')/ig, function(x) {\n\t\t\t\t\t\t\treturn x.substring(1, x.length - 1);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n                    return result;\n                },\n                submit: function(e) {\n                    var that = this;\n                    var options = createBatchRequest(that, e.data);\n                    var collections = e.data;\n\n                    if (!collections.updated.length && !collections.destroyed.length && !collections.created.length) {\n                        return;\n                    }\n\n                    $.ajax(extend(true, {}, {\n                        success: function(response) {\n                            var responses = parseBatchResponse(response);\n                            var index = 0;\n                            var current;\n\n                            if (collections.updated.length) {\n                                current = responses[index];\n                                if (current.passed) {\n                                    // Pass either the obtained models or an empty array if only status codes are returned.\n                                    e.success(current.models.length ? current.models : [], \"update\");\n                                }\n                                index++;\n                            }\n                            if (collections.destroyed.length) {\n                                current = responses[index];\n                                if (current.passed) {\n                                    // For delete operations OData returns only status codes.\n                                    // Passing empty array to datasource will force it to correctly remove the deleted items from the pristine collection.\n                                    e.success([], \"destroy\");\n                                }\n                                index++;\n                            }\n                            if (collections.created.length) {\n                                current = responses[index];\n                                if (current.passed) {\n                                    e.success(current.models, \"create\");\n                                }\n                            }\n                        },\n                        error: function(response, status, error) {\n                            e.error(response, status, error);\n                        }\n                    }, options));\n                }\n            }\n        }\n    });\n\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}