{"version":3,"file":"kendo.dataviz.map.min.js","names":[],"sources":["../../src/util/main.js","../../src/dataviz/map/location.js","../../src/dataviz/map/attribution.js","../../src/dataviz/map/navigator.js","../../src/dataviz/map/zoom.js","../../src/dataviz/map/crs.js","../../src/dataviz/map/layers/base.js","../../src/dataviz/map/layers/shape.js","../../src/dataviz/map/layers/bubble.js","../../src/dataviz/map/layers/tile.js","../../src/dataviz/map/layers/bing.js","../../src/dataviz/map/layers/marker.js","../../src/dataviz/map/main.js","../../src/kendo.dataviz.map.js"],"sourcesContent":["import \"../kendo.core.js\";\r\n\r\n(function () {\r\n    // Imports ================================================================\r\n    var kendo = window.kendo,\r\n        deepExtend = kendo.deepExtend;\r\n\r\n    function sqr(value) {\r\n        return value * value;\r\n    }\r\n\r\n    var now = Date.now;\r\n    if (!now) {\r\n        now = function() {\r\n            return new Date().getTime();\r\n        };\r\n    }\r\n\r\n    // Template helpers =======================================================\r\n\r\n    function renderSize(size) {\r\n        if (typeof size !== \"string\") {\r\n            size += \"px\";\r\n        }\r\n\r\n        return size;\r\n    }\r\n\r\n    function renderPosNew(pos) {\r\n        if (pos) {\r\n            const map = {\r\n                \"topLeft\": \"k-top-start\",\r\n                \"topRight\": \"k-top-end\",\r\n                \"bottomLeft\": \"k-bottom-start\",\r\n                \"bottomRight\": \"k-bottom-end\"\r\n            }\r\n\r\n            return map[pos];\r\n        }\r\n    }\r\n\r\n    function renderPos(pos) {\r\n        var result = [];\r\n\r\n        if (pos) {\r\n            var parts = kendo.toHyphens(pos).split(\"-\");\r\n\r\n            for (var i = 0; i < parts.length; i++) {\r\n                result.push(\"k-pos-\" + parts[i]);\r\n            }\r\n        }\r\n\r\n        return result.join(\" \");\r\n    }\r\n\r\n    function arabicToRoman(n) {\r\n        var literals = {\r\n            1    : \"i\",       10   : \"x\",       100  : \"c\",\r\n            2    : \"ii\",      20   : \"xx\",      200  : \"cc\",\r\n            3    : \"iii\",     30   : \"xxx\",     300  : \"ccc\",\r\n            4    : \"iv\",      40   : \"xl\",      400  : \"cd\",\r\n            5    : \"v\",       50   : \"l\",       500  : \"d\",\r\n            6    : \"vi\",      60   : \"lx\",      600  : \"dc\",\r\n            7    : \"vii\",     70   : \"lxx\",     700  : \"dcc\",\r\n            8    : \"viii\",    80   : \"lxxx\",    800  : \"dccc\",\r\n            9    : \"ix\",      90   : \"xc\",      900  : \"cm\",\r\n            1000 : \"m\"\r\n        };\r\n        var values = [ 1000,\r\n                       900 , 800, 700, 600, 500, 400, 300, 200, 100,\r\n                       90  , 80 , 70 , 60 , 50 , 40 , 30 , 20 , 10 ,\r\n                       9   , 8  , 7  , 6  , 5  , 4  , 3  , 2  , 1 ];\r\n        var roman = \"\";\r\n        while (n > 0) {\r\n            if (n < values[0]) {\r\n                values.shift();\r\n            } else {\r\n                roman += literals[values[0]];\r\n                n -= values[0];\r\n            }\r\n        }\r\n        return roman;\r\n    }\r\n\r\n    function romanToArabic(r) {\r\n        r = r.toLowerCase();\r\n        var digits = {\r\n            i: 1,\r\n            v: 5,\r\n            x: 10,\r\n            l: 50,\r\n            c: 100,\r\n            d: 500,\r\n            m: 1000\r\n        };\r\n        var value = 0, prev = 0;\r\n        for (var i = 0; i < r.length; ++i) {\r\n            var v = digits[r.charAt(i)];\r\n            if (!v) {\r\n                return null;\r\n            }\r\n            value += v;\r\n            if (v > prev) {\r\n                value -= 2 * prev;\r\n            }\r\n            prev = v;\r\n        }\r\n        return value;\r\n    }\r\n\r\n    function memoize(f) {\r\n        var cache = Object.create(null);\r\n        return function() {\r\n            var id = \"\";\r\n            for (var i = arguments.length; --i >= 0;) {\r\n                id += \":\" + arguments[i];\r\n            }\r\n            return id in cache ? cache[id] : (cache[id] = f.apply(this, arguments));\r\n        };\r\n    }\r\n\r\n    function isUnicodeLetter(ch) {\r\n        return RX_UNICODE_LETTER.test(ch);\r\n    }\r\n\r\n    function withExit(f, obj) {\r\n        try {\r\n            return f.call(obj, function(value){\r\n                throw new Return(value);\r\n            });\r\n        } catch(ex) {\r\n            if (ex instanceof Return) {\r\n                return ex.value;\r\n            }\r\n            throw ex;\r\n        }\r\n        function Return(value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n    // Exports ================================================================\r\n    deepExtend(kendo, {\r\n        util: {\r\n            now: now,\r\n            renderPos: renderPos,\r\n            renderPosNew: renderPosNew,\r\n            renderSize: renderSize,\r\n            sqr: sqr,\r\n            romanToArabic: romanToArabic,\r\n            arabicToRoman: arabicToRoman,\r\n            memoize: memoize,\r\n            isUnicodeLetter: isUnicodeLetter,\r\n            withExit: withExit\r\n        }\r\n    });\r\n\r\n    var RX_UNICODE_LETTER = new RegExp(\"[\\\\u0041-\\\\u005A\\\\u0061-\\\\u007A\\\\u00AA\\\\u00B5\\\\u00BA\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02C1\\\\u02C6-\\\\u02D1\\\\u02E0-\\\\u02E4\\\\u02EC\\\\u02EE\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037A-\\\\u037D\\\\u037F\\\\u0386\\\\u0388-\\\\u038A\\\\u038C\\\\u038E-\\\\u03A1\\\\u03A3-\\\\u03F5\\\\u03F7-\\\\u0481\\\\u048A-\\\\u052F\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05D0-\\\\u05EA\\\\u05F0-\\\\u05F2\\\\u0620-\\\\u064A\\\\u066E\\\\u066F\\\\u0671-\\\\u06D3\\\\u06D5\\\\u06E5\\\\u06E6\\\\u06EE\\\\u06EF\\\\u06FA-\\\\u06FC\\\\u06FF\\\\u0710\\\\u0712-\\\\u072F\\\\u074D-\\\\u07A5\\\\u07B1\\\\u07CA-\\\\u07EA\\\\u07F4\\\\u07F5\\\\u07FA\\\\u0800-\\\\u0815\\\\u081A\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08A0-\\\\u08B2\\\\u0904-\\\\u0939\\\\u093D\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0980\\\\u0985-\\\\u098C\\\\u098F\\\\u0990\\\\u0993-\\\\u09A8\\\\u09AA-\\\\u09B0\\\\u09B2\\\\u09B6-\\\\u09B9\\\\u09BD\\\\u09CE\\\\u09DC\\\\u09DD\\\\u09DF-\\\\u09E1\\\\u09F0\\\\u09F1\\\\u0A05-\\\\u0A0A\\\\u0A0F\\\\u0A10\\\\u0A13-\\\\u0A28\\\\u0A2A-\\\\u0A30\\\\u0A32\\\\u0A33\\\\u0A35\\\\u0A36\\\\u0A38\\\\u0A39\\\\u0A59-\\\\u0A5C\\\\u0A5E\\\\u0A72-\\\\u0A74\\\\u0A85-\\\\u0A8D\\\\u0A8F-\\\\u0A91\\\\u0A93-\\\\u0AA8\\\\u0AAA-\\\\u0AB0\\\\u0AB2\\\\u0AB3\\\\u0AB5-\\\\u0AB9\\\\u0ABD\\\\u0AD0\\\\u0AE0\\\\u0AE1\\\\u0B05-\\\\u0B0C\\\\u0B0F\\\\u0B10\\\\u0B13-\\\\u0B28\\\\u0B2A-\\\\u0B30\\\\u0B32\\\\u0B33\\\\u0B35-\\\\u0B39\\\\u0B3D\\\\u0B5C\\\\u0B5D\\\\u0B5F-\\\\u0B61\\\\u0B71\\\\u0B83\\\\u0B85-\\\\u0B8A\\\\u0B8E-\\\\u0B90\\\\u0B92-\\\\u0B95\\\\u0B99\\\\u0B9A\\\\u0B9C\\\\u0B9E\\\\u0B9F\\\\u0BA3\\\\u0BA4\\\\u0BA8-\\\\u0BAA\\\\u0BAE-\\\\u0BB9\\\\u0BD0\\\\u0C05-\\\\u0C0C\\\\u0C0E-\\\\u0C10\\\\u0C12-\\\\u0C28\\\\u0C2A-\\\\u0C39\\\\u0C3D\\\\u0C58\\\\u0C59\\\\u0C60\\\\u0C61\\\\u0C85-\\\\u0C8C\\\\u0C8E-\\\\u0C90\\\\u0C92-\\\\u0CA8\\\\u0CAA-\\\\u0CB3\\\\u0CB5-\\\\u0CB9\\\\u0CBD\\\\u0CDE\\\\u0CE0\\\\u0CE1\\\\u0CF1\\\\u0CF2\\\\u0D05-\\\\u0D0C\\\\u0D0E-\\\\u0D10\\\\u0D12-\\\\u0D3A\\\\u0D3D\\\\u0D4E\\\\u0D60\\\\u0D61\\\\u0D7A-\\\\u0D7F\\\\u0D85-\\\\u0D96\\\\u0D9A-\\\\u0DB1\\\\u0DB3-\\\\u0DBB\\\\u0DBD\\\\u0DC0-\\\\u0DC6\\\\u0E01-\\\\u0E30\\\\u0E32\\\\u0E33\\\\u0E40-\\\\u0E46\\\\u0E81\\\\u0E82\\\\u0E84\\\\u0E87\\\\u0E88\\\\u0E8A\\\\u0E8D\\\\u0E94-\\\\u0E97\\\\u0E99-\\\\u0E9F\\\\u0EA1-\\\\u0EA3\\\\u0EA5\\\\u0EA7\\\\u0EAA\\\\u0EAB\\\\u0EAD-\\\\u0EB0\\\\u0EB2\\\\u0EB3\\\\u0EBD\\\\u0EC0-\\\\u0EC4\\\\u0EC6\\\\u0EDC-\\\\u0EDF\\\\u0F00\\\\u0F40-\\\\u0F47\\\\u0F49-\\\\u0F6C\\\\u0F88-\\\\u0F8C\\\\u1000-\\\\u102A\\\\u103F\\\\u1050-\\\\u1055\\\\u105A-\\\\u105D\\\\u1061\\\\u1065\\\\u1066\\\\u106E-\\\\u1070\\\\u1075-\\\\u1081\\\\u108E\\\\u10A0-\\\\u10C5\\\\u10C7\\\\u10CD\\\\u10D0-\\\\u10FA\\\\u10FC-\\\\u1248\\\\u124A-\\\\u124D\\\\u1250-\\\\u1256\\\\u1258\\\\u125A-\\\\u125D\\\\u1260-\\\\u1288\\\\u128A-\\\\u128D\\\\u1290-\\\\u12B0\\\\u12B2-\\\\u12B5\\\\u12B8-\\\\u12BE\\\\u12C0\\\\u12C2-\\\\u12C5\\\\u12C8-\\\\u12D6\\\\u12D8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135A\\\\u1380-\\\\u138F\\\\u13A0-\\\\u13F4\\\\u1401-\\\\u166C\\\\u166F-\\\\u167F\\\\u1681-\\\\u169A\\\\u16A0-\\\\u16EA\\\\u16EE-\\\\u16F8\\\\u1700-\\\\u170C\\\\u170E-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176C\\\\u176E-\\\\u1770\\\\u1780-\\\\u17B3\\\\u17D7\\\\u17DC\\\\u1820-\\\\u1877\\\\u1880-\\\\u18A8\\\\u18AA\\\\u18B0-\\\\u18F5\\\\u1900-\\\\u191E\\\\u1950-\\\\u196D\\\\u1970-\\\\u1974\\\\u1980-\\\\u19AB\\\\u19C1-\\\\u19C7\\\\u1A00-\\\\u1A16\\\\u1A20-\\\\u1A54\\\\u1AA7\\\\u1B05-\\\\u1B33\\\\u1B45-\\\\u1B4B\\\\u1B83-\\\\u1BA0\\\\u1BAE\\\\u1BAF\\\\u1BBA-\\\\u1BE5\\\\u1C00-\\\\u1C23\\\\u1C4D-\\\\u1C4F\\\\u1C5A-\\\\u1C7D\\\\u1CE9-\\\\u1CEC\\\\u1CEE-\\\\u1CF1\\\\u1CF5\\\\u1CF6\\\\u1D00-\\\\u1DBF\\\\u1E00-\\\\u1F15\\\\u1F18-\\\\u1F1D\\\\u1F20-\\\\u1F45\\\\u1F48-\\\\u1F4D\\\\u1F50-\\\\u1F57\\\\u1F59\\\\u1F5B\\\\u1F5D\\\\u1F5F-\\\\u1F7D\\\\u1F80-\\\\u1FB4\\\\u1FB6-\\\\u1FBC\\\\u1FBE\\\\u1FC2-\\\\u1FC4\\\\u1FC6-\\\\u1FCC\\\\u1FD0-\\\\u1FD3\\\\u1FD6-\\\\u1FDB\\\\u1FE0-\\\\u1FEC\\\\u1FF2-\\\\u1FF4\\\\u1FF6-\\\\u1FFC\\\\u2071\\\\u207F\\\\u2090-\\\\u209C\\\\u2102\\\\u2107\\\\u210A-\\\\u2113\\\\u2115\\\\u2119-\\\\u211D\\\\u2124\\\\u2126\\\\u2128\\\\u212A-\\\\u212D\\\\u212F-\\\\u2139\\\\u213C-\\\\u213F\\\\u2145-\\\\u2149\\\\u214E\\\\u2160-\\\\u2188\\\\u2C00-\\\\u2C2E\\\\u2C30-\\\\u2C5E\\\\u2C60-\\\\u2CE4\\\\u2CEB-\\\\u2CEE\\\\u2CF2\\\\u2CF3\\\\u2D00-\\\\u2D25\\\\u2D27\\\\u2D2D\\\\u2D30-\\\\u2D67\\\\u2D6F\\\\u2D80-\\\\u2D96\\\\u2DA0-\\\\u2DA6\\\\u2DA8-\\\\u2DAE\\\\u2DB0-\\\\u2DB6\\\\u2DB8-\\\\u2DBE\\\\u2DC0-\\\\u2DC6\\\\u2DC8-\\\\u2DCE\\\\u2DD0-\\\\u2DD6\\\\u2DD8-\\\\u2DDE\\\\u2E2F\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303C\\\\u3041-\\\\u3096\\\\u309D-\\\\u309F\\\\u30A1-\\\\u30FA\\\\u30FC-\\\\u30FF\\\\u3105-\\\\u312D\\\\u3131-\\\\u318E\\\\u31A0-\\\\u31BA\\\\u31F0-\\\\u31FF\\\\u3400-\\\\u4DB5\\\\u4E00-\\\\u9FCC\\\\uA000-\\\\uA48C\\\\uA4D0-\\\\uA4FD\\\\uA500-\\\\uA60C\\\\uA610-\\\\uA61F\\\\uA62A\\\\uA62B\\\\uA640-\\\\uA66E\\\\uA67F-\\\\uA69D\\\\uA6A0-\\\\uA6EF\\\\uA717-\\\\uA71F\\\\uA722-\\\\uA788\\\\uA78B-\\\\uA78E\\\\uA790-\\\\uA7AD\\\\uA7B0\\\\uA7B1\\\\uA7F7-\\\\uA801\\\\uA803-\\\\uA805\\\\uA807-\\\\uA80A\\\\uA80C-\\\\uA822\\\\uA840-\\\\uA873\\\\uA882-\\\\uA8B3\\\\uA8F2-\\\\uA8F7\\\\uA8FB\\\\uA90A-\\\\uA925\\\\uA930-\\\\uA946\\\\uA960-\\\\uA97C\\\\uA984-\\\\uA9B2\\\\uA9CF\\\\uA9E0-\\\\uA9E4\\\\uA9E6-\\\\uA9EF\\\\uA9FA-\\\\uA9FE\\\\uAA00-\\\\uAA28\\\\uAA40-\\\\uAA42\\\\uAA44-\\\\uAA4B\\\\uAA60-\\\\uAA76\\\\uAA7A\\\\uAA7E-\\\\uAAAF\\\\uAAB1\\\\uAAB5\\\\uAAB6\\\\uAAB9-\\\\uAABD\\\\uAAC0\\\\uAAC2\\\\uAADB-\\\\uAADD\\\\uAAE0-\\\\uAAEA\\\\uAAF2-\\\\uAAF4\\\\uAB01-\\\\uAB06\\\\uAB09-\\\\uAB0E\\\\uAB11-\\\\uAB16\\\\uAB20-\\\\uAB26\\\\uAB28-\\\\uAB2E\\\\uAB30-\\\\uAB5A\\\\uAB5C-\\\\uAB5F\\\\uAB64\\\\uAB65\\\\uABC0-\\\\uABE2\\\\uAC00-\\\\uD7A3\\\\uD7B0-\\\\uD7C6\\\\uD7CB-\\\\uD7FB\\\\uF900-\\\\uFA6D\\\\uFA70-\\\\uFAD9\\\\uFB00-\\\\uFB06\\\\uFB13-\\\\uFB17\\\\uFB1D\\\\uFB1F-\\\\uFB28\\\\uFB2A-\\\\uFB36\\\\uFB38-\\\\uFB3C\\\\uFB3E\\\\uFB40\\\\uFB41\\\\uFB43\\\\uFB44\\\\uFB46-\\\\uFBB1\\\\uFBD3-\\\\uFD3D\\\\uFD50-\\\\uFD8F\\\\uFD92-\\\\uFDC7\\\\uFDF0-\\\\uFDFB\\\\uFE70-\\\\uFE74\\\\uFE76-\\\\uFEFC\\\\uFF21-\\\\uFF3A\\\\uFF41-\\\\uFF5A\\\\uFF66-\\\\uFFBE\\\\uFFC2-\\\\uFFC7\\\\uFFCA-\\\\uFFCF\\\\uFFD2-\\\\uFFD7\\\\uFFDA-\\\\uFFDC]\");\r\n\r\n})();\r\n\r\n","import \"../../kendo.drawing.js\";\nimport \"../../util/main.js\";\n\n(function($, undefined) {\n    // Imports ================================================================\n    var math = Math,\n        abs = math.abs,\n        atan = math.atan,\n        atan2 = math.atan2,\n        cos = math.cos,\n        max = math.max,\n        min = math.min,\n        sin = math.sin,\n        tan = math.tan,\n\n        kendo = window.kendo,\n        Class = kendo.Class,\n\n        dataviz = kendo.dataviz,\n        deepExtend = kendo.deepExtend,\n\n        util = kendo.drawing.util,\n        defined = util.defined,\n        deg = util.deg,\n        rad = util.rad,\n        round = util.round,\n        valueOrDefault = util.valueOrDefault,\n\n        sqr = kendo.util.sqr;\n\n    // Implementation =========================================================\n    var Location = Class.extend({\n        init: function(lat, lng) {\n            if (arguments.length === 1) {\n                this.lat = lat[0];\n                this.lng = lat[1];\n            } else {\n                this.lat = lat;\n                this.lng = lng;\n            }\n        },\n\n        DISTANCE_ITERATIONS: 100,\n        DISTANCE_CONVERGENCE: 1e-12,\n        DISTANCE_PRECISION: 2,\n        FORMAT: \"{0:N6},{1:N6}\",\n\n        toArray: function() {\n            return [this.lat, this.lng];\n        },\n\n        equals: function(loc) {\n            return loc && loc.lat === this.lat && loc.lng === this.lng;\n        },\n\n        clone: function() {\n            return new Location(this.lat, this.lng);\n        },\n\n        round: function(precision) {\n            this.lng = round(this.lng, precision);\n            this.lat = round(this.lat, precision);\n            return this;\n        },\n\n        wrap: function() {\n            this.lng = this.lng % 180;\n            this.lat = this.lat % 90;\n            return this;\n        },\n\n        distanceTo: function(dest, datum) {\n            return this.greatCircleTo(dest, datum).distance;\n        },\n\n        destination: function(distance, bearing, datum) {\n            bearing = rad(bearing);\n            datum = datum || dataviz.map.datums.WGS84;\n\n            var fromLat = rad(this.lat);\n            var fromLng = rad(this.lng);\n            var dToR = distance / kendo.dataviz.map.datums.WGS84.a;\n\n            var lat = math.asin(sin(fromLat) * cos(dToR) +\n                                cos(fromLat) * sin(dToR) * cos(bearing));\n\n            var lng = fromLng + atan2(sin(bearing) * sin(dToR) * cos(fromLat),\n                                      cos(dToR) - sin(fromLat) * sin(lat));\n\n           return new Location(deg(lat), deg(lng));\n        },\n\n        greatCircleTo: function(dest, datum) {\n            dest = Location.create(dest);\n            datum = datum || dataviz.map.datums.WGS84;\n\n            if (!dest || this.clone().round(8).equals(dest.clone().round(8))) {\n                return {\n                    distance: 0,\n                    azimuthFrom: 0,\n                    azimuthTo: 0\n                };\n            }\n\n            // See http://en.wikipedia.org/wiki/Vincenty's_formulae#Notation\n            // o == sigma\n            // A == alpha\n            var a = datum.a;\n            var b = datum.b;\n            var f = datum.f;\n\n            var L = rad(dest.lng - this.lng);\n\n            var U1 = atan((1 - f) * tan(rad(this.lat)));\n            var sinU1 = sin(U1);\n            var cosU1 = cos(U1);\n\n            var U2 = atan((1 - f) * tan(rad(dest.lat)));\n            var sinU2 = sin(U2);\n            var cosU2 = cos(U2);\n\n            var lambda = L;\n            var prevLambda;\n\n            var i = this.DISTANCE_ITERATIONS;\n            var converged = false;\n\n            var sinLambda;\n            var cosLambda;\n            var sino;\n            var cosA2;\n            var coso;\n            var cos2om;\n            var sigma;\n\n            while (!converged && i-- > 0) {\n                sinLambda = sin(lambda);\n                cosLambda = cos(lambda);\n                sino = math.sqrt(\n                    sqr(cosU2 * sinLambda) + sqr(cosU1 * sinU2 - sinU1 * cosU2 * cosLambda)\n                );\n\n                coso = sinU1 * sinU2 + cosU1 * cosU2 * cosLambda;\n                sigma = atan2(sino, coso);\n\n                var sinA = cosU1 * cosU2 * sinLambda / sino;\n                cosA2 = 1 - sqr(sinA);\n                cos2om = 0;\n                if (cosA2 !== 0) {\n                    cos2om = coso - 2 * sinU1 * sinU2 / cosA2;\n                }\n\n                prevLambda = lambda;\n                var C = f / 16 * cosA2 * (4 + f * (4 - 3 * cosA2));\n                lambda = L + (1 - C) * f * sinA * (\n                    sigma + C * sino * (cos2om + C * coso * (-1 + 2 * sqr(cos2om)))\n                );\n\n                converged = abs(lambda - prevLambda) <= this.DISTANCE_CONVERGENCE;\n            }\n\n            var u2 = cosA2 * (sqr(a) - sqr(b)) / sqr(b);\n            var A = 1 + u2 / 16384 * (4096 + u2 * (-768 + u2 * (320 - 175 * u2)));\n            var B = u2 / 1024 * (256 + u2 * (-128 + u2 * (74 - 47 * u2)));\n            var deltao = B * sino * (cos2om + B / 4 * (\n                coso * (-1 + 2 * sqr(cos2om)) - B / 6 * cos2om * (-3 + 4 * sqr(sino)) * (-3 + 4 * sqr(cos2om))\n            ));\n\n            var azimuthFrom = atan2(cosU2 * sinLambda, cosU1 * sinU2 - sinU1 * cosU2 * cosLambda);\n            var azimuthTo = atan2(cosU1 * sinLambda, -sinU1 * cosU2 + cosU1 * sinU2 * cosLambda);\n\n            return {\n                distance: round(b * A * (sigma - deltao), this.DISTANCE_PRECISION),\n                azimuthFrom: deg(azimuthFrom),\n                azimuthTo: deg(azimuthTo)\n            };\n        }\n    });\n\n    // IE < 9 doesn't allow to override toString on definition\n    Location.fn.toString = function() {\n        return kendo.format(this.FORMAT, this.lat, this.lng);\n    };\n\n    Location.fromLngLat = function(ll) {\n        return new Location(ll[1], ll[0]);\n    };\n\n    Location.fromLatLng = function(ll) {\n        return new Location(ll[0], ll[1]);\n    };\n\n    Location.create = function(a, b) {\n        if (defined(a)) {\n            if (a instanceof Location) {\n                return a.clone();\n            } else if (arguments.length === 1 && a.length === 2) {\n                return Location.fromLatLng(a);\n            } else {\n                return new Location(a, b);\n            }\n        }\n    };\n\n    var Extent = Class.extend({\n        init: function(nw, se) {\n            nw = Location.create(nw);\n            se = Location.create(se);\n\n            if (nw.lng + 180 > se.lng + 180 &&\n                nw.lat + 90 < se.lat + 90) {\n                this.se = nw;\n                this.nw = se;\n            } else {\n                this.se = se;\n                this.nw = nw;\n            }\n        },\n\n        contains: function(loc) {\n            var nw = this.nw,\n                se = this.se,\n                lng = valueOrDefault(loc.lng, loc[1]),\n                lat = valueOrDefault(loc.lat, loc[0]);\n\n            return loc &&\n                   lng + 180 >= nw.lng + 180 &&\n                   lng + 180 <= se.lng + 180 &&\n                   lat + 90 >= se.lat + 90 &&\n                   lat + 90 <= nw.lat + 90;\n        },\n\n        center: function() {\n            var nw = this.nw;\n            var se = this.se;\n\n            var lng = nw.lng + (se.lng - nw.lng) / 2;\n            var lat = nw.lat + (se.lat - nw.lat) / 2;\n            return new Location(lat, lng);\n        },\n\n        containsAny: function(locs) {\n            var result = false;\n            for (var i = 0; i < locs.length; i++) {\n                result = result || this.contains(locs[i]);\n            }\n\n            return result;\n        },\n\n        include: function(loc) {\n            var nw = this.nw,\n                se = this.se,\n                lng = valueOrDefault(loc.lng, loc[1]),\n                lat = valueOrDefault(loc.lat, loc[0]);\n\n            nw.lng = min(nw.lng, lng);\n            nw.lat = max(nw.lat, lat);\n\n            se.lng = max(se.lng, lng);\n            se.lat = min(se.lat, lat);\n        },\n\n        includeAll: function(locs) {\n            for (var i = 0; i < locs.length; i++) {\n                this.include(locs[i]);\n            }\n        },\n\n        edges: function() {\n            var nw = this.nw,\n                se = this.se;\n\n            return { nw: this.nw, ne: new Location(nw.lat, se.lng),\n                    se: this.se, sw: new Location(se.lat, nw.lng) };\n        },\n\n        toArray: function() {\n            var nw = this.nw,\n                se = this.se;\n\n            return [nw, new Location(nw.lat, se.lng),\n                    se, new Location(se.lat, nw.lng)];\n        },\n\n        overlaps: function(extent) {\n            return this.containsAny(extent.toArray()) ||\n                   extent.containsAny(this.toArray());\n        }\n    });\n\n    Extent.World = new Extent([90, -180], [-90, 180]);\n\n    Extent.create = function(a, b) {\n        if (a instanceof Extent) {\n            return a;\n        } else if (a && b) {\n            return new Extent(a, b);\n        } else if (a && a.length === 4 && !b) {\n            return new Extent([a[0], a[1]], [a[2], a[3]]);\n        }\n    };\n\n    // Exports ================================================================\n    deepExtend(dataviz, {\n        map: {\n            Extent: Extent,\n            Location: Location\n        }\n    });\n\n})(window.kendo.jQuery);\n","import \"../../kendo.drawing.js\";\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        template = kendo.template,\n\n        util = kendo.drawing.util,\n        valueOrDefault = util.valueOrDefault,\n        defined = util.defined;\n\n    var Attribution = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n            this._initOptions(options);\n            this.items = [];\n            this.element.addClass(\"k-attribution\");\n        },\n\n        options: {\n            name: \"Attribution\",\n            separator: \"&nbsp;|&nbsp;\",\n            itemTemplate: ({ text }) => text\n        },\n\n        filter: function(extent, zoom) {\n            this._extent = extent;\n            this._zoom = zoom;\n            this._render();\n        },\n\n        add: function(item) {\n            if (defined(item)) {\n                if (typeof item === \"string\") {\n                    item = { text: item };\n                }\n\n                this.items.push(item);\n                this._render();\n            }\n        },\n\n        remove: function(text) {\n            var result = [];\n            for (var i = 0; i < this.items.length; i++) {\n                var item = this.items[i];\n                if (item.text !== text) {\n                    result.push(item);\n                }\n            }\n\n            this.items = result;\n\n            this._render();\n        },\n\n        clear: function() {\n            this.items = [];\n            this.element.empty();\n        },\n\n        _render: function() {\n            var result = [];\n            var itemTemplate = template(this.options.itemTemplate);\n\n            for (var i = 0; i < this.items.length; i++) {\n                var item = this.items[i];\n                var text = this._itemText(item);\n                if (text !== \"\") {\n                    result.push(itemTemplate({\n                        text: text\n                    }));\n                }\n            }\n\n            if (result.length > 0) {\n                this.element.empty()\n                    .append(result.join(this.options.separator))\n                    .show();\n            } else {\n                this.element.hide();\n            }\n        },\n\n        _itemText: function(item) {\n            var text = \"\";\n            var inZoomLevel = this._inZoomLevel(item.minZoom, item.maxZoom);\n            var inArea = this._inArea(item.extent);\n\n            if (inZoomLevel && inArea) {\n                text += item.text;\n            }\n\n            return text;\n        },\n\n        _inZoomLevel: function(min, max) {\n            var result = true;\n            min = valueOrDefault(min, -Number.MAX_VALUE);\n            max = valueOrDefault(max, Number.MAX_VALUE);\n\n            result = this._zoom > min && this._zoom < max;\n\n            return result;\n        },\n\n        _inArea: function(area) {\n            var result = true;\n\n            if (area) {\n                result = area.contains(this._extent);\n            }\n\n            return result;\n        }\n    });\n\n    kendo.dataviz.ui.plugin(Attribution);\n})(window.kendo.jQuery);\n","import \"../../kendo.core.js\";\nimport \"../../kendo.icons.js\";\nimport \"../../kendo.html.button.js\";\n\n(function($) {\n    var kendo = window.kendo;\n    var Widget = kendo.ui.Widget;\n    var keys = kendo.keys;\n\n    var NS = \".kendoNavigator\";\n\n    function button(dir) {\n        const mapIcon = {\n            n: 'up',\n            s: 'down',\n            e: 'right',\n            w: 'left'\n        };\n        return kendo.html.renderButton(\n            `<button class=\"k-navigator-${dir}\" aria-label=\"move ${mapIcon[dir]}\"></button>`,\n            {\n                icon: `caret-alt-${mapIcon[dir]}`,\n                fillMode: \"flat\",\n                rounded: \"full\"\n            }\n        );\n    }\n\n    var BUTTONS = button(\"n\") + button(\"e\") + button(\"s\") + button(\"w\");\n\n    var Navigator = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n            this._initOptions(options);\n\n            this.element.addClass(\"k-navigator\")\n                        .append(BUTTONS)\n                        .on(\"click\" + NS, \".k-button\", this._click.bind(this));\n\n            var parentElement = this.element.parent().closest(\"[\" + kendo.attr(\"role\") + \"]\");\n            this._keyroot = parentElement.length > 0 ? parentElement : this.element;\n            this._tabindex(this._keyroot);\n\n            this._keydown = this._keydown.bind(this);\n            this._keyroot.on(\"keydown\", this._keydown);\n        },\n\n        options: {\n            name: \"Navigator\",\n            panStep: 1\n        },\n\n        events: [\n            \"pan\"\n        ],\n\n        dispose: function() {\n            this._keyroot.off(\"keydown\", this._keydown);\n        },\n\n        _pan: function(x, y) {\n            var panStep = this.options.panStep;\n            this.trigger(\"pan\", {\n                x: x * panStep,\n                y: y * panStep\n            });\n        },\n\n        _click: function(e) {\n            var x = 0;\n            var y = 0;\n            var button = $(e.currentTarget);\n\n            if (button.is(\".k-navigator-n\")) {\n                y = 1;\n            } else if (button.is(\".k-navigator-s\")) {\n                y = -1;\n            } else if (button.is(\".k-navigator-e\")) {\n                x = 1;\n            } else if (button.is(\".k-navigator-w\")) {\n                x = -1;\n            }\n\n            this._pan(x, y);\n            e.preventDefault();\n        },\n\n        _keydown: function(e) {\n            switch (e.which) {\n                case keys.UP:\n                    this._pan(0, 1);\n                    e.preventDefault();\n                    break;\n\n                case keys.DOWN:\n                    this._pan(0, -1);\n                    e.preventDefault();\n                    break;\n\n                case keys.RIGHT:\n                    this._pan(1, 0);\n                    e.preventDefault();\n                    break;\n\n                case keys.LEFT:\n                    this._pan(-1, 0);\n                    e.preventDefault();\n                    break;\n            }\n        }\n    });\n\n    // Exports ================================================================\n    kendo.dataviz.ui.plugin(Navigator);\n\n})(window.kendo.jQuery);","import \"../../kendo.core.js\";\nimport \"../../kendo.icons.js\";\n\n(function($) {\n    var kendo = window.kendo;\n    var Widget = kendo.ui.Widget;\n    var keys = kendo.keys;\n\n    // Helper functions =======================================================\n    function button(dir, icon) {\n       return `<button class=\"k-button k-icon-button k-zoom-${dir}\" title=\"zoom-${dir}\" aria-label=\"zoom-${dir}\">${kendo.ui.icon({ icon: icon, iconClass: \"k-button-icon\" })}</button>`;\n    }\n\n    var NS = \".kendoZoomControl\";\n    var BUTTONS = button(\"in\", \"plus\") + button(\"out\", \"minus\");\n\n    var PLUS = 187;\n    var MINUS = 189;\n    var FF_PLUS = 61;\n    var FF_MINUS = 173;\n\n\n    var ZoomControl = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n            this._initOptions(options);\n\n            this.element.addClass(\"k-zoom-control k-button-group k-group-horizontal\")\n                        .append(BUTTONS)\n                        .on(\"click\" + NS, \".k-button\", this._click.bind(this));\n\n            var parentElement = this.element.parent().closest(\"[\" + kendo.attr(\"role\") + \"]\");\n            this._keyroot = parentElement.length > 0 ? parentElement : this.element;\n\n            this._tabindex(this._keyroot);\n\n            this._keydown = this._keydown.bind(this);\n            this._keyroot.on(\"keydown\", this._keydown);\n        },\n\n        options: {\n            name: \"ZoomControl\",\n            zoomStep: 1\n        },\n\n        events: [\n            \"change\"\n        ],\n\n        _change: function(dir) {\n            var zoomStep = this.options.zoomStep;\n            this.trigger(\"change\", {\n                delta: dir * zoomStep\n            });\n        },\n\n        _click: function(e) {\n            var button = $(e.currentTarget);\n            var dir = 1;\n\n            if (button.is(\".k-zoom-out\")) {\n                dir = -1;\n            }\n\n            this._change(dir);\n            e.preventDefault();\n        },\n\n        _keydown: function(e) {\n            switch (e.which) {\n                case keys.NUMPAD_PLUS:\n                case PLUS:\n                case FF_PLUS:\n                    this._change(1);\n                    break;\n\n                case keys.NUMPAD_MINUS:\n                case MINUS:\n                case FF_MINUS:\n                    this._change(-1);\n                    break;\n            }\n        }\n    });\n\n\n    // Exports ================================================================\n    kendo.dataviz.ui.plugin(ZoomControl);\n\n})(window.kendo.jQuery);\n","import \"./location.js\";\nimport \"../../kendo.drawing.js\";\n\n(function($, undefined) {\n    // Imports ================================================================\n    var math = Math,\n        atan = math.atan,\n        exp = math.exp,\n        pow = math.pow,\n        sin = math.sin,\n        log = math.log,\n        tan = math.tan,\n\n        kendo = window.kendo,\n        Class = kendo.Class,\n\n        dataviz = kendo.dataviz,\n        deepExtend = kendo.deepExtend,\n\n        g = kendo.geometry,\n        Point = g.Point,\n\n        map = dataviz.map,\n        Location = map.Location,\n\n        util = kendo.drawing.util,\n        rad = util.rad,\n        deg = util.deg,\n        limit = util.limitValue;\n\n    // Constants ==============================================================\n    var PI = math.PI,\n        PI_DIV_2 = PI / 2,\n        PI_DIV_4 = PI / 4,\n        DEG_TO_RAD = PI / 180;\n\n    // Coordinate reference systems ===========================================\n    var WGS84 = {\n        a: 6378137, // Semi-major radius\n        b: 6356752.314245179, // Semi-minor radius\n        f: 0.0033528106647474805, // Flattening\n        e: 0.08181919084262149 // Eccentricity\n    };\n\n    // WGS 84 / World Mercator\n    var Mercator = Class.extend({\n        init: function(options) {\n            this._initOptions(options);\n        },\n\n        MAX_LNG: 180,\n        MAX_LAT: 85.0840590501,\n        INVERSE_ITERATIONS: 15,\n        INVERSE_CONVERGENCE: 1e-12,\n\n        options: {\n            centralMeridian: 0,\n            datum: WGS84\n        },\n\n        forward: function(loc, clamp) {\n            var proj = this,\n                options = proj.options,\n                datum = options.datum,\n                r = datum.a,\n                lng0 = options.centralMeridian,\n                lat = limit(loc.lat, -proj.MAX_LAT, proj.MAX_LAT),\n                lng = clamp ? limit(loc.lng, -proj.MAX_LNG, proj.MAX_LNG) : loc.lng,\n                x = rad(lng - lng0) * r,\n                y = proj._projectLat(lat);\n\n            return new Point(x, y);\n        },\n\n        _projectLat: function(lat) {\n            var datum = this.options.datum,\n                ecc = datum.e,\n                r = datum.a,\n                y = rad(lat),\n                ts = tan(PI_DIV_4 + y / 2),\n                con = ecc * sin(y),\n                p = pow((1 - con) / (1 + con), ecc / 2);\n\n            // See:\n            // http://en.wikipedia.org/wiki/Mercator_projection#Generalization_to_the_ellipsoid\n            return r * log(ts * p);\n        },\n\n        inverse: function(point, clamp) {\n            var proj = this,\n                options = proj.options,\n                datum = options.datum,\n                r = datum.a,\n                lng0 = options.centralMeridian,\n                lng = point.x / (DEG_TO_RAD * r) + lng0,\n                lat = limit(proj._inverseY(point.y), -proj.MAX_LAT, proj.MAX_LAT);\n\n            if (clamp) {\n                lng = limit(lng, -proj.MAX_LNG, proj.MAX_LNG);\n            }\n\n            return new Location(lat, lng);\n        },\n\n        _inverseY: function(y) {\n            var proj = this,\n                datum = proj.options.datum,\n                r = datum.a,\n                ecc = datum.e,\n                ecch = ecc / 2,\n                ts = exp(-y / r),\n                phi = PI_DIV_2 - 2 * atan(ts),\n                i;\n\n            for (i = 0; i <= proj.INVERSE_ITERATIONS; i++) {\n                var con = ecc * sin(phi),\n                    p = pow((1 - con) / (1 + con), ecch),\n                    dphi = PI_DIV_2 - 2 * atan(ts * p) - phi;\n\n                phi += dphi;\n\n                if (math.abs(dphi) <= proj.INVERSE_CONVERGENCE) {\n                    break;\n                }\n            }\n\n            return deg(phi);\n        }\n    });\n\n    // WGS 84 / Pseudo-Mercator\n    // Used by Google Maps, Bing, OSM, etc.\n    // Spherical projection of ellipsoidal coordinates.\n    var SphericalMercator = Mercator.extend({\n        MAX_LAT: 85.0511287798,\n\n        _projectLat: function(lat) {\n            var r = this.options.datum.a,\n                y = rad(lat),\n                ts = tan(PI_DIV_4 + y / 2);\n\n            return r * log(ts);\n        },\n\n        _inverseY: function(y) {\n            var r = this.options.datum.a,\n                ts = exp(-y / r);\n\n            return deg(PI_DIV_2 - (2 * atan(ts)));\n        }\n    });\n\n    var Equirectangular = Class.extend({\n        forward: function(loc) {\n            return new Point(loc.lng, loc.lat);\n        },\n\n        inverse: function(point) {\n            return new Location(point.y, point.x);\n        }\n    });\n\n    // TODO: Better (less cryptic name) for this class(es)\n    var EPSG3857 = Class.extend({\n        init: function() {\n            var crs = this,\n                proj = crs._proj = new SphericalMercator();\n\n            var c = this.c = 2 * PI * proj.options.datum.a;\n\n            // Scale circumference to 1, mirror Y and shift origin to top left\n            this._tm = g.transform().translate(0.5, 0.5).scale(1 / c, -1 / c);\n\n            // Inverse transform matrix\n            this._itm = g.transform().scale(c, -c).translate(-0.5, -0.5);\n        },\n\n        // Location <-> Point (screen coordinates for a given scale)\n        toPoint: function(loc, scale, clamp) {\n            var point = this._proj.forward(loc, clamp);\n\n            return point\n                .transform(this._tm)\n                .scale(scale || 1);\n        },\n\n        toLocation: function(point, scale, clamp) {\n            point = point\n                .clone()\n                .scale(1 / (scale || 1))\n                .transform(this._itm);\n\n            return this._proj.inverse(point, clamp);\n        }\n    });\n\n    var EPSG3395 = Class.extend({\n        init: function() {\n            this._proj = new Mercator();\n        },\n\n        toPoint: function(loc) {\n            return this._proj.forward(loc);\n        },\n\n        toLocation: function(point) {\n            return this._proj.inverse(point);\n        }\n    });\n\n    // WGS 84\n    var EPSG4326 = Class.extend({\n        init: function() {\n            this._proj = new Equirectangular();\n        },\n\n        toPoint: function(loc) {\n            return this._proj.forward(loc);\n        },\n\n        toLocation: function(point) {\n            return this._proj.inverse(point);\n        }\n    });\n\n    // Exports ================================================================\n    deepExtend(dataviz, {\n        map: {\n            crs: {\n                EPSG3395: EPSG3395,\n                EPSG3857: EPSG3857,\n                EPSG4326: EPSG4326\n            },\n            datums: {\n                WGS84: WGS84\n            },\n            projections: {\n                Equirectangular: Equirectangular,\n                Mercator: Mercator,\n                SphericalMercator: SphericalMercator\n            }\n        }\n    });\n\n})(window.kendo.jQuery);\n","import \"../../../kendo.core.js\";\nimport \"../location.js\";\n\n(function($, undefined) {\n    // Imports ================================================================\n    var kendo = window.kendo,\n        Class = kendo.Class,\n\n        dataviz = kendo.dataviz,\n        deepExtend = kendo.deepExtend,\n\n        Extent = dataviz.map.Extent,\n\n        util = kendo.drawing.util,\n        defined = util.defined;\n\n    // Implementation =========================================================\n    var Layer = Class.extend({\n        init: function(map, options) {\n            this._initOptions(options);\n            this.map = map;\n\n            this.element = $(\"<div class='k-layer'></div>\")\n               .css({\n                   \"zIndex\": this.options.zIndex,\n                   \"opacity\": this.options.opacity\n               })\n               .appendTo(map.scrollElement);\n\n            this._beforeReset = this._beforeReset.bind(this);\n            this._reset = this._reset.bind(this);\n            this._resize = this._resize.bind(this);\n            this._panEnd = this._panEnd.bind(this);\n            this._activate();\n\n            this._updateAttribution();\n        },\n\n        destroy: function() {\n            this._deactivate();\n        },\n\n        show: function() {\n            this.reset();\n            this._activate();\n            this._applyExtent(true);\n        },\n\n        hide: function() {\n            this._deactivate();\n            this._setVisibility(false);\n        },\n\n        reset: function() {\n            this._beforeReset();\n            this._reset();\n        },\n\n        _reset: function() {\n            this._applyExtent();\n        },\n\n        _beforeReset: $.noop,\n\n        _resize: $.noop,\n\n        _panEnd: function() {\n            this._applyExtent();\n        },\n\n        _applyExtent: function() {\n            var options = this.options;\n\n            var zoom = this.map.zoom();\n            var matchMinZoom = !defined(options.minZoom) || zoom >= options.minZoom;\n            var matchMaxZoom = !defined(options.maxZoom) || zoom <= options.maxZoom;\n\n            var extent = Extent.create(options.extent);\n            var inside = !extent || extent.overlaps(this.map.extent());\n\n            this._setVisibility(matchMinZoom && matchMaxZoom && inside);\n        },\n\n        _setVisibility: function(visible) {\n            this.element.css(\"display\", visible ? \"\" : \"none\");\n        },\n\n        _activate: function() {\n            var map = this.map;\n            this._deactivate();\n            map.bind(\"beforeReset\", this._beforeReset);\n            map.bind(\"reset\", this._reset);\n            map.bind(\"resize\", this._resize);\n            map.bind(\"panEnd\", this._panEnd);\n        },\n\n        _deactivate: function() {\n            var map = this.map;\n            map.unbind(\"beforeReset\", this._beforeReset);\n            map.unbind(\"reset\", this._reset);\n            map.unbind(\"resize\", this._resize);\n            map.unbind(\"panEnd\", this._panEnd);\n        },\n\n        _updateAttribution: function() {\n            var attr = this.map.attribution;\n\n            if (attr) {\n                attr.add(this.options.attribution);\n            }\n        }\n    });\n\n    // Exports ================================================================\n    deepExtend(dataviz, {\n        map: {\n            layers: {\n                Layer: Layer\n            }\n        }\n    });\n\n})(window.kendo.jQuery);\n","import \"./base.js\";\nimport \"../location.js\";\n\n(function($, undefined) {\n    // Imports ================================================================\n    var kendo = window.kendo,\n        Class = kendo.Class,\n        DataSource = kendo.data.DataSource,\n\n        dataviz = kendo.dataviz,\n        deepExtend = kendo.deepExtend,\n\n        g = kendo.geometry,\n\n        d = kendo.drawing,\n        Group = d.Group,\n\n        last = d.util.last,\n        defined = d.util.defined,\n\n        map = dataviz.map,\n        Location = map.Location,\n        Layer = map.layers.Layer;\n\n    // Implementation =========================================================\n    var ShapeLayer = Layer.extend({\n        init: function(map, options) {\n\n            this._pan = this._pan.bind(this);\n\n            Layer.fn.init.call(this, map, options);\n\n            this.surface = d.Surface.create(this.element, {\n                width: map.scrollElement.width(),\n                height: map.scrollElement.height()\n            });\n\n            this._initRoot();\n\n            this.movable = new kendo.ui.Movable(this.surface.element);\n            this._markers = [];\n\n            this._click = this._handler(\"shapeClick\");\n            this.surface.bind(\"click\", this._click);\n\n            this._mouseenter = this._handler(\"shapeMouseEnter\");\n            this.surface.bind(\"mouseenter\", this._mouseenter);\n\n            this._mouseleave = this._handler(\"shapeMouseLeave\");\n            this.surface.bind(\"mouseleave\", this._mouseleave);\n\n            this._initDataSource();\n        },\n\n        options: {\n            autoBind: true\n        },\n\n        destroy: function() {\n            Layer.fn.destroy.call(this);\n\n            this.surface.destroy();\n            this.dataSource.unbind(\"change\", this._dataChange);\n        },\n\n        setDataSource: function(dataSource) {\n            if (this.dataSource) {\n                this.dataSource.unbind(\"change\", this._dataChange);\n            }\n\n            this.dataSource = kendo.data.DataSource.create(dataSource);\n            this.dataSource.bind(\"change\", this._dataChange);\n\n            if (this.options.autoBind) {\n                this.dataSource.fetch();\n            }\n        },\n\n        _reset: function() {\n            Layer.fn._reset.call(this);\n            this._translateSurface();\n\n            if (this._data) {\n                this._load(this._data);\n            }\n        },\n\n        _initRoot: function() {\n            this._root = new Group();\n            this.surface.draw(this._root);\n        },\n\n        _beforeReset: function() {\n            this.surface.clear();\n            this._initRoot();\n        },\n\n        _resize: function() {\n            this.surface.size(this.map.size());\n        },\n\n        _initDataSource: function() {\n            var dsOptions = this.options.dataSource;\n            this._dataChange = this._dataChange.bind(this);\n            this.dataSource = DataSource\n                .create(dsOptions)\n                .bind(\"change\", this._dataChange);\n\n            if (dsOptions && this.options.autoBind) {\n                this.dataSource.fetch();\n            }\n        },\n\n        _dataChange: function(e) {\n            this._data = e.sender.view();\n            this._load(this._data);\n        },\n\n        _load: function(data) {\n            this._clearMarkers();\n\n            if (!this._loader) {\n                this._loader = new GeoJSONLoader(this.map, this.options.style, this);\n            }\n\n            var container = new Group();\n            for (var i = 0; i < data.length; i++) {\n                var shape = this._loader.parse(data[i]);\n                if (shape) {\n                    container.append(shape);\n                }\n            }\n\n            this._root.clear();\n            this._root.append(container);\n        },\n\n        shapeCreated: function(shape) {\n            var cancelled = false;\n            if (shape instanceof d.Circle) {\n                cancelled = defined(this._createMarker(shape));\n            }\n\n            if (!cancelled) {\n                var args = { layer: this, shape: shape };\n                cancelled = this.map.trigger(\"shapeCreated\", args);\n            }\n\n            return cancelled;\n        },\n\n        featureCreated: function(e) {\n            e.layer = this;\n            this.map.trigger(\"shapeFeatureCreated\", e);\n        },\n\n        _createMarker: function(shape) {\n            var marker = this.map.markers.bind({\n                location: shape.location\n            }, shape.dataItem);\n\n            if (marker) {\n                this._markers.push(marker);\n            }\n\n            return marker;\n        },\n\n        _clearMarkers: function() {\n            for (var i = 0; i < this._markers.length; i++) {\n                this.map.markers.remove(this._markers[i]);\n            }\n            this._markers = [];\n        },\n\n        _pan: function() {\n            if (!this._panning) {\n                this._panning = true;\n                this.surface.suspendTracking();\n            }\n        },\n\n        _panEnd: function(e) {\n            Layer.fn._panEnd.call(this, e);\n            this._translateSurface();\n            this.surface.resumeTracking();\n            this._panning = false;\n        },\n\n        _translateSurface: function() {\n            var map = this.map;\n            var nw = map.locationToView(map.extent().nw);\n\n            if (this.surface.translate && this.surface.element.width() > 0 && this.surface.element.height() > 0) {\n                this.surface.translate(nw);\n                this.movable.moveTo({ x: nw.x, y: nw.y });\n            }\n        },\n\n        _handler: function(event) {\n            var layer = this;\n            return function(e) {\n                if (e.element) {\n                    var args = {\n                        layer: layer,\n                        shape: e.element,\n                        originalEvent: e.originalEvent\n                    };\n\n                    layer.map.trigger(event, args);\n                }\n            };\n        },\n\n        _activate: function() {\n            Layer.fn._activate.call(this);\n\n            this.map.bind(\"pan\", this._pan);\n        },\n\n        _deactivate: function() {\n            Layer.fn._deactivate.call(this);\n\n            this.map.unbind(\"pan\", this._pan);\n        }\n    });\n\n    var GeoJSONLoader = Class.extend({\n        init: function(locator, defaultStyle, observer) {\n            this.observer = observer;\n            this.locator = locator;\n            this.style = defaultStyle;\n        },\n\n        parse: function(item) {\n            var root = new Group();\n            var unwrap = true;\n\n            if (item.type === \"Feature\") {\n                unwrap = false;\n                this._loadGeometryTo(root, item.geometry, item);\n                this._featureCreated(root, item);\n            } else {\n                this._loadGeometryTo(root, item, item);\n            }\n\n            if (unwrap && root.children.length < 2) {\n                root = root.children[0];\n            }\n\n            return root;\n        },\n\n        _shapeCreated: function(shape) {\n            var cancelled = false;\n\n            if (this.observer && this.observer.shapeCreated) {\n                cancelled = this.observer.shapeCreated(shape);\n            }\n\n            return cancelled;\n        },\n\n        _featureCreated: function(group, dataItem) {\n            if (this.observer && this.observer.featureCreated) {\n                this.observer.featureCreated({\n                    group: group,\n                    dataItem: dataItem,\n                    properties: dataItem.properties\n                });\n            }\n        },\n\n        _loadGeometryTo: function(container, geometry, dataItem) {\n            var coords = geometry.coordinates;\n            var i;\n            var path;\n\n            switch (geometry.type) {\n                case \"LineString\":\n                    path = this._loadPolygon(container, [coords], dataItem);\n                    this._setLineFill(path);\n                    break;\n\n                case \"MultiLineString\":\n                    for (i = 0; i < coords.length; i++) {\n                        path = this._loadPolygon(container, [coords[i]], dataItem);\n                        this._setLineFill(path);\n                    }\n                    break;\n\n                case \"Polygon\":\n                    this._loadPolygon(container, coords, dataItem);\n                    break;\n\n                case \"MultiPolygon\":\n                    for (i = 0; i < coords.length; i++) {\n                        this._loadPolygon(container, coords[i], dataItem);\n                    }\n                    break;\n\n                case \"Point\":\n                    this._loadPoint(container, coords, dataItem);\n                    break;\n\n                case \"MultiPoint\":\n                    for (i = 0; i < coords.length; i++) {\n                        this._loadPoint(container, coords[i], dataItem);\n                    }\n                    break;\n            }\n        },\n\n        _setLineFill: function(path) {\n            var segments = path.segments;\n            if (segments.length < 4 || !segments[0].anchor().equals(last(segments).anchor())) {\n                path.options.fill = null;\n            }\n        },\n\n        _loadShape: function(container, shape) {\n            if (!this._shapeCreated(shape)) {\n                container.append(shape);\n            }\n\n            return shape;\n        },\n\n        _loadPolygon: function(container, rings, dataItem) {\n            var shape = this._buildPolygon(rings);\n            shape.dataItem = dataItem;\n\n            return this._loadShape(container, shape);\n        },\n\n        _buildPolygon: function(rings) {\n            var type = rings.length > 1 ? d.MultiPath : d.Path;\n            var path = new type(this.style);\n\n            for (var i = 0; i < rings.length; i++) {\n                for (var j = 0; j < rings[i].length; j++) {\n                    var point = this.locator.locationToView(\n                        Location.fromLngLat(rings[i][j])\n                    );\n\n                    if (j === 0) {\n                        path.moveTo(point.x, point.y);\n                    } else {\n                        path.lineTo(point.x, point.y);\n                    }\n                }\n            }\n\n            return path;\n        },\n\n        _loadPoint: function(container, coords, dataItem) {\n            var location = Location.fromLngLat(coords);\n            var point = this.locator.locationToView(location);\n\n            var circle = new g.Circle(point, 10);\n            var shape = new d.Circle(circle, this.style);\n            shape.dataItem = dataItem;\n            shape.location = location;\n\n            return this._loadShape(container, shape);\n        }\n    });\n\n    // Exports ================================================================\n    deepExtend(kendo.data, {\n        schemas: {\n            geojson: {\n                type: \"json\",\n                data: function(data) {\n                    if (data.type === \"FeatureCollection\") {\n                        return data.features;\n                    }\n\n                    if (data.type === \"GeometryCollection\") {\n                        return data.geometries;\n                    }\n\n                    return data;\n                }\n            }\n        },\n        transports: {\n            geojson: {\n                read: {\n                    dataType: \"json\"\n                }\n            }\n        }\n    });\n\n    deepExtend(dataviz, {\n        map: {\n            layers: {\n                shape: ShapeLayer,\n                ShapeLayer: ShapeLayer\n            },\n            GeoJSONLoader: GeoJSONLoader\n        }\n    });\n\n})(window.kendo.jQuery);\n","import \"./shape.js\";\n\n(function($, undefined) {\n    // Imports ================================================================\n    var kendo = window.kendo,\n        getter = kendo.getter,\n\n        dataviz = kendo.dataviz,\n        deepExtend = kendo.deepExtend,\n\n        g = kendo.geometry,\n        d = kendo.drawing,\n\n        util = d.util,\n        defined = util.defined,\n\n        map = dataviz.map,\n        Location = map.Location,\n        ShapeLayer = map.layers.ShapeLayer;\n\n    // Implementation =========================================================\n    var BubbleLayer = ShapeLayer.extend({\n        options: {\n            autoBind: true,\n            locationField: \"location\",\n            valueField: \"value\",\n            minSize: 0,\n            maxSize: 100,\n            scale: \"sqrt\",\n            symbol: \"circle\"\n        },\n\n        _load: function(data) {\n            this.surface.clear();\n\n            if (data.length === 0) {\n                return;\n            }\n\n            var opt = this.options;\n            var getValue = getter(opt.valueField);\n\n            data = data.slice(0);\n            data.sort(function(a, b) {\n                return getValue(b) - getValue(a);\n            });\n\n            var scaleType = this._scaleType();\n            var scale;\n            for (var i = 0; i < data.length; i++) {\n                var dataItem = data[i];\n                var location = getter(opt.locationField)(dataItem);\n                var value = getter(opt.valueField)(dataItem);\n\n                if (defined(location) && defined(value)) {\n                    if (!scale) {\n                        scale = new scaleType([0, value], [opt.minSize, opt.maxSize]);\n                    }\n\n                    location = Location.create(location);\n                    var center = this.map.locationToView(location);\n                    var size = scale.map(value);\n\n                    var symbol = this._createSymbol({\n                        center: center,\n                        size: size,\n                        style: opt.style,\n                        dataItem: dataItem,\n                        location: location\n                    });\n\n                    symbol.dataItem = dataItem;\n                    symbol.location = location;\n                    symbol.value = value;\n\n                    this._drawSymbol(symbol);\n                }\n            }\n        },\n\n        _scaleType: function() {\n            var scale = this.options.scale;\n\n            if (kendo.isFunction(scale)) {\n                return scale;\n            }\n\n            return dataviz.map.scales[scale];\n        },\n\n        _createSymbol: function(args) {\n            var symbol = this.options.symbol;\n            if (!kendo.isFunction(symbol)) {\n                symbol = dataviz.map.symbols[symbol];\n            }\n\n            return symbol(args);\n        },\n\n        _drawSymbol: function(shape) {\n            var args = { layer: this, shape: shape };\n            var cancelled = this.map.trigger(\"shapeCreated\", args);\n            if (!cancelled) {\n                this.surface.draw(shape);\n            }\n        }\n    });\n\n    var SqrtScale = kendo.Class.extend({\n        init: function(domain, range) {\n            this._domain = domain;\n            this._range = range;\n\n            var domainRange = Math.sqrt(domain[1]) - Math.sqrt(domain[0]);\n            var outputRange = range[1] - range[0];\n            this._ratio = outputRange / domainRange;\n        },\n\n        map: function(value) {\n            var rel = (Math.sqrt(value) - Math.sqrt(this._domain[0])) * this._ratio;\n            return this._range[0] + rel;\n        }\n    });\n\n    var Symbols = {\n        circle: function(args) {\n            var geo = new g.Circle(args.center, args.size / 2);\n            return new d.Circle(geo, args.style);\n        },\n\n        square: function(args) {\n            var path = new d.Path(args.style);\n            var halfSize = args.size / 2;\n            var center = args.center;\n\n            path.moveTo(center.x - halfSize, center.y - halfSize)\n                .lineTo(center.x + halfSize, center.y - halfSize)\n                .lineTo(center.x + halfSize, center.y + halfSize)\n                .lineTo(center.x - halfSize, center.y + halfSize)\n                .close();\n\n            return path;\n        }\n    };\n\n    // Exports ================================================================\n    deepExtend(dataviz, {\n        map: {\n            layers: {\n                bubble: BubbleLayer,\n                BubbleLayer: BubbleLayer\n            },\n            scales: {\n                sqrt: SqrtScale\n            },\n            symbols: Symbols\n        }\n    });\n\n})(window.kendo.jQuery);\n","import \"./base.js\";\nimport \"../location.js\";\n\n(function($, undefined) {\n    // Imports ================================================================\n    var math = Math,\n\n        kendo = window.kendo,\n        Class = kendo.Class,\n        template = kendo.template,\n\n        dataviz = kendo.dataviz,\n        deepExtend = kendo.deepExtend,\n\n        g = kendo.geometry,\n        Point = g.Point,\n\n        Layer = dataviz.map.layers.Layer,\n\n        util = kendo.util,\n        renderSize = util.renderSize,\n\n        drawingUtil = kendo.drawing.util,\n        round = drawingUtil.round,\n        limit = drawingUtil.limitValue;\n\n    // Image tile layer =============================================================\n    var TileLayer = Layer.extend({\n        init: function(map, options) {\n            Layer.fn.init.call(this, map, options);\n\n            if (typeof this.options.subdomains === \"string\") {\n                this.options.subdomains = this.options.subdomains.split(\"\");\n            }\n\n            var viewType = this._viewType();\n            this._view = new viewType(this.element, this.options);\n        },\n\n        destroy: function() {\n            Layer.fn.destroy.call(this);\n\n            this._view.destroy();\n            this._view = null;\n        },\n\n        _beforeReset: function() {\n            var map = this.map;\n            var origin = map.locationToLayer(map.extent().nw).round();\n            this._view.viewOrigin(origin);\n        },\n\n        _reset: function(e) {\n            var tileTitle;\n\n            if (e) {\n                tileTitle = e.tileTitle;\n            } else {\n                tileTitle = \"\";\n            }\n\n            Layer.fn._reset.call(this);\n            this._updateView();\n            this._view.reset(tileTitle);\n        },\n\n        _viewType: function() {\n            return TileView;\n        },\n\n        _activate: function() {\n            Layer.fn._activate.call(this);\n\n            if (!kendo.support.mobileOS) {\n                if (!this._pan) {\n                    this._pan = kendo.throttle(\n                        this._render.bind(this),\n                        100\n                    );\n                }\n\n                this.map.bind(\"pan\", this._pan);\n            }\n        },\n\n        _deactivate: function() {\n            Layer.fn._deactivate.call(this);\n\n            if (this._pan) {\n                this.map.unbind(\"pan\", this._pan);\n            }\n        },\n\n        _updateView: function() {\n            var view = this._view,\n                map = this.map,\n                extent = map.extent(),\n                extentToPoint = {\n                    nw: map.locationToLayer(extent.nw).round(),\n                    se: map.locationToLayer(extent.se).round()\n                };\n\n            view.center(map.locationToLayer(map.center()));\n            view.extent(extentToPoint);\n            view.zoom(map.zoom());\n        },\n\n        _resize: function() {\n            this._render();\n        },\n\n        _panEnd: function(e) {\n            Layer.fn._panEnd.call(this, e);\n            this._render();\n        },\n\n        _render: function() {\n            this._updateView();\n            this._view.render();\n        }\n    });\n\n    var TileView = Class.extend({\n        init: function(element, options) {\n            this.element = element;\n            this._initOptions(options);\n\n            this.pool = new TilePool();\n        },\n\n        options: {\n            tileSize: 256,\n            subdomains: [\"a\", \"b\", \"c\"],\n            urlTemplate: () => \"\"\n        },\n\n        center: function(center) {\n            this._center = center;\n        },\n\n        extent: function(extent) {\n            this._extent = extent;\n        },\n\n        viewOrigin: function(origin) {\n            this._viewOrigin = origin;\n        },\n\n        zoom: function(zoom) {\n            this._zoom = zoom;\n        },\n\n        pointToTileIndex: function(point) {\n            return new Point(\n                math.floor(point.x / this.options.tileSize),\n                math.floor(point.y / this.options.tileSize)\n            );\n        },\n\n        tileCount: function() {\n            var size = this.size(),\n                firstTileIndex = this.pointToTileIndex(this._extent.nw),\n                nw = this._extent.nw,\n                point = this.indexToPoint(firstTileIndex).translate(-nw.x, -nw.y);\n\n            return {\n                x: math.ceil((math.abs(point.x) + size.width) / this.options.tileSize),\n                y: math.ceil((math.abs(point.y) + size.height) / this.options.tileSize)\n            };\n        },\n\n        size: function() {\n            var nw = this._extent.nw,\n                se = this._extent.se,\n                diff = se.clone().translate(-nw.x, -nw.y);\n\n            return {\n                width: diff.x,\n                height: diff.y\n            };\n        },\n\n        indexToPoint: function(index) {\n            var x = index.x, y = index.y;\n\n            return new Point(\n                x * this.options.tileSize,\n                y * this.options.tileSize\n            );\n        },\n\n        subdomainText: function() {\n            var subdomains = this.options.subdomains;\n\n            return subdomains[this.subdomainIndex++ % subdomains.length];\n        },\n\n        destroy: function() {\n            this.element.empty();\n            this.pool.empty();\n        },\n\n        reset: function(tileTitle) {\n            this._tileTitle = tileTitle;\n            this.pool.reset();\n            this.subdomainIndex = 0;\n            this.render();\n        },\n\n        render: function() {\n            var size = this.tileCount(),\n                firstTileIndex = this.pointToTileIndex(this._extent.nw),\n                tile, x, y;\n\n            for (x = 0; x < size.x; x++) {\n                for (y = 0; y < size.y; y++) {\n                    tile = this.createTile({\n                        x: firstTileIndex.x + x,\n                        y: firstTileIndex.y + y\n                    });\n\n                    if (!tile.visible) {\n                        tile.show();\n                    }\n                }\n            }\n        },\n\n        createTile: function(currentIndex) {\n            var options = this.tileOptions(currentIndex);\n            var tile = this.pool.get(this._center, options);\n            if (tile.element.parent().length === 0) {\n                this.element.append(tile.element);\n            }\n\n            return tile;\n        },\n\n        tileOptions: function(currentIndex) {\n            var index = this.wrapIndex(currentIndex),\n                point = this.indexToPoint(currentIndex),\n                origin = this._viewOrigin,\n                offset = point.clone().translate(-origin.x, -origin.y);\n\n            return {\n                index: index,\n                currentIndex: currentIndex,\n                point: point,\n                offset: roundPoint(offset),\n                zoom: this._zoom,\n                size: this.options.tileSize,\n                subdomain: this.subdomainText(),\n                urlTemplate: this.options.urlTemplate,\n                errorUrlTemplate: this.options.errorUrlTemplate,\n                tileTitle: this._tileTitle\n            };\n        },\n\n        wrapIndex: function(index) {\n            var boundary = math.pow(2, this._zoom);\n            return {\n                x: this.wrapValue(index.x, boundary),\n                y: limit(index.y, 0, boundary - 1)\n            };\n        },\n\n        wrapValue: function(value, boundary) {\n            var remainder = (math.abs(value) % boundary);\n            if (value >= 0) {\n                value = remainder;\n            } else {\n                value = boundary - (remainder === 0 ? boundary : remainder);\n            }\n\n            return value;\n        }\n    });\n\n    var ImageTile = Class.extend({\n        init: function(id, options) {\n            this.id = id;\n            this.visible = true;\n\n            this._initOptions(options);\n            this.createElement();\n            this.show();\n        },\n\n        options: {\n            urlTemplate: () => \"\",\n            errorUrlTemplate: () => \"\"\n        },\n\n        createElement: function() {\n            this.element = $(\"<img alt='\" + this.options.tileTitle + \"' />\")\n                            .css({ position: \"absolute\", display: \"block\", width: this.options.size, height: this.options.size })\n                            .on(\"error\", (function(e) {\n                                if (this.errorUrl()) {\n                                    e.target.setAttribute(\"src\", this.errorUrl());\n                                } else {\n                                    e.target.removeAttribute(\"src\");\n                                }\n                            }).bind(this));\n        },\n\n        show: function() {\n            var element = this.element[0];\n            element.style.top = renderSize(this.options.offset.y);\n            element.style.left = renderSize(this.options.offset.x);\n\n            var url = this.url();\n            if (url) {\n                element.setAttribute(\"src\", url);\n            }\n\n            element.style.visibility = \"visible\";\n            this.visible = true;\n        },\n\n        hide: function() {\n            this.element[0].style.visibility = \"hidden\";\n            this.visible = false;\n        },\n\n        url: function() {\n            var urlResult = template(this.options.urlTemplate);\n\n            return urlResult(this.urlOptions());\n        },\n\n        errorUrl: function() {\n            var urlResult = template(this.options.errorUrlTemplate);\n\n            return urlResult(this.urlOptions());\n        },\n\n        urlOptions: function() {\n            var options = this.options;\n            return {\n                zoom: options.zoom,\n                subdomain: options.subdomain,\n                z: options.zoom,\n                x: options.index.x,\n                y: options.index.y,\n                s: options.subdomain,\n                quadkey: options.quadkey,\n                q: options.quadkey,\n                culture: options.culture,\n                c: options.culture\n            };\n        },\n\n        destroy: function() {\n            if (this.element) {\n                this.element.remove();\n                this.element = null;\n            }\n        }\n    });\n\n    var TilePool = Class.extend({\n        init: function() {\n            this._items = [];\n        },\n\n        options: {\n            maxSize: 100\n        },\n\n        get: function(center, options) {\n            if (this._items.length >= this.options.maxSize) {\n                this._remove(center);\n            }\n\n            return this._create(options);\n        },\n\n        empty: function() {\n            var items = this._items;\n            for (var i = 0; i < items.length; i++) {\n                items[i].destroy();\n            }\n\n            this._items = [];\n        },\n\n        reset: function() {\n            var items = this._items;\n            for (var i = 0; i < items.length; i++) {\n                items[i].hide();\n            }\n        },\n\n        _create: function(options) {\n            var items = this._items;\n            var tile;\n\n            // Build an unique token for the image\n            // This normally would be the URL, but we don't care about subdomains\n            var id = util.hashKey(\n                options.point.toString() +\n                options.offset.toString() +\n                options.zoom +\n                options.urlTemplate\n            );\n\n            for (var i = 0; i < items.length; i++) {\n                if (items[i].id === id) {\n                    tile = items[i];\n                    break;\n                }\n            }\n\n            if (tile) {\n                tile.show();\n            } else {\n                tile = new ImageTile(id, options);\n                this._items.push(tile);\n            }\n\n            return tile;\n        },\n\n        _remove: function(center) {\n            var items = this._items;\n            var maxDist = -1;\n            var index = -1;\n\n            for (var i = 0; i < items.length; i++) {\n                var dist = items[i].options.point.distanceTo(center);\n                if (dist > maxDist && !items[i].visible) {\n                    index = i;\n                    maxDist = dist;\n                }\n            }\n\n            if (index !== -1) {\n                items[index].destroy();\n                items.splice(index, 1);\n            }\n        }\n    });\n\n    // Methods ================================================================\n    function roundPoint(point) {\n        return new Point(round(point.x), round(point.y));\n    }\n\n    // Exports ================================================================\n    deepExtend(dataviz, {\n        map: {\n            layers: {\n                tile: TileLayer,\n                TileLayer: TileLayer,\n\n                ImageTile: ImageTile,\n                TilePool: TilePool,\n                TileView: TileView\n            }\n        }\n    });\n\n})(window.kendo.jQuery);\n","import \"./tile.js\";\n\n(function($, undefined) {\n    // Imports ================================================================\n    var kendo = window.kendo,\n\n        dataviz = kendo.dataviz,\n        deepExtend = kendo.deepExtend,\n        defined = kendo.drawing.util.defined,\n\n        Extent = dataviz.map.Extent,\n        Location = dataviz.map.Location,\n        TileLayer = dataviz.map.layers.TileLayer,\n        TileView = dataviz.map.layers.TileView;\n\n    // Bing tile layer =============================================================\n    var BingLayer = TileLayer.extend({\n        init: function(map, options) {\n            this.options.baseUrl =\n                this._scheme() +\n                \"://dev.virtualearth.net/REST/v1/Imagery/Metadata/\";\n\n            TileLayer.fn.init.call(this, map, options);\n\n            this._onMetadata = this._onMetadata.bind(this);\n            this._fetchMetadata();\n        },\n\n        options: {\n            imagerySet: \"road\"\n        },\n\n        _fetchMetadata: function() {\n            var options = this.options;\n\n            if (!options.key) {\n                throw new Error(\"Bing tile layer: API key is required\");\n            }\n\n            $.ajax({\n                url: options.baseUrl + options.imagerySet,\n                data: {\n                    output: \"json\",\n                    include: \"ImageryProviders\",\n                    key: options.key,\n                    uriScheme: this._scheme()\n                },\n                type: \"get\",\n                dataType: \"jsonp\",\n                jsonp: \"jsonp\",\n                success: this._onMetadata\n            });\n        },\n\n        _scheme: function(proto) {\n            proto = proto || window.location.protocol;\n            return proto.replace(\":\", \"\") === \"https\" ? \"https\" : \"http\";\n        },\n\n        _onMetadata: function(data) {\n            var that = this;\n            if (data && data.resourceSets.length) {\n                var resource = that.resource = data.resourceSets[0].resources[0];\n\n                deepExtend(that._view.options, {\n                    urlTemplate: ({ subdomain, quadkey, culture }) => that.resource.imageUrl\n                        .replace(\"{subdomain}\", subdomain)\n                        .replace(\"{quadkey}\", quadkey)\n                        .replace(\"{culture}\", culture),\n                    subdomains: resource.imageUrlSubdomains\n                });\n\n                var options = that.options;\n                if (!defined(options.minZoom)) {\n                    options.minZoom = resource.zoomMin;\n                }\n                if (!defined(options.maxZoom)) {\n                    options.maxZoom = resource.zoomMax;\n                }\n\n                that._addAttribution();\n\n                if (that.element.css(\"display\") !== \"none\") {\n                    that._reset();\n                }\n            }\n        },\n\n        _viewType: function() {\n            return BingView;\n        },\n\n        _addAttribution: function() {\n            var attr = this.map.attribution;\n            if (attr) {\n                var items = this.resource.imageryProviders;\n                if (items) {\n                    for (var i = 0; i < items.length; i++) {\n                        var item = items[i];\n                        for (var y = 0; y < item.coverageAreas.length; y++) {\n                            var area = item.coverageAreas[y];\n                            attr.add({\n                                text: item.attribution,\n                                minZoom: area.zoomMin,\n                                maxZoom: area.zoomMax,\n                                extent: new Extent(\n                                    new Location(area.bbox[2], area.bbox[1]),\n                                    new Location(area.bbox[0], area.bbox[3])\n                                )\n                            });\n                        }\n                    }\n                }\n            }\n        },\n\n        imagerySet: function(value) {\n            if (value) {\n                this.options.imagerySet = value;\n                this.map.attribution.clear();\n                this._fetchMetadata();\n            } else {\n                return this.options.imagerySet;\n            }\n        }\n    });\n\n    var BingView = TileView.extend({\n        options: {\n            culture: \"en-US\"\n        },\n\n        tileOptions: function(currentIndex) {\n            var options = TileView.fn.tileOptions.call(this, currentIndex);\n\n            options.culture = this.options.culture;\n            options.quadkey = this.tileQuadKey(this.wrapIndex(currentIndex));\n\n            return options;\n        },\n\n        tileQuadKey: function(index) {\n            var quadKey = \"\",\n                digit, mask, i;\n\n            for (i = this._zoom; i > 0; i--) {\n                digit = 0;\n                mask = 1 << (i - 1);\n\n                if ((index.x & mask) !== 0) {\n                    digit++;\n                }\n\n                if ((index.y & mask) !== 0) {\n                    digit += 2;\n                }\n\n                quadKey += digit;\n            }\n\n            return quadKey;\n        }\n    });\n\n    // Exports ================================================================\n    deepExtend(dataviz, {\n        map: {\n            layers: {\n                bing: BingLayer,\n                BingLayer: BingLayer,\n                BingView: BingView\n            }\n        }\n    });\n\n})(window.kendo.jQuery);\n","import \"./base.js\";\nimport \"../location.js\";\nimport \"../../../kendo.data.js\";\nimport \"../../../kendo.tooltip.js\";\nimport \"../../../kendo.icons.js\";\n\n(function($, undefined) {\n    // Imports ================================================================\n    var doc = document,\n        math = Math,\n        indexOf = $.inArray,\n\n        kendo = window.kendo,\n        Class = kendo.Class,\n        DataSource = kendo.data.DataSource,\n        Tooltip = kendo.ui.Tooltip,\n\n        dataviz = kendo.dataviz,\n        deepExtend = kendo.deepExtend,\n\n        map = dataviz.map,\n        Location = map.Location,\n        Layer = map.layers.Layer;\n\n    // Implementation =========================================================\n    var MarkerLayer = Layer.extend({\n        init: function(map, options) {\n            Layer.fn.init.call(this, map, options);\n\n            this._markerClick = this._markerClick.bind(this);\n            this.element.on(\"click\", \".k-marker\", this._markerClick);\n\n            this.items = [];\n            this._initDataSource();\n        },\n\n        destroy: function() {\n            Layer.fn.destroy.call(this);\n\n            this.element.off(\"click\", \".k-marker\", this._markerClick);\n\n            this.dataSource.unbind(\"change\", this._dataChange);\n            this.clear();\n        },\n\n        options: {\n            zIndex: 1000,\n            autoBind: true,\n            dataSource: {},\n            locationField: \"location\",\n            titleField: \"title\"\n        },\n\n        add: function(arg) {\n            if (Array.isArray(arg)) {\n                for (var i = 0; i < arg.length; i++) {\n                    this._addOne(arg[i]);\n                }\n            } else {\n                return this._addOne(arg);\n            }\n        },\n\n        remove: function(marker) {\n            marker.destroy();\n\n            var index = indexOf(marker, this.items);\n            if (index > -1) {\n                this.items.splice(index, 1);\n            }\n        },\n\n        clear: function() {\n            for (var i = 0; i < this.items.length; i++) {\n                this.items[i].destroy();\n            }\n\n            this.items = [];\n        },\n\n        update: function(marker) {\n            var loc = marker.location();\n            if (loc) {\n                marker.showAt(this.map.locationToView(loc));\n\n                var args = { marker: marker, layer: this };\n                this.map.trigger(\"markerActivate\", args);\n            }\n        },\n\n        _reset: function() {\n            Layer.fn._reset.call(this);\n            var items = this.items;\n            for (var i = 0; i < items.length; i++) {\n                this.update(items[i]);\n            }\n        },\n\n        bind: function(options, dataItem) {\n            var marker = map.Marker.create(options, this.options);\n            marker.dataItem = dataItem;\n\n            var args = { marker: marker, layer: this };\n            var cancelled = this.map.trigger(\"markerCreated\", args);\n            if (!cancelled) {\n                this.add(marker);\n                return marker;\n            }\n        },\n\n        setDataSource: function(dataSource) {\n            if (this.dataSource) {\n                this.dataSource.unbind(\"change\", this._dataChange);\n            }\n\n            this.dataSource = kendo.data.DataSource.create(dataSource);\n            this.dataSource.bind(\"change\", this._dataChange);\n\n            if (this.options.autoBind) {\n                this.dataSource.fetch();\n            }\n        },\n\n        _addOne: function(arg) {\n            var marker = Marker.create(arg, this.options);\n            marker.addTo(this);\n\n            return marker;\n        },\n\n        _initDataSource: function() {\n            var dsOptions = this.options.dataSource;\n            this._dataChange = this._dataChange.bind(this);\n            this.dataSource = DataSource\n                .create(dsOptions)\n                .bind(\"change\", this._dataChange);\n\n            if (dsOptions && this.options.autoBind) {\n                this.dataSource.fetch();\n            }\n        },\n\n        _dataChange: function(e) {\n            this._load(e.sender.view());\n        },\n\n        _load: function(data) {\n            this._data = data;\n            this.clear();\n\n            var getLocation = kendo.getter(this.options.locationField);\n            var getTitle = kendo.getter(this.options.titleField);\n            for (var i = 0; i < data.length; i++) {\n                var dataItem = data[i];\n                this.bind({\n                    location: getLocation(dataItem),\n                    title: getTitle(dataItem)\n                }, dataItem);\n            }\n        },\n\n        _markerClick: function(e) {\n            var args = { marker: $(e.currentTarget).data(\"kendoMarker\"), layer: this };\n            this.map.trigger(\"markerClick\", args);\n        }\n    });\n\n    var Marker = Class.extend({\n        init: function(options) {\n            this.options = options || {};\n        },\n\n        addTo: function(parent) {\n            this.layer = parent.markers || parent;\n            this.layer.items.push(this);\n            this.layer.update(this);\n        },\n\n        location: function(value) {\n            if (value) {\n                this.options.location = Location.create(value).toArray();\n\n                if (this.layer) {\n                    this.layer.update(this);\n                }\n\n                return this;\n            } else {\n                return Location.create(this.options.location);\n            }\n        },\n\n        showAt: function(point) {\n            this.render();\n            this.element.css({\n                left: math.round(point.x),\n                top: math.round(point.y)\n            });\n\n            if (this.tooltip && this.tooltip.popup) {\n                // TODO: Expose popup/tooltip updatePosition? method\n                this.tooltip.popup._position();\n            }\n        },\n\n        hide: function() {\n            if (this.element) {\n                this.element.remove();\n                this.element = null;\n            }\n\n            if (this.tooltip) {\n                this.tooltip.destroy();\n                this.tooltip = null;\n            }\n        },\n\n        destroy: function() {\n            this.layer = null;\n            this.hide();\n        },\n\n        render: function() {\n            if (!this.element) {\n                let options = this.options;\n                let layer = this.layer;\n\n                this.element = $(doc.createElement(\"span\"))\n                    .attr(\"title\", options.title ? kendo.htmlEncode(options.title) : null)\n                    .attr(options.attributes || {})\n                    .data(\"kendoMarker\", this)\n                    .css(\"zIndex\", options.zIndex);\n\n                if (options.shape) {\n                    if (options.shape === \"pinTarget\") {\n                        kendo.ui.icon(this.element, { icon: \"map-marker-target\", iconClass: \"k-marker\", size: \"xxlarge\" });\n                    } else if (options.shape === \"pin\") {\n                        kendo.ui.icon(this.element, { icon: \"map-marker\", iconClass: \"k-marker\", size: \"xxlarge\" });\n                    } else {\n                        this.element.addClass(\"k-marker k-icon k-i-marker-\" + kendo.toHyphens(options.shape));\n                    }\n                } else {\n                    kendo.ui.icon(this.element, { icon: \"map-marker\", iconClass: \"k-marker\", size: \"xxlarge\" });\n                }\n\n                if (layer) {\n                    layer.element.append(this.element);\n                }\n\n                this.renderTooltip();\n            }\n        },\n\n        renderTooltip: function() {\n            var marker = this;\n            var title = marker.options.title;\n            var options = marker.options.tooltip || {};\n\n            if (options && Tooltip) {\n                var template = options.template;\n                if (template) {\n                    var contentTemplate = kendo.template(template);\n                    options.content = function(e) {\n                        e.location = marker.location();\n                        e.marker = marker;\n                        return contentTemplate(e);\n                    };\n                }\n\n                if (title || options.content || options.contentUrl) {\n                    this.tooltip = new Tooltip(this.element, options);\n                    this.tooltip.marker = this;\n                }\n            }\n        }\n    });\n\n    Marker.create = function(arg, defaults) {\n        if (arg instanceof Marker) {\n            return arg;\n        }\n\n        return new Marker(deepExtend({}, defaults, arg));\n    };\n\n    // Exports ================================================================\n    deepExtend(dataviz, {\n        map: {\n            layers: {\n                marker: MarkerLayer,\n                MarkerLayer: MarkerLayer\n            },\n            Marker: Marker\n        }\n    });\n\n})(window.kendo.jQuery);\n","import \"./crs.js\";\nimport \"./location.js\";\n\n(function($, undefined) {\n    // Imports ================================================================\n    var doc = document,\n        math = Math,\n        min = math.min,\n        pow = math.pow,\n\n        kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        deepExtend = kendo.deepExtend,\n\n        dataviz = kendo.dataviz,\n        ui = dataviz.ui,\n\n        g = kendo.geometry,\n        Point = g.Point,\n\n        map = dataviz.map,\n        Extent = map.Extent,\n        Location = map.Location,\n        EPSG3857 = map.crs.EPSG3857,\n\n        util = kendo.util,\n        renderPosNew = util.renderPosNew,\n\n        drawingUtil = kendo.drawing.util,\n\n        defined = drawingUtil.defined,\n        limit = drawingUtil.limitValue,\n        valueOrDefault = drawingUtil.valueOrDefault;\n\n    // Constants ==============================================================\n    var CSS_PREFIX = \"k-\",\n        FRICTION = 0.90,\n        FRICTION_MOBILE = 0.93,\n        MOUSEWHEEL = \"DOMMouseScroll mousewheel\",\n        VELOCITY_MULTIPLIER = 5,\n        DEFAULT_ZOOM_RATE = 1;\n\n    // Map widget =============================================================\n    var Map = Widget.extend({\n        init: function(element, options) {\n            kendo.destroy(element);\n            Widget.fn.init.call(this, element);\n\n            this._initOptions(options);\n            this.bind(this.events, options);\n\n            this.crs = new EPSG3857();\n\n            this.element\n                .addClass(CSS_PREFIX + this.options.name.toLowerCase())\n                .css(\"position\", \"relative\")\n                .empty()\n                .append(doc.createElement(\"div\"));\n\n            this._viewOrigin = this._getOrigin();\n            this._initScroller();\n            this._initMarkers();\n            this._initControls();\n            this._initLayers();\n            this._reset();\n\n            this.scrollElement.parent().removeClass('km-widget');\n\n            this._mousewheel = this._mousewheel.bind(this);\n            this.element.on(MOUSEWHEEL, this._mousewheel);\n        },\n\n        options: {\n            name: \"Map\",\n            controls: {\n                attribution: true,\n                navigator: {\n                    panStep: 100\n                },\n                zoom: true\n            },\n            layers: [],\n            layerDefaults: {\n                shape: {\n                    style: {\n                        fill: {\n                            color: \"#fff\"\n                        },\n                        stroke: {\n                            color: \"#aaa\",\n                            width: 0.5\n                        }\n                    }\n                },\n                bubble: {\n                    style: {\n                        fill: {\n                            color: \"#fff\",\n                            opacity: 0.5\n                        },\n                        stroke: {\n                            color: \"#aaa\",\n                            width: 0.5\n                        }\n                    }\n                },\n                marker: {\n                    shape: \"pinTarget\",\n                    tooltip: {\n                        position: \"top\"\n                    }\n                }\n            },\n            center: [0, 0],\n            zoom: 3,\n            minSize: 256,\n            minZoom: 1,\n            maxZoom: 19,\n            markers: [],\n            markerDefaults: {\n                shape: \"pinTarget\",\n                tooltip: {\n                    position: \"top\"\n                }\n            },\n            wraparound: true,\n            messages: {\n                tileTitle: \"Map tile\"\n            }\n        },\n\n        events: [\n            \"beforeReset\",\n            \"click\",\n            \"markerActivate\",\n            \"markerClick\",\n            \"markerCreated\",\n            \"pan\",\n            \"panEnd\",\n            \"reset\",\n            \"shapeClick\",\n            \"shapeCreated\",\n            \"shapeFeatureCreated\",\n            \"shapeMouseEnter\",\n            \"shapeMouseLeave\",\n            \"zoomEnd\",\n            \"zoomStart\"\n        ],\n\n        destroy: function() {\n            this.scroller.destroy();\n\n            if (this.navigator) {\n                this.navigator.destroy();\n            }\n\n            if (this.attribution) {\n                this.attribution.destroy();\n            }\n\n            if (this.zoomControl) {\n                this.zoomControl.destroy();\n            }\n\n            this.markers.destroy();\n\n            for (var i = 0; i < this.layers.length; i++) {\n                this.layers[i].destroy();\n            }\n\n            Widget.fn.destroy.call(this);\n        },\n\n        zoom: function(level) {\n            var options = this.options;\n\n            if (defined(level)) {\n                level = math.round(limit(level, options.minZoom, options.maxZoom));\n                if (options.zoom !== level) {\n                    options.zoom = level;\n                    this._reset();\n                }\n\n                return this;\n            } else {\n                return options.zoom;\n            }\n        },\n\n        center: function(center) {\n            if (center) {\n                this.options.center = Location.create(center).toArray();\n                this._reset();\n\n                return this;\n            } else {\n                return Location.create(this.options.center);\n            }\n        },\n\n        extent: function(extent) {\n            if (extent) {\n                this._setExtent(extent);\n                return this;\n            } else {\n                return this._getExtent();\n            }\n        },\n\n        setOptions: function(options) {\n            Widget.fn.setOptions.call(this, options);\n            this._reset();\n        },\n\n        locationToLayer: function(location, zoom) {\n            var clamp = !this.options.wraparound;\n            location = Location.create(location);\n            return this.crs.toPoint(location, this._layerSize(zoom), clamp);\n        },\n\n        layerToLocation: function(point, zoom) {\n            var clamp = !this.options.wraparound;\n            point = Point.create(point);\n            return this.crs.toLocation(point, this._layerSize(zoom), clamp);\n        },\n\n        locationToView: function(location) {\n            location = Location.create(location);\n            var origin = this.locationToLayer(this._viewOrigin);\n            var point = this.locationToLayer(location);\n\n            return point.translateWith(origin.scale(-1));\n        },\n\n        viewToLocation: function(point, zoom) {\n            var origin = this.locationToLayer(this._getOrigin(), zoom);\n            point = Point.create(point);\n            point = point.clone().translateWith(origin);\n            return this.layerToLocation(point, zoom);\n        },\n\n        eventOffset: function(e) {\n            var point;\n            var x;\n            var y;\n            var offset = this.element.offset();\n\n            if (e.x || e.y) {\n                var field = \"location\";\n                x = e.x[field] - offset.left;\n                y = e.y[field] - offset.top;\n                point = new g.Point(x, y);\n            } else {\n                var event = e.originalEvent || e;\n                x = valueOrDefault(event.pageX, event.clientX) - offset.left;\n                y = valueOrDefault(event.pageY, event.clientY) - offset.top;\n                point = new g.Point(x, y);\n            }\n\n            return point;\n        },\n\n        eventToView: function(e) {\n            var cursor = this.eventOffset(e);\n            return this.locationToView(this.viewToLocation(cursor));\n        },\n\n        eventToLayer: function(e) {\n            return this.locationToLayer(this.eventToLocation(e));\n        },\n\n        eventToLocation: function(e) {\n            var cursor = this.eventOffset(e);\n            return this.viewToLocation(cursor);\n        },\n\n        viewSize: function() {\n            var element = this.element;\n            var scale = this._layerSize();\n            var width = element.width();\n\n            if (!this.options.wraparound) {\n                width = min(scale, width);\n            }\n            return {\n                width: width,\n                height: min(scale, element.height())\n            };\n        },\n\n        exportVisual: function() {\n            this._reset();\n            return false;\n        },\n\n        _setOrigin: function(origin, zoom) {\n            var size = this.viewSize(),\n                topLeft;\n\n            origin = this._origin = Location.create(origin);\n            topLeft = this.locationToLayer(origin, zoom);\n            topLeft.x += size.width / 2;\n            topLeft.y += size.height / 2;\n\n            this.options.center = this.layerToLocation(topLeft, zoom).toArray();\n\n            return this;\n        },\n\n        _getOrigin: function(invalidate) {\n            var size = this.viewSize(),\n                topLeft;\n\n            if (invalidate || !this._origin) {\n                topLeft = this.locationToLayer(this.center());\n                topLeft.x -= size.width / 2;\n                topLeft.y -= size.height / 2;\n\n                this._origin = this.layerToLocation(topLeft);\n            }\n\n            return this._origin;\n        },\n\n        _setExtent: function(extent) {\n            var raw = Extent.create(extent);\n            var se = raw.se.clone();\n            if (this.options.wraparound && se.lng < 0 && extent.nw.lng > 0) {\n                se.lng = 180 + (180 + se.lng);\n            }\n\n            extent = new Extent(raw.nw, se);\n            this.center(extent.center());\n\n            var width = this.element.width();\n            var height = this.element.height();\n            for (var zoom = this.options.maxZoom; zoom >= this.options.minZoom; zoom--) {\n                var topLeft = this.locationToLayer(extent.nw, zoom);\n                var bottomRight = this.locationToLayer(extent.se, zoom);\n\n                var layerWidth = math.abs(bottomRight.x - topLeft.x);\n                var layerHeight = math.abs(bottomRight.y - topLeft.y);\n\n                if (layerWidth <= width && layerHeight <= height) {\n                    break;\n                }\n            }\n\n            this.zoom(zoom);\n        },\n\n        _getExtent: function() {\n            var nw = this._getOrigin();\n            var bottomRight = this.locationToLayer(nw);\n            var size = this.viewSize();\n\n            bottomRight.x += size.width;\n            bottomRight.y += size.height;\n\n            var se = this.layerToLocation(bottomRight);\n            return new Extent(nw, se);\n        },\n\n        _zoomAround: function(pivot, level) {\n            this._setOrigin(this.layerToLocation(pivot, level), level);\n            this.zoom(level);\n        },\n\n        _initControls: function() {\n            var controls = this.options.controls;\n\n            if (ui.Attribution && controls.attribution) {\n                this._createAttribution(controls.attribution);\n            }\n\n            if (!kendo.support.mobileOS) {\n                if (ui.Navigator && controls.navigator) {\n                    this._createNavigator(controls.navigator);\n                }\n\n                if (ui.ZoomControl && controls.zoom) {\n                    this._createZoomControl(controls.zoom);\n                }\n            }\n        },\n\n        _createControlElement: function(options, defaultPos) {\n            var pos = options.position || defaultPos;\n            var posSelector = \".\" + renderPosNew(pos);\n            var wrap = $(\".k-map-controls\" + posSelector, this.element);\n            if (wrap.length === 0) {\n                wrap = $(\"<div>\")\n                       .addClass(\"k-map-controls \" + renderPosNew(pos))\n                       .appendTo(this.element);\n            }\n\n            return $(\"<div>\").appendTo(wrap);\n        },\n\n        _createAttribution: function(options) {\n            var element = this._createControlElement(options, \"bottomRight\");\n            this.attribution = new ui.Attribution(element, options);\n        },\n\n        _createNavigator: function(options) {\n            var element = this._createControlElement(options, \"topLeft\");\n            var navigator = this.navigator = new ui.Navigator(element, options);\n\n            this._navigatorPan = this._navigatorPan.bind(this);\n            navigator.bind(\"pan\", this._navigatorPan);\n\n            this._navigatorCenter = this._navigatorCenter.bind(this);\n            navigator.bind(\"center\", this._navigatorCenter);\n        },\n\n        _navigatorPan: function(e) {\n            var map = this;\n            var scroller = map.scroller;\n\n            var x = scroller.scrollLeft + e.x;\n            var y = scroller.scrollTop - e.y;\n\n            var bounds = this._virtualSize;\n            var height = this.element.height();\n            var width = this.element.width();\n\n            // TODO: Move limits in scroller\n            x = limit(x, bounds.x.min, bounds.x.max - width);\n            y = limit(y, bounds.y.min, bounds.y.max - height);\n\n            map.scroller.one(\"scroll\", function(e) { map._scrollEnd(e); });\n            map.scroller.scrollTo(-x, -y);\n        },\n\n        _navigatorCenter: function() {\n            this.center(this.options.center);\n        },\n\n        _createZoomControl: function(options) {\n            var element = this._createControlElement(options, \"topLeft\");\n            var zoomControl = this.zoomControl = new ui.ZoomControl(element, options);\n\n            this._zoomControlChange = this._zoomControlChange.bind(this);\n            zoomControl.bind(\"change\", this._zoomControlChange);\n        },\n\n        _zoomControlChange: function(e) {\n            if (!this.trigger(\"zoomStart\", { originalEvent: e })) {\n                this.zoom(this.zoom() + e.delta);\n                this.trigger(\"zoomEnd\", { originalEvent: e });\n            }\n        },\n\n        _initScroller: function() {\n            var friction = kendo.support.mobileOS ? FRICTION_MOBILE : FRICTION;\n            var zoomable = this.options.zoomable !== false;\n            var scroller = this.scroller = new kendo.mobile.ui.Scroller(\n                this.element.children(0), {\n                    friction: friction,\n                    velocityMultiplier: VELOCITY_MULTIPLIER,\n                    zoom: zoomable,\n                    mousewheelScrolling: false,\n                    supportDoubleTap: true\n                });\n\n            scroller.bind(\"scroll\", this._scroll.bind(this));\n            scroller.bind(\"scrollEnd\", this._scrollEnd.bind(this));\n            scroller.userEvents.bind(\"gesturestart\", this._scaleStart.bind(this));\n            scroller.userEvents.bind(\"gestureend\", this._scale.bind(this));\n            scroller.userEvents.bind(\"doubleTap\", this._doubleTap.bind(this));\n            scroller.userEvents.bind(\"tap\", this._tap.bind(this));\n\n            this.scrollElement = scroller.scrollElement;\n        },\n\n        _initLayers: function() {\n            var defs = this.options.layers,\n                layers = this.layers = [];\n\n            for (var i = 0; i < defs.length; i++) {\n                var options = defs[i];\n                var type = options.type || \"shape\";\n                var defaults = this.options.layerDefaults[type];\n                var impl = dataviz.map.layers[type];\n\n                layers.push(new impl(this, deepExtend({}, defaults, options)));\n            }\n        },\n\n        _initMarkers: function() {\n            this.markers = new map.layers.MarkerLayer(this, this.options.markerDefaults);\n            this.markers.add(this.options.markers);\n        },\n\n        _scroll: function(e) {\n            var origin = this.locationToLayer(this._viewOrigin).round();\n            var movable = e.sender.movable;\n\n            var offset = new g.Point(movable.x, movable.y).scale(-1).scale(1 / movable.scale);\n            origin.x += offset.x;\n            origin.y += offset.y;\n\n            this._scrollOffset = offset;\n\n            this._setOrigin(this.layerToLocation(origin));\n            this.trigger(\"pan\", {\n                originalEvent: e,\n                origin: this._getOrigin(),\n                center: this.center()\n            });\n        },\n\n        _scrollEnd: function(e) {\n            if (!this._scrollOffset || !this._panComplete()) {\n                return;\n            }\n\n            this._scrollOffset = null;\n            this._panEndTS = new Date();\n\n            this.trigger(\"panEnd\", {\n                originalEvent: e,\n                origin: this._getOrigin(),\n                center: this.center()\n            });\n        },\n\n        _panComplete: function() {\n            return new Date() - (this._panEndTS || 0) > 50;\n        },\n\n        _scaleStart: function(e) {\n            if (this.trigger(\"zoomStart\", { originalEvent: e })) {\n                var touch = e.touches[1];\n                if (touch) {\n                    touch.cancel();\n                }\n            }\n        },\n\n        _scale: function(e) {\n            var scale = this.scroller.movable.scale;\n            var zoom = this._scaleToZoom(scale);\n            var gestureCenter = new g.Point(e.center.x, e.center.y);\n            var centerLocation = this.viewToLocation(gestureCenter, zoom);\n            var centerPoint = this.locationToLayer(centerLocation, zoom);\n            var originPoint = centerPoint.translate(-gestureCenter.x, -gestureCenter.y);\n\n            this._zoomAround(originPoint, zoom);\n            this.trigger(\"zoomEnd\", { originalEvent: e });\n        },\n\n        _scaleToZoom: function(scaleDelta) {\n            var scale = this._layerSize() * scaleDelta;\n            var tiles = scale / this.options.minSize;\n            var zoom = math.log(tiles) / math.log(2);\n\n            return math.round(zoom);\n        },\n\n        _reset: function() {\n            if (this.attribution) {\n                this.attribution.filter(this.center(), this.zoom());\n            }\n\n            this._viewOrigin = this._getOrigin(true);\n            this._resetScroller();\n            this.trigger(\"beforeReset\");\n            this.trigger(\"reset\", {\n                tileTitle: this.options.messages.tileTitle\n            });\n        },\n\n        _resetScroller: function() {\n            var scroller = this.scroller;\n            var x = scroller.dimensions.x;\n            var y = scroller.dimensions.y;\n            var scale = this._layerSize();\n            var nw = this.extent().nw;\n            var topLeft = this.locationToLayer(nw).round();\n\n            scroller.movable.round = true;\n            scroller.reset();\n            scroller.userEvents.cancel();\n\n            var zoom = this.zoom();\n            scroller.dimensions.forcedMinScale = pow(2, this.options.minZoom - zoom);\n            scroller.dimensions.maxScale = pow(2, this.options.maxZoom - zoom);\n\n            var xBounds = { min: -topLeft.x, max: scale - topLeft.x };\n            var yBounds = { min: -topLeft.y, max: scale - topLeft.y };\n\n            if (this.options.wraparound) {\n                xBounds.max = 20 * scale;\n                xBounds.min = -xBounds.max;\n            }\n\n            if (this.options.pannable === false) {\n                var viewSize = this.viewSize();\n                xBounds.min = yBounds.min = 0;\n                xBounds.max = viewSize.width;\n                yBounds.max = viewSize.height;\n            }\n\n            x.makeVirtual();\n            y.makeVirtual();\n            x.virtualSize(xBounds.min, xBounds.max);\n            y.virtualSize(yBounds.min, yBounds.max);\n\n            this._virtualSize = { x: xBounds, y: yBounds };\n        },\n\n        _renderLayers: function() {\n            var defs = this.options.layers,\n                layers = this.layers = [],\n                scrollWrap = this.scrollWrap;\n\n            scrollWrap.empty();\n\n            for (var i = 0; i < defs.length; i++) {\n                var options = defs[i];\n                var type = options.type || \"shape\";\n                var defaults = this.options.layerDefaults[type];\n                var impl = dataviz.map.layers[type];\n\n                layers.push(new impl(this, deepExtend({}, defaults, options)));\n            }\n        },\n\n        _layerSize: function(zoom) {\n            zoom = valueOrDefault(zoom, this.options.zoom);\n            return this.options.minSize * pow(2, zoom);\n        },\n\n        _tap: function(e) {\n            if (!this._panComplete()) {\n                return;\n            }\n\n            var cursor = this.eventOffset(e);\n            this.trigger(\"click\", {\n                originalEvent: e,\n                location: this.viewToLocation(cursor)\n            });\n        },\n\n        _doubleTap: function(e) {\n            var options = this.options;\n            if (options.zoomable !== false) {\n                if (!this.trigger(\"zoomStart\", { originalEvent: e })) {\n                    var toZoom = this.zoom() + DEFAULT_ZOOM_RATE;\n                    var cursor = this.eventOffset(e);\n                    var location = this.viewToLocation(cursor);\n                    var postZoom = this.locationToLayer(location, toZoom);\n                    var origin = postZoom.translate(-cursor.x, -cursor.y);\n                    this._zoomAround(origin, toZoom);\n                    this.trigger(\"zoomEnd\", { originalEvent: e });\n                }\n            }\n        },\n\n        _mousewheel: function(e) {\n            e.preventDefault();\n            var delta = dataviz.mwDelta(e) > 0 ? -1 : 1;\n            var options = this.options;\n            var fromZoom = this.zoom();\n            var toZoom = limit(fromZoom + delta, options.minZoom, options.maxZoom);\n\n            if (options.zoomable !== false && toZoom !== fromZoom) {\n                if (!this.trigger(\"zoomStart\", { originalEvent: e })) {\n                    var cursor = this.eventOffset(e);\n                    var location = this.viewToLocation(cursor);\n                    var postZoom = this.locationToLayer(location, toZoom);\n                    var origin = postZoom.translate(-cursor.x, -cursor.y);\n                    this._zoomAround(origin, toZoom);\n\n                    this.trigger(\"zoomEnd\", { originalEvent: e });\n                }\n            }\n        }\n    });\n\n    // Exports ================================================================\n    dataviz.ui.plugin(Map);\n\n})(window.kendo.jQuery);\n","import \"./kendo.data.js\";\nimport \"./kendo.userevents.js\";\nimport \"./kendo.tooltip.js\";\nimport \"./kendo.mobile.scroller.js\";\nimport \"./kendo.draganddrop.js\";\nimport \"./kendo.dataviz.core.js\";\nimport \"./dataviz/map/location.js\";\nimport \"./dataviz/map/attribution.js\";\nimport \"./dataviz/map/navigator.js\";\nimport \"./dataviz/map/zoom.js\";\nimport \"./dataviz/map/crs.js\";\nimport \"./dataviz/map/layers/base.js\";\nimport \"./dataviz/map/layers/shape.js\";\nimport \"./dataviz/map/layers/bubble.js\";\nimport \"./dataviz/map/layers/tile.js\";\nimport \"./dataviz/map/layers/bing.js\";\nimport \"./dataviz/map/layers/marker.js\";\nimport \"./dataviz/map/main.js\";\n\n    export const __meta__ = {\n        id: \"dataviz.map\",\n        name: \"Map\",\n        category: \"dataviz\",\n        description: \"The Kendo DataViz Map displays spatial data\",\n        depends: [ \"data\", \"userevents\", \"tooltip\", \"dataviz.core\", \"drawing\", \"mobile.scroller\" ]\n    };\n\n    export default kendo;"],"mappings":";usCAEC,UAAY,CAET,IAAI,EAAQ,OAAO,MACf,EAAa,EAAM,WAEvB,SAAS,EAAI,EAAO,CAChB,OAAO,EAAQ,EAGnB,IAAI,EAAM,KAAK,IACf,AACI,IAAM,UAAW,CACb,OAAO,IAAI,MAAM,CAAC,SAAS,EAMnC,SAAS,EAAW,EAAM,CAKtB,OAJI,OAAO,GAAS,WAChB,GAAQ,MAGL,EAGX,SAAS,EAAa,EAAK,CACvB,GAAI,EAQA,MAPY,CACR,QAAW,cACX,SAAY,YACZ,WAAc,iBACd,YAAe,eAClB,CAEU,GAInB,SAAS,EAAU,EAAK,CACpB,IAAI,EAAS,EAAE,CAEf,GAAI,EAGA,IAAK,IAFD,EAAQ,EAAM,UAAU,EAAI,CAAC,MAAM,IAAI,CAElC,EAAI,EAAG,EAAI,EAAM,OAAQ,IAC9B,EAAO,KAAK,SAAW,EAAM,GAAG,CAIxC,OAAO,EAAO,KAAK,IAAI,CAG3B,SAAS,EAAc,EAAG,CAkBtB,IAjBA,IAAI,EAAW,CACX,EAAO,IAAW,GAAO,IAAW,IAAO,IAC3C,EAAO,KAAW,GAAO,KAAW,IAAO,KAC3C,EAAO,MAAW,GAAO,MAAW,IAAO,MAC3C,EAAO,KAAW,GAAO,KAAW,IAAO,KAC3C,EAAO,IAAW,GAAO,IAAW,IAAO,IAC3C,EAAO,KAAW,GAAO,KAAW,IAAO,KAC3C,EAAO,MAAW,GAAO,MAAW,IAAO,MAC3C,EAAO,OAAW,GAAO,OAAW,IAAO,OAC3C,EAAO,KAAW,GAAO,KAAW,IAAO,KAC3C,IAAO,IACV,CACG,EAAS,CAAE,IACA,IAAM,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACzC,GAAM,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACzC,EAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAG,CACvD,EAAQ,GACL,EAAI,GACH,EAAI,EAAO,GACX,EAAO,OAAO,EAEd,GAAS,EAAS,EAAO,IACzB,GAAK,EAAO,IAGpB,OAAO,EAGX,SAAS,EAAc,EAAG,CACtB,EAAI,EAAE,aAAa,CAWnB,IAAK,IAVD,EAAS,CACT,EAAG,EACH,EAAG,EACH,EAAG,GACH,EAAG,GACH,EAAG,IACH,EAAG,IACH,EAAG,IACN,CACG,EAAQ,EAAG,EAAO,EACb,EAAI,EAAG,EAAI,EAAE,OAAQ,EAAE,EAAG,CAC/B,IAAI,EAAI,EAAO,EAAE,OAAO,EAAE,EAC1B,GAAI,CAAC,EACD,OAAO,KAEX,GAAS,EACL,EAAI,IACJ,GAAS,EAAI,GAEjB,EAAO,EAEX,OAAO,EAGX,SAAS,EAAQ,EAAG,CAChB,IAAI,EAAQ,OAAO,OAAO,KAAK,CAC/B,OAAO,UAAW,CAEd,IAAK,IADD,EAAK,GACA,EAAI,UAAU,OAAQ,EAAE,GAAK,GAClC,GAAM,IAAM,UAAU,GAE1B,OAAO,KAAM,EAAQ,EAAM,GAAO,EAAM,GAAM,EAAE,MAAM,KAAM,UAAU,EAI9E,SAAS,EAAgB,EAAI,CACzB,OAAO,EAAkB,KAAK,EAAG,CAGrC,SAAS,EAAS,EAAG,EAAK,CACtB,GAAI,CACA,OAAO,EAAE,KAAK,EAAK,SAAS,EAAM,CAC9B,MAAM,IAAI,EAAO,EAAM,EACzB,OACE,EAAI,CACR,GAAI,aAAc,EACd,OAAO,EAAG,MAEd,MAAM,EAEV,SAAS,EAAO,EAAO,CACnB,KAAK,MAAQ,GAKrB,EAAW,EAAO,CACd,KAAM,CACG,MACM,YACG,eACF,aACP,MACU,gBACA,gBACN,UACQ,kBACP,WACb,CACJ,CAAC,CAEF,IAAI,EAAwB,OAAO,q2JAAq2J,IAEx4J,EC5JH,SAAS,EAAG,EAAW,CAEpB,IAAI,EAAO,KACP,EAAM,EAAK,IACX,EAAO,EAAK,KACZ,EAAQ,EAAK,MACb,EAAM,EAAK,IACX,EAAM,EAAK,IACX,EAAM,EAAK,IACX,EAAM,EAAK,IACX,EAAM,EAAK,IAEX,EAAQ,OAAO,MACf,EAAQ,EAAM,MAEd,EAAU,EAAM,QAChB,EAAa,EAAM,WAEnB,EAAO,EAAM,QAAQ,KACrB,EAAU,EAAK,QACf,EAAM,EAAK,IACX,EAAM,EAAK,IACX,EAAQ,EAAK,MACb,EAAiB,EAAK,eAEtB,EAAM,EAAM,KAAK,IAGjB,EAAW,EAAM,OAAO,CACxB,KAAM,SAAS,EAAK,EAAK,CACjB,UAAU,SAAW,GACrB,KAAK,IAAM,EAAI,GACf,KAAK,IAAM,EAAI,KAEf,KAAK,IAAM,EACX,KAAK,IAAM,IAInB,oBAAqB,IACrB,qBAAsB,MACtB,mBAAoB,EACpB,OAAQ,gBAER,QAAS,UAAW,CAChB,MAAO,CAAC,KAAK,IAAK,KAAK,IAAI,EAG/B,OAAQ,SAAS,EAAK,CAClB,OAAO,GAAO,EAAI,MAAQ,KAAK,KAAO,EAAI,MAAQ,KAAK,KAG3D,MAAO,UAAW,CACd,OAAO,IAAI,EAAS,KAAK,IAAK,KAAK,IAAI,EAG3C,MAAO,SAAS,EAAW,CAGvB,MAFA,MAAK,IAAM,EAAM,KAAK,IAAK,EAAU,CACrC,KAAK,IAAM,EAAM,KAAK,IAAK,EAAU,CAC9B,MAGX,KAAM,UAAW,CAGb,MAFA,MAAK,KAAiB,IACtB,KAAK,KAAiB,GACf,MAGX,WAAY,SAAS,EAAM,EAAO,CAC9B,OAAO,KAAK,cAAc,EAAM,EAAM,CAAC,UAG3C,YAAa,SAAS,EAAU,EAAS,EAAO,CAC5C,EAAU,EAAI,EAAQ,CACtB,IAAiB,EAAQ,IAAI,OAAO,MAEpC,IAAI,EAAU,EAAI,KAAK,IAAI,CACvB,EAAU,EAAI,KAAK,IAAI,CACvB,EAAO,EAAW,EAAM,QAAQ,IAAI,OAAO,MAAM,EAEjD,EAAM,EAAK,KAAK,EAAI,EAAQ,CAAG,EAAI,EAAK,CACxB,EAAI,EAAQ,CAAG,EAAI,EAAK,CAAG,EAAI,EAAQ,CAAC,CAExD,EAAM,EAAU,EAAM,EAAI,EAAQ,CAAG,EAAI,EAAK,CAAG,EAAI,EAAQ,CACvC,EAAI,EAAK,CAAG,EAAI,EAAQ,CAAG,EAAI,EAAI,CAAC,CAE/D,OAAO,IAAI,EAAS,EAAI,EAAI,CAAE,EAAI,EAAI,CAAC,EAG1C,cAAe,SAAS,EAAM,EAAO,CAIjC,GAHA,EAAO,EAAS,OAAO,EAAK,CAC5B,IAAiB,EAAQ,IAAI,OAAO,MAEhC,CAAC,GAAQ,KAAK,OAAO,CAAC,MAAM,EAAE,CAAC,OAAO,EAAK,OAAO,CAAC,MAAM,EAAE,CAAC,CAC5D,MAAO,CACH,SAAU,EACV,YAAa,EACb,UAAW,EACd,CAkCL,IA5BA,IAAI,EAAI,EAAM,EACV,EAAI,EAAM,EACV,EAAI,EAAM,EAEV,EAAI,EAAI,EAAK,IAAM,KAAK,IAAI,CAE5B,EAAK,GAAM,EAAI,GAAK,EAAI,EAAI,KAAK,IAAI,CAAC,CAAC,CACvC,EAAQ,EAAI,EAAG,CACf,EAAQ,EAAI,EAAG,CAEf,EAAK,GAAM,EAAI,GAAK,EAAI,EAAI,EAAK,IAAI,CAAC,CAAC,CACvC,EAAQ,EAAI,EAAG,CACf,EAAQ,EAAI,EAAG,CAEf,EAAS,EACT,EAEA,EAAI,KAAK,oBACT,EAAY,GAEZ,EACA,EACA,EACA,EACA,EACA,EACA,EAEG,CAAC,GAAa,KAAM,GAAG,CAC1B,EAAY,EAAI,EAAO,CACvB,EAAY,EAAI,EAAO,CACvB,EAAO,EAAK,KACR,EAAI,EAAQ,EAAU,CAAG,EAAI,EAAQ,EAAQ,EAAQ,EAAQ,EAAU,CAC1E,CAED,EAAO,EAAQ,EAAQ,EAAQ,EAAQ,EACvC,EAAQ,EAAM,EAAM,EAAK,CAEzB,IAAI,EAAO,EAAQ,EAAQ,EAAY,EACvC,EAAQ,EAAI,EAAI,EAAK,CACrB,EAAS,EACL,IAAU,IACV,EAAS,EAAO,EAAI,EAAQ,EAAQ,GAGxC,EAAa,EACb,IAAI,EAAI,EAAI,GAAK,GAAS,EAAI,GAAK,EAAI,EAAI,IAC3C,EAAS,GAAK,EAAI,GAAK,EAAI,GACvB,EAAQ,EAAI,GAAQ,EAAS,EAAI,GAAQ,GAAK,EAAI,EAAI,EAAO,IAGjE,EAAY,EAAI,EAAS,EAAW,EAAI,KAAK,qBAGjD,IAAI,EAAK,GAAS,EAAI,EAAE,CAAG,EAAI,EAAE,EAAI,EAAI,EAAE,CACvC,EAAI,EAAI,EAAK,OAAS,KAAO,GAAM,KAAO,GAAM,IAAM,IAAM,KAC5D,EAAI,EAAK,MAAQ,IAAM,GAAM,KAAO,GAAM,GAAK,GAAK,KACpD,EAAS,EAAI,GAAQ,EAAS,EAAI,GAClC,GAAQ,GAAK,EAAI,EAAI,EAAO,EAAI,EAAI,EAAI,GAAU,GAAK,EAAI,EAAI,EAAK,GAAK,GAAK,EAAI,EAAI,EAAO,IAG7F,EAAc,EAAM,EAAQ,EAAW,EAAQ,EAAQ,EAAQ,EAAQ,EAAU,CACjF,EAAY,EAAM,EAAQ,EAAW,CAAC,EAAQ,EAAQ,EAAQ,EAAQ,EAAU,CAEpF,MAAO,CACH,SAAU,EAAM,EAAI,GAAK,EAAQ,GAAS,KAAK,mBAAmB,CAClE,YAAa,EAAI,EAAY,CAC7B,UAAW,EAAI,EAAU,CAC5B,EAER,CAAC,CAGF,EAAS,GAAG,SAAW,UAAW,CAC9B,OAAO,EAAM,OAAO,KAAK,OAAQ,KAAK,IAAK,KAAK,IAAI,EAGxD,EAAS,WAAa,SAAS,EAAI,CAC/B,OAAO,IAAI,EAAS,EAAG,GAAI,EAAG,GAAG,EAGrC,EAAS,WAAa,SAAS,EAAI,CAC/B,OAAO,IAAI,EAAS,EAAG,GAAI,EAAG,GAAG,EAGrC,EAAS,OAAS,SAAS,EAAG,EAAG,CAC7B,GAAI,EAAQ,EAAE,CAMN,OALA,aAAa,EACN,EAAE,OAAO,CACT,UAAU,SAAW,GAAK,EAAE,SAAW,EACvC,EAAS,WAAW,EAAE,CAEtB,IAAI,EAAS,EAAG,EAAE,EAKrC,IAAI,EAAS,EAAM,OAAO,CACtB,KAAM,SAAS,EAAI,EAAI,CACnB,EAAK,EAAS,OAAO,EAAG,CACxB,EAAK,EAAS,OAAO,EAAG,CAEpB,EAAG,IAAM,IAAM,EAAG,IAAM,KACxB,EAAG,IAAM,GAAK,EAAG,IAAM,IACvB,KAAK,GAAK,EACV,KAAK,GAAK,IAEV,KAAK,GAAK,EACV,KAAK,GAAK,IAIlB,SAAU,SAAS,EAAK,CACpB,IAAI,EAAK,KAAK,GACV,EAAK,KAAK,GACV,EAAM,EAAe,EAAI,IAAK,EAAI,GAAG,CACrC,EAAM,EAAe,EAAI,IAAK,EAAI,GAAG,CAEzC,OAAO,GACA,EAAM,KAAO,EAAG,IAAM,KACtB,EAAM,KAAO,EAAG,IAAM,KACtB,EAAM,IAAM,EAAG,IAAM,IACrB,EAAM,IAAM,EAAG,IAAM,IAGhC,OAAQ,UAAW,CACf,IAAI,EAAK,KAAK,GACV,EAAK,KAAK,GAEV,EAAM,EAAG,KAAO,EAAG,IAAM,EAAG,KAAO,EAEvC,OAAO,IAAI,EADD,EAAG,KAAO,EAAG,IAAM,EAAG,KAAO,EACd,EAAI,EAGjC,YAAa,SAAS,EAAM,CAExB,IAAK,IADD,EAAS,GACJ,EAAI,EAAG,EAAI,EAAK,OAAQ,IAC7B,IAAmB,KAAK,SAAS,EAAK,GAAG,CAG7C,OAAO,GAGX,QAAS,SAAS,EAAK,CACnB,IAAI,EAAK,KAAK,GACV,EAAK,KAAK,GACV,EAAM,EAAe,EAAI,IAAK,EAAI,GAAG,CACrC,EAAM,EAAe,EAAI,IAAK,EAAI,GAAG,CAEzC,EAAG,IAAM,EAAI,EAAG,IAAK,EAAI,CACzB,EAAG,IAAM,EAAI,EAAG,IAAK,EAAI,CAEzB,EAAG,IAAM,EAAI,EAAG,IAAK,EAAI,CACzB,EAAG,IAAM,EAAI,EAAG,IAAK,EAAI,EAG7B,WAAY,SAAS,EAAM,CACvB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAK,OAAQ,IAC7B,KAAK,QAAQ,EAAK,GAAG,EAI7B,MAAO,UAAW,CACd,IAAI,EAAK,KAAK,GACV,EAAK,KAAK,GAEd,MAAO,CAAE,GAAI,KAAK,GAAI,GAAI,IAAI,EAAS,EAAG,IAAK,EAAG,IAAI,CAC9C,GAAI,KAAK,GAAI,GAAI,IAAI,EAAS,EAAG,IAAK,EAAG,IAAI,CAAE,EAG3D,QAAS,UAAW,CAChB,IAAI,EAAK,KAAK,GACV,EAAK,KAAK,GAEd,MAAO,CAAC,EAAI,IAAI,EAAS,EAAG,IAAK,EAAG,IAAI,CAChC,EAAI,IAAI,EAAS,EAAG,IAAK,EAAG,IAAI,CAAC,EAG7C,SAAU,SAAS,EAAQ,CACvB,OAAO,KAAK,YAAY,EAAO,SAAS,CAAC,EAClC,EAAO,YAAY,KAAK,SAAS,CAAC,EAEhD,CAAC,CAEF,EAAO,MAAQ,IAAI,EAAO,CAAC,GAAI,KAAK,CAAE,CAAC,IAAK,IAAI,CAAC,CAEjD,EAAO,OAAS,SAAS,EAAG,EAAG,CAC3B,GAAI,aAAa,EACb,OAAO,KACA,GAAK,EACZ,OAAO,IAAI,EAAO,EAAG,EAAE,IAChB,GAAK,EAAE,SAAW,GAAK,CAAC,EAC/B,OAAO,IAAI,EAAO,CAAC,EAAE,GAAI,EAAE,GAAG,CAAE,CAAC,EAAE,GAAI,EAAE,GAAG,CAAC,EAKrD,EAAW,EAAS,CAChB,IAAK,CACO,SACE,WACb,CACJ,CAAC,GAEH,OAAO,MAAM,OAAO,ECrTtB,SAAS,EAAG,EAAW,CACpB,IAAI,EAAQ,OAAO,MACf,EAAS,EAAM,GAAG,OAClB,EAAW,EAAM,SAEjB,EAAO,EAAM,QAAQ,KACrB,EAAiB,EAAK,eACtB,EAAU,EAAK,QAEf,EAAc,EAAO,OAAO,CAC5B,KAAM,SAAS,EAAS,EAAS,CAC7B,EAAO,GAAG,KAAK,KAAK,KAAM,EAAS,EAAQ,CAC3C,KAAK,aAAa,EAAQ,CAC1B,KAAK,MAAQ,EAAE,CACf,KAAK,QAAQ,SAAS,gBAAgB,EAG1C,QAAS,CACL,KAAM,cACN,UAAW,gBACX,cAAe,CAAE,UAAW,EAC/B,CAED,OAAQ,SAAS,EAAQ,EAAM,CAC3B,KAAK,QAAU,EACf,KAAK,MAAQ,EACb,KAAK,SAAS,EAGlB,IAAK,SAAS,EAAM,CACZ,EAAQ,EAAK,GACT,OAAO,GAAS,WAChB,EAAO,CAAE,KAAM,EAAM,EAGzB,KAAK,MAAM,KAAK,EAAK,CACrB,KAAK,SAAS,GAItB,OAAQ,SAAS,EAAM,CAEnB,IAAK,IADD,EAAS,EAAE,CACN,EAAI,EAAG,EAAI,KAAK,MAAM,OAAQ,IAAK,CACxC,IAAI,EAAO,KAAK,MAAM,GAClB,EAAK,OAAS,GACd,EAAO,KAAK,EAAK,CAIzB,KAAK,MAAQ,EAEb,KAAK,SAAS,EAGlB,MAAO,UAAW,CACd,KAAK,MAAQ,EAAE,CACf,KAAK,QAAQ,OAAO,EAGxB,QAAS,UAAW,CAIhB,IAAK,IAHD,EAAS,EAAE,CACX,EAAe,EAAS,KAAK,QAAQ,aAAa,CAE7C,EAAI,EAAG,EAAI,KAAK,MAAM,OAAQ,IAAK,CACxC,IAAI,EAAO,KAAK,MAAM,GAClB,EAAO,KAAK,UAAU,EAAK,CAC3B,IAAS,IACT,EAAO,KAAK,EAAa,CACf,OACT,CAAC,CAAC,CAIP,EAAO,OAAS,EAChB,KAAK,QAAQ,OAAO,CACf,OAAO,EAAO,KAAK,KAAK,QAAQ,UAAU,CAAC,CAC3C,MAAM,CAEX,KAAK,QAAQ,MAAM,EAI3B,UAAW,SAAS,EAAM,CACtB,IAAI,EAAO,GACP,EAAc,KAAK,aAAa,EAAK,QAAS,EAAK,QAAQ,CAC3D,EAAS,KAAK,QAAQ,EAAK,OAAO,CAMtC,OAJI,GAAe,IACf,GAAQ,EAAK,MAGV,GAGX,aAAc,SAAS,EAAK,EAAK,CAC7B,IAAI,EAAS,GAMb,MALA,GAAM,EAAe,EAAK,CAAC,OAAO,UAAU,CAC5C,EAAM,EAAe,EAAK,OAAO,UAAU,CAE3C,EAAS,KAAK,MAAQ,GAAO,KAAK,MAAQ,EAEnC,GAGX,QAAS,SAAS,EAAM,CACpB,IAAI,EAAS,GAMb,OAJI,IACA,EAAS,EAAK,SAAS,KAAK,QAAQ,EAGjC,GAEd,CAAC,CAEF,EAAM,QAAQ,GAAG,OAAO,EAAY,GACrC,OAAO,MAAM,OAAO,EClHtB,SAAS,EAAG,CACT,IAAI,EAAQ,OAAO,MACf,EAAS,EAAM,GAAG,OAClB,EAAO,EAAM,KAEb,EAAK,kBAET,SAAS,EAAO,EAAK,CACjB,IAAM,EAAU,CACZ,EAAG,KACH,EAAG,OACH,EAAG,QACH,EAAG,OACN,CACD,OAAO,EAAM,KAAK,aACd,8BAA8B,EAAI,qBAAqB,EAAQ,GAAK,aACpE,CACI,KAAM,aAAa,EAAQ,KAC3B,SAAU,OACV,QAAS,OACZ,CACJ,CAGL,IAAI,EAAU,EAAO,IAAI,CAAG,EAAO,IAAI,CAAG,EAAO,IAAI,CAAG,EAAO,IAAI,CAE/D,EAAY,EAAO,OAAO,CAC1B,KAAM,SAAS,EAAS,EAAS,CAC7B,EAAO,GAAG,KAAK,KAAK,KAAM,EAAS,EAAQ,CAC3C,KAAK,aAAa,EAAQ,CAE1B,KAAK,QAAQ,SAAS,cAAc,CACvB,OAAO,EAAQ,CACf,GAAG,QAAU,EAAI,YAAa,KAAK,OAAO,KAAK,KAAK,CAAC,CAElE,IAAI,EAAgB,KAAK,QAAQ,QAAQ,CAAC,QAAQ,IAAM,EAAM,KAAK,OAAO,CAAG,IAAI,CACjF,KAAK,SAAW,EAAc,OAAS,EAAI,EAAgB,KAAK,QAChE,KAAK,UAAU,KAAK,SAAS,CAE7B,KAAK,SAAW,KAAK,SAAS,KAAK,KAAK,CACxC,KAAK,SAAS,GAAG,UAAW,KAAK,SAAS,EAG9C,QAAS,CACL,KAAM,YACN,QAAS,EACZ,CAED,OAAQ,CACJ,MACH,CAED,QAAS,UAAW,CAChB,KAAK,SAAS,IAAI,UAAW,KAAK,SAAS,EAG/C,KAAM,SAAS,EAAG,EAAG,CACjB,IAAI,EAAU,KAAK,QAAQ,QAC3B,KAAK,QAAQ,MAAO,CAChB,EAAG,EAAI,EACP,EAAG,EAAI,EACV,CAAC,EAGN,OAAQ,SAAS,EAAG,CAChB,IAAI,EAAI,EACJ,EAAI,EACJ,EAAS,EAAE,EAAE,cAAc,CAE3B,EAAO,GAAG,iBAAiB,CAC3B,EAAI,EACG,EAAO,GAAG,iBAAiB,CAClC,EAAI,GACG,EAAO,GAAG,iBAAiB,CAClC,EAAI,EACG,EAAO,GAAG,iBAAiB,GAClC,EAAI,IAGR,KAAK,KAAK,EAAG,EAAE,CACf,EAAE,gBAAgB,EAGtB,SAAU,SAAS,EAAG,CAClB,OAAQ,EAAE,MAAV,CACI,KAAK,EAAK,GACN,KAAK,KAAK,EAAG,EAAE,CACf,EAAE,gBAAgB,CAClB,MAEJ,KAAK,EAAK,KACN,KAAK,KAAK,EAAG,GAAG,CAChB,EAAE,gBAAgB,CAClB,MAEJ,KAAK,EAAK,MACN,KAAK,KAAK,EAAG,EAAE,CACf,EAAE,gBAAgB,CAClB,MAEJ,KAAK,EAAK,KACN,KAAK,KAAK,GAAI,EAAE,CAChB,EAAE,gBAAgB,CAClB,QAGf,CAAC,CAGF,EAAM,QAAQ,GAAG,OAAO,EAAU,GAEnC,OAAO,MAAM,OAAO,EChHtB,SAAS,EAAG,CACT,IAAI,EAAQ,OAAO,MACf,EAAS,EAAM,GAAG,OAClB,EAAO,EAAM,KAGjB,SAAS,EAAO,EAAK,EAAM,CACxB,MAAO,gDAAgD,EAAI,gBAAgB,EAAI,qBAAqB,EAAI,IAAI,EAAM,GAAG,KAAK,CAAQ,OAAM,UAAW,gBAAiB,CAAC,CAAC,WAGzK,IAAI,EAAK,oBACL,EAAU,EAAO,KAAM,OAAO,CAAG,EAAO,MAAO,QAAQ,CAEvD,EAAO,IACP,EAAQ,IACR,EAAU,GACV,EAAW,IAGX,EAAc,EAAO,OAAO,CAC5B,KAAM,SAAS,EAAS,EAAS,CAC7B,EAAO,GAAG,KAAK,KAAK,KAAM,EAAS,EAAQ,CAC3C,KAAK,aAAa,EAAQ,CAE1B,KAAK,QAAQ,SAAS,mDAAmD,CAC5D,OAAO,EAAQ,CACf,GAAG,QAAU,EAAI,YAAa,KAAK,OAAO,KAAK,KAAK,CAAC,CAElE,IAAI,EAAgB,KAAK,QAAQ,QAAQ,CAAC,QAAQ,IAAM,EAAM,KAAK,OAAO,CAAG,IAAI,CACjF,KAAK,SAAW,EAAc,OAAS,EAAI,EAAgB,KAAK,QAEhE,KAAK,UAAU,KAAK,SAAS,CAE7B,KAAK,SAAW,KAAK,SAAS,KAAK,KAAK,CACxC,KAAK,SAAS,GAAG,UAAW,KAAK,SAAS,EAG9C,QAAS,CACL,KAAM,cACN,SAAU,EACb,CAED,OAAQ,CACJ,SACH,CAED,QAAS,SAAS,EAAK,CACnB,IAAI,EAAW,KAAK,QAAQ,SAC5B,KAAK,QAAQ,SAAU,CACnB,MAAO,EAAM,EAChB,CAAC,EAGN,OAAQ,SAAS,EAAG,CAChB,IAAI,EAAS,EAAE,EAAE,cAAc,CAC3B,EAAM,EAEN,EAAO,GAAG,cAAc,GACxB,EAAM,IAGV,KAAK,QAAQ,EAAI,CACjB,EAAE,gBAAgB,EAGtB,SAAU,SAAS,EAAG,CAClB,OAAQ,EAAE,MAAV,CACI,KAAK,EAAK,YACV,KAAK,EACL,KAAK,EACD,KAAK,QAAQ,EAAE,CACf,MAEJ,KAAK,EAAK,aACV,KAAK,EACL,KAAK,EACD,KAAK,QAAQ,GAAG,CAChB,QAGf,CAAC,CAIF,EAAM,QAAQ,GAAG,OAAO,EAAY,GAErC,OAAO,MAAM,OAAO,ECtFtB,SAAS,EAAG,EAAW,CAEpB,IAAI,EAAO,KACP,EAAO,EAAK,KACZ,EAAM,EAAK,IACX,EAAM,EAAK,IACX,EAAM,EAAK,IACX,EAAM,EAAK,IACX,EAAM,EAAK,IAEX,EAAQ,OAAO,MACf,EAAQ,EAAM,MAEd,EAAU,EAAM,QAChB,EAAa,EAAM,WAEnB,EAAI,EAAM,SACV,EAAQ,EAAE,MAGV,EADM,EAAQ,IACC,SAEf,EAAO,EAAM,QAAQ,KACrB,EAAM,EAAK,IACX,EAAM,EAAK,IACX,EAAQ,EAAK,WAGb,EAAK,EAAK,GACV,EAAW,EAAK,EAChB,EAAW,EAAK,EAChB,EAAa,EAAK,IAGlB,EAAQ,CACR,EAAG,QACH,EAAG,kBACH,EAAG,qBACH,EAAG,mBACN,CAGG,EAAW,EAAM,OAAO,CACxB,KAAM,SAAS,EAAS,CACpB,KAAK,aAAa,EAAQ,EAG9B,QAAS,IACT,QAAS,cACT,mBAAoB,GACpB,oBAAqB,MAErB,QAAS,CACL,gBAAiB,EACjB,MAAO,EACV,CAED,QAAS,SAAS,EAAK,EAAO,CAC1B,IAAI,EAAO,KACP,EAAU,EAAK,QAEf,EADQ,EAAQ,MACN,EACV,EAAO,EAAQ,gBACf,EAAM,EAAM,EAAI,IAAK,CAAC,EAAK,QAAS,EAAK,QAAQ,CAKrD,OAAO,IAAI,EAHH,GADE,EAAQ,EAAM,EAAI,IAAK,CAAC,EAAK,QAAS,EAAK,QAAQ,CAAG,EAAI,KAClD,EAAK,CAAG,EAClB,EAAK,YAAY,EAAI,CAEP,EAG1B,YAAa,SAAS,EAAK,CACvB,IAAI,EAAQ,KAAK,QAAQ,MACrB,EAAM,EAAM,EACZ,EAAI,EAAM,EACV,EAAI,EAAI,EAAI,CACZ,EAAK,EAAI,EAAW,EAAI,EAAE,CAC1B,EAAM,EAAM,EAAI,EAAE,CAKtB,OAAO,EAAI,EAAI,EAJP,GAAK,EAAI,IAAQ,EAAI,GAAM,EAAM,EAAE,CAIrB,EAG1B,QAAS,SAAS,EAAO,EAAO,CAC5B,IAAI,EAAO,KACP,EAAU,EAAK,QAEf,EADQ,EAAQ,MACN,EACV,EAAO,EAAQ,gBACf,EAAM,EAAM,GAAK,EAAa,GAAK,EACnC,EAAM,EAAM,EAAK,UAAU,EAAM,EAAE,CAAE,CAAC,EAAK,QAAS,EAAK,QAAQ,CAMrE,OAJI,IACA,EAAM,EAAM,EAAK,CAAC,EAAK,QAAS,EAAK,QAAQ,EAG1C,IAAI,EAAS,EAAK,EAAI,EAGjC,UAAW,SAAS,EAAG,CACnB,IAAI,EAAO,KACP,EAAQ,EAAK,QAAQ,MACrB,EAAI,EAAM,EACV,EAAM,EAAM,EACZ,EAAO,EAAM,EACb,EAAK,EAAI,CAAC,EAAI,EAAE,CAChB,EAAM,EAAW,EAAI,EAAK,EAAG,CAC7B,EAEJ,IAAK,EAAI,EAAG,GAAK,EAAK,mBAAoB,IAAK,CAC3C,IAAI,EAAM,EAAM,EAAI,EAAI,CAEpB,EAAO,EAAW,EAAI,EAAK,EADvB,GAAK,EAAI,IAAQ,EAAI,GAAM,EAAK,CACF,CAAG,EAIzC,GAFA,GAAO,EAEH,EAAK,IAAI,EAAK,EAAI,EAAK,oBACvB,MAIR,OAAO,EAAI,EAAI,EAEtB,CAAC,CAKE,EAAoB,EAAS,OAAO,CACpC,QAAS,cAET,YAAa,SAAS,EAAK,CAKvB,OAJQ,KAAK,QAAQ,MAAM,EAIhB,EAFF,EAAI,EADL,EAAI,EAAI,CACY,EAAE,CAEZ,EAGtB,UAAW,SAAS,EAAG,CACnB,IAAI,EAAI,KAAK,QAAQ,MAAM,EAG3B,OAAO,EAAI,EAAY,EAAI,EAFlB,EAAI,CAAC,EAAI,EAAE,CAEe,CAAE,EAE5C,CAAC,CAEE,EAAkB,EAAM,OAAO,CAC/B,QAAS,SAAS,EAAK,CACnB,OAAO,IAAI,EAAM,EAAI,IAAK,EAAI,IAAI,EAGtC,QAAS,SAAS,EAAO,CACrB,OAAO,IAAI,EAAS,EAAM,EAAG,EAAM,EAAE,EAE5C,CAAC,CAGE,EAAW,EAAM,OAAO,CACxB,KAAM,UAAW,CACb,IAAI,EAAM,KACN,EAAO,EAAI,MAAQ,IAAI,EAEvB,EAAI,KAAK,EAAI,EAAI,EAAK,EAAK,QAAQ,MAAM,EAG7C,KAAK,IAAM,EAAE,WAAW,CAAC,UAAU,GAAK,GAAI,CAAC,MAAM,EAAI,EAAG,GAAK,EAAE,CAGjE,KAAK,KAAO,EAAE,WAAW,CAAC,MAAM,EAAG,CAAC,EAAE,CAAC,UAAU,IAAM,IAAK,EAIhE,QAAS,SAAS,EAAK,EAAO,EAAO,CAGjC,OAFY,KAAK,MAAM,QAAQ,EAAK,EAAM,CAGrC,UAAU,KAAK,IAAI,CACnB,MAAM,GAAS,EAAE,EAG1B,WAAY,SAAS,EAAO,EAAO,EAAO,CAMtC,MALA,GAAQ,EACH,OAAO,CACP,MAAM,GAAK,GAAS,GAAG,CACvB,UAAU,KAAK,KAAK,CAElB,KAAK,MAAM,QAAQ,EAAO,EAAM,EAE9C,CAAC,CAgCF,EAAW,EAAS,CAChB,IAAK,CACD,IAAK,CACS,SAjCP,EAAM,OAAO,CACxB,KAAM,UAAW,CACb,KAAK,MAAQ,IAAI,GAGrB,QAAS,SAAS,EAAK,CACnB,OAAO,KAAK,MAAM,QAAQ,EAAI,EAGlC,WAAY,SAAS,EAAO,CACxB,OAAO,KAAK,MAAM,QAAQ,EAAM,EAEvC,CAAC,CAsBoB,WACA,SApBP,EAAM,OAAO,CACxB,KAAM,UAAW,CACb,KAAK,MAAQ,IAAI,GAGrB,QAAS,SAAS,EAAK,CACnB,OAAO,KAAK,MAAM,QAAQ,EAAI,EAGlC,WAAY,SAAS,EAAO,CACxB,OAAO,KAAK,MAAM,QAAQ,EAAM,EAEvC,CAAC,CASO,CACD,OAAQ,CACG,QACV,CACD,YAAa,CACQ,kBACP,WACS,oBACtB,CACJ,CACJ,CAAC,GAEH,OAAO,MAAM,OAAO,ECjPtB,SAAS,EAAG,EAAW,CAEpB,IAAI,EAAQ,OAAO,MACf,EAAQ,EAAM,MAEd,EAAU,EAAM,QAChB,EAAa,EAAM,WAEnB,EAAS,EAAQ,IAAI,OAGrB,EADO,EAAM,QAAQ,KACN,QAoGnB,EAAW,EAAS,CAChB,IAAK,CACD,OAAQ,CACG,MApGP,EAAM,OAAO,CACrB,KAAM,SAAS,EAAK,EAAS,CACzB,KAAK,aAAa,EAAQ,CAC1B,KAAK,IAAM,EAEX,KAAK,QAAU,EAAE,8BAA8B,CAC3C,IAAI,CACD,OAAU,KAAK,QAAQ,OACvB,QAAW,KAAK,QAAQ,QAC3B,CAAC,CACD,SAAS,EAAI,cAAc,CAE/B,KAAK,aAAe,KAAK,aAAa,KAAK,KAAK,CAChD,KAAK,OAAS,KAAK,OAAO,KAAK,KAAK,CACpC,KAAK,QAAU,KAAK,QAAQ,KAAK,KAAK,CACtC,KAAK,QAAU,KAAK,QAAQ,KAAK,KAAK,CACtC,KAAK,WAAW,CAEhB,KAAK,oBAAoB,EAG7B,QAAS,UAAW,CAChB,KAAK,aAAa,EAGtB,KAAM,UAAW,CACb,KAAK,OAAO,CACZ,KAAK,WAAW,CAChB,KAAK,aAAa,GAAK,EAG3B,KAAM,UAAW,CACb,KAAK,aAAa,CAClB,KAAK,eAAe,GAAM,EAG9B,MAAO,UAAW,CACd,KAAK,cAAc,CACnB,KAAK,QAAQ,EAGjB,OAAQ,UAAW,CACf,KAAK,cAAc,EAGvB,aAAc,EAAE,KAEhB,QAAS,EAAE,KAEX,QAAS,UAAW,CAChB,KAAK,cAAc,EAGvB,aAAc,UAAW,CACrB,IAAI,EAAU,KAAK,QAEf,EAAO,KAAK,IAAI,MAAM,CACtB,EAAe,CAAC,EAAQ,EAAQ,QAAQ,EAAI,GAAQ,EAAQ,QAC5D,EAAe,CAAC,EAAQ,EAAQ,QAAQ,EAAI,GAAQ,EAAQ,QAE5D,EAAS,EAAO,OAAO,EAAQ,OAAO,CACtC,EAAS,CAAC,GAAU,EAAO,SAAS,KAAK,IAAI,QAAQ,CAAC,CAE1D,KAAK,eAAe,GAAgB,GAAgB,EAAO,EAG/D,eAAgB,SAAS,EAAS,CAC9B,KAAK,QAAQ,IAAI,UAAW,EAAU,GAAK,OAAO,EAGtD,UAAW,UAAW,CAClB,IAAI,EAAM,KAAK,IACf,KAAK,aAAa,CAClB,EAAI,KAAK,cAAe,KAAK,aAAa,CAC1C,EAAI,KAAK,QAAS,KAAK,OAAO,CAC9B,EAAI,KAAK,SAAU,KAAK,QAAQ,CAChC,EAAI,KAAK,SAAU,KAAK,QAAQ,EAGpC,YAAa,UAAW,CACpB,IAAI,EAAM,KAAK,IACf,EAAI,OAAO,cAAe,KAAK,aAAa,CAC5C,EAAI,OAAO,QAAS,KAAK,OAAO,CAChC,EAAI,OAAO,SAAU,KAAK,QAAQ,CAClC,EAAI,OAAO,SAAU,KAAK,QAAQ,EAGtC,mBAAoB,UAAW,CAC3B,IAAI,EAAO,KAAK,IAAI,YAEhB,GACA,EAAK,IAAI,KAAK,QAAQ,YAAY,EAG7C,CAAC,CAOO,CACJ,CACJ,CAAC,GAEH,OAAO,MAAM,OAAO,ECvHtB,SAAS,EAAG,EAAW,CAEpB,IAAI,EAAQ,OAAO,MACf,EAAQ,EAAM,MACd,EAAa,EAAM,KAAK,WAExB,EAAU,EAAM,QAChB,EAAa,EAAM,WAEnB,EAAI,EAAM,SAEV,EAAI,EAAM,QACV,EAAQ,EAAE,MAEV,EAAO,EAAE,KAAK,KACd,EAAU,EAAE,KAAK,QAEjB,EAAM,EAAQ,IACd,EAAW,EAAI,SACf,EAAQ,EAAI,OAAO,MAGnB,EAAa,EAAM,OAAO,CAC1B,KAAM,SAAS,EAAK,EAAS,CAEzB,KAAK,KAAO,KAAK,KAAK,KAAK,KAAK,CAEhC,EAAM,GAAG,KAAK,KAAK,KAAM,EAAK,EAAQ,CAEtC,KAAK,QAAU,EAAE,QAAQ,OAAO,KAAK,QAAS,CAC1C,MAAO,EAAI,cAAc,OAAO,CAChC,OAAQ,EAAI,cAAc,QAAQ,CACrC,CAAC,CAEF,KAAK,WAAW,CAEhB,KAAK,QAAU,IAAI,EAAM,GAAG,QAAQ,KAAK,QAAQ,QAAQ,CACzD,KAAK,SAAW,EAAE,CAElB,KAAK,OAAS,KAAK,SAAS,aAAa,CACzC,KAAK,QAAQ,KAAK,QAAS,KAAK,OAAO,CAEvC,KAAK,YAAc,KAAK,SAAS,kBAAkB,CACnD,KAAK,QAAQ,KAAK,aAAc,KAAK,YAAY,CAEjD,KAAK,YAAc,KAAK,SAAS,kBAAkB,CACnD,KAAK,QAAQ,KAAK,aAAc,KAAK,YAAY,CAEjD,KAAK,iBAAiB,EAG1B,QAAS,CACL,SAAU,GACb,CAED,QAAS,UAAW,CAChB,EAAM,GAAG,QAAQ,KAAK,KAAK,CAE3B,KAAK,QAAQ,SAAS,CACtB,KAAK,WAAW,OAAO,SAAU,KAAK,YAAY,EAGtD,cAAe,SAAS,EAAY,CAC5B,KAAK,YACL,KAAK,WAAW,OAAO,SAAU,KAAK,YAAY,CAGtD,KAAK,WAAa,EAAM,KAAK,WAAW,OAAO,EAAW,CAC1D,KAAK,WAAW,KAAK,SAAU,KAAK,YAAY,CAE5C,KAAK,QAAQ,UACb,KAAK,WAAW,OAAO,EAI/B,OAAQ,UAAW,CACf,EAAM,GAAG,OAAO,KAAK,KAAK,CAC1B,KAAK,mBAAmB,CAEpB,KAAK,OACL,KAAK,MAAM,KAAK,MAAM,EAI9B,UAAW,UAAW,CAClB,KAAK,MAAQ,IAAI,EACjB,KAAK,QAAQ,KAAK,KAAK,MAAM,EAGjC,aAAc,UAAW,CACrB,KAAK,QAAQ,OAAO,CACpB,KAAK,WAAW,EAGpB,QAAS,UAAW,CAChB,KAAK,QAAQ,KAAK,KAAK,IAAI,MAAM,CAAC,EAGtC,gBAAiB,UAAW,CACxB,IAAI,EAAY,KAAK,QAAQ,WAC7B,KAAK,YAAc,KAAK,YAAY,KAAK,KAAK,CAC9C,KAAK,WAAa,EACb,OAAO,EAAU,CACjB,KAAK,SAAU,KAAK,YAAY,CAEjC,GAAa,KAAK,QAAQ,UAC1B,KAAK,WAAW,OAAO,EAI/B,YAAa,SAAS,EAAG,CACrB,KAAK,MAAQ,EAAE,OAAO,MAAM,CAC5B,KAAK,MAAM,KAAK,MAAM,EAG1B,MAAO,SAAS,EAAM,CAClB,KAAK,eAAe,CAEpB,AACI,KAAK,UAAU,IAAI,EAAc,KAAK,IAAK,KAAK,QAAQ,MAAO,KAAK,CAIxE,IAAK,IADD,EAAY,IAAI,EACX,EAAI,EAAG,EAAI,EAAK,OAAQ,IAAK,CAClC,IAAI,EAAQ,KAAK,QAAQ,MAAM,EAAK,GAAG,CACnC,GACA,EAAU,OAAO,EAAM,CAI/B,KAAK,MAAM,OAAO,CAClB,KAAK,MAAM,OAAO,EAAU,EAGhC,aAAc,SAAS,EAAO,CAC1B,IAAI,EAAY,GAKhB,GAJI,aAAiB,EAAE,SACnB,EAAY,EAAQ,KAAK,cAAc,EAAM,CAAC,EAG9C,CAAC,EAAW,CACZ,IAAI,EAAO,CAAE,MAAO,KAAa,QAAO,CACxC,EAAY,KAAK,IAAI,QAAQ,eAAgB,EAAK,CAGtD,OAAO,GAGX,eAAgB,SAAS,EAAG,CACxB,EAAE,MAAQ,KACV,KAAK,IAAI,QAAQ,sBAAuB,EAAE,EAG9C,cAAe,SAAS,EAAO,CAC3B,IAAI,EAAS,KAAK,IAAI,QAAQ,KAAK,CAC/B,SAAU,EAAM,SACnB,CAAE,EAAM,SAAS,CAMlB,OAJI,GACA,KAAK,SAAS,KAAK,EAAO,CAGvB,GAGX,cAAe,UAAW,CACtB,IAAK,IAAI,EAAI,EAAG,EAAI,KAAK,SAAS,OAAQ,IACtC,KAAK,IAAI,QAAQ,OAAO,KAAK,SAAS,GAAG,CAE7C,KAAK,SAAW,EAAE,EAGtB,KAAM,UAAW,CACR,KAAK,WACN,KAAK,SAAW,GAChB,KAAK,QAAQ,iBAAiB,GAItC,QAAS,SAAS,EAAG,CACjB,EAAM,GAAG,QAAQ,KAAK,KAAM,EAAE,CAC9B,KAAK,mBAAmB,CACxB,KAAK,QAAQ,gBAAgB,CAC7B,KAAK,SAAW,IAGpB,kBAAmB,UAAW,CAC1B,IAAI,EAAM,KAAK,IACX,EAAK,EAAI,eAAe,EAAI,QAAQ,CAAC,GAAG,CAExC,KAAK,QAAQ,WAAa,KAAK,QAAQ,QAAQ,OAAO,CAAG,GAAK,KAAK,QAAQ,QAAQ,QAAQ,CAAG,IAC9F,KAAK,QAAQ,UAAU,EAAG,CAC1B,KAAK,QAAQ,OAAO,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,GAIjD,SAAU,SAAS,EAAO,CACtB,IAAI,EAAQ,KACZ,OAAO,SAAS,EAAG,CACf,GAAI,EAAE,QAAS,CACX,IAAI,EAAO,CACA,QACP,MAAO,EAAE,QACT,cAAe,EAAE,cACpB,CAED,EAAM,IAAI,QAAQ,EAAO,EAAK,IAK1C,UAAW,UAAW,CAClB,EAAM,GAAG,UAAU,KAAK,KAAK,CAE7B,KAAK,IAAI,KAAK,MAAO,KAAK,KAAK,EAGnC,YAAa,UAAW,CACpB,EAAM,GAAG,YAAY,KAAK,KAAK,CAE/B,KAAK,IAAI,OAAO,MAAO,KAAK,KAAK,EAExC,CAAC,CAEE,EAAgB,EAAM,OAAO,CAC7B,KAAM,SAAS,EAAS,EAAc,EAAU,CAC5C,KAAK,SAAW,EAChB,KAAK,QAAU,EACf,KAAK,MAAQ,GAGjB,MAAO,SAAS,EAAM,CAClB,IAAI,EAAO,IAAI,EACX,EAAS,GAcb,OAZI,EAAK,OAAS,WACd,EAAS,GACT,KAAK,gBAAgB,EAAM,EAAK,SAAU,EAAK,CAC/C,KAAK,gBAAgB,EAAM,EAAK,EAEhC,KAAK,gBAAgB,EAAM,EAAM,EAAK,CAGtC,GAAU,EAAK,SAAS,OAAS,IACjC,EAAO,EAAK,SAAS,IAGlB,GAGX,cAAe,SAAS,EAAO,CAC3B,IAAI,EAAY,GAMhB,OAJI,KAAK,UAAY,KAAK,SAAS,eAC/B,EAAY,KAAK,SAAS,aAAa,EAAM,EAG1C,GAGX,gBAAiB,SAAS,EAAO,EAAU,CACnC,KAAK,UAAY,KAAK,SAAS,gBAC/B,KAAK,SAAS,eAAe,CAClB,QACG,WACV,WAAY,EAAS,WACxB,CAAC,EAIV,gBAAiB,SAAS,EAAW,EAAU,EAAU,CACrD,IAAI,EAAS,EAAS,YAClB,EACA,EAEJ,OAAQ,EAAS,KAAjB,CACI,IAAK,aACD,EAAO,KAAK,aAAa,EAAW,CAAC,EAAO,CAAE,EAAS,CACvD,KAAK,aAAa,EAAK,CACvB,MAEJ,IAAK,kBACD,IAAK,EAAI,EAAG,EAAI,EAAO,OAAQ,IAC3B,EAAO,KAAK,aAAa,EAAW,CAAC,EAAO,GAAG,CAAE,EAAS,CAC1D,KAAK,aAAa,EAAK,CAE3B,MAEJ,IAAK,UACD,KAAK,aAAa,EAAW,EAAQ,EAAS,CAC9C,MAEJ,IAAK,eACD,IAAK,EAAI,EAAG,EAAI,EAAO,OAAQ,IAC3B,KAAK,aAAa,EAAW,EAAO,GAAI,EAAS,CAErD,MAEJ,IAAK,QACD,KAAK,WAAW,EAAW,EAAQ,EAAS,CAC5C,MAEJ,IAAK,aACD,IAAK,EAAI,EAAG,EAAI,EAAO,OAAQ,IAC3B,KAAK,WAAW,EAAW,EAAO,GAAI,EAAS,CAEnD,QAIZ,aAAc,SAAS,EAAM,CACzB,IAAI,EAAW,EAAK,UAChB,EAAS,OAAS,GAAK,CAAC,EAAS,GAAG,QAAQ,CAAC,OAAO,EAAK,EAAS,CAAC,QAAQ,CAAC,IAC5E,EAAK,QAAQ,KAAO,OAI5B,WAAY,SAAS,EAAW,EAAO,CAKnC,OAJK,KAAK,cAAc,EAAM,EAC1B,EAAU,OAAO,EAAM,CAGpB,GAGX,aAAc,SAAS,EAAW,EAAO,EAAU,CAC/C,IAAI,EAAQ,KAAK,cAAc,EAAM,CAGrC,MAFA,GAAM,SAAW,EAEV,KAAK,WAAW,EAAW,EAAM,EAG5C,cAAe,SAAS,EAAO,CAI3B,IAAK,IAFD,EAAO,IADA,EAAM,OAAS,EAAI,EAAE,UAAY,EAAE,MAC1B,KAAK,MAAM,CAEtB,EAAI,EAAG,EAAI,EAAM,OAAQ,IAC9B,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,GAAG,OAAQ,IAAK,CACtC,IAAI,EAAQ,KAAK,QAAQ,eACrB,EAAS,WAAW,EAAM,GAAG,GAAG,CACnC,CAEG,IAAM,EACN,EAAK,OAAO,EAAM,EAAG,EAAM,EAAE,CAE7B,EAAK,OAAO,EAAM,EAAG,EAAM,EAAE,CAKzC,OAAO,GAGX,WAAY,SAAS,EAAW,EAAQ,EAAU,CAC9C,IAAI,EAAW,EAAS,WAAW,EAAO,CACtC,EAAQ,KAAK,QAAQ,eAAe,EAAS,CAE7C,EAAS,IAAI,EAAE,OAAO,EAAO,GAAG,CAChC,EAAQ,IAAI,EAAE,OAAO,EAAQ,KAAK,MAAM,CAI5C,MAHA,GAAM,SAAW,EACjB,EAAM,SAAW,EAEV,KAAK,WAAW,EAAW,EAAM,EAE/C,CAAC,CAGF,EAAW,EAAM,KAAM,CACnB,QAAS,CACL,QAAS,CACL,KAAM,OACN,KAAM,SAAS,EAAM,CASjB,OARI,EAAK,OAAS,oBACP,EAAK,SAGZ,EAAK,OAAS,qBACP,EAAK,WAGT,GAEd,CACJ,CACD,WAAY,CACR,QAAS,CACL,KAAM,CACF,SAAU,OACb,CACJ,CACJ,CACJ,CAAC,CAEF,EAAW,EAAS,CAChB,IAAK,CACD,OAAQ,CACJ,MAAO,EACK,aACf,CACc,gBAClB,CACJ,CAAC,GAEH,OAAO,MAAM,OAAO,ECpZtB,SAAS,EAAG,EAAW,CAEpB,IAAI,EAAQ,OAAO,MACf,EAAS,EAAM,OAEf,EAAU,EAAM,QAChB,EAAa,EAAM,WAEnB,EAAI,EAAM,SACV,EAAI,EAAM,QAGV,EADO,EAAE,KACM,QAEf,EAAM,EAAQ,IACd,EAAW,EAAI,SAIf,EAHa,EAAI,OAAO,WAGC,OAAO,CAChC,QAAS,CACL,SAAU,GACV,cAAe,WACf,WAAY,QACZ,QAAS,EACT,QAAS,IACT,MAAO,OACP,OAAQ,SACX,CAED,MAAO,SAAS,EAAM,CAClB,QAAK,QAAQ,OAAO,CAEhB,EAAK,SAAW,EAIpB,KAAI,EAAM,KAAK,QACX,EAAW,EAAO,EAAI,WAAW,CAErC,EAAO,EAAK,MAAM,EAAE,CACpB,EAAK,KAAK,SAAS,EAAG,EAAG,CACrB,OAAO,EAAS,EAAE,CAAG,EAAS,EAAE,EAClC,CAIF,IAAK,IAFD,EAAY,KAAK,YAAY,CAC7B,EACK,EAAI,EAAG,EAAI,EAAK,OAAQ,IAAK,CAClC,IAAI,EAAW,EAAK,GAChB,EAAW,EAAO,EAAI,cAAc,CAAC,EAAS,CAC9C,EAAQ,EAAO,EAAI,WAAW,CAAC,EAAS,CAE5C,GAAI,EAAQ,EAAS,EAAI,EAAQ,EAAM,CAAE,CACrC,AACI,IAAQ,IAAI,EAAU,CAAC,EAAG,EAAM,CAAE,CAAC,EAAI,QAAS,EAAI,QAAQ,CAAC,CAGjE,EAAW,EAAS,OAAO,EAAS,CACpC,IAAI,EAAS,KAAK,IAAI,eAAe,EAAS,CAC1C,EAAO,EAAM,IAAI,EAAM,CAEvB,EAAS,KAAK,cAAc,CACpB,SACF,OACN,MAAO,EAAI,MACD,WACA,WACb,CAAC,CAEF,EAAO,SAAW,EAClB,EAAO,SAAW,EAClB,EAAO,MAAQ,EAEf,KAAK,YAAY,EAAO,KAKpC,WAAY,UAAW,CACnB,IAAI,EAAQ,KAAK,QAAQ,MAMzB,OAJI,EAAM,WAAW,EAAM,CAChB,EAGJ,EAAQ,IAAI,OAAO,IAG9B,cAAe,SAAS,EAAM,CAC1B,IAAI,EAAS,KAAK,QAAQ,OAK1B,OAJK,EAAM,WAAW,EAAO,GACzB,EAAS,EAAQ,IAAI,QAAQ,IAG1B,EAAO,EAAK,EAGvB,YAAa,SAAS,EAAO,CACzB,IAAI,EAAO,CAAE,MAAO,KAAa,QAAO,CACxB,KAAK,IAAI,QAAQ,eAAgB,EAAK,EAElD,KAAK,QAAQ,KAAK,EAAM,EAGnC,CAAC,CAEE,EAAY,EAAM,MAAM,OAAO,CAC/B,KAAM,SAAS,EAAQ,EAAO,CAC1B,KAAK,QAAU,EACf,KAAK,OAAS,EAEd,IAAI,EAAc,KAAK,KAAK,EAAO,GAAG,CAAG,KAAK,KAAK,EAAO,GAAG,CAE7D,KAAK,QADa,EAAM,GAAK,EAAM,IACP,GAGhC,IAAK,SAAS,EAAO,CACjB,IAAI,GAAO,KAAK,KAAK,EAAM,CAAG,KAAK,KAAK,KAAK,QAAQ,GAAG,EAAI,KAAK,OACjE,OAAO,KAAK,OAAO,GAAK,GAE/B,CAAC,CAwBF,EAAW,EAAS,CAChB,IAAK,CACD,OAAQ,CACJ,OAAQ,EACK,cAChB,CACD,OAAQ,CACJ,KAAM,EACT,CACD,QA/BM,CACV,OAAQ,SAAS,EAAM,CACnB,IAAI,EAAM,IAAI,EAAE,OAAO,EAAK,OAAQ,EAAK,KAAO,EAAE,CAClD,OAAO,IAAI,EAAE,OAAO,EAAK,EAAK,MAAM,EAGxC,OAAQ,SAAS,EAAM,CACnB,IAAI,EAAO,IAAI,EAAE,KAAK,EAAK,MAAM,CAC7B,EAAW,EAAK,KAAO,EACvB,EAAS,EAAK,OAQlB,OANA,EAAK,OAAO,EAAO,EAAI,EAAU,EAAO,EAAI,EAAS,CAChD,OAAO,EAAO,EAAI,EAAU,EAAO,EAAI,EAAS,CAChD,OAAO,EAAO,EAAI,EAAU,EAAO,EAAI,EAAS,CAChD,OAAO,EAAO,EAAI,EAAU,EAAO,EAAI,EAAS,CAChD,OAAO,CAEL,GAEd,CAaI,CACJ,CAAC,GAEH,OAAO,MAAM,OAAO,EC5JtB,SAAS,EAAG,EAAW,CAEpB,IAAI,EAAO,KAEP,EAAQ,OAAO,MACf,EAAQ,EAAM,MACd,EAAW,EAAM,SAEjB,EAAU,EAAM,QAChB,EAAa,EAAM,WAGnB,EADI,EAAM,SACA,MAEV,EAAQ,EAAQ,IAAI,OAAO,MAE3B,EAAO,EAAM,KACb,EAAa,EAAK,WAElB,EAAc,EAAM,QAAQ,KAC5B,EAAQ,EAAY,MACpB,EAAQ,EAAY,WAGpB,EAAY,EAAM,OAAO,CACzB,KAAM,SAAS,EAAK,EAAS,CACzB,EAAM,GAAG,KAAK,KAAK,KAAM,EAAK,EAAQ,CAElC,OAAO,KAAK,QAAQ,YAAe,WACnC,KAAK,QAAQ,WAAa,KAAK,QAAQ,WAAW,MAAM,GAAG,EAI/D,KAAK,MAAQ,IADE,KAAK,WAAW,EACL,KAAK,QAAS,KAAK,QAAQ,EAGzD,QAAS,UAAW,CAChB,EAAM,GAAG,QAAQ,KAAK,KAAK,CAE3B,KAAK,MAAM,SAAS,CACpB,KAAK,MAAQ,MAGjB,aAAc,UAAW,CACrB,IAAI,EAAM,KAAK,IACX,EAAS,EAAI,gBAAgB,EAAI,QAAQ,CAAC,GAAG,CAAC,OAAO,CACzD,KAAK,MAAM,WAAW,EAAO,EAGjC,OAAQ,SAAS,EAAG,CAChB,IAAI,EAEA,EACY,EAAE,UAEF,GAGhB,EAAM,GAAG,OAAO,KAAK,KAAK,CAC1B,KAAK,aAAa,CAClB,KAAK,MAAM,MAAM,EAAU,EAG/B,UAAW,UAAW,CAClB,OAAO,GAGX,UAAW,UAAW,CAClB,EAAM,GAAG,UAAU,KAAK,KAAK,CAExB,EAAM,QAAQ,WACf,AACI,KAAK,OAAO,EAAM,SACd,KAAK,QAAQ,KAAK,KAAK,CACvB,IACH,CAGL,KAAK,IAAI,KAAK,MAAO,KAAK,KAAK,GAIvC,YAAa,UAAW,CACpB,EAAM,GAAG,YAAY,KAAK,KAAK,CAE3B,KAAK,MACL,KAAK,IAAI,OAAO,MAAO,KAAK,KAAK,EAIzC,YAAa,UAAW,CACpB,IAAI,EAAO,KAAK,MACZ,EAAM,KAAK,IACX,EAAS,EAAI,QAAQ,CACrB,EAAgB,CACZ,GAAI,EAAI,gBAAgB,EAAO,GAAG,CAAC,OAAO,CAC1C,GAAI,EAAI,gBAAgB,EAAO,GAAG,CAAC,OAAO,CAC7C,CAEL,EAAK,OAAO,EAAI,gBAAgB,EAAI,QAAQ,CAAC,CAAC,CAC9C,EAAK,OAAO,EAAc,CAC1B,EAAK,KAAK,EAAI,MAAM,CAAC,EAGzB,QAAS,UAAW,CAChB,KAAK,SAAS,EAGlB,QAAS,SAAS,EAAG,CACjB,EAAM,GAAG,QAAQ,KAAK,KAAM,EAAE,CAC9B,KAAK,SAAS,EAGlB,QAAS,UAAW,CAChB,KAAK,aAAa,CAClB,KAAK,MAAM,QAAQ,EAE1B,CAAC,CAEE,EAAW,EAAM,OAAO,CACxB,KAAM,SAAS,EAAS,EAAS,CAC7B,KAAK,QAAU,EACf,KAAK,aAAa,EAAQ,CAE1B,KAAK,KAAO,IAAI,GAGpB,QAAS,CACL,SAAU,IACV,WAAY,CAAC,IAAK,IAAK,IAAI,CAC3B,gBAAmB,GACtB,CAED,OAAQ,SAAS,EAAQ,CACrB,KAAK,QAAU,GAGnB,OAAQ,SAAS,EAAQ,CACrB,KAAK,QAAU,GAGnB,WAAY,SAAS,EAAQ,CACzB,KAAK,YAAc,GAGvB,KAAM,SAAS,EAAM,CACjB,KAAK,MAAQ,GAGjB,iBAAkB,SAAS,EAAO,CAC9B,OAAO,IAAI,EACP,EAAK,MAAM,EAAM,EAAI,KAAK,QAAQ,SAAS,CAC3C,EAAK,MAAM,EAAM,EAAI,KAAK,QAAQ,SAAS,CAC9C,EAGL,UAAW,UAAW,CAClB,IAAI,EAAO,KAAK,MAAM,CAClB,EAAiB,KAAK,iBAAiB,KAAK,QAAQ,GAAG,CACvD,EAAK,KAAK,QAAQ,GAClB,EAAQ,KAAK,aAAa,EAAe,CAAC,UAAU,CAAC,EAAG,EAAG,CAAC,EAAG,EAAE,CAErE,MAAO,CACH,EAAG,EAAK,MAAM,EAAK,IAAI,EAAM,EAAE,CAAG,EAAK,OAAS,KAAK,QAAQ,SAAS,CACtE,EAAG,EAAK,MAAM,EAAK,IAAI,EAAM,EAAE,CAAG,EAAK,QAAU,KAAK,QAAQ,SAAS,CAC1E,EAGL,KAAM,UAAW,CACb,IAAI,EAAK,KAAK,QAAQ,GAElB,EADK,KAAK,QAAQ,GACR,OAAO,CAAC,UAAU,CAAC,EAAG,EAAG,CAAC,EAAG,EAAE,CAE7C,MAAO,CACH,MAAO,EAAK,EACZ,OAAQ,EAAK,EAChB,EAGL,aAAc,SAAS,EAAO,CAC1B,IAAI,EAAI,EAAM,EAAG,EAAI,EAAM,EAE3B,OAAO,IAAI,EACP,EAAI,KAAK,QAAQ,SACjB,EAAI,KAAK,QAAQ,SACpB,EAGL,cAAe,UAAW,CACtB,IAAI,EAAa,KAAK,QAAQ,WAE9B,OAAO,EAAW,KAAK,iBAAmB,EAAW,SAGzD,QAAS,UAAW,CAChB,KAAK,QAAQ,OAAO,CACpB,KAAK,KAAK,OAAO,EAGrB,MAAO,SAAS,EAAW,CACvB,KAAK,WAAa,EAClB,KAAK,KAAK,OAAO,CACjB,KAAK,eAAiB,EACtB,KAAK,QAAQ,EAGjB,OAAQ,UAAW,CACf,IAAI,EAAO,KAAK,WAAW,CACvB,EAAiB,KAAK,iBAAiB,KAAK,QAAQ,GAAG,CACvD,EAAM,EAAG,EAEb,IAAK,EAAI,EAAG,EAAI,EAAK,EAAG,IACpB,IAAK,EAAI,EAAG,EAAI,EAAK,EAAG,IACpB,EAAO,KAAK,WAAW,CACnB,EAAG,EAAe,EAAI,EACtB,EAAG,EAAe,EAAI,EACzB,CAAC,CAEG,EAAK,SACN,EAAK,MAAM,EAM3B,WAAY,SAAS,EAAc,CAC/B,IAAI,EAAU,KAAK,YAAY,EAAa,CACxC,EAAO,KAAK,KAAK,IAAI,KAAK,QAAS,EAAQ,CAK/C,OAJI,EAAK,QAAQ,QAAQ,CAAC,SAAW,GACjC,KAAK,QAAQ,OAAO,EAAK,QAAQ,CAG9B,GAGX,YAAa,SAAS,EAAc,CAChC,IAAI,EAAQ,KAAK,UAAU,EAAa,CACpC,EAAQ,KAAK,aAAa,EAAa,CACvC,EAAS,KAAK,YAGlB,MAAO,CACI,QACO,eACP,QACP,OAAQ,EANC,EAAM,OAAO,CAAC,UAAU,CAAC,EAAO,EAAG,CAAC,EAAO,EAAE,CAM5B,CAC1B,KAAM,KAAK,MACX,KAAM,KAAK,QAAQ,SACnB,UAAW,KAAK,eAAe,CAC/B,YAAa,KAAK,QAAQ,YAC1B,iBAAkB,KAAK,QAAQ,iBAC/B,UAAW,KAAK,WACnB,EAGL,UAAW,SAAS,EAAO,CACvB,IAAI,EAAW,EAAK,IAAI,EAAG,KAAK,MAAM,CACtC,MAAO,CACH,EAAG,KAAK,UAAU,EAAM,EAAG,EAAS,CACpC,EAAG,EAAM,EAAM,EAAG,EAAG,EAAW,EAAE,CACrC,EAGL,UAAW,SAAS,EAAO,EAAU,CACjC,IAAI,EAAa,EAAK,IAAI,EAAM,CAAG,EAOnC,MANA,CAGI,EAHA,GAAS,EACD,EAEA,GAAY,IAAc,EAAI,EAAW,GAG9C,GAEd,CAAC,CAEE,EAAY,EAAM,OAAO,CACzB,KAAM,SAAS,EAAI,EAAS,CACxB,KAAK,GAAK,EACV,KAAK,QAAU,GAEf,KAAK,aAAa,EAAQ,CAC1B,KAAK,eAAe,CACpB,KAAK,MAAM,EAGf,QAAS,CACL,gBAAmB,GACnB,qBAAwB,GAC3B,CAED,cAAe,UAAW,CACtB,KAAK,QAAU,EAAE,aAAe,KAAK,QAAQ,UAAY,OAAO,CAC/C,IAAI,CAAE,SAAU,WAAY,QAAS,QAAS,MAAO,KAAK,QAAQ,KAAM,OAAQ,KAAK,QAAQ,KAAM,CAAC,CACpG,GAAG,SAAU,SAAS,EAAG,CAClB,KAAK,UAAU,CACf,EAAE,OAAO,aAAa,MAAO,KAAK,UAAU,CAAC,CAE7C,EAAE,OAAO,gBAAgB,MAAM,GAEpC,KAAK,KAAK,CAAC,EAGlC,KAAM,UAAW,CACb,IAAI,EAAU,KAAK,QAAQ,GAC3B,EAAQ,MAAM,IAAM,EAAW,KAAK,QAAQ,OAAO,EAAE,CACrD,EAAQ,MAAM,KAAO,EAAW,KAAK,QAAQ,OAAO,EAAE,CAEtD,IAAI,EAAM,KAAK,KAAK,CAChB,GACA,EAAQ,aAAa,MAAO,EAAI,CAGpC,EAAQ,MAAM,WAAa,UAC3B,KAAK,QAAU,IAGnB,KAAM,UAAW,CACb,KAAK,QAAQ,GAAG,MAAM,WAAa,SACnC,KAAK,QAAU,IAGnB,IAAK,UAAW,CAGZ,OAFgB,EAAS,KAAK,QAAQ,YAAY,CAEjC,KAAK,YAAY,CAAC,EAGvC,SAAU,UAAW,CAGjB,OAFgB,EAAS,KAAK,QAAQ,iBAAiB,CAEtC,KAAK,YAAY,CAAC,EAGvC,WAAY,UAAW,CACnB,IAAI,EAAU,KAAK,QACnB,MAAO,CACH,KAAM,EAAQ,KACd,UAAW,EAAQ,UACnB,EAAG,EAAQ,KACX,EAAG,EAAQ,MAAM,EACjB,EAAG,EAAQ,MAAM,EACjB,EAAG,EAAQ,UACX,QAAS,EAAQ,QACjB,EAAG,EAAQ,QACX,QAAS,EAAQ,QACjB,EAAG,EAAQ,QACd,EAGL,QAAS,UAAW,CAChB,AAEI,KAAK,WADL,KAAK,QAAQ,QAAQ,CACN,OAG1B,CAAC,CAEE,EAAW,EAAM,OAAO,CACxB,KAAM,UAAW,CACb,KAAK,OAAS,EAAE,EAGpB,QAAS,CACL,QAAS,IACZ,CAED,IAAK,SAAS,EAAQ,EAAS,CAK3B,OAJI,KAAK,OAAO,QAAU,KAAK,QAAQ,SACnC,KAAK,QAAQ,EAAO,CAGjB,KAAK,QAAQ,EAAQ,EAGhC,MAAO,UAAW,CAEd,IAAK,IADD,EAAQ,KAAK,OACR,EAAI,EAAG,EAAI,EAAM,OAAQ,IAC9B,EAAM,GAAG,SAAS,CAGtB,KAAK,OAAS,EAAE,EAGpB,MAAO,UAAW,CAEd,IAAK,IADD,EAAQ,KAAK,OACR,EAAI,EAAG,EAAI,EAAM,OAAQ,IAC9B,EAAM,GAAG,MAAM,EAIvB,QAAS,SAAS,EAAS,CAavB,IAAK,IAZD,EAAQ,KAAK,OACb,EAIA,EAAK,EAAK,QACV,EAAQ,MAAM,UAAU,CACxB,EAAQ,OAAO,UAAU,CACzB,EAAQ,KACR,EAAQ,YACX,CAEQ,EAAI,EAAG,EAAI,EAAM,OAAQ,IAC9B,GAAI,EAAM,GAAG,KAAO,EAAI,CACpB,EAAO,EAAM,GACb,MAWR,OAPI,EACA,EAAK,MAAM,EAEX,EAAO,IAAI,EAAU,EAAI,EAAQ,CACjC,KAAK,OAAO,KAAK,EAAK,EAGnB,GAGX,QAAS,SAAS,EAAQ,CAKtB,IAAK,IAJD,EAAQ,KAAK,OACb,EAAU,GACV,EAAQ,GAEH,EAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CACnC,IAAI,EAAO,EAAM,GAAG,QAAQ,MAAM,WAAW,EAAO,CAChD,EAAO,GAAW,CAAC,EAAM,GAAG,UAC5B,EAAQ,EACR,EAAU,GAId,IAAU,KACV,EAAM,GAAO,SAAS,CACtB,EAAM,OAAO,EAAO,EAAE,GAGjC,CAAC,CAGF,SAAS,EAAW,EAAO,CACvB,OAAO,IAAI,EAAM,EAAM,EAAM,EAAE,CAAE,EAAM,EAAM,EAAE,CAAC,CAIpD,EAAW,EAAS,CAChB,IAAK,CACD,OAAQ,CACJ,KAAM,EACK,YAEA,YACD,WACA,WACb,CACJ,CACJ,CAAC,GAEH,OAAO,MAAM,OAAO,EC5ctB,SAAS,EAAG,EAAW,CAEpB,IAAI,EAAQ,OAAO,MAEf,EAAU,EAAM,QAChB,EAAa,EAAM,WACnB,EAAU,EAAM,QAAQ,KAAK,QAE7B,EAAS,EAAQ,IAAI,OACrB,EAAW,EAAQ,IAAI,SACvB,EAAY,EAAQ,IAAI,OAAO,UAC/B,EAAW,EAAQ,IAAI,OAAO,SAG9B,EAAY,EAAU,OAAO,CAC7B,KAAM,SAAS,EAAK,EAAS,CACzB,KAAK,QAAQ,QACT,KAAK,SAAS,CACd,oDAEJ,EAAU,GAAG,KAAK,KAAK,KAAM,EAAK,EAAQ,CAE1C,KAAK,YAAc,KAAK,YAAY,KAAK,KAAK,CAC9C,KAAK,gBAAgB,EAGzB,QAAS,CACL,WAAY,OACf,CAED,eAAgB,UAAW,CACvB,IAAI,EAAU,KAAK,QAEnB,GAAI,CAAC,EAAQ,IACT,MAAU,MAAM,uCAAuC,CAG3D,EAAE,KAAK,CACH,IAAK,EAAQ,QAAU,EAAQ,WAC/B,KAAM,CACF,OAAQ,OACR,QAAS,mBACT,IAAK,EAAQ,IACb,UAAW,KAAK,SAAS,CAC5B,CACD,KAAM,MACN,SAAU,QACV,MAAO,QACP,QAAS,KAAK,YACjB,CAAC,EAGN,QAAS,SAAS,EAAO,CAErB,MADA,KAAiB,OAAO,SAAS,SAC1B,EAAM,QAAQ,IAAK,GAAG,GAAK,QAAU,QAAU,QAG1D,YAAa,SAAS,EAAM,CACxB,IAAI,EAAO,KACX,GAAI,GAAQ,EAAK,aAAa,OAAQ,CAClC,IAAI,EAAW,EAAK,SAAW,EAAK,aAAa,GAAG,UAAU,GAE9D,EAAW,EAAK,MAAM,QAAS,CAC3B,aAAc,CAAE,YAAW,UAAS,aAAc,EAAK,SAAS,SAC3D,QAAQ,cAAe,EAAU,CACjC,QAAQ,YAAa,EAAQ,CAC7B,QAAQ,YAAa,EAAQ,CAClC,WAAY,EAAS,mBACxB,CAAC,CAEF,IAAI,EAAU,EAAK,QACd,EAAQ,EAAQ,QAAQ,GACzB,EAAQ,QAAU,EAAS,SAE1B,EAAQ,EAAQ,QAAQ,GACzB,EAAQ,QAAU,EAAS,SAG/B,EAAK,iBAAiB,CAElB,EAAK,QAAQ,IAAI,UAAU,GAAK,QAChC,EAAK,QAAQ,GAKzB,UAAW,UAAW,CAClB,OAAO,GAGX,gBAAiB,UAAW,CACxB,IAAI,EAAO,KAAK,IAAI,YACpB,GAAI,EAAM,CACN,IAAI,EAAQ,KAAK,SAAS,iBAC1B,GAAI,EACA,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,OAAQ,IAE9B,IAAK,IADD,EAAO,EAAM,GACR,EAAI,EAAG,EAAI,EAAK,cAAc,OAAQ,IAAK,CAChD,IAAI,EAAO,EAAK,cAAc,GAC9B,EAAK,IAAI,CACL,KAAM,EAAK,YACX,QAAS,EAAK,QACd,QAAS,EAAK,QACd,OAAQ,IAAI,EACR,IAAI,EAAS,EAAK,KAAK,GAAI,EAAK,KAAK,GAAG,CACxC,IAAI,EAAS,EAAK,KAAK,GAAI,EAAK,KAAK,GAAG,CAC3C,CACJ,CAAC,IAOtB,WAAY,SAAS,EAAO,CACxB,GAAI,EACA,KAAK,QAAQ,WAAa,EAC1B,KAAK,IAAI,YAAY,OAAO,CAC5B,KAAK,gBAAgB,MAErB,OAAO,KAAK,QAAQ,YAG/B,CAAC,CAEE,EAAW,EAAS,OAAO,CAC3B,QAAS,CACL,QAAS,QACZ,CAED,YAAa,SAAS,EAAc,CAChC,IAAI,EAAU,EAAS,GAAG,YAAY,KAAK,KAAM,EAAa,CAK9D,MAHA,GAAQ,QAAU,KAAK,QAAQ,QAC/B,EAAQ,QAAU,KAAK,YAAY,KAAK,UAAU,EAAa,CAAC,CAEzD,GAGX,YAAa,SAAS,EAAO,CACzB,IAAI,EAAU,GACV,EAAO,EAAM,EAEjB,IAAK,EAAI,KAAK,MAAO,EAAI,EAAG,IACxB,EAAQ,EACR,EAAO,GAAM,EAAI,GAEZ,EAAM,EAAI,KAAU,GACrB,KAGC,EAAM,EAAI,KAAU,IACrB,GAAS,GAGb,GAAW,EAGf,OAAO,GAEd,CAAC,CAGF,EAAW,EAAS,CAChB,IAAK,CACD,OAAQ,CACJ,KAAM,EACK,YACD,WACb,CACJ,CACJ,CAAC,GAEH,OAAO,MAAM,OAAO,ECzKtB,SAAS,EAAG,EAAW,CAEpB,IAAI,EAAM,SACN,EAAO,KACP,EAAU,EAAE,QAEZ,EAAQ,OAAO,MACf,EAAQ,EAAM,MACd,EAAa,EAAM,KAAK,WACxB,EAAU,EAAM,GAAG,QAEnB,EAAU,EAAM,QAChB,EAAa,EAAM,WAEnB,EAAM,EAAQ,IACd,EAAW,EAAI,SACf,EAAQ,EAAI,OAAO,MAGnB,EAAc,EAAM,OAAO,CAC3B,KAAM,SAAS,EAAK,EAAS,CACzB,EAAM,GAAG,KAAK,KAAK,KAAM,EAAK,EAAQ,CAEtC,KAAK,aAAe,KAAK,aAAa,KAAK,KAAK,CAChD,KAAK,QAAQ,GAAG,QAAS,YAAa,KAAK,aAAa,CAExD,KAAK,MAAQ,EAAE,CACf,KAAK,iBAAiB,EAG1B,QAAS,UAAW,CAChB,EAAM,GAAG,QAAQ,KAAK,KAAK,CAE3B,KAAK,QAAQ,IAAI,QAAS,YAAa,KAAK,aAAa,CAEzD,KAAK,WAAW,OAAO,SAAU,KAAK,YAAY,CAClD,KAAK,OAAO,EAGhB,QAAS,CACL,OAAQ,IACR,SAAU,GACV,WAAY,EAAE,CACd,cAAe,WACf,WAAY,QACf,CAED,IAAK,SAAS,EAAK,CACf,GAAI,MAAM,QAAQ,EAAI,CAClB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAI,OAAQ,IAC5B,KAAK,QAAQ,EAAI,GAAG,MAGxB,OAAO,KAAK,QAAQ,EAAI,EAIhC,OAAQ,SAAS,EAAQ,CACrB,EAAO,SAAS,CAEhB,IAAI,EAAQ,EAAQ,EAAQ,KAAK,MAAM,CACnC,EAAQ,IACR,KAAK,MAAM,OAAO,EAAO,EAAE,EAInC,MAAO,UAAW,CACd,IAAK,IAAI,EAAI,EAAG,EAAI,KAAK,MAAM,OAAQ,IACnC,KAAK,MAAM,GAAG,SAAS,CAG3B,KAAK,MAAQ,EAAE,EAGnB,OAAQ,SAAS,EAAQ,CACrB,IAAI,EAAM,EAAO,UAAU,CAC3B,GAAI,EAAK,CACL,EAAO,OAAO,KAAK,IAAI,eAAe,EAAI,CAAC,CAE3C,IAAI,EAAO,CAAU,SAAQ,MAAO,KAAM,CAC1C,KAAK,IAAI,QAAQ,iBAAkB,EAAK,GAIhD,OAAQ,UAAW,CACf,EAAM,GAAG,OAAO,KAAK,KAAK,CAE1B,IAAK,IADD,EAAQ,KAAK,MACR,EAAI,EAAG,EAAI,EAAM,OAAQ,IAC9B,KAAK,OAAO,EAAM,GAAG,EAI7B,KAAM,SAAS,EAAS,EAAU,CAC9B,IAAI,EAAS,EAAI,OAAO,OAAO,EAAS,KAAK,QAAQ,CACrD,EAAO,SAAW,EAElB,IAAI,EAAO,CAAU,SAAQ,MAAO,KAAM,CAE1C,GAAI,CADY,KAAK,IAAI,QAAQ,gBAAiB,EAAK,CAGnD,OADA,KAAK,IAAI,EAAO,CACT,GAIf,cAAe,SAAS,EAAY,CAC5B,KAAK,YACL,KAAK,WAAW,OAAO,SAAU,KAAK,YAAY,CAGtD,KAAK,WAAa,EAAM,KAAK,WAAW,OAAO,EAAW,CAC1D,KAAK,WAAW,KAAK,SAAU,KAAK,YAAY,CAE5C,KAAK,QAAQ,UACb,KAAK,WAAW,OAAO,EAI/B,QAAS,SAAS,EAAK,CACnB,IAAI,EAAS,EAAO,OAAO,EAAK,KAAK,QAAQ,CAG7C,OAFA,EAAO,MAAM,KAAK,CAEX,GAGX,gBAAiB,UAAW,CACxB,IAAI,EAAY,KAAK,QAAQ,WAC7B,KAAK,YAAc,KAAK,YAAY,KAAK,KAAK,CAC9C,KAAK,WAAa,EACb,OAAO,EAAU,CACjB,KAAK,SAAU,KAAK,YAAY,CAEjC,GAAa,KAAK,QAAQ,UAC1B,KAAK,WAAW,OAAO,EAI/B,YAAa,SAAS,EAAG,CACrB,KAAK,MAAM,EAAE,OAAO,MAAM,CAAC,EAG/B,MAAO,SAAS,EAAM,CAClB,KAAK,MAAQ,EACb,KAAK,OAAO,CAIZ,IAAK,IAFD,EAAc,EAAM,OAAO,KAAK,QAAQ,cAAc,CACtD,EAAW,EAAM,OAAO,KAAK,QAAQ,WAAW,CAC3C,EAAI,EAAG,EAAI,EAAK,OAAQ,IAAK,CAClC,IAAI,EAAW,EAAK,GACpB,KAAK,KAAK,CACN,SAAU,EAAY,EAAS,CAC/B,MAAO,EAAS,EAAS,CAC5B,CAAE,EAAS,GAIpB,aAAc,SAAS,EAAG,CACtB,IAAI,EAAO,CAAE,OAAQ,EAAE,EAAE,cAAc,CAAC,KAAK,cAAc,CAAE,MAAO,KAAM,CAC1E,KAAK,IAAI,QAAQ,cAAe,EAAK,EAE5C,CAAC,CAEE,EAAS,EAAM,OAAO,CACtB,KAAM,SAAS,EAAS,CACpB,KAAK,QAAU,GAAW,EAAE,EAGhC,MAAO,SAAS,EAAQ,CACpB,KAAK,MAAQ,EAAO,SAAW,EAC/B,KAAK,MAAM,MAAM,KAAK,KAAK,CAC3B,KAAK,MAAM,OAAO,KAAK,EAG3B,SAAU,SAAS,EAAO,CAUlB,OATA,GACA,KAAK,QAAQ,SAAW,EAAS,OAAO,EAAM,CAAC,SAAS,CAEpD,KAAK,OACL,KAAK,MAAM,OAAO,KAAK,CAGpB,MAEA,EAAS,OAAO,KAAK,QAAQ,SAAS,EAIrD,OAAQ,SAAS,EAAO,CACpB,KAAK,QAAQ,CACb,KAAK,QAAQ,IAAI,CACb,KAAM,EAAK,MAAM,EAAM,EAAE,CACzB,IAAK,EAAK,MAAM,EAAM,EAAE,CAC3B,CAAC,CAEE,KAAK,SAAW,KAAK,QAAQ,OAE7B,KAAK,QAAQ,MAAM,WAAW,EAItC,KAAM,UAAW,CACb,AAEI,KAAK,WADL,KAAK,QAAQ,QAAQ,CACN,MAGnB,AAEI,KAAK,WADL,KAAK,QAAQ,SAAS,CACP,OAIvB,QAAS,UAAW,CAChB,KAAK,MAAQ,KACb,KAAK,MAAM,EAGf,OAAQ,UAAW,CACf,GAAI,CAAC,KAAK,QAAS,CACf,IAAI,EAAU,KAAK,QACf,EAAQ,KAAK,MAEjB,KAAK,QAAU,EAAE,EAAI,cAAc,OAAO,CAAC,CACtC,KAAK,QAAS,EAAQ,MAAQ,EAAM,WAAW,EAAQ,MAAM,CAAG,KAAK,CACrE,KAAK,EAAQ,YAAc,EAAE,CAAC,CAC9B,KAAK,cAAe,KAAK,CACzB,IAAI,SAAU,EAAQ,OAAO,CAE9B,EAAQ,MACJ,EAAQ,QAAU,YAClB,EAAM,GAAG,KAAK,KAAK,QAAS,CAAE,KAAM,oBAAqB,UAAW,WAAY,KAAM,UAAW,CAAC,CAC3F,EAAQ,QAAU,MACzB,EAAM,GAAG,KAAK,KAAK,QAAS,CAAE,KAAM,aAAc,UAAW,WAAY,KAAM,UAAW,CAAC,CAE3F,KAAK,QAAQ,SAAS,8BAAgC,EAAM,UAAU,EAAQ,MAAM,CAAC,CAGzF,EAAM,GAAG,KAAK,KAAK,QAAS,CAAE,KAAM,aAAc,UAAW,WAAY,KAAM,UAAW,CAAC,CAG3F,GACA,EAAM,QAAQ,OAAO,KAAK,QAAQ,CAGtC,KAAK,eAAe,GAI5B,cAAe,UAAW,CACtB,IAAI,EAAS,KACT,EAAQ,EAAO,QAAQ,MACvB,EAAU,EAAO,QAAQ,SAAW,EAAE,CAE1C,GAAI,GAAW,EAAS,CACpB,IAAI,EAAW,EAAQ,SACvB,GAAI,EAAU,CACV,IAAI,EAAkB,EAAM,SAAS,EAAS,CAC9C,EAAQ,QAAU,SAAS,EAAG,CAG1B,MAFA,GAAE,SAAW,EAAO,UAAU,CAC9B,EAAE,OAAS,EACJ,EAAgB,EAAE,GAI7B,GAAS,EAAQ,SAAW,EAAQ,cACpC,KAAK,QAAU,IAAI,EAAQ,KAAK,QAAS,EAAQ,CACjD,KAAK,QAAQ,OAAS,QAIrC,CAAC,CAEF,EAAO,OAAS,SAAS,EAAK,EAAU,CAKpC,OAJI,aAAe,EACR,EAGJ,IAAI,EAAO,EAAW,EAAE,CAAE,EAAU,EAAI,CAAC,EAIpD,EAAW,EAAS,CAChB,IAAK,CACD,OAAQ,CACJ,OAAQ,EACK,cAChB,CACO,SACX,CACJ,CAAC,GAEH,OAAO,MAAM,OAAO,ECrStB,SAAS,EAAG,EAAW,CAEpB,IAAI,EAAM,SACN,EAAO,KACP,EAAM,EAAK,IACX,EAAM,EAAK,IAEX,EAAQ,OAAO,MACf,EAAS,EAAM,GAAG,OAClB,EAAa,EAAM,WAEnB,EAAU,EAAM,QAChB,EAAK,EAAQ,GAEb,EAAI,EAAM,SACV,EAAQ,EAAE,MAEV,EAAM,EAAQ,IACd,EAAS,EAAI,OACb,EAAW,EAAI,SACf,EAAW,EAAI,IAAI,SAGnB,EADO,EAAM,KACO,aAEpB,EAAc,EAAM,QAAQ,KAE5B,EAAU,EAAY,QACtB,EAAQ,EAAY,WACpB,EAAiB,EAAY,eAG7B,EAAa,KACb,EAAW,GACX,EAAkB,IAClB,EAAa,4BACb,EAAsB,EACtB,EAAoB,EAGpB,EAAM,EAAO,OAAO,CACpB,KAAM,SAAS,EAAS,EAAS,CAC7B,EAAM,QAAQ,EAAQ,CACtB,EAAO,GAAG,KAAK,KAAK,KAAM,EAAQ,CAElC,KAAK,aAAa,EAAQ,CAC1B,KAAK,KAAK,KAAK,OAAQ,EAAQ,CAE/B,KAAK,IAAM,IAAI,EAEf,KAAK,QACA,SAAS,EAAa,KAAK,QAAQ,KAAK,aAAa,CAAC,CACtD,IAAI,WAAY,WAAW,CAC3B,OAAO,CACP,OAAO,EAAI,cAAc,MAAM,CAAC,CAErC,KAAK,YAAc,KAAK,YAAY,CACpC,KAAK,eAAe,CACpB,KAAK,cAAc,CACnB,KAAK,eAAe,CACpB,KAAK,aAAa,CAClB,KAAK,QAAQ,CAEb,KAAK,cAAc,QAAQ,CAAC,YAAY,YAAY,CAEpD,KAAK,YAAc,KAAK,YAAY,KAAK,KAAK,CAC9C,KAAK,QAAQ,GAAG,EAAY,KAAK,YAAY,EAGjD,QAAS,CACL,KAAM,MACN,SAAU,CACN,YAAa,GACb,UAAW,CACP,QAAS,IACZ,CACD,KAAM,GACT,CACD,OAAQ,EAAE,CACV,cAAe,CACX,MAAO,CACH,MAAO,CACH,KAAM,CACF,MAAO,OACV,CACD,OAAQ,CACJ,MAAO,OACP,MAAO,GACV,CACJ,CACJ,CACD,OAAQ,CACJ,MAAO,CACH,KAAM,CACF,MAAO,OACP,QAAS,GACZ,CACD,OAAQ,CACJ,MAAO,OACP,MAAO,GACV,CACJ,CACJ,CACD,OAAQ,CACJ,MAAO,YACP,QAAS,CACL,SAAU,MACb,CACJ,CACJ,CACD,OAAQ,CAAC,EAAG,EAAE,CACd,KAAM,EACN,QAAS,IACT,QAAS,EACT,QAAS,GACT,QAAS,EAAE,CACX,eAAgB,CACZ,MAAO,YACP,QAAS,CACL,SAAU,MACb,CACJ,CACD,WAAY,GACZ,SAAU,CACN,UAAW,WACd,CACJ,CAED,OAAQ,CACJ,cACA,QACA,iBACA,cACA,gBACA,MACA,SACA,QACA,aACA,eACA,sBACA,kBACA,kBACA,UACA,YACH,CAED,QAAS,UAAW,CAChB,KAAK,SAAS,SAAS,CAEnB,KAAK,WACL,KAAK,UAAU,SAAS,CAGxB,KAAK,aACL,KAAK,YAAY,SAAS,CAG1B,KAAK,aACL,KAAK,YAAY,SAAS,CAG9B,KAAK,QAAQ,SAAS,CAEtB,IAAK,IAAI,EAAI,EAAG,EAAI,KAAK,OAAO,OAAQ,IACpC,KAAK,OAAO,GAAG,SAAS,CAG5B,EAAO,GAAG,QAAQ,KAAK,KAAK,EAGhC,KAAM,SAAS,EAAO,CAClB,IAAI,EAAU,KAAK,QAWf,OATA,EAAQ,EAAM,EACd,EAAQ,EAAK,MAAM,EAAM,EAAO,EAAQ,QAAS,EAAQ,QAAQ,CAAC,CAC9D,EAAQ,OAAS,IACjB,EAAQ,KAAO,EACf,KAAK,QAAQ,EAGV,MAEA,EAAQ,MAIvB,OAAQ,SAAS,EAAQ,CAOjB,OANA,GACA,KAAK,QAAQ,OAAS,EAAS,OAAO,EAAO,CAAC,SAAS,CACvD,KAAK,QAAQ,CAEN,MAEA,EAAS,OAAO,KAAK,QAAQ,OAAO,EAInD,OAAQ,SAAS,EAAQ,CAKjB,OAJA,GACA,KAAK,WAAW,EAAO,CAChB,MAEA,KAAK,YAAY,EAIhC,WAAY,SAAS,EAAS,CAC1B,EAAO,GAAG,WAAW,KAAK,KAAM,EAAQ,CACxC,KAAK,QAAQ,EAGjB,gBAAiB,SAAS,EAAU,EAAM,CACtC,IAAI,EAAQ,CAAC,KAAK,QAAQ,WAE1B,MADA,GAAW,EAAS,OAAO,EAAS,CAC7B,KAAK,IAAI,QAAQ,EAAU,KAAK,WAAW,EAAK,CAAE,EAAM,EAGnE,gBAAiB,SAAS,EAAO,EAAM,CACnC,IAAI,EAAQ,CAAC,KAAK,QAAQ,WAE1B,MADA,GAAQ,EAAM,OAAO,EAAM,CACpB,KAAK,IAAI,WAAW,EAAO,KAAK,WAAW,EAAK,CAAE,EAAM,EAGnE,eAAgB,SAAS,EAAU,CAC/B,EAAW,EAAS,OAAO,EAAS,CACpC,IAAI,EAAS,KAAK,gBAAgB,KAAK,YAAY,CAGnD,OAFY,KAAK,gBAAgB,EAAS,CAE7B,cAAc,EAAO,MAAM,GAAG,CAAC,EAGhD,eAAgB,SAAS,EAAO,EAAM,CAClC,IAAI,EAAS,KAAK,gBAAgB,KAAK,YAAY,CAAE,EAAK,CAG1D,MAFA,GAAQ,EAAM,OAAO,EAAM,CAC3B,EAAQ,EAAM,OAAO,CAAC,cAAc,EAAO,CACpC,KAAK,gBAAgB,EAAO,EAAK,EAG5C,YAAa,SAAS,EAAG,CACrB,IAAI,EACA,EACA,EACA,EAAS,KAAK,QAAQ,QAAQ,CAElC,GAAI,EAAE,GAAK,EAAE,EAAG,CACZ,IAAI,EAAQ,WACZ,EAAI,EAAE,EAAE,GAAS,EAAO,KACxB,EAAI,EAAE,EAAE,GAAS,EAAO,IACxB,EAAQ,IAAI,EAAE,MAAM,EAAG,EAAE,KACtB,CACH,IAAI,EAAQ,EAAE,eAAiB,EAC/B,EAAI,EAAe,EAAM,MAAO,EAAM,QAAQ,CAAG,EAAO,KACxD,EAAI,EAAe,EAAM,MAAO,EAAM,QAAQ,CAAG,EAAO,IACxD,EAAQ,IAAI,EAAE,MAAM,EAAG,EAAE,CAG7B,OAAO,GAGX,YAAa,SAAS,EAAG,CACrB,IAAI,EAAS,KAAK,YAAY,EAAE,CAChC,OAAO,KAAK,eAAe,KAAK,eAAe,EAAO,CAAC,EAG3D,aAAc,SAAS,EAAG,CACtB,OAAO,KAAK,gBAAgB,KAAK,gBAAgB,EAAE,CAAC,EAGxD,gBAAiB,SAAS,EAAG,CACzB,IAAI,EAAS,KAAK,YAAY,EAAE,CAChC,OAAO,KAAK,eAAe,EAAO,EAGtC,SAAU,UAAW,CACjB,IAAI,EAAU,KAAK,QACf,EAAQ,KAAK,YAAY,CACzB,EAAQ,EAAQ,OAAO,CAK3B,OAHK,KAAK,QAAQ,aACd,EAAQ,EAAI,EAAO,EAAM,EAEtB,CACI,QACP,OAAQ,EAAI,EAAO,EAAQ,QAAQ,CAAC,CACvC,EAGL,aAAc,UAAW,CAErB,OADA,KAAK,QAAQ,CACN,IAGX,WAAY,SAAS,EAAQ,EAAM,CAC/B,IAAI,EAAO,KAAK,UAAU,CACtB,EASJ,MAPA,GAAS,KAAK,QAAU,EAAS,OAAO,EAAO,CAC/C,EAAU,KAAK,gBAAgB,EAAQ,EAAK,CAC5C,EAAQ,GAAK,EAAK,MAAQ,EAC1B,EAAQ,GAAK,EAAK,OAAS,EAE3B,KAAK,QAAQ,OAAS,KAAK,gBAAgB,EAAS,EAAK,CAAC,SAAS,CAE5D,MAGX,WAAY,SAAS,EAAY,CAC7B,IAAI,EAAO,KAAK,UAAU,CACtB,EAUJ,OARI,GAAc,CAAC,KAAK,WACpB,EAAU,KAAK,gBAAgB,KAAK,QAAQ,CAAC,CAC7C,EAAQ,GAAK,EAAK,MAAQ,EAC1B,EAAQ,GAAK,EAAK,OAAS,EAE3B,KAAK,QAAU,KAAK,gBAAgB,EAAQ,EAGzC,KAAK,SAGhB,WAAY,SAAS,EAAQ,CACzB,IAAI,EAAM,EAAO,OAAO,EAAO,CAC3B,EAAK,EAAI,GAAG,OAAO,CACnB,KAAK,QAAQ,YAAc,EAAG,IAAM,GAAK,EAAO,GAAG,IAAM,IACzD,EAAG,IAAM,KAAO,IAAM,EAAG,MAG7B,EAAS,IAAI,EAAO,EAAI,GAAI,EAAG,CAC/B,KAAK,OAAO,EAAO,QAAQ,CAAC,CAI5B,IAAK,IAFD,EAAQ,KAAK,QAAQ,OAAO,CAC5B,EAAS,KAAK,QAAQ,QAAQ,CACzB,EAAO,KAAK,QAAQ,QAAS,GAAQ,KAAK,QAAQ,QAAS,IAAQ,CACxE,IAAI,EAAU,KAAK,gBAAgB,EAAO,GAAI,EAAK,CAC/C,EAAc,KAAK,gBAAgB,EAAO,GAAI,EAAK,CAEnD,EAAa,EAAK,IAAI,EAAY,EAAI,EAAQ,EAAE,CAChD,EAAc,EAAK,IAAI,EAAY,EAAI,EAAQ,EAAE,CAErD,GAAI,GAAc,GAAS,GAAe,EACtC,MAIR,KAAK,KAAK,EAAK,EAGnB,WAAY,UAAW,CACnB,IAAI,EAAK,KAAK,YAAY,CACtB,EAAc,KAAK,gBAAgB,EAAG,CACtC,EAAO,KAAK,UAAU,CAM1B,MAJA,GAAY,GAAK,EAAK,MACtB,EAAY,GAAK,EAAK,OAGf,IAAI,EAAO,EADT,KAAK,gBAAgB,EAAY,CACjB,EAG7B,YAAa,SAAS,EAAO,EAAO,CAChC,KAAK,WAAW,KAAK,gBAAgB,EAAO,EAAM,CAAE,EAAM,CAC1D,KAAK,KAAK,EAAM,EAGpB,cAAe,UAAW,CACtB,IAAI,EAAW,KAAK,QAAQ,SAExB,EAAG,aAAe,EAAS,aAC3B,KAAK,mBAAmB,EAAS,YAAY,CAG5C,EAAM,QAAQ,WACX,EAAG,WAAa,EAAS,WACzB,KAAK,iBAAiB,EAAS,UAAU,CAGzC,EAAG,aAAe,EAAS,MAC3B,KAAK,mBAAmB,EAAS,KAAK,GAKlD,sBAAuB,SAAS,EAAS,EAAY,CACjD,IAAI,EAAM,EAAQ,UAAY,EAE1B,EAAO,EAAE,mBADK,IAAM,EAAa,EAAI,EACK,KAAK,QAAQ,CAO3D,OANI,EAAK,SAAW,IAChB,EAAO,EAAE,QAAQ,CACT,SAAS,kBAAoB,EAAa,EAAI,CAAC,CAC/C,SAAS,KAAK,QAAQ,EAG3B,EAAE,QAAQ,CAAC,SAAS,EAAK,EAGpC,mBAAoB,SAAS,EAAS,CAClC,IAAI,EAAU,KAAK,sBAAsB,EAAS,cAAc,CAChE,KAAK,YAAc,IAAI,EAAG,YAAY,EAAS,EAAQ,EAG3D,iBAAkB,SAAS,EAAS,CAChC,IAAI,EAAU,KAAK,sBAAsB,EAAS,UAAU,CACxD,EAAY,KAAK,UAAY,IAAI,EAAG,UAAU,EAAS,EAAQ,CAEnE,KAAK,cAAgB,KAAK,cAAc,KAAK,KAAK,CAClD,EAAU,KAAK,MAAO,KAAK,cAAc,CAEzC,KAAK,iBAAmB,KAAK,iBAAiB,KAAK,KAAK,CACxD,EAAU,KAAK,SAAU,KAAK,iBAAiB,EAGnD,cAAe,SAAS,EAAG,CACvB,IAAI,EAAM,KACN,EAAW,EAAI,SAEf,EAAI,EAAS,WAAa,EAAE,EAC5B,EAAI,EAAS,UAAY,EAAE,EAE3B,EAAS,KAAK,aACd,EAAS,KAAK,QAAQ,QAAQ,CAC9B,EAAQ,KAAK,QAAQ,OAAO,CAGhC,EAAI,EAAM,EAAG,EAAO,EAAE,IAAK,EAAO,EAAE,IAAM,EAAM,CAChD,EAAI,EAAM,EAAG,EAAO,EAAE,IAAK,EAAO,EAAE,IAAM,EAAO,CAEjD,EAAI,SAAS,IAAI,SAAU,SAAS,EAAG,CAAE,EAAI,WAAW,EAAE,EAAI,CAC9D,EAAI,SAAS,SAAS,CAAC,EAAG,CAAC,EAAE,EAGjC,iBAAkB,UAAW,CACzB,KAAK,OAAO,KAAK,QAAQ,OAAO,EAGpC,mBAAoB,SAAS,EAAS,CAClC,IAAI,EAAU,KAAK,sBAAsB,EAAS,UAAU,CACxD,EAAc,KAAK,YAAc,IAAI,EAAG,YAAY,EAAS,EAAQ,CAEzE,KAAK,mBAAqB,KAAK,mBAAmB,KAAK,KAAK,CAC5D,EAAY,KAAK,SAAU,KAAK,mBAAmB,EAGvD,mBAAoB,SAAS,EAAG,CACvB,KAAK,QAAQ,YAAa,CAAE,cAAe,EAAG,CAAC,GAChD,KAAK,KAAK,KAAK,MAAM,CAAG,EAAE,MAAM,CAChC,KAAK,QAAQ,UAAW,CAAE,cAAe,EAAG,CAAC,GAIrD,cAAe,UAAW,CACtB,IAAI,EAAW,EAAM,QAAQ,SAAW,EAAkB,EACtD,EAAW,KAAK,QAAQ,WAAa,GACrC,EAAW,KAAK,SAAW,IAAI,EAAM,OAAO,GAAG,SAC/C,KAAK,QAAQ,SAAS,EAAE,CAAE,CACZ,WACV,mBAAoB,EACpB,KAAM,EACN,oBAAqB,GACrB,iBAAkB,GACrB,CAAC,CAEN,EAAS,KAAK,SAAU,KAAK,QAAQ,KAAK,KAAK,CAAC,CAChD,EAAS,KAAK,YAAa,KAAK,WAAW,KAAK,KAAK,CAAC,CACtD,EAAS,WAAW,KAAK,eAAgB,KAAK,YAAY,KAAK,KAAK,CAAC,CACrE,EAAS,WAAW,KAAK,aAAc,KAAK,OAAO,KAAK,KAAK,CAAC,CAC9D,EAAS,WAAW,KAAK,YAAa,KAAK,WAAW,KAAK,KAAK,CAAC,CACjE,EAAS,WAAW,KAAK,MAAO,KAAK,KAAK,KAAK,KAAK,CAAC,CAErD,KAAK,cAAgB,EAAS,eAGlC,YAAa,UAAW,CAIpB,IAAK,IAHD,EAAO,KAAK,QAAQ,OACpB,EAAS,KAAK,OAAS,EAAE,CAEpB,EAAI,EAAG,EAAI,EAAK,OAAQ,IAAK,CAClC,IAAI,EAAU,EAAK,GACf,EAAO,EAAQ,MAAQ,QACvB,EAAW,KAAK,QAAQ,cAAc,GACtC,EAAO,EAAQ,IAAI,OAAO,GAE9B,EAAO,KAAK,IAAI,EAAK,KAAM,EAAW,EAAE,CAAE,EAAU,EAAQ,CAAC,CAAC,GAItE,aAAc,UAAW,CACrB,KAAK,QAAU,IAAI,EAAI,OAAO,YAAY,KAAM,KAAK,QAAQ,eAAe,CAC5E,KAAK,QAAQ,IAAI,KAAK,QAAQ,QAAQ,EAG1C,QAAS,SAAS,EAAG,CACjB,IAAI,EAAS,KAAK,gBAAgB,KAAK,YAAY,CAAC,OAAO,CACvD,EAAU,EAAE,OAAO,QAEnB,EAAS,IAAI,EAAE,MAAM,EAAQ,EAAG,EAAQ,EAAE,CAAC,MAAM,GAAG,CAAC,MAAM,EAAI,EAAQ,MAAM,CACjF,EAAO,GAAK,EAAO,EACnB,EAAO,GAAK,EAAO,EAEnB,KAAK,cAAgB,EAErB,KAAK,WAAW,KAAK,gBAAgB,EAAO,CAAC,CAC7C,KAAK,QAAQ,MAAO,CAChB,cAAe,EACf,OAAQ,KAAK,YAAY,CACzB,OAAQ,KAAK,QAAQ,CACxB,CAAC,EAGN,WAAY,SAAS,EAAG,CAChB,CAAC,KAAK,eAAiB,CAAC,KAAK,cAAc,GAI/C,KAAK,cAAgB,KACrB,KAAK,UAAY,IAAI,KAErB,KAAK,QAAQ,SAAU,CACnB,cAAe,EACf,OAAQ,KAAK,YAAY,CACzB,OAAQ,KAAK,QAAQ,CACxB,CAAC,GAGN,aAAc,UAAW,CACrB,OAAO,IAAI,MAAU,KAAK,WAAa,GAAK,IAGhD,YAAa,SAAS,EAAG,CACrB,GAAI,KAAK,QAAQ,YAAa,CAAE,cAAe,EAAG,CAAC,CAAE,CACjD,IAAI,EAAQ,EAAE,QAAQ,GAClB,GACA,EAAM,QAAQ,GAK1B,OAAQ,SAAS,EAAG,CAChB,IAAI,EAAQ,KAAK,SAAS,QAAQ,MAC9B,EAAO,KAAK,aAAa,EAAM,CAC/B,EAAgB,IAAI,EAAE,MAAM,EAAE,OAAO,EAAG,EAAE,OAAO,EAAE,CACnD,EAAiB,KAAK,eAAe,EAAe,EAAK,CAEzD,EADc,KAAK,gBAAgB,EAAgB,EAAK,CAC9B,UAAU,CAAC,EAAc,EAAG,CAAC,EAAc,EAAE,CAE3E,KAAK,YAAY,EAAa,EAAK,CACnC,KAAK,QAAQ,UAAW,CAAE,cAAe,EAAG,CAAC,EAGjD,aAAc,SAAS,EAAY,CAE/B,IAAI,EADQ,KAAK,YAAY,CAAG,EACZ,KAAK,QAAQ,QAC7B,EAAO,EAAK,IAAI,EAAM,CAAG,EAAK,IAAI,EAAE,CAExC,OAAO,EAAK,MAAM,EAAK,EAG3B,OAAQ,UAAW,CACX,KAAK,aACL,KAAK,YAAY,OAAO,KAAK,QAAQ,CAAE,KAAK,MAAM,CAAC,CAGvD,KAAK,YAAc,KAAK,WAAW,GAAK,CACxC,KAAK,gBAAgB,CACrB,KAAK,QAAQ,cAAc,CAC3B,KAAK,QAAQ,QAAS,CAClB,UAAW,KAAK,QAAQ,SAAS,UACpC,CAAC,EAGN,eAAgB,UAAW,CACvB,IAAI,EAAW,KAAK,SAChB,EAAI,EAAS,WAAW,EACxB,EAAI,EAAS,WAAW,EACxB,EAAQ,KAAK,YAAY,CACzB,EAAK,KAAK,QAAQ,CAAC,GACnB,EAAU,KAAK,gBAAgB,EAAG,CAAC,OAAO,CAE9C,EAAS,QAAQ,MAAQ,GACzB,EAAS,OAAO,CAChB,EAAS,WAAW,QAAQ,CAE5B,IAAI,EAAO,KAAK,MAAM,CACtB,EAAS,WAAW,eAAiB,EAAI,EAAG,KAAK,QAAQ,QAAU,EAAK,CACxE,EAAS,WAAW,SAAW,EAAI,EAAG,KAAK,QAAQ,QAAU,EAAK,CAElE,IAAI,EAAU,CAAE,IAAK,CAAC,EAAQ,EAAG,IAAK,EAAQ,EAAQ,EAAG,CACrD,EAAU,CAAE,IAAK,CAAC,EAAQ,EAAG,IAAK,EAAQ,EAAQ,EAAG,CAOzD,GALI,KAAK,QAAQ,aACb,EAAQ,IAAM,GAAK,EACnB,EAAQ,IAAM,CAAC,EAAQ,KAGvB,KAAK,QAAQ,WAAa,GAAO,CACjC,IAAI,EAAW,KAAK,UAAU,CAC9B,EAAQ,IAAM,EAAQ,IAAM,EAC5B,EAAQ,IAAM,EAAS,MACvB,EAAQ,IAAM,EAAS,OAG3B,EAAE,aAAa,CACf,EAAE,aAAa,CACf,EAAE,YAAY,EAAQ,IAAK,EAAQ,IAAI,CACvC,EAAE,YAAY,EAAQ,IAAK,EAAQ,IAAI,CAEvC,KAAK,aAAe,CAAE,EAAG,EAAS,EAAG,EAAS,EAGlD,cAAe,UAAW,CACtB,IAAI,EAAO,KAAK,QAAQ,OACpB,EAAS,KAAK,OAAS,EAAE,CACZ,KAAK,WAEX,OAAO,CAElB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAK,OAAQ,IAAK,CAClC,IAAI,EAAU,EAAK,GACf,EAAO,EAAQ,MAAQ,QACvB,EAAW,KAAK,QAAQ,cAAc,GACtC,EAAO,EAAQ,IAAI,OAAO,GAE9B,EAAO,KAAK,IAAI,EAAK,KAAM,EAAW,EAAE,CAAE,EAAU,EAAQ,CAAC,CAAC,GAItE,WAAY,SAAS,EAAM,CAEvB,MADA,GAAO,EAAe,EAAM,KAAK,QAAQ,KAAK,CACvC,KAAK,QAAQ,QAAU,EAAI,EAAG,EAAK,EAG9C,KAAM,SAAS,EAAG,CACT,QAAK,cAAc,CAIxB,KAAI,EAAS,KAAK,YAAY,EAAE,CAChC,KAAK,QAAQ,QAAS,CAClB,cAAe,EACf,SAAU,KAAK,eAAe,EAAO,CACxC,CAAC,GAGN,WAAY,SAAS,EAAG,CAEpB,GADc,KAAK,QACP,WAAa,IACjB,CAAC,KAAK,QAAQ,YAAa,CAAE,cAAe,EAAG,CAAC,CAAE,CAClD,IAAI,EAAS,KAAK,MAAM,CAAG,EACvB,EAAS,KAAK,YAAY,EAAE,CAC5B,EAAW,KAAK,eAAe,EAAO,CAEtC,EADW,KAAK,gBAAgB,EAAU,EAAO,CAC/B,UAAU,CAAC,EAAO,EAAG,CAAC,EAAO,EAAE,CACrD,KAAK,YAAY,EAAQ,EAAO,CAChC,KAAK,QAAQ,UAAW,CAAE,cAAe,EAAG,CAAC,GAKzD,YAAa,SAAS,EAAG,CACrB,EAAE,gBAAgB,CAClB,IAAI,EAAQ,EAAQ,QAAQ,EAAE,CAAG,EAAI,GAAK,EACtC,EAAU,KAAK,QACf,EAAW,KAAK,MAAM,CACtB,EAAS,EAAM,EAAW,EAAO,EAAQ,QAAS,EAAQ,QAAQ,CAEtE,GAAI,EAAQ,WAAa,IAAS,IAAW,GACrC,CAAC,KAAK,QAAQ,YAAa,CAAE,cAAe,EAAG,CAAC,CAAE,CAClD,IAAI,EAAS,KAAK,YAAY,EAAE,CAC5B,EAAW,KAAK,eAAe,EAAO,CAEtC,EADW,KAAK,gBAAgB,EAAU,EAAO,CAC/B,UAAU,CAAC,EAAO,EAAG,CAAC,EAAO,EAAE,CACrD,KAAK,YAAY,EAAQ,EAAO,CAEhC,KAAK,QAAQ,UAAW,CAAE,cAAe,EAAG,CAAC,GAI5D,CAAC,CAGF,EAAQ,GAAG,OAAO,EAAI,GAEvB,OAAO,MAAM,OAAO,CC1pBnB,IAAa,EAAW,CACpB,GAAI,cACJ,KAAM,MACN,SAAU,UACV,YAAa,8CACb,QAAS,CAAE,OAAQ,aAAc,UAAW,eAAgB,UAAW,kBAAmB,CAC7F,CAED,IAAA,EAAe"}