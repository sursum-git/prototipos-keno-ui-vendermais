/**
 * Kendo UI v2026.1.212 (http://www.telerik.com/kendo-ui)
 * Copyright 2026 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
(function(e,t){typeof exports==`object`&&typeof module<`u`?t(exports,require(`kendo.combobox.min.js`),require(`kendo.dropdownlist.min.js`),require(`kendo.resizable.min.js`),require(`kendo.window.min.js`),require(`kendo.colorpicker.min.js`),require(`kendo.imagebrowser.min.js`),require(`kendo.numerictextbox.min.js`),require(`kendo.textarea.min.js`),require(`kendo.core.min.js`),require(`kendo.aiprompt.min.js`),require(`kendo.buttongroup.min.js`),require(`kendo.toolbar.min.js`),require(`kendo.icons.min.js`),require(`kendo.splitter.min.js`),require(`kendo.html.input.min.js`),require(`kendo.html.icon.min.js`),require(`kendo.inlineaiprompt.min.js`),require(`kendo.form.min.js`),require(`kendo.filebrowser.min.js`),require(`kendo.draganddrop.min.js`),require(`kendo.html.button.min.js`),require(`kendo.tabstrip.min.js`)):typeof define==`function`&&define.amd?define([`exports`,`kendo.combobox.min`,`kendo.dropdownlist.min`,`kendo.resizable.min`,`kendo.window.min`,`kendo.colorpicker.min`,`kendo.imagebrowser.min`,`kendo.numerictextbox.min`,`kendo.textarea.min`,`kendo.core.min`,`kendo.aiprompt.min`,`kendo.buttongroup.min`,`kendo.toolbar.min`,`kendo.icons.min`,`kendo.splitter.min`,`kendo.html.input.min`,`kendo.html.icon.min`,`kendo.inlineaiprompt.min`,`kendo.form.min`,`kendo.filebrowser.min`,`kendo.draganddrop.min`,`kendo.html.button.min`,`kendo.tabstrip.min`],t):(e=typeof globalThis<`u`?globalThis:e||self,t((e.kendo=e.kendo||{},e.kendo._globals=e.kendo._globals||{},e.kendo._globals.Editor={}),e.kendo._globals.Combobox,e.kendo._globals.Dropdownlist,e.kendo._globals.Resizable,e.kendo._globals.Window,e.kendo._globals.Colorpicker,e.kendo._globals.Imagebrowser,e.kendo._globals.Numerictextbox,e.kendo._globals.Textarea,e.kendo._globals.Core,e.kendo._globals.Aiprompt,e.kendo._globals.Buttongroup,e.kendo._globals.Toolbar,e.kendo._globals.Icons,e.kendo._globals.Splitter,e.kendo._globals.HtmlInput,e.kendo._globals.HtmlIcon,e.kendo._globals.Inlineaiprompt,e.kendo._globals.Form,e.kendo._globals.Filebrowser,e.kendo._globals.Draganddrop,e.kendo._globals.HtmlButton,e.kendo._globals.Tabstrip))})(this,function(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S){Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:`Module`}}),(function(e){var t=e.Observable.extend({init:function(t){e.Observable.fn.init.call(this,t),this.clear()},events:[`undo`,`redo`],push:function(e){this.stack=this.stack.slice(0,this.currentCommandIndex+1),this.currentCommandIndex=this.stack.push(e)-1},undo:function(){if(this.canUndo()){var e=this.stack[this.currentCommandIndex--];e.undo(),this.trigger(`undo`,{command:e})}},redo:function(){if(this.canRedo()){var e=this.stack[++this.currentCommandIndex];e.redo(),this.trigger(`redo`,{command:e})}},clear:function(){this.stack=[],this.currentCommandIndex=-1},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});e.deepExtend(e,{util:{UndoRedoStack:t}})})(kendo),(function(e,t){var n=window.kendo,r=n.Class,i=n.ui.Widget,a=n.support.mobileOS,o=n.support.browser,s=e.extend,c=n.deepExtend,l=n.keys,u=n._outerWidth,d=n._outerHeight,f=`.kendoEditor`;let p=`formatting-marks-style`,m=`formatting-marks-overlay`,h=`formatting-marks-overlay-wrapper`;var g=`select`,_=`select.k-select-overlay`,v=`k-placeholder`,y=`placeholder`,b=200,x=`en`,S=[`insertLineBreak`,`insertParagraph`,`redo`,`undo`,`autoLink`],C={editorWrapperTemplate:()=>`<div class="k-editor"><div class="k-editor-toolbar" role="toolbar"></div><div class="k-editable-area k-editor-content"></div></div>`,formatByName:function(t,n){for(var r=0;r<n.length;r++)if(e.inArray(t,n[r].tags)>=0)return n[r]},getToolCssClass:function(e,t){return{superscript:`supscript`,subscript:`subscript`,justifyLeft:`align-left`,justifyCenter:`align-center`,justifyRight:`align-right`,justifyFull:`align-justify`,insertUnorderedList:`list-unordered`,insertOrderedList:`list-ordered`,insertUpperRomanList:`list-roman-upper`,insertLowerRomanList:`list-roman-lower`,import:`import`,indent:`indent`,outdent:`outdent`,createLink:`link`,unlink:`unlink`,insertImage:`image`,insertFile:`file-add`,viewHtml:`code`,foreColor:`foreground-color`,backColor:`droplet`,createTable:`table-add`,addColumnLeft:`table-column-insert-left`,addColumnRight:`table-column-insert-right`,addRowAbove:`table-row-insert-above`,addRowBelow:`table-row-insert-below`,deleteRow:`table-row-delete`,deleteColumn:`table-column-delete`,mergeCellsHorizontally:`cells-merge-horizontally`,mergeCellsVertically:`cells-merge-vertically`,splitCellHorizontally:`cell-split-horizontally`,splitCellVertically:`cell-split-vertically`,tableProperties:`table-properties`,tableCellProperties:`table-cell-properties`,tableWizardInsert:`table-wizard`,tableAlignLeft:`table-position-start`,tableAlignCenter:`table-position-center`,tableAlignRight:`table-position-end`,cleanFormatting:`clear-css`,copyFormat:`copy-format`,applyFormat:`apply-format`,pdf:`file-pdf`}[e]||t||C.nameToKebab(e)},nameToKebab:function(e){return e.replace(/([a-z])([A-Z])/g,`$1-$2`).replace(/[\s_]+/g,`-`).toLowerCase()},registerTool:function(e,t){t.name||=(t.options.name=e,e.toLowerCase()),t.options.ui||(t.options.ui={}),t.options.ui.command=e,D.defaultTools[e]=t},registerFormat:function(e,t){D.fn.options.formats[e]=t},cacheComments:function(e,t){for(var n in t)e=e.replace(t[n],`{`+n+`}`);return e},retrieveComments:function(e,t){for(var n in t)e=e.replace(`{`+n+`}`,t[n]);return e}},w={auto:`Auto`,bold:`Bold`,italic:`Italic`,underline:`Underline`,strikethrough:`Strikethrough`,superscript:`Superscript`,subscript:`Subscript`,fitToCell:`Fit to cell`,justifyCenter:`Center text`,justifyLeft:`Align text left`,justifyRight:`Align text right`,justifyFull:`Justify`,insertUnorderedList:`Insert unordered list`,insertOrderedList:`Insert ordered list`,lineHeight:`Set line height`,formattingMarks:`Toggle formatting marks`,indent:`Indent`,outdent:`Outdent`,createLink:`Insert hyperlink`,unlink:`Remove hyperlink`,insertImage:`Insert image`,insertFile:`Insert file`,insertHtml:`Insert HTML`,viewHtml:`View HTML`,fontName:`Select font family`,fontNameInherit:`(inherited font)`,fontSize:`Select font size`,fontSizeInherit:`(inherited size)`,formatBlock:`Format`,formatting:`Format`,foreColor:`Color`,backColor:`Background color`,style:`Styles`,emptyFolder:`Empty Folder`,editAreaTitle:`Editable area. Press F10 for toolbar.`,uploadFile:`Upload`,overflowAnchor:`More tools`,orderBy:`Arrange by:`,orderBySize:`Size`,orderByName:`Name`,invalidFileType:`The selected file {0} is not valid. Supported file types are {1}.`,deleteFile:`Are you sure you want to delete {0}?`,overwriteFile:`A file with name {0} already exists in the current directory. Do you want to overwrite it?`,directoryNotFound:`A directory with this name was not found.`,imageWebAddress:`Web address`,imageAltText:`Alternate text`,imageWidth:`Width (px)`,imageHeight:`Height (px)`,fileWebAddress:`Web address`,fileTitle:`Title`,fileText:`Text`,linkWebAddress:`Web address`,linkText:`Text`,linkToolTip:`ToolTip`,linkOpenInNewWindow:`Open link in new window`,dialogUpdate:`Update`,dialogInsert:`Insert`,dialogOk:`Confirm`,dialogCancel:`Cancel`,cleanFormatting:`Clean formatting`,createTable:`Create a table`,createTableHint:`Create a {0} x {1} table`,addColumnLeft:`Add column on the left`,addColumnRight:`Add column on the right`,addRowAbove:`Add row above`,addRowBelow:`Add row below`,deleteRow:`Delete row`,deleteColumn:`Delete column`,mergeCellsHorizontally:`Merge cells horizontally`,mergeCellsVertically:`Merge cells vertically`,splitCellHorizontally:`Split cells horizontally`,splitCellVertically:`Split cells vertically`,tableAlignLeft:`Table Align Left`,tableAlignCenter:`Table Align Center`,tableAlignRight:`Table Align Right`,tableWizard:`Table Wizard`,tableProperties:`Table Properties`,tableCellProperties:`Cell Properties`,tableTab:`General`,cellTab:`Cell`,accessibilityTab:`Advanced`,caption:`Caption`,summary:`Summary`,width:`Width`,height:`Height`,units:`Units`,cellSpacing:`Cell Spacing`,cellPadding:`Cell Padding`,topPadding:`Top`,leftPadding:`Left`,bottomPadding:`Bottom`,rightPadding:`Right`,independentCellPaddings:`Independent Cell Paddings`,cellMargin:`Cell Margin`,alignment:`Alignment`,captionAlignment:`Caption alignment`,position:`Position`,background:`Background`,tableBackground:`Table background`,cssClass:`CSS Class`,id:`ID`,border:`Border`,borderStyle:`Border Style`,borderWidth:`Border Width`,borderColor:`Border Color`,collapseBorders:`Collapse borders`,wrapText:`Wrap text`,associateCellsWithHeaders:`Associate headers`,alignLeft:`Align Left`,alignCenter:`Align Center`,alignRight:`Align Right`,alignLeftTop:`Align Left Top`,alignCenterTop:`Align Center Top`,alignRightTop:`Align Right Top`,alignLeftMiddle:`Align Left Middle`,alignCenterMiddle:`Align Center Middle`,alignRightMiddle:`Align Right Middle`,alignLeftBottom:`Align Left Bottom`,alignCenterBottom:`Align Center Bottom`,alignRightBottom:`Align Right Bottom`,alignRemove:`Remove Alignment`,columns:`Columns`,rows:`Rows`,selectAllCells:`Apply to all cells`,applyToColumn:`apply to column`,applyToRow:`apply to row`,exportAs:`Export As`,import:`Import`,print:`Print`,headerRows:`Header Rows`,headerColumns:`Header Cols`,tableSummaryPlaceholder:`Summary attribute is not HTML5 compatible.`,associateNone:`None`,associateScope:`Associate using 'scope' attribute`,associateIds:`Associate using Ids`,copyFormat:`Copy format`,applyFormat:`Apply format`,borderNone:`None`,undo:`Undo`,redo:`Redo`},T=document.documentElement.contentEditable!==void 0,E={basic:[`bold`,`italic`,`underline`,`strikethrough`],undo:[`undo`,`redo`],scripts:[`subscript`,`superscript`],alignment:[`justifyLeft`,`justifyCenter`,`justifyRight`,`justifyFull`],lines:[`lineHeight`],symbols:[`formattingMarks`],links:[`insertImage`,`insertFile`,`createLink`,`unlink`],lists:[`insertUnorderedList`,`insertOrderedList`,`insertUpperRomanList`,`insertLowerRomanList`],dent:[`indent`,`outdent`],tablesWizard:[`tableProperties`,`tableCellProperties`],tablesInsert:[`createTable`],tablesAddDelete:[`addColumnLeft`,`addColumnRight`,`addRowAbove`,`addRowBelow`,`deleteRow`,`deleteColumn`],tablesMerge:[`mergeCellsHorizontally`,`mergeCellsVertically`,`splitCellHorizontally`,`splitCellVertically`],tablesPosition:[`tableAlignLeft`,`tableAlignCenter`,`tableAlignRight`],formatPainter:[`copyFormat`,`applyFormat`]},D=i.extend({__suppressEditableCheck:!1,init:function(e,r){var a=this,o=n.ui.editor,s=o.Dom,l,u,d;!T&&!a.__suppressEditableCheck||(i.fn.init.call(a,e,r),a.options=c({},a.options,r),e=a.element,d=e[0],u=s.name(d),this._registerHandler(e.closest(`form`),`submit`,a.update.bind(a,t)),a._isAiPromptEnabled()&&a._addAIPromptElements(),l=a._setupType(e),a._initToolbar(l),a._setupHeight(u),a._resizable(),a._initializeContentElement(a),a._setupKeyboard(),a.clipboard=new o.Clipboard(this),a.undoRedoStack=new n.util.UndoRedoStack,a._populateValue(r,d),a._registerHandler(document,{mousedown:function(){a._endTyping()},mouseup:function(e){a._mouseup(e)}}),a._registerHandler(window,`resize`,a._handleSpaceAndNewLines.bind(a)),a._initializeImmutables(),u==`textarea`&&a._ariaLabel(a.wrapper.find(`iframe`)),a.toolbar.resize(),a._initInlineOverflowWrapper(),n.notify(a),a._showWatermarkOverlay&&a._showWatermarkOverlay(a.wrapper&&a.wrapper[0]||a.element[0]),a._isAiPromptEnabled()&&a._initAIPrompt(),a._isInlineAIPromptEnabled()&&a._initInlineAIPrompt())},events:[`select`,`change`,`execute`,`error`,`paste`,`keydown`,`keyup`],options:{name:`Editor`,messages:w,placeholder:``,nonce:``,unsafeInline:!0,formats:{},encoded:!0,formattingMarksRefreshDelay:250,domain:null,resizable:!1,deserialization:{custom:null},serialization:{entities:!0,semantic:!0,scripts:!1,optimizeTags:!1,keepEOL:!1},pasteCleanup:{all:!1,css:!1,custom:null,keepNewLines:!1,msAllFormatting:!1,msConvertLists:!0,msTags:!0,none:!1,span:!1},stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},imageBrowser:null,fileBrowser:null,navigateOnTab:!1,fontName:[{text:`Arial`,value:`Arial, Helvetica, sans-serif`},{text:`Courier New`,value:`"Courier New", Courier, monospace`},{text:`Georgia`,value:`Georgia, serif`},{text:`Impact`,value:`Impact, Charcoal, sans-serif`},{text:`Lucida Console`,value:`"Lucida Console", Monaco, monospace`},{text:`Tahoma`,value:`Tahoma, Geneva, sans-serif`},{text:`Times New Roman`,value:`"Times New Roman", Times, serif`},{text:`Trebuchet MS`,value:`"Trebuchet MS", Helvetica, sans-serif`},{text:`Verdana`,value:`Verdana, Geneva, sans-serif`}],fontSize:[{text:`1 (8pt)`,value:`xx-small`},{text:`2 (10pt)`,value:`x-small`},{text:`3 (12pt)`,value:`small`},{text:`4 (14pt)`,value:`medium`},{text:`5 (18pt)`,value:`large`},{text:`6 (24pt)`,value:`x-large`},{text:`7 (36pt)`,value:`xx-large`}],formatBlock:[{text:`Paragraph`,value:`p`},{text:`Quotation`,value:`blockquote`},{text:`Heading 1`,value:`h1`},{text:`Heading 2`,value:`h2`},{text:`Heading 3`,value:`h3`},{text:`Heading 4`,value:`h4`},{text:`Heading 5`,value:`h5`},{text:`Heading 6`,value:`h6`}],tools:`formatting.bold.italic.underline.undo.redo.justifyLeft.justifyCenter.justifyRight.copyFormat.applyFormat.insertUnorderedList.insertOrderedList.indent.outdent.createLink.unlink.insertImage.tableProperties.tableCellProperties.createTable.addRowAbove.addRowBelow.addColumnLeft.addColumnRight.deleteRow.deleteColumn.mergeCellsHorizontally.mergeCellsVertically.splitCellHorizontally.splitCellVertically.tableAlignLeft.tableAlignCenter.tableAlignRight`.split(`.`),ai:!1},destroy:function(){var e=this;i.fn.destroy.call(this),this._endTyping(!0),this._deregisterHandlers(),clearTimeout(this._spellCorrectTimeout),this._focusOutside(),this.toolbar.destroy(),this.windowInstance&&this.windowInstance.destroy(),this.tablePopup&&this.tablePopup.destroy(),e._destroyUploadWidget(),this.interSectionObserver&&=(this.interSectionObserver.disconnect(),null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null,this.wrapper.css(`min-height`,``),this.wrapper.css(`max-height`,``)),e._destroyResizings(),e._destroyFormattingMarksOverlay(),n.destroy(this.wrapper)},setOptions:function(e){var t=this;i.fn.setOptions.call(t,e),e.tools&&this._setOptionsTools(e.tools),this._initializePlaceholder()},createRange:function(e){return n.ui.editor.RangeUtils.createRange(e||this.document)},encodedValue:function(){return n.ui.editor.Dom.encode(this.value())},exec:function(e,t){var r=this,i=null,a=n.ui.Editor.defaultTools,o,c,l;if(!e)throw Error("kendoEditor.exec(): `name` parameter cannot be empty");if(r.body.getAttribute(`contenteditable`)!==`true`&&e!==`print`&&e!==`pdf`&&e!==`exportAs`)return!1;if(r.keyboard.isTypingInProgress()||(r._focusBody(),r.selectRange(r._range||r.getRange())),c=r.tools[e]||a[e],c||Object.keys(a).map(t=>{t.toLowerCase()===e&&(c=a[t])}),c){if(o=r.getRange(),c.command&&(i=c.command(s({range:o,body:r.body,immutables:!!r.immutables},t))),l=r.trigger(`execute`,{name:e,command:i}),l)return;if(/^(undo|redo)$/i.test(e))r.undoRedoStack[e]();else if(i&&(r.execCommand(i),i.async)){i.change=r._commandChange.bind(r);return}e!==`formattingMarks`&&r._handleSpaceAndNewLines(),r._selectionChange()}},_commandChange:function(){let e=this;e._selectionChange(),e._handleSpaceAndNewLines()},execCommand:function(e){e.managesUndoRedo||this.undoRedoStack.push(e),e.editor=this,e.exec()},focus:function(){this.restoreSelection()},getRange:function(){var e=this.getSelection(),t=e&&e.rangeCount>0?e.getRangeAt(0):this.createRange(),n=this.document;return t.startContainer==n&&t.endContainer==n&&!t.startOffset&&!t.endOffset&&(t.setStart(this.body,0),t.collapse(!0)),t},getSelection:function(){return n.ui.editor.SelectionUtils.selectionFromDocument(this.document)},paste:function(t,r){this.focus();var i=new n.ui.editor.InsertHtmlCommand(e.extend({range:this.getRange(),html:t},r));i.editor=this,i.exec()},insertAfterSelection:function(t,r){this.focus();let i=this.getRange();i.collapse(!1);var a=new n.ui.editor.InsertHtmlCommand(e.extend({range:i,html:t},r));a.editor=this,a.exec()},refresh:function(){var e=this;if(e.textarea){e._destroyResizings();var t=e.value();e.textarea.val(t),e.wrapper.find(`iframe`).remove(),e._initializeContentElement(e),e.value(t)}},restoreSelection:function(){this._focusBody(),this.selectionRestorePoint&&this.selectRange(this.selectionRestorePoint.toRange())},saveSelection:function(t){t||=this.getRange();var r=t.commonAncestorContainer,i=this.body;(r==i||e.contains(i,r))&&(this.selectionRestorePoint=new n.ui.editor.RestorePoint(t,i))},selectedHtml:function(){return n.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},selectRange:function(e){this._focusBody();var t=this.getSelection();t.removeAllRanges(),t.addRange(e),this.saveSelection(e)},state:function(e){var t=n.ui.Editor.defaultTools[e],r=t&&(t.options.finder||t.finder),i=n.ui.editor.RangeUtils,a,o;return r?(a=this.getRange(),o=i.textNodes(a),!o.length&&a.collapsed&&(o=[a.startContainer]),r.getFormat?r.getFormat(o):r.isFormatted(o)):!1},update:function(e){e=e||this.options.encoded?this.encodedValue():this.value(),this.textarea?(this.textarea.val(e),this._togglePlaceholder(!e.trim())):this._oldValue=e},value:function(e){var r=this.body,i=n.ui.editor,a=this.options,o=i.Serializer.domToXhtml(r,a.serialization);if(e===t)return o;e!=o&&(i.Serializer.htmlToDom(e,r,a.deserialization),this.selectionRestorePoint=null,this.update(),this._refreshTools())},_bindTools:function(){var t=this,n=this.tools;t.unbind(`select`,t.toolbar.resize.bind(t.toolbar)),t.toolbar.element.find(`[data-command]`).filter((t,n)=>e(n).find(`[data-command]`).length===0).each((r,i)=>{var a=n[i.getAttribute(`data-command`)];a&&a.initialize&&a.initialize(e(i),t)}),t.bind(`select`,t.toolbar.resize.bind(t.toolbar))},_blur:function(){var e=this.textarea,t=e?e.val():this._oldValue,n=this.options.encoded?this.encodedValue():this.value();this.update(),e&&e.trigger(`blur`),n!=t&&(this.trigger(`change`),e&&e.trigger(`change`))},_containsRange:function(e){var t=n.ui.editor.Dom,r=this.body;return e&&t.isAncestorOrSelf(r,e.startContainer)&&t.isAncestorOrSelf(r,e.endContainer)},_createContentElement:function(t){var r=this,i,s,c,l=r.textarea,u=r.options.domain,d=u||document.domain,f=``,p=`javascript:""`,m=``;l.hide(),i=e(`<iframe />`,{title:r.options.messages.editAreaTitle,frameBorder:`0`})[0],e(i).css(`display`,``).addClass(`k-content k-iframe`).attr(`tabindex`,l[0].tabIndex).insertBefore(l),(u||d!=location.hostname)&&(f=`<script ${r.options.nonce?`nonce="${r.options.nonce}"`:``}>document.domain="${d}"<\/script>`,p=`javascript:document.write('`+f+`')`,i.src=p),i.src||=``,s=i.contentWindow||i,c=s.document||i.contentDocument;let h=r.interSectionObserver=new IntersectionObserver(e=>{for(let t of e)t.isIntersecting&&(r._decorateFormatting(c.body),h.unobserve(i))});return h.observe(i),m=document.getElementsByTagName(`html`)[0].getAttribute(`lang`)||x,c.open(),c.write(`<!DOCTYPE html><html lang='`+m+`'><head><meta charset='utf-8' /><title>Kendo UI Editor content</title><style ${r.options.nonce?`nonce="${r.options.nonce}"`:``}>html{padding:0;margin:0;height:100%;min-height:100%;cursor:text;}body{padding:0;margin:0;}body{box-sizing:border-box;font-size:12px;font-family:Verdana,Geneva,sans-serif;margin-top:-1px;padding:5px .4em 0;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;`+(n.support.isRtl(l)?`direction:rtl;`:``)+(a.ios?`word-break:keep-all;`:``)+(o.edge||o.chrome?`height:100%;`:``)+`}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}span{-ms-high-contrast-adjust:none;}a{color:#00a}code{font-size:1.23em}telerik\\3Ascript{display: none;}.k-table{width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table th{outline:0;border: 1px dotted #999;}.k-table p{margin:0;padding:0;}.k-column-resize-handle-wrapper {position: absolute; height: 10px; width:10px; cursor: col-resize; z-index: 2;}.k-column-resize-handle {width: 100%; height: 100%;}.k-column-resize-handle > .k-column-resize-marker {width:2px; height:100%; margin:0 auto; background-color:#00b0ff; display:none; opacity:0.8;}.k-row-resize-handle-wrapper {position: absolute; cursor: row-resize; z-index:2; width: 10px; height: 10px;}.k-row-resize-handle {display: table; width: 100%; height: 100%;}.k-row-resize-marker-wrapper{display: table-cell; height:100%; width:100%; margin:0; padding:0; vertical-align: middle;}.k-row-resize-marker{margin: 0; padding:0; width:100%; height:2px; background-color: #00b0ff; opacity:0.8; display:none;}.k-element-resize-handle-wrapper {position: absolute; background-color: #fff; border: 1px solid #000; z-index: 100; width: 5px; height: 5px;}.k-element-resize-handle {width: 100%; height: 100%;}.k-element-resize-handle.k-resize-east{cursor:e-resize;}.k-element-resize-handle.k-resize-north{cursor:n-resize;}.k-element-resize-handle.k-resize-northeast{cursor:ne-resize;}.k-element-resize-handle.k-resize-northwest{cursor:nw-resize;}.k-element-resize-handle.k-resize-south{cursor:s-resize;}.k-element-resize-handle.k-resize-southeast{cursor:se-resize;}.k-element-resize-handle.k-resize-southwest{cursor:sw-resize;}.k-element-resize-handle.k-resize-west{cursor:w-resize;}.k-table.k-element-resizing{opacity:0.6;}.k-placeholder{color:grey}k\\:script{display:none;}</style>`+f+e.map(t,function(e){return`<link rel='stylesheet' href='${e}' ${r.options.nonce?`nonce="${r.options.nonce}"`:``}>`}).join(``)+`</head><body id='${r.element.attr(`id`)}' autocorrect='off' contenteditable='true'></body></html>`),c.close(),s},_deleteSavedRange:function(){`_range`in this&&delete this._range},_decorateFormatting:function(t){var r=this.toolbar.element.find(`input[data-command=formatting]`),i=n.ui.editor.Dom,a,o,s,c,l,u,d;if(r.length){if(a=r.getKendoDropDownList(),!a)return;if(o=a.dataSource,s=o.data(),t&&a.list.css(`background-color`,i.getEffectiveBackground(e(t))),this.options.unsafeInline!==!1)for(c=0;c<s.length;c++)l=s[c].tag||`span`,u=s[c].className,d=i.inlineStyle(t,l,{className:u}),d=d.replace(/"/g,`'`),s[c].style=d+`;display:inline-block`;o.trigger(`change`)}},_appendFormattingMarksStyles:function(){let t=this,n=t.element.attr(`id`),r,i;r=`<style id='${p+`-`+n}' ${t.options.nonce?`nonce="${t.options.nonce}"`:``} >
                #${n} p::after,
                #${n} li::after,
                #${n} h1::after,
                #${n} h2::after,
                #${n} h3::after,
                #${n} h4::after,
                #${n} h5::after,
                #${n} h6::after {content: '\\00B6'; color: #6098f2;}
                #${h+`-`+n} {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    z-index: 9999;
                    pointer-events: none;
                }
                #${m+`-`+n} {
                    width: 100%;
                    height: 100%;
                  }
            </style>`,i=e(t.document.head),i.find(`#`+p+`-`+n).remove(),i.append(r)},_appendFormattingMarksOverlay:function(){let t=this,n=t.element.attr(`id`);t._formattingMarksOverlayWrapper=e(`<div id='${h+`-`+n}'></div>`),t._formattingMarksOverlay=e(`<svg id='${m+`-`+n}'></svg>`).appendTo(t._formattingMarksOverlayWrapper),t._bodyTopBottomPaddings=parseFloat(e(t.body).css(`padding-top`))+parseFloat(e(t.body).css(`padding-bottom`)),t._isInlineEditor()?t._formattingMarksOverlayWrapper.insertAfter(t.element):t._formattingMarksOverlayWrapper.appendTo(e(t.document).find(`html`))},_destroyFormattingMarksOverlay:function(){let t=this,n=t.element.attr(`id`);e(t.document).find(`#`+h+`-`+n).remove(),e(t.document.head).find(`#`+p+`-`+n).remove()},_updateFormattingMarksOverlayHeight:function(){let t=this;t._isInlineEditor()?t._formattingMarksOverlayWrapper.height(e(t.body).outerHeight()):t._formattingMarksOverlayWrapper.height(t.body.scrollHeight-t._bodyTopBottomPaddings)},_initInlineOverflowWrapper:function(){let e=this,t=e.options.inlineHeight;e._isInlineEditor()&&t>-1&&(e._inlineOverflowWrapper=e.element.wrap(`<div class='k-inline-editor-overflow-wrapper k-pos-relative k-overflow-auto'></div>`).parent(),e._inlineOverflowWrapper.height(t))},_addAIPromptElements:function(){let t=this,n=e(`<div/>`),r=e(`<div/>`);t.splitterElement=n,t.aiPromptElement=r,n.insertBefore(t.element),r.appendTo(n),t.element.appendTo(n)},_initInlineAIPrompt:function(){let t=this,r=e(`<div/>`).insertAfter(t.element),i=t._mapCommands(t.options.ai?.inlineAIPrompt?.commands||t.options.ai?.commands||n.ui.InlineAIPrompt.fn.options.commands);t.inlineAIPrompt=r.kendoInlineAIPrompt({popup:{width:`768px`},service:t.options.ai?.service,commands:i,_isEditor:!0,systemPrompt:t.options.ai?.inlineAIPrompt?.systemPrompt,commandExecute:e=>{e.context=t.getRange().toString()},outputAction:e=>{e.action===`insert`&&t.insertAfterSelection(e.content),e.action===`replace`&&t.paste(e.content)}}).data(`kendoInlineAIPrompt`)},_mapCommands:function(e,t=null){let n=this;return e.map((e,r)=>{let i=t?`${t}-${r}`:`${r}`,a={id:i,text:e.text,icon:e.icon};return e.prompt&&(a.prompt=e.prompt),e.items&&(a.items=n._mapCommands(e.items,i)),a})},_isAiPromptEnabled(){let e=this;return e.options.ai&&e.options.ai.aiPrompt!=0},_isInlineAIPromptEnabled(){let e=this;return e.options.ai&&e.options.ai.inlineAIPrompt!=0},_initAIPrompt:function(){let t=this,r=t.options.ai?.aiPrompt?.commands||t.options.ai?.commands||t._mapCommands(n.ui.InlineAIPrompt.fn.options.commands);t.aiPrompt=t.aiPromptElement.kendoAIPrompt(e.extend({service:t.options.ai?.service,speechToText:!1,promptTextArea:{rows:5,suffixOptions:{template:()=>`<div ref-select-context-buttongroup></div>`}},views:[{type:`prompt`,buttonIcon:``,initializeComponents:e=>{e.view.contentElement.find(`[ref-select-context-buttongroup]`).kendoButtonGroup({index:t._contextSelection,items:[{text:`Use with selection`,icon:`box-sizing`},{text:`Use full content`,icon:`form-element`}],selection:`multiple`,fillMode:`flat`,select:e=>{let n=e.sender._buttons[0],r=e.sender._buttons[1];e.indices.length>1&&(e.target[0]==n.element[0]?(r.toggle(!1),e.sender._toggleIndex(1)):(n.toggle(!1),e.sender._toggleIndex(0))),t._contextSelection=e.indices[0]}})}},{type:`output`},{type:`commands`,promptCommands:r}],promptRequest:e=>{let n=t._contextSelection,r=e.prompt;r=n===0?t._contextTemplate(r,t.getRange().toString()):n===1?t._contextTemplate(r,t.value()):t._contextTemplate(r,``),e.prompt!=r&&(e.prompt=r)},commandExecute:e=>{let n=e.item.prompt;n&&t.aiPrompt.transport.read({prompt:n(t.value()),history:[],isRetry:!1})}},t.options.ai?.aiPrompt)).data(`kendoAIPrompt`),t.aiPromptSplitter=t.splitterElement.kendoSplitter({panes:[e.extend({size:`50%`,collapsible:!0,collapsed:!0,min:`360px`},t.options.ai?.pane),{}]}).data(`kendoSplitter`),t._isInlineAIPromptEnabled()&&t.bind(`select`,t._selectionChangeHandler.bind(t))},_contextTemplate:function(e,t){let n=this,r=`You are an advanced AI language assistant.
            A user has selected a portion of their text and provided a query regarding how they want it modified.
            Your task is to accurately respond to their request while preserving the original intent of the text.
            Follow the instructions strictly and provide only the requested output unless explicitly asked to explain your changes.

            ${t?`Selected Text:`:``}
            ${t}

            User's Request:
            ${e}

            Response:`;return n.options.ai?.aiPrompt?.systemPrompt?n.options.ai?.aiPrompt?.systemPrompt(e,t):r},_selectionChangeHandler:function(){let e=this,t=e.getRange(),r=t.getBoundingClientRect(),i=e.wrapper[0].getBoundingClientRect();if(n.ui.editor.RangeUtils.textNodes(t).length===0){e.inlineAIPrompt._popup.close();return}e.inlineAIPrompt._popup.open();let a=e.inlineAIPrompt._popup.element.outerHeight(),o=e.inlineAIPrompt._popup.element.outerWidth(),s=window.scrollY+i.top+r.top+r.height,c=window.scrollX+i.left+r.left+r.width/2-o/2;e.inlineAIPrompt._popup.close(!0),window.innerHeight-r.bottom<a?s-=a:s+=a,c+o>window.innerWidth+window.scrollX&&(c=window.innerWidth+window.scrollX-o),e.inlineAIPrompt._popup.open(c,s)},_getSelectionPosition:function(){this.getRange().getBoundingClientRect()},_initContextMenu:function(){let t=this,r=e(`<ul>
                            <li>${n.html.renderIcon({icon:`arrow-rotate-cw`})} Rewrite</li>
                            <li>${n.html.renderIcon({icon:`spell-checker`})} Fix mistakes</li>
                            <li>${n.html.renderIcon({icon:`tell-a-friend`})} Change tone
                                <ul>
                                    <li>Neutral</li>
                                    <li>Friendly</li>
                                    <li>Casual</li>
                                    <li>Formal</li>
                                </ul>
                            </li>
                            <li>${n.html.renderIcon({icon:`apply-format`})} Polish formatting
                            <li>${n.html.renderIcon({icon:`col-resize`})} Adjust length
                            <li>${n.html.renderIcon({icon:`edit-tools`})} Translate
                        </ul>`);e(`body`).append(r),t._aiContextMenu=r.kendoContextMenu({targe:`imposibru`}).data(`kendoContextMenu`)},_insertAIResult:function(){this.paste(`Test ai result`)},_deregisterHandlers:function(){for(var e=this._handlers,t=0;t<e.length;t++){var n=e[t];n.element.off(n.type,n.handler)}this._handlers=[]},_destroyUploadWidget:function(){var e=this;e._uploadWidget&&=(e._uploadWidget.destroy(),null)},_endTyping:function(){var e=this.keyboard;try{e.isTypingInProgress()&&(e.endTyping(!0),this.saveSelection())}catch{}},_focusBody:function(){var e=this.body,t=this.wrapper&&this.wrapper.find(`iframe`)[0],r=this.document.documentElement,i=n._activeElement(),a;!t&&e.scrollHeight>e.clientHeight?(a=e.scrollTop,e.focus(),e.scrollTop=a):i!=e&&i!=t&&(a=r.scrollTop,e.focus(),r.scrollTop=a)},_focusOutside:function(){n.support.browser.msie&&this.textarea&&e(`<input />`).css({position:`fixed`,left:`1px`,top:`1px`,width:`1px`,height:`1px`,"font-size":`0`,border:`0`,opacity:`0`}).appendTo(document.body).trigger(`focus`).trigger(`blur`).remove()},_handleToolbarClick:function(e){var t=e.target.data(`command`);t&&t!==`createTable`&&this.exec(t)},_immutablesContext:function(e){var t=n.ui.editor;if(this.options.immutables)return e.collapsed?t.Immutables.immutablesContext(e):t.RangeUtils.editableTextNodes(e).length===0},_initializeContentElement:function(){var r=this,i,a,o;if(r.textarea){if(r.window=r._createContentElement(r.options.stylesheets),i=r.document=r.window.contentDocument||r.window.document,!i.body){var s=i.createElement(`body`);s.setAttribute(`contenteditable`,`true`),s.setAttribute(`autocorrect`,`off`),i.getElementsByTagName(`html`)[0].appendChild(s);var c=setInterval(function(){e(r.document).find(`body`).length>1&&(e(r.document).find(`body`).last().remove(),window.clearInterval(c))},10)}r.body=i.body,a=r.window,o=i,this._registerHandler(i,`mouseup`,this._mouseup.bind(this))}else r.window=window,i=r.document=document,r.body=r.element[0],a=r.body,o=r.body,r._wrapSingleTextNodeInParagraph(),setTimeout(()=>{r._decorateFormatting(r.body)});this._registerHandler(a,`blur`,this._blur.bind(this)),r._registerHandler(o,`down`,r._mousedown.bind(r));try{i.execCommand(`enableInlineTableEditing`,null,!1)}catch{}n.support.touch&&this._registerHandler(i,{keydown:function(){n._activeElement()!=i.body&&r.window.focus()}}),this._initializePlaceholder(),this._spellCorrect(r),this._registerHandler(r.document,{"mouseover dragenter":function(t){var n=e(r.body).height();e(r.body.parentElement).height()>n&&t.target.nodeName.toLowerCase()===`html`&&(r._cachedHeight=``+r.body.style.height,r.body.style.height=`100%`)},"mouseout dragleave drop contextmenu":function(e){var n=function(){r._cachedHeight!==t&&e.target===r.body&&(r.body.style.height=r._cachedHeight,delete r._cachedHeight)};e.type===`contextmenu`?setTimeout(function(){n()},10):n()}}),this._registerHandler(r.body,{keydown:function(e){var t;if((e.keyCode===l.BACKSPACE||e.keyCode===l.DELETE)&&r.body.getAttribute(`contenteditable`)!==`true`)return!1;if(e.keyCode===l.F10){r.toolbar.element.find(`[tabindex=0]`).first().trigger(`focus`),r.toolbar.preventPopupHide=!0,e.preventDefault();return}else if(e.keyCode==l.LEFT||e.keyCode==l.RIGHT){t=r.getRange();var n=e.keyCode==l.LEFT,i=t[n?`startContainer`:`endContainer`],a=t[n?`startOffset`:`endOffset`],o=a+(n?-1:1),s=n?o:a;i.nodeType==3&&i.nodeValue[s]==`﻿`&&(t.setStart(i,o),t.collapse(!0),r.selectRange(t))}var c=r.tools,u=r.keyboard.toolFromShortcut(c,e),d=u?c[u].options:{};if(u&&!d.keyPressCommand)return e.preventDefault(),/^(undo|redo)$/.test(u)||r.keyboard.endTyping(!0),r.trigger(`keydown`,e),r.exec(u),r._runPostContentKeyCommands(e),!1;r.keyboard.clearTimeout(),r.keyboard.keydown(e)},keypress:function(e){setTimeout(function(){r._runPostContentKeyCommands(e),r._showElementResizeHandles()},0)},keyup:function(t){var n=[l.BACKSPACE,l.TAB,l.PAGEUP,l.PAGEDOWN,l.END,l.HOME,l.LEFT,l.UP,l.RIGHT,l.DOWN,l.INSERT,l.DELETE];(e.inArray(t.keyCode,n)>-1||t.keyCode==65&&t.ctrlKey&&!t.altKey&&!t.shiftKey)&&(window.clearTimeout(this._refreshInterval),this._refreshInterval=window.setTimeout(function(){r._selectionChange()},b)),(t.keyCode===l.BACKSPACE||t.keyCode===l.DELETE)&&r._handleSpaceAndNewLines(),r.keyboard.keyup(t)},click:function(e){var t=n.ui.editor.Dom,i;t.name(e.target)===`img`&&(i=r.createRange(),i.selectNode(e.target),r.selectRange(i))},"cut copy paste drop dragover":function(e){r.clipboard[`on`+e.type](e),r._handleSpaceAndNewLines()},focusin:function(){r.body.hasAttribute(`contenteditable`)&&(e(this).addClass(`k-active`),r._showWindow(),r._togglePlaceholder(!1))},focusout:function(){setTimeout(function(){var t=n._activeElement(),i=r.body,a=r.toolbar;if(a.options.popup){var o=r.windowInstance.element.get(0);o&&!(e.contains(o,t)||o==t)&&(a.preventPopupHide=!1)}t!=i&&!e.contains(i,t)&&!r._toolbarFocused()&&!a.preventPopupHide&&!e(t).hasClass(`k-context-menu`)&&!e(t).hasClass(`k-colorpalette`)&&(e(i).removeClass(`k-active`),r._hideWindow()),r._togglePlaceholder(!r.value().trim())},10)}}),r._initializeColumnResizing(),r._initializeRowResizing(),r._initializeElementResizing()},_initializeImmutables:function(){var e=this,t=n.ui.editor;e.options.immutables&&(e.immutables=new t.Immutables(e))},_initializePlaceholder:function(){var t=this,n=t.options.placeholder,r,i;!t.textarea||!n||(r=`<style id='${y}' ${t.options.nonce?`nonce="${t.options.nonce}"`:``} >.`+v+`:before { content: '`+n+`'; }</style>`,i=e(t.document.head),i.find(`#`+y).remove(),i.append(r),t._togglePlaceholder(!t.value().trim()))},_initToolbar:function(r){var i=this,a,o,s;if(i.tools=[],[a,o]=i._processToolbarItems(i.options.tools),i._setNativeTools(),s={tools:a,defaultTools:o,parentMessages:i.options.messages,resizable:i.options.resizable===!0||!!(i.options.resizable&&i.options.resizable.toolbar&&i.options.resizable.toolbar?.mode!==`none`),toggle:i._handleToolbarClick.bind(this),click:i._handleToolbarClick.bind(this),navigateOnTab:i.options.navigateOnTab,evaluateTemplates:!0,overflow:e.isPlainObject(i.options.resizable?.toolbar)?i.options.resizable.toolbar:t},i.toolbar=new n.ui.ToolBar(r,s),i._bindTools(),i.bind(`select`,i._refreshTools.bind(i)),r.on(`mousedown`+f,function(t){let n=e(t.target),r=n.closest(`[ref-toolbar-tool]`);!r.length||!r.data(`command`)||r.length&&n.is(`input`)||t.preventDefault()}),!i.textarea){let e=r.width();e&&e>0&&r.width(e),i._initToolbarWindow(r)}},_initToolbarWindow:function(t){var r=this;this.windowInstance=t.wrap(`<div class='editorToolbarWindow k-editor-window' />`).parent().prepend(`<span class='k-editortoolbar-dragHandle'>`+n.ui.icon(`handle-drag`)+`</span>`).kendoWindow({title:!1,resizable:!1,draggable:{dragHandle:`.k-editortoolbar-dragHandle`},animation:{open:{effects:`fade:in`},close:{effects:`fade:out`}},minHeight:42,visible:!1,autoFocus:!1,actions:[],dragend:function(){this._moved=!0}}).on(`mousedown`,function(t){e(t.target).is(`.k-icon,.k-svg-icon,svg,path,.k-editor-window,.k-editor-toolbar,.k-editortoolbar-dragHandle,[ref-toolbar-tool],[ref-toolbar-tool] *`)||(r.toolbar.preventPopupHide=!0)}).on(`focusout`,function(){r.element.focusout()}).data(`kendoWindow`)},_mousedown:function(t){var n=this;if(n._selectionStarted=!0,e(n.body).parents(`.k-window`).length&&t.stopPropagation(),!o.gecko){var r=e(t.target).closest(`a[href]`);(t.which==2||t.which==1&&t.ctrlKey)&&r&&r.is(`a[href]`)&&window.open(r.attr(`href`),`_new`),t.target.tagName&&t.target.tagName.toLowerCase()===`html`&&setTimeout(function(){n.body.focus()},0)}},_mouseup:function(t){var r=this;n.support.mobileOS.ios&&t&&e(t.target).is(_)||r._selectionStarted&&setTimeout(function(){r._selectionChange()},1)},_populateValue:function(t,r){var i=this,a=n.ui.editor,o=a.Dom,s,c;if(t&&t.value)s=t.value;else if(i.textarea){s=r.value,s.replace(/\s/g,``).length||(s=s.replace(/\s/g,``)),i.options.encoded&&r.defaultValue&&r.defaultValue.trim().length&&(s=r.defaultValue);var l=a.Serializer.htmlToDom(s,e(`<div></div>`)[0],i.options.deserialization);c=o.getAllComments(l),s=C.cacheComments(s,c),s=s.replace(/[\r\n\v\f\t ]+/gi,` `),s=C.retrieveComments(s,c)}else s=r.innerHTML;i.value(s||`﻿`)},_resetGroups:function(e){var t={};return Object.keys(e).map(n=>{t[n+`_`]=e[n]}),t},_processToolbarItems:function(r){var i={},a={},o=[],s=e.extend(!0,{},E),c,l,u,d,f;for(c=0;c<r.length;c++)if(u=r[c],Array.isArray(u))for(f=n.guid(),l=0;l<u.length;l++)[i,d]=this._processToolOptions(u[l],i),d&&(i[d].gr=f);else{if([i,d]=this._processToolOptions(u,i),d)d===`separator`&&(s=this._resetGroups(s));else continue;Object.keys(s).map(e=>{s[e].includes(d)&&(i[d].gr=e)})}return Object.values(i).map(e=>{var n=e.gr;delete e.gr,n===t?a[e.name]=e:(a[n]||(a[n]=[]),a[n].push(e))}),o=Object.values(a).map(e=>{var t=e.length?e.map(e=>e.name):e.name;return t.length===1&&(t=t[0]),t}),[o,i]},_processDefaultTool:function(t,n){var r=t.name,i={},a;if(e.isPlainObject(t))r&&n[r]?(i=s({},n[r]),s(i.options,t)):(a=s({icon:`gear`,type:`button`},t),a.name||=`custom`,a.cssClass=`k-`+a.name,i={options:a},r=a.name);else if(n[t])r=t,i=n[r];else return null;return this.tools[r]=i,i},_processToolOptions:function(r,i){var a=this,o=n.deepExtend({},n.ui.Editor.defaultTools),s=this._processDefaultTool(r,o),c,l,u,d,f,p,m,h,g;return s?(d=s.options,c=d.name,f=d.ui||{},p=C.getToolCssClass(d.name,d.icon),h=e.isPlainObject(r)?e.extend({},r):{},delete h.items,m=e.extend({name:d.name,command:d.command,template:d.template,attributes:{class:d.cssClass},type:`button`,icon:p,showText:`overflow`,showIcon:`both`},f,h),d.tooltip&&(m.attributes||={},m.attributes.title=d.tooltip),d.exec&&(m.click=d.exec.bind(a),delete m.exec),m.component===`ColorPicker`&&((d.palette!==t||f.palette!==n.ui.editor.ColorTool.fn.options.palette)&&(g=d.palette||n.ui.editor.ColorTool.fn.options.palette,l=d.palette!==t&&!d.palette?`gradient`:`palette`,m.componentOptions.palette=l===`palette`?g:t,m.componentOptions.views=[l],m.componentOptions.preview=l===`gradient`,m.componentOptions.input=l===`gradient`,m.componentOptions.buttons=l===`gradient`,l===`gradient`&&delete m.componentOptions.columns),l===`palette`&&d.columns&&(m.componentOptions.columns=d.columns)),(m.component===`DropDownList`||m.component===`ComboBox`)&&(m.componentOptions||={},m.componentOptions.dataSource||(a.options[c]&&Array.isArray(a.options[c])?m.componentOptions.dataSource=a.options[c]:m.componentOptions.dataSource=d.items)),m.template&&delete m.type,u=this._shortcutSequence(c),u!==``&&(m.attributes||={},m.attributes[`aria-keyshortcuts`]=u),i[c]=m,[i,c]):[i,null]},_refreshTools:function(){var t=this,r=t.getRange(),i=n.ui.editor,a=i.RangeUtils.textNodes(r),o=t.options.immutables,s=t._immutablesContext(r),c=t.tools;a=i.Dom.filterBy(a,i.Dom.htmlIndentSpace,!0),a.length||(a=[r.startContainer]),t.toolbar.element.find(`[data-command]`).filter((t,n)=>e(n).find(`[data-command]`).length===0).each(function(){var n=c[this.getAttribute(`data-command`)],r;n&&(r=e(this),n.update&&n.update(r,a,t.undoRedoStack),o&&t._updateImmutablesState(n,r,s))})},_registerHandler:function(t,r,i){var a=this,o=`.kendoEditor`,s,c;if(t=e(t),this._handlers||=[],t.length)if(e.isPlainObject(r))for(var l in r)r.hasOwnProperty(l)&&this._registerHandler(t,l,r[l]);else for(s=n.applyEventMap(r).split(` `),c=0;c<s.length;c++)a._handlers.push({element:t,type:s[c]+o,handler:i}),t.on(s[c]+o,i)},_runPostContentKeyCommands:function(e){let t=this.getRange(),n=this.keyboard.toolsFromShortcut(this.tools,e);for(var r=0;r<n.length;r++){var i=n[r],a=i.options;a.keyPressCommand&&new a.command({range:t}).changesContent()&&(this.keyboard.endTyping(!0),this.exec(i.name))}this._wrapSingleTextNodeInParagraph(),this._handleSpaceAndNewLines()},_wrapSingleTextNodeInParagraph:function(){let e=this.body.childNodes,t=n.ui.editor.Dom;this.textarea||e.length===1&&e[0].nodeType===t.nodeTypes.TEXT_NODE&&t.wrap(e[0],this.document.createElement(`p`))},_handleSpaceAndNewLines:function(){let e=this,t=e.options.formattingMarksRefreshDelay,r=n.ui.editor,i=r.applyFormattingMarks,a=r.clearFormattingMarksOverlay;e._toggledFormattingMarks&&(e._formattingMarksOverlay.children().length&&a(e),t?(clearTimeout(e._formattingMarksTimeout),e._formattingMarksTimeout=setTimeout(()=>i(e),t)):i(e))},_selectionChange:function(){this._selectionStarted=!1,this.saveSelection(),this.trigger(`select`,{})},_setOptionsTools:function(r){var i=this,a=i.toolbar,o=a.element,s,c,l;a.destroy(),o.empty(),i.tools=[],[s,c]=i._processToolbarItems(r),i._setNativeTools(),l={tools:s,defaultTools:c,parentMessages:i.options.messages,resizable:i.options.resizable===!0||!!(i.options.resizable&&i.options.resizable.toolbar&&i.options.resizable.toolbar?.mode!==`none`),toggle:i._handleToolbarClick.bind(this),click:i._handleToolbarClick.bind(this),overflow:e.isPlainObject(i.options.resizable?.toolbar)?i.options.resizable.toolbar:t},i.toolbar=new n.ui.ToolBar(o,l),i._bindTools()},_setNativeTools:function(){var e=n.deepExtend({},n.ui.Editor.defaultTools),t;for(t=0;t<S.length;t++)this.tools[S[t]]||(this.tools[S[t]]=e[S[t]])},_setupHeight:function(e){var t=this;e==`textarea`&&setTimeout(function(){var e=t.wrapper[0].style.height,n=parseInt(e,10),r=t.wrapper.height();e.indexOf(`px`)>0&&!isNaN(n)&&r>n&&t.wrapper.height(n-(r-n))})},_setupKeyboard:function(){var e=this,t=n.ui.editor;e.keyboard=new t.Keyboard([new t.BackspaceHandler(e),new t.TypingHandler(e),new t.SystemHandler(e),new t.SelectAllHandler(e)])},_setupType:function(t){var r=t[0],i=n.ui.editor.Dom.name(r),a=r.id,o;return a||(a=n.guid(),r.setAttribute(`id`,a)),i==`textarea`?(this._wrapTextarea(),o=this.wrapper.find(`.k-editor-toolbar`),o.attr(`aria-controls`,a)):(e(r).attr(`contenteditable`,!0).addClass(`k-editor k-editor-inline`),o=e(`<div class="k-editor-toolbar"/>`).insertBefore(t)),o},_isInlineEditor:function(){return this.element.hasClass(`k-editor-inline`)},_shortcutSequence:function(e){var t=n.ui.Editor.defaultTools[e],r=``,i;return!t||!t.options?r:(i=t.options,i.ctrl&&(r+=`Ctrl+`),i.shift&&(r+=`Shift+`),i.alt&&(r+=`Alt+`),i.key&&(r+=i.key),r)},_spellCorrect:function(e){var t,r=!1;this._registerHandler(e.body,{contextmenu:function(){e.one(`select`,function(){t=null}),e._spellCorrectTimeout=setTimeout(function(){t=new n.ui.editor.RestorePoint(e.getRange(),e.body),r=!1},10)},input:function(){if(t){if(n.support.browser.mozilla&&!r){r=!0;return}n.ui.editor._finishUpdate(e,t)}}})},_togglePlaceholder:function(t){var n=this,r=n.body,i=e(r),a=n.options.placeholder;!n.textarea||!a||(i.attr(`aria-label`,function(){return t?a:``}),i.toggleClass(v,t))},_toolbarFocused:function(){var t=n._activeElement(),r=this.windowInstance,i=this.overflowPopup;return r&&e(t).closest(r.wrapper).length||i&&i.visible()},_updateImmutablesState:function(r,i,a){let o=this.toolbar,s=r.name,c=o.overflowAnchor,l=i.closest(`[ref-toolbar-tool]`),u=r.options.trackImmutables,d=!0,f=n.ui.editor;u===t&&(u=e.inArray(s,f.Immutables.toolsToBeUpdated)>-1),c&&!c.hasClass(`k-hidden`)&&(d=(o.overflowMenu?.element.find(`[data-command="${r.options.name}"]`))?.hasClass(`k-hidden`)),u&&(a?o.hide(l):d&&o.show(l))},_wrapTextarea:function(){var t=this,n=t.element,r=n[0].style.width,i=n[0].style.height,a=e(C.editorWrapperTemplate()).insertBefore(n),o=a.find(`.k-editable-area`);a.css({width:r,height:i}),n.attr(`autocomplete`,`off`).appendTo(o).addClass(`k-content k-raw-content`).css(`display`,`none`),t.textarea=n,t.wrapper=a},_resizable:function(){let n=this,r=this.options.resizable,i=e.isPlainObject(r)?r.content===t||r.content===!0:r,a=e.isPlainObject(r.min)?r.min:{minHeight:r.min},o=e.isPlainObject(r.max)?r.max:{maxHeight:r.max};i&&this.textarea&&(n.wrapper.addClass(`k-editor-resizable`),a.minHeight&&n.wrapper.css(`min-height`,a.minHeight),o.maxHeight&&n.wrapper.css(`max-height`,o.maxHeight),a.minWidth&&n.wrapper.css(`min-width`,a.minWidth),o.maxWidth&&n.wrapper.css(`max-width`,o.maxWidth),n.resizeObserver=new ResizeObserver(()=>{clearTimeout(n._resizeTimeOut),n._resizeTimeOut=setTimeout(function(){n.toolbar.resize(),n._handleSpaceAndNewLines()},50)}),n.resizeObserver.observe(n.wrapper[0]))},_destroyResizings:function(){var e=this;e._destroyElementResizing(),n.ui.editor.ElementResizingFactory.current.dispose(e),e._destroyRowResizing(),n.ui.editor.RowResizing.dispose(e),e._destroyColumnResizing(),n.ui.editor.ColumnResizing.dispose(e)},_initializeElementResizing:function(){var e=this;n.ui.editor.ElementResizingFactory.current.create(e),e._showElementResizeHandlesProxy=e._showElementResizeHandles.bind(e),e.bind(g,e._showElementResizeHandlesProxy)},_destroyElementResizing:function(){var e=this,t=e.elementResizing;t&&(t.destroy(),e.elementResizing=null),e._showElementResizeHandlesProxy&&e.unbind(g,e._showElementResizeHandlesProxy)},_showElementResizeHandles:function(){var e=this,t=e.elementResizing;t&&t.element&&t.element.parentNode?t.showResizeHandles():t&&(!t.element||!t.element.parentNode)&&e._destroyElementResizing()},_initializeColumnResizing:function(){n.ui.editor.ColumnResizing.create(this)},_destroyColumnResizing:function(){var e=this;e.columnResizing&&=(e.columnResizing.destroy(),null)},_initializeRowResizing:function(){n.ui.editor.RowResizing.create(this)},_destroyRowResizing:function(){var e=this;e.rowResizing&&=(e.rowResizing.destroy(),null)},_getWindowWidth:function(){var e=this,t=e.windowInstance.wrapper,n=e.element;return u(n)-parseInt(t.css(`border-left-width`),10)-parseInt(t.css(`border-right-width`),10)},_hideWindow:function(){this.windowInstance&&this.windowInstance.close()},_overlapsWindow:function(e){var t=this.windowInstance.wrapper,n=t.offset(),r=n.left,i=n.top,a=e.offset(),o=a.left,s=a.top;return!(o+e.width()<r||o>r+t.width()||s+e.height()<i||s>i+t.height())},_showWindow:function(){var e=this,t=e.windowInstance,r,i,a,o=n.support.browser;t&&(r=t.wrapper,i=e.element,(!r.is(`:visible`)||!e.windowInstance.options.visible)&&(r[0].style.width||r.width(this._getWindowWidth()),t._moved||(a=i.offset(),r.css({top:Math.max(0,parseInt(a.top,10)-d(r)-parseInt(e.windowInstance.element.css(`padding-bottom`),10)),left:Math.max(0,parseInt(a.left,10))})),(o.msie||o.edge)&&e._overlapsWindow(i)?setTimeout(function(){t.open()},0):t.open()))}});D.defaultTools={},n.ui.plugin(D);var O=r.extend({init:function(e){this.options=e},command:function(e){return new this.options.command(e)},update:e.noop});O.exec=function(e,t,n){e.exec(t,{value:n})};var k=O.extend({command:e.noop,update:function(e,t,n){var r=this.options.name,i=e.closest(`.k-toolbar`).data(`kendoToolBar`);switch(r){case`undo`:i.enable(e,n.canUndo());break;case`redo`:i.enable(e,n.canRedo());break;default:break}e.removeAttr(`disabled`)}});C.registerTool(`separator`,new O({ui:{type:`separator`}})),C.registerTool(`undo`,new k({key:`Z`,ctrl:!0})),C.registerTool(`redo`,new k({key:`Y`,ctrl:!0}));var A=`﻿`,j=A;(o.msie||o.edge)&&(j=A=`&nbsp;`),s(n.ui,{editor:{EditorUtils:C,Tool:O,emptyElementContent:A,emptyTableCellContent:j}}),n.PDFMixin&&(n.PDFMixin.extend(D.prototype),D.prototype._drawPDF=function(){return n.drawing.drawDOM(this.body,this.options.pdf)},D.prototype.saveAsPDF=function(){var t=new e.Deferred,r=t.promise(),i={promise:r};if(!this.trigger(`pdfExport`,i)){var a=this.options.pdf;return this._drawPDF(t).then(function(e){return n.drawing.exportPDF(e,a)}).done(function(e){n.saveAs({dataURI:e,fileName:a.fileName,proxyURL:a.proxyURL,proxyTarget:a.proxyTarget,forceProxy:a.forceProxy}),t.resolve()}).fail(function(e){t.reject(e)}),r}})})(window.kendo.jQuery),(function(e){var t=window.kendo,n=e.map,r=e.extend,i=t.support.browser,a=`style`,o=`float`,s=`cssFloat`,c=`styleFloat`,l=`class`,u=`k-marker`;function d(e){var t={},n,r;for(n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t}var f=d(`area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed`.split(`,`)),p=`p,div,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption`.split(`,`),m=p.concat([`ul`,`ol`,`li`]),h=d(m),g=d(`area,base,br,col,command,embed,hr,img,input,keygen,link,menuitem,meta,param,source,track,wbr`.split(`,`)),_=`span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby`.split(`,`),v=d(_),y=d(`checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected`.split(`,`)),b=[`hgroup`,`ol`,`ul`,`dl`,`object`,`video`,`audio`,`table`,`colgroup`,`tbody`,`thead`,`tfoot`,`tr`,`select`,`optgroup`],x=function(e){e.nodeType==1&&e.normalize()};i.msie&&i.version>=8&&(x=function(e){if(e.nodeType==1&&e.firstChild){var t=e.firstChild,n=t;for(x(n);n=n.nextSibling,n;)x(n),n.nodeType==3&&t.nodeType==3&&(n.nodeValue=t.nodeValue+n.nodeValue,M.remove(t)),t=n}});var S=/^\s+$/,C=/^[\n\r\t]+$/,w=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,T=/\ufeff/g,E=/^(\s+|\ufeff)$/,D,O=`color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height`.split(`,`),k=/[<>&]/g,A=/[\u00A0-\u2666<>&]/g,j={34:`quot`,38:`amp`,39:`apos`,60:`lt`,62:`gt`,160:`nbsp`,161:`iexcl`,162:`cent`,163:`pound`,164:`curren`,165:`yen`,166:`brvbar`,167:`sect`,168:`uml`,169:`copy`,170:`ordf`,171:`laquo`,172:`not`,173:`shy`,174:`reg`,175:`macr`,176:`deg`,177:`plusmn`,178:`sup2`,179:`sup3`,180:`acute`,181:`micro`,182:`para`,183:`middot`,184:`cedil`,185:`sup1`,186:`ordm`,187:`raquo`,188:`frac14`,189:`frac12`,190:`frac34`,191:`iquest`,192:`Agrave`,193:`Aacute`,194:`Acirc`,195:`Atilde`,196:`Auml`,197:`Aring`,198:`AElig`,199:`Ccedil`,200:`Egrave`,201:`Eacute`,202:`Ecirc`,203:`Euml`,204:`Igrave`,205:`Iacute`,206:`Icirc`,207:`Iuml`,208:`ETH`,209:`Ntilde`,210:`Ograve`,211:`Oacute`,212:`Ocirc`,213:`Otilde`,214:`Ouml`,215:`times`,216:`Oslash`,217:`Ugrave`,218:`Uacute`,219:`Ucirc`,220:`Uuml`,221:`Yacute`,222:`THORN`,223:`szlig`,224:`agrave`,225:`aacute`,226:`acirc`,227:`atilde`,228:`auml`,229:`aring`,230:`aelig`,231:`ccedil`,232:`egrave`,233:`eacute`,234:`ecirc`,235:`euml`,236:`igrave`,237:`iacute`,238:`icirc`,239:`iuml`,240:`eth`,241:`ntilde`,242:`ograve`,243:`oacute`,244:`ocirc`,245:`otilde`,246:`ouml`,247:`divide`,248:`oslash`,249:`ugrave`,250:`uacute`,251:`ucirc`,252:`uuml`,253:`yacute`,254:`thorn`,255:`yuml`,402:`fnof`,913:`Alpha`,914:`Beta`,915:`Gamma`,916:`Delta`,917:`Epsilon`,918:`Zeta`,919:`Eta`,920:`Theta`,921:`Iota`,922:`Kappa`,923:`Lambda`,924:`Mu`,925:`Nu`,926:`Xi`,927:`Omicron`,928:`Pi`,929:`Rho`,931:`Sigma`,932:`Tau`,933:`Upsilon`,934:`Phi`,935:`Chi`,936:`Psi`,937:`Omega`,945:`alpha`,946:`beta`,947:`gamma`,948:`delta`,949:`epsilon`,950:`zeta`,951:`eta`,952:`theta`,953:`iota`,954:`kappa`,955:`lambda`,956:`mu`,957:`nu`,958:`xi`,959:`omicron`,960:`pi`,961:`rho`,962:`sigmaf`,963:`sigma`,964:`tau`,965:`upsilon`,966:`phi`,967:`chi`,968:`psi`,969:`omega`,977:`thetasym`,978:`upsih`,982:`piv`,8226:`bull`,8230:`hellip`,8242:`prime`,8243:`Prime`,8254:`oline`,8260:`frasl`,8472:`weierp`,8465:`image`,8476:`real`,8482:`trade`,8501:`alefsym`,8592:`larr`,8593:`uarr`,8594:`rarr`,8595:`darr`,8596:`harr`,8629:`crarr`,8656:`lArr`,8657:`uArr`,8658:`rArr`,8659:`dArr`,8660:`hArr`,8704:`forall`,8706:`part`,8707:`exist`,8709:`empty`,8711:`nabla`,8712:`isin`,8713:`notin`,8715:`ni`,8719:`prod`,8721:`sum`,8722:`minus`,8727:`lowast`,8730:`radic`,8733:`prop`,8734:`infin`,8736:`ang`,8743:`and`,8744:`or`,8745:`cap`,8746:`cup`,8747:`int`,8756:`there4`,8764:`sim`,8773:`cong`,8776:`asymp`,8800:`ne`,8801:`equiv`,8804:`le`,8805:`ge`,8834:`sub`,8835:`sup`,8836:`nsub`,8838:`sube`,8839:`supe`,8853:`oplus`,8855:`otimes`,8869:`perp`,8901:`sdot`,8968:`lceil`,8969:`rceil`,8970:`lfloor`,8971:`rfloor`,9001:`lang`,9002:`rang`,9674:`loz`,9824:`spades`,9827:`clubs`,9829:`hearts`,9830:`diams`,338:`OElig`,339:`oelig`,352:`Scaron`,353:`scaron`,376:`Yuml`,710:`circ`,732:`tilde`,8194:`ensp`,8195:`emsp`,8201:`thinsp`,8204:`zwnj`,8205:`zwj`,8206:`lrm`,8207:`rlm`,8211:`ndash`,8212:`mdash`,8216:`lsquo`,8217:`rsquo`,8218:`sbquo`,8220:`ldquo`,8221:`rdquo`,8222:`bdquo`,8224:`dagger`,8225:`Dagger`,8240:`permil`,8249:`lsaquo`,8250:`rsaquo`,8364:`euro`},M={block:h,inline:v,findNodeIndex:function(e,t){var n=0;if(!e)return-1;for(;e=e.previousSibling,e;)t&&e.nodeType==3||n++;return n},isDataNode:function(e){return e&&e.nodeValue!==null&&e.data!==null},isAncestorOf:function(t,n){try{return!M.isDataNode(t)&&(e.contains(t,M.isDataNode(n)?n.parentNode:n)||n.parentNode==t)}catch{return!1}},isAncestorOrSelf:function(e,t){return M.isAncestorOf(e,t)||e==t},findClosestAncestor:function(e,t){if(M.isAncestorOf(e,t))for(;t&&t.parentNode!=e;)t=t.parentNode;return t},getAllComments:function(e){for(var t=[],n=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,function(){return NodeFilter.FILTER_ACCEPT},!1),r=n.nextNode();r;)t.push(r.nodeValue),r=n.nextNode();return t},getNodeLength:function(e){return M.isDataNode(e)?e.length:e.childNodes.length},splitDataNode:function(e,t){for(var n=e.cloneNode(!1),r=``,i=e.nextSibling,a;i&&i.nodeType==3&&i.nodeValue;)r+=i.nodeValue,a=i,i=i.nextSibling,M.remove(a);e.deleteData(t,e.length),n.deleteData(0,t),n.nodeValue+=r,M.insertAfter(n,e)},attrEquals:function(e,n){for(var r in n){var i=e[r];if(r==o&&(i=e[t.support.cssFloat?s:c]),typeof i==`object`){if(!M.attrEquals(i,n[r]))return!1}else if(i!=n[r])return!1}return!0},blockParentOrBody:function(e){return M.parentOfType(e,m)||e.ownerDocument.body},blockParents:function(t){var n=[],r,i;for(r=0,i=t.length;r<i;r++){var a=M.parentOfType(t[r],M.blockElements);a&&e.inArray(a,n)<0&&n.push(a)}return n},windowFromDocument:function(e){return e.defaultView||e.parentWindow},normalize:x,blockElements:m,nonListBlockElements:p,inlineElements:_,empty:f,fillAttrs:y,nodeTypes:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},toHex:function(e){var t=w.exec(e);return t?`#`+n(t.slice(1),function(e){return e=parseInt(e,10).toString(16),e.length>1?e:`0`+e}).join(``):e},encode:function(e,t){var n=!t||t.entities?A:k;return e.replace(n,function(e){var t=j[e.charCodeAt(0)];return t?`&`+t+`;`:e})},isBom:function(e){return e&&e.nodeType===3&&/^[\ufeff]+$/.test(e.nodeValue)},stripBom:function(e){return(e||``).replace(T,``)},stripBomNode:function(e){M.isBom(e)&&e.parentNode.removeChild(e)},insignificant:function(e){var t=e.attributes;return e.className==`k-marker`||M.is(e,`br`)&&(e.className==`k-br`||t._moz_dirty||t._moz_editor_bogus_node)||M.is(e,`span`)&&e.className==`k-br`},tableCell:function(e){return M.is(e,`td`)||M.is(e,`th`)},significantNodes:function(t){return e.grep(t,function(e){var t=M.name(e);return!(t==`br`||M.insignificant(e)||M.emptyTextNode(e)||e.nodeType==1&&!f[t]&&M.emptyNode(e))})},emptyTextNode:function(e){return e&&e.nodeType==3&&E.test(e.nodeValue)},emptyNode:function(e){return e.nodeType==1&&!M.significantNodes(e.childNodes).length},name:function(e){return e.nodeName.toLowerCase()},significantChildNodes:function(t){return e.grep(t.childNodes,function(e){return e.nodeType!=3||!M.isWhitespace(e)})},getTextNodes:function(e,t){let n=e.childNodes;t||=[];for(let r of n)r.nodeType===this.nodeTypes.TEXT_NODE&&(m.includes(M.name(r.parentNode))||_.includes(M.name(r.parentNode))||r.parentNode===e)?t.push(r):r.nodeType===this.nodeTypes.ELEMENT_NODE&&this.getTextNodes(r,t);return t},lastTextNode:function(e){var t=null;if(e.nodeType==3)return e;for(var n=e.lastChild;n;n=n.previousSibling)if(t=M.lastTextNode(n),t)return t;return t},is:function(e,t){return e&&M.name(e)==t},isMarker:function(e){return e.className==u},isWhitespace:function(e){return S.test(e.nodeValue)},allowsTextContent:function(e){var t=!0;return b.every(function(n){return M.is(e,n)?(t=!1,!1):!0}),t},allWhitespaceContent:function(e){for(var t=e.firstChild;t&&M.isWhitespace(t);)t=t.nextSibling;return!t},isEmptyspace:function(e){return C.test(e.nodeValue)},htmlIndentSpace:function(t){if(!(M.isDataNode(t)&&M.isWhitespace(t)))return!1;if(C.test(t.nodeValue))return!0;var n=function(e,t){for(;e[t];)if(e=e[t],M.significantNodes([e]).length>0)return e},r=t.parentNode,i=n(t,`previousSibling`),a=n(t,`nextSibling`);if(T.test(t.nodeValue))return!!(i||a);if(e(r).is(`tr,tbody,thead,tfoot,table,ol,ul`))return!0;if(M.isBlock(r)||M.is(r,`body`)){var o=i&&M.isBlock(i),s=a&&M.isBlock(a);if(!a&&o||!i&&s||o&&s)return!0}return!1},isBlock:function(e){return h[M.name(e)]},isSelfClosing:function(e){return g[M.name(e)]},isEmpty:function(e){return f[M.name(e)]},isInline:function(e){return v[M.name(e)]},isImg:function(e){return M.name(e)==`img`},isBr:function(e){return M.name(e)==`br`},list:function(e){var t=e?M.name(e):``;return t==`ul`||t==`ol`||t==`dl`},scrollContainer:function(e){var t=M.windowFromDocument(e),n=(t.contentWindow||t).document||t.ownerDocument||t;return n=n.compatMode==`BackCompat`?n.body:n.scrollingElement||n.documentElement,n},scrollTo:function(t,n){var r=t.ownerDocument,i=M.windowFromDocument(r).innerHeight,a=M.scrollContainer(r),o,s,c,l;M.isDataNode(t)?n?(l=M.create(r,`span`,{innerHTML:`&#xfeff;`}),M.insertBefore(l,t),o=e(l)):o=e(t.parentNode):o=e(t),s=o.offset().top,c=o[0].offsetHeight,(n||!c)&&(c=parseInt(o.css(`line-height`),10)||Math.ceil(1.2*parseInt(o.css(`font-size`),10))||15),l&&M.remove(l),c+s>a.scrollTop+i&&(a.scrollTop=c+s-i)},persistScrollTop:function(e){D=M.scrollContainer(e).scrollTop},offset:function(e,t){for(var n={top:e.offsetTop,left:e.offsetLeft},r=e.offsetParent;r&&(!t||M.isAncestorOf(t,r));)n.top+=r.offsetTop,n.left+=r.offsetLeft,r=r.offsetParent;return n},restoreScrollTop:function(e){typeof D==`number`&&(M.scrollContainer(e).scrollTop=D,D=void 0)},insertAt:function(e,t,n){e.insertBefore(t,e.childNodes[n]||null)},insertBefore:function(e,t){return t.parentNode?t.parentNode.insertBefore(e,t):t},insertAfter:function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},remove:function(e){e.parentNode&&e.parentNode.removeChild(e)},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},removeTextSiblings:function(e){for(var t=e.parentNode;e.nextSibling&&e.nextSibling.nodeType==3;)t.removeChild(e.nextSibling);for(;e.previousSibling&&e.previousSibling.nodeType==3;)t.removeChild(e.previousSibling)},trim:function(e){for(var t=e.childNodes.length-1;t>=0;t--){var n=e.childNodes[t];M.isDataNode(n)?M.stripBom(n.nodeValue).length||M.remove(n):n.className!=u&&(M.trim(n),(!M.isEmpty(n)&&n.childNodes.length===0||M.isBlock(n)&&M.allWhitespaceContent(n))&&M.remove(n))}return e},closest:function(e,t){for(typeof t==`string`&&(t=[t]);e&&t.indexOf(M.name(e))<0;)e=e.parentNode;return e},closestBy:function(e,t,n){for(;e&&!t(e);){if(n&&n(e))return null;e=e.parentNode}return e},sibling:function(e,t){do e=e[t];while(e&&e.nodeType!=1);return e},next:function(e){return M.sibling(e,`nextSibling`)},prev:function(e){return M.sibling(e,`previousSibling`)},parentOfType:function(e,t){do e=e.parentNode;while(e&&!M.ofType(e,t));return e},ofType:function(t,n){return e.inArray(M.name(t),n)>=0},changeTag:function(e,t,n){var r=M.create(e.ownerDocument,t),i=e.attributes,o,s,c,u,d;if(!n)for(o=0,s=i.length;o<s;o++)d=i[o],d.specified&&(c=d.nodeName,u=d.nodeValue,c==l?r.className=u:c==a?r.style.cssText=e.style.cssText:r.setAttribute(c,u));for(;e.firstChild;)r.appendChild(e.firstChild);return M.insertBefore(r,e),M.remove(e),r},editableParent:function(e){for(;e&&(e.nodeType==3||e.contentEditable!==`true`);)e=e.parentNode;return e},wrap:function(e,t){return M.insertBefore(t,e),t.appendChild(e),t},unwrap:function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},wrapper:function(t){var n=M.closestBy(t,function(e){return e.parentNode&&M.significantNodes(e.parentNode.childNodes).length>1});return e(n).is(`body,.k-editor`)?void 0:n},isChildOfBaseContainer:function(t){return e(t).parent().is(`body,.k-editor`)},create:function(e,t,n){return M.attr(e.createElement(t),n)},createEmptyNode:function(e,t,n){var r=M.attr(e.createElement(t),n);return r.innerHTML=`﻿`,r},attr:function(e,t){for(var n in t=r({},t),t&&a in t&&(M.style(e,t.style),delete t.style),t)t[n]===null?(e.removeAttribute(n),delete t[n]):n==`className`&&(e[n]=t[n]);return r(e,t)},mergeAttributes:function(t,n,r){t.attributes.length&&e.each(t.attributes,function(){this.name!==`contenteditable`&&(!r||this.name!==a)&&e(n).attr(this.name,this.value),r&&this.name===a&&e.each(t.style,function(){n.style[this]=t.style[this]})})},style:function(t,n){e(t).css(n||{})},unstyle:function(e,n){for(var r in n)r==o?e.style[t.support.cssFloat?s:c]=``:e.style[r]=``;e.style.cssText===``&&e.removeAttribute(a)},inlineStyle:function(t,r,a){var o=e(M.create(t.ownerDocument,r,a)),s;return t.appendChild(o[0]),s=n(O,function(e){return i.msie&&e==`line-height`&&o.css(e)==`1px`?`line-height:1.5`:e+`:`+o.css(e)}).join(`;`),o.remove(),s},getEffectiveBackground:function(e){var t=e.css(`background-color`)||``;return t.indexOf(`rgba(0, 0, 0, 0`)<0&&t!==`transparent`?t:e[0].tagName.toLowerCase()===`html`?`Window`:M.getEffectiveBackground(e.parent())},innerText:function(e){var t=e.innerHTML;return t=t.replace(/<!--(.|\s)*?-->/gi,``),t=t.replace(/<\/?[^>]+?\/?>/gm,``),t},removeClass:function(e,n){var r=` `+e.className+` `,i=n.split(` `),a,o;for(a=0,o=i.length;a<o;a++)r=r.replace(` `+i[a]+` `,` `);r=t.trim(r),r.length?e.className=r:e.removeAttribute(l)},commonAncestor:function(){var e=arguments.length,t=[],n=1/0,r=null,i,a,o,s,c;if(!e)return null;if(e==1)return arguments[0];for(i=0;i<e;i++){for(a=[],o=arguments[i];o;)a.push(o),o=o.parentNode;t.push(a.reverse()),n=Math.min(n,a.length)}if(e==1)return t[0][0];for(i=0;i<n;i++){for(s=t[0][i],c=1;c<e;c++)if(s!=t[c][i])return r;r=s}return r},closestSplittableParent:function(t){var r=t.length==1?M.parentOfType(t[0],[`ul`,`ol`]):M.commonAncestor.apply(null,t);r||=M.parentOfType(t[0],[`p`,`td`])||t[0].ownerDocument.body,M.isInline(r)&&(r=M.blockParentOrBody(r));var i=n(t,M.editableParent),a=M.commonAncestor(i)[0];return e.contains(r,a)&&(r=a),r},closestEditable:function(t,n){var r,i=M.editableParent(t);return r=M.ofType(t,n)?t:M.parentOfType(t,n),(r&&i&&e.contains(r,i)||!r&&i)&&(r=i),r},closestEditableOfType:function(t,n){var r=M.closestEditable(t,n);if(r&&M.ofType(r,n)&&!e(r).is(`.k-editor`))return r},filter:function(e,t,n){return M.filterBy(t,function(t){return M.name(t)==e},n)},filterBy:function(e,t,n){for(var r=0,i=e.length,a=[],o;r<i;r++)o=t(e[r]),(o&&!n||!o&&n)&&a.push(e[r]);return a},ensureTrailingBreaks:function(t){var n=e(t).find(`p,td,th`),r=n.length,i=0;if(r)for(;i<r;i++)M.ensureTrailingBreak(n[i]);else M.ensureTrailingBreak(t)},removeTrailingBreak:function(t){e(t).find(`br[type=_moz],.k-br`).remove()},ensureTrailingBreak:function(e){M.removeTrailingBreak(e);var t=e.lastChild,n=t&&M.name(t),r;(!n||n!=`br`&&n!=`img`||n==`br`&&t.className!=`k-br`)&&(r=e.ownerDocument.createElement(`br`),r.className=`k-br`,e.appendChild(r))},reMapTableColumns:function(e,t){M._mapColIndices(e,t)},clearTableMappings:function(t,n){e(t).find(`[`+n+`]`).removeAttr(n)},_mapColIndices:function(e,t){for(var n={},r=0;r<e.rows.length;r++)for(var i=e.rows[r].cells,a=0,o=0;o<i.length;o++){var s=i[o];if(s.rowSpan>1&&this._mapColspan(s,r,a,n),n[r])for(;n[r][a];)a++;s.setAttribute(t,a),s.colSpan>1&&(a=a+s.colSpan-1),a++}},_mapColspan:function(e,t,n,r){for(var i=e.rowSpan,a=e.colSpan,o,s=0;s<a;s++){o=n+s;for(var c=t+1;c<t+i;c++){if(r[c]||(r[c]={},r[c].length=0),r[t])for(;r[t][o];)o++;r[c][o]=!0,r[c].length++}}},associateWithIds:function(e){var t=this,n=0,r=e.rows,i=r.length,a=[],o=[],s,c;if(e.tHead)s=e.tHead.rows,n=s.length;else for(n=t._getNumberOfHeaderRows(e),s=[],c=0;c<n;c++)s.push(r[c]);for(c=0;c<n;c++)a.push([]);for(c=0;c<i;c++)o.push([]);t._generateIdsForColumns(a,s),t._generateIdsForRows(a,o,n,r),t._assignIds(a,o,n,r)},_generateIdsForColumns:function(e,t){var n=new Date().getTime(),r=t?t.length:0,i,a,o,s,c,l,u,d,f,p,m;for(d=0;d<r;d++)for(i=t[d],a=i.cells,s=0,f=0;f<a.length;f++){for(o=a[f],c=`table`+d+f+ ++n,o.setAttribute(`id`,c),l=o.getAttribute(`colspan`)||1,u=o.getAttribute(`rowspan`)||1;e[d][f+s];)s+=1;for(p=0;p<u;p++)for(m=0;m<l;m++)e[d+p][f+s+m]=c}},_generateIdsForRows:function(t,n,r,i){var a=this,o=new Date().getTime(),s=i.length,c,l,u,d,f,p,m,h,g,_,v,y,b,x=function(e){b.push(e[y])};for(h=r;h<s;h++)for(c=i[h],l=e(c.cells).filter(`th`),d=0,g=0;g<l.length;g++){for(u=l[g],f=`table`+h+g+ ++o,u.setAttribute(`id`,f),p=u.getAttribute(`colspan`)||1,m=u.getAttribute(`rowspan`)||1;n[h][g+d];)d+=1;for(_=0;_<m;_++)for(v=0;v<p;v++)n[h+_][g+d+v]=f;y=u.getAttribute(`col-index`),b=[],t.forEach(x),b=b.filter(a._onlyUnique),u.setAttribute(`headers`,b.join(` `).trim())}},_assignIds:function(t,n,r,i){var a=this,o=i.length,s,c,l,u,d,f,p,m=function(e){p.push(e[f])};for(u=r;u<o;u++)for(s=i[u],c=e(s.cells).filter(`td`),d=0;d<c.length;d++)l=c[d],f=l.getAttribute(`col-index`),p=n[u].slice(),t.forEach(m),p=p.filter(a._onlyUnique),l.setAttribute(`headers`,p.join(` `).trim())},_getNumberOfColumns:function(t){var n=e(t).find(`th, td`),r=0,i,a,o;for(a=0;a<n.length;a++)i=n[a],o=Number(i.getAttribute(`col-index`))+1,o>r&&(r=o);return r},_getNumberOfHeaderColumns:function(e,t){var n=e.rows,r=0,i,a,o,s,c;for(o=t;o<n.length;o++)for(a=n[o],s=0;s<a.cells.length;s++)c=a.cells[s],this.is(c,`th`)&&(i=Number(c.getAttribute(`col-index`))+1,i>r&&(r=i));return r},_getNumberOfHeaderRows:function(e){var t=e.rows,n=e.tHead&&e.tHead.rows?e.tHead.rows.length:0,r,i,a,o;if(n===0)for(i=t[0],o=i.cells&&i.cells.length;i&&o&&this.is(i.cells[0],`th`);){for(r=0;r<o;r++)a=i?i.cells[r]:null,this.is(a,`th`)||(i=null);i&&(n+=1,i=this.next(i),o=i&&i.cells&&i.cells.length)}return n},_onlyUnique:function(e,t,n){return n.indexOf(e)===t}};t.ui.editor.Dom=M})(window.kendo.jQuery),(function(e,t){var n=window.kendo,r=n.ui.editor,i=r.Dom,a=e.extend,o=`xx-small,x-small,small,medium,large,x-large,xx-large`.split(`,`),s=/"/g,c=/<br[^>]*>/i,l=/^\d+(\.\d*)?(px)?$/i,u=/<p>(?:&nbsp;)?<\/p>/i,d=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/g,f=/^sizzle-\d+/i,p=/^k-script-/i,m=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,h=`<br class="k-br">`,g=`<span class='k-br'>﻿</span>`,_=document.createElement(`div`);_.innerHTML=` <hr>`;var v=_.firstChild.nodeType===3;_=null;var y=n.isFunction,b=`td`,x={toEditableHtml:function(e){return(e||``).replace(/<!\[CDATA\[(.*)?\]\]>/g,`<!--[CDATA[$1]]-->`).replace(/<(\/?)script([^>]*)>/gi,`<$1k:script$2>`).replace(/<img([^>]*)>/gi,function(e){return e.replace(m,``)}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,`$1`).replace(/^<(table|blockquote)/i,h+`<$1`).replace(/^[\s]*(&nbsp;|\u00a0)/i,`$1`).replace(/<\/(table|blockquote)>$/i,`</$1>`+h)},_toEditableImmutables:function(t){for(var n=r.Immutables.immutable,a=i.emptyTextNode,o=t.firstChild,s=t.lastChild;a(o);)o=o.nextSibling;for(;a(s);)s=s.previousSibling;o&&n(o)&&e(g).prependTo(t),s&&n(s)&&e(g).appendTo(t)},_fillEmptyElements:function(t){e(t).find(`p,td`).each(function(){var t=e(this);if(/^\s*$/g.test(t.text())&&!t.find(`img,input`).length){for(var r=this;r.children[0]&&r.children[0].nodeType!=3;)r=r.children[0];r.nodeType==1&&!i.empty[i.name(r)]&&(i.is(r,`td`)?r.innerHTML=n.ui.editor.emptyTableCellContent:r.innerHTML=n.ui.editor.emptyElementContent)}})},_removeSystemElements:function(t){e(`.k-paste-container`,t).remove()},_resetOrderedLists:function(e){var t=e.getElementsByTagName(`ol`),n,r,i;for(n=0;n<t.length;n++)r=t[n],i=r.getAttribute(`start`),r.setAttribute(`start`,1),i?r.setAttribute(`start`,i):r.removeAttribute(i)},_preventScriptExecution:function(t){e(t).find(`*`).each(function(){var e=this.attributes,t,n,r,i,a=[];for(n=0,r=e.length;n<r;n++)t=e[n],i=t.nodeName,t.specified&&/^on/i.test(i)&&(this.setAttribute(`k-script-`+i,t.value),a.push(i));for(n=0,r=a.length;n<r;n++)this.removeAttribute(a[n])})},htmlToDom:function(t,r,a){var o=n.support.browser.msie,s=a||{},c=s.immutables;return t=x.toEditableHtml(t),y(s.custom)&&(t=s.custom(t)||t),r.innerHTML=t,c&&c.deserialize(r),o&&(i.normalize(r),x._resetOrderedLists(r)),x._preventScriptExecution(r),x._fillEmptyElements(r),x._removeSystemElements(r),x._toEditableImmutables(r),e(`table`,r).addClass(`k-table`),r},domToXhtml:function(a,m){var h=[],g=m&&m.immutables;function _(t){return e.grep(t,function(e){return e.name!=`style`})}function y(e,t){h.push(`<`+t),T(e),h.push(`>`)}var x={iframe:{start:function(e){y(e,`iframe`)},end:function(){h.push(`</iframe>`)}},"k:script":{start:function(e){y(e,`script`)},end:function(){h.push(`<\/script>`)},skipEncoding:!0},span:{canOptimize:!0,semantic:!0,start:function(t){var n=t.style,r=_(w(t));r.length&&(h.push(`<span`),T(t,r),h.push(`>`)),(n.textDecoration==`underline`||n.textDecorationLine==`underline`)&&h.push(`<u>`);var a=[];if(n.color&&a.push(`color="`+i.toHex(n.color)+`"`),n.fontFamily&&a.push(`face="`+n.fontFamily+`"`),n.fontSize){var s=e.inArray(n.fontSize,o);a.push(`size="`+s+`"`)}var c=[],l=[`text-decoration`,`text-decoration-line`,`color`,`font`];for(let e=0;e<n.length;e++){var u=n[e];l.filter(e=>u.startsWith(e)).length<=0&&c.push(`${u}: ${n[u]}`)}c.length&&a.push(`style="`+c.join(`;`)+`"`),a.length&&h.push(`<font `+a.join(` `)+`>`)},end:function(e){var t=e.style;(t.color||t.fontFamily||t.fontSize)&&h.push(`</font>`),(t.textDecoration==`underline`||t.textDecorationLine==`underline`)&&h.push(`</u>`),_(w(e)).length&&h.push(`</span>`)}},strong:{semantic:!0,start:function(e){y(e,`b`)},end:function(){h.push(`</b>`)}},em:{semantic:!0,start:function(e){y(e,`i`)},end:function(){h.push(`</i>`)}},b:{semantic:!1,start:function(e){y(e,`strong`)},end:function(){h.push(`</strong>`)}},i:{semantic:!1,start:function(e){y(e,`em`)},end:function(){h.push(`</em>`)}},u:{semantic:!1,start:function(t){h.push(`<span`);var n=w(t),r=e(n).filter(function(e,t){return t.name==`style`})[0],i={nodeName:`style`,value:`text-decoration:underline;`};r&&(i.value=r.value.replace(/text-decoration-line\s*:\s*underline;?/i,``),/text-decoration/i.test(i.value)||(i.value=`text-decoration:underline;`+i.value),n.splice(e.inArray(r,n),1)),n.push(i),T(t,n),h.push(`>`)},end:function(){h.push(`</span>`)}},font:{canOptimize:!0,semantic:!1,start:function(e){h.push(`<span style="`);var t=e.getAttribute(`color`),n=o[e.getAttribute(`size`)],r=e.getAttribute(`face`);t&&(h.push(`color:`),h.push(i.toHex(t)),h.push(`;`)),r&&(h.push(`font-family:`),h.push(r),h.push(`;`)),n&&(h.push(`font-size:`),h.push(n),h.push(`;`)),h.push(`">`)},end:function(){h.push(`</span>`)}}};x.script=x[`k:script`],m||={},m.semantic===void 0&&(m.semantic=!0);function S(e){var t=n.trim,r=t(e),a,o,c,l=[];for(d.lastIndex=0;a=d.exec(r),a;)o=t(a[1].toLowerCase()),c=t(a[2]),!(o==`font-size-adjust`||o==`font-stretch`)&&(o.indexOf(`color`)>=0?c=i.toHex(c):o.indexOf(`font`)>=0?c=c.replace(s,`'`):/\burl\(/g.test(c)&&(c=c.replace(s,``)),l.push({property:o,value:c}));return l}function C(e){var t=S(e),n;for(n=0;n<t.length;n++)h.push(t[n].property),h.push(`:`),h.push(t[n].value),h.push(`;`)}function w(e){var t=[],n=e.attributes,r,a,o,s,c,l;for(a=0,o=n.length;a<o;a++)r=n[a],s=r.nodeName,c=r.value,l=r.specified,s==`value`&&`value`in e&&e.value||s==`type`&&c==`text`?l=!0:s==`class`&&!c||f.test(s)||s==`complete`||s==`altHtml`||s==`start`&&i.is(e,`ul`)||s==`start`&&i.is(e,`ol`)&&c==`1`||s.indexOf(`_moz`)>=0?l=!1:p.test(s)?l=!!m.scripts:s==`data-role`&&c==`resizable`&&(i.is(e,`tr`)||i.is(e,`td`))&&(l=!1),l&&t.push(r);return t}function T(r,a){var o,s,c,u,d;if(a||=w(r),i.is(r,`img`)){var f=r.style.width,m=r.style.height,g=e(r);f&&l.test(f)&&(g.attr(`width`,parseInt(f,10)),i.unstyle(r,{width:t})),m&&l.test(m)&&(g.attr(`height`,parseInt(m,10)),i.unstyle(r,{height:t}))}if(a.length)for(o=0,s=a.length;o<s;o++)c=a[o],u=c.nodeName,d=c.value,!(u==`class`&&d==`k-table`)&&(u=u.replace(p,``),h.push(` `),h.push(u),h.push(`="`),u==`style`?C(d||r.style.cssText):u==`src`||u==`href`?h.push(n.htmlEncode(r.getAttribute(u,2))):h.push(i.fillAttrs[u]?u:d),h.push(`"`))}function E(e,t,n){for(var r=e.firstChild;r;r=r.nextSibling)k(r,t,n)}function D(e){return e.nodeValue.replace(/\ufeff/g,``)}function O(e){if(i.isBom(e)){do{if(e=e.parentNode,i.is(e,b)&&e.childNodes.length===1)return!0;if(e.childNodes.length!==1)return!1}while(!i.isBlock(e));return!0}return!1}function k(t,n,a){var o=t.nodeType,s,c,l,u,d,f;if(g&&r.Immutables.immutable(t))h.push(g.serialize(t));else if(o==1){if(s=i.name(t),f=e(t),f.hasClass(`k-element-resize-handle-wrapper`)||f.hasClass(`k-column-resize-handle-wrapper`)||f.hasClass(`k-row-resize-handle-wrapper`)||!s||i.insignificant(t)||!m.scripts&&(s==`script`||s==`k:script`))return;if(c=x[s],c){if(c.canOptimize&&m.optimizeTags&&A(t)){E(t,!1,c.skipEncoding);return}if(c.semantic===void 0||m.semantic^c.semantic){c.start(t),E(t,!1,c.skipEncoding),c.end(t);return}}h.push(`<`),h.push(s),T(t),i.empty[s]?h.push(` />`):(h.push(`>`),E(t,n||i.is(t,`pre`)),h.push(`</`),h.push(s),h.push(`>`))}else if(o==3){if(O(t)){h.push(`&nbsp;`);return}u=D(t),!n&&v&&(l=t.parentNode,d=t.previousSibling,d||=(i.isInline(l)?l:t).previousSibling,(!d||d.innerHTML===``||i.isBlock(d))&&(u=m.keepEOL?u.replace(/[\r\n\v\f\t ]+/,` `):u.replace(/^[\r\n\v\f\t ]+/,``)),u=u.replace(/ +/,` `)),h.push(a?u:i.encode(u,m))}else o==4?(h.push(`<![CDATA[`),h.push(t.data),h.push(`]]>`)):o==8&&(t.data.indexOf(`[CDATA[`)<0?(h.push(`<!--`),h.push(t.data),h.push(`-->`)):(h.push(`<!`),h.push(t.data),h.push(`>`)))}function A(e){return e.attributes.length===0}function j(e){var t=e.childNodes.length;return t&&e.firstChild.nodeType==3&&(t==1||t==2&&i.insignificant(e.lastChild))}function M(){n.isFunction(m.custom)&&(h=m.custom(h)||h)}return j(a)?(h=i.encode(D(a.firstChild).replace(/[\r\n\v\f\t ]+/,` `),m),M(),h):(E(a),h=h.join(``),M(),h.replace(c,``).replace(u,``)===``?``:h)}};a(r,{Serializer:x})})(window.kendo.jQuery),(function(e){var t=window.kendo,n=t.Class,r=e.extend,i=t.ui.editor,a=t.support.browser,o=i.Dom,s=o.findNodeIndex,c=o.isDataNode,l=o.findClosestAncestor,u=o.getNodeLength,d=o.normalize,f={selectionFromWindow:function(e){if(e)return`getSelection`in e?e.getSelection():new v(e.document)},selectionFromRange:function(e){var t=O.documentFromRange(e);return f.selectionFromDocument(t)},selectionFromDocument:function(e){return f.selectionFromWindow(o.windowFromDocument(e))}},p=n.extend({init:function(t){e.extend(this,{ownerDocument:t,startContainer:t,endContainer:t,commonAncestorContainer:t,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(e,t){this.startContainer=e,this.startOffset=t,g(this),h(this,!0)},setEnd:function(e,t){this.endContainer=e,this.endOffset=t,g(this),h(this,!1)},setStartBefore:function(e){this.setStart(e.parentNode,s(e))},setStartAfter:function(e){this.setStart(e.parentNode,s(e)+1)},setEndBefore:function(e){this.setEnd(e.parentNode,s(e))},setEndAfter:function(e){this.setEnd(e.parentNode,s(e)+1)},selectNode:function(e){this.setStartBefore(e),this.setEndAfter(e)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e[e.nodeType===1?`childNodes`:`nodeValue`].length)},collapse:function(e){var t=this;e?t.setEnd(t.startContainer,t.startOffset):t.setStart(t.endContainer,t.endOffset)},deleteContents:function(){var e=this,t=e.cloneRange();e.startContainer!=e.commonAncestorContainer&&e.setStartAfter(l(e.commonAncestorContainer,e.startContainer)),e.collapse(!0),(function e(t){for(;t.next();)t.hasPartialSubtree()?e(t.getSubtreeIterator()):t.remove()})(new _(t))},cloneContents:function(){var e=O.documentFromRange(this);return(function t(n){for(var r,i=e.createDocumentFragment();r=n.next();)r=r.cloneNode(!n.hasPartialSubtree()),n.hasPartialSubtree()&&r.appendChild(t(n.getSubtreeIterator())),i.appendChild(r);return i})(new _(this))},extractContents:function(){var e=this,t=e.cloneRange();e.startContainer!=e.commonAncestorContainer&&e.setStartAfter(l(e.commonAncestorContainer,e.startContainer)),e.collapse(!0);var n=O.documentFromRange(e);return(function t(r){for(var i,a=n.createDocumentFragment();i=r.next();)r.hasPartialSubtree()?(i=i.cloneNode(!1),i.appendChild(t(r.getSubtreeIterator()))):r.remove(e.originalRange),a.appendChild(i);return a})(new _(t))},insertNode:function(e){var t=this;c(t.startContainer)?(t.startOffset!=t.startContainer.nodeValue.length&&o.splitDataNode(t.startContainer,t.startOffset),o.insertAfter(e,t.startContainer)):o.insertAt(t.startContainer,e,t.startOffset),t.setStart(t.startContainer,t.startOffset)},cloneRange:function(){return e.extend(new p(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var e=this.startContainer.nodeName,t=this.endContainer.nodeName;return[e==`#text`?this.startContainer.nodeValue:e,`(`,this.startOffset,`) : `,t==`#text`?this.endContainer.nodeValue:t,`(`,this.endOffset,`)`].join(``)}});p.fromNode=function(e){return new p(e.ownerDocument)};function m(e,t,n,r){if(e==t)return r-n;for(var i=t;i&&i.parentNode!=e;)i=i.parentNode;if(i)return s(i)-n;for(i=e;i&&i.parentNode!=t;)i=i.parentNode;if(i)return r-s(i)-1;for(var a=o.commonAncestor(e,t),c=e;c&&c.parentNode!=a;)c=c.parentNode;c||=a;for(var l=t;l&&l.parentNode!=a;)l=l.parentNode;return l||=a,c==l?0:s(l)-s(c)}function h(e,t){function n(e){try{return m(e.startContainer,e.endContainer,e.startOffset,e.endOffset)<0}catch{return!0}}n(e)&&(t?(e.commonAncestorContainer=e.endContainer=e.startContainer,e.endOffset=e.startOffset):(e.commonAncestorContainer=e.startContainer=e.endContainer,e.startOffset=e.endOffset),e.collapsed=!0)}function g(e){e.collapsed=e.startContainer==e.endContainer&&e.startOffset==e.endOffset;for(var t=e.startContainer;t&&t!=e.endContainer&&!o.isAncestorOf(t,e.endContainer);)t=t.parentNode;e.commonAncestorContainer=t}var _=n.extend({init:function(t){if(e.extend(this,{range:t,_current:null,_next:null,_end:null}),!t.collapsed){var n=t.commonAncestorContainer;this._next=t.startContainer==n&&!c(t.startContainer)?t.startContainer.childNodes[t.startOffset]:l(n,t.startContainer),this._end=t.endContainer==n&&!c(t.endContainer)?t.endContainer.childNodes[t.endOffset]:l(n,t.endContainer).nextSibling}},hasNext:function(){return!!this._next},next:function(){var e=this,t=e._current=e._next;return e._next=e._current&&e._current.nextSibling!=e._end?e._current.nextSibling:null,c(e._current)&&(e.range.endContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(e.range.endOffset,t.length-e.range.endOffset)),e.range.startContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(0,e.range.startOffset))),t},traverse:function(e){var t=this,n;function r(){return t._current=t._next,t._next=t._current&&t._current.nextSibling!=t._end?t._current.nextSibling:null,t._current}for(;n=r();)t.hasPartialSubtree()?t.getSubtreeIterator().traverse(e):e(n);return n},remove:function(e){var t=this,n=t.range.startContainer==t._current,r=t.range.endContainer==t._current,i,a,l;if(c(t._current)&&(n||r))i=n?t.range.startOffset:0,a=r?t.range.endOffset:t._current.length,l=a-i,e&&(n||r)&&(t._current==e.startContainer&&i<=e.startOffset&&(e.startOffset-=l),t._current==e.endContainer&&a<=e.endOffset&&(e.endOffset-=l)),t._current.deleteData(i,l);else{var u=t._current.parentNode;if(e&&(t.range.startContainer==u||t.range.endContainer==u)){var d=s(t._current);u==e.startContainer&&d<=e.startOffset&&--e.startOffset,u==e.endContainer&&d<e.endOffset&&--e.endOffset}o.remove(t._current)}},hasPartialSubtree:function(){return!c(this._current)&&(o.isAncestorOrSelf(this._current,this.range.startContainer)||o.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){return new _(this.getSubRange())},getSubRange:function(){var e=this,t=e.range.cloneRange();return t.selectNodeContents(e._current),o.isAncestorOrSelf(e._current,e.range.startContainer)&&t.setStart(e.range.startContainer,e.range.startOffset),o.isAncestorOrSelf(e._current,e.range.endContainer)&&t.setEnd(e.range.endContainer,e.range.endOffset),t}}),v=n.extend({init:function(e){this.ownerDocument=e,this.rangeCount=1},addRange:function(e){var t=this.ownerDocument.body.createTextRange();b(t,e,!1),b(t,e,!0),t.select()},removeAllRanges:function(){var e=this.ownerDocument.selection;e.type!=`None`&&e.empty()},getRangeAt:function(){var e,t=new p(this.ownerDocument),n=this.ownerDocument.selection,r,i;try{if(e=n.createRange(),r=e.item?e.item(0):e.parentElement(),r.ownerDocument!=this.ownerDocument)return t}catch{return t}if(n.type==`Control`)t.selectNode(e.item(0));else{i=y(e),x(e,t,i,!0),x(e,t,i,!1),t.startContainer.nodeType==9&&t.setStart(t.endContainer,t.startOffset),t.endContainer.nodeType==9&&t.setEnd(t.startContainer,t.endOffset),e.compareEndPoints(`StartToEnd`,e)===0&&t.collapse(!1);var a=t.startContainer,o=t.endContainer,l=this.ownerDocument.body;if(!t.collapsed&&t.startOffset===0&&t.endOffset==u(t.endContainer)&&!(a==o&&c(a)&&a.parentNode==l)){for(var d=!1,f=!1;s(a)===0&&a==a.parentNode.firstChild&&a!=l;)a=a.parentNode,d=!0;for(;s(o)==u(o.parentNode)-1&&o==o.parentNode.lastChild&&o!=l;)o=o.parentNode,f=!0;a==l&&o==l&&d&&f&&(t.setStart(a,0),t.setEnd(o,u(l)))}}return t}});function y(e){var t=e.duplicate(),n=e.duplicate();return t.collapse(!0),n.collapse(!1),o.commonAncestor(e.parentElement(),t.parentElement(),n.parentElement())}function b(e,t,n){var r=t[n?`startContainer`:`endContainer`],i=t[n?`startOffset`:`endOffset`],a=0,s=c(r),l=s?r:r.childNodes[i]||null,u=s?r.parentNode:r,d=t.ownerDocument,f=d.body.createTextRange(),p;(r.nodeType==3||r.nodeType==4)&&(a=i),u||=d.body,u.nodeName.toLowerCase()==`img`?(f.moveToElementText(u),f.collapse(!1),e.setEndPoint(n?`StartToStart`:`EndToStart`,f)):(p=u.insertBefore(o.create(d,`a`),l),f.moveToElementText(p),o.remove(p),f[n?`moveStart`:`moveEnd`](`character`,a),f.collapse(!1),e.setEndPoint(n?`StartToStart`:`EndToStart`,f))}function x(e,t,n,r){var i=o.create(t.ownerDocument,`a`),a=e.duplicate(),l=r?`StartToStart`:`StartToEnd`,u,d,f,p,m,h,g,_=!1;i.innerHTML=`﻿`,a.collapse(r),d=a.parentElement(),o.isAncestorOrSelf(n,d)||(d=n);do _?d.insertBefore(i,i.previousSibling):(d.appendChild(i),_=!0),a.moveToElementText(i);while((u=a.compareEndPoints(l,e))>0&&i.previousSibling);f=i.nextSibling,u==-1&&c(f)?(a.setEndPoint(r?`EndToStart`:`EndToEnd`,e),o.remove(i),h=[f,a.text.length]):(p=!r&&i.previousSibling,m=r&&i.nextSibling,c(m)?h=[m,0]:c(p)?h=[p,p.length]:(g=s(i),h=d.nextSibling&&g==d.childNodes.length-1?[d.nextSibling,0]:[d,g]),o.remove(i)),t[r?`setStart`:`setEnd`](...h)}var S=n.extend({init:function(e){this.enumerate=function(){var t=[];function n(e){if(o.is(e,`img`)||e.nodeType==3&&(!o.isEmptyspace(e)||e.nodeValue==`﻿`))t.push(e);else for(e=e.firstChild;e;)n(e),e=e.nextSibling}return new _(e).traverse(n),t}}}),C=_.extend({hasPartialSubtree:function(){var e=i.Immutables&&i.Immutables.immutable;return e&&!e(this._current)&&_.fn.hasPartialSubtree.call(this)},getSubtreeIterator:function(){return new C(this.getSubRange())}}),w=n.extend({init:function(e){this.enumerate=function(){var t=[],n=i.Immutables&&i.Immutables.immutable;function r(e){if(n&&!n(e))if(o.is(e,`img`)||e.nodeType==3&&(!o.isEmptyspace(e)||e.nodeValue==`﻿`))t.push(e);else for(e=e.firstChild;e;)r(e),e=e.nextSibling}return new C(e).traverse(r),t}}}),T=n.extend({init:function(e,t,n){var r=this;r.range=e,r.rootNode=O.documentFromRange(e),r.body=t||r.getEditable(e),o.name(r.body)!=`body`&&(r.rootNode=r.body),r.startContainer=r.nodeToPath(e.startContainer),r.endContainer=r.nodeToPath(e.endContainer),r.startOffset=r.offset(e.startContainer,e.startOffset),r.endOffset=r.offset(e.endContainer,e.endOffset),r.immutables=n&&n.immutables,r.immutables&&(r.serializedImmutables=i.Immutables.removeImmutables(r.body)),r.html=r.body.innerHTML,r.immutables&&!r.serializedImmutables.empty&&i.Immutables.restoreImmutables(r.body,r.serializedImmutables)},index:function(e){for(var t=0,n=e.nodeType;e=e.previousSibling;){var r=e.nodeType;(r!=3||n!=r)&&t++,n=r}return t},getEditable:function(e){for(var t=e.commonAncestorContainer;t&&(t.nodeType==3||t.attributes&&(!t.attributes.contentEditable||t.attributes.contentEditable.nodeValue.toLowerCase()==`false`));)t=t.parentNode;return t},restoreHtml:function(){var e=this;o.removeChildren(e.body),e.body.innerHTML=e.html,e.immutables&&!e.serializedImmutables.empty&&i.Immutables.restoreImmutables(e.body,e.serializedImmutables)},offset:function(e,t){if(e.nodeType==3)for(;(e=e.previousSibling)&&e.nodeType==3;)t+=e.nodeValue.length;return t},nodeToPath:function(e){for(var t=[];e!=this.rootNode;)t.push(this.index(e)),e=e.parentNode;return t},toRangePoint:function(e,t,n,r){for(var i=this.rootNode,a=n.length,o=r;a--&&i;)i=i.childNodes[n[a]];for(;i&&i.nodeType==3&&i.nodeValue.length<o;)o-=i.nodeValue.length,i=i.nextSibling;i&&o>=0&&e[t?`setStart`:`setEnd`](i,o)},toRange:function(){var e=this,t=e.range.cloneRange();return e.toRangePoint(t,!0,e.startContainer,e.startOffset),e.toRangePoint(t,!1,e.endContainer,e.endOffset),t}}),E=n.extend({init:function(){this.caret=null},addCaret:function(e){var t=this,n=t.caret=o.create(O.documentFromRange(e),`span`,{className:`k-marker`});return e.insertNode(n),o.stripBomNode(n.previousSibling),o.stripBomNode(n.nextSibling),e.selectNode(n),n},removeCaret:function(e){var t=this,n=t.caret.previousSibling,r=0;n&&(r=c(n)?n.nodeValue.length:s(n));var i=t.caret.parentNode,l=n?s(n):0;o.remove(t.caret),d(i);var u=i.childNodes[l];if(c(u))e.setStart(u,r);else if(u){var f=o.lastTextNode(u);f?e.setStart(f,f.nodeValue.length):e[n?`setStartAfter`:`setStartBefore`](u)}else !a.msie&&!i.innerHTML&&(i.innerHTML=`<br _moz_dirty="" />`),e.selectNodeContents(i);e.collapse(!0)},add:function(e,t){var n=this,r=e.collapsed&&!O.isExpandable(e),i=O.documentFromRange(e);t&&e.collapsed&&(n.addCaret(e),e=O.expand(e));var a=e.cloneRange();if(a.collapse(!1),n.end=o.create(i,`span`,{className:`k-marker`}),a.insertNode(n.end),a=e.cloneRange(),a.collapse(!0),n.start=n.end.cloneNode(!0),a.insertNode(n.start),n._removeDeadMarkers(n.start,n.end),r){var s=i.createTextNode(`﻿`);o.insertAfter(s.cloneNode(),n.start),o.insertBefore(s,n.end)}return d(e.commonAncestorContainer),e.setStartBefore(n.start),e.setEndAfter(n.end),e},_removeDeadMarkers:function(e,t){e.previousSibling&&e.previousSibling.nodeValue==`﻿`&&o.remove(e.previousSibling),t.nextSibling&&t.nextSibling.nodeValue==`﻿`&&o.remove(t.nextSibling)},_normalizedIndex:function(e){for(var t=s(e),n=e;n.previousSibling;)n.nodeType==3&&n.previousSibling.nodeType==3&&t--,n=n.previousSibling;return t},remove:function(e){var t=this,n=t.start,r=t.end;for(d(e.commonAncestorContainer);!n.nextSibling&&n.parentNode;)n=n.parentNode;for(;!r.previousSibling&&r.parentNode;)r=r.parentNode;n.previousSibling&&n.previousSibling.nodeType==3&&n.nextSibling&&n.nextSibling.nodeType,r.previousSibling&&r.previousSibling.nodeType==3&&r.nextSibling&&r.nextSibling.nodeType,n=n.nextSibling,r=r.previousSibling;var i=n===r&&o.isBom(n);i&&n.length>1&&(n.nodeValue=n.nodeValue.charAt(0));var a=i,s=!1;if(n==t.end&&(s=!!t.start.previousSibling,n=r=t.start.previousSibling||t.end.nextSibling,a=!0),o.remove(t.start),o.remove(t.end),!n||!r){e.selectNodeContents(e.commonAncestorContainer),e.collapse(!0);return}var l=a?c(n)?n.nodeValue.length:n.childNodes.length:0,u=c(r)?r.nodeValue.length:r.childNodes.length;if(n.nodeType==3)for(;n.previousSibling&&n.previousSibling.nodeType==3;)n=n.previousSibling,l+=n.nodeValue.length;if(r.nodeType==3)for(;r.previousSibling&&r.previousSibling.nodeType==3;)r=r.previousSibling,u+=r.nodeValue.length;var f=n.parentNode,p=r.parentNode,m=this._normalizedIndex(n),h=this._normalizedIndex(r);d(f),n.nodeType==3&&(n=f.childNodes[m]),d(p),r.nodeType==3&&(r=p.childNodes[h]),a?(n.nodeType==3?e.setStart(n,l):e[s?`setStartAfter`:`setStartBefore`](n),e.collapse(!0)):(n.nodeType==3?e.setStart(n,l):e.setStartBefore(n),r.nodeType==3?e.setEnd(r,u):e.setEndAfter(r)),t.caret&&t.removeCaret(e)}}),D=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,O={nodes:function(e){var t=O.textNodes(e);return t.length||(e.selectNodeContents(e.commonAncestorContainer),t=O.textNodes(e),t.length||(t=o.significantChildNodes(e.commonAncestorContainer))),t},textNodes:function(e){return new S(e).enumerate().filter(function(e){return o.allowsTextContent(e.parentElement)})},editableTextNodes:function(e){var t=[],n=i.Immutables&&i.Immutables.immutableParent,r=[];return n&&!n(e.commonAncestorContainer)&&(t=new w(e).enumerate(),r=t.filter(function(e){return o.allowsTextContent(e.parentElement)})),r},documentFromRange:function(e){var t=e.startContainer;return t.nodeType==9?t:t.ownerDocument},createRange:function(e){return e.createRange()},selectRange:function(e){var t=O.image(e);t&&(e.setStartAfter(t),e.setEndAfter(t));var n=f.selectionFromRange(e);n.removeAllRanges(),n.addRange(e)},stringify:function(e){return t.format(`{0}:{1} - {2}:{3}`,o.name(e.startContainer),e.startOffset,o.name(e.endContainer),e.endOffset)},split:function(e,t,n){function r(r){var i=e.cloneRange();i.collapse(r),i[r?`setStartBefore`:`setEndAfter`](t);var a=i.extractContents();n&&(a=o.trim(a)),o[r?`insertBefore`:`insertAfter`](a,t)}r(!0),r(!1)},mapAll:function(t,n){var r=[];return new _(t).traverse(function(t){var i=n(t);i&&e.inArray(i,r)<0&&r.push(i)}),r},getAll:function(e,t){var n=t;return typeof t==`string`&&(t=function(e){return o.is(e,n)}),O.mapAll(e,function(e){if(t(e))return e})},getMarkers:function(e){return O.getAll(e,function(e){return e.className==`k-marker`})},image:function(e){var t=O.getAll(e,`img`);if(t.length==1)return t[0]},isStartOf:function(e,t){if(e.startOffset!==0)return!1;for(var n=e.cloneRange();n.startOffset===0&&n.startContainer!=t;){for(var r=o.findNodeIndex(n.startContainer),i=n.startContainer.parentNode;r>0&&i[r-1]&&o.insignificant(i[r-1]);)r--;n.setStart(i,r)}return n.startOffset===0&&n.startContainer==t},isEndOf:function(e,t){var n=e.cloneRange();n.collapse(!1);var r=n.startContainer;o.isDataNode(r)&&n.startOffset==o.getNodeLength(r)&&(n.setStart(r.parentNode,o.findNodeIndex(r)+1),n.collapse(!0)),n.setEnd(t,o.getNodeLength(t));var i=[];function a(e){!o.insignificant(e)&&!(o.isDataNode(e)&&/^[\ufeff]*$/.test(e.nodeValue))&&i.push(e)}return new _(n).traverse(a),!i.length},wrapSelectedElements:function(e){for(var t=o.editableParent(e.startContainer),n=o.editableParent(e.endContainer);e.startOffset===0&&e.startContainer!=t;)e.setStart(e.startContainer.parentNode,o.findNodeIndex(e.startContainer));function r(e,t){var n=o.getNodeLength(t);if(e==n)return!0;for(var r=e;r<n;r++)if(!o.insignificant(t.childNodes[r]))return!1;return!0}for(;r(e.endOffset,e.endContainer)&&e.endContainer!=n;)e.setEnd(e.endContainer.parentNode,o.findNodeIndex(e.endContainer)+1);return e},expand:function(e){var t=e.cloneRange(),n=t.startContainer.childNodes[t.startOffset===0?0:t.startOffset-1],r=t.endContainer.childNodes[t.endOffset];if(!c(n)||!c(r))return t;var i=n.nodeValue,a=r.nodeValue;if(!i||!a)return t;var o=i.split(``).reverse().join(``).search(D),s=a.search(D);return!o||!s?t:(s=s==-1?a.length:s,o=o==-1?0:i.length-o,t.setStart(n,o),t.setEnd(r,s),t)},isExpandable:function(e){var t=e.startContainer,n=O.documentFromRange(e);if(t==n||t==n.body)return!1;var r=e.cloneRange(),i=t.nodeValue;if(!i)return!1;var a=i.substring(0,r.startOffset),o=i.substring(r.startOffset),s=0,c=0;return a&&(s=a.split(``).reverse().join(``).search(D)),o&&(c=o.search(D)),s&&c}};r(i,{SelectionUtils:f,W3CRange:p,RangeIterator:_,W3CSelection:v,RangeEnumerator:S,RestorePoint:T,Marker:E,RangeUtils:O})})(window.kendo.jQuery),(function(e,t){var n=window.kendo,r=n.Class,i=n.ui.editor,a=i.Dom,o=n.template,s=i.RangeUtils,c=[`ul`,`ol`,`tbody`,`thead`,`table`],l=[`bold`,`italic`,`underline`,`strikethrough`,`superscript`,`subscript`,`forecolor`,`backcolor`,`fontname`,`fontsize`,`createlink`,`unlink`,`autolink`,`addcolumnleft`,`addcolumnright`,`addrowabove`,`addrowbelow`,`deleterow`,`deletecolumn`,`mergecells`,`formatting`,`cleanformatting`],u=`k-immutable`,d=`[`+u+`]`,f=`[contenteditable='false']`,p=function(t){return e(t).is(`body,.k-editor`)},m=function(e){return e.getAttribute&&e.getAttribute(`contenteditable`)==`false`},h=function(e){return a.closestBy(e,m,p)},g=function(e){var t=h(e.startContainer),n=h(e.endContainer);(t||n)&&(t&&e.setStartBefore(t),n&&e.setEndAfter(n))},_=function(e){return h(e.commonAncestorContainer)?!0:!!((h(e.startContainer)||h(e.endContainer))&&s.editableTextNodes(e).length===0)},v=function(e){for(var t=``,n=`0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ`,r=e||10;r>0;--r)t+=n.charAt(Math.round(Math.random()*(n.length-1)));return t},y=function(t){var n={empty:!0},r,i,o;return e(t).find(f).each(function(t,s){r=a.name(s),i=v(),o=`<`+r+` `+u+`='`+i+`'></`+r+`>`,n[i]={node:s,style:e(s).attr(`style`)},n.empty=!1,e(s).replaceWith(o)}),n},b=function(t,n){var r,i;e(t).find(d).each(function(t,a){r=a.getAttribute(u),i=n[r],e(a).replaceWith(i.node),i.style!=e(i.node).attr(`style`)&&e(i.node).removeAttr(`style`).attr(`style`,i.style)})},x=function(e){var t=n.keys;return e===t.BACKSPACE||e==t.DELETE},S=function(e){var n=e?e.options:t;n&&n.finder&&n.finder._initOptions({immutables:!0})},C=r.extend({init:function(t){this.editor=t,this.serializedImmutables={},this.options=e.extend({},t&&t.options&&t.options.immutables);var r=n.ui.Editor.defaultTools;S(r.justifyLeft),S(r.justifyCenter),S(r.justifyRight),S(r.justifyFull)},serialize:function(e){var t=this._toHtml(e),n;return t.indexOf(u)===-1?(n=this.randomId(),t=t.replace(/>/,` `+u+`="`+n+`">`)):n=t.match(/k-immutable\s*=\s*['"](.*)['"]/)[1],this.serializedImmutables[n]=e,t},_toHtml:function(e){var t=this.options.serialization,n=typeof t,r;switch(n){case`string`:return o(t)(e);case`function`:return t(e);default:return r=a.name(e),`<`+r+`></`+r+`>`}},deserialize:function(t){var r=this,i=this.options.deserialization;e(d,t).each(function(){var t=this.getAttribute(u),a=r.serializedImmutables[t];n.isFunction(i)&&i(this,a),e(this).replaceWith(a)}),r.serializedImmutables={}},randomId:function(e){return v(e)},keydown:function(e,t){var n=x(e.keyCode);if(n&&this._cancelDeleting(e,t)||!n&&this._cancelTyping(e,t))return e.preventDefault(),!0},_cancelTyping:function(e,t){var n=this.editor.keyboard;return t.collapsed&&!n.typingInProgress&&n.isTypingKey(e)&&_(t)},_cancelDeleting:function(e,t){var r=n.keys,i=e.keyCode===r.BACKSPACE,o=e.keyCode==r.DELETE;if(!i&&!o)return!1;var s=!1;if(t.collapsed){if(_(t))return!0;var l=this.nextImmutable(t,o);if(l&&i){var u=a.closest(t.commonAncestorContainer,`li`);if(u){var d=a.closest(l,`li`);if(d&&d!==u)return s}}if(l&&!a.tableCell(l)){if(a.parentOfType(l,c)===a.parentOfType(t.commonAncestorContainer,c)){for(;l&&l.parentNode.childNodes.length==1;)l=l.parentNode;if(a.tableCell(l))return s;this._removeImmutable(l,t)}s=!0}}return s},nextImmutable:function(e,t){var n=e.commonAncestorContainer;if(a.isBom(n)||t&&s.isEndOf(e,n)||!t&&s.isStartOf(e,n)){var r=this._nextNode(n,t);if(r&&a.isBlock(r)&&!h(r))for(;r&&r.children&&r.children[t?0:r.children.length-1];)r=r.children[t?0:r.children.length-1];return h(r)}},_removeImmutable:function(e,t){var n=this.editor,r=new i.RestorePoint(t,n.body);a.remove(e),i._finishUpdate(n,r)},_nextNode:function(e,t){for(var n=t?`nextSibling`:`previousSibling`,r=e,i;r&&!i&&!a.isChildOfBaseContainer(r);)i=r[n],i&&a.isDataNode(i)&&/^\s|[\ufeff]$/.test(i.nodeValue)&&(r=i,i=r[n]),i||(r=r.parentNode);return i}});C.immutable=m,C.immutableParent=h,C.expandImmutablesIn=g,C.immutablesContext=_,C.toolsToBeUpdated=l,C.removeImmutables=y,C.restoreImmutables=b,i.Immutables=C})(window.kendo.jQuery),(function(e){var t=window.kendo,n=t.Class,r=t.ui.editor,i=r.Dom,a=r.RestorePoint,o=r.Marker,s=e.extend;function c(e,t){var n=e.selectionRestorePoint=new a(e.getRange(),e.body),r=new u(t,n);return r.editor=e,e.undoRedoStack.push(r),e._refreshTools(),n}var l=n.extend({init:function(e){this.options=e,this.restorePoint=new a(e.range,e.body,{immutables:e.immutables}),this.marker=new o,this.formatter=e.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(e){return this.marker.add(this.getRange(),e)},releaseRange:function(e){this.marker.remove(e),this.editor.selectRange(e)},undo:function(){var e=this.restorePoint;e.restoreHtml(),this.editor.selectRange(e.toRange())},redo:function(){this.exec()},createDialog:function(n,r){var i=this.editor;return e(n).appendTo(document.body).kendoWindow(s({},i.options.dialogOptions,r)).closest(`.k-window`).addClass(`k-editor-window`).toggleClass(`k-rtl`,t.support.isRtl(i.wrapper)).end()},exec:function(){var e=this.lockRange(!0);this.formatter.editor=this.editor,this.formatter.toggle(e),this.releaseRange(e)},postExec:function(){this.editor._handleSpaceAndNewLines()},immutables:function(){return this.editor&&this.editor.options.immutables},expandImmutablesIn:function(e){this.immutables()&&(t.ui.editor.Immutables.expandImmutablesIn(e),this.restorePoint=new a(e,this.editor.body))},_actionButtonsTemplate:function({messages:e,insertButtonIcon:n,cancelButtonIcon:r}){return`<div class="k-actions k-actions-start k-actions-horizontal k-window-buttons">`+t.html.renderButton(`<button class="k-dialog-insert">${e.dialogInsert}</button>`,{themeColor:`primary`,icon:n})+t.html.renderButton(`<button class="k-dialog-close">${e.dialogCancel}</button>`,{icon:r})+`</div>`}}),u=n.extend({init:function(e,t){this.body=e.body,this.startRestorePoint=e,this.endRestorePoint=t},redo:function(){i.removeChildren(this.body),this.body.innerHTML=this.endRestorePoint.html,this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){i.removeChildren(this.body),this.body.innerHTML=this.startRestorePoint.html,this.editor.selectRange(this.startRestorePoint.toRange())}});s(r,{_finishUpdate:c,Command:l,GenericCommand:u})})(window.kendo.jQuery),(function(e,t){var n=window.kendo,r=e.extend,i=n.ui.editor,a=i.EditorUtils,o=i.Command,s=i.Tool,c=i.Dom,l=o.extend({init:function(e){var t=this;t.options=e,o.fn.init.call(t,e),t.attributes=null,t.async=!0},exec:function(){var r=this,i=r.editor,o=i.options,s=i.options.messages,u=e(n.template(l.template)(s)).appendTo(document.body),d=`.k-editor-textarea > textarea`,f,p;o.serialization.immutables=i.immutables,p=c.getAllComments(i.body),f=a.cacheComments(i.value(),p),f=l.indent(f),f=a.retrieveComments(f,p),o.serialization.immutables=t;function m(e){o.deserialization.immutables=i.immutables,i.value(u.find(d).val()),o.deserialization.immutables=t,h(e),r.change&&r.change(),i.trigger(`change`)}function h(e){e.preventDefault(),u.data(`kendoWindow`).destroy(),i.immutables&&(i.immutables.serializedImmutables={}),i.focus()}let g=this.createDialog(u,{title:s.viewHtml,_footerTemplate:l._footerTemplate,_footerMessages:s,width:600,height:400,resizable:!0,close:h,visible:!1}).find(d).val(f).end().data(`kendoWindow`);g.center().open(),g.wrapper.find(`.k-dialog-update`).on(`click`,m).end(),g.wrapper.find(`.k-dialog-close`).on(`click`,h).end(),u.find(d).trigger(`focus`)}});r(l,{template:()=>`<div class="k-editor-dialog k-popup-edit-form k-viewhtml-dialog"><span class="k-input k-textarea k-editor-textarea"><textarea class="k-input-inner !k-overflow-auto !k-resize-none"></textarea></span></div>`,_footerTemplate:({dialogUpdate:e,dialogCancel:t})=>`<div class="k-actions k-actions-start k-actions-horizontal k-window-actions">`+n.html.renderButton(`<button class="k-dialog-update">${n.htmlEncode(e)}</button>`,{themeColor:`primary`,icon:`check`})+n.html.renderButton(`<button class="k-dialog-close">${n.htmlEncode(t)}</button>`,{icon:`cancel-outline`})+`</div>`,indent:function(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,`</$1>
`).replace(/<(ul|ol)([^>]*)><li/gi,`<$1$2>
<li`).replace(/<br \/>/gi,`<br />
`).replace(/\n$/,``)}}),n.ui.editor.ViewHtmlCommand=l,i.EditorUtils.registerTool(`viewHtml`,new s({command:l}))})(window.kendo.jQuery),(function(e){var t=window.kendo,n=e.extend,r=t.ui.editor,i=r.Tool,a=r.Command,o=r.EditorUtils,s=a.extend({init:function(e){e.formatter=e.formatter();var t=e.formatter.finder;t&&o.formatByName(`immutable`,t.format)&&(t._initOptions({immutables:e.immutables}),e.finder&&e.finder._initOptions({immutables:e.immutables})),a.fn.init.call(this,e)}}),c=i.extend({init:function(e){i.fn.init.call(this,e)},command:function(e){var t=this;return new s(n(e,{formatter:t.options.formatter,finder:t.options.finder}))},update:function(e,t){var n=this.options.finder.isFormatted(t),r=e.closest(`.k-toolbar`).getKendoToolBar();r&&e.getKendoToggleButton()&&r.toggle(e,n)}});e.extend(r,{FormatCommand:s,FormatTool:c})})(window.kendo.jQuery),(function(e){var t=window.kendo,n=t.Class,r=t.ui.editor,i=t.ui.Editor.fn.options.formats,a=r.Tool,o=r.FormatTool,s=r.Dom,c=r.RangeUtils,l=e.extend,u=r.EditorUtils.registerTool,d=r.EditorUtils.registerFormat,f=`mousedown.kendoEditor`,p=`keydown.kendoEditor`,m=`k-marker`,h=n.extend({init:function(e){this.format=e},numberOfSiblings:function(e){var t=0,n=0,r=0,i=e.parentNode,a;for(a=i.firstChild;a;a=a.nextSibling)a!=e&&(a.className==m?r++:a.nodeType==3?t++:n++);return r>1&&i.firstChild.className==m&&i.lastChild.className==m?0:n+t},findSuitable:function(e,t){if(!t&&this.numberOfSiblings(e)>0)return null;for(var n=e.parentNode,r=this.format[0].tags;!s.ofType(n,r);){if(this.numberOfSiblings(n)>0)return null;n=n.parentNode}return n},findFormat:function(e){var t=this.format,n=s.attrEquals,r,i,a,o,c;for(r=0,i=t.length;r<i;r++){if(a=e,o=t[r].tags,c=t[r].attr,a&&s.ofType(a,o)&&n(a,c))return a;for(;a;)if(a=s.parentOfType(a,o),a&&n(a,c))return a}return null},isFormatted:function(e){var t,n;for(t=0,n=e.length;t<n;t++)if(this.findFormat(e[t]))return!0;return!1}}),g=n.extend({init:function(e,t){this.finder=new h(e),this.attributes=l({},e[0].attr,t),this.tag=e[0].tags[0]},wrap:function(e){return s.wrap(e,s.create(e.ownerDocument,this.tag,this.attributes))},activate:function(e,t){this.finder.isFormatted(t)?(this.split(e),this.remove(t)):this.apply(t)},toggle:function(e){var t=(this.immutables()?c.editableTextNodes:c.textNodes)(e);t.length>0&&this.activate(e,t)},immutables:function(){return this.editor&&this.editor.options.immutables},apply:function(e){var t=[],n,r,i,a;if(e.length>1)for(n=0,r=e.length;n<r;n++)i=e[n],a=this.format(i,!0),t.push(a);else i=e[0],this.format(i,!1);this.consolidate(t)},format:function(e,t){var n=this.finder.findSuitable(e),r=this.attributes,i=r&&r.style||{};if(n)s.is(n,`font`)&&(i.color&&n.removeAttribute(`color`),i.fontName&&n.removeAttribute(`face`),i.fontSize&&n.removeAttribute(`size`)),s.attr(n,r);else{if(t)for(;!s.isBlock(e.parentNode)&&e.parentNode.childNodes.length==1&&e.parentNode.contentEditable!==`true`;)e=e.parentNode;n=this.wrap(e)}return n},remove:function(e){var t,n,r;for(t=0,n=e.length;t<n;t++)r=this.finder.findFormat(e[t]),r&&(this.attributes&&this.attributes.style?(s.unstyle(r,this.attributes.style),!r.style.cssText&&!r.attributes.class&&s.unwrap(r)):s.unwrap(r))},split:function(e){var t=c.textNodes(e),n=t.length,r,i;if(n>0)for(r=0;r<n;r++)i=this.finder.findFormat(t[r]),i&&c.split(e,i,!0)},consolidate:function(e){for(var t,n;e.length>1;)if(t=e.pop(),n=e[e.length-1],t.previousSibling&&t.previousSibling.className==m&&n.appendChild(t.previousSibling),t.tagName==n.tagName&&t.previousSibling==n&&t.style.cssText==n.style.cssText&&t.className===n.className){for(;t.firstChild;)n.appendChild(t.firstChild);s.remove(t)}}}),_=h.extend({init:function(e,t,n,r){this.format=e,this.greedyProperty=t,this.fontAttr=n,this.defaultValue=r,h.fn.init.call(this,e)},getInlineCssValue:function(e){var n=e.attributes,r=t.trim,i,a,o,c,l,u,d,f,p,m,h,g;if(n)for(i=0,a=n.length;i<a;i++){if(o=n[i],c=o.nodeName,l=o.nodeValue,o.specified&&c==`style`){for(u=r(l||e.style.cssText).split(`;`),f=0,p=u.length;f<p;f++)if(d=u[f],d.length){if(m=d.split(`:`),h=r(m[0].toLowerCase()),g=r(m[1]),h!=this.greedyProperty)continue;return h.indexOf(`color`)>=0?s.toHex(g):g}}if(this.fontAttr&&o.specified&&c==this.fontAttr)return h=o.nodeValue,g=o.nodeValue,h.indexOf(`color`)>=0?s.toHex(g):g}},getFormatInner:function(t){var n=e(s.isDataNode(t)?t.parentNode:t).parentsUntil(`[contentEditable]`).addBack().toArray().reverse(),r,i,a;for(r=0,i=n.length;r<i;r++)if(a=this.greedyProperty==`className`?n[r].className:this.getInlineCssValue(n[r]),a)return a;return this.defaultValue||`inherit`},getFormat:function(e){var t=this.getFormatInner(e[0]),n,r;for(n=1,r=e.length;n<r;n++)if(t!=this.getFormatInner(e[n]))return``;return t},isFormatted:function(e){return this.getFormat(e)!==``}}),v=g.extend({init:function(e,n,r){g.fn.init.call(this,e,n),this.values=n,this.finder=new _(e,r),r&&(this.greedyProperty=t.toCamelCase(r))},activate:function(e,t){var n=this.greedyProperty,r=`apply`;this.split(e),n&&this.values.style[n]==`inherit`&&(r=`remove`),this[r](t)}}),y=o.extend({init:function(e){o.fn.init.call(this,l(e,{finder:new h(e.format),formatter:function(){return new g(e.format)}}))}}),b=a.extend({update:function(e,t){var n=e.data(this.type);n.close(),n.value(this.finder.getFormat(t))}}),x=b.extend({init:function(e){a.fn.init.call(this,e),this.type=`kendoComboBox`,this.format=[{tags:[`span`,`font`]}],this.finder=new _(this.format,e.cssAttr,e.fontAttr)},command:function(e){var t=this.options,n=this.format,i={};return new r.FormatCommand(l(e,{formatter:function(){return i[t.domAttr]=e.value,new v(n,{style:i},t.cssAttr)}}))},initialize:function(e,n){var r=this.options,i=r.name,o,s,c=e.data(`kendoComboBox`),l=[];c&&(r.defaultValue&&(l=[{text:n.options.messages[r.defaultValue[0].text],value:r.defaultValue[0].value}]),o=l.concat(r.items?r.items:n.options[i]||[]),c.setDataSource(o),c.bind(`change`,e=>{n._range=s,e.sender.value()!==``&&a.exec(n,i,e.sender.value())}),c.bind(`close`,()=>{setTimeout(function(){n._deleteSavedRange()},0)}),c.value(`inherit`),c.wrapper.on(f,`.k-select,.k-input-button,.k-input`,function(){var e=n.getRange();s=n._containsRange(e)?e:s}).on(p,function(e){e.keyCode===t.keys.ENTER&&(n._deleteSavedRange(),e.preventDefault())}))}}),S=a.extend({init:function(e){a.fn.init.call(this,e),this.format=[{tags:[`span`,`font`]}],this.finder=new _(this.format,e.cssAttr)},options:{palette:`websafe`,columns:18},update:function(){this._widget.close()},command:function(e){var t=this.options,n=this.format,i={};return new r.FormatCommand(l(e,{formatter:function(){return i[t.domAttr]=e.value,new v(n,{style:i},t.cssAttr)}}))},initialize:function(t,n){var r=this,i=r.options.name,o=this._widget=t.getKendoColorPicker();o&&(o.bind(`change`,()=>{var e=o.value();e&&a.exec(n,i,e),delete r.storedRange,delete r._inputFocused,n.focus()}),o.bind(`open`,()=>{r.storedRange=n.getRange(),o._popup.element.on(f,function(t){e(t.target).is(`input.k-color-value`)||t.preventDefault()}),o._popup.element.is(`[unselectable='on']`)||o._popup.element.attr({unselectable:`on`}).find(`*:not(input)`).attr(`unselectable`,`on`).end().find(`input`).on(`focus`,function(){r._inputFocused=!0}),o._popup.one(`activate`,()=>{o._popup.element.find(`.k-colorpalette`).trigger(`focus`)})}),o.bind(`close`,e=>{o._popup.element.off(f)}),o.unbind(`activate`).bind(`activate`,e=>{!o._value||o._value.toCssRgba()===`rgba(255, 255, 255, 0)`||o.trigger(`change`)}),o.wrapper.attr({unselectable:`on`}).find(`*:not(input)`).attr(`unselectable`,`on`),o.value(`transparent`))}});l(r,{InlineFormatFinder:h,InlineFormatter:g,DelayedExecutionTool:b,GreedyInlineFormatFinder:_,GreedyInlineFormatter:v,InlineFormatTool:y,FontTool:x,ColorTool:S}),d(`bold`,[{tags:[`strong`,`b`]},{tags:[`span`],attr:{style:{fontWeight:`bold`}}}]),u(`bold`,new y({key:`B`,ctrl:!0,format:i.bold,ui:{togglable:!0}})),d(`italic`,[{tags:[`em`,`i`]},{tags:[`span`],attr:{style:{fontStyle:`italic`}}}]),u(`italic`,new y({key:`I`,ctrl:!0,format:i.italic,ui:{togglable:!0}})),d(`underline`,[{tags:[`span`],attr:{style:{textDecoration:`underline`}}},{tags:[`span`],attr:{style:{textDecorationLine:`underline`}}},{tags:[`u`]}]),u(`underline`,new y({key:`U`,ctrl:!0,format:i.underline,ui:{togglable:!0}})),d(`strikethrough`,[{tags:[`del`,`strike`]},{tags:[`span`],attr:{style:{textDecoration:`line-through`}}}]),u(`strikethrough`,new y({format:i.strikethrough,ui:{togglable:!0}})),d(`superscript`,[{tags:[`sup`]}]),u(`superscript`,new y({format:i.superscript,ui:{togglable:!0}})),d(`subscript`,[{tags:[`sub`]}]),u(`subscript`,new y({format:i.subscript,ui:{togglable:!0}})),u(`foreColor`,new S({cssAttr:`color`,fontAttr:`color`,domAttr:`color`,name:`foreColor`,ui:{type:`component`,overflow:`never`,component:`ColorPicker`,componentOptions:{views:[`palette`],toolIcon:`foreground-color`,palette:`websafe`,columns:18,preview:!1,input:!1,buttons:!1,commandOn:`change`,closeOnSelect:!0}}})),u(`backColor`,new S({cssAttr:`background-color`,domAttr:`backgroundColor`,name:`backColor`,ui:{type:`component`,overflow:`never`,component:`ColorPicker`,componentOptions:{views:[`palette`],toolIcon:`droplet`,palette:`websafe`,columns:18,preview:!1,input:!1,buttons:!1,commandOn:`change`,closeOnSelect:!0}}})),u(`fontName`,new x({cssAttr:`font-family`,fontAttr:`face`,domAttr:`fontFamily`,name:`fontName`,defaultValue:[{text:`fontNameInherit`,value:`inherit`}],ui:{type:`component`,component:`ComboBox`,componentOptions:{dataValueField:`value`,dataTextField:`text`,valuePrimitive:!0},overflow:`never`}})),u(`fontSize`,new x({cssAttr:`font-size`,fontAttr:`size`,domAttr:`fontSize`,name:`fontSize`,defaultValue:[{text:`fontSizeInherit`,value:`inherit`}],ui:{type:`component`,component:`ComboBox`,componentOptions:{dataValueField:`value`,dataTextField:`text`,valuePrimitive:!0},overflow:`never`}}))})(window.kendo.jQuery),(function(e,t){var n=window.kendo,r=n.htmlEncode,i=n.Class,a=e.extend,o=n.ui.editor,s=o.Dom,c=o.RangeUtils,l=o.Command,u=o.Tool,d=o.InlineFormatter,f=o.InlineFormatFinder,p=c.textNodes,m=c.editableTextNodes,h=o.EditorUtils.registerTool,g=n.keys,_=`http://`,v=/^\w*:\/\//,y=/[\w\/\$\-_\*\?]/i,b=i.extend({findSuitable:function(e){return s.parentOfType(e,[`a`])}}),x=i.extend({init:function(){this.finder=new b},apply:function(e,t){var n=this.immutables?m(e):p(e),r,i,a,o,l;if(t.innerText){i=c.documentFromRange(e),r=c.getMarkers(e),e.deleteContents(),o=s.create(i,`a`,t),e.insertNode(o),l=o.parentNode,s.name(l)==`a`&&s.insertAfter(o,l),s.emptyNode(l)&&s.remove(l);for(var u=o,f=0;f<r.length;f++)s.insertAfter(r[f],u),u=r[f];r.length&&(s.insertBefore(i.createTextNode(`﻿`),r[1]||r[0]),s.insertAfter(i.createTextNode(`﻿`),r[1]||r[0]),e.setStartBefore(r[0]),e.setEndAfter(r[r.length-1]))}else a=new d([{tags:[`a`]}],t),a.finder=this.finder,a.apply(n)}}),S=l.extend({init:function(e){var t=this;e.formatter={toggle:function(e){var n=t.immutables()?m(e):p(e);new d([{tags:[`a`]}]).remove(n)}},this.options=e,l.fn.init.call(this,e)}}),C=l.extend({init:function(e){var t;this.options=e,l.fn.init.call(this,e),this.formatter=new x,e.url?this.exec=function(){this.formatter.immutables=t&&t.immutables(),this.formatter.apply(e.range,{href:e.url,innerText:e.text||e.url,target:e.target})}:(this.attributes=null,this.async=!0)},exec:function(){var t=this.editor.options.messages;this._initialText=``,this._range=this.lockRange(!0),this.formatter.immutables=this.immutables();var n=p(this._range),r=n.length?this.formatter.finder.findSuitable(n[0]):null,i=n.length&&s.name(n[0])==`img`,a=this.createDialog(`<div/>`,{title:t.createLink,minWidth:340,close:this._close.bind(this),visible:!1}).data(`kendoWindow`);this._form=this._createForm(a),r&&(this._range.selectNodeContents(r),n=p(this._range)),this._initialText=this.linkText(n),a.wrapper.find(`.k-dialog-insert`).on(`click`,this._apply.bind(this)).end().find(`.k-dialog-close`).on(`click`,this._close.bind(this)).end().find(`.k-form-field input`).on(`keydown`,this._keydown.bind(this)).end().find(`#k-editor-link-url`).val(this.linkUrl(r)).end().find(`#k-editor-link-text`).val(this._initialText).end().find(`#k-editor-link-title`).val(r?r.title:``).end().find(`#k-editor-link-target`).prop(`checked`,r?r.target==`_blank`:!1).end().find(`.k-editor-link-text-row`).toggle(!i),this._dialog=a.center().open(),e(`#k-editor-link-url`,a.element).trigger(`focus`).select()},_createForm:function(t){var n=this,i=e(`<div/>`).appendTo(t.element),a=n.editor.options.messages,o=i.kendoForm({renderButtons:!1,items:[{field:`k-editor-link-url`,label:r(a.linkWebAddress),title:r(a.linkWebAddress),editor:`TextBox`},{field:`k-editor-link-text`,label:r(a.linkText),title:r(a.linkText),editor:`TextBox`},{field:`k-editor-link-title`,label:r(a.linkToolTip),title:r(a.linkToolTip),editor:`TextBox`},{field:`k-editor-link-target`,editorOptions:{label:r(a.linkOpenInNewWindow)},label:``,title:r(a.linkOpenInNewWindow),editor:`CheckBox`}]}).data(`kendoForm`);return i.find(`#k-editor-link-text`).parents(`.k-form-field`).addClass(`k-editor-link-text-row`),t.element.after(e(n._actionButtonsTemplate({messages:a,insertButtonIcon:`link`,cancelButtonIcon:`cancel-outline`}))),o},_keydown:function(e){var t=n.keys;e.keyCode==t.ENTER?this._apply(e):e.keyCode==t.ESC&&this._close(e)},_apply:function(t){var r=this._dialog.element,i=e(`#k-editor-link-url`,r).val(),a,o,c,l=e(`#k-editor-link-text`,r);i&&i!=_&&(i.indexOf(`@`)>0&&!/^(\w+:)|(\/\/)/i.test(i)&&(i=`mailto:`+i),this.attributes={href:i},a=e(`#k-editor-link-title`,r).val(),a&&(this.attributes.title=a),l.is(`:visible`)&&(o=n.trim(l.val()),!o&&!this._initialText?this.attributes.innerText=i:o&&o!==this._initialText&&(this.attributes.innerText=s.stripBom(o))),c=e(`#k-editor-link-target`,r).is(`:checked`),this.attributes.target=c?`_blank`:null,this.formatter.apply(this._range,this.attributes)),this._close(t),this.change&&this.change()},_close:function(e){e.preventDefault(),this._form.destroy(),this._dialog.destroy(),s.windowFromDocument(c.documentFromRange(this._range)).focus(),this.releaseRange(this._range)},linkUrl:function(e){return e?e.getAttribute(`href`,2):_},linkText:function(e){var t=``,n;for(n=0;n<e.length;n++)t+=e[n].nodeValue;return s.stripBom(t||``)},redo:function(){var e=this.lockRange(!0);this.formatter.apply(e,this.attributes),this.releaseRange(e)}}),w=l.extend({init:function(e){l.fn.init.call(this,e),this.formatter=new x},exec:function(){var e=this.detectLink();if(e){var t=this.getRange(),r=new n.ui.editor.Marker,i=t.cloneRange();i.setStart(e.start.node,e.start.offset),i.setEnd(e.end.node,e.end.offset),t=this.lockRange(),r.add(i),this.formatter.apply(i,{href:this._ensureWebProtocol(e.text)}),r.remove(i),this.releaseRange(t)}},detectLink:function(){var e=this.getRange(),t=e.startContainer,n=e.startOffset;return!t.previousSibling&&(s.isBom(t)&&!t.nextSibling||!n&&s.isDataNode(t))&&(t=t.parentNode,n=0),new E(new j({node:t,offset:n,cancelAtNode:function(e){return e&&s.name(e)===`a`}})).detectLink()},changesContent:function(){return!!this.detectLink()},_ensureWebProtocol:function(e){return this._hasProtocolPrefix(e)?e:this._prefixWithWebProtocol(e)},_hasProtocolPrefix:function(e){return v.test(e)},_prefixWithWebProtocol:function(e){return _+e}}),T=u.extend({init:function(t){this.options=t,this.finder=new f([{tags:[`a`]}]),u.fn.init.call(this,e.extend(t,{command:S}))},update:function(e,t){var n=this.finder.isFormatted(t),r=e.closest(`.k-toolbar`).data(`kendoToolBar`);n?r.enable(e,!0):r.enable(e,!1)}}),E=i.extend({init:function(e){this.traverser=e,this.start=k(),this.end=k(),this.text=``},detectLink:function(){var e=this.traverser.node,t=this.traverser.offset;if(s.isDataNode(e)){var n=e.data.substring(0,t);if(/\s{2}$/.test(s.stripBom(n)))return}else if(t===0){var r=s.closestEditableOfType(e,s.blockElements);r&&r.previousSibling&&this.traverser.init({node:r.previousSibling})}return this.traverser.traverse(this._detectEnd.bind(this)),this.end.blank()||(this.traverser=this.traverser.clone(this.end),this.traverser.traverse(this._detectStart.bind(this)),this._isLinkDetected()||(new M(this.traverser.extendOptions(this.start)).traverse(this._skipStartPuntuation.bind(this)),this._isLinkDetected()||(this.start=k()))),this.start.blank()?null:{start:this.start,end:this.end,text:this.text}},_isLinkDetected:function(){return v.test(this.text)||/^w{3}\./i.test(this.text)},_detectEnd:function(e,t){var n=D(e,y);if(n>-1)return this.end.node=t,this.end.offset=n+1,!1},_detectStart:function(e,t){var n=D(e,/\s/),r=n+1;if(this.text=e.substring(r)+this.text,this.start.node=t,this.start.offset=r,n>-1)return!1},_skipStartPuntuation:function(e,t,n){var r=O(e,/\w/),i=r;if(r===-1&&(i=e.length),this.text=this.text.substring(i),this.start.node=t,this.start.offset=i+(n|0),r>-1)return!1}});function D(e,t){for(var n=e.length;n--&&!t.test(e[n]););return n}function O(e,t){var n=t.exec(e);return n?n.index:-1}var k=function(){return{node:null,offset:null,blank:function(){return this.node===null&&this.offset===null}}},A=i.extend({init:function(n){this.node=n.node,this.offset=n.offset===t?s.isDataNode(this.node)&&this.node.length||0:n.offset,this.cancelAtNode=n.cancelAtNode||this.cancelAtNode||e.noop},traverse:function(e){e&&(this.cancel=!1,this._traverse(e,this.node,this.offset))},_traverse:function(e,n,r){if(!(!n||this.cancel)){if(n.nodeType===3){var i=n.data;r!==t&&(i=this.subText(i,r)),this.cancel=e(i,n,r)===!1}else{var a=this.edgeNode(n);return this.cancel=this.cancel||this.cancelAtNode(a),this._traverse(e,a)}var o=this.next(n);if(!o)for(var c=n.parentNode;!o&&s.isInline(c);)o=this.next(c),c=c.parentNode;this.cancel=this.cancel||this.cancelAtNode(o),this._traverse(e,o)}},extendOptions:function(t){return e.extend({node:this.node,offset:this.offset,cancelAtNode:this.cancelAtNode},t||{})},edgeNode:function(e){},next:function(e){},subText:function(e,t){}}),j=A.extend({subText:function(e,t){return e.substring(0,t)},next:function(e){return e.previousSibling},edgeNode:function(e){return e.lastChild},clone:function(e){return new j(this.extendOptions(e))}}),M=A.extend({subText:function(e,t){return e.substring(t)},next:function(e){return e.nextSibling},edgeNode:function(e){return e.firstChild},clone:function(e){return new M(this.extendOptions(e))}});a(n.ui.editor,{LinkFormatFinder:b,LinkFormatter:x,UnlinkCommand:S,LinkCommand:C,AutoLinkCommand:w,UnlinkTool:T,DomTextLinkDetection:E,LeftDomTextTraverser:j,RightDomTextTraverser:M}),h(`createLink`,new u({key:`K`,ctrl:!0,command:C})),h(`unlink`,new T({key:`K`,ctrl:!0,shift:!0,ui:{enable:!1}})),h(`autoLink`,new u({key:[g.ENTER,g.SPACEBAR],keyPressCommand:!0,command:w}))})(window.kendo.jQuery),(function(e){var t=window.kendo,n=t.Class,r=e.extend,i=t.ui.editor,a=t.ui.Editor.fn.options.formats,o=i.Dom,s=i.FormatTool,c=i.EditorUtils,l=c.registerTool,u=c.registerFormat,d=i.RangeUtils,f=n.extend({init:function(e){this.format=e},contains:function(e,t){var n,r,i;for(n=0,r=t.length;n<r;n++)if(i=t[n],!i||!o.isAncestorOrSelf(e,i))return!1;return!0},findSuitable:function(t){var n=this.format,r=[],i,a,s;for(i=0,a=t.length;i<a;i++){for(var c=n.length-1;c>=0&&(s=o.ofType(t[i],n[c].tags)?t[i]:o.closestEditableOfType(t[i],n[c].tags),!s);c--);if(!s||s.contentEditable===`true`)return[];e.inArray(s,r)<0&&r.push(s)}for(this._resolveListsItems(r),i=0,a=r.length;i<a;i++)if(this.contains(r[i],r))return[r[i]];return r},_resolveListsItems:function(e){var t,n,r;for(t=0;t<e.length;t++)n=e[t],r=o.is(n,`li`)?n:o.wrapper(n),r=r&&o.list(r)?r.children[0]:r,o.is(r,`li`)&&(e[t]=r)},findFormat:function(e,t){var n=this.format,r,a,s,c,l,u=o.editableParent(e),d=this.options&&this.options.immutables,f=i.Immutables;for(r=0,a=n.length;r<a;r++){if(s=e,c=n[r].tags,l=n[r].attr,d&&c&&c[0]==`immutable`){var p=f.immutableParent(s);if(p&&o.attrEquals(p,l))return s}for(;s&&o.isAncestorOf(u,s);){if(o.ofType(s,c)&&o.attrEquals(s,l))return s;if(t&&t(s))break;s=s.parentNode}}return null},getFormat:function(e){var t=this,n=function(e){return t.findFormat(o.isDataNode(e)?e.parentNode:e)},r=n(e[0]),i,a;if(!r)return``;for(i=1,a=e.length;i<a;i++)if(r!=n(e[i]))return``;return r.nodeName.toLowerCase()},isFormatted:function(e,t){for(var n=0,r=e.length;n<r;n++)if(!this.findFormat(e[n],t))return!1;return!0}}),p=n.extend({init:function(e,t){this.format=e,this.values=t,this.finder=new f(e)},wrap:function(e,t,n){var r=n.length==1?o.blockParentOrBody(n[0]):o.commonAncestor.apply(null,n);o.isInline(r)&&(r=o.blockParentOrBody(r));var i=o.significantChildNodes(r),a=o.findNodeIndex(i[0]),s=o.create(r.ownerDocument,e,t),c,l;for(c=0;c<i.length;c++){if(l=i[c],o.isBlock(l)){o.attr(l,t),s.childNodes.length&&(o.insertBefore(s,l),s=s.cloneNode(!1)),a=o.findNodeIndex(l)+1;continue}s.appendChild(l)}s.firstChild&&o.insertAt(r,s,a)},apply:function(t){var n,i=this.values;function a(e){return r({},e&&e.attr,i)}this._handleImmutables(t,!0);var s=o.filter(`img`,t),l=a(c.formatByName(`img`,this.format));if(e.each(s,function(){o.attr(this,l)}),s.length!=t.length){var u=o.filter(`img`,t,!0),d=this.finder.findSuitable(u);if(d.length)for(var f=0,p=d.length;f<p;f++)n=c.formatByName(o.name(d[f]),this.format),o.attr(d[f],a(n));else n=this.format[0],this.wrap(n.tags[0],a(n),u)}},_handleImmutables:function(e,t){if(this.immutables()){var n=c.formatByName(`immutable`,this.format);if(n)for(var r=i.Immutables,a=e.length-1;a>=0;a--){var s=r.immutableParent(e[a]);s&&(s!==e[a+1]&&(t?o.attr(s,n.attr):o.unstyle(s,n.attr.style)),e.splice(a,1))}}},immutables:function(){return this.editor&&this.editor.options.immutables},remove:function(e){var t,n,r,i,a;for(this._handleImmutables(e,!1),t=0,n=e.length;t<n;t++)r=this.finder.findFormat(e[t]),r&&(a=o.name(r),i=c.formatByName(a,this.format),i.attr.style&&o.unstyle(r,i.attr.style),i.attr.className&&o.removeClass(r,i.attr.className))},toggle:function(e){var t=this,n=o.filterBy(d.nodes(e),o.htmlIndentSpace,!0);t.finder.isFormatted(n)?t.remove(n):t.apply(n)}}),m=n.extend({init:function(e,t){var n=this;n.format=e,n.values=t,n.finder=new f(e)},apply:function(e){var t=this.format,n=o.blockParents(e),r=t[0].tags[0],a,s,c,l,u,d,f,m,h;if(n.length)for(a=0,s=n.length;a<s;a++)m=n[a],h=this.immutables()&&i.Immutables.immutableParent(m),h||(f=o.name(m),f==`li`?(c=m.parentNode,l=new i.ListFormatter(c.nodeName.toLowerCase(),r),u=this.editor.createRange(),u.selectNode(n[a]),l.toggle(u)):r&&(f==`td`||m.attributes.contentEditable)?new p(t,this.values).apply(m.childNodes):(d=o.changeTag(m,r),o.attr(d,t[0].attr)));else{var g=new p(t,this.values);g.editor=this.editor,g.apply(e)}},toggle:function(e){var t=d.textNodes(e);t.length||(e.selectNodeContents(e.commonAncestorContainer),t=d.textNodes(e),t.length||(t=o.significantChildNodes(e.commonAncestorContainer))),this.apply(t)},immutables:function(){return this.editor&&this.editor.options.immutables}}),h=s.extend({init:function(e){s.fn.init.call(this,r(e,{finder:new f(e.format),formatter:function(){return new p(e.format)}}))}});r(i,{BlockFormatFinder:f,BlockFormatter:p,GreedyBlockFormatter:m,BlockFormatTool:h});var g=[`ul`,`ol`,`li`];u(`justifyLeft`,[{tags:o.nonListBlockElements,attr:{style:{textAlign:`left`}}},{tags:[`img`],attr:{style:{float:`left`,display:``,marginLeft:``,marginRight:``}}},{tags:[`immutable`],attr:{style:{float:`left`,display:``,marginLeft:``,marginRight:``}}},{tags:g,attr:{style:{textAlign:`left`,listStylePosition:``}}}]),l(`justifyLeft`,new h({format:a.justifyLeft,ui:{togglable:!0,group:`align`}})),u(`justifyCenter`,[{tags:o.nonListBlockElements,attr:{style:{textAlign:`center`}}},{tags:[`img`],attr:{style:{display:`block`,marginLeft:`auto`,marginRight:`auto`,float:``}}},{tags:[`immutable`],attr:{style:{display:`block`,marginLeft:`auto`,marginRight:`auto`,float:``}}},{tags:g,attr:{style:{textAlign:`center`,listStylePosition:`inside`}}}]),l(`justifyCenter`,new h({format:a.justifyCenter,ui:{togglable:!0,group:`align`}})),u(`justifyRight`,[{tags:o.nonListBlockElements,attr:{style:{textAlign:`right`}}},{tags:[`img`],attr:{style:{float:`right`,display:``,marginLeft:``,marginRight:``}}},{tags:[`immutable`],attr:{style:{float:`right`,display:``,marginLeft:``,marginRight:``}}},{tags:g,attr:{style:{textAlign:`right`,listStylePosition:`inside`}}}]),l(`justifyRight`,new h({format:a.justifyRight,ui:{togglable:!0,group:`align`}})),u(`justifyFull`,[{tags:o.nonListBlockElements,attr:{style:{textAlign:`justify`}}},{tags:[`img`],attr:{style:{display:`block`,marginLeft:`auto`,marginRight:`auto`,float:``}}},{tags:[`immutable`],attr:{style:{display:`block`,marginLeft:`auto`,marginRight:`auto`,float:``}}},{tags:g,attr:{style:{textAlign:`justify`,listStylePosition:``}}}]),l(`justifyFull`,new h({format:a.justifyFull,ui:{togglable:!0,group:`align`}}))})(window.kendo.jQuery),(function(e){var t=window.kendo,n=t.Class,r=e.extend,i=t.ui.editor,a=i.Dom,o=i.RangeUtils,s=i.Command,c=i.FormatTool,l=i.BlockFormatFinder,u=o.textNodes,d=i.EditorUtils.registerTool,f=l.extend({init:function(e){this.tag=e.tag,this.attr=e.attr,this.altAttr=e.altAttr;var t=this.tags=[this.tag==`ul`?`ol`:`ul`,this.tag],n=[{tags:t,attr:this.attr}];this.altAttr&&n.push({tags:t,attr:this.altAttr}),l.fn.init.call(this,n)},matchesType:function(e){return a.attrEquals(e,this.attr)||this.altAttr&&a.attrEquals(e,this.altAttr)},isList:function(e){return a.list(e)},isFormatted:function(e){var t=[],n,r;for(r=0;r<e.length;r++)n=this.findFormat(e[r],this.isList),n&&a.name(n)==this.tag&&this.matchesType(n)&&t.push(n);if(t.length<1||t.length!=e.length)return!1;for(r=0;r<t.length&&t[r].parentNode==n.parentNode;r++)if(t[r]!=n)return!1;return!0},findSuitable:function(e){var t=this.findFormat(e[0],this.isList);return t&&a.name(t)==this.tag?t:null}}),p=n.extend({init:function(t,n){var r=this;t=e.isPlainObject(t)?t:{tag:t,attr:null},r.tag=t.tag,r.attr=t.attr,r.finder=new f(t),r.unwrapTag=n},isList:function(e){return a.list(e)},immutables:function(){return this.editor&&!!this.editor.options.immutables},wrap:function(t,n){var r=a.create(t.ownerDocument,`li`),o,s,c=this.immutables()?i.Immutables.immutable:e.noop;for(o=0;o<n.length;o++){if(s=n[o],a.is(s,`li`)){t.appendChild(s);continue}if(this.isList(s)){for(;s.firstChild;)t.appendChild(s.firstChild);continue}if(a.is(s,`td`)){for(;s.firstChild;)r.appendChild(s.firstChild);t.appendChild(r),s.appendChild(t),t=t.cloneNode(!1),r=r.cloneNode(!1);continue}r.appendChild(s),a.isBlock(s)&&(t.appendChild(r),c(s)||a.unwrap(s),r=r.cloneNode(!1))}r.firstChild&&t.appendChild(r)},containsAny:function(e,t){for(var n=0;n<t.length;n++)if(a.isAncestorOrSelf(e,t[n]))return!0;return!1},suitable:function(e,t){if(e.className==`k-marker`){var n=e.nextSibling;if(n&&a.isBlock(n)||(n=e.previousSibling,n&&a.isBlock(n)))return!1}return this.containsAny(e,t)||a.isInline(e)||e.nodeType==3},_parentLists:function(t){var n=a.closestEditable(t);return e(t).parentsUntil(n,`ul,ol`)},split:function(e){var t=u(e),n,r,i;if(t.length){n=a.parentOfType(t[0],[`li`]),r=a.parentOfType(t[t.length-1],[`li`]),e.setStartBefore(n),e.setEndAfter(r);for(var s=0,c=t.length;s<c;s++){var l=this.finder.findFormat(t[s]);l&&(i=this._parentLists(l),i.length?o.split(e,i.last()[0],!0):o.split(e,l,!0))}}},merge:function(e,t){for(var n=t.previousSibling,r;n&&(n.className==`k-marker`||n.nodeType==3&&a.isWhitespace(n));)n=n.previousSibling;if(n&&a.name(n)==e&&this.finder.matchesType(n)){for(;t.firstChild;)n.appendChild(t.firstChild);a.remove(t),t=n}for(r=t.nextSibling;r&&(r.className==`k-marker`||r.nodeType==3&&a.isWhitespace(r));)r=r.nextSibling;if(r&&a.name(r)==e&&this.finder.matchesType(r)){for(;t.lastChild;)r.insertBefore(t.lastChild,r.firstChild);a.remove(t)}},breakable:function(e){return e!=e.ownerDocument.body&&!/table|tbody|thead|tr|td/.test(a.name(e))&&!e.attributes.contentEditable},findSuitableNode:function(e){var t=this,n=t.finder,r=t.tag,i=n.findSuitable(e);return i||=(n=new f({tag:r==`ul`?`ol`:`ul`}),n.findSuitable(e)),i||=(n=new f({tag:r}),i=n.findSuitable(e),i&&t.finder.matchesType(i)?null:i),i},applyOnSection:function(t,n){var r=this.tag,i=this.attr,o=a.closestSplittableParent(n),s=[],c=this.findSuitableNode(n),l;/table|tbody|thead/.test(a.name(o))?l=e.map(n,function(e){return a.parentOfType(e,[`td`])}):(l=a.significantChildNodes(o),e.grep(l,a.isBlock).length&&(l=e.grep(l,(function(e){return this.containsAny(e,n)}).bind(this))),l.length||(l=n));function u(){s.push(this)}for(var d=0;d<l.length;d++){var f=l[d];(!c||!a.isAncestorOrSelf(c,f))&&this.suitable(f,n)&&(c&&this.isList(f)?(e.each(f.children,u),a.remove(f)):s.push(f))}for(s.length==l.length&&this.breakable(o)&&(s=[o]),c||(c=a.create(o.ownerDocument,r,i),a.isBlock(s[0])&&a.mergeAttributes(s[0],c),a.insertBefore(c,s[0])),this.wrap(c,s);a.isBom(c.nextSibling);)a.remove(c.nextSibling);this.finder.matchesType(c)||(c.removeAttribute(`type`),c.style.listStyleType=``,a.mergeAttributes(a.create(o.ownerDocument,r,i),c,!0)),c&&c.getAttribute(`type`)===``&&c.removeAttribute(`type`),a.is(c,r)||a.changeTag(c,r),this.merge(r,c)},apply:function(t){var n=0,r=[],o,s,c,l,u=t.length,d=this.immutables()?i.Immutables.immutableParent:e.noop;function f(){o&&r.push({section:o,nodes:s})}for(n=0;n<u;n++)l=d(t[n])||t[n],c=a.closestEditable(l,[`td`,`th`,`body`]),!o||c!=o?(f(),s=[l],o=c):s.push(l);for(f(),n=0;n<r.length;n++)this.applyOnSection(r[n].section,r[n].nodes)},unwrap:function(e){var t=e.ownerDocument.createDocumentFragment(),n=this.unwrapTag,r,i,o,s;for(i=e.firstChild;i;i=i.nextSibling){for(o=a.create(e.ownerDocument,n||`p`);i.firstChild;)s=i.firstChild,a.isBlock(s)?(o.firstChild&&(t.appendChild(o),o=a.create(e.ownerDocument,n||`p`)),t.appendChild(s)):o.appendChild(s);o.firstChild&&t.appendChild(o)}r=this._parentLists(e),r[0]?(a.insertAfter(t,r.last()[0]),r.last().remove()):a.insertAfter(t,e),a.remove(e)},remove:function(e){for(var t,n=0,r=e.length;n<r;n++)t=this.finder.findFormat(e[n]),t&&this.unwrap(t)},toggle:function(e){var t=this,n=u(e),r=e.commonAncestorContainer;if(!n.length&&(e.selectNodeContents(r),n=u(e),!n.length)){var i=r.ownerDocument.createTextNode(``);e.startContainer.appendChild(i),n=[i],e.selectNode(i.parentNode)}n=a.filterBy(n,a.htmlIndentSpace,!0),t.finder.isFormatted(n)?(t.split(e),t.remove(n)):t.apply(n)}}),m=s.extend({init:function(e){e.formatter=new p({tag:e.tag,attr:e.attr}),s.fn.init.call(this,e)}}),h=c.extend({init:function(e){this.options=e,c.fn.init.call(this,r(e,{finder:new f(e)}))},command:function(e){return new m(r(e,{tag:this.options.tag,attr:this.options.attr}))}});r(i,{ListFormatFinder:f,ListFormatter:p,ListCommand:m,ListTool:h}),d(`insertUnorderedList`,new h({tag:`ul`,attr:{style:{listStyleType:``},type:``},ui:{togglable:!0,group:`lists`}})),d(`insertOrderedList`,new h({tag:`ol`,attr:{style:{listStyleType:``},type:``},ui:{togglable:!0,group:`lists`}})),d(`insertUpperRomanList`,new h({tag:`ol`,attr:{style:{listStyleType:`upper-roman`}},altAttr:{type:`I`},ui:{togglable:!0,group:`lists`}})),d(`insertLowerRomanList`,new h({tag:`ol`,attr:{style:{listStyleType:`lower-roman`}},altAttr:{type:`i`},ui:{togglable:!0,group:`lists`}}))})(window.kendo.jQuery),(function(e){var t=window.kendo,n=t.ui.editor,r=n.Tool,i=n.DelayedExecutionTool,a=n.Command,o=n.Dom,s=n.EditorUtils,c=n.RangeUtils,l=s.registerTool,u=i.extend({init:function(e){var n=this;r.fn.init.call(n,t.deepExtend({},n.options,e)),n.type=`kendoDropDownList`,n.finder={getFormat:function(){return``}}},options:{items:[{text:`Paragraph`,value:`p`},{text:`Quotation`,value:`blockquote`},{text:`Heading 1`,value:`h1`},{text:`Heading 2`,value:`h2`},{text:`Heading 3`,value:`h3`},{text:`Heading 4`,value:`h4`},{text:`Heading 5`,value:`h5`},{text:`Heading 6`,value:`h6`}],width:110},toFormattingItem:function(e){var t=e.value;if(!t||e.tag||e.className)return e;var n=t.indexOf(`.`);return n===0?e.className=t.substring(1):n==-1?e.tag=t:(e.tag=t.substring(0,n),e.className=t.substring(n+1)),e},command:function(t){var r=this,i=t.value;return i=this.toFormattingItem(i),new n.FormatCommand({range:t.range,formatter:function(){var t,a=(i.tag||i.context||`span`).split(`,`),s=[{tags:a,attr:{className:i.className||``}}];return t=e.inArray(a[0],o.inlineElements)>=0?new n.GreedyInlineFormatter(s):new n.GreedyBlockFormatter(s),t.editor=r.editor,t}})},decorate:function(t){var n=this.component,r=n.dataSource,i=r.data(),a,s,c,l;if(t&&n.list.css(`background-color`,o.getEffectiveBackground(e(t))),this.component&&this.component.options&&this.component.options.unsafeInline!==!1)for(a=0;a<i.length;a++)s=i[a].tag||`span`,c=i[a].className,l=o.inlineStyle(t,s,{className:c}),l=l.replace(/"/g,`'`),i[a].style=l+`;display:inline-block`;r.trigger(`change`)},initialize:function(e,t){var n=this.options,i=n.name,a=this,o=e.getKendoDropDownList();o&&(a.editor=t,a.component=o,e.closest(`.k-dropdownlist`).width(n.width),o.setOptions({optionLabel:t.options.messages.formatting,change:()=>{var e=o.dataItem();e&&r.exec(t,i,e.toJSON())},dataBound:function(){var e,t=o.dataSource.data(),n=o.list.parent().find(`.k-list-optionlabel`);for(e=0;e<t.length;e++)t[e]=a.toFormattingItem(t[e]);n.length&&n.remove()}}))},getFormattingValue:function(t,n){for(var r=0;r<t.length;r++){var i=t[r],a=(i.tag||i.context||``)+(i.className?`.`+i.className:``);if(e(n[0]).closest(a)[0]){if(n.length==1)return i.value;for(var o=1;o<n.length&&e(n[o]).closest(a)[0];o++)if(o==n.length-1)return i.value}}return``},update:function(t,n){var r=e(t).data(this.type);if(r){var a=r.dataSource,s=a.data(),c,l,u=o.commonAncestor.apply(null,n);if(!(u!=o.closestEditable(u)&&this._ancestor==u)){for(this._ancestor=u,c=0;c<s.length;c++)l=s[c].context,s[c].visible=!l||!!e(u).closest(l).length;a.filter([{field:`visible`,operator:`eq`,value:!0}]),i.fn.update.call(this,t,n),r.value(this.getFormattingValue(a.view(),n)),r.wrapper.toggleClass(`k-disabled`,!a.view().length)}}},destroy:function(){this._ancestor=null}}),d=a.extend({exec:function(){var e=this.lockRange(!0);this.tagsToClean=this.options.remove||`strong,em,span,sup,sub,del,b,i,u,font`.split(`,`),c.wrapSelectedElements(e);for(var t=c.mapAll(e,function(e){return e}),n=t.length-1;n>=0;n--){var r=t[n];this.immutableParent(r)||this.clean(r)}this.releaseRange(e)},clean:function(t){if(!(!t||o.isMarker(t))){var r=o.name(t);if(r==`ul`||r==`ol`){var i=new n.ListFormatter(r),a=t.previousSibling,s=t.nextSibling;for(i.unwrap(t);a&&a!=s;a=a.nextSibling)this.clean(a)}else if(r==`blockquote`)o.changeTag(t,`p`);else if(t.nodeType==1&&!o.insignificant(t)){for(var c=t.childNodes.length-1;c>=0;c--)this.clean(t.childNodes[c]);t.removeAttribute(`style`),t.removeAttribute(`class`)}else f(t);e.inArray(r,this.tagsToClean)>-1&&o.unwrap(t)}},immutableParent:function(e){return this.immutables()&&n.Immutables.immutableParent(e)}});function f(e){var r=o.closestEditableOfType(e,[`li`]);if(r){var i=new n.ListFormatter(o.name(r.parentNode)),a=t.ui.editor.W3CRange.fromNode(e);a.selectNode(r),i.toggle(a)}}e.extend(n,{FormattingTool:u,CleanFormatCommand:d}),l(`formatting`,new u({ui:{type:`component`,component:`DropDownList`,componentOptions:{dataTextField:`text`,dataValueField:`value`,highlightFirst:!1,autoWidth:!0,template:t.template(e=>`<span unselectable="on" ${e.style?`class="k-d-block" style="display:block;${e.style||``}`:``}">${t.htmlEncode(e.text)}</span>`)},overflow:`never`}})),l(`cleanFormatting`,new r({command:d}))})(window.kendo.jQuery),(function(e,t){var n=window.kendo,r=e.extend,i=n.htmlEncode,a=n.ui.editor,o=a.EditorUtils,s=a.Dom,c=o.registerTool,l=a.RangeUtils,u=a.Command,d=n.keys,f=`#k-editor-image-url`,p=`#k-editor-image-title`,m=`#k-editor-image-width`,h=`#k-editor-image-height`,g=u.extend({init:function(e){var t=this;u.fn.init.call(t,e),t.async=!0,t.attributes={}},insertImage:function(e,t){var n=this.attributes,r=l.documentFromRange(t);if(n.src&&n.src!=`http://`){var i=function(){setTimeout(function(){n.width||e.removeAttribute(`width`),n.height||e.removeAttribute(`height`),e.removeAttribute(`complete`)})};if(e)e.onload=e.onerror=i,s.attr(e,n),i();else return e=s.create(r,`img`,n),e.onload=e.onerror=i,t.deleteContents(),t.insertNode(e),e.nextSibling||s.insertAfter(r.createTextNode(`﻿`),e),i(),t.setStartAfter(e),t.setEndAfter(e),l.selectRange(t),!0}return!1},redo:function(){var e=this,t=e.lockRange();e.insertImage(l.image(t),t)||e.releaseRange(t)},exec:function(){var e=this,i=e.lockRange(),a=!1,o=l.image(i),c=o&&o.getAttribute(`width`)||``,u=o&&o.getAttribute(`height`)||``,g,_,v=n.support.browser.msie,y=e.editor.options,b=y.messages,x=y.imageBrowser,S=!!(n.ui.ImageBrowser&&x&&x.transport&&x.transport.read!==t),C={title:b.insertImage,visible:!1,resizable:S};this.expandImmutablesIn(i);function w(t){var n=g.element,r=parseInt(n.find(m).val(),10),s=parseInt(n.find(h).val(),10);e.attributes={src:n.find(f).val().replace(/ /g,`%20`),alt:n.find(p).val()},e.attributes.width=null,e.attributes.height=null,!isNaN(r)&&r>0&&(e.attributes.width=r),!isNaN(s)&&s>0&&(e.attributes.height=s),a=e.insertImage(o,i),T(t),e.change&&e.change(),e.editor._handleSpaceAndNewLines()}function T(t){t.preventDefault(),_.destroy(),g.destroy(),s.windowFromDocument(l.documentFromRange(i)).focus(),a||e.releaseRange(i)}function E(e){e.keyCode==d.ENTER?w(e):e.keyCode==d.ESC&&T(e)}C.close=T,S&&(C.width=750),C.minWidth=350,g=this.createDialog(`<div/>`,C).data(`kendoWindow`),_=e._createForm(g,S),g.element.toggleClass(`k-filebrowser-dialog`,S),g.wrapper.find(`.k-dialog-insert`).on(`click`,w).end().find(`.k-dialog-close`).on(`click`,T).end().find(`.k-form-field input`).on(`keydown`,E).end().find(f).val(o?o.getAttribute(`src`,2):`http://`).end().find(p).val(o?o.alt:``).end().find(m).val(c).end().find(h).val(u).end();var D=g.element;if(S&&(this._imageBrowser=new n.ui.ImageBrowser(D.find(`.k-imagebrowser`),r({},x)),this._imageBrowser.bind(`change`,function(e){e.selected.get(`type`)===`f`&&D.find(f).val(this.value())}),this._imageBrowser.bind(`apply`,w)),v){var O=D.closest(`.k-window`).height();D.css(`max-height`,O)}g.center().open(),D.find(f).trigger(`focus`).select()},_createForm:function(t,n){var r=this,a=e(`<div/>`).appendTo(t.element),o=r.editor.options.messages,s=a.kendoForm({renderButtons:!1,items:[{field:`k-editor-image-url`,label:i(o.imageWebAddress),editor:`TextBox`},{field:`k-editor-image-title`,label:i(o.imageAltText),editor:`TextBox`},{field:`k-editor-image-width`,label:i(o.imageWidth),editor:`TextBox`},{field:`k-editor-image-height`,label:i(o.imageHeight),editor:`TextBox`}]}).data(`kendoForm`);return n&&a.prepend(e(`<div class="k-filebrowser k-imagebrowser"></div>`)),t.element.after(e(r._actionButtonsTemplate({messages:o,insertButtonIcon:`image-add`,cancelButtonIcon:`cancel-outline`}))),s}});n.ui.editor.ImageCommand=g,c(`insertImage`,new a.Tool({command:g}))})(window.kendo.jQuery),(function(e,t){var n=window.kendo,r=e.extend,i=n.ui.editor,a=i.EditorUtils,o=i.Command,s=i.Tool,c=a.registerTool,l=`<div contenteditable="false" class="k-loading-mask" style="width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;"><div class="k-loading-image"></div><div class="k-loading-color"></div></div>`,u=o.extend({exec:function(){(this.editor._uploadWidget||this._initializeUploadWidget()).element.click()},_initializeUploadWidget:function(){var t=this,n=t.editor,r=n.options.import,i=e(`<input id="editorImport" name="files" type="file" />`).kendoUpload({success:t._onUploadSuccess.bind(t),progress:t._onUploadProgress.bind(t),select:t._onUploadSelect.bind(t),error:t._onUploadError.bind(t),complete:t._onUploadComplete.bind(t),showFileList:!1,multiple:!1,async:{saveUrl:r.proxyURL,autoUpload:!0,saveField:`file`},validation:{allowedExtensions:r.allowedExtensions,maxFileSize:r.maxFileSize}}).getKendoUpload();return n._uploadWidget=i,i},_onUploadComplete:function(e){this._trigger(`complete`,e),e.sender.clearAllFiles(),this._removeLoadingOverlay()},_onUploadSuccess:function(e){this.editor.value(e.response.html.replace(/<\/?body>/gi,``)),this._trigger(`success`,e)},_onUploadProgress:function(e){this._trigger(`progress`,e)},_onUploadSelect:function(e){this._trigger(`select`,e),e.files[0].validationErrors||this._initLoadingOverlay()},_onUploadError:function(e){this._trigger(`error`,e)},_trigger:function(e,t){var n=this.editor,r=n.options.import;typeof r[e]==`function`&&r[e].call(n,t)},_initLoadingOverlay:function(){var t=this.editor.body;i.Dom.is(t,`body`)?this._iframeWrapper=this._container=this.editor.wrapper.find(`iframe`).parent().css({position:`relative`}).append(l):this._container=e(t).append(l),n.ui.progress(this._container,!0)},_removeLoadingOverlay:function(){n.ui.progress(this._container,!1),e(this._iframeWrapper).css({position:``}),delete this._container,delete this._iframeWrapper}});r(i,{ImportCommand:u}),c(`import`,new s({command:u,ui:{showText:`both`}}))})(window.kendo.jQuery),(function(e){var t=window.kendo.ui.editor,n=t.Command,r=t.GenericCommand,i=t.EditorUtils.registerTool,a=t.Tool,o=t.RestorePoint,s=e.extend,c=n.extend({init:function(e){n.fn.init.call(this,e),this.managesUndoRedo=!0},exec:function(){var e=this.editor,t=this.options,n=t.range,i=e.body,a=new o(n,i),s=t.html||t.value||``;e.selectRange(n),e.clipboard.paste(s,t),t.postProcess&&t.postProcess(e,e.getRange());var c=new r(a,new o(e.getRange(),i));c.editor=e,e.undoRedoStack.push(c),e.focus()}}),l=a.extend({initialize:function(e,t){var n=this.options,r=n.items?n.items:t.options.insertHtml,i=e.getKendoDropDownList();i&&(i.one(`open`,()=>{var e=i.list.parent().find(`.k-list-optionlabel`);e.length&&e.remove()}),i.setOptions({dataSource:r,optionLabel:t.options.messages.insertHtml}),i.bind(`change`,()=>{a.exec(t,`insertHtml`,i.value())}))},command:function(e){return new c(e)},update:function(e){var t=e.data(`kendoDropDownList`);t.close(),t.value(null)}});s(t,{InsertHtmlCommand:c,InsertHtmlTool:l}),i(`insertHtml`,new l({ui:{initialValue:`Insert HTML`,type:`component`,component:`DropDownList`,componentOptions:{dataTextField:`text`,dataValueField:`value`,autoSize:!0,highlightFirst:!1},overflow:`never`}}))})(window.kendo.jQuery),(function(e,t){var n=window.kendo,r=e.extend,i=n.ui.editor,a=i.EditorUtils,o=i.Command,s=i.Tool,c=a.registerTool,l=[{text:`Docx`,value:`docx`},{text:`Rtf`,value:`rtf`},{text:`Pdf`,value:`pdf`},{text:`Html`,value:`html`},{text:`Plain Text`,value:`txt`}],u=o.extend({init:function(e){var t=this;t.options=e,o.fn.init.call(t,e),t.attributes=null,t.exportType=e.exportType},exec:function(){var e=this,t=this.lockRange(!0);e.postToProxy(),e.releaseRange(t)},postToProxy:function(){this.generateForm().appendTo(`body`).submit().remove()},generateForm:function(){var t=this,n=t.editor.options.exportAs,r=e(`<form>`).attr({action:n&&n.proxyURL||``,method:`POST`});return r.append([t.valueInput(),t.exportTypeInput(),t.fileNameInput(),t.antiForgeryInput()]),r},valueInput:function(){var t=this.editor;return e(`<input>`).attr({value:t.encodedValue(),name:`value`,type:`hidden`})},exportTypeInput:function(){var t=this;return e(`<input>`).attr({value:t.exportType,name:`exportType`,type:`hidden`})},fileNameInput:function(){var t=this.editor,n=t.options.exportAs,r=n&&n.fileName||t.element.attr(`id`)||`editor`;return e(`<input>`).attr({value:r,name:`fileName`,type:`hidden`})},antiForgeryInput:function(){var t=e(`meta[name=csrf-param],meta[name=_csrf_header]`).attr(`content`);return e(`input[name^='__RequestVerificationToken']`).clone().add(e(`input[name^='`+t+`']`).clone())}}),d=s.extend({init:function(e){var t=this;s.fn.init.call(t,n.deepExtend({},t.options,e)),t.type=`kendoDropDownList`},options:{items:l},command:function(e){var t=e.value;return new i.ExportAsCommand({range:e.range,exportType:t.exportType})},initialize:function(e,t){var n=this,r=e.getKendoDropDownList();n.editor=t,r.bind(`change`,this.changeHandler.bind(this))},changeHandler:function(e){this._exec(e.sender.value()),e.sender.value(null),e.sender.wrapper.find(`.k-export-tool-text`).text(n.htmlEncode(this.editor.options.messages.exportAs))},update:function(e,t){var r=e.data(`kendoDropDownList`);r.close(),r.value(null),e.closest(`.k-dropdownlist`).find(`.k-export-tool-text`).text(n.htmlEncode(this.editor.options.messages.exportAs))},_exec:function(e){e&&s.exec(this.editor,this.options.name,{exportType:e})},destroy:function(){this._ancestor=null}});r(i,{ExportAsTool:d,ExportAsCommand:u}),c(`exportAs`,new d({ui:{type:`component`,overflow:`never`,component:`DropDownList`,componentOptions:{dataTextField:`text`,dataValueField:`value`,valuePrimitive:!0,value:null,width:`140px`,highlightFirst:!1,autoWidth:!0,itemTemplate:e=>`<span class="k-link k-menu-link" data-value="${e.value}">${e.text}</strong></span>`,icon:`export`,valueTemplate:()=>`<span class="k-editor-export">${n.ui.icon({icon:`export`,iconClass:`k-button-icon`})}<span class="k-export-tool-text"></span></span>`}}}))})(window.kendo.jQuery),(function(e,t){var n=window.kendo,r=n.Class,i=e.extend,a=n.ui.editor,o=a.Dom,s=a.EditorUtils.registerTool,c=a.Command,l=a.Tool,u=a.RangeUtils,d=o.blockElements,f=a.BlockFormatFinder,p=a.BlockFormatter;function m(n,r){var i=e(n).css(`direction`)==`rtl`?`Right`:`Left`,a=o.name(n)==`td`?`padding`+i:`margin`+i;if(r===t)return n.style[a]||0;r>0?n.style[a]=r+`px`:(n.style[a]=``,n.style.cssText||n.removeAttribute(`style`))}var h=r.extend({init:function(){this.finder=new f([{tags:o.blockElements}])},apply:function(t){t=o.filterBy(t,o.htmlIndentSpace,!0);var n=this.finder.findSuitable(t),r=[],i,a,s,c,l;if(n=this.mapImmutables(n),n.length){for(i=0,a=n.length;i<a;i++)o.is(n[i],`li`)?e(n[i]).index()?e.inArray(n[i].parentNode,r)<0&&r.push(n[i]):r.push(n[i].parentNode):r.push(n[i]);for(;r.length;)if(s=r.shift(),o.is(s,`li`)){c=s.parentNode,l=e(s).prev(`li`);var u=l.find(`ul,ol`).last(),d=e(s).children(`ul,ol`)[0];if(d&&l[0])u[0]?(u.append(s),u.append(e(d).children()),o.remove(d)):(l.append(d),d.insertBefore(s,d.firstChild));else for(d=l.children(`ul,ol`)[0],d||(d=o.create(s.ownerDocument,o.name(c),this.getListTypeAttr(c)),l.append(d));s&&s.parentNode==c;)d.appendChild(s),s=r.shift()}else{var f=parseInt(m(s),10)+30;m(s,f);for(var h=0;h<r.length;h++)e.contains(s,r[h])&&r.splice(h,1)}}else new p([{tags:[`p`]}],{style:{marginLeft:30}}).apply(t)},getListTypeAttr:function(e){var t=e.getAttribute(`type`),n=e.style.listStyleType;return t?{type:t}:{style:{listStyleType:n}}},mapImmutables:function(t){if(this.immutables){var n=[];return e.map(t,function(t){var r=a.Immutables.immutableParent(t);if(r)if(e.inArray(r,n)===-1)n.push(r);else return null;return r||t})}else return t},remove:function(t){t=o.filterBy(t,o.htmlIndentSpace,!0);var n=this.finder.findSuitable(t),r,i,a,s,c,l,u,d;for(n=this.mapImmutables(n),i=0,a=n.length;i<a;i++){if(u=e(n[i]),u.is(`li`))if(s=u.parent(),c=s.parent(),c.is(`li,ul,ol`)&&!m(s[0])){if(r&&e.contains(r,c[0]))continue;l=u.nextAll(`li`),l.length&&e(s[0].cloneNode(!1)).appendTo(u).append(l),c.is(`li`)?u.insertAfter(c):u.appendTo(c),s.children(`li`).length||s.remove();continue}else{if(r==s[0])continue;r=s[0]}else r=n[i];d=parseInt(m(r),10)-30,m(r,d)}}}),g=c.extend({init:function(e){var t=this;e.formatter={toggle:(function(e){var t=new h;t.immutables=this.editor&&this.editor.options.immutables,t.apply(u.nodes(e))}).bind(t)},c.fn.init.call(this,e)}}),_=c.extend({init:function(e){var t=this;e.formatter={toggle:(function(e){var t=new h;t.immutables=this.editor&&this.editor.options.immutables,t.remove(u.nodes(e))}).bind(t)},c.fn.init.call(this,e)}}),v=l.extend({init:function(e){l.fn.init.call(this,e),this.finder=new f([{tags:d}])},initialize:function(t,n){e.extend(this.options,{immutables:n&&n.options.immutables})},update:function(t,n){var r=this.finder.findSuitable(n),i=t.closest(`.k-toolbar`).data(`kendoToolBar`),s,c,l,u,d,f;for(l=0,u=r.length;l<u;l++)if(d=r[l],this.options.immutables&&(f=a.Immutables.immutableParent(d),f&&(d=f)),s=m(d),s||=(c=e(d).parents(`ul,ol`).length,o.is(d,`li`)&&(c>1||m(d.parentNode))||o.ofType(d,[`ul`,`ol`])&&c>0),s){i.enable(t,!0);return}i.enable(t,!1)}});i(a,{IndentFormatter:h,IndentCommand:g,OutdentCommand:_,OutdentTool:v}),s(`indent`,new l({command:g})),s(`outdent`,new v({command:_,ui:{enable:!1}}))})(window.kendo.jQuery),(function(e){var t=window.kendo,n=e.extend,r=t.ui.editor,i=r.Dom,a=r.Command,o=r.Tool,s=r.BlockFormatter,c=i.normalize,l=r.RangeUtils,u=r.EditorUtils.registerTool,d=a.extend({init:function(e){this.options=e,a.fn.init.call(this,e)},_insertMarker:function(e,t){var n=i.create(e,`a`),r;return n.className=`k-marker`,t.insertNode(n),n.parentNode||(r=t.commonAncestorContainer,r.innerHTML=``,r.appendChild(n)),c(n.parentNode),n},_moveFocus:function(e,t){if(i.isEmpty(t))e.setStartBefore(t);else{e.selectNodeContents(t);var n=l.textNodes(e)[0];if(!n){for(;t.childNodes.length&&!i.is(t.firstChild,`br`);)t=t.firstChild;n=t}if(i.isEmpty(n))e.setStartBefore(n);else{i.emptyNode(n)&&(n.innerHTML=`﻿`);var r=n.firstChild||n;i.isDataNode(r)?e.setStart(r,0):e.setStartBefore(r)}}},shouldTrim:function(e){var t=`p,h1,h2,h3,h4,h5,h6`.split(`,`),n=i.parentOfType(e.startContainer,t),r=i.parentOfType(e.endContainer,t);return n&&!r||!n&&r},_blankAfter:function(e){for(;e&&(i.isMarker(e)||i.stripBom(e.nodeValue)===``);)e=e.nextSibling;return!e},exec:function(){let t=this.getRange(),n=l.documentFromRange(t),a,o,u,d,f,p,m,h,g,_,v=r.emptyElementContent;if(this.expandImmutablesIn(t),_=this.shouldTrim(t),t.deleteContents(),f=this._insertMarker(n,t),i.stripBomNode(f.previousSibling),i.stripBomNode(f.nextSibling),p=i.closestEditableOfType(f,[`li`]),m=i.closestEditableOfType(f,`h1,h2,h3,h4,h5,h6`.split(`,`)),h=i.is(f.parentNode,`table`)&&f.parentNode,p){if(i.emptyNode(p)){d=i.create(n,`p`),i.next(p)&&(g=t.cloneRange(),g.selectNode(p),l.split(g,p.parentNode));let r=e(`br`,p);r.length==1&&r.remove();let a=p.parentNode,o=p.parentNode.children.length,s=o>=1&&p.childNodes.length==1&&p.children[0];i.insertAfter(d,a),i.remove(o==1?p.parentNode:p),s&&s!==f?(d.appendChild(s),d.appendChild(f)):d.innerHTML=v,u=d}}else m&&this._blankAfter(f)?(d=this._insertParagraphAfter(m),i.remove(f),u=d):h&&(d=this._insertParagraphAfter(h),i.remove(f),u=d);if(!u){p||m||new s([{tags:[`p`]}]).apply([f]),t.selectNode(f);let e=m?i.name(m):`p`;a=i.parentOfType(f,[p?`li`:e]),l.split(t,a,_),o=a.previousSibling,i.is(o,`li`)&&o.firstChild&&!i.is(o.firstChild,`br`)&&(o=o.firstChild),u=a.nextSibling,this.clean(o,{links:!0}),this.clean(u,{links:!0}),i.is(u,`li`)&&u.firstChild&&!i.is(u.firstChild,`br`)&&(u=u.firstChild),i.remove(a),c(o)}c(u),this._moveFocus(t,u),t.collapse(!0),i.scrollTo(u,!0),l.selectRange(t)},_insertParagraphAfter:function(e){var t=this.getRange(),n=l.documentFromRange(t),a=r.emptyElementContent,o=i.create(n,`p`);return i.insertAfter(o,e),o.innerHTML=a,o},clean:function(t,n){var a=t;if(t.firstChild&&i.is(t.firstChild,`br`)&&i.remove(t.firstChild),i.isDataNode(t)&&!t.nodeValue&&(t=t.parentNode),t){for(var o=!1;t.firstChild&&t.firstChild.nodeType==1;)o||=i.significantNodes(t.childNodes).length>1,t=t.firstChild;if(!i.isEmpty(t)&&t.className!=`k-br`&&/^\s*$/.test(t.innerHTML)&&!o&&(e(a).find(`.k-br`).remove(),t.innerHTML=r.emptyElementContent),n&&n.links)for(;t!=a;){if(i.is(t,`a`)&&i.emptyNode(t)){i.unwrap(t);break}t=t.parentNode}}}}),f=a.extend({init:function(e){this.options=e,a.fn.init.call(this,e)},exec:function(){var n=this.getRange();this.expandImmutablesIn(n);var r=i.create(l.documentFromRange(n),`br`),a=n.startContainer,o,s=t.support.browser,u=s.msie&&s.version<11,d=i.is(a,`table`)&&a,f;n.deleteContents(),d?i.insertAfter(r,d):(f=e(a).closest(`.k-br`),n.insertNode(r),f.length&&i.unwrap(f[0])),c(r.parentNode),!u&&(!r.nextSibling||i.isWhitespace(r.nextSibling))&&(r.nextSibling&&i.isWhitespace(r.nextSibling)&&e(r.nextSibling).remove(),o=r.cloneNode(!0),o.className=`k-br`,i.insertAfter(o,r)),n.setStartAfter(r),n.collapse(!0),i.scrollTo(r.nextSibling||r,!0),l.selectRange(n)}});n(r,{ParagraphCommand:d,NewLineCommand:f}),u(`insertLineBreak`,new o({key:13,shift:!0,command:f})),u(`insertParagraph`,new o({key:13,command:d}))})(window.kendo.jQuery),(function(e,t){var n=window.kendo,r=e.extend,i=n.htmlEncode,a=n.ui.editor,o=a.EditorUtils,s=a.Dom,c=o.registerTool,l=a.RangeUtils,u=a.Command,d=a.LinkFormatter,f=l.textNodes,p=n.keys,m=`#k-editor-file-url`,h=`#k-editor-file-text`,g=`#k-editor-file-title`,_=u.extend({init:function(e){var t=this;u.fn.init.call(t,e),t.formatter=new d,t.async=!0,t.attributes={}},insertFile:function(e,t){var n=this.attributes,r=l.documentFromRange(t);if(n.href&&n.href!=`http://`)if(e)s.attr(e,n);else return e=s.create(r,`a`,{href:n.href}),e.innerHTML=n.innerHTML,e.title=n.title,t.deleteContents(),t.insertNode(e),e.nextSibling||s.insertAfter(r.createTextNode(`﻿`),e),t.setStartAfter(e),t.setEndAfter(e),l.selectRange(t),!0;return!1},redo:function(){var e=this,t=e.lockRange();this.formatter.apply(t,this.attributes),e.releaseRange(t)},exec:function(){var e=this,i=e.lockRange(),a=f(i),o=!1,c=a.length?this.formatter.finder.findSuitable(a[0]):null,u,d,_=n.support.browser.msie,v=e.editor.options,y=v.messages,b=v.fileBrowser,x=!!(n.ui.FileBrowser&&b&&b.transport&&b.transport.read!==t),S={title:y.insertFile,visible:!1,resizable:x};this.expandImmutablesIn(i);function C(t){var n=u.element,r=n.find(m).val().replace(/ /g,`%20`),a=n.find(h).val(),s=n.find(g).val();e.attributes={href:r,innerHTML:a===``?r:a,title:s},o=e.insertFile(c,i),w(t),e.change&&e.change()}function w(t){t.preventDefault(),d.destroy(),u.destroy(),s.windowFromDocument(l.documentFromRange(i)).focus(),o||e.releaseRange(i)}function T(e){e.keyCode==p.ENTER?C(e):e.keyCode==p.ESC&&w(e)}S.close=w,x&&(S.width=750),S.minWidth=350,u=this.createDialog(`<div/>`,S).data(`kendoWindow`),d=e._createForm(u,x),u.element.toggleClass(`k-filebrowser-dialog`,x),u.wrapper.find(`.k-dialog-insert`).on(`click`,C).end().find(`.k-dialog-close`).on(`click`,w).end().find(`.k-form-field input`).on(`keydown`,T).end().find(m).val(c?c.getAttribute(`href`,2):`http://`).end().find(h).val(c?c.innerText:``).end().find(g).val(c?c.title:``).end();var E=u.element;if(x&&(e._fileBrowser=new n.ui.FileBrowser(E.find(`.k-filebrowser`),r({},b)),e._fileBrowser.bind(`change`,function(e){e.selected.get(`type`)===`f`&&E.find(m).val(this.value())}),e._fileBrowser.bind(`apply`,C)),_){var D=E.closest(`.k-window`).height();E.css(`max-height`,D)}u.center().open(),E.find(m).trigger(`focus`).select()},_createForm:function(t,n){var r=this,a=e(`<div/>`).appendTo(t.element),o=r.editor.options.messages,s=a.kendoForm({renderButtons:!1,items:[{field:`k-editor-file-url`,label:i(o.fileWebAddress),editor:`TextBox`},{field:`k-editor-file-text`,label:i(o.fileText),editor:`TextBox`},{field:`k-editor-file-title`,label:i(o.fileTitle),editor:`TextBox`}]}).data(`kendoForm`);return n&&a.prepend(e(`<div class="k-filebrowser"></div>`)),t.element.after(e(r._actionButtonsTemplate({messages:o,insertButtonIcon:`file-add`,cancelButtonIcon:`cancel-outline`}))),s}});n.ui.editor.FileCommand=_,c(`insertFile`,new a.Tool({command:_}))})(window.kendo.jQuery),(function(e,t){var n=window.kendo,r=e.extend,i=n.ui.editor,a=i.Dom,o=i.RangeUtils,s=i.Command,c=`kendoEditor`,l=`k-active`,u=`k-selected`,d=`scope`,f=`row`,p=`col`,m=`rowgroup`,h=`colgroup`,g=`colspan`,_=`rowspan`,v=`table`,y=`thead`,b=`tbody`,x=`tr`,S=`td`,C=`th`,w=i.Tool,T=i.InsertHtmlCommand,E=i.BlockFormatFinder,D=i.BlockFormatTool,O=i.FormatCommand,k=i.EditorUtils.registerTool,A=i.EditorUtils.registerFormat,j=n.ui.Editor.fn.options.formats,M=n.getTouches,N=n.template,P=({width:e,content:t})=>`<td style="width:${e}%;">${t}</td>`,F=new E([{tags:[v]}]),I=T.extend({init:function(t){var n=e.extend({postProcess:this.postProcess,skipCleaners:!0},t||{});T.fn.init.call(this,n)},_tableHtml:function(e,t){e||=1,t||=1;var n=N(P)({width:100/t,content:i.emptyTableCellContent}),r=100/e;return`<table class='k-table' data-last>`+Array(e+1).join(`<tr style='height:`+r+`%;'>`+Array(t+1).join(n)+`</tr>`)+`</table>`},postProcess:function(t,n){var r=e(`table[data-last]`,t.document).removeAttr(`data-last`);n.setStart(r.find(S)[0],0),n.collapse(!0),t.selectRange(n)},exec:function(){var e=this.options;e.html=this._tableHtml(e.rows,e.columns),T.fn.exec.call(this)}}),L=w.extend({initialize:function(t,n){var r=this,a=e(`<button>`+n.options.messages.tableWizard+`</button>`),o=e(this.options.popupTemplate).appendTo(`body`).kendoPopup({anchor:t,copyAnchorStyles:!1,open:this._open.bind(this),activate:this._activate.bind(this),close:this._close.bind(this)}).data(`kendoPopup`);t.on(`click`,this._toggle.bind(this)).on(`keydown`,this._keydown.bind(this)),this._editor=n,this._popup=o,n.tablePopup=this._popup,k(`tableWizardInsert`,new i.TableWizardTool({command:i.TableWizardCommand,insertNewTable:!0})),a.appendTo(o.element),a.kendoButton({icon:`table-wizard`}),a.on(`click`,()=>{r._editor.exec(`tableWizardInsert`)})},popup:function(){return this._popup},_activate:e.noop,_open:function(){this._popup.options.anchor.addClass(l)},_close:function(){this._popup.options.anchor.removeClass(l)},_keydown:function(e){var t=this,r=n.keys,i=e.keyCode;i==r.ESC?t._popup.close():i==r.DOWN&&e.altKey?(t._popup.open(),t._setTableSize({row:1,col:1})):i===r.ENTER&&setTimeout(()=>{t._setTableSize({row:1,col:1})})},_toggle:function(t){e(t.target).closest(`.k-tool`).hasClass(`k-disabled`)||this.popup().toggle()},update:function(e){var t=this.popup();t.wrapper&&t.wrapper.css(`display`)==`block`&&t.close(),e.removeClass(`k-hover`)},destroy:function(){this._popup&&this._popup.destroy()}}),R=L.extend({init:function(t){this.cols=8,this.rows=6,L.fn.init.call(this,e.extend(t,{command:I,popupTemplate:`<div class='k-ct-popup'><div>`+Array(this.cols*this.rows+1).join(`<span class='k-ct-cell k-disabled'></span>`)+`</div><div class='k-status'></div></div>`}))},_activate:function(){var t=this,r=t._popup.element,i=r.find(`.k-ct-cell`),a=i.eq(0),o=i.eq(i.length-1),s=n.getOffset(a),l=n.getOffset(o),u=t.cols,d=t.rows,f,p;r.find(`*`).addBack().attr(`unselectable`,`on`),l.left+=o[0].offsetWidth,l.top+=o[0].offsetHeight,f=(l.left-s.left)/u,p=(l.top-s.top)/d;function m(t){var n=e(window);return{row:Math.floor((t.clientY+n.scrollTop()-s.top)/p)+1,col:Math.floor((t.clientX+n.scrollLeft()-s.left)/f)+1}}r.autoApplyNS(c).on(`mousemove`,`.k-ct-cell`,function(e){t._setTableSize(m(e))}).on(`mouseleave`,`.k-ct-cell`,function(){t._setTableSize()}).on(`down`,`.k-ct-cell`,function(e){e.preventDefault();var n=M(e)[0];t._exec(m(n.location))})},_valid:function(e){return e&&e.row>0&&e.col>0&&e.row<=this.rows&&e.col<=this.cols},_exec:function(e){this._valid(e)&&(this._editor.exec(`createTable`,{rows:e.row,columns:e.col}),this._popup.close())},_setTableSize:function(t){var r=this._popup.element,i=r.find(`.k-status`),a=r.find(`.k-ct-cell`),o=this.cols,s=this._editor.options.messages;this._valid(t)?(i.text(n.format(s.createTableHint,t.row,t.col)),a.each(function(n){e(this).toggleClass(u,n%o<t.col&&n/o<t.row)})):(i.text(s.createTable),a.removeClass(u))},_keydown:function(e){var t=this._popup.visible();if(L.fn._keydown.call(this,e),this._popup.visible()){var r=n.keys,i=e.keyCode,a=this._popup.element.find(`.k-ct-cell`),o=Math.max(a.filter(`.k-selected`).last().index(),0),s=Math.floor(o/this.cols),c=o%this.cols,l=!1,u;i==r.DOWN&&!e.altKey?(l=!0,s++):i==r.UP?(l=!0,s--):i==r.RIGHT?(l=!0,c++):i==r.LEFT?(l=!0,c--):i==r.TAB&&(u=this._popup.element.find(`.k-button`),u.length>0&&(l=!0,u.trigger(`focus`)));var d={row:Math.max(1,Math.min(this.rows,s+1)),col:Math.max(1,Math.min(this.cols,c+1))};i==r.ENTER&&t?this._exec(d):this._setTableSize(d),l&&(e.preventDefault(),e.stopImmediatePropagation())}},_open:function(){var e=this._editor.options.messages;L.fn._open.call(this),this.popup().element.find(`.k-status`).text(e.createTable).end().find(`.k-ct-cell`).removeClass(u)},_close:function(){L.fn._close.call(this),this.popup().element.off(`.`+c)}}),z=s.extend({undo:function(){var t=this.restorePoint;t.restoreHtml(),e(this.editor.body).find(`.k-element-resize-handle-wrapper`).each(function(e,t){t.remove()}),this.editor.selectRange(t.toRange())},_clearColIndexAttr:function(e){a.clearTableMappings(e,`col-index`)},_mapColIndices:function(e){a.reMapTableColumns(e,`col-index`)},_findRowSpanCell:function(t,n,r){for(var i,a,o=n;o>=0;o--)if(i=t.rows[o],a=e(i).find(`[col-index=`+r+`]`),a.length)return a},_resetElementResizing:function(e){e._destroyResizings(),e._initializeColumnResizing(),e._initializeRowResizing(),e._initializeElementResizing()},_findNextTdInRow:function(e,t){for(var n=e.find(`td:last-child`),r=parseInt(n.attr(`col-index`),10)+n.prop(`colSpan`)-1,i,a=t;a<=r;a++)if(i=e.find(`[col-index=`+a+`]`),i.length)return i},_adjustColgroups:function(e,t){for(var n=t.getElementsByTagName(p),r=t.getElementsByTagName(h),i=e.cells,o=i.length,s,c,l;n.length>0;)n[0].remove();for(;r.length>0;)r[0].remove();for(s=o-1;s>=0;s--)l=i[s],l.getAttribute(d)===h?(c=a.createEmptyNode(this.editor.document,h),c.setAttribute(`span`,l.getAttribute(g)),t.prepend(c)):t.prepend(a.createEmptyNode(this.editor.document,p))},_associateHeaderIds:function(t){a.clearTableMappings(t,`col-index`),a.reMapTableColumns(t,`col-index`),e(t).find(`th, td`).removeAttr(`id headers`),a.associateWithIds(t)},_getNumberOfColumns:function(e){return a._getNumberOfColumns(e,`td, th`)}}),B=z.extend({exec:function(){var t=this.lockRange(!0),n=a.closest(t.endContainer,[S,C]),r=a.closest(n,v),o=this.options.position||`after`,s,c,l,u,p,h,g;if(!r||this.immutables()&&i.Immutables.immutableParent(n)){this.releaseRange(t);return}this._mapColIndices(r),c=n.parentNode,p=a.findNodeIndex(c,!0),n.rowSpan>1&&o===`after`&&(c=r.rows[p+n.rowSpan-1]),s=this._getNumberOfColumns(r),u=c.cloneNode(!0),e(u).empty();for(var y=0;y<s;y+=l.prop(`colSpan`))l=e(c).find(`[col-index=`+y+`]`),l.length?l.prop(`rowSpan`)>1&&o===`after`&&l?l.attr(_,l.prop(`rowSpan`)+1):this._appendCell(u,l):(p=a.findNodeIndex(c,!0),l=this._findRowSpanCell(c.parentElement,p,y),h=l.closest(x).index(),h+l.prop(`rowSpan`)-1===p&&o===`after`?this._appendCell(u,l):l.attr(_,l.prop(`rowSpan`)+1)),g=e(u).find(`[col-index=`+y+`]`),g.attr(d)===m&&!g.attr(_)&&g.attr(d,f);o==`before`?a.insertBefore(u,c):a.insertAfter(u,c),e(r).find(`[headers]`).length>0&&this._associateHeaderIds(r),this._clearColIndexAttr(r),this.releaseRange(t),this._resetElementResizing(this.editor)},_appendCell:function(e,t){var n=t.clone();n.html(i.emptyTableCellContent),n.removeAttr(_),n.appendTo(e)}}),V=z.extend({exec:function(){var t=this.lockRange(!0),n=a.closest(t.endContainer,[S,C]),r=a.closest(n,v),o=r.getElementsByTagName(p),s=r.getElementsByTagName(h),c,l,u=r&&r.rows,f,m,_=this.options.position||`after`;if(!n||this.immutables()&&i.Immutables.immutableParent(n)){this.releaseRange(t);return}for(this._mapColIndices(r),c=parseInt(n.getAttribute(`col-index`),10),n.colSpan>1&&_===`after`&&(n.setAttribute(`col-index`,c+n.colSpan-1),c=c+n.colSpan-1),l=0;l<u.length;l++)f=this._processForColSpan(u[l],c,_,n),f&&(m=f.cloneNode(),m.innerHTML=i.emptyTableCellContent,m.removeAttribute(g),m.getAttribute(d)&&m.getAttribute(d)===h&&m.setAttribute(d,p),_==`before`?a.insertBefore(m,f):a.insertAfter(m,f),this._resizeCells(m,f));(o.length>0||s.length>0)&&this._adjustColgroups(u[0],r),e(r).find(`[headers]`).length>0&&this._associateHeaderIds(r),this._clearColIndexAttr(r),this.releaseRange(t),this._resetElementResizing(this.editor)},_processForColSpan:function(t,n,r,i){var a,o,s=n-1;if(a=e(t).find(`[col-index=`+n+`]`)[0],a&&a.colSpan>1&&r===`after`&&a!==i){a.colSpan+=1;return}if(a)return a;for(;s>=0&&(a=e(t).find(`[col-index=`+s+`]`)[0],!(a&&a.colSpan>1));s--);if(a){if(o=parseInt(a.getAttribute(`col-index`),10)+a.colSpan-1,o===n&&r===`after`)return a;n<=o&&a.setAttribute(g,a.colSpan+1)}},_resizeCells:function(e,t){var n=e.style.width,r,i,a;n&&(r=parseFloat(n),i=n.slice(r.toString().length),a=r/2+i,e.style.width=a,t.style.width=a)}}),H=z.extend({exec:function(){var t=this.lockRange(),n=o.mapAll(t,function(t){return e(t).closest(x)[0]}),r=a.closest(t.endContainer,[S,C]),s=n[0],c=r?r.rowSpan:1,l=e(n[0]).index(),u=a.closest(s,v),d=s.parentElement,f;if(!u||this.immutables()&&i.Immutables.immutableParent(s)){this.releaseRange(t);return}for(var p=0;p<c;p++)n.indexOf(d.rows[l+p])<0&&n.push(d.rows[l+p]);if(u.rows.length<=n.length)f=a.next(u),(!f||a.insignificant(f))&&(f=a.prev(u)),f&&f.rows&&(f=f.rows[0].cells[0]),a.remove(u),this._resetElementResizing(this.editor);else if(d.rows.length<=n.length)f=d.nextSibling,f||=d.previousSibling,a.remove(d);else{this._mapColIndices(u);for(var m=0;m<n.length;m++)s=n[m],a.removeTextSiblings(s),f=a.next(s)||a.prev(s),f=f.cells[0],this._focusElement(t,f),f=null,this._handleRowSpanCells(u,s),a.remove(s);this._clearColIndexAttr(u)}e(u).find(`[headers]`).length>0?this._associateHeaderIds(u):a.is(d,y)&&e(u).find(`[scope]`).length>0&&this._adjustColgroups(d.rows[0],u),f&&this._focusElement(t,f),this._resetElementResizing(this.editor)},_focusElement:function(e,t){e.setStart(t,0),e.collapse(!0),this.editor.selectRange(e)},_handleRowSpanCells:function(t,n){var r,i,o,s,c=a.findNodeIndex(n,!0),l=t.rows[0],u=l.cells[l.cells.length-1],d=parseInt(u.getAttribute(`col-index`),10)+u.colSpan-1;for(r=0;r<=d;r+=i.prop(`colSpan`))i=e(n).find(`[col-index=`+r+`]`),i.length&&i.prop(`rowSpan`)>1&&(s=t.rows[c+1],o=e(s).find(`[col-index=`+(r+1)+`]`),o.length?o.before(i):e(s).append(i),this._reduceRowSpan(i)),i.length||(i=this._findRowSpanCell(n.parentElement,c,r),this._reduceRowSpan(i))},_reduceRowSpan:function(e){var t=e.prop(`rowSpan`)-1;t<=1?(e.removeAttr(_),e.attr(d)===m&&e.attr(d,f)):e.attr(_,t)}}),U=z.extend({exec:function(){var t=this.lockRange(),n=a.closest(t.endContainer,[S,C]),r=a.closest(n,v),o=r&&r.rows,s=o&&o[0].cells.length,c=r.getElementsByTagName(p),l=r.getElementsByTagName(h),u,d,f,m,g;if(!n||this.immutables()&&i.Immutables.immutableParent(n)){this.releaseRange(t);return}if(s==1||n.colSpan==s)u=a.next(r),(!u||a.insignificant(u))&&(u=a.prev(r)),u&&u.rows&&(u=u.rows[0].cells[0]),a.remove(r),this._resetElementResizing(this.editor);else{for(a.removeTextSiblings(n),u=a.next(n)||a.prev(n),this._mapColIndices(r),d=parseInt(n.getAttribute(`col-index`),10),g=0;g<n.colSpan;g++)for(f=0;f<o.length;f+=m.prop(`rowSpan`)||1)m=e(o[f]).find(`[col-index=`+(d+g)+`]`),m.length&&m.prop(`colSpan`)<=1?m.remove():this._handleColSpanCells(o[f],d+g);this._clearColIndexAttr(r)}(c.length>0||l.length>0)&&this._adjustColgroups(o[0],r),e(r).find(`[headers]`).length>0&&this._associateHeaderIds(r),u&&(t.setStart(u,0),t.collapse(!0),this.editor.selectRange(t)),this._resetElementResizing(this.editor)},_handleColSpanCells:function(t,n){var r=e(t).find(`[col-index=`+n+`]`);if(r.length&&r.prop(`colSpan`)>1){var i=r.clone(!0);r.after(i),this._reduceColSpan(i),i.attr(`col-index`,parseInt(r.attr(`col-index`),10)+1),r.remove();return}for(var a=n;a>=0;a--)if(r=e(t).find(`[col-index=`+a+`]`),r.length){this._reduceColSpan(r),r.attr(`col-index`,parseInt(r.attr(`col-index`),10)+1);return}},_reduceColSpan:function(e){var t=e.prop(`colSpan`)-1;t<=1?(e.removeAttr(g),e.attr(d)===h&&e.attr(d,p)):e.attr(g,t)}}),W=z.extend({exec:function(){var t=this.lockRange(),n=a.closest(t.endContainer,[S,C]),r,o,s,c,l;if(!n){this.releaseRange(t);return}if(r=a.closest(n,v),o=n.parentNode,s=a.findNodeIndex(n,!0),c=o.children[s+1],this.immutables()&&i.Immutables.immutableParent(n)){this.releaseRange(t);return}if(this._mapColIndices(r),s=parseInt(e(n).attr(`col-index`),10),c=e(o).find(`[col-index=`+(s+1+this._getColspan(n)-1)+`]`).get(0),!c||c.rowSpan!==n.rowSpan||n.tagName!==c.tagName){this._clearColIndexAttr(r),this.releaseRange(t);return}l=this._getColspan(n)+this._getColspan(c),e(n).prop(g,l).append(a.emptyNode(c)?``:`<br/>`+c.innerHTML),e(n).width(n.offsetWidth),e(c).remove(),n.getAttribute(d)===p&&n.setAttribute(d,h),n.getAttribute(d)===h&&this._adjustColgroups(o,r),e(r).find(`[headers]`).length>0&&this._associateHeaderIds(r),this._clearColIndexAttr(r),this.releaseRange(t),this._resetElementResizing(this.editor)},_getColspan:function(e){return parseInt(e.getAttribute(g),10)||1}}),G=z.extend({exec:function(){var t=this.lockRange(),n=a.closest(t.endContainer,[S,C]),r,o,s,c,l,u,p;if(!n){this.releaseRange(t);return}if(r=a.closest(n,x),o=a.closest(n,[y,b]),s=a.closest(n,v),c=a.findNodeIndex(n,!0),l=a.findNodeIndex(r,!0),l+1===o.rows.length){this.releaseRange(t);return}if(u=o.rows[l+this._getRowspan(n)],p=u&&u.children[c],this.immutables()&&i.Immutables.immutableParent(n)){this.releaseRange(t);return}if(this._mapColIndices(s),c=e(n).attr(`col-index`),p=e(u).find(`[col-index=`+c+`]`).get(0),!p||p.colSpan!==n.colSpan||n.tagName!==p.tagName){this._clearColIndexAttr(s),this.releaseRange(t);return}e(n).prop(_,this._getRowspan(n)+this._getRowspan(p)).append(a.emptyNode(p)?``:`<br/>`+p.innerHTML),n.getAttribute(d)===f&&n.setAttribute(d,m),e(p).remove(),e(s).find(`[headers]`).length>0&&this._associateHeaderIds(s),this._clearColIndexAttr(s),this.releaseRange(t)},_getRowspan:function(e){return parseInt(e.getAttribute(_),10)||1}}),K=z.extend({exec:function(){var t=this.lockRange(),n=this.options.type,r=n===`row`?g:_,o=a.closest(t.endContainer,[S,C]),s=a.closest(o,[y,b]),c=a.closest(o,v),l=a.createEmptyNode(this.editor.document,o.nodeName.toLowerCase());if(!o||this.immutables()&&i.Immutables.immutableParent(o)){this.releaseRange(t);return}this._mapColIndices(c),n===`row`&&e(o).is(`[`+r+`]`)?this._splitCellHorizontally(o,s,r,l):n===`column`&&e(o).is(`[`+r+`]`)&&this._splitCellVertically(o,s,r,l),e(o).prop(r.toLowerCase())<=1&&e(o).removeAttr(r),e(c).find(`[headers]`).length>0&&this._associateHeaderIds(c),this._clearColIndexAttr(c),this.releaseRange(t)},_getRowspanValue:function(e){return parseInt(e.getAttribute(_),10)},_getColspanValue:function(e){return parseInt(e.getAttribute(g),10)},_splitCellHorizontally:function(t,n,r,i){var a=t.rowSpan,o=t.colSpan,s=e(i),c=Math.floor(o/2);c>1&&s.attr(g,c),a>1&&s.attr(_,a),e(t).prop(r,o-c).after(s),e(t).width(t.offsetWidth),s.width(s[0].offsetWidth),t.hasAttribute(d)&&(t.getAttribute(d)===h?(s.attr(d,p),(!t.getAttribute(g)||t.getAttribute(g)===`1`)&&t.setAttribute(d,p),this._adjustColgroups(t.parentNode,n.parentNode)):s.attr(d,t.getAttribute(d)))},_splitCellVertically:function(t,n,r,i){var o=a.closest(t,x),s=parseInt(e(t).attr(`col-index`),10),c=a.findNodeIndex(o,!0),l=t.rowSpan,u=t.colSpan,p=Math.floor(l/2),h=e(n).find(x).eq(c+l-p),v=this._findNextTdInRow(h,s+u),y=e(i);p>1&&y.attr(_,p),u>1&&y.attr(g,u),v&&v.length?v.before(y):h.append(y),e(t).prop(r,l-p),t.hasAttribute(d)&&(t.getAttribute(d)===m?(y.attr(d,f),(!t.getAttribute(_)||t.getAttribute(_)===`1`)&&t.setAttribute(d,f)):y.attr(d,t.getAttribute(d)))}}),q=w.extend({command:function(e){var t={row:{insert:B,delete:H,merge:W,split:K},column:{insert:V,delete:U,merge:G,split:K}};return e=r(e,this.options),e.action=e.action||`insert`,new t[e.type][e.action](e)},update:function(e,t){var n=!F.isFormatted(t),r=e.closest(`.k-toolbar`).getKendoToolBar();n===!0?r.hide(e):r.show(e)}}),J=O.extend({exec:function(){var e=this.editor;O.fn.exec.call(this),e.elementResizing&&e.elementResizing._showResizeHandles()}}),Y=D.extend({update:function(e,t){var n=!F.isFormatted(t),r=this.options.finder.isFormatted(t,this.isTable),i=e.closest(`.k-toolbar`).getKendoToolBar();i&&i.toggle(e,r),n===!0?i.hide(e):i.show(e)},command:function(e){return new J(r(e,{formatter:this.options.formatter}))},isTable:function(e){return a.is(e,`table`)}});r(n.ui.editor,{PopupTool:L,TableCommand:I,InsertTableTool:R,TableFormatTool:Y,TableFormatCommand:J,TableModificationTool:q,InsertRowCommand:B,InsertColumnCommand:V,DeleteRowCommand:H,DeleteColumnCommand:U,MergeCellsHorizontallyCommand:W,MergeCellsVerticallyCommand:G,SplitCellCommand:K}),k(`createTable`,new R({ui:{popup:!0,overflow:`never`}})),k(`addColumnLeft`,new q({type:`column`,position:`before`})),k(`addColumnRight`,new q({type:`column`})),k(`addRowAbove`,new q({type:`row`,position:`before`})),k(`addRowBelow`,new q({type:`row`})),k(`deleteRow`,new q({type:`row`,action:`delete`})),k(`deleteColumn`,new q({type:`column`,action:`delete`})),k(`mergeCellsHorizontally`,new q({type:`row`,action:`merge`})),k(`mergeCellsVertically`,new q({type:`column`,action:`merge`})),k(`splitCellHorizontally`,new q({type:`row`,action:`split`})),k(`splitCellVertically`,new q({type:`column`,action:`split`})),A(`tableAlignLeft`,[{tags:[`table`],attr:{style:{marginLeft:``,marginRight:`auto`}}},{tags:[`table`],attr:{align:`left`}}]),k(`tableAlignLeft`,new Y({format:j.tableAlignLeft,ui:{togglable:!0,group:`tableAlign`}})),A(`tableAlignCenter`,[{tags:[`table`],attr:{style:{marginLeft:`auto`,marginRight:`auto`}}},{tags:[`table`],attr:{align:`center`}}]),k(`tableAlignCenter`,new Y({format:j.tableAlignCenter,ui:{togglable:!0,group:`tableAlign`}})),A(`tableAlignRight`,[{tags:[`table`],attr:{style:{marginLeft:`auto`,marginRight:``}}},{tags:[`table`],attr:{align:`right`}}]),k(`tableAlignRight`,new Y({format:j.tableAlignRight,ui:{togglable:!0,group:`tableAlign`}}))})(window.kendo.jQuery),(function(e){var t=window.kendo,n=t.Class,r=t.ui.editor,i=r.RangeUtils,a=r.Dom,o=r.RestorePoint,s=r.Marker,c=t.support.browser,l=e.extend,u=n.extend({init:function(e){this.editor=e;var t=e.options.pasteCleanup;this.nonSplittableTagsOnPaste=e.options.nonSplittableTagsOnPaste||[],this.cleaners=[new f(t),new p(t),new m(t),new h(t),new _(t),new v(t),new S(t),new C(t)]},htmlToFragment:function(e){var t=this.editor.document,n=a.create(t,`div`),r=t.createDocumentFragment();for(n.innerHTML=e;n.firstChild;)r.appendChild(n.firstChild);return r},isBlock:function(e){return/<(div|p|ul|ol|table|h[1-6])/i.test(e)},_startModification:function(){var e,t,n=this.editor;if(!this._inProgress)return this._inProgress=!0,e=n.getRange(),t=new o(e,n.body),a.persistScrollTop(n.document),{range:e,restorePoint:t}},_endModification:function(e){r._finishUpdate(this.editor,e.restorePoint),this.editor._selectionChange(),this._inProgress=!1},_contentModification:function(e,t){var n=this,r=n.editor,i=n._startModification();i&&(e.call(n,r,i.range),setTimeout(function(){t.call(n,r,i.range),n._endModification(i)}))},_removeBomNodes:function(e){for(var t=i.textNodes(e),n=0;n<t.length;n++)t[n].nodeValue=a.stripBom(t[n].nodeValue)||t[n].nodeValue},_onBeforeCopy:function(e){var t=new s;t.add(e),this._removeBomNodes(e),t.remove(e),this.editor.selectRange(e)},oncopy:function(){this._onBeforeCopy(this.editor.getRange())},oncut:function(){this._onBeforeCopy(this.editor.getRange()),this._contentModification(e.noop,e.noop)},_fileToDataURL:function(t){var n=e.Deferred(),r=new FileReader;if(!(!(t instanceof window.File)&&t.getAsFile&&(t=t.getAsFile(),!t)))return r.onload=n.resolve.bind(n),r.readAsDataURL(t),n.promise()},_triggerPaste:function(e,t){var n={html:e||``};n.html=n.html.replace(/\ufeff/g,``),this.editor.trigger(`paste`,n),this.paste(n.html,t||{})},_handleImagePaste:function(e){if(!(!(`FileReader`in window)||c.msie&&c.version>10)){var t=e.clipboardData||e.originalEvent.clipboardData||window.clipboardData||{},n=t.items||t.files;return this._insertImages(n)}},_insertImages:function(t){if(t){var n=e.grep(t,function(e){return/^image\//i.test(e.type)});if(!(e.grep(t,function(e){return/^text\/html/i.test(e.type)}).length||!n.length)){var r=this._startModification();if(r)return e.when.apply(e,e.map(n,this._fileToDataURL)).done((function(){var t=Array.prototype.slice.call(arguments),n=e.map(t,function(e){return`<img src="`+e.target.result+`" />`}).join(``);this._triggerPaste(n),this._endModification(r)}).bind(this)),!0}}},onpaste:function(n){if(this.editor.body.contentEditable!==`false`){if(this._handleImagePaste(n)){n.preventDefault();return}this.expandImmutablesIn(),this._contentModification(function(r,i){var o=a.create(r.document,`div`,{className:`k-paste-container`,innerHTML:`﻿`}),s=t.support.browser,c=r.body;if(this._decoreateClipboardNode(o,c),c.appendChild(o),s.webkit&&this._moveToCaretPosition(o,i),s.msie&&s.version<11){n.preventDefault();var l=r.createRange();l.selectNodeContents(o),r.selectRange(l);var u=r.document.body.createTextRange();u.moveToElementText(o),e(c).off(`paste`),u.execCommand(`Paste`),e(c).on(`paste`,this.onpaste.bind(this))}else{var d=r.createRange();d.selectNodeContents(o),r.selectRange(d)}i.deleteContents()},function(t,n){var r=``,i;t.selectRange(n),i=e(t.body).children(`.k-paste-container`),i.each(function(){var e=this.lastChild;e&&a.is(e,`br`)&&a.remove(e),r+=this.innerHTML}),i.remove(),this._triggerPaste(r,{clean:!0})})}},ondragover:function(e){(c.msie||c.edge)&&(e.stopPropagation(),e.preventDefault())},ondrop:function(e){if(`FileReader`in window){var t=(e.originalEvent||e).dataTransfer||{},n=t.items||t.files;this._insertImages(n)&&e.preventDefault()}},_decoreateClipboardNode:function(t,n){if(!(!c.msie&&!c.webkit)&&(t=e(t),t.css({borderWidth:`0px`,width:`0px`,height:`0px`,overflow:`hidden`,margin:`0`,padding:`0`}),c.msie)){var r=e(n.ownerDocument.documentElement);t.css({fontVariant:`normal`,fontWeight:`normal`,lineSpacing:`normal`,lineHeight:`normal`,textDecoration:`none`});var i=r.css(`color`);i&&t.css(`color`,i);var a=r.css(`fontFamily`);a&&t.css(`fontFamily`,a);var o=r.css(`fontSize`);o&&t.css(`fontSize`,o)}},_moveToCaretPosition:function(t,n){var r=this,i=r.editor.body,o=a.offset(t,i),s=r._caretOffset(n,i),c=s.left-o.left,l=s.top-o.top,u=`translate(`+c+`px,`+l+`px)`;e(t).css({"-webkit-transform":u,transform:u})},_caretOffset:function(e,t){var n=this.editor,r=a.create(n.document,`span`,{innerHTML:`﻿`}),i=e.startContainer,o;if(e.collapsed){var s=a.isDataNode(i);s&&(a.isBom(i)||e.startOffset===0)?a.insertBefore(r,i):s&&e.startOffset===i.length?a.insertAfter(r,i):(e.insertNode(r),o=!0)}else i=i===t?i.childNodes[e.startOffset]:i,a.insertBefore(r,i);var c=a.offset(r,t),l=r.previousSibling,u=r.nextSibling;if(a.remove(r),o&&a.isDataNode(l)&&a.isDataNode(u)&&!a.isBom(l)&&!a.isBom(u)){var d=l.length;u.data=l.data+u.data,e.setStart(u,d),a.remove(l),e.collapse(!0),n.selectRange(e)}return c},expandImmutablesIn:function(e){var n=this.editor;if(n&&n.options.immutables){var r=n.body;if(e||=n.getRange(),t.ui.editor.Immutables.expandImmutablesIn(e),e.startContainer===r&&e.startOffset===0){var i=r.ownerDocument.createTextNode(`﻿`);r.insertBefore(i,r.childNodes[0]),e.setStartBefore(i)}n.selectRange(e)}},splittableParent:function(e,t){var n,r;if(e)return a.closestEditableOfType(t,[`p`,`ul`,`ol`])||t.parentNode;if(n=t.parentNode,r=t.ownerDocument.body,a.isInline(n))for(;n.parentNode!=r&&!a.isBlock(n.parentNode);)n=n.parentNode;return n},paste:function(t,n){var r=this.editor,o=this.nonSplittableTagsOnPaste,c=!1,u=!1,d,f,p,m;if(this.expandImmutablesIn(),n=l({clean:!1,split:!0},n),!n.skipCleaners)for(d=0,f=this.cleaners.length;d<f;d++)this.cleaners[d].applicable(t)&&(t=this.cleaners[d].clean(t));n.clean&&(t=t.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,`$3`),t=t.replace(/<(a|span)[^>]*><\/\1>/gi,``)),t=t.replace(/<(a|span|font)([^>]*)> <\/\1>/gi,`<$1$2>&nbsp;</$1>`),t=t.replace(/^<li/i,`<ul><li`).replace(/li>$/g,`li></ul>`);var h=this.isBlock(t);r.focus();var g=r.getRange();g.deleteContents(),g.startContainer==r.document&&g.selectNodeContents(r.body);var _=new s,v=_.addCaret(g),y=this.splittableParent(h,v),b=!1;for(d=0;d<o.length;d++){let e=o[d],t=e.tag||e;if(a.is(y,t)){c=!0,u=e.unwrap!==!1;break}}var x=y!=r.body&&!a.is(y,`td`)&&!c;n.split&&x&&(h||a.isInline(y))&&(g.selectNode(v),i.split(g,y,!0),b=!0);var S=this.htmlToFragment(t);if(S.firstChild&&S.firstChild.className===`k-paste-container`){var C=[];for(d=0,f=S.childNodes.length;d<f;d++)C.push(S.childNodes[d].innerHTML);S=this.htmlToFragment(C.join(`<br />`))}if(p=S.childNodes,u&&(m=a.list(p[0]),a.unwrap(p[0]),m&&g.selectNode(v.parentNode)),e(p).filter(`table`).addClass(`k-table`).end().find(`table`).addClass(`k-table`),e(p).each(function(e,t){a.isBlock(t)&&!a.isSelfClosing(t)&&t.innerHTML===``&&t.appendChild(r.document.createTextNode(`﻿`))}),g.insertNode(S),y=this.splittableParent(h,v),b){for(;v.parentNode!=y;)a.unwrap(v.parentNode);a.unwrap(v.parentNode)}a.normalize(g.commonAncestorContainer),v.style.display=`inline`,a.restoreScrollTop(r.document),a.scrollTo(v),_.removeCaret(g);var w=g.commonAncestorContainer.parentNode;(g.collapsed&&a.name(w)==`tbody`||g.collapsed&&a.name(w)==`thead`)&&(g.setStartAfter(e(w).closest(`table`)[0]),g.collapse(!0));var T=e(g.commonAncestorContainer.parentNode).closest(`table`);if(T.get(0)){for(var E=T.parent().contents(),D=E.length-1,O=E.get(D);O.nodeValue!==null&&(O.nodeValue===` `||O.nodeValue===``);)--D,O=E.get(D);O===T.get(0)&&!T.parents(`table`).length&&a.insertAfter(a.createEmptyNode(r.document,`p`),T[0])}r._handleSpaceAndNewLines(),r.selectRange(g)}}),d=n.extend({init:function(e){this.options=e||{},this.replacements=[]},clean:function(e,t){var n=t||this.replacements,r,i;for(r=0,i=n.length;r<i;r+=2)e=e.replace(n[r],n[r+1]);return e}}),f=d.extend({init:function(e){d.fn.init.call(this,e),this.replacements=[/<(\/?)script([^>]*)>/i,`<$1telerik:script$2>`]},applicable:function(e){return!this.options.none&&/<script[^>]*>/i.test(e)}}),p=d.extend({init:function(e){d.fn.init.call(this,e);var t=` `;this.replacements=[/<span\s+class="Apple-tab-span"[^>]*>\s*<\/span>/gi,t,/\t/gi,t,/&nbsp;&nbsp; &nbsp;/gi,t]},applicable:function(e){return/&nbsp;&nbsp; &nbsp;|class="?Apple-tab-span/i.test(e)}}),m=d.extend({init:function(e){d.fn.init.call(this,e),this.junkReplacements=[/<\?xml[^>]*>/gi,``,/<!--(.|\n)*?-->/g,``,/&quot;/g,`'`,/<o:p>&nbsp;<\/o:p>/gi,`&nbsp;`,/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,``,/<\/o>/g,``],this.replacements=this.junkReplacements.concat([/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,`$1`,/<br><br>/g,`<BR><BR>`,/<br>\n/g,`<br/>`,/<br>(?!\n)/g,` `,/<table([^>]*)>(\s|&nbsp;)+<t/gi,`<table$1><t`,/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,``,/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,``,/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,``,/<BR><BR>/g,`<br>`,/^\s*(&nbsp;)+/gi,``,/(&nbsp;|<br[^>]*>)+\s*$/gi,``,/mso-[^;"]*;?/gi,``,/<(\/?)b(\s[^>]*)?>/gi,`<$1strong$2>`,/<(\/?)font(\s[^>]*)?>/gi,this.convertFontMatch,/<(\/?)i(\s[^>]*)?>/gi,`<$1em$2>`,/style=(["|'])\s*\1/g,``,/(<br[^>]*>)?\n/g,function(e,t){return t?e:` `}])},convertFontMatch:function(e,t,n){var r=/face=['"]([^'"]+)['"]/i.exec(n),i=n&&r&&r[1];return t?`</span>`:i?`<span style="font-family:`+i+`">`:`<span>`},applicable:function(e){return/class="?Mso/i.test(e)||/style="[^"]*mso-/i.test(e)||/urn:schemas-microsoft-com:office/.test(e)},stripEmptyAnchors:function(e){return e.replace(/<a([^>]*)>\s*<\/a>/gi,function(e,t){return!t||t.indexOf(`href`)<0?``:e})},listType:function(e,t){var n=e.innerHTML,r=a.innerText(e),i,o=n.match(/^(?:<span [^>]*texhtml[^>]*>)?<span [^>]*(?:Symbol|Wingdings)[^>]*>([^<]+)/i),s=o&&o[1],c=/^[a-z\d]/i.test(s),l=function(e){return e.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,``)};if(o&&(i=!0),n=n.replace(/<\/?\w+[^>]*>/g,``).replace(/&nbsp;/g,`\xA0`),!i&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(n)||i&&/^.\u00a0+/.test(n)||s&&!c&&t)return{tag:`ul`,style:this._guessUnorderedListStyle(l(r))};if(/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(n))return{tag:`ol`,style:this._guessOrderedListStyle(l(r))}},_convertToLi:function(e){var t;return e.childNodes.length==1?(t=e.firstChild.nodeType===a.nodeTypes.TEXT_NODE?a.innerText(e):e.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,``),t=this._checkForBullet(t)):t=this._getHtmlNoBullet(e),a.remove(e),a.create(document,`li`,{innerHTML:t})},_checkForBullet:function(e){var t=a.create(document,`p`,{innerHTML:e});return/^\s*\w+[\.\)]\s+/.test(t.innerText)?this._getHtmlNoBullet(t):e},_getHtmlNoBullet:function(e){var t,n=a.name(e);return a.remove(e.firstChild),e.firstChild.nodeType==3&&/^[ivxlcdm]+\.$/i.test(e.firstChild.nodeValue)&&a.remove(e.firstChild),/^(&nbsp;|\s)+$/i.test(e.firstChild.innerHTML)&&a.remove(e.firstChild),t=n==`p`?e.innerHTML:`<`+n+`>`+e.innerHTML+`</`+n+`>`,t},_guessUnorderedListStyle:function(e){return/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(e)?null:/^o/.test(e)?`circle`:`square`},_guessOrderedListStyle:function(e){var t=null;return/^\d/.test(e)||(t=(/^[a-z]/.test(e)?`lower-`:`upper-`)+(/^[ivxlcdm]/i.test(e)?`roman`:`alpha`)),t},extractListLevels:function(e){return e=e.replace(/style=['"]?[^'"]*?mso-list:\s?[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi,function(e,n,r){return t.format(`data-list="{0}" data-level="{1}" {2}`,n,r,e)}),e},_createList:function(e,t){return a.create(document,e,{style:{listStyleType:t}})},lists:function(t){var n=e(t).find(a.blockElements.join(`,`)),r=-1,i,o={},s,l,u,d,f,p,m,h,g,_,v,y,b=[`p`,`h1`,`h2`,`h3`,`h4`,`h5`,`h6`],x=!1;for(m=0;m<n.length;m++){h=n[m],y=e(h).data();var S=y.list;if(i=a.name(h),x=!!e(h).parents(`table`).length,!x){var C=this.listType(h,y);if(g=C&&C.tag,!g||b.indexOf(i)<0){h.innerHTML?s&&!f&&s.appendChild(h):a.remove(h);continue}if(!c.msie){_=y.level||parseFloat(h.style.marginLeft||0);var w=g+S;o[_]||(o[_]={}),(!l||l<0)&&(l=_,u=S,d=e(t).find(`[data-list='`+u+`']`).last()[0],p=this._createList(g,C.style),a.insertBefore(p,h),r=_,o[_][w]=p),f=d===h,v=o[_][w],(_>r||!v)&&(v=this._createList(g,C.style),o[_][w]=v,s.appendChild(v)),s=this._convertToLi(h),v.appendChild(s),f?l=r=-1:r=_}}}},removeAttributes:function(e){for(var t=e.attributes,n=t.length,r=[],i=function(e){return[`border`,`background`,`padding`].filter(function(t){return e.trim().indexOf(t)===0}).length>0},o=function(e){i(e)&&r.push(e.trim())},s,c,l;n--;)a.name(t[n])!=`colspan`&&(s=t[n],c=s.name,c===`style`&&(e.nodeName===`TD`||e.nodeName===`TH`)&&(l=s.value.split(`;`),l.forEach(o)),e.removeAttributeNode(t[n]));r.length>0&&e.setAttribute(`style`,r.join(`;`))},createColGroup:function(n){var r=n.cells,i=e(n).closest(`table`),a=i.children(`colgroup`);r.length<2||(a.length&&(r=a.children(),a[0].parentNode.removeChild(a[0])),a=e(e.map(r,function(e){var n=e.width;return n&&parseInt(n,10)!==0?t.format(`<col style="width:{0}px;"/>`,n):`<col />`}).join(``)),a.is(`colgroup`)||(a=e(`<colgroup/>`).append(a)),a.prependTo(i))},convertHeaders:function(t){var n=t.cells,r,i=e.map(n,function(t){var n=e(t).children(`p`).children(`strong`)[0];if(n&&a.name(n)==`strong`)return n});if(i.length==n.length){for(r=0;r<i.length;r++)a.unwrap(i[r]);for(e(t).closest(`table`).find(`colgroup`).after(`<thead></thead>`).end().find(`thead`).append(t),r=0;r<n.length;r++)a.changeTag(n[r],`th`)}},removeParagraphs:function(t){var n,r,i,o,s;for(n=0;n<t.length;n++)for(this.removeAttributes(t[n]),o=e(t[n]),s=o.children(`p`),r=0,i=s.length;r<i;r++)r<i-1&&a.insertAfter(a.create(document,`br`),s[r]),a.unwrap(s[r])},removeTextNodes:function(e){var t,n,r,i,o;for(t=0;t<e.length;t++)for(o=e[t],r=o.childNodes,n=0;n<r.length;n++)i=r[n],i.nodeType===a.nodeTypes.TEXT_NODE&&o.removeChild(i)},tables:function(t){var n=e(t).find(`table`),r=this,i,a,o,s,c;for(s=0;s<n.length;s++){for(i=n[s].rows,o=a=i[0],c=1;c<i.length;c++)i[c].cells.length>o.cells.length&&(o=i[c]);r.createColGroup(o),r.convertHeaders(a),r.removeAttributes(n[s]),r.removeParagraphs(n.eq(s).find(`td,th`)),r.removeTextNodes(n.eq(s).find(`tr`))}},headers:function(t){for(var n=e(t).find(`p.MsoTitle`),r=0;r<n.length;r++)a.changeTag(n[r],`h1`)},removeFormatting:function(t){e(t).find(`*`).each(function(){e(this).css({fontSize:``,fontFamily:``}),!this.getAttribute(`style`)&&!this.style.cssText&&this.removeAttribute(`style`)})},clean:function(e){var t=this,n,r=this.options;return r.none?(e=d.fn.clean.call(t,e,this.junkReplacements),e=t.stripEmptyAnchors(e)):(e=r.msConvertLists?this.extractListLevels(e):e,e=d.fn.clean.call(t,e),e=t.stripEmptyAnchors(e),n=a.create(document,`div`,{innerHTML:e}),t.headers(n),r.msConvertLists&&t.lists(n),t.tables(n),r.msAllFormatting&&t.removeFormatting(n),e=n.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/gi,`$1`)),e}}),h=d.extend({init:function(e){d.fn.init.call(this,e),this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,``,/<(div|p|h[1-6])\s+style="[^"]*"/gi,`<$1`,/^<div>(.*)<\/div>$/,`$1`]},applicable:function(e){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(e)}}),g=d.extend({clean:function(e){var t=a.create(document,`div`,{innerHTML:e});return t=this.cleanDom(t),t.innerHTML},cleanDom:function(e){return e}}),_=g.extend({cleanDom:function(t){var n=this.collectTags();return e(t).find(n).each(function(){a.unwrap(this)}),t},collectTags:function(){if(this.options.span)return`span`},applicable:function(){return this.options.span}}),v=g.extend({cleanDom:function(t){var n=this.collectAttr();return e(t).find(`[`+n.join(`],[`)+`]`).removeAttr(n.join(` `)),t},collectAttr:function(){return this.options.css?[`class`,`style`]:[]},applicable:function(){return this.options.css}}),y=function(){this.text=``,this.add=function(e){this.text+=e}},b=n.extend({init:function(e){this.separators=e||{text:` `,line:`<br/>`},this.lines=[],this.inlineBlockText=[],this.resetLine()},appendText:function(e){e.nodeType===3&&(e=e.nodeValue),this.textContainer.add(e)},appendInlineBlockText:function(e){this.inlineBlockText.push(e)},flashInlineBlockText:function(){this.inlineBlockText.length&&(this.appendText(this.inlineBlockText.join(` `)),this.inlineBlockText=[])},endLine:function(){this.flashInlineBlockText(),this.resetLine()},html:function(){var e=this.separators,t=``,n=this.lines;this.flashInlineBlockText();for(var r=0,i=n.length,a=i-1;r<i;r++){for(var o=n[r],s=0,c=o.length,l=c-1;s<c;s++){var u=o[s].text;t+=u,s!==l&&(t+=e.text)}r!==a&&(t+=e.line)}return t},resetLine:function(){this.textContainer=new y,this.line=[],this.line.push(this.textContainer),this.lines.push(this.line)}}),x=n.extend({init:function(e){this.callback=e},enumerate:function(e){if(e){var t=this.callback(e),n=e.firstChild;!t&&n&&this.enumerate(n),this.enumerate(e.nextSibling)}}}),S=d.extend({init:function(e){d.fn.init.call(this,e),this.hasText=!1,this.enumerator=new x(this.buildText.bind(this))},clean:function(e){var t=a.create(document,`div`,{innerHTML:e});return this.cleanDom(t)},cleanDom:function(e){return this.separators=this.getDefaultSeparators(),this.htmlLines=new b(this.separators),this.enumerator.enumerate(e.firstChild),this.hasText=!1,this.htmlLines.html()},buildText:function(e){if(a.isDataNode(e)){if(a.isEmptyspace(e))return;this.htmlLines.appendText(e.nodeValue.replace(`
`,this.separators.line)),this.hasText=!0}else if(a.isBlock(e)&&this.hasText)return(this.actions[a.name(e)]||this.actions.block)(this,e);else a.isBr(e)&&this.htmlLines.appendText(this.separators.line)},applicable:function(){var e=this.options;return e.all||e.keepNewLines},getDefaultSeparators:function(){return this.options.all?{text:` `,line:` `}:{text:` `,line:`<br/>`}},actions:{ul:e.noop,ol:e.noop,table:e.noop,thead:e.noop,tbody:e.noop,td:function(e,t){var n=new S({all:!0}).cleanDom(t);return e.htmlLines.appendInlineBlockText(n),!0},block:function(e){e.htmlLines.endLine()}}}),C=d.extend({clean:function(e){return this.options.custom(e)},applicable:function(){return typeof this.options.custom==`function`}});l(r,{Clipboard:u,Cleaner:d,ScriptCleaner:f,TabCleaner:p,MSWordFormatCleaner:m,WebkitFormatCleaner:h,HtmlTagsCleaner:_,HtmlAttrCleaner:v,HtmlContentCleaner:S,HtmlTextLines:b,CustomCleaner:C})})(window.kendo.jQuery),(function(e){var t=window.kendo,n=t.Class,r=t.ui.editor,i=r.RangeUtils,a=r.Dom,o=r.RestorePoint,s=r.Marker,c=t.support.browser,l=`<span  class='k-br'>﻿</span>`,u=e.extend,d=a.nodeTypes,f=`previousSibling`;function p(e,t){return t.startContainer===e&&t.endContainer===e&&t.startOffset===0&&t.endOffset==e.childNodes.length}function m(e,t,n){for(var r=e?e[t]:null;r&&!n(r);)r=r[t];return r}var h=`td,th,caption`,g=`table,tbody,thead,tfoot,tr`,_=g+`,`+h,v=function(t){return!t.collapsed&&e(t.commonAncestorContainer).is(g)},y=n.extend({remove:function(t){var n=this,r=new s;r.add(t,!1);var o=i.getAll(t,function(t){return e(t).is(_)}),c=i.documentFromRange(t),l=r.start,u=r.end,d=h.split(`,`),f=a.parentOfType(l,d),p=a.parentOfType(u,d);n._removeContent(l,f,!0),n._removeContent(u,p,!1),e(o).each(function(t,n){n=e(n),(n.is(h)?n:n.find(h)).each(function(e,t){t.innerHTML=`&#65279;`})}),f&&!l.previousSibling&&a.insertBefore(c.createTextNode(`﻿`),l),p&&!u.nextSibling&&a.insertAfter(c.createTextNode(`﻿`),u),f?t.setStartBefore(l):o[0]&&(f=e(o[0]),f=f.is(h)?f:f.find(h).first(),f.length&&t.setStart(f.get(0),0)),t.collapse(!0),a.remove(l),a.remove(u)},_removeContent:function(t,n,r){if(n){var i=r?`nextSibling`:`previousSibling`,o,s=function(t){for(;t&&!t[i];)t=t.parentNode;return t&&e.contains(n,t)?t[i]:null};for(t=s(t);t;)o=s(t),a.remove(t),t=o}}}),b=n.extend({init:function(e){this.editor=e},keydown:function(t){var n=this,i=n.editor,a=i.keyboard,s=a.isTypingKey(t),l=u(e.Event(),t);if(n.editor.trigger(`keydown`,l),l.isDefaultPrevented()||t&&t.isDefaultPrevented())return t.preventDefault(),!0;if(!l.isDefaultPrevented()&&s&&!a.isTypingInProgress()){var d=i.getRange(),f=i.body;return n.startRestorePoint=new o(d,f),v(d)&&(new y(i).remove(d),i.selectRange(d)),c.webkit&&!d.collapsed&&p(f,d)&&(f.innerHTML=``),i.immutables&&r.Immutables.immutablesContext(d)&&new r.BackspaceHandler(i).deleteSelection(d),a.startTyping(function(){n._removeBomSpan(),n.endRestorePoint=r._finishUpdate(i,n.startRestorePoint)}),!0}return!1},keyup:function(e){var t=this.editor.keyboard;return this.editor.trigger(`keyup`,e),t.isTypingInProgress()?(t.endTyping(),!0):!1},_removeBomSpan:function(){var e=this.editor.getRange().commonAncestorContainer;a.emptyNode(e)||(e.nodeType===3&&(e=e.parentNode),a.insignificant(e)&&(e.textContent=a.stripBom(e.textContent),a.unwrap(e)))}}),x=n.extend({init:function(e){this.editor=e},_addCaret:function(e){var n=a.create(this.editor.document,`a`);return!t.support.browser.chrome&&e.firstChild&&e.firstChild.nodeType===d.ELEMENT_NODE&&(e=e.firstChild),a.insertAt(e,n,0),a.stripBomNode(n.previousSibling),a.stripBomNode(n.nextSibling),n},_restoreCaret:function(e){var t=this.editor.createRange();!e.nextSibling&&a.isDataNode(e.previousSibling)?t.setStart(e.previousSibling,e.previousSibling.length):t.setStartAfter(e),t.collapse(!0),this.editor.selectRange(t),a.remove(e)},_handleDelete:function(e){var t=e.endContainer,n=a.closestEditableOfType(t,a.blockElements);if(n&&r.RangeUtils.isEndOf(e,n)){var i=a.next(n);if(!i||a.name(i)!=`p`)return!1;var o=a.significantChildNodes(i)[0];o=o&&a.isInline(o)?o:i;var s=this._addCaret(o);return this._merge(n,i),this._restoreCaret(s),!0}return!1},_cleanBomBefore:function(e){for(var t=e.startOffset,n=e.startContainer,r=n.nodeValue,i=0;t-i>=0&&r[t-i-1]==`﻿`;)i++;i>0&&(n.deleteData(t-i,i),e.setStart(n,Math.max(0,t-i)),e.collapse(!0),this.editor.selectRange(e))},_handleBackspace:function(t){var n=t.startContainer,i=a.closestEditableOfType(n,[`li`]),o=a.closestEditableOfType(n,`p,h1,h2,h3,h4,h5,h6`.split(`,`)),s=this.editor,c;if(a.isDataNode(n)){if(t.collapsed&&/^\s[\ufeff]+$/.test(n.nodeValue))return t.setStart(n,0),t.setEnd(n,n.length),s.selectRange(t),!1;this._cleanBomBefore(t)}c=m(o,f,function(e){return!a.htmlIndentSpace(e)}),t.collapsed&&t.startOffset!==t.endOffset&&t.startOffset<0&&(t.startOffset=0,t.endOffset=0,s.selectRange(t));var l=i&&r.RangeUtils.isStartOf(t,i),u=i&&e(i).index(),d=l&&u>0;if(d&&(o=i,c=a.prev(i)),o&&c&&a.is(c,`table`)&&r.RangeUtils.isStartOf(t,o))return o.innerText===``&&(o.innerHTML=`﻿`),!0;if(r.RangeUtils.isStartOf(t,o)&&parseInt(o.style.marginLeft,10)>0)return s.exec(`outdent`),!0;if(o&&c&&r.RangeUtils.isStartOf(t,o)||d){var p=a.significantChildNodes(o)[0];p=p&&a.isInline(p)&&!a.isImg(p)?p:o;var h=this._addCaret(p);return this._merge(c,o),this._restoreCaret(h),!0}if(l&&u===0){var g=i.firstChild;g||=(i.innerHTML=r.emptyElementContent,i.firstChild);var _=new r.ListFormatter(a.name(i.parentNode),`p`);return t.selectNodeContents(i),_.toggle(t),a.insignificant(g)?t.setStartBefore(g):t.setStart(g,0),s.selectRange(t),!0}var v=n.childNodes[t.startOffset-1],y=t,b=v&&a.closestEditableOfType(v,[`a`]),x=m(v||n,f,function(e){return!a.isDataNode(e)||!a.isBom(e)&&e.length>0});if((b||(t.startOffset===0||v)&&a.is(x,`a`))&&(b||=x,y=s.createRange(),y.setStart(b,b.childNodes.length),y.collapse(!0)),b||=a.closestEditableOfType(v||y.startContainer,[`a`]),b&&r.RangeUtils.isEndOf(y,b)){var S=new r.UnlinkCommand({range:y,body:s.body,immutables:!!s.immutables});s.execCommand(S),s._selectionChange()}return!1},_handleSelection:function(t){var n=t.commonAncestorContainer,i=a.closest(n,`table`),o=r.emptyElementContent,c=this.editor,l;if(v(t))return new y(c).remove(t),c.selectRange(t),!0;var u=new s;u.add(t,!1),t.commonAncestorContainer===c.body&&this._surroundFullyContent(u,t),c.immutables&&this._handleImmutables(u),this._surroundFullySelectedAnchor(u,t),t.setStartAfter(u.start),t.setEndBefore(u.end);var d=t.startContainer,f=t.endContainer;return t.deleteContents(),f.tagName.toLocaleLowerCase()===`li`&&a.emptyNode(f)&&(t.selectNode(f),t.deleteContents()),i&&e(i).text()===``&&(t.selectNode(i),t.deleteContents()),n=t.commonAncestorContainer,a.name(n)===`p`&&n.innerHTML===``&&(n.innerHTML=o,t.setStart(n,0)),this._join(d,f),a.insertAfter(c.document.createTextNode(`﻿`),u.start),u.remove(t),d=t.startContainer,a.name(d)==`tr`&&(d=d.childNodes[Math.max(0,t.startOffset-1)],t.setStart(d,a.getNodeLength(d))),t.collapse(!0),c.selectRange(t),l=d.parentElement||d.parentNode,a.isDataNode(d)&&!a.emptyNode(l)&&this._cleanBomBefore(t),!0},_handleImmutables:function(e){var t=r.Immutables.immutableParent,n=t(e.start),i=t(e.start);n&&a.insertBefore(e.start,n),i&&a.insertAfter(e.end,i),n&&a.remove(n),i&&i.parentNode&&a.remove(i)},_surroundFullyContent:function(e,t){var n=t.commonAncestorContainer.children,r=n[0],i=n[n.length-1];this._moveMarker(e,t,r,i)},_surroundFullySelectedAnchor:function(t,n){var r=t.start,i=e(r).closest(`a`).get(0),a=t.end,o=e(a).closest(`a`).get(0);this._moveMarker(t,n,i,o)},_moveMarker:function(e,t,n,r){var o=e.start,s=e.end;n&&i.isStartOf(t,n)&&a.insertBefore(o,n),r&&i.isEndOf(t,r)&&a.insertAfter(s,r)},_root:function(e){for(;e&&a.name(e)!=`body`&&e.parentNode&&a.name(e.parentNode)!=`body`;)e=e.parentNode;return e},_join:function(e,t){e=this._root(e),t=this._root(t),e!=t&&a.is(t,`p`)&&this._merge(e,t)},_merge:function(e,t){for(a.removeTrailingBreak(e);e&&t.firstChild;)e.nodeType==1?(e=a.list(e)?e.children[e.children.length-1]:e,e&&e.appendChild(t.firstChild)):e.nodeType===d.TEXT_NODE?this._mergeWithTextNode(e,t.firstChild):e.parentNode.appendChild(t.firstChild);a.remove(t)},_mergeWithTextNode:function(e,t){e&&e.nodeType===d.TEXT_NODE&&(e.nextSibling&&this._isCaret(e.nextSibling)?a.insertAfter(t,e.nextSibling):a.insertAfter(t,e))},_isCaret:function(t){return e(t).is(`a`)},keydown:function(e){var n,i,a=this.editor,s=a.getRange(),c=e.keyCode,l=t.keys,u=c===l.BACKSPACE,d=c==l.DELETE;a.immutables&&a.immutables.keydown(e,s)||((u||d)&&!s.collapsed?n=`_handleSelection`:u?n=`_handleBackspace`:d&&(n=`_handleDelete`),n&&(i=new o(s,a.body),this[n](s)&&(e.preventDefault(),r._finishUpdate(a,i))))},deleteSelection:function(e){this._handleSelection(e)},keyup:e.noop});u(r,{TypingHandler:b,SystemHandler:n.extend({init:function(e){this.editor=e,this.systemCommandIsInProgress=!1},createUndoCommand:function(){this.startRestorePoint=this.endRestorePoint=r._finishUpdate(this.editor,this.startRestorePoint)},changed:function(){return this.startRestorePoint?this.startRestorePoint.html!=this.editor.body.innerHTML:!1},keydown:function(e){var t=this,n=t.editor,r=n.keyboard;return r.isModifierKey(e)?(r.isTypingInProgress()&&r.endTyping(!0),t.startRestorePoint=new o(n.getRange(),n.body),!0):r.isSystem(e)?(t.systemCommandIsInProgress=!0,t.changed()&&(t.systemCommandIsInProgress=!1,t.createUndoCommand()),!0):!1},keyup:function(){var e=this;return e.systemCommandIsInProgress&&e.changed()?(e.systemCommandIsInProgress=!1,e.createUndoCommand(),!0):!1}}),BackspaceHandler:x,SelectAllHandler:n.extend({init:function(e){this.editor=e},keydown:function(e){!c.webkit||e.isDefaultPrevented()||!(e.ctrlKey&&e.keyCode==65&&!e.altKey&&!e.shiftKey)||(this.editor.options.immutables&&this._toSelectableImmutables(),this._selectEditorBody())},_selectEditorBody:function(){var e=this.editor,t=e.getRange();t.selectNodeContents(e.body),setTimeout(function(){e.selectRange(t)})},_toSelectableImmutables:function(){for(var t=this.editor.body,n=r.Immutables.immutable,i=a.emptyTextNode,o=t.firstChild,s=t.lastChild;i(o);)o=o.nextSibling;for(;i(s);)s=s.previousSibling;o&&n(o)&&e(l).prependTo(t),s&&n(s)&&e(l).appendTo(t)},keyup:e.noop}),Keyboard:n.extend({init:function(e){this.handlers=e,this.typingInProgress=!1},isCharacter:function(e){return e>=48&&e<=90||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||e==229},toolFromShortcut:function(t,n){var r=String.fromCharCode(n.keyCode),i,a,o=this._getShortcutModifier(n,navigator.platform);for(i in t)if(a=e.extend({ctrl:!1,alt:!1,shift:!1},t[i].options),(a.key==r||a.key==n.keyCode)&&a.ctrl==o&&a.alt==n.altKey&&a.shift==n.shiftKey)return i},_getShortcutModifier:function(e,t){return t.toUpperCase().indexOf(`MAC`)>=0?e.metaKey:e.ctrlKey},toolsFromShortcut:function(t,n){var r=String.fromCharCode(n.keyCode),i,a,o,s=[],c=function(e){return e==r||e==n.keyCode||e==n.charCode};for(i in t)a=e.extend({ctrl:!1,alt:!1,shift:!1},t[i].options),o=Array.isArray(a.key)?e.grep(a.key,c).length>0:c(a.key),o&&a.ctrl==n.ctrlKey&&a.alt==n.altKey&&a.shift==n.shiftKey&&s.push(t[i]);return s},isTypingKey:function(e){var t=e.keyCode;return this.isCharacter(t)&&!e.ctrlKey&&!e.altKey||t==32||t==13||t==8||t==46&&!e.shiftKey&&!e.ctrlKey&&!e.altKey},isModifierKey:function(e){var t=e.keyCode;return t==17&&!e.shiftKey&&!e.altKey||t==16&&!e.ctrlKey&&!e.altKey||t==18&&!e.ctrlKey&&!e.shiftKey},isSystem:function(e){return e.keyCode==46&&e.ctrlKey&&!e.altKey&&!e.shiftKey},startTyping:function(e){this.onEndTyping=e,this.typingInProgress=!0},stopTyping:function(){this.typingInProgress&&this.onEndTyping&&this.onEndTyping(),this.typingInProgress=!1},endTyping:function(e){var t=this;t.clearTimeout(),e?t.stopTyping():t.timeout=window.setTimeout(t.stopTyping.bind(t),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(e,t){var n,r=this.handlers;for(n=0;n<r.length&&!r[n][t](e);n++);},keydown:function(e){this.notify(e,`keydown`)},keyup:function(e){this.notify(e,`keyup`)}})})})(window.kendo.jQuery),(function(e){var t=window.kendo.ui.editor,n=t.Command,r=t.EditorUtils.registerTool,i=t.Tool,a=e.extend,o=n.extend({init:function(e){this.async=!0,n.fn.init.call(this,e)},exec:function(){var e=this,t=e.lockRange(!0),n=e.editor;n._destroyResizings(),n.saveAsPDF().then(function(){e.releaseRange(t),n._initializeColumnResizing(),n._initializeRowResizing(),n._initializeElementResizing()})}});a(t,{ExportPdfCommand:o}),r(`pdf`,new i({command:o}))})(window.kendo.jQuery),(function(e){var t=window.kendo,n=t.ui.editor,r=n.Command,i=n.EditorUtils.registerTool,a=n.Tool,o=e.extend,s=r.extend({init:function(e){r.fn.init.call(this,e),this.managesUndoRedo=!0},exec:function(){var e=this.editor;t.support.browser.msie?e.document.execCommand(`print`,!1,null):e.window.print&&e.window.print()}});o(n,{PrintCommand:s}),i(`print`,new a({command:s}))})(window.kendo.jQuery),(function(e){var t=window.kendo.ui.editor,n=t.Tool,r=t.Command,i=t.EditorUtils,a=t.Dom,o=t.RangeUtils,s=i.registerTool,c=r.extend({init:function(e){r.fn.init.call(this,e)},exec:function(){var e=this.lockRange(!0);this.inlineStyles=[],this.blockStyles=[],this.collectStyles(e),this.editor.inlineStyles=this.inlineStyles,this.editor.blockStyles=this.blockStyles,this.releaseRange(e)},collectStyles:function(e){for(var t=o.nodes(e),n=t.length===1?t[0].parentNode:e.startContainer;n&&!a.is(n,`body`)&&n.getAttribute(`data-role`)!==`editor`;)a.isBlock(n)?(this.populateStyles(n,`blockStyles`),n=a.is(n,`li`)?n.parentNode:null):(this.populateStyles(n,`inlineStyles`),n=n.parentNode)},populateStyles:function(e,t){var n=e.style,r=e.attributes,i={tags:[e.tagName],attr:{style:{}}},a,o,s,c,l;if(n)for(l=0;l<n.length;l++)o=n[l],a=n[o],i.attr.style[o]=a;if(r)for(l=0;l<r.length;l++)s=r[l].nodeName,c=r[l].nodeValue,s!==`style`&&(s===`class`?i.attr.className=c:i.attr[s]=c);this[t].push(i)}}),l=r.extend({init:function(e){r.fn.init.call(this,e)},exec:function(){var e=this.lockRange(!0),t=o.getMarkers(e),n=this.editor,r=n.inlineStyles,i=n.blockStyles,s;(!r||r.length===0)&&(!i||i.length===0)||(t.length===3&&(this.marker.removeCaret(e),this.marker.caret=null),this.removeEmptyElementsFromRange(e),s=o.nodes(e),this.cleanInlineParents(s),a.normalize(e.commonAncestorContainer),t.length===2?(e.setStartAfter(t[0]),e.setEndBefore(t[1])):(e.setStartBefore(s[0]),e.setEndAfter(s[0])),s=o.nodes(e),s&&i&&i.length&&this.applyBlockStyles(s,i),s&&r&&r.length&&this.applyInlineStyles(s,r),this.releaseRange(e))},removeEmptyElementsFromRange:function(e){var t=o.getAll(e,function(e){return a.isInline(e)&&!e.firstChild&&!a.isMarker(e)}),n;if(t&&t.length>0)for(n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n])},cleanInlineParents:function(e){var t,n,r,i,o,s,c;for(t=0;t<e.length;t++)if(n=e[t],r=n.parentNode,!this.immutableParent(n))for(;r&&a.isInline(r);){for(i=r.childNodes,o=0;o<i.length;o++)s=i[o],!a.isMarker(s)&&s!==n&&(c=r.cloneNode(!0),c.innerHTML=``,a.wrap(s,c));a.unwrap(r),r=n.parentNode}},applyBlockStyles:function(e,t){var n=t[0].tags[0],r=t[0].attr,i=this.editor.document,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b;for(o=0,s=e.length;o<s;o++)if(c=e[o],!(a.isWhitespace(c)||this.immutableParent(c)))if(u=a.blockParentOrBody(c),u.tagName!==`BODY`&&u.tagName!==n){if(u.tagName!==`LI`&&u.tagName!==`TD`&&u.tagName!==`TH`){for(f=[],p=[],m=c.previousSibling,h=c.nextSibling;m;)a.isMarker(m)||f.push(m),m=m.previousSibling;if(f.length)for(g=u.cloneNode(!0),g.innerHTML=``,a.insertBefore(g,f[0]),y=0;y<f.length;y++)v=f[y],a.insertAt(g,v,0);for(;h;)a.isMarker(h)||p.push(h),h=h.nextSibling;if(p.length)for(_=u.cloneNode(!0),_.innerHTML=``,a.insertBefore(_,p[0]),y=0;y<p.length;y++)v=p[y],_.appendChild(v);a.unwrap(u)}l=a.create(i,n,r),a.wrap(c,l)}else u.tagName===n&&a.attr(u,r);if(u&&t.length===2&&u.tagName!==`LI`&&n===`LI`){for(b=[];a.is(l,`li`);)b.push(l),l=a.prev(l);for(d=a.create(i,t[1].tags[0],t[1].attr),a.insertBefore(d,b[b.length-1]),d.appendChild(b[0]),o=1,s=b.length;o<s;o++)a.insertBefore(b[o],d.firstChild)}else u&&t.length===2&&u.tagName!==`LI`&&(d=a.create(i,t[1].tags[0],t[1].attr),a.wrap(l,d))},applyInlineStyles:function(e,t){var n=this.editor.document,r,i,o,s,c,l;for(s=0;s<t.length;s++)r=t[s],i=a.create(n,r.tags[0],r.attr),o&&i.appendChild(o),o=i;if(o){for(s=0;s<e.length;s++)if(l=e[s],!(a.isWhitespace(l)||this.immutableParent(l))){for(c=o.cloneNode(!0),a.insertBefore(c,l);c.children&&c.children.length;)c=c.children[0];c.appendChild(l)}}},immutables:function(){return this.editor&&this.editor.options.immutables},immutableParent:function(e){return this.immutables()&&t.Immutables.immutableParent(e)}}),u=n.extend({init:function(e){n.fn.init.call(this,e)},command:function(e){return new c(e)}}),d=n.extend({init:function(e){n.fn.init.call(this,e)},command:function(e){return new l(e)}});e.extend(t,{CopyFormatCommand:c,ApplyFormatCommand:l,CopyFormatTool:u,ApplyFormatTool:d}),s(`copyFormat`,new u({})),s(`applyFormat`,new d({}))})(window.kendo.jQuery),(function(e){let t=window.kendo,n=e.extend,r=t.ui.editor,i=t.ui.Editor.fn.options.formats,a=r.Dom,o=r.Tool,s=r.DelayedExecutionTool,c=r.BlockFormatter,l=r.FormatCommand,u=r.GreedyInlineFormatFinder,d=r.EditorUtils,f=d.registerTool,p=d.registerFormat,m=r.RangeUtils,h=l.extend({exec:function(){let e=this,t=e.lockRange(!0),n=a.filterBy(m.nodes(t),a.htmlIndentSpace,!0);e.formatter.format[0].attr.style.lineHeight=e.options.value.lineHeight,e.formatter.apply(n),e.releaseRange(t)}}),g=s.extend({init:function(e){o.fn.init.call(this,e),this.type=`kendoComboBox`,this.format=[{tags:[`p`,`lineHeight`]}],this.finder=new u(this.format,e.cssAttr,e.fontAttr,e.defaultValue)},command:function(e){var t=this;return new h(n(e,{formatter:function(){return new c(t.options.format)}}))},initialize:function(e,t){let n=this,r=e.getKendoComboBox();n.editor=t,r.bind(`change`,this.changeHandler.bind(this)),r.bind(`close`,this.closeHandler.bind(this)),r.wrapper.on(`mousedown.kendoEditor`,`.k-input-button,.k-input-inner`,this.mouseDownHandler.bind(this)).on(`keydown.kendoEditor`,this.keyDownHandler.bind(this))},changeHandler:function(e){this._exec(e.sender.value())},closeHandler:function(){let e=this,t=e.editor;setTimeout(function(){t._deleteSavedRange(),e.currentRange=null},0)},mouseDownHandler:function(){let e=this.editor.getRange();this.currentRange=this.editor._containsRange(e)?e:this.currentRange},keyDownHandler:function(e){e.keyCode===t.keys.ENTER&&(this.editor._deleteSavedRange(),this.currentRange=null,e.preventDefault())},_exec:function(e){let t=this.editor;t._range=this.currentRange,e&&o.exec(this.editor,this.options.name,{lineHeight:e})}});e.extend(r,{LineHeightCommand:h,LineHeightFormatTool:g}),p(`lineHeight`,[{tags:a.blockElements,attr:{style:{lineHeight:`normal`}}}]),f(`lineHeight`,new g({cssAttr:`line-height`,format:i.lineHeight,defaultValue:1.15,ui:{type:`component`,component:`ComboBox`,componentOptions:{value:1.15,dataTextField:`text`,dataValueField:`value`,prefixOptions:{icon:`paragraphHeight`},autoSize:!0,dataSource:[{text:`1`,value:`1`},{text:`1.15`,value:`1.15`},{text:`1.5`,value:`1.5`},{text:`2`,value:`2`},{text:`2.5`,value:`2.5`}]}}}))})(window.kendo.jQuery),(function(e){let t=window.kendo.ui.editor,n=t.Tool,r=t.Command,i=t.EditorUtils.registerTool,a=t.Dom,o=function(e,t,n,r,i,a){let o=e.cloneRange(),s=o.startContainer,c,l,u,d,f;return i!=null&&(o.setStart(s,i),o.setEnd(s,i+1)),c=o.getBoundingClientRect(),a?(f=a.getBoundingClientRect(),l=c.left-f.left-c.width/2,u=c.top-f.top+c.height+r):n===`·`?(l=c.x-c.width/4,u=c.y+c.height+r):n===`↵`&&(l=c.x,u=c.y+c.height+r),d=t.createElementNS(`http://www.w3.org/2000/svg`,`text`),d.setAttributeNS(null,`x`,l),d.setAttributeNS(null,`y`,u),d.setAttributeNS(null,`fill`,`#6098f2`),d.setAttributeNS(null,`font-size`,`${Math.ceil(c.height+c.width)}px`),d.textContent=n,d},s=function(){let t=this,n=t.getRange().cloneRange(),r=t._formattingMarksOverlay[0],i=t.document.createDocumentFragment(),s=t.document,c=t._isInlineEditor(),l=c?t.body.parentElement:null,u=c?l.scrollTop:s.documentElement.scrollTop;!t.body.firstChild&&!t.body.lastChild||(n.setStart(t.body.firstChild,0),n.setEnd(t.body.lastChild,0),a.getTextNodes(t.body).concat(e(t.body).find(`br`).toArray()).forEach(e=>{if(e.nodeType===a.nodeTypes.TEXT_NODE){n.selectNodeContents(e);for(let e=n.startOffset;e<n.endOffset;e++)(n.startContainer.textContent.charCodeAt(e)===32||n.startContainer.textContent.charCodeAt(e)===160)&&i.appendChild(o(n,s,`·`,u,e,l))}else n.selectNode(e),i.appendChild(o(n,s,`↵`,u,null,l))}),r.appendChild(i))},c=function(e){e._formattingMarksOverlay.empty()},l=function(e){e._updateFormattingMarksOverlayHeight(),s.call(e)},u=r.extend({exec:function(){let e=this,t=e.lockRange(!0),n=e.editor;n._toggledFormattingMarks?(n._toggledFormattingMarks=!1,n._destroyFormattingMarksOverlay()):(n._toggledFormattingMarks=!0,n._appendFormattingMarksOverlay(),n._appendFormattingMarksStyles(),c(n),l(n)),e.releaseRange(t)}});e.extend(t,{FormattingMarksCommand:u,applyFormattingMarks:l,clearFormattingMarksOverlay:c}),i(`formattingMarks`,new n({command:u,icon:`paragraphMark`,ui:{togglable:!0}}))})(window.kendo.jQuery),(function(e,t){var n=window,r=n.Math,i=r.min,a=r.max,o=n.parseFloat,s=e.jQuery,c=s.extend,l=e.ui.editor,u=`%`,d=`px`,f=/(\d+)(\.?)(\d*)%/,p=/(\d+)(\.?)(\d*)px/,m=`string`;function h(e){var t=e.value,n=e.min,r=e.max;return a(i(o(t),o(r)),o(n))}function g(t){return t&&!s(t).is(`body`)&&t.scrollHeight>t.clientHeight?e.support.scrollbar():0}function _(e,t){return v(e)?o(e):o(e)/t*100}function v(e){return typeof e===m&&f.test(e)}function y(e){return typeof e===m&&p.test(e)}function b(e){return o(e)+u}function x(e){return o(e)+d}c(l,{ResizingUtils:{constrain:h,getScrollBarWidth:g,calculatePercentageRatio:_,inPercentages:v,inPixels:y,toPercentages:b,toPixels:x}})})(window.kendo),(function(e,t){var n=e.jQuery,r=n.extend,i=n.noop,a=e.ui.editor,o=e.Class,s=`keydown`,c=`mousedown`,l=`mouseenter`,u=`mouseleave`,d=`mousemove`,f=`mouseup`,p=`,`,m=`.`,h=`:last-child`,g=`table`,_=o.extend({init:function(e,t){var i=this;i.options=r({},i.options,t),i.options.tags=Array.isArray(i.options.tags)?i.options.tags:[i.options.tags],n(e).is(g)&&(i.element=e,i._attachEventHandlers())},destroy:function(){var e=this,t=e.options.eventNamespace;e.element&&=(n(e.element).off(t),null),n(e.options.rootElement).off(s+t),e._destroyResizeHandle()},options:{tags:[],min:0,rootElement:null,eventNamespace:``,rtl:!1,handle:{dataAttribute:``,height:0,width:0,classNames:{},template:``}},_attachEventHandlers:function(){var e=this,t=e.options;n(e.element).on(d+t.eventNamespace,t.tags.join(p),e.detectElementBorderHovering.bind(e))},resizingInProgress:function(){var e=this._resizable;return e?!!e.resizing:!1},resize:i,detectElementBorderHovering:function(e){var t=this,r=t.options.handle,i=n(e.currentTarget),a=t.resizeHandle,o=r.dataAttribute;t.resizingInProgress()||(!i.is(h)&&t.elementBorderHovered(i,e)?a?a.data(o)&&a.data(o)!==i[0]&&t.showResizeHandle(i,e):t.showResizeHandle(i,e):a&&t._destroyResizeHandle())},elementBorderHovered:i,showResizeHandle:function(e,t){var n=this;t.buttons===0&&(n._initResizeHandle(),n.setResizeHandlePosition(e),n.setResizeHandleDimensions(),n.setResizeHandleDataAttributes(e[0]),n._attachResizeHandleEventHandlers(),n._initResizable(e),n._hideResizeMarker(),n.resizeHandle.show())},_initResizeHandle:function(){var e=this,t=e.options;e._destroyResizeHandle(),e.resizeHandle=n(t.handle.template).appendTo(t.rootElement)},setResizeHandlePosition:i,setResizeHandleDimensions:i,setResizeHandleDataAttributes:function(e){var t=this;t.resizeHandle.data(t.options.handle.dataAttribute,e)},_attachResizeHandleEventHandlers:function(){var e=this,t=e.options,n=t.eventNamespace,r=t.handle.classNames.marker,i=e.resizeHandle;e.resizeHandle.on(c+n,function(){i.find(m+r).show()}).on(f+n,function(){i.find(m+r).hide()})},_hideResizeMarker:function(){var e=this;e.resizeHandle.find(m+e.options.handle.classNames.marker).hide()},_destroyResizeHandle:function(){var e=this;e.resizeHandle&&=(e._destroyResizable(),e.resizeHandle.off(e.options.eventNamespace).remove(),null)},_initResizable:function(t){var n=this;n.resizeHandle&&(n._destroyResizable(),n._resizable=new e.ui.Resizable(t,{draggableElement:n.resizeHandle[0],start:n.onResizeStart.bind(n),resize:n.onResize.bind(n),resizeend:n.onResizeEnd.bind(n)}))},_destroyResizable:function(){var e=this;e._resizable&&=(e._resizable.destroy(),null)},onResizeStart:function(){this._disableKeyboard()},onResize:function(e){this.setResizeHandleDragPosition(e)},setResizeHandleDragPosition:i,onResizeEnd:function(e){var t=this;t.resize(e),t._destroyResizeHandle(),t._enableKeyboard(),this.options.editor&&this.options.editor._handleSpaceAndNewLines()},_enableKeyboard:function(){var e=this.options;n(e.rootElement).off(s+e.eventNamespace)},_disableKeyboard:function(){var e=this.options;n(e.rootElement).on(s+e.eventNamespace,function(e){e.preventDefault()})},_forceResizing:function(e){var t=this._resizable;t&&t.userEvents&&t.userEvents._end(e)}}),v=o.extend({create:function(e,t){var r=this,i=t.name,a=t.eventNamespace;n(e.body).on(l+a,g,function(n){var a=n.currentTarget,o=e[i];n.stopPropagation(),o?o.element!==a&&!o.resizingInProgress()&&(r._destroyResizing(e,t),r._initResizing(e,a,t)):r._initResizing(e,a,t)}).on(u+a,g,function(a){var o,s=e[i];a.stopPropagation(),s&&!s.resizingInProgress()&&!s.resizeHandle&&(o=n(s.element).parents(g)[0],o&&(r._destroyResizing(e,t),r._initResizing(e,o,t)))}).on(u+a,function(){var n=e[i];n&&!n.resizingInProgress()&&r._destroyResizing(e,t)}).on(f+a,function(a){var o=e[i],s;o&&o.resizingInProgress()&&(s=n(a.target).parents(g)[0],s&&(o._forceResizing(a),r._destroyResizing(e,t),r._initResizing(e,s,t)))})},dispose:function(e,t){n(e.body).off(t.eventNamespace)},_initResizing:function(t,n,r){var i=r.name,a=r.type;t[i]=new a(n,{rtl:e.support.isRtl(t.element),rootElement:t.body,editor:t})},_destroyResizing:function(e,t){var n=t.name;e[n]&&(e[n].destroy(),e[n]=null)}});v.current=new v,_.create=function(e,t){v.current.create(e,t)},_.dispose=function(e,t){v.current.dispose(e,t)},r(a,{TableElementResizing:_})})(window.kendo),(function(e,t){var n=window.Math.abs,r=e.jQuery,i=r.extend,a=e.ui.editor,o=a.Dom,s=a.TableElementResizing,c=a.ResizingUtils,l=c.constrain,u=c.calculatePercentageRatio,d=c.getScrollBarWidth,f=c.inPercentages,p=c.toPercentages,m=c.toPixels,h=e._outerWidth,g=`.kendoEditorColumnResizing`,_=`k-column-resize-handle`,v=`k-column-resize-marker`,y=`body`,b=`tbody`,x=`thead`,S=`td`,C=`th`,w=`tr`,T=`col-index`,E=`,`,D=`width`,O=s.extend({options:{tags:[S,C],min:20,rootElement:null,eventNamespace:g,rtl:!1,handle:{dataAttribute:`column`,width:10,height:0,classNames:{handle:_,marker:v},template:`<div class="k-column-resize-handle-wrapper" unselectable="on" contenteditable="false"><div class="`+_+`"><div class="`+v+`"></div></div></div>`}},elementBorderHovered:function(e,t){var n=this.options,i=n.handle.width,a=e.offset().left+(n.rtl?0:h(e)),o=t.clientX+r(e[0].ownerDocument).scrollLeft();return o>a-i&&o<a+i},setResizeHandlePosition:function(t){var n=this,i=r(n.element.tHead||n.element.tBodies[0]),a=n.options,o=a.rtl,s=a.handle.width,c=r(a.rootElement),l=c.is(y)?0:c.scrollTop(),u=c.is(y)?0:e.scrollLeft(c),f=o?0:h(t),p=o?d(c[0]):0,m=t.offset().left-(c.offset().left+parseFloat(c.css(`borderLeftWidth`)))-parseFloat(t.css(`marginLeft`)),g=i.offset().top-(c.offset().top+parseFloat(c.css(`borderTopWidth`)))-parseFloat(i.css(`marginTop`)),_=e.support.browser;o&&(_.mozilla||_.webkit&&_.version>=85)&&(u*=-1),n.resizeHandle.css({top:g+l,left:m+f+(u-p)-s/2,position:`absolute`})},setResizeHandleDimensions:function(){var e=this,t=r(e.element).children(x),n=r(e.element).children(b),i=t.length>0?t.height()+n.height():n.height();e.resizeHandle.css({width:e.options.handle.width,height:i})},setResizeHandleDragPosition:function(t){var n=this,i=r(r(t.currentTarget).data(n.options.handle.dataAttribute)),a=n.options,o=r(a.rootElement),s=a.handle?a.handle.width:0,c=a.min,u=a.rtl,f=h(i),p=i.offset().left-(o.offset().left+parseFloat(o.css(`borderLeftWidth`)))-parseFloat(i.css(`marginLeft`)),m=h(i.next()),g=r(n.resizeHandle),_=o.is(y)?0:e.scrollLeft(o),v=u?d(o[0]):0,b=g.offset().left-(o.offset().left+parseFloat(o.css(`borderLeftWidth`)))-parseFloat(g.css(`marginLeft`)),x=e.support.browser;u&&(x.mozilla||x.webkit&&x.version>=85)&&(_*=-1);var S=l({value:b+(_-v)+t.x.delta,min:p+(_-v)-(u?m:0)+c,max:p+f+(_-v)+(u?0:m)-s-c});g.css({left:S})},resize:function(e){var t=this,n=r(r(e.currentTarget).data(t.options.handle.dataAttribute)),i=t.options,a=i.rtl?-1:1,s=i.min,c=a*e.x.initialDelta,u,d,f,p,m;o.reMapTableColumns(t.element,T),p=parseInt(n.attr(T),10),n.prop(`colSpan`)>1&&(n=r(t.element).find(`[`+T+`=`+(p+n.prop(`colSpan`)-1)+`]`).eq(0),p=parseInt(n.attr(T),10)),m=r(t.element).find(`[`+T+`=`+(p+1)+`]:not([colspan])`),t._setTableComputedWidth(),t._setColumnsComputedWidth(),f=h(n),d=h(m),u=l({value:f+c,min:s,max:f+d-s}),t._resizeColumn(n[0],u),t._resizeTopAndBottomColumns(n[0],u),t._resizeAdjacentColumns(parseInt(n.attr(T),10),d,f,f-u),o.clearTableMappings(t.element,T)},_setTableComputedWidth:function(){var e=this.element;e.style[D]===``&&(e.style[D]=m(h(r(e))))},_setColumnsComputedWidth:function(){var e=this,t=r(e.element.tHead||e.element.tBodies[0]),n=h(t),i=t.children(w).children(S),a=i.length,o=i.map(function(){return h(r(this))}),s;for(s=0;s<a;s++)f(i[s].style[D])?i[s].style[D]=p(u(o[s],n)):i[s].style[D]=m(o[s])},_resizeTopAndBottomColumns:function(e,t){var n=this,i=r(e).attr(T),a=r(n.element).children(b+E+x).children(w).children(n.options.tags.join(E)).filter(function(){var t=this;return r(t).attr(T)===i&&t!==e}),o=a.length,s;for(s=0;s<o;s++)n._resizeColumn(a[s],t)},_resizeColumn:function(e,t){var n=r(this.element.tHead||this.element.tBodies[0]);f(e.style[D])?e.style[D]=p(u(t,h(n))):e.style[D]=m(t)},_resizeAdjacentColumns:function(e,t,n,i){var a=this,o=r(a.element).children(b+E+x).children(w).children(a.options.tags.join(E)).filter(function(){return parseInt(r(this).attr(T),10)===e+1}),s=o.length,c;for(c=0;c<s;c++)a._resizeAdjacentColumn(o[c],t,n,i)},_resizeAdjacentColumn:function(e,t,r,i){var a=this,o=a.options.min,s=l({value:t+i,min:o,max:n(r+t-o)});a._resizeColumn(e,s)}});O.create=function(e){s.create(e,{name:`columnResizing`,type:O,eventNamespace:g})},O.dispose=function(e){s.dispose(e,{eventNamespace:g})},i(a,{ColumnResizing:O})})(window.kendo),(function(e,t){var n=window.Math.abs,r=e.jQuery,i=r.extend,a=e.ui.editor,o=a.TableElementResizing,s=a.ResizingUtils,c=s.getScrollBarWidth,l=s.constrain,u=s.calculatePercentageRatio,d=s.inPercentages,f=s.toPercentages,p=s.toPixels,m=e._outerHeight,h=`.kendoEditorRowResizing`,g=`k-row-resize-handle`,_=`k-row-resize-marker-wrapper`,v=`k-row-resize-marker`,y=`body`,b=`tr`,x=`tbody`,S=`thead`,C=`,`,w=`height`,T=o.extend({options:{tags:[b],min:20,rootElement:null,eventNamespace:h,rtl:!1,handle:{dataAttribute:`row`,width:0,height:10,classNames:{handle:g,marker:v},template:`<div class="k-row-resize-handle-wrapper" unselectable="on" contenteditable="false"><div class="`+g+`"><div class="`+_+`"><div class="`+v+`"></div></div></div></div>`}},elementBorderHovered:function(e,t){var n=this.options.handle[w],i=e.offset().top+m(e),a=t.clientY+r(e[0].ownerDocument).scrollTop();return a>i-n&&a<i+n},setResizeHandlePosition:function(t){var n=this,i=n.options,a=i.handle[w],o=r(i.rootElement),s=o.is(y)?0:o.scrollTop(),l=o.is(y)?0:e.scrollLeft(o),u=i.rtl?c(o[0]):0,d=t.offset().left-(o.offset().left+parseFloat(o.css(`borderLeftWidth`)))-parseFloat(t.css(`marginLeft`)),f=t.offset().top-(o.offset().top+parseFloat(o.css(`borderTopWidth`)))-parseFloat(t.css(`marginTop`)),p=e.support.browser;i.rtl&&(p.mozilla||p.webkit&&p.version>=85)&&(l*=-1),n.resizeHandle.css({top:f+m(t)+s-a/2,left:d+(l-u),position:`absolute`})},setResizeHandleDimensions:function(){var e=this,t=r(e.element.tHead||e.element.tBodies[0]);e.resizeHandle.css({width:t.width(),height:e.options.handle[w]})},setResizeHandleDragPosition:function(e){var t=this,n=t.options,i=n.min,a=r(t.element).children(S),o=r(t.element).children(x),s=a.length>0?a:o,c=r(t.resizeHandle),u=r(r(e.currentTarget).data(n.handle.dataAttribute)),d=r(n.rootElement),f=d.is(y)?0:d.scrollTop(),p=s.offset().top-(d.offset().top+parseFloat(d.css(`borderTopWidth`)))-parseFloat(s.css(`marginTop`)),h=u.offset().top-(d.offset().top+parseFloat(d.css(`borderTopWidth`)))-parseFloat(u.css(`marginTop`)),g=l({value:c.offset().top-(Math.max(0,d.offset().top)+parseFloat(d.css(`borderTopWidth`)))-parseFloat(c.css(`marginTop`))+f+e.y.delta,min:h+f+i,max:p+m(a)+m(o)+f-n.handle[w]-i});c.css({top:g})},resize:function(e){var t=this,i=t.options,a=r(e.currentTarget).data(i.handle.dataAttribute),o=m(r(a)),s=r(t.element),c=m(s),u=s.children(S),f=u.length>0?u.height():0,h=s.children(x).height(),g=a.style[w],_=l({value:o+e.y.initialDelta,min:i.min,max:n(f+h-i.min)});t._setRowsHeightInPixels(),a.style[w]=p(_),t._setTableHeight(c+(_-o)),d(g)&&t._setRowsHeightInPercentages()},_setRowsHeightInPixels:function(){var e=r(this.element).children(x+C+S).children(b),t=e.length,n=e.map(function(){return m(r(this))}),i;for(i=0;i<t;i++)e[i].style[w]=p(n[i])},_setRowsHeightInPercentages:function(){var e=this,t=r(e.element).children(S),n=t.length>0?t.height():0,i=r(e.element).children(x).height(),a=r(e.element).children(S+C+x).children(b),o=a.length,s=a.map(function(){return m(r(this))}),c;for(c=0;c<o;c++)a[c].style[w]=f(u(s[c],n+i))},_setTableHeight:function(e){var t=this.element;d(t.style[w])?t.style[w]=f(u(e,r(t).parent().height())):t.style[w]=p(e)}});T.create=function(e){o.create(e,{name:`rowResizing`,type:T,eventNamespace:h})},T.dispose=function(e){o.dispose(e,{eventNamespace:h})},i(a,{RowResizing:T})})(window.kendo),(function(e,t){var n=e.jQuery,r=n.extend,i=n.noop,a=e.ui.editor,o=e.Class,s=e.ui.Draggable,c=e.Observable,l=a.ResizingUtils.getScrollBarWidth,u=e._outerWidth,d=e._outerHeight,f=`.kendoEditorElementResizeHandle`,p=`k-element-resize-handle`,m=`dragStart`,h=`drag`,g=`dragEnd`,_=`halfInside`,v=`mouseover`,y=`mouseout`,b=`body`,x=`table`,S=`east`,C=`north`,w=`northeast`,T=`northwest`,E=`south`,D=`southeast`,O=`southwest`,k=`west`,A=`.`,j=c.extend({init:function(e){var t=this;c.fn.init.call(t),t.options=r({},t.options,e),t.element=n(t.options.template).appendTo(t.options.appendTo)[0],t._attachEventHandlers(),t._addStyles(),t._initDraggable(),t._initPositioningStrategy(),t._initDraggingStrategy(),n(t.element).data(x,t.options.resizableElement)},destroy:function(){var e=this;n(e.element).off(f).remove(),e.element=null,e._destroyDraggable(),e.unbind()},options:{appendTo:null,direction:D,resizableElement:null,rtl:!1,template:`<div class='k-element-resize-handle-wrapper' unselectable='on' contenteditable='false'><div class='`+p+`'></div></div>`},events:[m,h,g,v,y],show:function(){this._setPosition()},_setPosition:function(){var e=this,t=e._positioningStrategy.getPosition();n(e.element).css({top:t.top,left:t.left,position:`absolute`})},_attachEventHandlers:function(){var e=this;n(e.element).on(v+f,e._onMouseOver.bind(e)).on(y+f,e._onMouseOut.bind(e))},_onMouseOver:function(){this.trigger(v)},_onMouseOut:function(){this.trigger(y)},_addStyles:function(){var e=this;n(e.element).children(A+p).addClass(`k-resize-`+e.options.direction)},_initPositioningStrategy:function(){var e=this,t=e.options;e._positioningStrategy=P.create({name:t.direction,handle:e.element,resizableElement:t.resizableElement,rootElement:t.rootElement,rtl:t.rtl})},_initDraggable:function(){var e=this,t=e.element;e._draggable||!t||(e._draggable=new s(t,{dragstart:e._onDragStart.bind(e),drag:e._onDrag.bind(e),dragend:e._onDragEnd.bind(e)}))},_onDragStart:function(){this.trigger(m)},_onDrag:function(e){var t=this;t.trigger(h,t._draggingStrategy.adjustDragDelta({deltaX:e.x.delta,deltaY:e.y.delta,initialDeltaX:e.x.initialDelta,initialDeltaY:e.y.initialDelta})),t.options.editor&&t.options.editor._handleSpaceAndNewLines()},_onDragEnd:function(){this.trigger(g)},_destroyDraggable:function(){var e=this;e._draggable&&=(e._draggable.destroy(),null)},_initDraggingStrategy:function(){var e=this;e._draggingStrategy=W.create({name:e.options.direction})}}),M=o.extend({init:function(){this._items=[]},register:function(e,t){this._items.push({name:e,type:t})},create:function(e){var t=this._items,n=t.length,r=e.name?e.name.toLowerCase():``,i,a,o;for(o=0;o<n;o++)if(a=t[o],a.name.toLowerCase()===r){i=a;break}if(i)return new i.type(e)}}),N=M.extend({});N.current=new N;var P=o.extend({init:function(e){var t=this;t.options=r({},t.options,e)},options:{handle:null,offset:_,resizableElement:null,rootElement:null,rtl:!1},getPosition:function(){var e=this,t=e.calculatePosition(),n=e.applyHandleOffset(t);return e.applyScrollOffset(n)},calculatePosition:i,applyHandleOffset:function(e){var t=this.options,r=n(t.handle);return t.offset===_?{top:e.top-d(r)/2,left:e.left-u(r)/2}:e},applyScrollOffset:function(t){var r=this.options,i=n(r.rootElement),a=r.rtl?l(i[0]):0,o=e.support.browser,s;return i.is(b)?t:(s=e.scrollLeft(i)||0,r.rtl&&(o.mozilla||o.webkit&&o.version>=85)&&(s*=-1),{top:t.top+(i.scrollTop()||0),left:t.left+s-a})}});P.create=function(e){return N.current.create(e)};var F=P.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position(),r=parseInt(e.css(`marginLeft`),10);return{top:t.top+d(e)/2,left:t.left+u(e)+r}}});N.current.register(S,F);var I=P.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position(),r=parseInt(e.css(`marginLeft`),10);return{top:t.top,left:t.left+u(e)/2+r}}});N.current.register(C,I);var L=P.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position(),r=parseInt(e.css(`marginLeft`),10);return{top:t.top,left:t.left+u(e)+r}}});N.current.register(w,L);var R=P.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position(),r=parseInt(e.css(`marginLeft`),10);return{top:t.top,left:t.left+r}}});N.current.register(T,R);var z=P.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position(),r=parseInt(e.css(`marginLeft`),10);return{top:t.top+d(e),left:t.left+u(e)/2+r}}});N.current.register(E,z);var B=P.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position(),r=parseInt(e.css(`marginLeft`),10);return{top:t.top+d(e),left:t.left+u(e)+r}}});N.current.register(D,B);var V=P.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position(),r=parseInt(e.css(`marginLeft`),10);return{top:t.top+d(e),left:t.left+r}}});N.current.register(O,V);var H=P.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position(),r=parseInt(e.css(`marginLeft`),10);return{top:t.top+d(e)/2,left:t.left+r}}});N.current.register(k,H);var U=M.extend({});U.current=new U;var W=o.extend({init:function(e){var t=this;t.options=r({},t.options,e)},options:{deltaX:{adjustment:null,modifier:null},deltaY:{adjustment:null,modifier:null}},adjustDragDelta:function(e){var t=this.options,n=t.deltaX.adjustment*t.deltaX.modifier,r=t.deltaY.adjustment*t.deltaY.modifier;return{deltaX:e.deltaX*n,deltaY:e.deltaY*r,initialDeltaX:e.initialDeltaX*n,initialDeltaY:e.initialDeltaY*r}}});W.create=function(e){return U.current.create(e)};var G=W.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:0,modifier:0}}}),K=G.extend({options:{deltaX:{modifier:1}}});U.current.register(S,K);var q=G.extend({options:{deltaX:{modifier:-1}}});U.current.register(k,q);var J=W.extend({options:{deltaX:{adjustment:0,modifier:0},deltaY:{adjustment:1,modifier:1}}}),Y=J.extend({options:{deltaY:{modifier:-1}}});U.current.register(C,Y);var ee=J.extend({options:{deltaY:{modifier:1}}});U.current.register(E,ee);var X=W.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:1,modifier:1}}}),Z=X.extend({options:{deltaX:{modifier:1},deltaY:{modifier:-1}}});U.current.register(w,Z);var Q=X.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:-1}}});U.current.register(T,Q);var $=X.extend({options:{deltaX:{modifier:1},deltaY:{modifier:1}}});U.current.register(D,$);var te=X.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:1}}});U.current.register(O,te),r(a,{ElementResizeHandle:j})})(window.kendo),(function(e,t){var n=window.Math,r=n.min,i=n.max,a=e.jQuery,o=a.contains,s=a.extend,c=e.support.browser,l=e.ui.editor,u=e.Class,d=l.ElementResizeHandle,f=l.ResizingUtils,p=f.calculatePercentageRatio,m=f.constrain,h=f.inPercentages,g=f.inPixels,_=f.toPercentages,v=f.toPixels,y=e._outerWidth,b=e._outerHeight,x=l.RangeUtils,S=`.kendoEditorElementResizing`,C=`k-element-resize-handle-wrapper`,w=`k-table`,T=`k-element-resizing`,E=`dragStart`,D=`drag`,O=`dragEnd`,k=`keydown`,A=`mousedown`,j=`select`,M=`drop`,N=`td`,P=`tr`,F=`tbody`,I=`thead`,L=`table`,R=`img`,z=[`TABLE`,`IMG`],B=`,`,V=`width`,H=`height`,U=`east`,W=`north`,G=`northeast`,K=`northwest`,q=`south`,J=`southeast`,Y=`southwest`,ee=`west`,X=`.`;function Z(e){return e===void 0}var Q=u.extend({init:function(e,t){var n=this;n.options=s({},n.options,t),n.handles=[],z.indexOf(e.nodeName)>=0&&(n.element=e)},destroy:function(){var e=this;a(e.element).off(S),e.element=null,a(e.options.rootElement).off(k+S),e._destroyResizeHandles()},options:{appendHandlesTo:null,rtl:!1,rootElement:null,minWidth:10,minHeight:10,handles:[{direction:K},{direction:W},{direction:G},{direction:U},{direction:J},{direction:q},{direction:Y},{direction:ee}]},resize:function(e){var t=this,n=s({},{deltaX:0,deltaY:0,initialDeltaX:0,initialDeltaY:0},e);t._resizeWidth(n.deltaX,n.initialDeltaX),t._resizeHeight(n.deltaY,n.initialDeltaY),t.showResizeHandles()},_resizeWidth:function(){return!1},_resizeHeight:function(){return!1},_getMaxDimensionValue:function(t){var n=this,r=a(n.element),i=t.toLowerCase(),o=n.options.rtl?-1:1,s=a(n.element).parent(),c=s[0],l=s[i](),u=o*(t===V?e.scrollLeft(s):s.scrollTop());return c&&c===r.closest(N)[0]&&c.style[i]===``&&!h(n.element.style[i])?1/0:l+u},showResizeHandles:function(){var e=this;e._initResizeHandles(),e._showResizeHandles()},_initResizeHandles:function(){var e=this,t=e.handles,n=e.options,r=e.options.handles,i=r.length,a;if(!(t&&t.length>0)){for(a=0;a<i;a++)e.handles.push(new d(s({appendTo:n.appendHandlesTo,resizableElement:e.element,rootElement:n.rootElement,rtl:n.rtl,editor:e.options.editor},r[a])));e._bindToResizeHandlesEvents()}},_destroyResizeHandles:function(){for(var e=this,t=e.handles?e.handles.length:0,n=0;n<t;n++)e.handles[n].destroy();e.handles=[]},_showResizeHandles:function(){var e=this,t=(e.handles||[]).length,n;for(n=0;n<t;n++)e.handles[n].show()},_bindToResizeHandlesEvents:function(){return!1},_onResizeHandleDragStart:function(){var e=this,t=a(e.element);t.addClass(T),e._initialElementHeight=b(t),e._initialElementWidth=y(t),e._disableKeyboard()},_onResizeHandleDrag:function(e){this.resize(e)},_onResizeHandleDragEnd:function(){var e=this;a(e.element).removeClass(T),e._enableKeyboard()},_enableKeyboard:function(){a(this.options.rootElement).off(k+S)},_disableKeyboard:function(){a(this.options.rootElement).on(k+S,function(e){e.preventDefault()})}}),$=Q.extend({_bindToResizeHandlesEvents:function(){var e=this,t=e.handles||[],n=t.length,r,i;for(r=0;r<n;r++)i=t[r],i.bind(E,e._onResizeHandleDragStart.bind(e)),i.bind(D,e._onResizeHandleDrag.bind(e)),i.bind(O,e._onResizeHandleDragEnd.bind(e))},_hasRowsInPixels:function(){for(var e=a(this.element).children(I+B+F).children(P),t=0;t<e.length;t++)if(e[t].style.height===``||g(e[t].style.height))return!0;return!1},_resizeWidth:function(e,t){var n=this,o=a(n.element),s=o[0].style[V],c=y(o),l=o.parent().width(),u=n._getMaxDimensionValue(V),d,f,g,b;e!==0&&(Z(n._initialElementWidth)&&(n._initialElementWidth=c),b=m({value:n._initialElementWidth+t,min:n.options.minWidth,max:u}),h(s)?(c+e>l?(f=i(b,l),g=r(b,l)):(f=r(b,l),g=i(b,l)),d=_(p(f,g))):d=v(b),n._setColumnsWidth(),o[0].style[V]=d)},_resizeHeight:function(e,t){var n=this,o=a(n.element),s=o[0].style[H],c=b(o),l=o.parent().height(),u=n._getMaxDimensionValue(H),d,f,g,y,x=n.options.minHeight,S=n._hasRowsInPixels();e!==0&&(Z(n._initialElementHeight)&&(n._initialElementHeight=c),y=m({value:n._initialElementHeight+t,min:x,max:u}),S&&e<0&&n._setRowsHeightInPercentages(),h(s)?(c+e>l?(f=i(y,l),g=r(y,l)):(f=r(y,l),g=i(y,l)),d=_(p(f,g))):d=v(y),o[0].style[H]=d,S&&e<0&&n._setRowsHeightInPixels())},_setColumnsWidth:function(){var e=a(this.element),t=e.parent()[0],n=e.closest(N),r=n.closest(P).children(),i=r.length,o;function s(e){var t=e.style.width;return t===``?!!a(e).hasClass(w):!!h(t)}if(s(e[0])&&t===n[0]&&t.style[V]===``)for(o=0;o<i;o++)r[o].style[V]=v(a(r[o]).width())},_setRowsHeightInPercentages:function(){var e=this,t=a(e.element).children(I),n=t.length>0?t.height():0,r=a(e.element).children(F).height(),i=a(e.element).children(I+B+F).children(P),o=i.length,s=i.map(function(){return b(a(this))}),c;for(c=0;c<o;c++)i[c].style[H]=_(p(s[c],n+r))},_setRowsHeightInPixels:function(){var e=a(this.element).children(I+B+F).children(P),t=e.length,n=e.map(function(){return b(a(this))}),r;for(r=0;r<t;r++)e[r].style[H]=v(n[r])}}),te=Q.extend({_bindToResizeHandlesEvents:function(){var e=this,t=e.handles||[],n=t.length,r,i;for(r=0;r<n;r++)i=t[r],i.bind(E,e._onResizeHandleDragStart.bind(e)),i.options.direction===`north`||i.options.direction===`south`?i.bind(D,e._onResizeHandleDragVertical.bind(e)):i.options.direction===`east`||i.options.direction===`west`?i.bind(D,e._onResizeHandleDragHorizontal.bind(e)):i.bind(D,e._onResizeHandleDragLocked.bind(e)),i.bind(O,e._onResizeHandleDragEnd.bind(e))},_getDeltas:function(e){return s({},{deltaX:0,deltaY:0,initialDeltaX:0,initialDeltaY:0},e)},_onResizeHandleDragVertical:function(e){var t=this._getDeltas(e);this._resizeHeight(t.deltaY,t.initialDeltaY),this.showResizeHandles()},_onResizeHandleDragHorizontal:function(e){var t=this._getDeltas(e);this._resizeWidth(t.deltaX,t.initialDeltaX),this.showResizeHandles()},_onResizeHandleDragLocked:function(e){var t=Math.min(Math.abs(e.initialDeltaX),Math.abs(e.initialDeltaY)),n=this._initialElementWidth,r=this._initialElementHeight,i;t===e.initialDeltaX||t===e.initialDeltaX*-1?(e.initialDeltaY=e.initialDeltaX*r/n,e.deltaY=e.deltaX):(t===e.initialDeltaY||t===e.initialDeltaY*-1)&&(e.initialDeltaX=e.initialDeltaY*n/r,e.deltaX=e.deltaY),i=this._getDeltas(e),this._resizeWidth(i.deltaX,i.initialDeltaX),this._resizeHeight(i.deltaY,i.initialDeltaY),this.showResizeHandles()},_resizeWidth:function(e,t){var n=this,r=a(n.element),i=y(r),o,s;e!==0&&(Z(n._initialElementWidth)&&(n._initialElementWidth=i),s=m({value:n._initialElementWidth+t,min:n.options.minWidth,max:n._getMaxDimensionValue(V)}),o=v(s),r[0].style[V]=o,r.attr(V,Math.floor(s)))},_resizeHeight:function(e,t){var n=this,r=a(n.element),i=b(r),o,s;e!==0&&(Z(n._initialElementHeight)&&(n._initialElementHeight=i),s=m({value:n._initialElementHeight+t,min:n.options.minHeight,max:2**53-1}),o=v(s),r[0].style[H]=o,r.attr(H,Math.floor(s)))}});let ne=u.extend({create:function(e){let t=this;a(e.body).on(`dragstart`+S,function(){var t=x.nodes(e.getRange()),n=!1;t.forEach(function(e){e.nodeName===`IMG`&&(n=!0)}),n&&t.length>1&&e.elementResizing._destroyResizeHandles()}).on(M+S,function(){setTimeout(function(){var t=x.image(e.getRange());t&&(e.elementResizing._destroyResizeHandles(),e.elementResizing.element=t,e.elementResizing.showResizeHandles())})}).on(A+S,L+B+R,function(n){var r=n.target,i=n.currentTarget,a=e.elementResizing,s=a?a.element:null;if(a){if(s&&i!==s){if(o(i,s)&&s!==r&&o(s,r))return;s!==r&&(e._destroyElementResizing(),t._initResizing(e,i))}}else t._initResizing(e,i);e._showElementResizeHandles()}).on(A+S,function(t){var n=e.elementResizing,r=n?n.element:null,i=t.target,s=a(i).hasClass(C)||a(i).parents(X+C).length>0;n&&r!==i&&!o(r,i)&&!s&&e._destroyElementResizing()})},dispose:function(e){a(e.body).off(S)},_initResizing:function(t,n){c.msie||(a(n).is(L)?t.elementResizing=t.tableResizing=new $(n,{appendHandlesTo:t.body,rtl:e.support.isRtl(t.element),rootElement:t.body,editor:t}):a(n).is(R)&&(t.elementResizing=new te(n,{appendHandlesTo:t.body,rtl:e.support.isRtl(t.element),rootElement:t.body,editor:t})),t._showElementResizeHandlesProxy&&(t.unbind(j,t._showElementResizeHandlesProxy),t.bind(j,t._showElementResizeHandlesProxy)))}});ne.current=new ne,s(l,{TableResizing:$,ImageResizing:te,ElementResizing:Q,ElementResizingFactory:ne})})(window.kendo),(function(e,t){var n=window.kendo,r=n.ui.editor,i=r.EditorUtils,a=r.RangeUtils,o=r.Dom,s=i.registerTool,c=r.Command,l=new r.BlockFormatFinder([{tags:[`table`]}]),u=new r.BlockFormatFinder([{tags:[`td`,`th`]}]),d=/([a-z]+|%)$/i,f=`col`,p=`row`,m=`colgroup`,h=`scope`,g=`col-index`,_=`th`,v=`td`,y=`thead`,b=`headers`,x=`table`,S=c.extend({exec:function(){var e=this,i=e.editor,a=e.range=e.lockRange(),o=e.options.tableCellWizard,s=e._sourceTable=e.options.insertNewTable?t:e._selectedTable(a),c=e._selectedTableCells=s?e._selectedCells(a):t,l={visible:!1,messages:i.options.messages,closeCallback:e.onDialogClose.bind(e),table:e.parseTable(s,c),dialogOptions:i.options.dialogOptions,isRtl:n.support.isRtl(i.wrapper)};new r.TableWizardDialog(l).open(o)},onDialogClose:function(e){var t=this;t.releaseRange(t.range),e&&(t.options.insertNewTable?t.insertTable(t.createNewTable(e)):t.updateTable(e,t._sourceTable,t._selectedTableCells))},releaseRange:function(e){var t=this,n=t.editor.document;o.windowFromDocument(n).focus(),c.fn.releaseRange.call(t,e)},insertTable:function(e){var t=this.range;t.insertNode(e),t.collapse(!0),this.editor.selectRange(t),this._ensureFocusableAfterTable(e)},_ensureFocusableAfterTable:function(t){for(var n=e(t).parent().contents(),r=n.length-1,i=n.get(r);i.nodeValue!==null&&(i.nodeValue===` `||i.nodeValue===``);)--r,i=n.get(r);i===t&&o.insertAfter(o.createEmptyNode(this.editor.document,`p`),t)},updateTable:function(t,n,r){for(var i=this,a=e(n.rows).toArray(),s=t.tableProperties,c=s.rows,l=n.tHead,u=i._lastInCollection,d,f;r.length>1;)r.pop();d=r.length?u(r).parentNode:u(a),i._deleteTableRows(a,a.length-c),a.length<c&&i._addRows(d,c,a),o.reMapTableColumns(n,g),i._updateColumns(a,s.columns,r,d),i._updateTableProperties(n,s),f=t.cellProperties,r[0]&&o.attr(r[0],{id:(f||{}).id||null}),f&&(f.selectAllCells?e(a).children():e(r)).each(function(e,t){i._updateCellProperties(t,f,s)}),i._updateCaption(n,s),l?i._updateHeadersWithThead(n,t):i._updateHeadersNoThead(n,t),i._updateHeaderAssociates(n,s),o.clearTableMappings(n,g)},_isHeadingRow:function(e){return o.is(e.cells[0],_)&&o.is(e.parentNode,y)},_isHeadingCell:function(e){return o.is(e,_)},cellsWithHeadersAssociated:function(t){var n=e(t.rows).children(),r=[],i=function(e){return r.indexOf(e)>-1};return n.each(function(e,t){t.id&&o.is(t,_)&&r.push(t.id)}),!!n.filter(function(e,t){var n=t.getAttribute(b),r;return n&&!o.is(t,_)&&(r=n.split(` `),r&&r.length>0)?r.some(i):!1}).length},_insertCells:function(e,t,n){n=isNaN(n)?-1:n;for(var r=0,i;r<e;r++)i=t.insertCell(n),i.innerHTML=`&nbsp;`},_deleteTableRows:function(e,t){for(var n=0,r,i;n<t;n++)r=e.pop(),i=r.parentNode,i.removeChild(r),i.rows.length||o.remove(i)},createNewTable:function(e){var t=this,n=t.editor.document,r=e.tableProperties,i=o.create(n,x),a=0,s;t._updateTableProperties(i,r),t._updateCaption(i,r),r.headerRows&&r.headerRows>0&&(s=i.createTHead(),t._createTableRows(e,s,a,!0),a+=r.headerRows);var c=i.createTBody();return t._createTableRows(e,c,a,!1),o.reMapTableColumns(i,g),r.cellsWithHeaders===`ids`?o.associateWithIds(i):r.cellsWithHeaders===`scope`&&t._addScopes(i,r.headerRows,r.headerColumns),o.clearTableMappings(i,g),i},_createTableRows:function(e,t,n,r){for(var i=this,a=e.tableProperties,o=e.cellProperties,s=a.columns,c=r?a.headerRows:a.rows,l=a.headerColumns,u=n,d;u<c;u++){d=t.insertRow();for(var f=0,p;f<s;f++)p=r||l>f?document.createElement(_):document.createElement(v),d.appendChild(p),p.innerHTML=`&nbsp;`,o&&u===0&&f===0&&o.id&&(p.id=o.id),i._updateCellProperties(p,o&&(o.selectAllCells||u===0&&f===0)?o:{},a)}},_addRows:function(t,n,r){for(var i=this,a=e(t).index(),o=t.cells.length,s=n-r.length,c=t.parentNode,l;s;)l=c.insertRow(a+1),i._insertCells(o-l.cells.length,l),s--},_updateColumns:function(t,n,r,i){var a=this,o=a._lastInCollection,s=o(t[0].cells),c=Number(s.getAttribute(g))+s.colSpan;if(c>n&&e(t).each(function(e,t){for(var r=o(t.cells),i=Number(r.getAttribute(g))+r.colSpan;i>n;)r.colSpan&&r.colSpan>1?--r.colSpan:t.deleteCell(-1),r=o(t.cells),i=Number(r.getAttribute(g))+r.colSpan}),c<n){var l=e(o(r)||o(i.cells)).index();e(t).each(function(e,t){var r=o(t.cells);a._insertCells(n-Number(r.getAttribute(g))-r.colSpan,t,l+1)})}},_updateTableProperties:function(t,n){var r=this._getStylesData(n);o.attr(t,{cellSpacing:n.cellSpacing||null,topCellPadding:this._getNumericValue(n.topCellPadding)??``,leftCellPadding:this._getNumericValue(n.leftCellPadding)??``,bottomCellPadding:this._getNumericValue(n.bottomCellPadding)??``,rightCellPadding:this._getNumericValue(n.rightCellPadding)??``,className:n.className||null,id:n.id||null,summary:n.summary||null,style:r||null}),e(t).addClass(`k-table`)},_updateCellProperties:function(e,t,n){var r=this._getStylesData(t);r.paddingTop=this._getNumericValue(t.topCellPadding)??this._getNumericValue(n?.topCellPadding)??``,r.paddingLeft=this._getNumericValue(t.leftCellPadding)??this._getNumericValue(n?.leftCellPadding)??``,r.paddingBottom=this._getNumericValue(t.bottomCellPadding)??this._getNumericValue(n?.bottomCellPadding)??``,r.paddingRight=this._getNumericValue(t.rightCellPadding)??this._getNumericValue(n?.rightCellPadding)??``,r.margin=t.cellMargin||null,o.attr(e,{style:r||null,className:t.className||null})},_updateCaption:function(e,t){if(e.caption&&!t.captionContent)e.deleteCaption();else if(t.captionContent){var n=e.createCaption();n.innerHTML=t.captionContent;var r=this._getAlignmentData(t.captionAlignment);o.attr(n,{style:{textAlign:r.textAlign,verticalAlign:r.verticalAlign}})}},_updateHeadersNoThead:function(e,t){var n=this,r=t.tableProperties,i=e.rows,a,s,c,l,u;for(l=0;l<i.length;l++)for(a=i[l],s=a.cells,u=0;u<s.length;u++)c=s[u],!n._isHeadingCell(c)&&(l<r.headerRows||r.headerColumns>c.getAttribute(g))?o.changeTag(c,_,!1):n._isHeadingCell(c)&&l>=r.headerRows&&r.headerColumns<=c.getAttribute(g)&&o.changeTag(c,v,!1)},_updateHeadersWithThead:function(e,t){var n=this,r=t.tableProperties,i=e.tHead,a=0,s=e.tBodies[0],c,l,u;if(s||=e.createTBody(),r.headerRows&&r.headerRows>0){for(i||=e.createTHead();i.rows.length<r.headerRows;)i.appendChild(s.rows[0]);for(;i.rows.length>r.headerRows;)s.appendChild(i.rows[0]);n._swapToHeaderCells(i)}else if(i){for(;i.rows.length>0;)s.appendChild(i.rows[i.rows.length-1]);e.deleteTHead()}for(;s.rows.length>a;){for(c=s.rows[a],u=0;u<c.cells.length;u++)l=c.cells[u],n._isHeadingCell(l)&&r.headerColumns<=l.getAttribute(g)?o.changeTag(l,v,!1):!n._isHeadingCell(l)&&r.headerColumns>l.getAttribute(g)&&o.changeTag(l,_,!1);a+=1}},_updateHeaderAssociates:function(e,t){var n=this;t.cellsWithHeaders===`ids`?(n.cellsWithHeadersAssociated(e)||n._removeScopes(e),o.associateWithIds(e)):t.cellsWithHeaders===`scope`?(n.cellsWithHeadersAssociated(e)&&n._removeAssociates(e),n._addScopes(e,t.headerRows,t.headerColumns)):n.cellsWithHeadersAssociated(e)?n._removeAssociates(e):n._removeScopes(e)},_addScopes:function(e,t,n){var r=e.rows,i,a,o,s;for(i=0;i<r.length;i++)for(o=r[i],a=0;a<o.cells.length;a++)s=o.cells[a],i<t?s.setAttribute(h,f):s.getAttribute(g)<n&&s.setAttribute(h,p)},_removeScopes:function(t){e(t).find(_).removeAttr(h),e(t).find(f).remove(),e(t).find(m).remove()},_removeAssociates:function(t){e(t).find(`th, td`).removeAttr(`id headers`)},_swapToHeaderCells:function(t){e(t).find(`td`).each(function(e,t){o.changeTag(t,_,!1)})},_getStylesData:function(t){var n=this,r=this._getAlignmentData(t.alignment),i=`wrapText`in t?t.wrapText?``:`nowrap`:null;return e.extend({width:t.width?t.width+t.widthUnit:null,height:t.height?t.height+t.heightUnit:null,textAlign:r.textAlign,verticalAlign:r.verticalAlign,backgroundColor:t.bgColor||``,borderWidth:t.borderWidth,borderStyle:t.borderStyle,borderColor:t.borderColor||``,borderCollapse:t.collapseBorders?`collapse`:null,whiteSpace:i},n._getTablePositionData(t.position))},_getAlignmentData:function(e){var t=``,n=t;if(e)if(e.indexOf(` `)!=-1){var r=e.split(` `);t=r[0],n=r[1]}else t=e;return{textAlign:t,verticalAlign:n}},_getTablePositionData:function(e){return e?{marginLeft:e==`left`?``:`auto`,marginRight:e==`right`?``:`auto`}:{}},parseTable:function(n,r){if(!n)return{tableProperties:{},selectedCells:[]};var i=this,a=n.style,s=n.rows,c=n.caption,l=e(c?c.cloneNode(!0):t);l.find(`.k-marker`).remove();var u=n.className;u=u.replace(/^k-table\s|\sk-table$/,``),u=u.replace(/\sk-table\s/,` `),u=u.replace(/^k-table$/,``);var d=i._getAlignment(n,!0),f=i._getTablePosition(n),p=c?i._getAlignment(c):t,m=o._getNumberOfHeaderRows(n),h=i.cellsWithHeadersAssociated(n)?`ids`:e(n).find(`th[scope]`).length>0?`scope`:`none`;o.reMapTableColumns(n,g);var _=o._getNumberOfColumns(n),v=o._getNumberOfHeaderColumns(n,m);o.clearTableMappings(n,g);var y={tableProperties:{width:a.width||n.width?parseFloat(a.width||n.width):null,height:a.height||n.height?parseFloat(a.height||n.height):null,columns:_,rows:s.length,widthUnit:i._getUnit(a.width),heightUnit:i._getUnit(a.height),cellSpacing:n.cellSpacing,topCellPadding:n.topCellPadding,leftCellPadding:n.leftCellPadding,bottomCellPadding:n.bottomCellPadding,rightCellPadding:n.rightCellPadding,alignment:d.textAlign,position:f,bgColor:a.backgroundColor||n.bgColor,className:u,id:n.id,borderWidth:a.borderWidth||n.border,borderColor:a.borderColor,borderStyle:a.borderStyle||``,collapseBorders:!!a.borderCollapse,summary:n.summary,captionContent:c?l.html():``,captionAlignment:c&&p.textAlign?p.textAlign+` `+p.verticalAlign:``,headerRows:m,headerColumns:v,cellsWithHeaders:h},selectedCells:[]};return y.rows=i.parseTableRows(s,r,y),y},parseTableRows:function(t,n,r){for(var i=this,a=[],o,s,c,l,u,d=0;d<t.length;d++){o=t[d],s={cells:[]},c=o.cells,a.push(s);for(var f=0;f<c.length;f++)l=c[f],u=i.parseCell(l),e.inArray(l,n)!=-1&&r.selectedCells.push(u),s.cells.push(u)}return a},parseCell:function(e){var t=this,n=e.style,r=t._getAlignment(e);return r=r.textAlign?r.textAlign+` `+r.verticalAlign:``,{width:n.width||e.width?parseFloat(n.width||e.width):null,height:n.height||e.height?parseFloat(n.height||e.height):null,widthUnit:t._getUnit(n.width),heightUnit:t._getUnit(n.height),cellMargin:n.margin,topCellPadding:n.paddingTop,leftCellPadding:n.paddingLeft,bottomCellPadding:n.paddingBottom,rightCellPadding:n.paddingRight,alignment:r,bgColor:n.backgroundColor||e.bgColor,className:e.className,id:e.id,borderWidth:n.borderWidth||e.border,borderColor:n.borderColor,borderStyle:n.borderStyle,wrapText:n.whiteSpace!=`nowrap`}},_getTablePosition:function(e){var t=e.style;return t.marginLeft==`auto`&&t.marginRight==`auto`?`center`:t.marginLeft==`auto`?`right`:`left`},_getAlignment:function(e,t){var n=e.style,r=n.textAlign||e.align||``;if(t)return{textAlign:r};var i=n.verticalAlign||e.vAlign||``;return r&&i?{textAlign:r,verticalAlign:i}:!r&&i?{textAlign:`left`,verticalAlign:i}:r&&!i?{textAlign:r,verticalAlign:`top`}:{textAlign:``,verticalAlign:``}},_getUnit:function(e){var t=(e||``).match(d);return t?t[0]:`px`},_selectedTable:function(e){var t=o.filterBy(a.nodes(e),o.htmlIndentSpace,!0);return l.findSuitable(t)[0]},_selectedCells:function(e){var t=o.filterBy(a.nodes(e),o.htmlIndentSpace,!0);return u.findSuitable(t)},_lastInCollection:function(e){return e[e.length-1]},_getNumericValue:function(e){return!isNaN(e)||typeof e==`string`?e:null}}),C=r.Tool.extend({command:function(e){return e.insertNewTable=this.options.insertNewTable,e.tableCellWizard=!!this.options.tableCellWizard,new S(e)}}),w=C.extend({update:function(e,t){var n=!l.isFormatted(t),r=e.closest(`.k-toolbar`).getKendoToolBar();n===!0?r.hide(e):r.show(e)}}),T=C.extend({update:function(e,t){var n=!l.isFormatted(t),r=e.closest(`.k-toolbar`).getKendoToolBar();n===!0?r.hide(e):r.show(e)}});n.ui.editor.TableWizardTool=C,n.ui.editor.TableWizardCommand=S,s(`tableProperties`,new w({command:S,insertNewTable:!1,property:`tableProperties`})),s(`tableCellProperties`,new T({command:S,tableCellWizard:!0,insertNewTable:!1,property:`tableCellProperties`}))})(window.kendo.jQuery),(function(e,t){let n=`k-form-field`,r=`k-visibility-invisible`;var i=window.kendo,a=i.htmlEncode,o={format:`0`,min:0},s=[`px`,`em`],c=[`solid`,`dotted`,`dashed`,`double`,`groove`,`ridge`,`inset`,`outset`,`initial`,`inherit`,`none`,`hidden`],l=4,u={dataSource:[{className:`text-wrap`,value:`wrap`},{className:`parameter-string`,value:`nowrap`}],dataTextField:`className`,dataValueField:`value`,template:({className:t,tooltip:n})=>i.ui.icon(e(`<span title="${a(n)}"></span>`),{icon:a(t)})+a(n),valueTemplate:({className:t,tooltip:n})=>i.ui.icon(e(`<span title="${a(n)}"></span>`),{icon:a(t),iconClass:`k-text-wrap`})+a(n)},d={dataSource:[{className:`table-position-start`,value:`left`},{className:`table-position-center`,value:`center`},{className:`table-position-end`,value:`right`}],dataTextField:`className`,dataValueField:`value`,template:({className:t,tooltip:n})=>i.ui.icon(e(`<span title="${a(n)}"></span>`),{icon:a(t)})+a(n),valueTemplate:({className:t,tooltip:n})=>i.ui.icon(e(`<span title="${a(n)}"></span>`),{icon:a(t),iconClass:`k-align-group`})+a(n)},f={dataSource:[{className:`table-align-middle-left`,value:`left`},{className:`table-align-middle-center`,value:`center`},{className:`table-align-middle-right`,value:`right`},{className:`align-remove`,value:``}],dataTextField:`className`,dataValueField:`value`,template:({className:t,tooltip:n})=>i.ui.icon(e(`<span title="${a(n)}"></span>`),{icon:a(t)})+a(n),valueTemplate:({className:t,tooltip:n})=>i.ui.icon(e(`<span title="${a(n)}"></span>`),{icon:a(t),iconClass:`k-align-group`})+a(n)},p={dataSource:[{className:`table-align-top-left`,value:`left top`},{className:`table-align-top-center`,value:`center top`},{className:`table-align-top-right`,value:`right top`},{className:`table-align-middle-left`,value:`left middle`},{className:`table-align-middle-center`,value:`center middle`},{className:`table-align-middle-right`,value:`right middle`},{className:`table-align-bottom-left`,value:`left bottom`},{className:`table-align-bottom-center`,value:`center bottom`},{className:`table-align-bottom-right`,value:`right bottom`},{className:`align-remove`,value:``}],dataTextField:`className`,dataValueField:`value`,template:({className:t,tooltip:n})=>i.ui.icon(e(`<span title="${a(n)}"></span>`),{icon:a(t)})+a(n),valueTemplate:({className:t,tooltip:n})=>i.ui.icon(e(`<span title="${a(n)}"></span>`),{icon:a(t),iconClass:`k-align-group`})+a(n)},m={dataSource:[{className:`table-align-top-left`,value:`left top`},{className:`table-align-top-center`,value:`center top`},{className:`table-align-top-right`,value:`right top`},{className:`table-align-bottom-left`,value:`left bottom`},{className:`table-align-bottom-center`,value:`center bottom`},{className:`table-align-bottom-right`,value:`right bottom`},{className:`align-remove`,value:``}],dataTextField:`className`,dataValueField:`value`,template:({className:t,tooltip:n})=>i.ui.icon(e(`<span title="${a(n)}"></span>`),{icon:a(t)}),valueTemplate:({className:t,tooltip:n})=>i.ui.icon(e(`<span title="${a(n)}"></span>`),{icon:a(t),iconClass:`k-align-group`})},h=({messages:e})=>`<div class="k-editor-dialog k-editor-table-wizard-window k-action-window k-popup-edit-form"><div id="k-table-wizard-tabs" class="k-root-tabs"><ul><li class="k-active">${e.tableTab}</li><li>${e.accessibilityTab}</li></ul><div id="k-table-properties"></div><div id="k-accessibility-properties"></div></div><div class="k-actions k-actions-start k-actions-horizontal k-window-buttons">`+i.html.renderButton(`<button class="k-dialog-ok"><span class="k-button-text">${e.dialogOk}</span></button>`,{icon:`check`,themeColor:`primary`})+i.html.renderButton(`<button class="k-dialog-close"><span class="k-button-text">${e.dialogCancel}</span></button>`,{icon:`cancel-outline`})+`</div></div>`,g=({messages:e})=>`<div class="k-editor-dialog k-editor-table-wizard-window k-action-window k-popup-edit-form"><div id="k-cell-properties"></div><div class="k-actions k-actions-start k-actions-horizontal k-window-buttons">`+i.html.renderButton(`<button class="k-dialog-ok"><span class="k-button-text">${e.dialogOk}</span></button>`,{icon:`check`,themeColor:`primary`})+i.html.renderButton(`<button class="k-dialog-close"><span class="k-button-text">${e.dialogCancel}</span></button>`,{icon:`cancel-outline`})+`</div></div>`,_=i.Class.extend({init:function(e){this.options=e},_openTablePropertiesDialog:function(){var t=this,n=t.options,r=n.dialogOptions,a=n.table,o,s=n.messages,c=i.support.browser.msie;function l(e){e.preventDefault(),t.destroy(),o.destroy()}function u(e){t.collectTableDialogValues(a),l(e),t.change&&t.change(),n.closeCallback(a)}function d(e){l(e),n.closeCallback()}r.close=d,r.minWidth=700,r.width=700,r.title=s.tableProperties,r.visible=n.visible,o=e(t._dialogTemplate(s)).appendTo(document.body).kendoWindow(r).addClass(`k-editor-window`).closest(`.k-window`).toggleClass(`k-rtl`,n.isRtl).end().find(`.k-dialog-ok`).on(`click`,u).end().find(`.k-dialog-close`).on(`click`,d).end().data(`kendoWindow`);var f=o.element;if(this.components={},t._initTabStripComponent(f),t._tablePropertiesForm=t._createTablePropertiesForm(o,s),t._accessibilityPropertiesForm=t._createAccessibilityPropertiesForm(o,s),o.center(),o.open(),c){var p=f.closest(`.k-window`).height();f.css(`max-height`,p)}},_openCellPropertiesDialog:function(){var t=this,n=t.options,r=n.dialogOptions,a=n.table,o,s=n.messages,c=i.support.browser.msie;function l(e){e.preventDefault(),t.destroy(),o.destroy()}function u(e){t.collectCellDialogValues(a),l(e),t.change&&t.change(),n.closeCallback(a)}function d(e){l(e),n.closeCallback()}r.close=d,r.minWidth=400,r.title=s.tableCellProperties,r.visible=n.visible,o=e(t._dialogTemplate(s,g)).appendTo(document.body).kendoWindow(r).addClass(`k-editor-window`).closest(`.k-window`).toggleClass(`k-rtl`,n.isRtl).end().find(`.k-dialog-ok`).on(`click`,u).end().find(`.k-dialog-close`).on(`click`,d).end().data(`kendoWindow`);var f=o.element;if(t._cellPropertiesForm=t._createCellPropertiesForm(o,s),o.center(),o.open(),c){var p=f.closest(`.k-window`).height();f.css(`max-height`,p)}},open:function(e){e?this._openCellPropertiesDialog():this._openTablePropertiesDialog()},_initTabStripComponent:function(e){var t=this.components={};t.tabStrip=e.find(`#k-table-wizard-tabs`).kendoTabStrip({animation:!1}).data(`kendoTabStrip`)},collectTableDialogValues:function(){var e=this,t=e.options.table;e._collectTableViewValues(t),e._collectAccessibilityViewValues(t)},collectCellDialogValues:function(){var e=this,t=e.options.table;e._collectCellViewValues(t)},_collectTableViewValues:function(e){var t=this.components.tableView,n=e.tableProperties,r=e.cellProperties=e.cellProperties||{};n.width=t.width.value(),n.widthUnit=t.widthUnit.value(),n.height=t.height.value(),n.columns=t.columns.value(),n.rows=t.rows.value(),n.heightUnit=t.heightUnit.value(),n.cellSpacing=t.cellSpacing.value(),n.topCellPadding=t.topCellPadding.value(),n.leftCellPadding=t.leftCellPadding.value(),n.bottomCellPadding=t.bottomCellPadding.value(),n.rightCellPadding=t.rightCellPadding.value(),n.alignment=t.alignment.value(),n.position=t.position.value(),n.bgColor=t.bgColor.value(),n.borderWidth=t.borderWidth.value(),n.borderColor=t.borderColor.value(),n.borderStyle=t.borderStyle.value(),n.collapseBorders=t.collapseBorders.check(),r.width||(r.selectAllCells=!0,r.width=100/e.tableProperties.columns,r.widthUnit=`%`)},_collectCellViewValues:function(e){var t=e.cellProperties=e.cellProperties||{},n=this.components.cellView;t.selectAllCells=n.selectAllCells.check(),t.width=n.width.value(),t.widthUnit=n.widthUnit.value(),t.height=n.height.value(),t.heightUnit=n.heightUnit.value(),t.independentCellPaddings=n.independentCellPaddings.check(),t.topCellPadding=n.topCellPadding.value(),t.leftCellPadding=n.leftCellPadding.value(),t.bottomCellPadding=n.bottomCellPadding.value(),t.rightCellPadding=n.rightCellPadding.value(),t.cellMargin=n.cellMargin.value(),t.alignment=n.alignment.value(),t.bgColor=n.bgColor.value(),t.className=n.className.value(),t.id=n.id.value(),t.borderWidth=n.borderWidth.value(),t.borderColor=n.borderColor.value(),t.borderStyle=n.borderStyle.value(),t.wrapText=n.wrapTextValue.value()==`wrap`,t.width||(t.selectAllCells=!0,t.width=100/e.tableProperties.columns,t.widthUnit=`%`)},_collectAccessibilityViewValues:function(e){var t=e.tableProperties,n=this.components.accessibilityView;t.captionContent=n.captionContent.value(),t.captionAlignment=n.captionAlignment.value(),t.summary=n.summary.value(),t.cellsWithHeaders=n.cellsWithHeaders.value(),t.className=n.className.value(),t.id=n.id.value(),t.headerRows=n.headerRows.value(),t.headerColumns=n.headerColumns.value()},_addUnit:function(t,n){n&&e.inArray(n,t)==-1&&t.push(n)},_initNumericTextbox:function(t,n,r,i,a){var s=i[n]=t.kendoNumericTextBox(a?e.extend({},o,a):o).data(`kendoNumericTextBox`);n in r&&s.value(parseInt(r[n],10))},_initDropDownList:function(e,t,n,r,i){var a=r[t]=e.kendoDropDownList({dataSource:i}).data(`kendoDropDownList`);this._setComponentValue(a,n,t)},_initBorderStyleDropDown:function(e,t,n,r,i){var a=r[t]=e.kendoDropDownList({dataSource:i,optionLabel:this.options.messages.borderNone}).data(`kendoDropDownList`);this._setComponentValue(a,n,t)},_initTablePositionDropDown:function(e,t){var n=this.options.messages,r=this.components.tableView,i=d.dataSource;i[0].tooltip=n.tableAlignLeft,i[1].tooltip=n.tableAlignCenter,i[2].tooltip=n.tableAlignRight,this._initPositionDropDown(e,d,`position`,t,r)},_initTableAlignmentDropDown:function(e,t){var n=this.options.messages,r=this.components.tableView,i=f.dataSource;i[0].tooltip=n.alignLeft,i[1].tooltip=n.alignCenter,i[2].tooltip=n.alignRight,i[3].tooltip=n.alignRemove,this._initAlignmentDropDown(e,f,`alignment`,t,r)},_initCellAlignmentDropDown:function(e,t){var n=this.options.messages,r=this.components.cellView,i=p.dataSource;i[0].tooltip=n.alignLeftTop,i[1].tooltip=n.alignCenterTop,i[2].tooltip=n.alignRightTop,i[3].tooltip=n.alignLeftMiddle,i[4].tooltip=n.alignCenterMiddle,i[5].tooltip=n.alignRightMiddle,i[6].tooltip=n.alignLeftBottom,i[7].tooltip=n.alignCenterBottom,i[8].tooltip=n.alignRightBottom,i[9].tooltip=n.alignRemove,this._initAlignmentDropDown(e,p,`alignment`,t,r)},_initAccessibilityAlignmentDropDown:function(e,t){var n=this.options.messages,r=this.components.accessibilityView,i=m.dataSource;i[0].tooltip=n.alignLeftTop,i[1].tooltip=n.alignCenterTop,i[2].tooltip=n.alignRightTop,i[3].tooltip=n.alignLeftBottom,i[4].tooltip=n.alignCenterBottom,i[5].tooltip=n.alignRightBottom,i[6].tooltip=n.alignRemove,this._initAlignmentDropDown(e,m,`captionAlignment`,t,r)},_initTextWrapDropDown:function(e,t){var n=this.options.messages,r=`wrapTextValue`;t.wrapTextValue=t.wrapText?`wrap`:`nowrap`;var i=this.components.cellView,a=u.dataSource;a[0].tooltip=n.wrapText,a[1].tooltip=n.fitToCell;var o=i[r]=e.kendoDropDownList(u).data(`kendoDropDownList`);o.list.addClass(`k-text-wrap`),this._setComponentValue(o,t,r)},_initPositionDropDown:function(e,t,n,r,i){var a=i[n]=e.kendoDropDownList(t).data(`kendoDropDownList`);a.list.addClass(`k-position`),this._setComponentValue(a,r,n)},_initAlignmentDropDown:function(e,t,n,r,i){var a=i[n]=e.kendoDropDownList(t).data(`kendoDropDownList`);a.list.addClass(`k-align`),this._setComponentValue(a,r,n)},_initAssociationDropDown:function(e,t,n,r,i){var a=i[t]=e.kendoDropDownList(n).data(`kendoDropDownList`);this._setComponentValue(a,r,t)},_setComponentValue:function(e,t,n){n in t&&e.value(t[n])},_initColorPicker:function(e,t,n,r){var i=r[t]=e.kendoColorPicker({buttons:!1,clearButton:!0}).data(`kendoColorPicker`);n[t]&&i.value(n[t])},_initInput:function(e,t,n,r,i){var a=r[t]=e.kendoTextBox(i||{}).data(`kendoTextBox`);t in n&&a.value(n[t])},_initCheckbox:function(e,t,n,r,i){var a=r[t]=e.kendoCheckBox(i||{}).data(`kendoCheckBox`);t in n&&a.check(n[t])},_initTextArea:function(e,t,n,r,i){var a=r[t]=e.kendoTextArea(i||{}).data(`kendoTextArea`);t in n&&a.value(n[t])},destroy:function(){var e=this;e._destroyComponents(this.components),delete e.components},_destroyComponents:function(e){for(var t in e)e[t].destroy&&e[t].destroy(),delete e[t]},_dialogTemplate:function(e,t){return i.template(t||h)({messages:e})},_onPaddingTopChange:function(e){let t=this.components.tableView?`tableView`:`cellView`,n=this.components[t],r=!n.independentCellPaddings.check(),i=n.topCellPadding,a=i.value(),o=n.leftCellPadding,s=n.bottomCellPadding,c=n.rightCellPadding;r&&(o.value(a),s.value(a),c.value(a)),i._cachedPadding=a},_onPaddingCheckChange:function(e){let t=this.components.tableView?`tableView`:`cellView`,i=this.options.messages,a=e.sender.check(),o=this.components[t],s=o.topCellPadding,c=o.leftCellPadding,l=o.bottomCellPadding,u=o.rightCellPadding,d=s.value(),f=l.value(),p=c.value(),m=u.value();a?(isNaN(s._cachedPadding)||s.value(s._cachedPadding),c.wrapper.closest(`.`+n).removeClass(r),l.wrapper.closest(`.`+n).removeClass(r),u.wrapper.closest(`.`+n).removeClass(r),s.wrapper.closest(`.`+n).find(`.k-form-label`).text(i.topPadding)):(d===f&&d===p&&d===m?(c.value(d),l.value(d),u.value(d)):s.value(null),c.wrapper.closest(`.`+n).addClass(r),l.wrapper.closest(`.`+n).addClass(r),u.wrapper.closest(`.`+n).addClass(r),s.wrapper.closest(`.`+n).find(`.k-form-label`).text(i.cellPadding))},_onColumnsNumberChange:function(e){var t=this.components.accessibilityView.headerColumns,n=t.value(),r=e.sender.value();r<n&&t.value(r),t.max(r)},_onRowsNumberChange:function(e){var t=this.components.accessibilityView.headerRows,n=t.value(),r=e.sender.value();r<n&&t.value(r),t.max(r)},_createTablePropertiesForm:function(t,n){var r=this,i=r.options.table,o=t.element.find(`#k-table-properties`),u=r.components,d=u.tableView={},f=i.tableProperties=i.tableProperties||{},p;return r._addUnit(s,f.widthUnit),r._addUnit(s,f.heightUnit),f.borderStyle=f.borderStyle||``,p=o.kendoForm({renderButtons:!1,layout:`grid`,grid:{cols:4},items:[{colSpan:2,field:`k-editor-table-columns`,label:a(n.columns),editor:function(t,n){r._initNumericTextbox(e(`<input type="numeric" id="k-editor-table-columns" />`).appendTo(t),`columns`,f,d,{min:1,value:l,change:r._onColumnsNumberChange.bind(r)})}},{colSpan:2,field:`k-editor-table-rows`,label:a(n.rows),editor:function(t,n){r._initNumericTextbox(e(`<input type="numeric" id="k-editor-table-rows" />`).appendTo(t),`rows`,f,d,{min:1,value:l,change:r._onRowsNumberChange.bind(r)})}},{colSpan:1,field:`k-editor-table-width`,label:a(n.width),editor:function(t,i){r._initNumericTextbox(e(`<input id="k-editor-table-width" />`).appendTo(t),`width`,f,d,{placeholder:a(n.auto)})}},{colSpan:1,field:`k-editor-table-width-type`,label:{encoded:!1,text:`&nbsp;`},editor:function(t,i){r._initDropDownList(e(`<input id="k-editor-table-width-type" aria-label="${n.units}" />`).appendTo(t),`widthUnit`,f,d,s)}},{colSpan:1,field:`k-editor-table-height`,label:a(n.height),editor:function(t,i){r._initNumericTextbox(e(`<input id="k-editor-table-height" />`).appendTo(t),`height`,f,d,{placeholder:a(n.auto)})}},{colSpan:1,field:`k-editor-table-height-type`,label:{encoded:!1,text:`&nbsp;`},editor:function(t,i){r._initDropDownList(e(`<input id="k-editor-table-height-type" aria-label="${n.units}" />`).appendTo(t),`heightUnit`,f,d,s)}},{colSpan:2,field:`k-editor-table-position`,label:a(n.position),editor:function(t,n){r._initTablePositionDropDown(e(`<input id="k-editor-table-position" class="k-position" />`).appendTo(t),f)}},{colSpan:2,field:`k-editor-table-alignment`,label:a(n.alignment),editor:function(t,n){r._initTableAlignmentDropDown(e(`<input id="k-editor-table-alignment" class="k-align" />`).appendTo(t),f)}},{colSpan:2,field:`k-editor-table-cell-spacing`,label:a(n.cellSpacing),editor:function(t,i){r._initNumericTextbox(e(`<input id="k-editor-table-cell-spacing" />`).appendTo(t),`cellSpacing`,f,d,{placeholder:a(n.auto)})}},{type:`group`,label:`Cell Paddings`,layout:`grid`,colSpan:4,grid:{cols:4,gutter:20},items:[{colSpan:4,field:`k-editor-padding-all-sides`,label:``,editor:function(t,i){r._initCheckbox(e(`<input id="k-editor-padding-all-sides" />`).appendTo(t),`independentCellPaddings`,f,d,{checked:!0,label:a(n.independentCellPaddings),change:r._onPaddingCheckChange.bind(r)})}},{colSpan:1,field:`k-editor-table-cell-padding-top`,label:a(n.topPadding),editor:function(t,i){r._initNumericTextbox(e(`<input id="k-editor-table-cell-padding-top" />`).appendTo(t),`topCellPadding`,f,d,{placeholder:a(n.auto),change:r._onPaddingTopChange.bind(r)})}},{colSpan:1,field:`k-editor-table-cell-padding-right`,label:a(n.rightPadding),editor:function(t,i){r._initNumericTextbox(e(`<input id="k-editor-table-cell-padding-right" />`).appendTo(t),`rightCellPadding`,f,d,{placeholder:a(n.auto)})}},{colSpan:1,field:`k-editor-table-cells-padding-bottom`,label:a(n.bottomPadding),editor:function(t,i){r._initNumericTextbox(e(`<input id="k-editor-table-cell-padding-bottom" />`).appendTo(t),`bottomCellPadding`,f,d,{placeholder:a(n.auto)})}},{colSpan:1,field:`k-editor-table-cell-padding-left`,label:a(n.leftPadding),editor:function(t,i){r._initNumericTextbox(e(`<input id="k-editor-table-cell-padding-left" />`).appendTo(t),`leftCellPadding`,f,d,{placeholder:a(n.auto)})}}]},{type:`group`,label:`Borders`,layout:`grid`,colSpan:4,grid:{cols:4,gutter:10},items:[{colSpan:4,field:`k-editor-table-bg`,label:a(n.tableBackground),editor:function(t,n){r._initColorPicker(e(`<input id="k-editor-table-bg" />`).appendTo(t),`bgColor`,f,d)}},{colSpan:1,field:`k-editor-border-width`,label:a(n.borderWidth),editor:function(t,n){r._initNumericTextbox(e(`<input id="k-editor-border-width" />`).appendTo(t),`borderWidth`,f,d)}},{colSpan:1,field:`k-editor-border-color`,label:a(n.borderColor),editor:function(t,n){r._initColorPicker(e(`<input id="k-editor-border-color" />`).appendTo(t),`borderColor`,f,d)}},{colSpan:2,field:`k-editor-border-style`,label:a(n.borderStyle),editor:function(t,n){r._initBorderStyleDropDown(e(`<input id="k-editor-border-style" />`).appendTo(t),`borderStyle`,f,d,c)}},{colSpan:4,field:`k-editor-collapse-borders`,label:``,editor:function(t,i){r._initCheckbox(e(`<input id="k-editor-collapse-borders"/>`).appendTo(t),`collapseBorders`,f,d,{label:a(n.collapseBorders)})}}]}]}).data(`kendoForm`),p.layoutWrapper.addClass(`k-gap-x-4`),p},_createCellPropertiesForm:function(t,n){var r=this,i=r.options.table,o=t.element.find(`#k-cell-properties`),l=r.components=r.components||{},u=l.cellView={},d=i.selectedCells&&i.selectedCells[0]||{borderStyle:``,wrapText:!0},f;return r._addUnit(s,d.widthUnit),r._addUnit(s,d.heightUnit),f=o.kendoForm({renderButtons:!1,layout:`grid`,grid:{cols:4},items:[{colSpan:4,field:`k-editor-selectAllCells`,label:``,editor:function(t,o){r._initCheckbox(e(`<input id="k-editor-selectAllCells" />`).appendTo(t),`selectAllCells`,i.tableProperties,u,{label:a(n.selectAllCells)})}},{colSpan:1,field:`k-editor-cell-width`,label:a(n.width),hint:a(n.applyToColumn),editor:function(t,i){r._initNumericTextbox(e(`<input id="k-editor-cell-width" />`).appendTo(t),`width`,d,u,{placeholder:a(n.auto)})}},{colSpan:1,field:`k-editor-cell-width-type`,label:{encoded:!1,text:`&nbsp;`},editor:function(t,i){r._initDropDownList(e(`<input id="k-editor-cell-width-type" aria-label="${n.units}" />`).appendTo(t),`widthUnit`,d,u,s)}},{colSpan:1,field:`k-editor-cell-height`,label:a(n.height),hint:a(n.applyToRow),editor:function(t,i){r._initNumericTextbox(e(`<input id="k-editor-cell-height" />`).appendTo(t),`height`,d,u,{placeholder:a(n.auto)})}},{colSpan:1,field:`k-editor-cell-height-type`,label:{encoded:!1,text:`&nbsp;`},editor:function(t,i){r._initDropDownList(e(`<input id="k-editor-cell-height-type" aria-label="${n.units}" />`).appendTo(t),`heightUnit`,d,u,s)}},{colSpan:2,field:`k-editor-cell-alignment`,label:a(n.alignment),editor:function(t,n){r._initCellAlignmentDropDown(e(`<input id="k-editor-cell-alignment" class="k-align" />`).appendTo(t),d)}},{colSpan:2,field:`k-editor-wrap-text`,label:`Text control`,editor:function(t,n){r._initTextWrapDropDown(e(`<input id="k-editor-wrap-text" />`).appendTo(t),d)}},{colSpan:4,field:`k-editor-cell-bg`,label:a(n.background),editor:function(t,n){r._initColorPicker(e(`<input id="k-editor-cell-bg" />`).appendTo(t),`bgColor`,d,u)}},{colSpan:2,field:`k-editor-table-cell-margin`,label:a(n.cellMargin),editor:function(t,i){r._initNumericTextbox(e(`<input id="k-editor-table-cell-margin" />`).appendTo(t),`cellMargin`,d,u,{placeholder:a(n.auto)})}},{type:`group`,label:`Cell Paddings`,layout:`grid`,colSpan:4,grid:{cols:4,gutter:20},items:[{colSpan:4,field:`k-editor-padding-all-sides`,label:``,editor:function(t,o){r._initCheckbox(e(`<input id="k-editor-padding-all-sides" />`).appendTo(t),`independentCellPaddings`,i.tableProperties,u,{checked:!0,label:a(n.independentCellPaddings),change:r._onPaddingCheckChange.bind(r)})}},{colSpan:1,field:`k-editor-table-cells-padding-top`,label:a(n.topPadding),editor:function(t,i){r._initNumericTextbox(e(`<input id="k-editor-table-cells-padding-top" />`).appendTo(t),`topCellPadding`,d,u,{placeholder:a(n.auto),change:r._onPaddingTopChange.bind(r)})}},{colSpan:1,field:`k-editor-table-cells-padding-right`,label:a(n.rightPadding),editor:function(t,i){r._initNumericTextbox(e(`<input id="k-editor-table-cells-padding-right" />`).appendTo(t),`rightCellPadding`,d,u,{placeholder:a(n.auto)})}},{colSpan:1,field:`k-editor-table-cells-padding-bottom`,label:a(n.bottomPadding),editor:function(t,i){r._initNumericTextbox(e(`<input id="k-editor-table-cells-padding-bottom" />`).appendTo(t),`bottomCellPadding`,d,u,{placeholder:a(n.auto)})}},{colSpan:1,field:`k-editor-table-cells-padding-left`,label:a(n.leftPadding),editor:function(t,i){r._initNumericTextbox(e(`<input id="k-editor-table-cells-padding-left" />`).appendTo(t),`leftCellPadding`,d,u,{placeholder:a(n.auto)})}}]},{type:`group`,label:`Borders`,layout:`grid`,colSpan:4,grid:{cols:4,gutter:10},items:[{colSpan:1,field:`k-editor-cell-border-width`,label:a(n.borderWidth),editor:function(t,i){r._initNumericTextbox(e(`<input id="k-editor-cell-border-width" />`).appendTo(t),`borderWidth`,d,u,{placeholder:a(n.auto)})}},{colSpan:1,field:`k-editor-cell-border-color`,label:a(n.borderColor),editor:function(t,i){r._initColorPicker(e(`<input id="k-editor-cell-border-color" />`).appendTo(t),`borderColor`,d,u,{placeholder:a(n.auto)})}},{colSpan:2,field:`k-editor-cell-border-style`,label:a(n.borderStyle),editor:function(t,n){r._initBorderStyleDropDown(e(`<input id="k-editor-cell-border-style" />`).appendTo(t),`borderStyle`,d,u,c)}}]},{colSpan:4,field:`k-editor-cell-id`,label:{text:a(n.id),optional:!0},editor:function(t,n){r._initInput(e(`<input id="k-editor-cell-id" />`).appendTo(t),`id`,d,u)}},{colSpan:4,field:`k-editor-cell-css-class`,label:{text:a(n.cssClass),optional:!0},editor:function(t,n){r._initInput(e(`<input id="k-editor-cell-css-class" />`).appendTo(t),`className`,d,u)}}]}).data(`kendoForm`),f.layoutWrapper.addClass(`k-gap-x-4`),f},_createAccessibilityPropertiesForm:function(t,n){var r=this,i=r.options.table,o=t.element.find(`#k-accessibility-properties`),s=r.components,c=s.accessibilityView={},u=i.tableProperties,d=o.kendoForm({renderButtons:!1,layout:`grid`,grid:{cols:4},items:[{colSpan:4,field:`k-editor-id`,label:{text:a(n.id),optional:!0},editor:function(t,n){r._initInput(e(`<input id="k-editor-id" />`).appendTo(t),`id`,u,c)}},{colSpan:4,field:`k-editor-css-class`,label:{text:a(n.cssClass),optional:!0},editor:function(t,n){r._initInput(e(`<input id="k-editor-css-class" />`).appendTo(t),`className`,u,c)}},{layout:`grid`,grid:{cols:4,gutter:16},colSpan:4,type:`group`,label:`Accessibility`,items:[{colSpan:2,field:`k-editor-table-caption`,label:{text:a(n.caption),optional:!0},editor:function(t,n){r._initInput(e(`<input id="k-editor-table-caption" />`).appendTo(t),`captionContent`,u,c)}},{colSpan:2,field:`k-editor-accessibility-alignment`,label:a(n.captionAlignment),editor:function(t,n){r._initAccessibilityAlignmentDropDown(e(`<input id="k-editor-accessibility-alignment" />`).appendTo(t),u)}},{colSpan:1,field:`k-editor-table-header-rows`,label:a(n.headerRows),editor:function(t,n){r._initNumericTextbox(e(`<input id="k-editor-table-header-rows" />`).appendTo(t),`headerRows`,u,c,{max:u.rows||l})}},{colSpan:1,field:`k-editor-table-header-columns`,label:a(n.headerColumns),editor:function(t,n){r._initNumericTextbox(e(`<input id="k-editor-table-header-columns" />`).appendTo(t),`headerColumns`,u,c,{max:u.columns||l})}},{colSpan:2,field:`k-editor-cells-headers`,label:a(n.associateCellsWithHeaders),editor:function(t,i){var a=e(`<select id="k-editor-cells-headers">
                                    <option value="none">${n.associateNone}</option>
                                    <option value="scope">${n.associateScope}</option>
                                    <option value="ids">${n.associateIds}</option>
                                </select>`).appendTo(t);r._initAssociationDropDown(a,`cellsWithHeaders`,{valuePrimitive:!0},u,c)}},{colSpan:4,field:`k-editor-accessibility-summary`,label:{text:a(n.summary),optional:!0},editor:function(t,i){r._initTextArea(e(`<textarea id="k-editor-accessibility-summary"></textarea>`).appendTo(t),`summary`,u,c,{rows:5,placeholder:n.tableSummaryPlaceholder})}}]}]}).data(`kendoForm`);return d.layoutWrapper.addClass(`k-gap-x-4`),d}});i.ui.editor.TableWizardDialog=_})(window.kendo.jQuery);let C={id:`editor`,name:`Editor`,category:`web`,description:`Rich text editor component`,depends:[`combobox`,`dropdownlist`,`window`,`colorpicker`,`toolbar`,`icons`],features:[{id:`editor-imagebrowser`,name:`Image Browser`,description:`Support for uploading and inserting images`,depends:[`imagebrowser`]},{id:`editor-resizable`,name:`Resize handle`,description:`Support for resizing the content area via a resize handle`,depends:[`resizable`]},{id:`editor-tablewizard`,name:`Table wizard dialog`,description:`Support for table properties configuration`,depends:[`tabstrip`,`button`,`numerictextbox`,`textarea`]},{id:`editor-pdf-export`,name:`PDF export`,description:`Export Editor content as PDF`,depends:[`pdf`,`drawing`]},{id:`editor-ai`,name:`AI Prompt`,description:`The AIPrompt component simplifies the incorporation of external AI services into apps.`,depends:[`aiprompt`,`inlineaiprompt`,`buttongroup`,`splitter`,`icons`,`html.input`]}]};var w=kendo;e.__meta__=C,e.default=w});
//# sourceMappingURL=kendo.editor.min.js.map