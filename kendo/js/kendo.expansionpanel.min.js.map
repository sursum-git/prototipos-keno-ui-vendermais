{"version":3,"file":"kendo.expansionpanel.min.js","names":[],"sources":["../../src/kendo.expansionpanel.js"],"sourcesContent":["import \"./kendo.core.js\";\nimport \"./kendo.icons.js\";\n\nexport const __meta__ = {\n    id: \"expansionpanel\",\n    name: \"ExpansionPanel\",\n    category: \"web\",\n    description: \"The ExpansionPanel provides an expandable details-summary view\",\n    depends: [\"core\", \"icons\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        ui = kendo.ui,\n        keys = kendo.keys,\n        extend = $.extend,\n        encode = kendo.htmlEncode,\n        NS = \".kendoExpansionPanel\",\n        EXPAND = \"expand\",\n        COLLAPSE = \"collapse\",\n        COMPLETE = \"complete\",\n        STATEDISABLED = \"k-disabled\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        EXPANDED = \"k-expanded\",\n        EXPANDER_CONTENT = \"k-expander-content\",\n        EXPANDER_CONTENT_WRAPPER = \"k-expander-content-wrapper\",\n        HIDDEN = \"k-hidden\",\n        INDICATOR = \".k-expander-indicator\",\n        FOCUSED = \"k-focus\",\n        CLICK = \"click\",\n        KEYDOWN = \"keydown\",\n        HEIGHT = \"height\",\n\n        headerTemplate = ({ title, subTitle, iconClass, useBareTemplate, ns, elementId }) =>\n            `<div ${!useBareTemplate ? 'class=\"k-expander-header\"' : ''} data-${ns}expander-header role=\"button\" tabindex=\"0\" aria-controls=\"${encode(elementId)}\">` +\n                (!useBareTemplate ? `<div class=\"k-expander-title\">${encode(title)}</div>` : title) +\n                '<span class=\"k-spacer\"></span>' +\n                (!useBareTemplate ? `<div class=\"k-expander-sub-title\">${encode(subTitle)}</div>` : '') +\n                `<span class=\"k-expander-indicator\">` +\n                    (iconClass && iconClass.includes(\"k-icon\") ? `<span class=\"${encode(iconClass)}\"></span>` : kendo.ui.icon({ icon: iconClass })) +\n                `</span>` +\n            '</div>';\n\n    var ExpansionPanel = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n            var headerAttribute = kendo.attr(\"expander-header\");\n\n            Widget.fn.init.call(that, element, options);\n            options = $.extend(true, {}, options);\n\n            that._getCollapseIconSelector();\n\n            that._wrapper();\n            that._animations(options);\n\n            that.element.attr(ARIA_HIDDEN, !options.expanded);\n\n            if (!that.options.useBareTemplate) {\n                that.element.addClass(EXPANDER_CONTENT);\n            }\n\n            that.wrapper\n                .on(CLICK + NS, '[' + headerAttribute + ']', that._click.bind(that))\n                .on(\"focusin\" + NS, that._focus.bind(that))\n                .on(\"focusout\" + NS, that._blur.bind(that))\n                .on(KEYDOWN + NS, that._keydown.bind(that));\n\n            that.toggle(that.options.expanded, false);\n\n            kendo.notify(that);\n        },\n\n        events: [\n            EXPAND,\n            COLLAPSE,\n            COMPLETE\n        ],\n\n        options: {\n            name: 'ExpansionPanel',\n            disabled: false,\n            expanded: false,\n            animation: {\n                expand: {\n                    effects: \"expand:vertical\",\n                    duration: 200\n                },\n                collapse: { // if collapse animation effects are defined, they will be used instead of expand.reverse\n                    duration: 200\n                }\n            },\n            height: null,\n            toggleable: true,\n            hideExpanderIndicator: false,\n            expandIconClass: \"chevron-down\",\n            collapseIconClass: \"chevron-up\",\n            title: '',\n            subTitle: '',\n            headerClass: null,\n            wrapperClass: null,\n            useBareTemplate: false\n        },\n\n        _wrapper: function() {\n            var that = this;\n            var element = that.element;\n            var DOMElement = element[0];\n            var wrapper;\n            var header;\n            var elementId = element.attr(\"id\");\n\n            if (!elementId) {\n                elementId = kendo.guid();\n                element.attr(\"id\", elementId);\n            }\n\n            wrapper = element.wrap(\"<div class='k-expander\" + (that.options.expanded ? \" \" + EXPANDED : \"\") + \"'></div>\").parent();\n            header = kendo.template(headerTemplate)({\n                title: that.options.title,\n                subTitle: that.options.subTitle,\n                iconClass: that.options.expanded ? that.options.expandIconClass : that.options.collapseIconClass,\n                useBareTemplate: that.options.useBareTemplate,\n                ns: kendo.ns,\n                elementId: elementId + \"_wrapper\"\n            });\n            that.header = $(header);\n            wrapper.prepend(that.header);\n            that._indicator = wrapper.find(INDICATOR + \" span\");\n\n            if (that.options.hideExpanderIndicator) {\n                wrapper.find(INDICATOR).hide();\n            }\n\n            wrapper[0].style.cssText = DOMElement.style.cssText;\n            DOMElement.style.width = \"100%\";\n\n            that.wrapper = wrapper.addClass(that.options.disabled ? STATEDISABLED : '');\n            that.contentWrapper = that.element\n                .wrap('<div id=\"' + elementId + '_wrapper\"></div>')\n                .parent()\n                .addClass(EXPANDER_CONTENT_WRAPPER)\n                .toggleClass(HIDDEN, !that.options.expanded)\n                .data(\"olddisplay\", \"block\"); // k-hidden has !important flag which breaks the animation.\n\n            that.header.attr(ARIA_DISABLED, that.options.disabled)\n                        .attr(ARIA_EXPANDED, that.options.expanded);\n\n            if (!that.options.useBareTemplate) {\n                wrapper.addClass(DOMElement.className);\n            }\n\n            if (that.options.height) {\n                that.wrapper.css(HEIGHT, that.options.height);\n            }\n\n            if (that.options.headerClass) {\n                that.header.addClass(that.options.headerClass);\n            }\n\n            if (that.options.wrapperClass) {\n                that.header.addClass(that.options.wrapperClass);\n            }\n        },\n\n        _animations: function(options) {\n            if (options && (\"animation\" in options) && !options.animation) {\n                options.animation = { expand: { effects: {} }, collapse: { hide: true, effects: {} } };\n            }\n        },\n\n        _getCollapseIconSelector: function() {\n            const that = this;\n            let collapseIconClass = that.options.collapseIconClass;\n\n            // Due to legacy reasons, some users may have their icons configured as 'k-i-minus' instead of just 'minus'.\n            collapseIconClass = collapseIconClass.replace(\"k-i-\", \"\");\n\n            that.collapseIconSelector = `[class*='-i-${collapseIconClass}']`;\n        },\n\n        _click: function(e) {\n            var that = this;\n            var expanded = that._indicator.is(that.collapseIconSelector);\n            var element = that.element;\n\n            e.stopPropagation();\n\n            if (!that.options.toggleable) {\n                e.preventDefault();\n                return;\n            }\n\n            if (!that.trigger( expanded ? COLLAPSE : EXPAND, { item: element[0] })) {\n                that.toggle();\n            }\n        },\n\n        toggle: function(expand, animate) {\n            var that = this,\n                animationSettings = that.options.animation,\n                animation = animationSettings.expand,\n                hasCollapseAnimation = animationSettings.collapse && \"effects\" in animationSettings.collapse,\n                collapse = extend({}, animationSettings.expand, animationSettings.collapse),\n                element = that.element,\n                wrapper = that.wrapper;\n\n            if (expand !== undefined) {\n                if (animate === false) {\n                    collapse = null;\n                }\n            } else {\n                expand = !that._indicator.is(that.collapseIconSelector);\n            }\n\n            if (!hasCollapseAnimation) {\n                collapse = extend(collapse, { reverse: true });\n            }\n\n            if (!expand) {\n                animation = extend(collapse, { hide: true });\n\n                animation.complete = that._completeHandler.bind(that);\n            } else {\n                animation = extend( { complete: that._completeHandler.bind(that) }, animation );\n            }\n\n            if (expand) {\n                if (that.options.collapseIconClass.includes(\"k-icon\")) {\n                    that._indicator.removeClass(this.options.expandIconClass);\n                    that._indicator.addClass(this.options.collapseIconClass);\n                } else {\n                    kendo.ui.icon(that._indicator, { icon: this.options.collapseIconClass });\n                }\n                wrapper.addClass(EXPANDED);\n            } else {\n                if (that.options.expandIconClass.includes(\"k-icon\")) {\n                    that._indicator.removeClass(this.options.collapseIconClass);\n                    that._indicator.addClass(this.options.expandIconClass);\n                } else {\n                    kendo.ui.icon(that._indicator, { icon: this.options.expandIconClass });\n                }\n                wrapper.removeClass(EXPANDED);\n            }\n\n            that.contentWrapper.toggleClass(HIDDEN, !expand);\n            element.attr(ARIA_HIDDEN, !expand);\n            that.header.attr(ARIA_EXPANDED, expand);\n\n            that.contentWrapper\n                .kendoStop(true, true)\n                .kendoAnimate(animation);\n        },\n\n        setOptions: function(options) {\n            let that = this;\n\n            that.destroy();\n\n            if (that.header) {\n                that.header.remove();\n            }\n\n            if (that.contentWrapper) {\n                that.element.removeAttr(\"class\");\n                that.element.unwrap();\n            }\n            kendo.deepExtend(that.options, options);\n            this.init(that.element, that.options);\n        },\n\n        _completeHandler: function() {\n            this.trigger(COMPLETE);\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode;\n\n            if ((key == keys.ENTER || key == keys.SPACEBAR) && $(e.target).is(\"[data-expander-header]\")) {\n                that._click(e);\n                e.preventDefault();\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.wrapper.off(NS);\n            Widget.fn.destroy.call(that);\n        },\n\n        enable: function(enabled) {\n            this.wrapper.toggleClass(STATEDISABLED, !enabled);\n            this.header.attr(ARIA_DISABLED, !enabled);\n        },\n\n        _blur: function() {\n            var that = this;\n\n            if (that.header) {\n                that.wrapper.removeClass(FOCUSED);\n            }\n        },\n\n        _focus: function() {\n            var that = this;\n\n            if (that.wrapper) {\n                that.wrapper.addClass(FOCUSED);\n            }\n        }\n    });\n    ui.plugin(ExpansionPanel);\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}