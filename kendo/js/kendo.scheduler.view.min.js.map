{"version":3,"file":"kendo.scheduler.view.min.js","names":[],"sources":["../../src/kendo.scheduler.view.js"],"sourcesContent":["import \"./kendo.core.js\";\nimport \"./kendo.toolbar.js\";\n\nexport const __meta__ = {\n    id: \"scheduler.view\",\n    name: \"Scheduler View\",\n    category: \"web\",\n    description: \"The Scheduler Common View\",\n    depends: [ \"core\", \"toolbar\" ],\n    hidden: true\n};\n    kendo.ui.scheduler = {};\n\n(function($) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        getDate = kendo.date.getDate,\n        Widget = ui.Widget,\n        outerHeight = kendo._outerHeight,\n        keys = kendo.keys,\n        NS = \".kendoSchedulerView\",\n        INVERSE_COLOR_CLASS = \"k-event-inverse\",\n        ONGOING_CLASS = \"k-event-ongoing\",\n        MIN_HORIZONTAL_SCROLL_SIZE = 1024,\n        math = Math,\n        SPACE = \" \",\n        DOT = \".\";\n\n    function levels(values, key) {\n        var result = [];\n\n        function collect(depth, values) {\n            values = values[key];\n\n            if (values) {\n                var level = result[depth] = result[depth] || [];\n\n                for (var idx = 0; idx < values.length; idx++) {\n                    level.push(values[idx]);\n                    collect(depth + 1, values[idx]);\n                }\n            }\n        }\n\n        collect(0, values);\n\n        return result;\n    }\n\n    function table(tableRows, className) {\n        if (!tableRows.length) {\n            return \"\";\n        }\n\n        return '<table role=\"presentation\" class=\"' + kendo.trim('k-scheduler-table ' + (className || \"\")) + '\">' +\n               '<tr>' +\n                    tableRows.join(\"</tr><tr>\") +\n               '</tr>' +\n               '</table>';\n    }\n\n    function allDayTable(tableRows, className) {\n        if (!tableRows.length) {\n            return \"\";\n        }\n\n        return `<div ${kendo.attr(\"style-position\")}=\"relative\">${table(tableRows, className)}</div>`;\n    }\n\n    function timesHeader(columnLevelCount, allDaySlot, rowCount) {\n        var tableRows = [];\n\n        if (rowCount > 0) {\n            for (var idx = 0; idx < columnLevelCount; idx++) {\n                tableRows.push(\"<th class='k-scheduler-cell'>&#8203;</th>\");\n            }\n        }\n\n        if (allDaySlot) {\n            tableRows.push('<th class=\"k-scheduler-times-all-day k-scheduler-cell\">' + allDaySlot.text + '</th>');\n        }\n\n        if (rowCount < 1) {\n           return $();\n        }\n\n        return $('<div class=\"k-scheduler-times\">' + table(tableRows) + '</div>');\n    }\n\n    function content() {\n        return $(\n            '<div class=\"k-scheduler-content\">' +\n                '<table role=\"presentation\" class=\"k-scheduler-table\"></table>' +\n            '</div>'\n        );\n    }\n    var HINT = '<div class=\"k-marquee k-scheduler-marquee\">' +\n                    '<div class=\"k-marquee-color\"></div>' +\n                    '<div class=\"k-marquee-text\">' +\n                        '<div class=\"k-label-top\"></div>' +\n                        '<div class=\"k-label-bottom\"></div>' +\n                    '</div>' +\n                '</div>';\n\n\n    var ResourceView = kendo.Class.extend({\n        init: function(index, isRtl, enforceAllDaySlot) {\n            this._index = index;\n            this._timeSlotCollections = [];\n            this._daySlotCollections = [];\n            this._isRtl = isRtl;\n            this._enforceAllDaySlot = enforceAllDaySlot;\n        },\n\n        addTimeSlotCollection: function(startDate, endDate) {\n            return this._addCollection(startDate, endDate, this._timeSlotCollections);\n        },\n\n        addDaySlotCollection: function(startDate, endDate) {\n            return this._addCollection(startDate, endDate, this._daySlotCollections);\n        },\n\n        _addCollection: function(startDate, endDate, collections) {\n            var collection = new SlotCollection(startDate, endDate, this._index, collections.length);\n\n            collections.push(collection);\n\n            return collection;\n        },\n\n        timeSlotCollectionCount: function() {\n            return this._timeSlotCollections.length;\n        },\n\n        daySlotCollectionCount: function() {\n            return this._daySlotCollections.length;\n        },\n\n        _refreshSlotCollections: function() {\n            var slotCollections = [this._timeSlotCollections || [], this._daySlotCollections || []];\n\n            for (var slotCollectionIndex = 0; slotCollectionIndex < slotCollections.length; slotCollectionIndex++) {\n                var collections = slotCollections[slotCollectionIndex];\n                for (var collectionIndex = 0; collectionIndex < collections.length; collectionIndex++) {\n                    var collection = collections[collectionIndex];\n                    collection.refresh();\n                }\n            }\n        },\n\n        daySlotByPosition: function(x, y, byDate) {\n            return this._slotByPosition(x, y, this._daySlotCollections, byDate);\n        },\n\n        timeSlotByPosition: function(x, y, byDate) {\n            return this._slotByPosition(x, y, this._timeSlotCollections, byDate);\n        },\n\n        _slotByPosition: function(x, y, collections, byDate) {\n            for (var collectionIndex = 0; collectionIndex < collections.length; collectionIndex++) {\n                var collection = collections[collectionIndex];\n\n                for (var slotIndex = 0; slotIndex < collection.count(); slotIndex++) {\n                    var slot = collection.at(slotIndex);\n                    var width = slot.offsetWidth;\n                    var height = slot.offsetHeight;\n                    var nextSlot;\n\n                    var horizontalEnd = slot.offsetLeft + width;\n                    var verticalEnd = slot.offsetTop + height;\n\n                    if (!byDate) {\n                         nextSlot = collection.at(slotIndex + 1);\n                    }\n\n                    if (nextSlot) {\n                        if (nextSlot.offsetLeft != slot.offsetLeft) {\n                            if (this._isRtl) {\n                                horizontalEnd = slot.offsetLeft + (slot.offsetLeft - nextSlot.offsetLeft);\n                            } else {\n                                horizontalEnd = nextSlot.offsetLeft;\n                            }\n                        } else {\n                            verticalEnd = nextSlot.offsetTop;\n                        }\n                    }\n\n                    if (x >= slot.offsetLeft && x < horizontalEnd &&\n                        y >= slot.offsetTop && y < verticalEnd) {\n                        return slot;\n                    }\n                }\n            }\n         },\n\n        refresh: function() {\n            var collectionIndex;\n\n            for (collectionIndex = 0; collectionIndex < this._daySlotCollections.length; collectionIndex++) {\n                this._daySlotCollections[collectionIndex].refresh();\n            }\n\n            for (collectionIndex = 0; collectionIndex < this._timeSlotCollections.length; collectionIndex++) {\n                this._timeSlotCollections[collectionIndex].refresh();\n            }\n        },\n\n        timeSlotRanges: function(startTime, endTime) {\n            var collections = this._timeSlotCollections;\n            var start = this._startSlot(startTime, collections);\n            var firstIndex, lastIndex;\n\n            if (!start.inRange && startTime >= start.slot.end) {\n                firstIndex = start.slot.collectionIndex + 1;\n                start = null;\n            }\n\n            var end = start;\n\n            if (startTime < endTime) {\n                end = this._endSlot(endTime, collections);\n            }\n\n            if (end && !end.inRange && endTime <= end.slot.start) {\n                lastIndex = end.slot.collectionIndex;\n\n                if (endTime === end.slot.start && ((start && lastIndex > start.slot.collectionIndex) || (lastIndex > firstIndex))) {\n                    lastIndex -= 1;\n                }\n\n                end = null;\n            }\n\n            if (start === null && end === null) {\n                if (endTime - startTime < kendo.date.MS_PER_DAY) {\n                    return [];\n                } else {\n                    start = {\n                        inRange: true,\n                        slot: collections[firstIndex].first()\n                    };\n\n                    end = {\n                        inRange: true,\n                        slot: collections[lastIndex].last()\n                    };\n                }\n            }\n\n            if (start === null) {\n                if (end.slot.end <= startTime) {\n                    return [];\n                }\n\n                start = {\n                    inRange: true,\n                    slot: (collections[firstIndex] || collections[end.slot.collectionIndex]).first()\n                };\n            }\n\n            if (end === null) {\n                if (start.slot.start >= endTime) {\n                    return [];\n                }\n\n                end = {\n                    inRange: true,\n                    slot: (collections[lastIndex] || collections[start.slot.collectionIndex]).last()\n                };\n            }\n\n            return this._continuousRange(TimeSlotRange, collections, start, end);\n        },\n\n        daySlotRanges: function(startTime, endTime, isAllDay) {\n            var collections = this._daySlotCollections;\n\n            var start = this._startSlot(startTime, collections, isAllDay);\n\n            if (!start.inRange && startTime >= start.slot.end) {\n                start = null;\n            }\n\n            var end = start;\n\n            if (startTime < endTime) {\n                end = this._endSlot(endTime, collections, isAllDay);\n            }\n\n            if (end && !end.inRange && endTime <= end.slot.start) {\n                end = null;\n            }\n\n            if (start === null && end === null) {\n                return [];\n            }\n\n            if (start === null) {\n                if (end.slot.end <= startTime) {\n                    return [];\n                }\n\n                do {\n                    startTime += kendo.date.MS_PER_DAY;\n                    start = this._startSlot(startTime, collections, isAllDay);\n                } while (!start.inRange && startTime >= start.slot.end);\n            }\n\n            if (end === null) {\n                if (start.slot.start >= endTime) {\n                    return [];\n                }\n\n                do {\n                    endTime -= kendo.date.MS_PER_DAY;\n                    end = this._endSlot(endTime, collections, isAllDay);\n                } while (!end.inRange && endTime <= end.slot.start);\n            }\n\n            return this._continuousRange(DaySlotRange, collections, start, end);\n        },\n\n        _continuousRange: function(range, collections, start, end) {\n            var startSlot = start.slot;\n            var endSlot = end.slot;\n\n            var startIndex = startSlot.collectionIndex;\n            var endIndex = endSlot.collectionIndex;\n\n            var ranges = [];\n\n            for (var collectionIndex = startIndex; collectionIndex <= endIndex; collectionIndex++) {\n                var collection = collections[collectionIndex];\n\n                var first = collection.first();\n                var last = collection.last();\n                var head = false;\n                var tail = false;\n\n                if (collectionIndex == startIndex) {\n                    tail = !start.inRange;\n                }\n\n                if (collectionIndex == endIndex) {\n                    head = !end.inRange;\n                }\n\n                if (first.start < startSlot.start) {\n                    first = startSlot;\n                }\n\n                if (last.start > endSlot.start) {\n                    last = endSlot;\n                }\n\n                if (startIndex < endIndex) {\n                    if (collectionIndex == startIndex) {\n                        head = true;\n                    } else if (collectionIndex == endIndex) {\n                        tail = true;\n                    } else {\n                        head = tail = true;\n                    }\n                }\n\n                ranges.push(new range({\n                    start: first,\n                    end: last,\n                    collection: collection,\n                    head: head,\n                    tail: tail\n                }));\n            }\n\n            return ranges;\n        },\n\n        slotRanges: function(event, isDay) {\n            var startTime = event._startTime || kendo.date.toUtcTime(event.start);\n            var endTime = event._endTime || kendo.date.toUtcTime(event.end);\n\n            if (isDay === undefined) {\n                if (this._enforceAllDaySlot) {\n                    isDay = event.isMultiDay();\n                } else {\n                    isDay = event.isAllDay;\n                }\n            }\n\n            if (isDay) {\n                return this.daySlotRanges(startTime, endTime, event.isAllDay);\n            }\n\n            return this.timeSlotRanges(startTime, endTime);\n        },\n\n        ranges: function(startTime, endTime, isDay, isAllDay) {\n            if (typeof startTime != \"number\") {\n                startTime = kendo.date.toUtcTime(startTime);\n            }\n\n            if (typeof endTime != \"number\") {\n                endTime = kendo.date.toUtcTime(endTime);\n            }\n\n            if (isDay) {\n                return this.daySlotRanges(startTime, endTime, isAllDay);\n            }\n\n            return this.timeSlotRanges(startTime, endTime);\n        },\n\n        _startCollection: function(date, collections) {\n            for (var collectionIndex = 0; collectionIndex < collections.length; collectionIndex++) {\n                var collection = collections[collectionIndex];\n\n                if (collection.startInRange(date)) {\n                    return collection;\n                }\n            }\n\n            return null;\n        },\n\n        _endCollection: function(date, collections, isAllDay) {\n            for (var collectionIndex = 0; collectionIndex < collections.length; collectionIndex++) {\n                var collection = collections[collectionIndex];\n\n                if (collection.endInRange(date, isAllDay)) {\n                    return collection;\n                }\n            }\n\n            return null;\n        },\n\n        _getCollections: function(isDay) {\n            return isDay ? this._daySlotCollections : this._timeSlotCollections;\n        },\n\n        continuousSlot: function(slot, reverse) {\n            var pad = reverse ? -1 : 1;\n            var collections = this._getCollections(slot.isDaySlot);\n            var collection = collections[slot.collectionIndex + pad];\n\n            return collection ? collection[reverse ? \"last\" : \"first\"]() : undefined;\n        },\n\n        firstSlot: function() {\n            var collections = this._getCollections(this.daySlotCollectionCount());\n\n            return collections[0].first();\n        },\n\n        lastSlot: function() {\n            var collections = this._getCollections(this.daySlotCollectionCount());\n\n            return collections[collections.length - 1].last();\n        },\n\n        upSlot: function(slot, keepCollection, groupByDateVertically) {\n            var that = this;\n            var moveToDaySlot = function(isDaySlot, collectionIndex, index) {\n                var isFirstCell = index === 0;\n\n                if (!keepCollection && !isDaySlot && isFirstCell && that.daySlotCollectionCount()) {\n                    return that._daySlotCollections[0].at(collectionIndex);\n                }\n            };\n\n            if (!this.timeSlotCollectionCount()) {\n                keepCollection = true;\n            }\n\n            return this._verticalSlot(slot, -1, moveToDaySlot, groupByDateVertically);\n        },\n\n        downSlot: function(slot, keepCollection, groupByDateVertically) {\n            var that = this;\n            var moveToTimeSlot = function(isDaySlot, collectionIndex, index) {\n                if (!keepCollection && isDaySlot && that.timeSlotCollectionCount()) {\n                    return that._timeSlotCollections[index].at(0);\n                }\n            };\n\n            if (!this.timeSlotCollectionCount()) {\n                keepCollection = true;\n            }\n\n            return this._verticalSlot(slot, 1, moveToTimeSlot, groupByDateVertically);\n        },\n\n        leftSlot: function(slot, groupByDateVertically) {\n            return this._horizontalSlot(slot, -1, groupByDateVertically);\n        },\n\n        rightSlot: function(slot, groupByDateVertically) {\n            return this._horizontalSlot(slot, 1, groupByDateVertically);\n        },\n\n        _horizontalSlot: function(slot, step, groupByDateVertically) {\n            var index = slot.index;\n            var isDaySlot = slot.isDaySlot;\n            var collectionIndex = slot.collectionIndex;\n            var collections = this._getCollections(isDaySlot);\n\n            isDaySlot = groupByDateVertically ? false : isDaySlot;\n\n            if (isDaySlot) {\n                index += step;\n            } else {\n                collectionIndex += step;\n            }\n\n            var collection = collections[collectionIndex];\n\n            return collection ? collection.at(index) : undefined;\n        },\n\n        _verticalSlot: function(slot, step, swapCollection, groupByDateVertically) {\n            var index = slot.index;\n            var isDaySlot = slot.isDaySlot;\n            var collectionIndex = slot.collectionIndex;\n            var collections = this._getCollections(isDaySlot);\n\n            slot = swapCollection(isDaySlot, collectionIndex, index);\n            if (slot) {\n                return slot;\n            }\n\n            isDaySlot = groupByDateVertically ? false : isDaySlot;\n\n            if (isDaySlot) {\n                collectionIndex += step;\n            } else {\n                index += step;\n            }\n\n            var collection = collections[collectionIndex];\n\n            return collection ? collection.at(index) : undefined;\n        },\n\n        _collection: function(index, multiday) {\n            var collections = multiday ? this._daySlotCollections : this._timeSlotCollections;\n\n            return collections[index];\n        },\n\n        _startSlot: function(time, collections, isAllDay) {\n            var collection = this._startCollection(time, collections);\n            var inRange = true;\n            var index = 0;\n\n            if (!collection) {\n                collection = collections[index];\n\n                while (index < collections.length - 1 && collection._start < time) {\n                    index++;\n                    collection = collections[index];\n                }\n\n                inRange = false;\n            }\n\n            var slot = collection.slotByStartDate(time, isAllDay);\n\n            if (!slot) {\n                slot = collection.first();\n                inRange = false;\n            }\n\n            return {\n                slot: slot,\n                inRange: inRange\n            };\n        },\n\n        _endSlot: function(time, collections, isAllDay) {\n            var collection = this._endCollection(time, collections, isAllDay);\n            var inRange = true;\n            var index = collections.length - 1;\n\n            if (!collection) {\n                collection = collections[index];\n\n                while (index > 0 && collection._start > time) {\n                    index--;\n                    collection = collections[index];\n                }\n\n                inRange = false;\n            }\n\n            var slot = collection.slotByEndDate(time, isAllDay);\n\n            if (!slot) {\n                if (time <= collection.first().start) {\n                    slot = collection.first();\n                } else {\n                    slot = collection.last();\n                }\n\n                inRange = false;\n            }\n\n            return {\n                slot: slot,\n                inRange: inRange\n            };\n        },\n\n        getSlotCollection: function(index, isDay) {\n            return this[isDay ? \"getDaySlotCollection\" : \"getTimeSlotCollection\"](index);\n        },\n\n        getTimeSlotCollection: function(index) {\n            return this._timeSlotCollections[index];\n        },\n\n        getDaySlotCollection: function(index) {\n            return this._daySlotCollections[index];\n        }\n    });\n\n    var SlotRange = kendo.Class.extend({\n        init: function(options) {\n            $.extend(this, options);\n        },\n\n        innerHeight: function() {\n            var collection = this.collection;\n\n            var startIndex = this.start.index;\n\n            var endIndex = this.end.index;\n\n            var result = 0;\n\n            for (var slotIndex = startIndex; slotIndex <= endIndex; slotIndex++) {\n               result += collection.at(slotIndex).offsetHeight;\n            }\n\n            return result;\n        },\n\n        events: function() {\n            return this.collection.events();\n        },\n\n        addEvent: function(event) {\n            this.events().push(event);\n        },\n\n        startSlot: function() {\n            if (this.start.offsetLeft > this.end.offsetLeft) {\n                return this.end;\n            }\n            return this.start;\n        },\n\n        endSlot: function() {\n            if (this.start.offsetLeft > this.end.offsetLeft) {\n                return this.start;\n            }\n            return this.end;\n        }\n    });\n\n    var TimeSlotRange = SlotRange.extend({\n        innerHeight: function() {\n            var collection = this.collection;\n\n            var startIndex = this.start.index;\n\n            var endIndex = this.end.index;\n\n            var result = 0;\n\n            for (var slotIndex = startIndex; slotIndex <= endIndex; slotIndex++) {\n               result += collection.at(slotIndex).offsetHeight;\n            }\n\n            return result;\n        },\n\n        outerRect: function(start, end, snap) {\n            return this._rect(\"offset\", start, end, snap);\n        },\n\n        _rect: function(property, start, end, snap) {\n            var top;\n            var bottom;\n            var left;\n            var right;\n            var startSlot = this.start;\n            var endSlot = this.end;\n            var isRtl = kendo.support.isRtl(startSlot.element);\n\n            if (typeof start != \"number\") {\n                start = kendo.date.toUtcTime(start);\n            }\n\n            if (typeof end != \"number\") {\n                end = kendo.date.toUtcTime(end);\n            }\n\n            if (snap) {\n                top = startSlot.offsetTop;\n                bottom = endSlot.offsetTop + endSlot[property + \"Height\"];\n                if (isRtl) {\n                    left = endSlot.offsetLeft;\n                    right = startSlot.offsetLeft + startSlot[property + \"Width\"];\n                } else {\n                    left = startSlot.offsetLeft;\n                    right = endSlot.offsetLeft + endSlot[property + \"Width\"];\n                }\n            } else {\n                var startOffset = start - startSlot.start;\n\n                if (startOffset < 0) {\n                    startOffset = 0;\n                }\n\n                var startSlotDuration = startSlot.end - startSlot.start;\n\n                top = startSlot.offsetTop + startSlot[property + \"Height\"] * startOffset / startSlotDuration;\n\n                var endOffset = endSlot.end - end;\n\n                if (endOffset < 0) {\n                    endOffset = 0;\n                }\n\n                var endSlotDuration = endSlot.end - endSlot.start;\n\n                bottom = endSlot.offsetTop + endSlot[property + \"Height\"] - endSlot[property + \"Height\"] * endOffset / endSlotDuration;\n\n                if (isRtl) {\n                    left = Math.round(endSlot.offsetLeft + endSlot[property + \"Width\"] * endOffset / endSlotDuration);\n                    right = Math.round(startSlot.offsetLeft + startSlot[property + \"Width\"] - startSlot[property + \"Width\"] * startOffset / startSlotDuration);\n                } else {\n                    left = Math.round(startSlot.offsetLeft + startSlot[property + \"Width\"] * startOffset / startSlotDuration);\n                    right = Math.round(endSlot.offsetLeft + endSlot[property + \"Width\"] - endSlot[property + \"Width\"] * endOffset / endSlotDuration);\n                }\n            }\n\n            return {\n                top: top,\n                bottom: bottom,\n                //first column has no left border\n                left: left === 0 ? left : left + 1,\n                right: right\n            };\n        },\n\n        innerRect: function(start, end, snap) {\n            return this._rect(\"client\", start, end, snap);\n        }\n    });\n\n    var DaySlotRange = SlotRange.extend({\n        innerWidth: function() {\n            var collection = this.collection;\n\n            var startIndex = this.start.index;\n\n            var endIndex = this.end.index;\n\n            var result = 0;\n\n            var width = startIndex !== endIndex ? \"offsetWidth\" : \"clientWidth\";\n\n            for (var slotIndex = startIndex; slotIndex <= endIndex; slotIndex++) {\n               result += collection.at(slotIndex)[width];\n            }\n\n            return result;\n        }\n    });\n\n    var SlotCollection = kendo.Class.extend({\n        init: function(startDate, endDate, groupIndex, collectionIndex) {\n            this._slots = [];\n\n            this._events = [];\n\n            this._start = kendo.date.toUtcTime(startDate);\n\n            this._end = kendo.date.toUtcTime(endDate);\n\n            this._groupIndex = groupIndex;\n\n            this._collectionIndex = collectionIndex;\n        },\n        refresh: function() {\n            for (var slotIndex = 0; slotIndex < this._slots.length; slotIndex++) {\n                this._slots[slotIndex].refresh();\n            }\n        },\n\n        startInRange: function(date) {\n            return this._start <= date && date < this._end;\n        },\n\n        endInRange: function(date, isAllDay) {\n            var end = isAllDay ? date < this._end : date <= this._end;\n            return this._start <= date && end;\n        },\n\n        slotByStartDate: function(date) {\n            var time = date;\n\n            if (typeof time != \"number\") {\n                time = kendo.date.toUtcTime(date);\n            }\n\n            for (var slotIndex = 0; slotIndex < this._slots.length; slotIndex++) {\n                var slot = this._slots[slotIndex];\n\n                if (slot.startInRange(time)) {\n                    return slot;\n                }\n            }\n\n            return null;\n        },\n\n        slotByEndDate: function(date, allday) {\n            var time = date;\n\n            if (typeof time != \"number\") {\n                time = kendo.date.toUtcTime(date);\n            }\n\n            if (allday) {\n                return this.slotByStartDate(date, false);\n            }\n\n            for (var slotIndex = 0; slotIndex < this._slots.length; slotIndex++) {\n                var slot = this._slots[slotIndex];\n\n                if (slot.endInRange(time)) {\n                    return slot;\n                }\n            }\n\n            return null;\n        },\n\n        count: function() {\n            return this._slots.length;\n        },\n        events: function() {\n            return this._events;\n        },\n        addTimeSlot: function(element, start, end, isHorizontal) {\n            var slot = new TimeSlot(element, start, end, this._groupIndex, this._collectionIndex, this._slots.length, isHorizontal);\n\n            this._slots.push(slot);\n        },\n        addDaySlot: function(element, start, end, eventCount) {\n            var slot = new DaySlot(element, start, end, this._groupIndex, this._collectionIndex, this._slots.length, eventCount);\n\n            this._slots.push(slot);\n        },\n        first: function() {\n            return this._slots[0];\n        },\n        last: function() {\n            return this._slots[this._slots.length - 1];\n        },\n        at: function(index) {\n            return this._slots[index];\n        }\n    });\n\n    var Slot = kendo.Class.extend({\n        init: function(element, start, end, groupIndex, collectionIndex, index) {\n            this.element = element;\n            this.clientWidth = element.clientWidth;\n            this.clientHeight = element.clientHeight;\n            this.offsetWidth = element.offsetWidth;\n            this.offsetHeight = element.offsetHeight;\n            this.offsetTop = element.offsetTop;\n            this.offsetLeft = element.offsetLeft;\n\n            this.start = start;\n            this.end = end;\n            this.element = element;\n            this.groupIndex = groupIndex;\n            this.collectionIndex = collectionIndex;\n            this.index = index;\n            this.isDaySlot = false;\n        },\n\n        refresh: function() {\n            var element = this.element;\n\n            this.clientWidth = element.clientWidth;\n            this.clientHeight = element.clientHeight;\n            this.offsetWidth = element.offsetWidth;\n            this.offsetHeight = element.offsetHeight;\n            this.offsetTop = element.offsetTop;\n            this.offsetLeft = element.offsetLeft;\n        },\n\n        startDate: function() {\n            return kendo.timezone.toLocalDate(this.start);\n        },\n\n        endDate: function() {\n            return kendo.timezone.toLocalDate(this.end);\n        },\n\n        startInRange: function(date) {\n            return this.start <= date && date < this.end;\n        },\n\n        endInRange: function(date) {\n            return this.start < date && date <= this.end;\n        },\n\n        startOffset: function() {\n           return this.start;\n        },\n\n        endOffset: function() {\n            return this.end;\n        }\n    });\n\n    var TimeSlot = Slot.extend({\n        init: function(element, start, end, groupIndex, collectionIndex, index, isHorizontal) {\n            Slot.fn.init.apply(this, arguments);\n\n            this.isHorizontal = isHorizontal ? true : false;\n        },\n\n        offsetX: function(rtl, offset) {\n            if (rtl) {\n                return this.offsetLeft + offset;\n            } else {\n                return this.offsetLeft + offset;\n            }\n        },\n\n        startInRange: function(date) {\n            return this.start <= date && date < this.end;\n        },\n\n        endInRange: function(date) {\n            return this.start < date && date <= this.end;\n        },\n\n        startOffset: function(x, y, snap) {\n            if (snap) {\n                return this.start;\n            }\n\n            var offset = $(this.element).offset();\n\n            var duration = this.end - this.start;\n            var difference;\n            var time;\n\n            if (this.isHorizontal) {\n                //need update\n                var isRtl = kendo.support.isRtl(this.element);\n                difference = x - offset.left;\n                time = Math.floor(duration * ( difference / this.offsetWidth));\n\n                if (isRtl) {\n                    return this.start + duration - time;\n                }\n            } else {\n                difference = y - offset.top;\n                time = Math.floor(duration * ( difference / this.offsetHeight));\n            }\n\n            return this.start + time;\n        },\n\n        endOffset: function(x, y, snap) {\n            if (snap) {\n                return this.end;\n            }\n\n            var offset = $(this.element).offset();\n\n            var duration = this.end - this.start;\n            var difference;\n            var time;\n\n            if (this.isHorizontal) {\n                //need update\n                var isRtl = kendo.support.isRtl(this.element);\n                difference = x - offset.left;\n                time = Math.floor(duration * ( difference / this.offsetWidth));\n\n                if (isRtl) {\n                    return this.start + duration - time;\n                }\n            } else {\n                difference = y - offset.top;\n                time = Math.floor(duration * ( difference / this.offsetHeight));\n            }\n\n            return this.start + time;\n        }\n    });\n\n    var DaySlot = Slot.extend({\n        init: function(element, start, end, groupIndex, collectionIndex, index, eventCount) {\n            Slot.fn.init.apply(this, arguments);\n\n            this.eventCount = eventCount;\n            this.isDaySlot = true;\n\n            if (this.element.children.length) {\n                var firstChild = this.element.children[0];\n\n                this.firstChildHeight = firstChild.offsetHeight;\n                this.firstChildTop = firstChild.offsetTop;\n            } else {\n                this.firstChildHeight = 3;\n                this.firstChildTop = 0;\n            }\n        },\n\n        startDate: function() {\n            var date = new Date(this.start);\n\n            return kendo.timezone.apply(date, \"Etc/UTC\");\n        },\n\n        endDate: function() {\n            var date = new Date(this.end);\n\n            return kendo.timezone.apply(date, \"Etc/UTC\");\n        },\n\n        startInRange: function(date) {\n            return this.start <= date && date < this.end;\n        },\n\n        endInRange: function(date) {\n            return this.start < date && date <= this.end;\n        }\n    });\n\n    kendo.ui.SchedulerView = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, $.extend({}, this.options, options));\n\n            this._normalizeOptions();\n            this._initDefaultTools();\n            this._scrollbar = kendo.support.scrollbar();\n            this._isRtl = kendo.support.isRtl(element);\n            this._resizeHint = $();\n            this._moveHint = $();\n            this._cellId = kendo.guid();\n            this._resourcesForGroups();\n            this._selectedSlots = [];\n            this.element.attr(\"role\", \"application\");\n        },\n\n        options: {\n            messages: {\n                ariaEventLabel: {\n                    on: \"on\",\n                    at: \"at\",\n                    to: \"to\",\n                    allDay: \"(all day)\",\n                    prefix: \"\"\n                }\n            }\n        },\n\n        visibleEndDate: function() {\n            return this.endDate();\n        },\n\n        _initDefaultTools: function() {\n            this._defaultTools = {\n                todayMobile: {\n                    type: \"button\",\n                    fillMode: \"flat\",\n                    text: this.options.messages.today,\n                    click: this._footerTodayClickHandler.bind(this),\n                    attributes: {\n                        class: \"k-scheduler-today\"\n                    }\n                },\n                fulldayDesktop: {\n                    type: \"button\",\n                    icon: \"clock\",\n                    text: this.options.showWorkHours ? this.options.messages.showFullDay : this.options.messages.showWorkDay,\n                    click: this.toggleFullDay ? this.toggleFullDay.bind(this) : $.noop,\n                    attributes: {\n                        class: \"k-scheduler-fullday\"\n                    }\n                },\n                fulldayMobile: {\n                    type: \"button\",\n                    fillMode: \"flat\",\n                    text: this.options.showWorkHours ? this.options.messages.showFullDay : this.options.messages.showWorkDay,\n                    click: this.toggleFullDay ? this.toggleFullDay.bind(this) : $.noop,\n                    attributes: {\n                        class: \"k-scheduler-fullday\"\n                    }\n                }\n            };\n        },\n\n        _normalizeOptions: function() {\n            var options = this.options;\n\n            if (options.startTime) {\n                options.startTime.setMilliseconds(0);\n            }\n\n            if (options.endTime) {\n                options.endTime.setMilliseconds(0);\n            }\n\n            if (options.workDayStart) {\n                options.workDayStart.setMilliseconds(0);\n            }\n\n            if (options.workDayEnd) {\n                options.workDayEnd.setMilliseconds(0);\n            }\n        },\n\n        _isMobile: function() {\n            var options = this.options;\n            return (options.mobile === true && kendo.support.mobileOS) || options.mobile === \"phone\" || options.mobile === \"tablet\";\n        },\n\n        _addResourceView: function() {\n            var resourceView = new ResourceView(this.groups.length, this._isRtl, this.options.enforceAllDaySlot);\n\n            this.groups.push(resourceView);\n\n            return resourceView;\n        },\n\n        _refreshResourceViews: function() {\n            var groups = this.groups;\n\n            if (groups) {\n                for (var i = 0; i < groups.length; i++) {\n                    groups[i]._refreshSlotCollections();\n                }\n            }\n        },\n\n        dateForTitle: function() {\n            return kendo.format(this.options.selectedDateFormat, this.startDate(), this.endDate());\n        },\n\n        shortDateForTitle: function() {\n            return kendo.format(this.options.selectedShortDateFormat, this.startDate(), this.endDate());\n        },\n\n        mobileDateForTitle: function() {\n            return kendo.format(this.options.selectedMobileDateFormat || this.options.selectedShortDateFormat, this.startDate(), this.endDate());\n        },\n\n        _changeGroup: function(selection, previous) {\n            var method = previous ? \"prevGroupSlot\" : \"nextGroupSlot\";\n            var slot = this[method](selection.start, selection.groupIndex, selection.isAllDay);\n\n            if (slot) {\n                selection.groupIndex += previous ? -1 : 1;\n            }\n\n            if (this._isGroupedByDate() && !slot) {\n               selection.groupIndex = previous ? this.groups.length - 1 : 0;\n            }\n\n            return slot;\n        },\n\n        _changeDate: function(selection, slot, previous) {\n            var group = this.groups[selection.groupIndex];\n            var collections, index;\n\n            if (previous) {\n                  collections = group._getCollections(false);\n                  index = group.daySlotCollectionCount() ? slot.index - 1 : slot.collectionIndex - 1;\n\n                  if (index >= 0) {\n                      return collections[index]._slots[collections[index]._slots.length - 1];\n                  }\n              } else {\n                  collections = group._getCollections(group.daySlotCollectionCount());\n                  index = group.daySlotCollectionCount() ? 0 : slot.collectionIndex + 1;\n                  var slotIndex = group.daySlotCollectionCount() ? slot.collectionIndex + 1 : 0;\n\n                  if (collections[index] && collections[index]._slots[slotIndex]) {\n                      return collections[index]._slots[slotIndex];\n                  }\n               }\n        },\n\n        _changeGroupContinuously: function() {\n            return null;\n        },\n\n        _changeViewPeriod: function() {\n            return false;\n        },\n\n        _isInRange: function(newStart, newEnd) {\n            if (!newStart || !newEnd || !this.options.min || !this.options.max) {\n                return false;\n            }\n            return getDate(newStart) <= getDate(this.options.min) || getDate(newEnd) >= getDate(this.options.max);\n        },\n\n        _horizontalSlots: function(selection, ranges, multiple, reverse) {\n            var method = reverse ? \"leftSlot\" : \"rightSlot\";\n            var horizontalRange = {\n                 startSlot: ranges[0].start,\n                 endSlot: ranges[ranges.length - 1].end\n             };\n            var group = this.groups[selection.groupIndex];\n            var isVertical = this._isVerticallyGrouped();\n\n            if (!multiple) {\n                var slot = this._normalizeHorizontalSelection(selection, ranges, reverse);\n                if (slot) {\n                    horizontalRange.startSlot = horizontalRange.endSlot = slot;\n                }\n            }\n\n            if (this._isGroupedByDate() && !multiple) {\n                  var tempSlot = this._changeGroup(selection, reverse);\n\n                  if (!tempSlot)\n                  {\n                    horizontalRange = this._getNextHorizontalRange(group, method, horizontalRange);\n                  } else {\n                      horizontalRange.startSlot = horizontalRange.endSlot = tempSlot;\n                  }\n            } else {\n                  horizontalRange.startSlot = group[method](horizontalRange.startSlot);\n                  horizontalRange.endSlot = group[method](horizontalRange.endSlot);\n\n                  if (!multiple && !isVertical && (!horizontalRange.startSlot || !horizontalRange.endSlot)) {\n                        horizontalRange.startSlot = horizontalRange.endSlot = this._changeGroup(selection, reverse);\n                  }\n            }\n\n            var continuousSlot;\n\n            if ((!horizontalRange.startSlot || !horizontalRange.endSlot) && !this._isGroupedByDate()) {\n                continuousSlot = this._continuousSlot(selection, ranges, reverse);\n                continuousSlot = this._changeGroupContinuously(selection, continuousSlot, multiple, reverse);\n\n                if (continuousSlot) {\n                    horizontalRange.startSlot = horizontalRange.endSlot = continuousSlot;\n                }\n            }\n\n            return horizontalRange;\n        },\n\n         _getNextHorizontalRange: function(group, method, horizontalRange) {\n            if (!this._isVerticallyGrouped()) {\n                horizontalRange.startSlot = group[method](horizontalRange.startSlot);\n                horizontalRange.endSlot = group[method](horizontalRange.endSlot);\n            }\n\n             return horizontalRange;\n        },\n\n        _verticalSlots: function(selection, ranges, multiple, reverse) {\n            var group = this.groups[selection.groupIndex];\n            var slot;\n            var verticalRange = {\n                startSlot: ranges[0].start,\n                endSlot: ranges[ranges.length - 1].end\n            };\n\n            if (!multiple) {\n                slot = this._normalizeVerticalSelection(selection, ranges, reverse);\n                if (slot) {\n                    verticalRange.startSlot = verticalRange.endSlot = slot;\n                }\n            }\n\n            var method = reverse ? \"upSlot\" : \"downSlot\";\n\n            verticalRange = this._getNextVerticalRange(group, method, verticalRange, multiple);\n\n            if (!multiple && this._isVerticallyGrouped() && (!verticalRange.startSlot || !verticalRange.endSlot)) {\n                if (this._isGroupedByDate()) {\n                    verticalRange.startSlot = verticalRange.endSlot = this._changeDate(selection, slot, reverse);\n\n               } else {\n                    verticalRange.startSlot = verticalRange.endSlot = this._changeGroup(selection, reverse);\n               }\n            }\n\n            return verticalRange;\n        },\n\n        _getNextVerticalRange: function(group, method, verticalRange, multiple) {\n             verticalRange.startSlot = group[method](verticalRange.startSlot, multiple);\n             verticalRange.endSlot = group[method](verticalRange.endSlot, multiple);\n\n             return verticalRange;\n        },\n\n        _normalizeHorizontalSelection: function() {\n            return null;\n        },\n\n        _normalizeVerticalSelection: function(selection, ranges, reverse) {\n            var slot;\n\n            if (reverse) {\n                slot = ranges[0].start;\n            } else {\n                slot = ranges[ranges.length - 1].end;\n            }\n\n            return slot;\n        },\n\n        _continuousSlot: function() {\n            return null;\n        },\n\n        _footerTodayClickHandler: function(e) {\n            e.preventDefault();\n\n            var that = this;\n            var options = that.options;\n            var timezone = that.options.timezone;\n            var action = \"today\";\n            var currentDate = new Date();\n            var date;\n\n            if (timezone) {\n                var timezoneOffset = kendo.timezone.offset(currentDate, timezone);\n                date = kendo.timezone.convert(currentDate, currentDate.getTimezoneOffset(), timezoneOffset);\n            } else {\n                date = currentDate;\n            }\n\n            that.trigger(\"navigate\", { view: that.name || options.name, action: action, date: date });\n        },\n\n        _footerItems: function() {\n            var that = this,\n                items = [],\n                options = this.options;\n\n            if (that._isMobile()) {\n                items.push({\n                    type: \"button\",\n                    fillMode: \"flat\",\n                    text: options.messages.today,\n                    click: that._footerTodayClickHandler.bind(that),\n                    attributes: {\n                        class: \"k-scheduler-today\"\n                    }\n                });\n            }\n\n            return items;\n        },\n\n        _footer: function() {\n            if (this.options.footer === false) {\n                return;\n            }\n\n            var that = this,\n                items = that._footerItems();\n\n            if (items.length > 0) {\n                var html = $('<div class=\"k-scheduler-footer\">');\n\n                that.footer = html.appendTo(that.element);\n\n                that.footer.kendoToolBar({\n                    resizable: false,\n                    items: items\n                });\n            }\n        },\n\n        constrainSelection: function(selection) {\n            var group = this.groups[0];\n            var slot;\n\n            if (!this.inRange(selection)) {\n               slot = group.firstSlot();\n\n               selection.isAllDay = slot.isDaySlot;\n               selection.start = slot.startDate();\n               selection.end = slot.endDate();\n            } else {\n                if (!group.daySlotCollectionCount()) {\n                    selection.isAllDay = false;\n                } else if (!group.timeSlotCollectionCount()) {\n                    selection.isAllDay = true;\n                }\n           }\n\n            if (!this.groups[selection.groupIndex]) {\n                selection.groupIndex = 0;\n            }\n        },\n\n        move: function(selection, key, shift) {\n            var handled = false;\n            var group = this.groups[selection.groupIndex];\n            var verticalByDate = this._isGroupedByDate() && this._isVerticallyGrouped();\n\n            if (!group.timeSlotCollectionCount()) {\n                selection.isAllDay = true;\n            }\n\n            var ranges = group.ranges(selection.start, selection.end, selection.isAllDay, false);\n            var startSlot, endSlot, reverse, slots;\n\n            if (key === keys.DOWN || key === keys.UP) {\n                handled = true;\n                reverse = key === keys.UP;\n\n                this._updateDirection(selection, ranges, shift, reverse, true);\n\n                slots = this._verticalSlots(selection, ranges, shift, reverse);\n\n                if (!slots.startSlot && !shift && this._changeViewPeriod(selection, reverse, !verticalByDate)) {\n                    return handled;\n                }\n\n            } else if (key === keys.LEFT || key === keys.RIGHT) {\n                handled = true;\n                reverse = key === keys.LEFT;\n\n                this._updateDirection(selection, ranges, shift, reverse, false);\n\n                slots = this._horizontalSlots(selection, ranges, shift, reverse);\n\n                if (!slots.startSlot && !shift && this._changeViewPeriod(selection, reverse, verticalByDate)) {\n                    return handled;\n                }\n            }\n\n            if (handled) {\n                startSlot = slots.startSlot;\n                endSlot = slots.endSlot;\n\n                if (shift) {\n                    var backward = selection.backward;\n                    if (backward && startSlot) {\n                        selection.start = startSlot.startDate();\n                    } else if (!backward && endSlot) {\n                        selection.end = endSlot.endDate();\n                    }\n                } else if (startSlot && endSlot) {\n                    selection.isAllDay = startSlot.isDaySlot;\n                    selection.start = startSlot.startDate();\n                    selection.end = endSlot.endDate();\n                }\n\n                selection.events = [];\n            }\n\n            return handled;\n        },\n\n        moveToEventInGroup: function(group, slot, selectedEvents, prev) {\n            var events = group._continuousEvents || [];\n            var found, event;\n            var pad = prev ? -1 : 1;\n            var length = events.length;\n            var idx = prev ? length - 1 : 0;\n            var i, lastSelected;\n\n            if (selectedEvents.length) {\n                lastSelected = selectedEvents[selectedEvents.length - 1];\n\n                if (prev) {\n                    for (i = 0; i < events.length; i++) {\n                        if (events[i].uid === lastSelected) {\n                            idx = i + pad;\n                        }\n                    }\n                } else {\n                    for (i = events.length - 1; i > -1; i--) {\n                        if (events[i].uid === lastSelected) {\n                            idx = i + pad;\n                        }\n                    }\n                }\n            }\n\n            while (idx < length && idx > -1) {\n                event = events[idx];\n\n                if ( (!prev && event.start.startDate() >= slot.startDate()) ||\n                    (prev && event.start.startDate() <= slot.startDate()) ) {\n\n                    if (event && $.inArray(event.uid, selectedEvents) === -1) {\n                        found = !!event;\n                        break;\n                    }\n                }\n\n                idx += pad;\n            }\n\n            return event;\n        },\n\n        moveToEvent: function(selection, prev) {\n            var groupIndex = selection.groupIndex;\n\n            var group = this.groups[groupIndex];\n            var slot = group.ranges(selection.start, selection.end, this.name === \"month\" || selection.isAllDay, false)[0].start;\n\n            var length = this.groups.length;\n            var pad = prev ? -1 : 1;\n            var events = selection.events;\n            var event;\n\n            if (this._isGroupedByDate()) {\n                var allEvents = this._getAllEvents();\n                var uniqueAllEvents = this._getUniqueEvents(allEvents);\n                var sortedEvents = this._getSortedEvents(uniqueAllEvents);\n\n                if (events.length === 0) {\n                    var eventIndex = this._getNextEventIndexBySlot(slot, sortedEvents, groupIndex);\n\n                    if (prev) {\n                        eventIndex--;\n                    }\n\n                    event = sortedEvents[eventIndex];\n                } else {\n                     var idx = this._getStartIdx(events, sortedEvents);\n\n                    while (idx < sortedEvents.length && idx > -1) {\n                        if (events.length > 0) {\n                            slot = this._getSelectedSlot(slot, sortedEvents, event, idx, pad, prev);\n                        }\n\n                        if (!slot) {\n                            break;\n                        }\n\n                        if ( (!prev && sortedEvents[idx].start.startDate() >= slot.startDate()) ||\n                              (prev && sortedEvents[idx].start.startDate() <= slot.startDate())) {\n                             if (events[0] != sortedEvents[idx].uid) {\n                                 event = sortedEvents[idx];\n                                  break;\n                             }\n                        }\n                        idx += pad;\n                    }\n                }\n            } else {\n                  while (groupIndex < length && groupIndex > -1) {\n                    event = this.moveToEventInGroup(group, slot, events, prev);\n\n                    groupIndex += pad;\n                    group = this.groups[groupIndex];\n\n                    if (!group || event) {\n                        break;\n                    }\n\n                    events = [];\n                    if (prev) {\n                        slot = group.lastSlot();\n                    } else {\n                        slot = group.firstSlot(true);\n                    }\n                }\n            }\n\n            if (event) {\n                selection.events = [ event.uid ];\n                selection.start = event.start.startDate();\n                selection.end = event.end.endDate();\n                selection.isAllDay = event.start.isDaySlot;\n                selection.groupIndex = event.start.groupIndex;\n                selection.eventElement = event.element[0];\n            }\n\n            return !!event;\n        },\n\n        current: function(candidate) {\n            if (candidate !== undefined) {\n                this._current = candidate;\n                if (this.content.has(candidate)) {\n                    this._scrollTo(candidate, this.content[0]);\n                }\n            } else {\n                return this._current;\n            }\n        },\n\n        select: function(selection) {\n            this.clearSelection();\n\n            if (!this._selectEvents(selection)) {\n                this._selectSlots(selection);\n            }\n        },\n\n        _getNextEventIndexBySlot: function(slot, sortedEvents, groupIndex) {\n            var tempIndex = 0;\n            var slotStartDate = kendo.date.getDate(slot.startDate());\n\n            for (var i = 0; i < sortedEvents.length; i++) {\n                var eventStartDate = kendo.date.getDate(sortedEvents[i].start.startDate());\n                if (slotStartDate > eventStartDate) {\n                    tempIndex++;\n                    continue;\n                }\n\n                if (slotStartDate.getTime() === eventStartDate.getTime() && groupIndex > sortedEvents[i].start.groupIndex) {\n                      tempIndex++;\n                      continue;\n                }\n\n                if (slotStartDate.getTime() === eventStartDate.getTime() &&\n                    groupIndex >= sortedEvents[i].start.groupIndex &&\n                    slot.startDate() > sortedEvents[i].start.startDate()) {\n                    tempIndex++;\n                    continue;\n                 }\n\n                 break;\n            }\n            return tempIndex;\n        },\n\n        _getSelectedSlot: function(slot, sortedEvents, event, idx, pad, prev) {\n              if (sortedEvents[idx + pad] &&\n               sortedEvents[idx].start.groupIndex !== sortedEvents[idx + pad].start.groupIndex) {\n                    var groupIndex = sortedEvents[idx + pad].start.groupIndex;\n                    var group = this.groups[groupIndex];\n\n                    if (!group || event) {\n                       slot = null;\n                    }\n\n                    if (prev) {\n                        slot = group.lastSlot();\n                    } else {\n                        slot = group.firstSlot(true);\n                    }\n                }\n             return slot;\n        },\n\n        _getStartIdx: function(events, sortedEvents) {\n            var selectedEventIndex = 0;\n\n            $.each(sortedEvents, function() {\n                if (this.uid === events[0]) {\n                     return false;\n                }\n\n                selectedEventIndex++;\n            });\n\n            return selectedEventIndex;\n        },\n\n        _getAllEvents: function() {\n            var allEvents = [];\n            var groups = this.groups;\n\n            for (var idx = 0; idx < groups.length; idx++) {\n                if (groups[idx]._continuousEvents) {\n                    allEvents = allEvents.concat(groups[idx]._continuousEvents);\n                }\n            }\n\n            return allEvents;\n        },\n\n        _getUniqueEvents: function(allEvents) {\n            var uniqueAllEvents = [];\n\n            for (var i = 0; i < allEvents.length; i++) {\n                var exists = false;\n                for (var j = 0; j < uniqueAllEvents.length; j++) {\n                    if (allEvents[i].uid === uniqueAllEvents[j].uid) {\n                        exists = true;\n                        break;\n                    }\n                }\n\n                if (!exists) {\n                    uniqueAllEvents.push(allEvents[i]);\n                }\n            }\n\n            return uniqueAllEvents;\n        },\n\n        _getSortedEvents: function(uniqueAllEvents) {\n             return uniqueAllEvents.sort(function(first, second) {\n                var firstStartDate = first.start.startDate();\n                var secondStartDate = second.start.startDate();\n                var result = kendo.date.getDate(firstStartDate) - kendo.date.getDate(secondStartDate);\n\n                if (result === 0) {\n                    result = first.start.groupIndex - second.start.groupIndex;\n                }\n\n                if (result === 0) {\n                    result = firstStartDate.getTime() - secondStartDate.getTime();\n                }\n\n                if (result === 0) {\n                    if (first.start.isDaySlot && !second.start.isDaySlot) {\n                            result = -1;\n                    }\n\n                    if (!first.start.isDaySlot && second.start.isDaySlot) {\n                            result = 1;\n                    }\n                }\n\n                if (result === 0) {\n                    result = $(first.element).index() - $(second.element).index();\n                }\n\n                return result;\n            });\n        },\n\n        _selectSlots: function(selection) {\n            var isAllDay = selection.isAllDay;\n            var group = this.groups[selection.groupIndex];\n\n            if (!group.timeSlotCollectionCount()) {\n                isAllDay = true;\n            }\n\n            this._selectedSlots = [];\n\n            var ranges = group.ranges(selection.start, selection.end, isAllDay, false);\n            var element;\n            var slot;\n\n            for (var rangeIndex = 0; rangeIndex < ranges.length; rangeIndex++) {\n                var range = ranges[rangeIndex];\n                var collection = range.collection;\n\n                for (var slotIndex = range.start.index; slotIndex <= range.end.index; slotIndex++) {\n                    slot = collection.at(slotIndex);\n\n                    element = slot.element;\n                    addSelectedState(element);\n\n                    this._selectedSlots.push({\n                        start: slot.startDate(),\n                        end: slot.endDate(),\n                        element: element\n                    });\n                }\n            }\n\n            if (selection.backward) {\n                element = ranges[0].start.element;\n            }\n\n            this.current(element);\n        },\n\n        _selectEvents: function(selection) {\n            var found = false;\n            var events = selection.events;\n            var groupEvents = this._getAllEvents();\n            var idx, groupEvent, length = groupEvents.length;\n\n            if (!events[0] || !groupEvents[0]) {\n                return found;\n            }\n\n            var result = $();\n            selection.events = [];\n            for (idx = 0; idx < length; idx ++) {\n                if ($.inArray(groupEvents[idx].uid, events) > -1) {\n                    groupEvent = groupEvents[idx];\n                    result = result.add(groupEvent.element);\n                    if (selection.events.indexOf(groupEvent.uid) === -1) {\n                        selection.events.push(groupEvent.uid);\n                    }\n                }\n            }\n\n            if (result[0]) {\n                result.addClass(\"k-selected\");\n\n                if (selection.eventElement) {\n                    this.current(selection.eventElement);\n                } else {\n                    this.current(result.last()[0]);\n                }\n\n                this._selectedSlots = [];\n                found = true;\n            }\n\n            return found;\n        },\n\n        inRange: function(options) {\n            var startDate = this.startDate();\n            var endDate = kendo.date.addDays(this.endDate(), 1);\n            var start = options.start;\n            var end = options.end;\n\n            return startDate <= start && start < endDate && startDate < end && end <= endDate;\n        },\n\n        _resourceValue: function(resource, item) {\n            if (resource.valuePrimitive) {\n                item = kendo.getter(resource.dataValueField)(item);\n            }\n            return item;\n        },\n\n        _setResourceValue: function(groupLevelMember, resource, result) {\n            var value = groupLevelMember.value,\n                setter;\n\n            if (resource.multiple) {\n                value = [value];\n            }\n\n            setter = kendo.setter(resource.field);\n            setter(result, value);\n        },\n\n        _resourceBySlot: function(slot) {\n            var resources = this.groupedResources;\n            var result = {};\n\n            if (resources.length) {\n                var resourceIndex = slot.groupIndex,\n                    groupOptions = this.options.group,\n                    nestedMember = groupOptions.date || groupOptions.orientation === \"horizontal\" ? \"columns\" : \"rows\",\n                    levels = nestedMember === \"rows\" ? this.rowLevels : this.columnLevels,\n                    dateGroupCompensation = groupOptions.date && groupOptions.orientation === \"horizontal\" ? 1 : 0,\n                    groupLevel = levels[resources.length - 1 + dateGroupCompensation],\n                    resource = resources[resources.length - 1],\n                    groupLevelMember = groupLevel[resourceIndex],\n                    passedChildren, numberOfChildren, j, i;\n\n                this._setResourceValue(groupLevelMember, resource, result);\n\n                for (j = resources.length - 2; j >= 0; j--) {\n                    groupLevel = levels[j + dateGroupCompensation];\n                    resource = resources[j];\n                    passedChildren = 0;\n\n                    for (i = 0; i < groupLevel.length; i++) {\n                        groupLevelMember = groupLevel[i];\n                        numberOfChildren = groupLevelMember[nestedMember].length;\n\n                        if (numberOfChildren > resourceIndex - passedChildren) {\n                            this._setResourceValue(groupLevelMember, resource, result);\n\n                            break;\n                        } else {\n                            passedChildren += numberOfChildren;\n                        }\n                    }\n                }\n            }\n\n            return result;\n        },\n\n        _createResizeHint: function(left, top, width, height) {\n            return $(HINT).css({\n                left: left,\n                top: top,\n                width: width,\n                height: height\n            });\n        },\n\n        _removeResizeHint: function() {\n            this._resizeHint.remove();\n            this._resizeHint = $();\n        },\n\n        _removeMoveHint: function(uid) {\n            if (uid) {\n                this._moveHint.filter(\"[data-uid='\" + uid + \"']\").remove();\n\n                this._moveHint = this._moveHint.filter(\"[data-uid!='\" + uid + \"']\");\n            } else {\n                this._moveHint.remove();\n                this._moveHint = $();\n            }\n        },\n\n        _scrollTo: function(element, container) {\n            var elementOffset = element.offsetTop,\n                elementOffsetDir = element.offsetHeight,\n                containerScroll = container.scrollTop,\n                containerOffsetDir = container.clientHeight,\n                bottomDistance = elementOffset + elementOffsetDir,\n                result = 0;\n\n                if (containerScroll > elementOffset) {\n                    result = elementOffset;\n                } else if (bottomDistance > (containerScroll + containerOffsetDir)) {\n                    if (elementOffsetDir <= containerOffsetDir) {\n                        result = (bottomDistance - containerOffsetDir);\n                    } else {\n                        result = elementOffset;\n                    }\n                } else {\n                    result = containerScroll;\n                }\n                container.scrollTop = result;\n        },\n\n        _inverseEventColor: function(element) {\n            var eventColor = element.css(\"color\");\n            var eventColorIsDark = new Color(eventColor).isDark();\n            var eventBackground = element.css(\"background-color\");\n            var eventBackgroundIsDark = new Color(eventBackground).isDark();\n\n            if (eventColorIsDark == eventBackgroundIsDark) {\n                element.addClass(INVERSE_COLOR_CLASS);\n            }\n        },\n\n        // Possibly legacy code. Ensure clients do not use it before removing. Or throw warning.\n        // CSP: leave it as it is (for now).\n       _eventTmpl: function(template, wrapper) {\n           var options = this.options,\n               settings = $.extend({}, kendo.Template, options.templateSettings),\n               paramName = settings.paramName,\n               html = \"\",\n               type = typeof template,\n               state = { storage: {}, count: 0 };\n\n            if (type === \"function\") {\n                state.storage[\"tmpl\" + state.count] = template;\n                html += \"#=this.tmpl\" + state.count + \"(\" + paramName + \")#\";\n                state.count ++;\n            } else if (type === \"string\") {\n                html += template;\n            }\n\n            var tmpl = kendo.template(kendo.format(wrapper, html), settings);\n\n            if (state.count > 0) {\n                tmpl = tmpl.bind(state.storage);\n            }\n\n            return tmpl;\n       },\n\n        eventResources: function(event) {\n            var resources = [],\n                options = this.options;\n\n            if (!options.resources) {\n                return resources;\n            }\n\n            for (var idx = 0; idx < options.resources.length; idx++) {\n                var resource = options.resources[idx];\n                var field = resource.field;\n                var eventResources = kendo.getter(field)(event);\n\n                if (eventResources == null) {\n                    continue;\n                }\n\n                if (!resource.multiple) {\n                    eventResources = [eventResources];\n                }\n\n                var data = resource.dataSource.view();\n\n                for (var resourceIndex = 0; resourceIndex < eventResources.length; resourceIndex++) {\n                    var eventResource = null;\n\n                    var value = eventResources[resourceIndex];\n\n                    if (!resource.valuePrimitive) {\n                        value = kendo.getter(resource.dataValueField)(value);\n                    }\n\n                    for (var dataIndex = 0; dataIndex < data.length; dataIndex++) {\n                        if (data[dataIndex].get(resource.dataValueField) == value) {\n                            eventResource = data[dataIndex];\n                            break;\n                        }\n                    }\n\n                    if (eventResource !== null) {\n                        var resourceColor = kendo.getter(resource.dataColorField)(eventResource);\n                        resources.push({\n                            field: resource.field,\n                            title: resource.title,\n                            name: resource.name,\n                            text: kendo.getter(resource.dataTextField)(eventResource),\n                            value: value,\n                            color: resourceColor\n                        });\n                    }\n                }\n            }\n            return resources;\n        },\n\n        createLayout: function(layout) {\n            var allDayIndex = -1;\n\n            if (!layout.rows) {\n                layout.rows = [];\n            }\n\n            for (var idx = 0; idx < layout.rows.length; idx++) {\n                if (layout.rows[idx].allDay) {\n                    allDayIndex = idx;\n                    break;\n                }\n            }\n\n            var allDaySlot = layout.rows[allDayIndex];\n\n            if (allDayIndex >= 0) {\n                layout.rows.splice(allDayIndex, 1);\n            }\n\n            var columnLevels = this.columnLevels = levels(layout, \"columns\");\n            var rowLevels = this.rowLevels = levels(layout, \"rows\");\n\n            if (this._isVirtualized()) {\n                this._trimRowLevels(rowLevels);\n            }\n\n            this.table = $('<table role=\"presentation\" class=\"k-scheduler-layout k-scheduler-' + this.name + 'view\"><tbody></tbody></table>');\n\n            var rowCount = rowLevels[rowLevels.length - 1].length;\n\n            this.table.find(\"tbody\").first().append(this._topSection(columnLevels, allDaySlot, rowCount));\n            this.table.find(\"tbody\").first().append(this._bottomSection(rowLevels, rowCount));\n            this.element.append(this.table);\n\n            if (this._isVirtualized()) {\n                this._updateDomRowLevels();\n            }\n\n            // Enable horizontal scrolling when mobile, grouped and less than 1024px width\n            if (this._isMobile() &&\n                    columnLevels.length > 1 &&\n                    this._groupOrientation() === \"horizontal\" &&\n                    kendo._outerWidth($(window)) < MIN_HORIZONTAL_SCROLL_SIZE ) {\n\n                this.table.find(\".k-scheduler-content .k-scheduler-table\").width((columnLevels[columnLevels.length - 2].length * 100) + \"%\");\n                this.table.find(\".k-scheduler-header .k-scheduler-table\").width((columnLevels[columnLevels.length - 2].length * 100) + \"%\");\n            }\n\n            this._scroller();\n        },\n\n        _isVirtualized: function() {\n            return this.options.virtual && this.rowLevels.length > 1 && this._isVerticallyGrouped();\n        },\n\n        _trimRowLevels: function(rowLevels) {\n            var lastGroup = rowLevels[rowLevels.length - 2];\n            var cachedRowLevels = this.cachedRowLevels || [];\n            var levelMarker;\n\n            this._hasContentToRender = true;\n\n            var stopAtLevel = function(levels, index) {\n                var hasParent = levels[index - 1].length > 0,\n                parentLevel, parentValue;\n\n                if (hasParent) {\n                    parentLevel = levels[index - 1][0];\n                    parentValue = levels[index][0].parentValue;\n\n                    return parentLevel.value !== parentValue;\n                } else {\n                    return true;\n                }\n            };\n\n            for (var rowLevelIndex = rowLevels.length - 2; rowLevelIndex >= 0; rowLevelIndex--) {\n                var stop = false;\n                if (rowLevelIndex > 0 && stopAtLevel(rowLevels, rowLevelIndex)) {\n                    stop = true;\n                    levelMarker = rowLevelIndex;\n                }\n\n                cachedRowLevels[rowLevelIndex] = rowLevels[rowLevelIndex].splice(1);\n\n                if (rowLevelIndex < rowLevels.length - 2 && rowLevels[rowLevelIndex][0].rows.length != 1) {\n                    rowLevels[rowLevelIndex][0].rows = rowLevels[rowLevelIndex + 1];\n                }\n\n                if (stop) {\n                    break;\n                }\n            }\n\n            cachedRowLevels[rowLevels.length - 1] = rowLevels[rowLevels.length - 1].splice(lastGroup[0].rows.length);\n\n            this.cachedRowLevels = cachedRowLevels;\n\n            if (!cachedRowLevels[cachedRowLevels.length - 1].length) {\n                this._hasContentToRender = false;\n            }\n\n            return {\n                levelMarker: levelMarker || 0,\n                rowLevels: rowLevels\n            };\n        },\n\n        createNextLayout: function() {\n            var clone = [];\n            var trimmedRowLevels;\n            var rowLevels;\n            var levelMarker;\n            var rowCount;\n\n            for (var rowLevelIndex = 0; rowLevelIndex < this.cachedRowLevels.length; rowLevelIndex++) {\n                clone[rowLevelIndex] = this.cachedRowLevels[rowLevelIndex];\n            }\n\n            trimmedRowLevels = this._trimRowLevels(clone);\n            rowLevels = trimmedRowLevels.rowLevels.splice(trimmedRowLevels.levelMarker);\n            levelMarker = trimmedRowLevels.levelMarker;\n            rowCount = rowLevels[rowLevels.length - 1].length;\n\n            delete this._height;\n\n            for (var i = levelMarker; i < this.rowLevels.length; i++) {\n                this.rowLevels[i] = this.rowLevels[i].concat(rowLevels[i - levelMarker]);\n            }\n            this._cachedVirtualSlotIndex = this.rowLevels[0].length;\n\n            this.table\n                .find(\".k-scheduler-times\").last().find(\"tbody\")\n                .append(this._times(rowLevels, rowCount, this._isMobile()).find(\"tr\"));\n\n            this._updateDomRowLevels();\n\n            if (levelMarker > 0) {\n                for (i = 0; i < levelMarker; i++) {\n                    var cell = this.table.find(\"[data-row-level=\" + i + \"]\").last();\n                    var rowSpan = parseInt(cell.attr(\"rowspan\"),10) + rowCount;\n                    cell.attr(\"rowspan\", rowSpan);\n                }\n            }\n\n            this._virtualContent(rowLevels, this.columnLevels);\n            this.render(this._cachedEvents);\n        },\n\n        _tryRenderContent: function() {\n            var that = this;\n            var bufferHeight = that.table.innerHeight();\n            var height = that.content.find(\"table\").innerHeight();\n            var scrollTop = that.content.scrollTop();\n\n            while (that._hasContentToRender && height - bufferHeight < scrollTop) {\n                that.createNextLayout();\n                height = that.content.find(\"table\").innerHeight();\n            }\n        },\n\n        _isSchedulerHeightSet: function() {\n            var el = this.element;\n            var initialHeight, newHeight;\n                if (el[0].style.height) {\n                    return true;\n                } else {\n                    initialHeight = el.height();\n                }\n\n                el.height(\"auto\");\n                newHeight = el.height();\n\n                if (initialHeight != newHeight) {\n                    el.height(\"\");\n                    return true;\n                }\n                el.height(\"\");\n                return false;\n        },\n\n        _updateDomRowLevels: function() {\n            var that = this;\n            var groupCells = that.times.find(\".k-group-cell:not([data-row-level])\");\n\n            if (!this._rowLevelIndices) {\n                this._rowLevelIndices = groupCells.map(function(index, item) {\n                    $(item).attr(\"data-row-level\", index);\n                    return index;\n                }).toArray().reverse();\n                return;\n            }\n\n            groupCells = groupCells.toArray().reverse();\n\n            for (var i = 0; i <= groupCells.length; i++) {\n                $(groupCells[i]).attr(\"data-row-level\", this._rowLevelIndices[i]);\n            }\n        },\n\n        refreshLayout: function() {\n            var that = this,\n                toolbar = that.element.find(\"> .k-scheduler-toolbar\"),\n                height = that.element.innerHeight(),\n                scrollbar = that._scrollbar = kendo.support.scrollbar(true),\n                headerHeight = 0,\n                paddingDirection = this._isRtl ? \"left\" : \"right\";\n\n            for (var idx = 0; idx < toolbar.length; idx++) {\n                height -= outerHeight(toolbar.eq(idx));\n            }\n\n            if (that.datesHeader) {\n                headerHeight = outerHeight(that.datesHeader);\n            }\n\n            if (that.timesHeader && outerHeight(that.timesHeader) > headerHeight) {\n                headerHeight = outerHeight(that.timesHeader);\n            }\n\n            if (that.content) {\n                that.content.find(\".k-scheduler-table td\").addClass(\"k-scheduler-cell\");\n            }\n\n            if (that.datesHeader && that.timesHeader) {\n                var datesHeaderRows = that.datesHeader.find(\"table\").first().find(\"tr\");\n\n                that.timesHeader.find(\"tr\").height(function(index) {\n                    $(this).height(datesHeaderRows.eq(index).height());\n                });\n            }\n\n            if (headerHeight) {\n                height -= headerHeight;\n            }\n\n            if (that.footer) {\n                height -= outerHeight(that.footer);\n            }\n\n            var contentDiv = that.content[0],\n                scrollbarWidth = !kendo.support.kineticScrollNeeded ? scrollbar : 0;\n\n            if (this._isSchedulerHeightSet()) { // set content height only if needed\n\n                if (height > scrollbar * 2) { // do not set height if proper scrollbar cannot be displayed\n                    that.content.height(height);\n                } else {\n                    that.content.height(scrollbar * 2 + 1);\n                }\n\n                if (that.times) {\n                    that.times.height(contentDiv.clientHeight);\n\n                    var timesTable = that.times.find(\"table\");\n                    if (timesTable.length) {\n                        timesTable.height(that.content.find(\"table\")[0].clientHeight);\n                    }\n                }\n            }\n\n            if (that.table) {\n                if (contentDiv.offsetWidth - contentDiv.clientWidth > 0) {\n                    that.table.addClass(\"k-scrollbar-v\");\n                    that.datesHeader.css(\"padding-\" + paddingDirection, scrollbarWidth - parseInt(that.datesHeader.children().css(\"border-\" + paddingDirection + \"-width\"), 10));\n                } else {\n                    that.datesHeader.css(\"padding-\" + paddingDirection, \"0\");\n                }\n                if (contentDiv.offsetHeight - contentDiv.clientHeight > 0 || contentDiv.clientHeight > that.content.children(\".k-scheduler-table\").height()) {\n                    that.table.addClass(\"k-scrollbar-h\");\n                } else {\n                    that.table.removeClass(\"k-scrollbar-h\");\n                }\n            }\n\n            that._refreshResourceViews();\n        },\n\n        _topSection: function(columnLevels, allDaySlot, rowCount) {\n            var thElm = $(\"<tr class='k-scheduler-head'>\");\n\n            this.timesHeader = timesHeader(columnLevels.length, allDaySlot, rowCount);\n            this.datesHeader = this._datesHeader(columnLevels, allDaySlot);\n\n            var dateGroup = this.datesHeader.find(\".k-nav-day\");\n\n            if (dateGroup.length) {\n                dateGroup.closest(\"tr\").addClass(\"k-scheduler-date-group\");\n            }\n\n            if (this._isMobile()) {\n                thElm.addClass(\"k-mobile-header\");\n                thElm.addClass(\"k-mobile-\" + this._groupOrientation() + \"-header\");\n            }\n\n            return $(thElm).append(this.timesHeader.add(this.datesHeader).wrap(\"<td>\").parent());\n        },\n\n        _bottomSection: function(rowLevels, rowCount) {\n            this.times = this._times(rowLevels, rowCount, this._isMobile());\n\n            this.content = content();\n\n            return $(\"<tr class='k-scheduler-body'>\").append(this.times.add(this.content).wrap(\"<td>\").parent());\n        },\n\n        _scroller: function() {\n            var that = this;\n\n            this.content.on(\"scroll\" + NS, function() {\n                kendo.scrollLeft(that.datesHeader.find(\">.k-scheduler-header-wrap\"), this.scrollLeft);\n                that.times.scrollTop(this.scrollTop);\n                if (that._isVirtualized()) {\n                    that._tryRenderContent();\n                }\n            });\n\n            var touchScroller = kendo.touchScroller(this.content, {\n                avoidScrolling: function(e) {\n                    return $(e.event.target).closest(\".k-event.k-event-active\").length > 0;\n                }\n            });\n\n            if (touchScroller && touchScroller.movable) {\n\n                this._touchScroller = touchScroller;\n\n                this.content = touchScroller.scrollElement;\n\n                touchScroller.movable.bind(\"change\", function(e) {\n                    kendo.scrollLeft(that.datesHeader.find(\">.k-scheduler-header-wrap\"), -e.sender.x);\n                    that.times.scrollTop(-e.sender.y);\n                    if (that._isVirtualized()) {\n                        that._tryRenderContent();\n                    }\n                });\n            }\n        },\n\n        _resourcesForGroups: function() {\n            var result = [];\n            var groups = this.options.group;\n            var resources = this.options.resources;\n\n            groups = groups && groups.resources ? groups.resources : [];\n\n            if (resources && groups.length) {\n                for (var idx = 0, length = resources.length; idx < length; idx++) {\n                    for (var groupIdx = 0, groupLength = groups.length; groupIdx < groupLength; groupIdx++) {\n                        if (resources[idx].name === groups[groupIdx]) {\n                            result.push(resources[idx]);\n                        }\n                    }\n                }\n            }\n\n            this.groupedResources = result;\n        },\n\n        _createDateLayout: function(dates, inner, times) {\n            return createDateLayoutConfiguration(\"rows\", dates, inner, times);\n        },\n\n        _createColumnsLayout: function(resources, inner, template, dates, times, parentValue) {\n            return createLayoutConfiguration(\"columns\", resources, inner, template, dates, times, parentValue);\n        },\n\n        _groupOrientation: function() {\n            var groups = this.options.group;\n            return groups && groups.resources ? groups.orientation : \"horizontal\";\n        },\n\n        _isGroupedByDate: function() {\n            return this.options.group && this.options.group.date;\n        },\n\n        _isVerticallyGrouped: function() {\n            return this.groupedResources.length && this._groupOrientation() === \"vertical\";\n        },\n\n        _createRowsLayout: function(resources, inner, template, dates) {\n            return createLayoutConfiguration(\"rows\", resources, inner, template, dates);\n        },\n\n        selectionByElement: function() {\n            return null;\n        },\n\n        clearSelection: function() {\n            this.content\n                .find(\".k-selected\")\n                .removeAttr(\"id\")\n                .removeClass(\"k-selected\");\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(this);\n\n            if (that._ongoingTimer) {\n                clearInterval(that._ongoingTimer);\n                that._ongoingTimer = null;\n            }\n\n            if (that.table) {\n                kendo.destroy(that.table);\n                that.table.remove();\n            }\n\n            if (that.footer) {\n                that.footer.getKendoToolBar().destroy();\n                that.footer.remove();\n            }\n\n            that.groups = null;\n            that.table = null;\n            that.content = null;\n            that.times = null;\n            that.datesHeader = null;\n            that.timesHeader = null;\n            that.footer = null;\n            that._resizeHint = null;\n            that._moveHint = null;\n        },\n\n        calendarInfo: function() {\n            return kendo.getCulture().calendars.standard;\n        },\n\n        prevGroupSlot: function(date, groupIndex, isDay) {\n            var collection;\n            var group = this.groups[groupIndex];\n            var slot = group.ranges(date, date, isDay, false)[0].start;\n\n            if (groupIndex <= 0) {\n                return;\n            }\n\n            if (this._isGroupedByDate()) {\n               return slot;\n            }\n\n            if (this._isVerticallyGrouped()) {\n                if (!group.timeSlotCollectionCount()) {\n                    collection = group._collection(group.daySlotCollectionCount() - 1, true);\n                    return collection.at(slot.index);\n                } else {\n                    collection = group._collection(isDay ? slot.index : slot.collectionIndex, false);\n                    return collection.last();\n                }\n            } else {\n                if (!group.timeSlotCollectionCount()) {\n                    collection = group._collection(slot.collectionIndex, true);\n                    return collection.last();\n                } else {\n                    collection = group._collection(isDay ? 0 : group.timeSlotCollectionCount() - 1, isDay);\n                    return isDay ? collection.last() : collection.at(slot.index);\n                }\n            }\n        },\n\n        nextGroupSlot: function(date, groupIndex, isDay) {\n            var collection;\n            var group = this.groups[groupIndex];\n            var slot = group.ranges(date, date, isDay, false)[0].start;\n            var daySlotCollectionCount;\n\n            if (groupIndex >= this.groups.length - 1) {\n                return;\n            }\n\n            if (this._isGroupedByDate()) {\n               return slot;\n            }\n\n            if (this._isVerticallyGrouped()) {\n                if (!group.timeSlotCollectionCount()) {\n                    collection = group._collection(0, true);\n                    return collection.at(slot.index);\n                } else {\n                    daySlotCollectionCount = group.daySlotCollectionCount();\n                    collection = group._collection(daySlotCollectionCount ? 0 : slot.collectionIndex, daySlotCollectionCount);\n\n                    return isDay ? collection.first() : collection.at(slot.collectionIndex);\n                }\n            } else {\n                if (!group.timeSlotCollectionCount()) {\n                    collection = group._collection(slot.collectionIndex, true);\n                    return collection.first();\n                } else {\n                    collection = group._collection(0, isDay);\n                    return isDay ? collection.first() : collection.at(slot.index);\n                }\n            }\n        },\n\n        _eventOptionsForMove: function() {\n            return {};\n        },\n\n        _updateEventForResize: function() {\n            return;\n        },\n\n        _updateEventForSelection: function(event) {\n            return event;\n        },\n\n        _innerElements: function(element, type, inner) {\n            var count = 0,\n                countInner = function(el) {\n                    var innerSpan = el[inner],\n                        innerEls = el[type],\n                        current, innerCollection, i;\n\n                    if (innerSpan) {\n                        count += innerSpan;\n                        return;\n                    }\n\n                    if (!innerEls || innerEls.length === 0) {\n                        count += 1;\n                        return;\n                    }\n\n                    for (i = 0; i < innerEls.length; i++) {\n                        current = innerEls[i];\n                        innerCollection = current[type];\n\n                        if (innerCollection && innerCollection[0]) {\n                            if (!innerCollection[0][type] || innerCollection[0][type].length === 0) {\n                                count += innerCollection.length;\n                            } else {\n                                countInner(current);\n                            }\n                        } else {\n                            count += 1;\n                        }\n                    }\n                };\n\n            countInner(element);\n\n            return count;\n        },\n\n        _times: function(rowLevels, rowCount, isMobile) {\n            var that = this;\n            var rows = new Array(rowCount).join().split(\",\");\n            var rowHeaderRows = [];\n            var rowIndex;\n\n            for (var rowLevelIndex = 0; rowLevelIndex < rowLevels.length; rowLevelIndex++) {\n                var level = rowLevels[rowLevelIndex];\n                var rowsBefore = 0;\n\n                for (rowIndex = 0; rowIndex < level.length; rowIndex++) {\n                    var currentRow = level[rowIndex];\n                    var className = currentRow.className || \"\";\n                    var text = currentRow.text;\n                    var rowspan = that._innerElements(currentRow, \"rows\");\n\n                    rowsBefore += rowspan;\n\n                    if (currentRow.allDay) {\n                        className = \"k-scheduler-times-all-day\";\n                    }\n\n                    if (isMobile && className.indexOf(\"k-group-cell\") !== -1) {\n                        text = '<span class=\"k-scheduler-group-text\">' + text + '</span>';\n                    }\n\n                    rows[rowsBefore - rowspan] += '<th class=\"k-scheduler-cell ' + className + '\" rowspan=\"' + rowspan + '\">' + text + \"</th>\";\n                }\n            }\n\n            for (rowIndex = 0; rowIndex < rowCount; rowIndex++) {\n                rowHeaderRows.push(rows[rowIndex]);\n            }\n\n            if (rowCount < 1) {\n                return $();\n            }\n\n            return $('<div class=\"k-scheduler-times\">' + table(rowHeaderRows) + '</div>');\n        },\n\n        _datesHeader: function(columnLevels, allDaySlot) {\n            var that = this;\n            var dateTableRows = [];\n            var columnIndex;\n            var result;\n\n            for (var columnLevelIndex = 0; columnLevelIndex < columnLevels.length; columnLevelIndex++) {\n                var level = columnLevels[columnLevelIndex];\n                var th = [];\n\n                for (columnIndex = 0; columnIndex < level.length; columnIndex ++) {\n                    var column = level[columnIndex];\n                    var colspan = that._innerElements(column, \"columns\", \"colspan\");\n\n                    th.push('<th colspan=\"' + (column.colspan || colspan) + '\" class=\"k-scheduler-cell ' + (column.className || \"\") + '\">' + column.text + \"</th>\");\n                }\n\n                dateTableRows.push(th.join(\"\"));\n            }\n\n            var allDayTableRows = [];\n\n            if (allDaySlot) {\n                var lastLevel = columnLevels[columnLevels.length - 1];\n                var td = [];\n                var cellContent = allDaySlot.cellContent;\n\n                for (columnIndex = 0; columnIndex < lastLevel.length; columnIndex++) {\n                    td.push('<td class=\"k-scheduler-cell ' + (lastLevel[columnIndex].className || \"\") + '\">' + (cellContent ? cellContent(columnIndex) : '&nbsp;') + '</td>');\n                }\n\n                allDayTableRows.push(td.join(\"\"));\n            }\n\n            result = $(\n                '<div class=\"k-scheduler-header\">' +\n                    '<div class=\"k-scheduler-header-wrap\">' +\n                        table(dateTableRows) +\n                        allDayTable(allDayTableRows, \"k-scheduler-header-all-day\") +\n                    '</div>' +\n                '</div>'\n            );\n\n            kendo.applyStylesFromKendoAttributes(result, [\"position\"]);\n\n            return result;\n        },\n\n        _formatEventAriaLabel: function(title, start, end, isAllDay) {\n            var labelMessages = this.options.messages.ariaEventLabel,\n                sameDate = kendo.date.getDate(start).getTime() === kendo.date.getDate(end).getTime(),\n                labelText;\n\n            if (typeof(labelMessages) === \"string\") {\n                return kendo.format(labelMessages, title, start, start);\n            }\n\n            labelText = (labelMessages.prefix + SPACE + title + SPACE + labelMessages.on + SPACE + kendo.toString(start, \"D\")).trim();\n\n            if (isAllDay && sameDate) {\n                return labelText + SPACE + labelMessages.allDay;\n            } else if (isAllDay) {\n                return labelText + SPACE + labelMessages.to + SPACE + kendo.toString(end, \"D\") + SPACE + labelMessages.allDay;\n            } else {\n                labelText = labelText + SPACE + labelMessages.at + SPACE + kendo.toString(start, \"t\") + SPACE + labelMessages.to + SPACE;\n\n                if (sameDate) {\n                    return labelText + kendo.toString(end, \"t\");\n                } else {\n                    return labelText + kendo.toString(end, \"D\") + SPACE + labelMessages.at + SPACE + kendo.toString(end, \"t\");\n                }\n            }\n        },\n\n        _ongoingEvents: function(data) {\n            var that = this,\n                ongoingOptions = that.options.ongoingEvents,\n                shouldMarkOngoing = !!ongoingOptions && (ongoingOptions === true || ongoingOptions.enabled),\n                interval;\n\n            if (shouldMarkOngoing) {\n                that._ongoingUpdater(data);\n\n                interval = ongoingOptions.updateInterval || 60000;\n\n                if (that._ongoingTimer) {\n                    clearInterval(that._ongoingTimer);\n                    that._ongoingTimer = null;\n                }\n\n                if (!isNaN(interval)) {\n                    that._ongoingTimer = setInterval(this._ongoingUpdater.bind(that, data), interval);\n                }\n            }\n        },\n\n        _ongoingUpdater: function(data) {\n            var currentTime = new Date(),\n                ongoingClass = this.options.ongoingEvents.cssClass || ONGOING_CLASS;\n\n            this.content.find(DOT + ongoingClass).removeClass(ongoingClass);\n\n            if (this.groups && this.groups.length > 0) {\n                this._updateOngoing(currentTime, data);\n            }\n        },\n\n        _updateOngoing: function(currentTime, data) {\n            var that = this,\n                el = that.element,\n                ongoingOptions = that.options.ongoingEvents,\n                ongoingClass = ongoingOptions.cssClass || ONGOING_CLASS,\n                useLocalTimezone = ongoingOptions.useLocalTimezone,\n                timezone = that.options.timezone,\n                timezoneOffset, currentTime;\n\n            if (!data) {\n                return;\n            }\n\n            if (useLocalTimezone === false && !!timezone) {\n                timezoneOffset = kendo.timezone.offset(currentTime, timezone);\n                currentTime = kendo.timezone.convert(currentTime, currentTime.getTimezoneOffset(), timezoneOffset);\n            }\n\n            data.forEach((appointment) => {\n                var uid,\n                    start = appointment.start,\n                    end = appointment.end;\n\n                if (appointment.isAllDay) {\n                    end = new Date(end.getTime() + 1000 * 60 * 60 * 24 - 1);\n                }\n\n                if (start <= currentTime && end >= currentTime) {\n                    uid = appointment.uid;\n\n                    el.find(\"[data-uid=\" + uid + \"]\").addClass(ongoingClass);\n                }\n            });\n        }\n    });\n\n    function collidingEvents(elements, start, end) {\n        var idx,\n            index,\n            startIndex,\n            overlaps,\n            endIndex;\n\n        for (idx = elements.length - 1; idx >= 0; idx--) {\n            index = rangeIndex(elements[idx]);\n            startIndex = index.start;\n            endIndex = index.end;\n\n            overlaps = startIndex <= start && endIndex >= start;\n\n            if (overlaps || (startIndex >= start && endIndex <= end) || (start <= startIndex && end >= startIndex)) {\n                if (startIndex < start) {\n                    start = startIndex;\n                }\n\n                if (endIndex > end) {\n                    end = endIndex;\n                }\n            }\n        }\n\n        return eventsForSlot(elements, start, end);\n    }\n\n    function rangeIndex(eventElement) {\n        return {\n            start: eventElement.start,\n            end: eventElement.end,\n            slotIndex: eventElement.slotIndex,\n            slotIndexEnd: eventElement.slotIndexEnd\n        };\n    }\n\n    function eventsForSlot(elements, slotStart, slotEnd) {\n        var events = [];\n\n        for (var idx = 0; idx < elements.length; idx++) {\n            var event = rangeIndex(elements[idx]);\n\n            if ((event.start < slotStart && event.end > slotStart) || (event.start >= slotStart && event.end <= slotEnd)) {\n                events.push(elements[idx]);\n            }\n        }\n\n        return events;\n    }\n\n    function createColumns(eventElements) {\n        return _createColumns(eventElements);\n    }\n\n    function createRows(eventElements) {\n        return _createColumns(eventElements);\n    }\n\n    var Color = function(value) {\n        var color = this,\n            formats = Color.formats,\n            re,\n            processor,\n            parts,\n            i,\n            channels;\n\n        if (arguments.length === 1) {\n            value = color.resolveColor(value);\n\n            for (i = 0; i < formats.length; i++) {\n                re = formats[i].re;\n                processor = formats[i].process;\n                parts = re.exec(value);\n\n                if (parts) {\n                    channels = processor(parts);\n                    color.r = channels[0];\n                    color.g = channels[1];\n                    color.b = channels[2];\n                }\n            }\n        } else {\n            color.r = arguments[0];\n            color.g = arguments[1];\n            color.b = arguments[2];\n        }\n\n        color.r = color.normalizeByte(color.r);\n        color.g = color.normalizeByte(color.g);\n        color.b = color.normalizeByte(color.b);\n    };\n\n    Color.prototype = {\n        resolveColor: function(value) {\n            value = value || \"#000\";\n\n            if (value.charAt(0) == \"#\") {\n                value = value.substr(1, 6);\n            }\n\n            value = value.replace(/ /g, \"\");\n            value = value.toLowerCase();\n            value = Color.namedColors[value] || value;\n\n            return value;\n        },\n\n        normalizeByte: function(value) {\n            return (value < 0 || isNaN(value)) ? 0 : ((value > 255) ? 255 : value);\n        },\n\n        percBrightness: function() {\n            var color = this;\n            return math.sqrt(0.241 * color.r * color.r + 0.691 * color.g * color.g + 0.068 * color.b * color.b);\n        },\n\n        isDark: function() {\n            var color = this;\n            var brightnessValue = color.percBrightness();\n            return brightnessValue < 180;\n        }\n    };\n\n    Color.formats = [{\n            re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n            process: function(parts) {\n                return [\n                    parseInt(parts[1], 10), parseInt(parts[2], 10), parseInt(parts[3], 10)\n                ];\n            }\n        }, {\n            re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n            process: function(parts) {\n                return [\n                    parseInt(parts[1], 16), parseInt(parts[2], 16), parseInt(parts[3], 16)\n                ];\n            }\n        }, {\n            re: /^(\\w{1})(\\w{1})(\\w{1})$/,\n            process: function(parts) {\n                return [\n                    parseInt(parts[1] + parts[1], 16),\n                    parseInt(parts[2] + parts[2], 16),\n                    parseInt(parts[3] + parts[3], 16)\n                ];\n            }\n        }\n    ];\n\n    Color.namedColors = {\n        aqua: \"00ffff\", azure: \"f0ffff\", beige: \"f5f5dc\",\n        black: \"000000\", blue: \"0000ff\", brown: \"a52a2a\",\n        coral: \"ff7f50\", cyan: \"00ffff\", darkblue: \"00008b\",\n        darkcyan: \"008b8b\", darkgray: \"a9a9a9\", darkgreen: \"006400\",\n        darkorange: \"ff8c00\", darkred: \"8b0000\", dimgray: \"696969\",\n        fuchsia: \"ff00ff\", gold: \"ffd700\", goldenrod: \"daa520\",\n        gray: \"808080\", green: \"008000\", greenyellow: \"adff2f\",\n        indigo: \"4b0082\", ivory: \"fffff0\", khaki: \"f0e68c\",\n        lightblue: \"add8e6\", lightgrey: \"d3d3d3\", lightgreen: \"90ee90\",\n        lightpink: \"ffb6c1\", lightyellow: \"ffffe0\", lime: \"00ff00\",\n        limegreen: \"32cd32\", linen: \"faf0e6\", magenta: \"ff00ff\",\n        maroon: \"800000\", mediumblue: \"0000cd\", navy: \"000080\",\n        olive: \"808000\", orange: \"ffa500\", orangered: \"ff4500\",\n        orchid: \"da70d6\", pink: \"ffc0cb\", plum: \"dda0dd\",\n        purple: \"800080\", red: \"ff0000\", royalblue: \"4169e1\",\n        salmon: \"fa8072\", silver: \"c0c0c0\", skyblue: \"87ceeb\",\n        slateblue: \"6a5acd\", slategray: \"708090\", snow: \"fffafa\",\n        steelblue: \"4682b4\", tan: \"d2b48c\", teal: \"008080\",\n        tomato: \"ff6347\", turquoise: \"40e0d0\", violet: \"ee82ee\",\n        wheat: \"f5deb3\", white: \"ffffff\", whitesmoke: \"f5f5f5\",\n        yellow: \"ffff00\", yellowgreen: \"9acd32\"\n    };\n\n    function _createColumns(eventElements) {\n        var columns = [];\n\n        for (var idx = 0; idx < eventElements.length; idx++) {\n            var event = eventElements[idx];\n            var eventRange = rangeIndex(event);\n            var column = null;\n\n            if (event.zeroWidthEventOffset && eventRange.end - eventRange.start < event.zeroWidthEventOffset) {\n                eventRange.end = eventRange.start + event.zeroWidthEventOffset;\n            }\n\n            for (var j = 0, columnLength = columns.length; j < columnLength; j++) {\n                var endOverlaps = (eventRange.start > columns[j].end) || (eventRange.slotIndex > columns[j].slotIndexEnd);\n\n                if (eventRange.start < columns[j].start || eventRange.slotIndex < columns[j].slotIndex || endOverlaps) {\n\n                    column = columns[j];\n\n                    if (column.end < eventRange.end) {\n                        column.end = eventRange.end;\n                    }\n\n                    if (column.slotIndexEnd < eventRange.slotIndexEnd) {\n                        column.slotIndexEnd = eventRange.slotIndexEnd;\n                    }\n\n                    break;\n                }\n            }\n\n            if (!column) {\n                column = { slotIndex: eventRange.slotIndex, slotIndexEnd: eventRange.slotIndexEnd, start: eventRange.start, end: eventRange.end, events: [] };\n                columns.push(column);\n            }\n\n            column.events.push(event);\n        }\n\n        return columns;\n    }\n\n    function createDateLayoutConfiguration(name, dates, inner, times) {\n         var configuration = [];\n\n         $.each(dates, function(index, item) {\n            var className = item.className ? \"k-slot-cell \" + item.className : \"k-slot-cell\";\n\n            var obj = {\n                text: item.text,\n                className: className\n            };\n\n            if (times && !item.minorTicks) {\n                obj[name] = createDateLayoutConfiguration(name, item.columns, inner, times);\n            } else {\n                obj[name] = inner;\n            }\n            configuration.push(obj);\n        });\n\n        return configuration;\n    }\n\n    function createLayoutConfiguration(name, resources, inner, template, dates, times, parentValue) {\n        var resource = resources[0];\n        var configuration = [];\n\n        if (resource) {\n            if (dates && inner) {\n                $.each(dates, function(index, item) {\n                    if (times && !item.minorTicks) {\n                        item[name] = createLayoutConfiguration(name, resources, item.columns, template, item.columns, times, parentValue);\n                    } else {\n                        item[name] = createLayoutConfiguration(name, resources, null, template, null, null, parentValue);\n                    }\n                });\n                configuration = dates;\n            } else {\n                var data = resource.dataSource.view();\n\n                data = data.filter(function(item) {\n                    var itemParentValue = kendo.getter(resource.dataParentValueField)(item);\n\n                    return itemParentValue === null || itemParentValue === undefined || itemParentValue === parentValue;\n                });\n\n                for (var dataIndex = 0; dataIndex < data.length; dataIndex++) {\n                    var value = kendo.getter(resource.dataValueField)(data[dataIndex]);\n                    var obj = {\n                        text: template({\n                            text: kendo.htmlEncode(kendo.getter(resource.dataTextField)(data[dataIndex])),\n                            color: kendo.getter(resource.dataColorField)(data[dataIndex]),\n                            field: resource.field,\n                            title: resource.title,\n                            name: resource.name,\n                            value: value\n                        }),\n                        className: \"k-slot-cell k-group-cell\",\n                        parentValue: parentValue,\n                        value: value\n                    };\n\n                    // filter-out those inner resources that are not relevant\n                    obj[name] = createLayoutConfiguration(name, resources.slice(1), inner, template, dates, times, value);\n\n                    configuration.push(obj);\n                }\n            }\n            return configuration;\n        }\n        return inner;\n    }\n\n    function groupEqFilter(value) {\n        return function(item) {\n            if (Array.isArray(item) || item instanceof kendo.data.ObservableArray) {\n                for (var idx = 0; idx < item.length; idx++) {\n                    if (item[idx] == value) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n            return item == value;\n        };\n    }\n\n    var selectedStateRegExp = /\\s*k-selected/;\n    function addSelectedState(cell) {\n        cell.className = cell.className.replace(selectedStateRegExp, \"\") + \" k-selected\";\n    }\n\n    $.extend(ui.SchedulerView, {\n        createColumns: createColumns,\n        createRows: createRows,\n        rangeIndex: rangeIndex,\n        collidingEvents: collidingEvents,\n        groupEqFilter: groupEqFilter\n    });\n\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":";mhBAGA,IAAa,EAAW,CACpB,GAAI,iBACJ,KAAM,iBACN,SAAU,MACV,YAAa,4BACb,QAAS,CAAE,OAAQ,UAAW,CAC9B,OAAQ,GACX,CACG,MAAM,GAAG,UAAY,EAAE,EAE1B,SAAS,EAAG,CACT,IAAI,EAAQ,OAAO,MACf,EAAK,EAAM,GACX,EAAU,EAAM,KAAK,QACrB,EAAS,EAAG,OACZ,EAAc,EAAM,aACpB,EAAO,EAAM,KACb,EAAK,sBACL,EAAsB,kBACtB,EAAgB,kBAChB,EAA6B,KAC7B,EAAO,KACP,EAAQ,IACR,EAAM,IAEV,SAAS,EAAO,EAAQ,EAAK,CACzB,IAAI,EAAS,EAAE,CAEf,SAAS,EAAQ,EAAO,EAAQ,CAG5B,GAFA,EAAS,EAAO,GAEZ,EAGA,IAAK,IAFD,EAAQ,EAAO,GAAS,EAAO,IAAU,EAAE,CAEtC,EAAM,EAAG,EAAM,EAAO,OAAQ,IACnC,EAAM,KAAK,EAAO,GAAK,CACvB,EAAQ,EAAQ,EAAG,EAAO,GAAK,CAO3C,OAFA,EAAQ,EAAG,EAAO,CAEX,EAGX,SAAS,EAAM,EAAW,EAAW,CAKjC,OAJK,EAAU,OAIR,qCAAuC,EAAM,KAAK,sBAAwB,GAAa,IAAI,CAAG,SAEzF,EAAU,KAAK,YAAY,CAChC,gBANI,GAUf,SAAS,EAAY,EAAW,EAAW,CAKvC,OAJK,EAAU,OAIR,QAAQ,EAAM,KAAK,iBAAiB,CAAC,cAAc,EAAM,EAAW,EAAU,CAAC,QAH3E,GAMf,SAAS,EAAY,EAAkB,EAAY,EAAU,CACzD,IAAI,EAAY,EAAE,CAElB,GAAI,EAAW,EACX,IAAK,IAAI,EAAM,EAAG,EAAM,EAAkB,IACtC,EAAU,KAAK,4CAA4C,CAYnE,OARI,GACA,EAAU,KAAK,0DAA4D,EAAW,KAAO,QAAQ,CAGrG,EAAW,EACL,GAAG,CAGN,EAAE,kCAAoC,EAAM,EAAU,CAAG,SAAS,CAG7E,SAAS,GAAU,CACf,OAAO,EACH,uGAGH,CAEL,IAAI,EAAO,0LASP,EAAe,EAAM,MAAM,OAAO,CAClC,KAAM,SAAS,EAAO,EAAO,EAAmB,CAC5C,KAAK,OAAS,EACd,KAAK,qBAAuB,EAAE,CAC9B,KAAK,oBAAsB,EAAE,CAC7B,KAAK,OAAS,EACd,KAAK,mBAAqB,GAG9B,sBAAuB,SAAS,EAAW,EAAS,CAChD,OAAO,KAAK,eAAe,EAAW,EAAS,KAAK,qBAAqB,EAG7E,qBAAsB,SAAS,EAAW,EAAS,CAC/C,OAAO,KAAK,eAAe,EAAW,EAAS,KAAK,oBAAoB,EAG5E,eAAgB,SAAS,EAAW,EAAS,EAAa,CACtD,IAAI,EAAa,IAAI,EAAe,EAAW,EAAS,KAAK,OAAQ,EAAY,OAAO,CAIxF,OAFA,EAAY,KAAK,EAAW,CAErB,GAGX,wBAAyB,UAAW,CAChC,OAAO,KAAK,qBAAqB,QAGrC,uBAAwB,UAAW,CAC/B,OAAO,KAAK,oBAAoB,QAGpC,wBAAyB,UAAW,CAGhC,IAAK,IAFD,EAAkB,CAAC,KAAK,sBAAwB,EAAE,CAAE,KAAK,qBAAuB,EAAE,CAAC,CAE9E,EAAsB,EAAG,EAAsB,EAAgB,OAAQ,IAE5E,IAAK,IADD,EAAc,EAAgB,GACzB,EAAkB,EAAG,EAAkB,EAAY,OAAQ,IAC/C,EAAY,GAClB,SAAS,EAKhC,kBAAmB,SAAS,EAAG,EAAG,EAAQ,CACtC,OAAO,KAAK,gBAAgB,EAAG,EAAG,KAAK,oBAAqB,EAAO,EAGvE,mBAAoB,SAAS,EAAG,EAAG,EAAQ,CACvC,OAAO,KAAK,gBAAgB,EAAG,EAAG,KAAK,qBAAsB,EAAO,EAGxE,gBAAiB,SAAS,EAAG,EAAG,EAAa,EAAQ,CACjD,IAAK,IAAI,EAAkB,EAAG,EAAkB,EAAY,OAAQ,IAGhE,IAAK,IAFD,EAAa,EAAY,GAEpB,EAAY,EAAG,EAAY,EAAW,OAAO,CAAE,IAAa,CACjE,IAAI,EAAO,EAAW,GAAG,EAAU,CAC/B,EAAQ,EAAK,YACb,EAAS,EAAK,aACd,EAEA,EAAgB,EAAK,WAAa,EAClC,EAAc,EAAK,UAAY,EAkBnC,GAhBK,IACA,EAAW,EAAW,GAAG,EAAY,EAAE,EAGxC,IACI,EAAS,YAAc,EAAK,WAO5B,EAAc,EAAS,UANvB,AAGI,EAHA,KAAK,OACW,EAAK,YAAc,EAAK,WAAa,EAAS,YAE9C,EAAS,YAOjC,GAAK,EAAK,YAAc,EAAI,GAC5B,GAAK,EAAK,WAAa,EAAI,EAC3B,OAAO,IAMvB,QAAS,UAAW,CAChB,IAAI,EAEJ,IAAK,EAAkB,EAAG,EAAkB,KAAK,oBAAoB,OAAQ,IACzE,KAAK,oBAAoB,GAAiB,SAAS,CAGvD,IAAK,EAAkB,EAAG,EAAkB,KAAK,qBAAqB,OAAQ,IAC1E,KAAK,qBAAqB,GAAiB,SAAS,EAI5D,eAAgB,SAAS,EAAW,EAAS,CACzC,IAAI,EAAc,KAAK,qBACnB,EAAQ,KAAK,WAAW,EAAW,EAAY,CAC/C,EAAY,EAEZ,CAAC,EAAM,SAAW,GAAa,EAAM,KAAK,MAC1C,EAAa,EAAM,KAAK,gBAAkB,EAC1C,EAAQ,MAGZ,IAAI,EAAM,EAgBV,GAdI,EAAY,IACZ,EAAM,KAAK,SAAS,EAAS,EAAY,EAGzC,GAAO,CAAC,EAAI,SAAW,GAAW,EAAI,KAAK,QAC3C,EAAY,EAAI,KAAK,gBAEjB,IAAY,EAAI,KAAK,QAAW,GAAS,EAAY,EAAM,KAAK,iBAAqB,EAAY,IACjG,IAGJ,EAAM,MAGN,IAAU,MAAQ,IAAQ,KAAM,CAChC,GAAI,EAAU,EAAY,EAAM,KAAK,WACjC,MAAO,EAAE,CAET,EAAQ,CACJ,QAAS,GACT,KAAM,EAAY,GAAY,OAAO,CACxC,CAED,EAAM,CACF,QAAS,GACT,KAAM,EAAY,GAAW,MAAM,CACtC,CAIT,GAAI,IAAU,KAAM,CAChB,GAAI,EAAI,KAAK,KAAO,EAChB,MAAO,EAAE,CAGb,EAAQ,CACJ,QAAS,GACT,MAAO,EAAY,IAAe,EAAY,EAAI,KAAK,kBAAkB,OAAO,CACnF,CAGL,GAAI,IAAQ,KAAM,CACd,GAAI,EAAM,KAAK,OAAS,EACpB,MAAO,EAAE,CAGb,EAAM,CACF,QAAS,GACT,MAAO,EAAY,IAAc,EAAY,EAAM,KAAK,kBAAkB,MAAM,CACnF,CAGL,OAAO,KAAK,iBAAiB,EAAe,EAAa,EAAO,EAAI,EAGxE,cAAe,SAAS,EAAW,EAAS,EAAU,CAClD,IAAI,EAAc,KAAK,oBAEnB,EAAQ,KAAK,WAAW,EAAW,EAAa,EAAS,CAEzD,CAAC,EAAM,SAAW,GAAa,EAAM,KAAK,MAC1C,EAAQ,MAGZ,IAAI,EAAM,EAUV,GARI,EAAY,IACZ,EAAM,KAAK,SAAS,EAAS,EAAa,EAAS,EAGnD,GAAO,CAAC,EAAI,SAAW,GAAW,EAAI,KAAK,QAC3C,EAAM,MAGN,IAAU,MAAQ,IAAQ,KAC1B,MAAO,EAAE,CAGb,GAAI,IAAU,KAAM,CAChB,GAAI,EAAI,KAAK,KAAO,EAChB,MAAO,EAAE,CAGb,EACI,IAAa,EAAM,KAAK,WACxB,EAAQ,KAAK,WAAW,EAAW,EAAa,EAAS,OACpD,CAAC,EAAM,SAAW,GAAa,EAAM,KAAK,KAGvD,GAAI,IAAQ,KAAM,CACd,GAAI,EAAM,KAAK,OAAS,EACpB,MAAO,EAAE,CAGb,EACI,IAAW,EAAM,KAAK,WACtB,EAAM,KAAK,SAAS,EAAS,EAAa,EAAS,OAC9C,CAAC,EAAI,SAAW,GAAW,EAAI,KAAK,OAGjD,OAAO,KAAK,iBAAiB,EAAc,EAAa,EAAO,EAAI,EAGvE,iBAAkB,SAAS,EAAO,EAAa,EAAO,EAAK,CASvD,IAAK,IARD,EAAY,EAAM,KAClB,EAAU,EAAI,KAEd,EAAa,EAAU,gBACvB,EAAW,EAAQ,gBAEnB,EAAS,EAAE,CAEN,EAAkB,EAAY,GAAmB,EAAU,IAAmB,CACnF,IAAI,EAAa,EAAY,GAEzB,EAAQ,EAAW,OAAO,CAC1B,EAAO,EAAW,MAAM,CACxB,EAAO,GACP,EAAO,GAEP,GAAmB,IACnB,EAAO,CAAC,EAAM,SAGd,GAAmB,IACnB,EAAO,CAAC,EAAI,SAGZ,EAAM,MAAQ,EAAU,QACxB,EAAQ,GAGR,EAAK,MAAQ,EAAQ,QACrB,EAAO,GAGP,EAAa,IACT,GAAmB,EACnB,EAAO,GACA,GAAmB,EAC1B,EAAO,GAEP,EAAO,EAAO,IAItB,EAAO,KAAK,IAAI,EAAM,CAClB,MAAO,EACP,IAAK,EACO,aACN,OACA,OACT,CAAC,CAAC,CAGP,OAAO,GAGX,WAAY,SAAS,EAAO,EAAO,CAC/B,IAAI,EAAY,EAAM,YAAc,EAAM,KAAK,UAAU,EAAM,MAAM,CACjE,EAAU,EAAM,UAAY,EAAM,KAAK,UAAU,EAAM,IAAI,CAc/D,OAZI,IAAU,SACV,AAGI,EAHA,KAAK,mBACG,EAAM,YAAY,CAElB,EAAM,UAIlB,EACO,KAAK,cAAc,EAAW,EAAS,EAAM,SAAS,CAG1D,KAAK,eAAe,EAAW,EAAQ,EAGlD,OAAQ,SAAS,EAAW,EAAS,EAAO,EAAU,CAalD,OAZI,OAAO,GAAa,WACpB,EAAY,EAAM,KAAK,UAAU,EAAU,EAG3C,OAAO,GAAW,WAClB,EAAU,EAAM,KAAK,UAAU,EAAQ,EAGvC,EACO,KAAK,cAAc,EAAW,EAAS,EAAS,CAGpD,KAAK,eAAe,EAAW,EAAQ,EAGlD,iBAAkB,SAAS,EAAM,EAAa,CAC1C,IAAK,IAAI,EAAkB,EAAG,EAAkB,EAAY,OAAQ,IAAmB,CACnF,IAAI,EAAa,EAAY,GAE7B,GAAI,EAAW,aAAa,EAAK,CAC7B,OAAO,EAIf,OAAO,MAGX,eAAgB,SAAS,EAAM,EAAa,EAAU,CAClD,IAAK,IAAI,EAAkB,EAAG,EAAkB,EAAY,OAAQ,IAAmB,CACnF,IAAI,EAAa,EAAY,GAE7B,GAAI,EAAW,WAAW,EAAM,EAAS,CACrC,OAAO,EAIf,OAAO,MAGX,gBAAiB,SAAS,EAAO,CAC7B,OAAO,EAAQ,KAAK,oBAAsB,KAAK,sBAGnD,eAAgB,SAAS,EAAM,EAAS,CACpC,IAAI,EAAM,EAAU,GAAK,EAErB,EADc,KAAK,gBAAgB,EAAK,UAAU,CACzB,EAAK,gBAAkB,GAEpD,OAAO,EAAa,EAAW,EAAU,OAAS,UAAU,CAAG,QAGnE,UAAW,UAAW,CAGlB,OAFkB,KAAK,gBAAgB,KAAK,wBAAwB,CAAC,CAElD,GAAG,OAAO,EAGjC,SAAU,UAAW,CACjB,IAAI,EAAc,KAAK,gBAAgB,KAAK,wBAAwB,CAAC,CAErE,OAAO,EAAY,EAAY,OAAS,GAAG,MAAM,EAGrD,OAAQ,SAAS,EAAM,EAAgB,EAAuB,CAC1D,IAAI,EAAO,KAaX,OAJK,KAAK,yBAAyB,GAC/B,EAAiB,IAGd,KAAK,cAAc,EAAM,GAZZ,SAAS,EAAW,EAAiB,EAAO,CAG5D,GAAI,CAAC,GAAkB,CAAC,GAFN,IAAU,GAEwB,EAAK,wBAAwB,CAC7E,OAAO,EAAK,oBAAoB,GAAG,GAAG,EAAgB,EAQX,EAAsB,EAG7E,SAAU,SAAS,EAAM,EAAgB,EAAuB,CAC5D,IAAI,EAAO,KAWX,OAJK,KAAK,yBAAyB,GAC/B,EAAiB,IAGd,KAAK,cAAc,EAAM,EAVX,SAAS,EAAW,EAAiB,EAAO,CAC7D,GAAI,CAAC,GAAkB,GAAa,EAAK,yBAAyB,CAC9D,OAAO,EAAK,qBAAqB,GAAO,GAAG,EAAE,EAQF,EAAsB,EAG7E,SAAU,SAAS,EAAM,EAAuB,CAC5C,OAAO,KAAK,gBAAgB,EAAM,GAAI,EAAsB,EAGhE,UAAW,SAAS,EAAM,EAAuB,CAC7C,OAAO,KAAK,gBAAgB,EAAM,EAAG,EAAsB,EAG/D,gBAAiB,SAAS,EAAM,EAAM,EAAuB,CACzD,IAAI,EAAQ,EAAK,MACb,EAAY,EAAK,UACjB,EAAkB,EAAK,gBACvB,EAAc,KAAK,gBAAgB,EAAU,CAEjD,EAAY,EAAwB,GAAQ,EAExC,EACA,GAAS,EAET,GAAmB,EAGvB,IAAI,EAAa,EAAY,GAE7B,OAAO,EAAa,EAAW,GAAG,EAAM,CAAG,QAG/C,cAAe,SAAS,EAAM,EAAM,EAAgB,EAAuB,CACvE,IAAI,EAAQ,EAAK,MACb,EAAY,EAAK,UACjB,EAAkB,EAAK,gBACvB,EAAc,KAAK,gBAAgB,EAAU,CAGjD,GADA,EAAO,EAAe,EAAW,EAAiB,EAAM,CACpD,EACA,OAAO,EAGX,EAAY,EAAwB,GAAQ,EAExC,EACA,GAAmB,EAEnB,GAAS,EAGb,IAAI,EAAa,EAAY,GAE7B,OAAO,EAAa,EAAW,GAAG,EAAM,CAAG,QAG/C,YAAa,SAAS,EAAO,EAAU,CAGnC,OAFkB,EAAW,KAAK,oBAAsB,KAAK,sBAE1C,IAGvB,WAAY,SAAS,EAAM,EAAa,EAAU,CAC9C,IAAI,EAAa,KAAK,iBAAiB,EAAM,EAAY,CACrD,EAAU,GACV,EAAQ,EAEZ,GAAI,CAAC,EAAY,CAGb,IAFA,EAAa,EAAY,GAElB,EAAQ,EAAY,OAAS,GAAK,EAAW,OAAS,GACzD,IACA,EAAa,EAAY,GAG7B,EAAU,GAGd,IAAI,EAAO,EAAW,gBAAgB,EAAM,EAAS,CAOrD,OALK,IACD,EAAO,EAAW,OAAO,CACzB,EAAU,IAGP,CACG,OACG,UACZ,EAGL,SAAU,SAAS,EAAM,EAAa,EAAU,CAC5C,IAAI,EAAa,KAAK,eAAe,EAAM,EAAa,EAAS,CAC7D,EAAU,GACV,EAAQ,EAAY,OAAS,EAEjC,GAAI,CAAC,EAAY,CAGb,IAFA,EAAa,EAAY,GAElB,EAAQ,GAAK,EAAW,OAAS,GACpC,IACA,EAAa,EAAY,GAG7B,EAAU,GAGd,IAAI,EAAO,EAAW,cAAc,EAAM,EAAS,CAYnD,OAVK,IACD,AAGI,EAHA,GAAQ,EAAW,OAAO,CAAC,MACpB,EAAW,OAAO,CAElB,EAAW,MAAM,CAG5B,EAAU,IAGP,CACG,OACG,UACZ,EAGL,kBAAmB,SAAS,EAAO,EAAO,CACtC,OAAO,KAAK,EAAQ,uBAAyB,yBAAyB,EAAM,EAGhF,sBAAuB,SAAS,EAAO,CACnC,OAAO,KAAK,qBAAqB,IAGrC,qBAAsB,SAAS,EAAO,CAClC,OAAO,KAAK,oBAAoB,IAEvC,CAAC,CAEE,EAAY,EAAM,MAAM,OAAO,CAC/B,KAAM,SAAS,EAAS,CACpB,EAAE,OAAO,KAAM,EAAQ,EAG3B,YAAa,UAAW,CASpB,IAAK,IARD,EAAa,KAAK,WAElB,EAAa,KAAK,MAAM,MAExB,EAAW,KAAK,IAAI,MAEpB,EAAS,EAEJ,EAAY,EAAY,GAAa,EAAU,IACrD,GAAU,EAAW,GAAG,EAAU,CAAC,aAGtC,OAAO,GAGX,OAAQ,UAAW,CACf,OAAO,KAAK,WAAW,QAAQ,EAGnC,SAAU,SAAS,EAAO,CACtB,KAAK,QAAQ,CAAC,KAAK,EAAM,EAG7B,UAAW,UAAW,CAIlB,OAHI,KAAK,MAAM,WAAa,KAAK,IAAI,WAC1B,KAAK,IAET,KAAK,OAGhB,QAAS,UAAW,CAIhB,OAHI,KAAK,MAAM,WAAa,KAAK,IAAI,WAC1B,KAAK,MAET,KAAK,KAEnB,CAAC,CAEE,EAAgB,EAAU,OAAO,CACjC,YAAa,UAAW,CASpB,IAAK,IARD,EAAa,KAAK,WAElB,EAAa,KAAK,MAAM,MAExB,EAAW,KAAK,IAAI,MAEpB,EAAS,EAEJ,EAAY,EAAY,GAAa,EAAU,IACrD,GAAU,EAAW,GAAG,EAAU,CAAC,aAGtC,OAAO,GAGX,UAAW,SAAS,EAAO,EAAK,EAAM,CAClC,OAAO,KAAK,MAAM,SAAU,EAAO,EAAK,EAAK,EAGjD,MAAO,SAAS,EAAU,EAAO,EAAK,EAAM,CACxC,IAAI,EACA,EACA,EACA,EACA,EAAY,KAAK,MACjB,EAAU,KAAK,IACf,EAAQ,EAAM,QAAQ,MAAM,EAAU,QAAQ,CAUlD,GARI,OAAO,GAAS,WAChB,EAAQ,EAAM,KAAK,UAAU,EAAM,EAGnC,OAAO,GAAO,WACd,EAAM,EAAM,KAAK,UAAU,EAAI,EAG/B,EACA,EAAM,EAAU,UAChB,EAAS,EAAQ,UAAY,EAAQ,EAAW,UAC5C,GACA,EAAO,EAAQ,WACf,EAAQ,EAAU,WAAa,EAAU,EAAW,WAEpD,EAAO,EAAU,WACjB,EAAQ,EAAQ,WAAa,EAAQ,EAAW,cAEjD,CACH,IAAI,EAAc,EAAQ,EAAU,MAEhC,EAAc,IACd,EAAc,GAGlB,IAAI,EAAoB,EAAU,IAAM,EAAU,MAElD,EAAM,EAAU,UAAY,EAAU,EAAW,UAAY,EAAc,EAE3E,IAAI,EAAY,EAAQ,IAAM,EAE1B,EAAY,IACZ,EAAY,GAGhB,IAAI,EAAkB,EAAQ,IAAM,EAAQ,MAE5C,EAAS,EAAQ,UAAY,EAAQ,EAAW,UAAY,EAAQ,EAAW,UAAY,EAAY,EAEnG,GACA,EAAO,KAAK,MAAM,EAAQ,WAAa,EAAQ,EAAW,SAAW,EAAY,EAAgB,CACjG,EAAQ,KAAK,MAAM,EAAU,WAAa,EAAU,EAAW,SAAW,EAAU,EAAW,SAAW,EAAc,EAAkB,GAE1I,EAAO,KAAK,MAAM,EAAU,WAAa,EAAU,EAAW,SAAW,EAAc,EAAkB,CACzG,EAAQ,KAAK,MAAM,EAAQ,WAAa,EAAQ,EAAW,SAAW,EAAQ,EAAW,SAAW,EAAY,EAAgB,EAIxI,MAAO,CACE,MACG,SAER,KAAM,IAAS,EAAI,EAAO,EAAO,EAC1B,QACV,EAGL,UAAW,SAAS,EAAO,EAAK,EAAM,CAClC,OAAO,KAAK,MAAM,SAAU,EAAO,EAAK,EAAK,EAEpD,CAAC,CAEE,EAAe,EAAU,OAAO,CAChC,WAAY,UAAW,CAWnB,IAAK,IAVD,EAAa,KAAK,WAElB,EAAa,KAAK,MAAM,MAExB,EAAW,KAAK,IAAI,MAEpB,EAAS,EAET,EAAQ,IAAe,EAA2B,cAAhB,cAE7B,EAAY,EAAY,GAAa,EAAU,IACrD,GAAU,EAAW,GAAG,EAAU,CAAC,GAGtC,OAAO,GAEd,CAAC,CAEE,EAAiB,EAAM,MAAM,OAAO,CACpC,KAAM,SAAS,EAAW,EAAS,EAAY,EAAiB,CAC5D,KAAK,OAAS,EAAE,CAEhB,KAAK,QAAU,EAAE,CAEjB,KAAK,OAAS,EAAM,KAAK,UAAU,EAAU,CAE7C,KAAK,KAAO,EAAM,KAAK,UAAU,EAAQ,CAEzC,KAAK,YAAc,EAEnB,KAAK,iBAAmB,GAE5B,QAAS,UAAW,CAChB,IAAK,IAAI,EAAY,EAAG,EAAY,KAAK,OAAO,OAAQ,IACpD,KAAK,OAAO,GAAW,SAAS,EAIxC,aAAc,SAAS,EAAM,CACzB,OAAO,KAAK,QAAU,GAAQ,EAAO,KAAK,MAG9C,WAAY,SAAS,EAAM,EAAU,CACjC,IAAI,EAAM,EAAW,EAAO,KAAK,KAAO,GAAQ,KAAK,KACrD,OAAO,KAAK,QAAU,GAAQ,GAGlC,gBAAiB,SAAS,EAAM,CAC5B,IAAI,EAAO,EAEP,OAAO,GAAQ,WACf,EAAO,EAAM,KAAK,UAAU,EAAK,EAGrC,IAAK,IAAI,EAAY,EAAG,EAAY,KAAK,OAAO,OAAQ,IAAa,CACjE,IAAI,EAAO,KAAK,OAAO,GAEvB,GAAI,EAAK,aAAa,EAAK,CACvB,OAAO,EAIf,OAAO,MAGX,cAAe,SAAS,EAAM,EAAQ,CAClC,IAAI,EAAO,EAMX,GAJI,OAAO,GAAQ,WACf,EAAO,EAAM,KAAK,UAAU,EAAK,EAGjC,EACA,OAAO,KAAK,gBAAgB,EAAM,GAAM,CAG5C,IAAK,IAAI,EAAY,EAAG,EAAY,KAAK,OAAO,OAAQ,IAAa,CACjE,IAAI,EAAO,KAAK,OAAO,GAEvB,GAAI,EAAK,WAAW,EAAK,CACrB,OAAO,EAIf,OAAO,MAGX,MAAO,UAAW,CACd,OAAO,KAAK,OAAO,QAEvB,OAAQ,UAAW,CACf,OAAO,KAAK,SAEhB,YAAa,SAAS,EAAS,EAAO,EAAK,EAAc,CACrD,IAAI,EAAO,IAAI,EAAS,EAAS,EAAO,EAAK,KAAK,YAAa,KAAK,iBAAkB,KAAK,OAAO,OAAQ,EAAa,CAEvH,KAAK,OAAO,KAAK,EAAK,EAE1B,WAAY,SAAS,EAAS,EAAO,EAAK,EAAY,CAClD,IAAI,EAAO,IAAI,EAAQ,EAAS,EAAO,EAAK,KAAK,YAAa,KAAK,iBAAkB,KAAK,OAAO,OAAQ,EAAW,CAEpH,KAAK,OAAO,KAAK,EAAK,EAE1B,MAAO,UAAW,CACd,OAAO,KAAK,OAAO,IAEvB,KAAM,UAAW,CACb,OAAO,KAAK,OAAO,KAAK,OAAO,OAAS,IAE5C,GAAI,SAAS,EAAO,CAChB,OAAO,KAAK,OAAO,IAE1B,CAAC,CAEE,EAAO,EAAM,MAAM,OAAO,CAC1B,KAAM,SAAS,EAAS,EAAO,EAAK,EAAY,EAAiB,EAAO,CACpE,KAAK,QAAU,EACf,KAAK,YAAc,EAAQ,YAC3B,KAAK,aAAe,EAAQ,aAC5B,KAAK,YAAc,EAAQ,YAC3B,KAAK,aAAe,EAAQ,aAC5B,KAAK,UAAY,EAAQ,UACzB,KAAK,WAAa,EAAQ,WAE1B,KAAK,MAAQ,EACb,KAAK,IAAM,EACX,KAAK,QAAU,EACf,KAAK,WAAa,EAClB,KAAK,gBAAkB,EACvB,KAAK,MAAQ,EACb,KAAK,UAAY,IAGrB,QAAS,UAAW,CAChB,IAAI,EAAU,KAAK,QAEnB,KAAK,YAAc,EAAQ,YAC3B,KAAK,aAAe,EAAQ,aAC5B,KAAK,YAAc,EAAQ,YAC3B,KAAK,aAAe,EAAQ,aAC5B,KAAK,UAAY,EAAQ,UACzB,KAAK,WAAa,EAAQ,YAG9B,UAAW,UAAW,CAClB,OAAO,EAAM,SAAS,YAAY,KAAK,MAAM,EAGjD,QAAS,UAAW,CAChB,OAAO,EAAM,SAAS,YAAY,KAAK,IAAI,EAG/C,aAAc,SAAS,EAAM,CACzB,OAAO,KAAK,OAAS,GAAQ,EAAO,KAAK,KAG7C,WAAY,SAAS,EAAM,CACvB,OAAO,KAAK,MAAQ,GAAQ,GAAQ,KAAK,KAG7C,YAAa,UAAW,CACrB,OAAO,KAAK,OAGf,UAAW,UAAW,CAClB,OAAO,KAAK,KAEnB,CAAC,CAEE,EAAW,EAAK,OAAO,CACvB,KAAM,SAAS,EAAS,EAAO,EAAK,EAAY,EAAiB,EAAO,EAAc,CAClF,EAAK,GAAG,KAAK,MAAM,KAAM,UAAU,CAEnC,KAAK,aAAe,KAGxB,QAAS,SAAS,EAAK,EAAQ,CAIvB,OAFO,KAAK,WAAa,GAMjC,aAAc,SAAS,EAAM,CACzB,OAAO,KAAK,OAAS,GAAQ,EAAO,KAAK,KAG7C,WAAY,SAAS,EAAM,CACvB,OAAO,KAAK,MAAQ,GAAQ,GAAQ,KAAK,KAG7C,YAAa,SAAS,EAAG,EAAG,EAAM,CAC9B,GAAI,EACA,OAAO,KAAK,MAGhB,IAAI,EAAS,EAAE,KAAK,QAAQ,CAAC,QAAQ,CAEjC,EAAW,KAAK,IAAM,KAAK,MAC3B,EACA,EAEJ,GAAI,KAAK,aAAc,CAEnB,IAAI,EAAQ,EAAM,QAAQ,MAAM,KAAK,QAAQ,CAI7C,GAHA,EAAa,EAAI,EAAO,KACxB,EAAO,KAAK,MAAM,GAAa,EAAa,KAAK,aAAa,CAE1D,EACA,OAAO,KAAK,MAAQ,EAAW,OAGnC,EAAa,EAAI,EAAO,IACxB,EAAO,KAAK,MAAM,GAAa,EAAa,KAAK,cAAc,CAGnE,OAAO,KAAK,MAAQ,GAGxB,UAAW,SAAS,EAAG,EAAG,EAAM,CAC5B,GAAI,EACA,OAAO,KAAK,IAGhB,IAAI,EAAS,EAAE,KAAK,QAAQ,CAAC,QAAQ,CAEjC,EAAW,KAAK,IAAM,KAAK,MAC3B,EACA,EAEJ,GAAI,KAAK,aAAc,CAEnB,IAAI,EAAQ,EAAM,QAAQ,MAAM,KAAK,QAAQ,CAI7C,GAHA,EAAa,EAAI,EAAO,KACxB,EAAO,KAAK,MAAM,GAAa,EAAa,KAAK,aAAa,CAE1D,EACA,OAAO,KAAK,MAAQ,EAAW,OAGnC,EAAa,EAAI,EAAO,IACxB,EAAO,KAAK,MAAM,GAAa,EAAa,KAAK,cAAc,CAGnE,OAAO,KAAK,MAAQ,GAE3B,CAAC,CAEE,EAAU,EAAK,OAAO,CACtB,KAAM,SAAS,EAAS,EAAO,EAAK,EAAY,EAAiB,EAAO,EAAY,CAMhF,GALA,EAAK,GAAG,KAAK,MAAM,KAAM,UAAU,CAEnC,KAAK,WAAa,EAClB,KAAK,UAAY,GAEb,KAAK,QAAQ,SAAS,OAAQ,CAC9B,IAAI,EAAa,KAAK,QAAQ,SAAS,GAEvC,KAAK,iBAAmB,EAAW,aACnC,KAAK,cAAgB,EAAW,eAEhC,KAAK,iBAAmB,EACxB,KAAK,cAAgB,GAI7B,UAAW,UAAW,CAClB,IAAI,EAAO,IAAI,KAAK,KAAK,MAAM,CAE/B,OAAO,EAAM,SAAS,MAAM,EAAM,UAAU,EAGhD,QAAS,UAAW,CAChB,IAAI,EAAO,IAAI,KAAK,KAAK,IAAI,CAE7B,OAAO,EAAM,SAAS,MAAM,EAAM,UAAU,EAGhD,aAAc,SAAS,EAAM,CACzB,OAAO,KAAK,OAAS,GAAQ,EAAO,KAAK,KAG7C,WAAY,SAAS,EAAM,CACvB,OAAO,KAAK,MAAQ,GAAQ,GAAQ,KAAK,KAEhD,CAAC,CAEF,EAAM,GAAG,cAAgB,EAAO,OAAO,CACnC,KAAM,SAAS,EAAS,EAAS,CAC7B,EAAO,GAAG,KAAK,KAAK,KAAM,EAAS,EAAE,OAAO,EAAE,CAAE,KAAK,QAAS,EAAQ,CAAC,CAEvE,KAAK,mBAAmB,CACxB,KAAK,mBAAmB,CACxB,KAAK,WAAa,EAAM,QAAQ,WAAW,CAC3C,KAAK,OAAS,EAAM,QAAQ,MAAM,EAAQ,CAC1C,KAAK,YAAc,GAAG,CACtB,KAAK,UAAY,GAAG,CACpB,KAAK,QAAU,EAAM,MAAM,CAC3B,KAAK,qBAAqB,CAC1B,KAAK,eAAiB,EAAE,CACxB,KAAK,QAAQ,KAAK,OAAQ,cAAc,EAG5C,QAAS,CACL,SAAU,CACN,eAAgB,CACZ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,OAAQ,YACR,OAAQ,GACX,CACJ,CACJ,CAED,eAAgB,UAAW,CACvB,OAAO,KAAK,SAAS,EAGzB,kBAAmB,UAAW,CAC1B,KAAK,cAAgB,CACjB,YAAa,CACT,KAAM,SACN,SAAU,OACV,KAAM,KAAK,QAAQ,SAAS,MAC5B,MAAO,KAAK,yBAAyB,KAAK,KAAK,CAC/C,WAAY,CACR,MAAO,oBACV,CACJ,CACD,eAAgB,CACZ,KAAM,SACN,KAAM,QACN,KAAM,KAAK,QAAQ,cAAgB,KAAK,QAAQ,SAAS,YAAc,KAAK,QAAQ,SAAS,YAC7F,MAAO,KAAK,cAAgB,KAAK,cAAc,KAAK,KAAK,CAAG,EAAE,KAC9D,WAAY,CACR,MAAO,sBACV,CACJ,CACD,cAAe,CACX,KAAM,SACN,SAAU,OACV,KAAM,KAAK,QAAQ,cAAgB,KAAK,QAAQ,SAAS,YAAc,KAAK,QAAQ,SAAS,YAC7F,MAAO,KAAK,cAAgB,KAAK,cAAc,KAAK,KAAK,CAAG,EAAE,KAC9D,WAAY,CACR,MAAO,sBACV,CACJ,CACJ,EAGL,kBAAmB,UAAW,CAC1B,IAAI,EAAU,KAAK,QAEf,EAAQ,WACR,EAAQ,UAAU,gBAAgB,EAAE,CAGpC,EAAQ,SACR,EAAQ,QAAQ,gBAAgB,EAAE,CAGlC,EAAQ,cACR,EAAQ,aAAa,gBAAgB,EAAE,CAGvC,EAAQ,YACR,EAAQ,WAAW,gBAAgB,EAAE,EAI7C,UAAW,UAAW,CAClB,IAAI,EAAU,KAAK,QACnB,OAAQ,EAAQ,SAAW,IAAQ,EAAM,QAAQ,UAAa,EAAQ,SAAW,SAAW,EAAQ,SAAW,UAGnH,iBAAkB,UAAW,CACzB,IAAI,EAAe,IAAI,EAAa,KAAK,OAAO,OAAQ,KAAK,OAAQ,KAAK,QAAQ,kBAAkB,CAIpG,OAFA,KAAK,OAAO,KAAK,EAAa,CAEvB,GAGX,sBAAuB,UAAW,CAC9B,IAAI,EAAS,KAAK,OAElB,GAAI,EACA,IAAK,IAAI,EAAI,EAAG,EAAI,EAAO,OAAQ,IAC/B,EAAO,GAAG,yBAAyB,EAK/C,aAAc,UAAW,CACrB,OAAO,EAAM,OAAO,KAAK,QAAQ,mBAAoB,KAAK,WAAW,CAAE,KAAK,SAAS,CAAC,EAG1F,kBAAmB,UAAW,CAC1B,OAAO,EAAM,OAAO,KAAK,QAAQ,wBAAyB,KAAK,WAAW,CAAE,KAAK,SAAS,CAAC,EAG/F,mBAAoB,UAAW,CAC3B,OAAO,EAAM,OAAO,KAAK,QAAQ,0BAA4B,KAAK,QAAQ,wBAAyB,KAAK,WAAW,CAAE,KAAK,SAAS,CAAC,EAGxI,aAAc,SAAS,EAAW,EAAU,CAExC,IAAI,EAAO,KADE,EAAW,gBAAkB,iBAClB,EAAU,MAAO,EAAU,WAAY,EAAU,SAAS,CAUlF,OARI,IACA,EAAU,YAAc,EAAW,GAAK,GAGxC,KAAK,kBAAkB,EAAI,CAAC,IAC7B,EAAU,WAAa,EAAW,KAAK,OAAO,OAAS,EAAI,GAGvD,GAGX,YAAa,SAAS,EAAW,EAAM,EAAU,CAC7C,IAAI,EAAQ,KAAK,OAAO,EAAU,YAC9B,EAAa,EAEjB,GAAI,EAIE,IAHA,EAAc,EAAM,gBAAgB,GAAM,CAC1C,EAAQ,EAAM,wBAAwB,CAAG,EAAK,MAAQ,EAAI,EAAK,gBAAkB,EAE7E,GAAS,EACT,OAAO,EAAY,GAAO,OAAO,EAAY,GAAO,OAAO,OAAS,OAErE,CACH,EAAc,EAAM,gBAAgB,EAAM,wBAAwB,CAAC,CACnE,EAAQ,EAAM,wBAAwB,CAAG,EAAI,EAAK,gBAAkB,EACpE,IAAI,EAAY,EAAM,wBAAwB,CAAG,EAAK,gBAAkB,EAAI,EAE5E,GAAI,EAAY,IAAU,EAAY,GAAO,OAAO,GAChD,OAAO,EAAY,GAAO,OAAO,KAK/C,yBAA0B,UAAW,CACjC,OAAO,MAGX,kBAAmB,UAAW,CAC1B,MAAO,IAGX,WAAY,SAAS,EAAU,EAAQ,CAInC,MAHI,CAAC,GAAY,CAAC,GAAU,CAAC,KAAK,QAAQ,KAAO,CAAC,KAAK,QAAQ,IACpD,GAEJ,EAAQ,EAAS,EAAI,EAAQ,KAAK,QAAQ,IAAI,EAAI,EAAQ,EAAO,EAAI,EAAQ,KAAK,QAAQ,IAAI,EAGzG,iBAAkB,SAAS,EAAW,EAAQ,EAAU,EAAS,CAC7D,IAAI,EAAS,EAAU,WAAa,YAChC,EAAkB,CACjB,UAAW,EAAO,GAAG,MACrB,QAAS,EAAO,EAAO,OAAS,GAAG,IACtC,CACE,EAAQ,KAAK,OAAO,EAAU,YAC9B,EAAa,KAAK,sBAAsB,CAE5C,GAAI,CAAC,EAAU,CACX,IAAI,EAAO,KAAK,8BAA8B,EAAW,EAAQ,EAAQ,CACrE,IACA,EAAgB,UAAY,EAAgB,QAAU,GAI9D,GAAI,KAAK,kBAAkB,EAAI,CAAC,EAAU,CACpC,IAAI,EAAW,KAAK,aAAa,EAAW,EAAQ,CAE/C,EAID,EAAgB,UAAY,EAAgB,QAAU,EAFxD,EAAkB,KAAK,wBAAwB,EAAO,EAAQ,EAAgB,MAKhF,EAAgB,UAAY,EAAM,GAAQ,EAAgB,UAAU,CACpE,EAAgB,QAAU,EAAM,GAAQ,EAAgB,QAAQ,CAE5D,CAAC,GAAY,CAAC,IAAe,CAAC,EAAgB,WAAa,CAAC,EAAgB,WAC1E,EAAgB,UAAY,EAAgB,QAAU,KAAK,aAAa,EAAW,EAAQ,EAIvG,IAAI,EAWJ,OATK,CAAC,EAAgB,WAAa,CAAC,EAAgB,UAAY,CAAC,KAAK,kBAAkB,GACpF,EAAiB,KAAK,gBAAgB,EAAW,EAAQ,EAAQ,CACjE,EAAiB,KAAK,yBAAyB,EAAW,EAAgB,EAAU,EAAQ,CAExF,IACA,EAAgB,UAAY,EAAgB,QAAU,IAIvD,GAGV,wBAAyB,SAAS,EAAO,EAAQ,EAAiB,CAM9D,OALI,KAAK,sBAAsB,GAC5B,EAAgB,UAAY,EAAM,GAAQ,EAAgB,UAAU,CACpE,EAAgB,QAAU,EAAM,GAAQ,EAAgB,QAAQ,EAG5D,GAGZ,eAAgB,SAAS,EAAW,EAAQ,EAAU,EAAS,CAC3D,IAAI,EAAQ,KAAK,OAAO,EAAU,YAC9B,EACA,EAAgB,CAChB,UAAW,EAAO,GAAG,MACrB,QAAS,EAAO,EAAO,OAAS,GAAG,IACtC,CAEI,IACD,EAAO,KAAK,4BAA4B,EAAW,EAAQ,EAAQ,CAC/D,IACA,EAAc,UAAY,EAAc,QAAU,IAI1D,IAAI,EAAS,EAAU,SAAW,WAalC,MAXA,GAAgB,KAAK,sBAAsB,EAAO,EAAQ,EAAe,EAAS,CAE9E,CAAC,GAAY,KAAK,sBAAsB,GAAK,CAAC,EAAc,WAAa,CAAC,EAAc,WACpF,KAAK,kBAAkB,CACvB,EAAc,UAAY,EAAc,QAAU,KAAK,YAAY,EAAW,EAAM,EAAQ,CAG5F,EAAc,UAAY,EAAc,QAAU,KAAK,aAAa,EAAW,EAAQ,EAIxF,GAGX,sBAAuB,SAAS,EAAO,EAAQ,EAAe,EAAU,CAInE,MAHA,GAAc,UAAY,EAAM,GAAQ,EAAc,UAAW,EAAS,CAC1E,EAAc,QAAU,EAAM,GAAQ,EAAc,QAAS,EAAS,CAE/D,GAGZ,8BAA+B,UAAW,CACtC,OAAO,MAGX,4BAA6B,SAAS,EAAW,EAAQ,EAAS,CAS9D,OANI,EACO,EAAO,GAAG,MAEV,EAAO,EAAO,OAAS,GAAG,KAMzC,gBAAiB,UAAW,CACxB,OAAO,MAGX,yBAA0B,SAAS,EAAG,CAClC,EAAE,gBAAgB,CAElB,IAAI,EAAO,KACP,EAAU,EAAK,QACf,EAAW,EAAK,QAAQ,SACxB,EAAS,QACT,EAAc,IAAI,KAClB,EAEJ,GAAI,EAAU,CACV,IAAI,EAAiB,EAAM,SAAS,OAAO,EAAa,EAAS,CACjE,EAAO,EAAM,SAAS,QAAQ,EAAa,EAAY,mBAAmB,CAAE,EAAe,MAE3F,EAAO,EAGX,EAAK,QAAQ,WAAY,CAAE,KAAM,EAAK,MAAQ,EAAQ,KAAc,SAAc,OAAM,CAAC,EAG7F,aAAc,UAAW,CACrB,IAAI,EAAO,KACP,EAAQ,EAAE,CACV,EAAU,KAAK,QAcnB,OAZI,EAAK,WAAW,EAChB,EAAM,KAAK,CACP,KAAM,SACN,SAAU,OACV,KAAM,EAAQ,SAAS,MACvB,MAAO,EAAK,yBAAyB,KAAK,EAAK,CAC/C,WAAY,CACR,MAAO,oBACV,CACJ,CAAC,CAGC,GAGX,QAAS,UAAW,CACZ,QAAK,QAAQ,SAAW,GAI5B,KAAI,EAAO,KACP,EAAQ,EAAK,cAAc,CAE3B,EAAM,OAAS,IAGf,EAAK,OAFM,EAAE,mCAAmC,CAE7B,SAAS,EAAK,QAAQ,CAEzC,EAAK,OAAO,aAAa,CACrB,UAAW,GACJ,QACV,CAAC,IAIV,mBAAoB,SAAS,EAAW,CACpC,IAAI,EAAQ,KAAK,OAAO,GACpB,EAEC,KAAK,QAAQ,EAAU,CAOnB,EAAM,wBAAwB,CAEvB,EAAM,yBAAyB,GACvC,EAAU,SAAW,IAFrB,EAAU,SAAW,IAP1B,EAAO,EAAM,WAAW,CAExB,EAAU,SAAW,EAAK,UAC1B,EAAU,MAAQ,EAAK,WAAW,CAClC,EAAU,IAAM,EAAK,SAAS,EAS5B,KAAK,OAAO,EAAU,cACvB,EAAU,WAAa,IAI/B,KAAM,SAAS,EAAW,EAAK,EAAO,CAClC,IAAI,EAAU,GACV,EAAQ,KAAK,OAAO,EAAU,YAC9B,EAAiB,KAAK,kBAAkB,EAAI,KAAK,sBAAsB,CAEtE,EAAM,yBAAyB,GAChC,EAAU,SAAW,IAGzB,IAAI,EAAS,EAAM,OAAO,EAAU,MAAO,EAAU,IAAK,EAAU,SAAU,GAAM,CAChF,EAAW,EAAS,EAAS,EAEjC,GAAI,IAAQ,EAAK,MAAQ,IAAQ,EAAK,GAQlC,IAPA,EAAU,GACV,EAAU,IAAQ,EAAK,GAEvB,KAAK,iBAAiB,EAAW,EAAQ,EAAO,EAAS,GAAK,CAE9D,EAAQ,KAAK,eAAe,EAAW,EAAQ,EAAO,EAAQ,CAE1D,CAAC,EAAM,WAAa,CAAC,GAAS,KAAK,kBAAkB,EAAW,EAAS,CAAC,EAAe,CACzF,OAAO,WAGJ,IAAQ,EAAK,MAAQ,IAAQ,EAAK,SACzC,EAAU,GACV,EAAU,IAAQ,EAAK,KAEvB,KAAK,iBAAiB,EAAW,EAAQ,EAAO,EAAS,GAAM,CAE/D,EAAQ,KAAK,iBAAiB,EAAW,EAAQ,EAAO,EAAQ,CAE5D,CAAC,EAAM,WAAa,CAAC,GAAS,KAAK,kBAAkB,EAAW,EAAS,EAAe,EACxF,OAAO,EAIf,GAAI,EAAS,CAIT,GAHA,EAAY,EAAM,UAClB,EAAU,EAAM,QAEZ,EAAO,CACP,IAAI,EAAW,EAAU,SACrB,GAAY,EACZ,EAAU,MAAQ,EAAU,WAAW,CAChC,CAAC,GAAY,IACpB,EAAU,IAAM,EAAQ,SAAS,OAE9B,GAAa,IACpB,EAAU,SAAW,EAAU,UAC/B,EAAU,MAAQ,EAAU,WAAW,CACvC,EAAU,IAAM,EAAQ,SAAS,EAGrC,EAAU,OAAS,EAAE,CAGzB,OAAO,GAGX,mBAAoB,SAAS,EAAO,EAAM,EAAgB,EAAM,CAC5D,IAAI,EAAS,EAAM,mBAAqB,EAAE,CAC/B,EACP,EAAM,EAAO,GAAK,EAClB,EAAS,EAAO,OAChB,EAAM,EAAO,EAAS,EAAI,EAC1B,EAAG,EAEP,GAAI,EAAe,OAGf,GAFA,EAAe,EAAe,EAAe,OAAS,GAElD,EACA,IAAK,EAAI,EAAG,EAAI,EAAO,OAAQ,IACvB,EAAO,GAAG,MAAQ,IAClB,EAAM,EAAI,QAIlB,IAAK,EAAI,EAAO,OAAS,EAAG,EAAI,GAAI,IAC5B,EAAO,GAAG,MAAQ,IAClB,EAAM,EAAI,GAM1B,KAAO,EAAM,GAAU,EAAM,KACzB,EAAQ,EAAO,MAET,CAAC,GAAQ,EAAM,MAAM,WAAW,EAAI,EAAK,WAAW,EACrD,GAAQ,EAAM,MAAM,WAAW,EAAI,EAAK,WAAW,GAEhD,GAAS,EAAE,QAAQ,EAAM,IAAK,EAAe,GAAK,MAM1D,GAAO,EAGX,OAAO,GAGX,YAAa,SAAS,EAAW,EAAM,CACnC,IAAI,EAAa,EAAU,WAEvB,EAAQ,KAAK,OAAO,GACpB,EAAO,EAAM,OAAO,EAAU,MAAO,EAAU,IAAK,KAAK,OAAS,SAAW,EAAU,SAAU,GAAM,CAAC,GAAG,MAE3G,EAAS,KAAK,OAAO,OACrB,EAAM,EAAO,GAAK,EAClB,EAAS,EAAU,OACnB,EAEJ,GAAI,KAAK,kBAAkB,CAAE,CACzB,IAAI,EAAY,KAAK,eAAe,CAChC,EAAkB,KAAK,iBAAiB,EAAU,CAClD,EAAe,KAAK,iBAAiB,EAAgB,CAEzD,GAAI,EAAO,SAAW,EAAG,CACrB,IAAI,EAAa,KAAK,yBAAyB,EAAM,EAAc,EAAW,CAE1E,GACA,IAGJ,EAAQ,EAAa,QAIrB,IAFC,IAAI,EAAM,KAAK,aAAa,EAAQ,EAAa,CAE3C,EAAM,EAAa,QAAU,EAAM,KAClC,EAAO,OAAS,IAChB,EAAO,KAAK,iBAAiB,EAAM,EAAc,EAAO,EAAK,EAAK,EAAK,EAGtE,IALqC,CAS1C,IAAM,CAAC,GAAQ,EAAa,GAAK,MAAM,WAAW,EAAI,EAAK,WAAW,EAC/D,GAAQ,EAAa,GAAK,MAAM,WAAW,EAAI,EAAK,WAAW,GAC7D,EAAO,IAAM,EAAa,GAAK,IAAK,CACpC,EAAQ,EAAa,GACpB,MAGV,GAAO,QAIb,KAAO,EAAa,GAAU,EAAa,KACzC,EAAQ,KAAK,mBAAmB,EAAO,EAAM,EAAQ,EAAK,CAE1D,GAAc,EACd,EAAQ,KAAK,OAAO,GAEhB,GAAC,GAAS,KAId,EAAS,EAAE,CACX,AAGI,EAHA,EACO,EAAM,UAAU,CAEhB,EAAM,UAAU,GAAK,CAcxC,OATI,IACA,EAAU,OAAS,CAAE,EAAM,IAAK,CAChC,EAAU,MAAQ,EAAM,MAAM,WAAW,CACzC,EAAU,IAAM,EAAM,IAAI,SAAS,CACnC,EAAU,SAAW,EAAM,MAAM,UACjC,EAAU,WAAa,EAAM,MAAM,WACnC,EAAU,aAAe,EAAM,QAAQ,IAGpC,CAAC,CAAC,GAGb,QAAS,SAAS,EAAW,CACzB,GAAI,IAAc,OACd,KAAK,SAAW,EACZ,KAAK,QAAQ,IAAI,EAAU,EAC3B,KAAK,UAAU,EAAW,KAAK,QAAQ,GAAG,MAG9C,OAAO,KAAK,UAIpB,OAAQ,SAAS,EAAW,CACxB,KAAK,gBAAgB,CAEhB,KAAK,cAAc,EAAU,EAC9B,KAAK,aAAa,EAAU,EAIpC,yBAA0B,SAAS,EAAM,EAAc,EAAY,CAI/D,IAAK,IAHD,EAAY,EACZ,EAAgB,EAAM,KAAK,QAAQ,EAAK,WAAW,CAAC,CAE/C,EAAI,EAAG,EAAI,EAAa,OAAQ,IAAK,CAC1C,IAAI,EAAiB,EAAM,KAAK,QAAQ,EAAa,GAAG,MAAM,WAAW,CAAC,CAC1E,GAAI,EAAgB,EAAgB,CAChC,IACA,SAGJ,GAAI,EAAc,SAAS,GAAK,EAAe,SAAS,EAAI,EAAa,EAAa,GAAG,MAAM,WAAY,CACrG,IACA,SAGN,GAAI,EAAc,SAAS,GAAK,EAAe,SAAS,EACpD,GAAc,EAAa,GAAG,MAAM,YACpC,EAAK,WAAW,CAAG,EAAa,GAAG,MAAM,WAAW,CAAE,CACtD,IACA,SAGH,MAEL,OAAO,GAGX,iBAAkB,SAAS,EAAM,EAAc,EAAO,EAAK,EAAK,EAAM,CAChE,GAAI,EAAa,EAAM,IACtB,EAAa,GAAK,MAAM,aAAe,EAAa,EAAM,GAAK,MAAM,WAAY,CAC5E,IAAI,EAAa,EAAa,EAAM,GAAK,MAAM,WAC3C,EAAQ,KAAK,OAAO,IAEpB,CAAC,GAAS,KACX,EAAO,MAGV,AAGI,EAHA,EACO,EAAM,UAAU,CAEhB,EAAM,UAAU,GAAK,CAGvC,OAAO,GAGZ,aAAc,SAAS,EAAQ,EAAc,CACzC,IAAI,EAAqB,EAUzB,OARA,EAAE,KAAK,EAAc,UAAW,CAC5B,GAAI,KAAK,MAAQ,EAAO,GACnB,MAAO,GAGZ,KACF,CAEK,GAGX,cAAe,UAAW,CAItB,IAAK,IAHD,EAAY,EAAE,CACd,EAAS,KAAK,OAET,EAAM,EAAG,EAAM,EAAO,OAAQ,IAC/B,EAAO,GAAK,oBACZ,EAAY,EAAU,OAAO,EAAO,GAAK,kBAAkB,EAInE,OAAO,GAGX,iBAAkB,SAAS,EAAW,CAGlC,IAAK,IAFD,EAAkB,EAAE,CAEf,EAAI,EAAG,EAAI,EAAU,OAAQ,IAAK,CAEvC,IAAK,IADD,EAAS,GACJ,EAAI,EAAG,EAAI,EAAgB,OAAQ,IACxC,GAAI,EAAU,GAAG,MAAQ,EAAgB,GAAG,IAAK,CAC7C,EAAS,GACT,MAIH,GACD,EAAgB,KAAK,EAAU,GAAG,CAI1C,OAAO,GAGX,iBAAkB,SAAS,EAAiB,CACvC,OAAO,EAAgB,KAAK,SAAS,EAAO,EAAQ,CACjD,IAAI,EAAiB,EAAM,MAAM,WAAW,CACxC,EAAkB,EAAO,MAAM,WAAW,CAC1C,EAAS,EAAM,KAAK,QAAQ,EAAe,CAAG,EAAM,KAAK,QAAQ,EAAgB,CAwBrF,OAtBI,IAAW,IACX,EAAS,EAAM,MAAM,WAAa,EAAO,MAAM,YAG/C,IAAW,IACX,EAAS,EAAe,SAAS,CAAG,EAAgB,SAAS,EAG7D,IAAW,IACP,EAAM,MAAM,WAAa,CAAC,EAAO,MAAM,YACnC,EAAS,IAGb,CAAC,EAAM,MAAM,WAAa,EAAO,MAAM,YACnC,EAAS,IAIjB,IAAW,IACX,EAAS,EAAE,EAAM,QAAQ,CAAC,OAAO,CAAG,EAAE,EAAO,QAAQ,CAAC,OAAO,EAG1D,GACT,EAGN,aAAc,SAAS,EAAW,CAC9B,IAAI,EAAW,EAAU,SACrB,EAAQ,KAAK,OAAO,EAAU,YAE7B,EAAM,yBAAyB,GAChC,EAAW,IAGf,KAAK,eAAiB,EAAE,CAMxB,IAAK,IAJD,EAAS,EAAM,OAAO,EAAU,MAAO,EAAU,IAAK,EAAU,GAAM,CACtE,EACA,EAEK,EAAa,EAAG,EAAa,EAAO,OAAQ,IAIjD,IAAK,IAHD,EAAQ,EAAO,GACf,EAAa,EAAM,WAEd,EAAY,EAAM,MAAM,MAAO,GAAa,EAAM,IAAI,MAAO,IAClE,EAAO,EAAW,GAAG,EAAU,CAE/B,EAAU,EAAK,QACf,EAAiB,EAAQ,CAEzB,KAAK,eAAe,KAAK,CACrB,MAAO,EAAK,WAAW,CACvB,IAAK,EAAK,SAAS,CACV,UACZ,CAAC,CAIN,EAAU,WACV,EAAU,EAAO,GAAG,MAAM,SAG9B,KAAK,QAAQ,EAAQ,EAGzB,cAAe,SAAS,EAAW,CAC/B,IAAI,EAAQ,GACR,EAAS,EAAU,OACnB,EAAc,KAAK,eAAe,CAClC,EAAK,EAAY,EAAS,EAAY,OAE1C,GAAI,CAAC,EAAO,IAAM,CAAC,EAAY,GAC3B,OAAO,EAGX,IAAI,EAAS,GAAG,CAEhB,IADA,EAAU,OAAS,EAAE,CAChB,EAAM,EAAG,EAAM,EAAQ,IACpB,EAAE,QAAQ,EAAY,GAAK,IAAK,EAAO,CAAG,KAC1C,EAAa,EAAY,GACzB,EAAS,EAAO,IAAI,EAAW,QAAQ,CACnC,EAAU,OAAO,QAAQ,EAAW,IAAI,GAAK,IAC7C,EAAU,OAAO,KAAK,EAAW,IAAI,EAkBjD,OAbI,EAAO,KACP,EAAO,SAAS,aAAa,CAEzB,EAAU,aACV,KAAK,QAAQ,EAAU,aAAa,CAEpC,KAAK,QAAQ,EAAO,MAAM,CAAC,GAAG,CAGlC,KAAK,eAAiB,EAAE,CACxB,EAAQ,IAGL,GAGX,QAAS,SAAS,EAAS,CACvB,IAAI,EAAY,KAAK,WAAW,CAC5B,EAAU,EAAM,KAAK,QAAQ,KAAK,SAAS,CAAE,EAAE,CAC/C,EAAQ,EAAQ,MAChB,EAAM,EAAQ,IAElB,OAAO,GAAa,GAAS,EAAQ,GAAW,EAAY,GAAO,GAAO,GAG9E,eAAgB,SAAS,EAAU,EAAM,CAIrC,OAHI,EAAS,iBACT,EAAO,EAAM,OAAO,EAAS,eAAe,CAAC,EAAK,EAE/C,GAGX,kBAAmB,SAAS,EAAkB,EAAU,EAAQ,CAC5D,IAAI,EAAQ,EAAiB,MACzB,EAEA,EAAS,WACT,EAAQ,CAAC,EAAM,EAGnB,EAAS,EAAM,OAAO,EAAS,MAAM,CACrC,EAAO,EAAQ,EAAM,EAGzB,gBAAiB,SAAS,EAAM,CAC5B,IAAI,EAAY,KAAK,iBACjB,EAAS,EAAE,CAEf,GAAI,EAAU,OAAQ,CAClB,IAAI,EAAgB,EAAK,WACrB,EAAe,KAAK,QAAQ,MAC5B,EAAe,EAAa,MAAQ,EAAa,cAAgB,aAAe,UAAY,OAC5F,EAAS,IAAiB,OAAS,KAAK,UAAY,KAAK,aACzD,EAAwB,EAAa,MAAQ,EAAa,cAAgB,aAAe,EAAI,EAC7F,EAAa,EAAO,EAAU,OAAS,EAAI,GAC3C,EAAW,EAAU,EAAU,OAAS,GACxC,EAAmB,EAAW,GAC9B,EAAgB,EAAkB,EAAG,EAIzC,IAFA,KAAK,kBAAkB,EAAkB,EAAU,EAAO,CAErD,EAAI,EAAU,OAAS,EAAG,GAAK,EAAG,IAKnC,IAJA,EAAa,EAAO,EAAI,GACxB,EAAW,EAAU,GACrB,EAAiB,EAEZ,EAAI,EAAG,EAAI,EAAW,OAAQ,IAI/B,GAHA,EAAmB,EAAW,GAC9B,EAAmB,EAAiB,GAAc,OAE9C,EAAmB,EAAgB,EAAgB,CACnD,KAAK,kBAAkB,EAAkB,EAAU,EAAO,CAE1D,WAEA,GAAkB,EAMlC,OAAO,GAGX,kBAAmB,SAAS,EAAM,EAAK,EAAO,EAAQ,CAClD,OAAO,EAAE,EAAK,CAAC,IAAI,CACT,OACD,MACE,QACC,SACX,CAAC,EAGN,kBAAmB,UAAW,CAC1B,KAAK,YAAY,QAAQ,CACzB,KAAK,YAAc,GAAG,EAG1B,gBAAiB,SAAS,EAAK,CACvB,GACA,KAAK,UAAU,OAAO,cAAgB,EAAM,KAAK,CAAC,QAAQ,CAE1D,KAAK,UAAY,KAAK,UAAU,OAAO,eAAiB,EAAM,KAAK,GAEnE,KAAK,UAAU,QAAQ,CACvB,KAAK,UAAY,GAAG,GAI5B,UAAW,SAAS,EAAS,EAAW,CACpC,IAAI,EAAgB,EAAQ,UACxB,EAAmB,EAAQ,aAC3B,EAAkB,EAAU,UAC5B,EAAqB,EAAU,aAC/B,EAAiB,EAAgB,EACjC,EAAS,EAET,AASI,EATA,EAAkB,EACT,EACF,EAAkB,EAAkB,EACvC,GAAoB,EACV,EAAiB,EAElB,EAGJ,EAEb,EAAU,UAAY,GAG9B,mBAAoB,SAAS,EAAS,CAEX,IAAI,EADV,EAAQ,IAAI,QAAQ,CACO,CAAC,QAAQ,EAEzB,IAAI,EADV,EAAQ,IAAI,mBAAmB,CACC,CAAC,QAAQ,EAG3D,EAAQ,SAAS,EAAoB,EAM9C,WAAY,SAAS,EAAU,EAAS,CACpC,IAAI,EAAU,KAAK,QACf,EAAW,EAAE,OAAO,EAAE,CAAE,EAAM,SAAU,EAAQ,iBAAiB,CACjE,EAAY,EAAS,UACrB,EAAO,GACP,EAAO,OAAO,EACd,EAAQ,CAAE,QAAS,EAAE,CAAE,MAAO,EAAG,CAEhC,IAAS,YACT,EAAM,QAAQ,OAAS,EAAM,OAAS,EACtC,GAAQ,cAAgB,EAAM,MAAQ,IAAM,EAAY,KACxD,EAAM,SACC,IAAS,WAChB,GAAQ,GAGZ,IAAI,EAAO,EAAM,SAAS,EAAM,OAAO,EAAS,EAAK,CAAE,EAAS,CAMhE,OAJI,EAAM,MAAQ,IACd,EAAO,EAAK,KAAK,EAAM,QAAQ,EAG5B,GAGX,eAAgB,SAAS,EAAO,CAC5B,IAAI,EAAY,EAAE,CACd,EAAU,KAAK,QAEnB,GAAI,CAAC,EAAQ,UACT,OAAO,EAGX,IAAK,IAAI,EAAM,EAAG,EAAM,EAAQ,UAAU,OAAQ,IAAO,CACrD,IAAI,EAAW,EAAQ,UAAU,GAC7B,EAAQ,EAAS,MACjB,EAAiB,EAAM,OAAO,EAAM,CAAC,EAAM,CAE3C,MAAkB,KAItB,CAAK,EAAS,WACV,EAAiB,CAAC,EAAe,EAKrC,IAAK,IAFD,EAAO,EAAS,WAAW,MAAM,CAE5B,EAAgB,EAAG,EAAgB,EAAe,OAAQ,IAAiB,CAChF,IAAI,EAAgB,KAEhB,EAAQ,EAAe,GAEtB,EAAS,iBACV,EAAQ,EAAM,OAAO,EAAS,eAAe,CAAC,EAAM,EAGxD,IAAK,IAAI,EAAY,EAAG,EAAY,EAAK,OAAQ,IAC7C,GAAI,EAAK,GAAW,IAAI,EAAS,eAAe,EAAI,EAAO,CACvD,EAAgB,EAAK,GACrB,MAIR,GAAI,IAAkB,KAAM,CACxB,IAAI,EAAgB,EAAM,OAAO,EAAS,eAAe,CAAC,EAAc,CACxE,EAAU,KAAK,CACX,MAAO,EAAS,MAChB,MAAO,EAAS,MAChB,KAAM,EAAS,KACf,KAAM,EAAM,OAAO,EAAS,cAAc,CAAC,EAAc,CAClD,QACP,MAAO,EACV,CAAC,IAId,OAAO,GAGX,aAAc,SAAS,EAAQ,CAC3B,IAAI,EAAc,GAElB,AACI,EAAO,OAAO,EAAE,CAGpB,IAAK,IAAI,EAAM,EAAG,EAAM,EAAO,KAAK,OAAQ,IACxC,GAAI,EAAO,KAAK,GAAK,OAAQ,CACzB,EAAc,EACd,MAIR,IAAI,EAAa,EAAO,KAAK,GAEzB,GAAe,GACf,EAAO,KAAK,OAAO,EAAa,EAAE,CAGtC,IAAI,EAAe,KAAK,aAAe,EAAO,EAAQ,UAAU,CAC5D,EAAY,KAAK,UAAY,EAAO,EAAQ,OAAO,CAEnD,KAAK,gBAAgB,EACrB,KAAK,eAAe,EAAU,CAGlC,KAAK,MAAQ,EAAE,oEAAsE,KAAK,KAAO,gCAAgC,CAEjI,IAAI,EAAW,EAAU,EAAU,OAAS,GAAG,OAE/C,KAAK,MAAM,KAAK,QAAQ,CAAC,OAAO,CAAC,OAAO,KAAK,YAAY,EAAc,EAAY,EAAS,CAAC,CAC7F,KAAK,MAAM,KAAK,QAAQ,CAAC,OAAO,CAAC,OAAO,KAAK,eAAe,EAAW,EAAS,CAAC,CACjF,KAAK,QAAQ,OAAO,KAAK,MAAM,CAE3B,KAAK,gBAAgB,EACrB,KAAK,qBAAqB,CAI1B,KAAK,WAAW,EACZ,EAAa,OAAS,GACtB,KAAK,mBAAmB,GAAK,cAC7B,EAAM,YAAY,EAAE,OAAO,CAAC,CAAG,IAEnC,KAAK,MAAM,KAAK,0CAA0C,CAAC,MAAO,EAAa,EAAa,OAAS,GAAG,OAAS,IAAO,IAAI,CAC5H,KAAK,MAAM,KAAK,yCAAyC,CAAC,MAAO,EAAa,EAAa,OAAS,GAAG,OAAS,IAAO,IAAI,EAG/H,KAAK,WAAW,EAGpB,eAAgB,UAAW,CACvB,OAAO,KAAK,QAAQ,SAAW,KAAK,UAAU,OAAS,GAAK,KAAK,sBAAsB,EAG3F,eAAgB,SAAS,EAAW,CAChC,IAAI,EAAY,EAAU,EAAU,OAAS,GACzC,EAAkB,KAAK,iBAAmB,EAAE,CAC5C,EAEJ,KAAK,oBAAsB,GAgB3B,IAAK,IAdD,EAAc,SAAS,EAAQ,EAAO,CACtC,IAAI,EAAY,EAAO,EAAQ,GAAG,OAAS,EAC3C,EAAa,EAQT,OANA,GACA,EAAc,EAAO,EAAQ,GAAG,GAChC,EAAc,EAAO,GAAO,GAAG,YAExB,EAAY,QAAU,GAEtB,IAIN,EAAgB,EAAU,OAAS,EAAG,GAAiB,EAAG,IAAiB,CAChF,IAAI,EAAO,GAYX,GAXI,EAAgB,GAAK,EAAY,EAAW,EAAc,GAC1D,EAAO,GACP,EAAc,GAGlB,EAAgB,GAAiB,EAAU,GAAe,OAAO,EAAE,CAE/D,EAAgB,EAAU,OAAS,GAAK,EAAU,GAAe,GAAG,KAAK,QAAU,IACnF,EAAU,GAAe,GAAG,KAAO,EAAU,EAAgB,IAG7D,EACA,MAYR,MARA,GAAgB,EAAU,OAAS,GAAK,EAAU,EAAU,OAAS,GAAG,OAAO,EAAU,GAAG,KAAK,OAAO,CAExG,KAAK,gBAAkB,EAElB,EAAgB,EAAgB,OAAS,GAAG,SAC7C,KAAK,oBAAsB,IAGxB,CACH,YAAa,GAAe,EACjB,YACd,EAGL,iBAAkB,UAAW,CAOzB,IAAK,IAND,EAAQ,EAAE,CACV,EACA,EACA,EACA,EAEK,EAAgB,EAAG,EAAgB,KAAK,gBAAgB,OAAQ,IACrE,EAAM,GAAiB,KAAK,gBAAgB,GAGhD,EAAmB,KAAK,eAAe,EAAM,CAC7C,EAAY,EAAiB,UAAU,OAAO,EAAiB,YAAY,CAC3E,EAAc,EAAiB,YAC/B,EAAW,EAAU,EAAU,OAAS,GAAG,OAE3C,OAAO,KAAK,QAEZ,IAAK,IAAI,EAAI,EAAa,EAAI,KAAK,UAAU,OAAQ,IACjD,KAAK,UAAU,GAAK,KAAK,UAAU,GAAG,OAAO,EAAU,EAAI,GAAa,CAU5E,GARA,KAAK,wBAA0B,KAAK,UAAU,GAAG,OAEjD,KAAK,MACA,KAAK,qBAAqB,CAAC,MAAM,CAAC,KAAK,QAAQ,CAC/C,OAAO,KAAK,OAAO,EAAW,EAAU,KAAK,WAAW,CAAC,CAAC,KAAK,KAAK,CAAC,CAE1E,KAAK,qBAAqB,CAEtB,EAAc,EACd,IAAK,EAAI,EAAG,EAAI,EAAa,IAAK,CAC9B,IAAI,EAAO,KAAK,MAAM,KAAK,mBAAqB,EAAI,IAAI,CAAC,MAAM,CAC3D,EAAU,SAAS,EAAK,KAAK,UAAU,CAAC,GAAG,CAAG,EAClD,EAAK,KAAK,UAAW,EAAQ,CAIrC,KAAK,gBAAgB,EAAW,KAAK,aAAa,CAClD,KAAK,OAAO,KAAK,cAAc,EAGnC,kBAAmB,UAAW,CAM1B,IALA,IAAI,EAAO,KACP,EAAe,EAAK,MAAM,aAAa,CACvC,EAAS,EAAK,QAAQ,KAAK,QAAQ,CAAC,aAAa,CACjD,EAAY,EAAK,QAAQ,WAAW,CAEjC,EAAK,qBAAuB,EAAS,EAAe,GACvD,EAAK,kBAAkB,CACvB,EAAS,EAAK,QAAQ,KAAK,QAAQ,CAAC,aAAa,EAIzD,sBAAuB,UAAW,CAC9B,IAAI,EAAK,KAAK,QACV,EAAe,EAef,OAdI,EAAG,GAAG,MAAM,OACL,IAEP,EAAgB,EAAG,QAAQ,CAG/B,EAAG,OAAO,OAAO,CACjB,EAAY,EAAG,QAAQ,CAEnB,GAAiB,GAIrB,EAAG,OAAO,GAAG,CACN,KAJH,EAAG,OAAO,GAAG,CACN,MAMnB,oBAAqB,UAAW,CAE5B,IAAI,EADO,KACW,MAAM,KAAK,sCAAsC,CAEvE,GAAI,CAAC,KAAK,iBAAkB,CACxB,KAAK,iBAAmB,EAAW,IAAI,SAAS,EAAO,EAAM,CAEzD,OADA,EAAE,EAAK,CAAC,KAAK,iBAAkB,EAAM,CAC9B,GACT,CAAC,SAAS,CAAC,SAAS,CACtB,OAGJ,EAAa,EAAW,SAAS,CAAC,SAAS,CAE3C,IAAK,IAAI,EAAI,EAAG,GAAK,EAAW,OAAQ,IACpC,EAAE,EAAW,GAAG,CAAC,KAAK,iBAAkB,KAAK,iBAAiB,GAAG,EAIzE,cAAe,UAAW,CAQtB,IAAK,IAPD,EAAO,KACP,EAAU,EAAK,QAAQ,KAAK,yBAAyB,CACrD,EAAS,EAAK,QAAQ,aAAa,CACnC,EAAY,EAAK,WAAa,EAAM,QAAQ,UAAU,GAAK,CAC3D,EAAe,EACf,EAAmB,KAAK,OAAS,OAAS,QAErC,EAAM,EAAG,EAAM,EAAQ,OAAQ,IACpC,GAAU,EAAY,EAAQ,GAAG,EAAI,CAAC,CAe1C,GAZI,EAAK,cACL,EAAe,EAAY,EAAK,YAAY,EAG5C,EAAK,aAAe,EAAY,EAAK,YAAY,CAAG,IACpD,EAAe,EAAY,EAAK,YAAY,EAG5C,EAAK,SACL,EAAK,QAAQ,KAAK,wBAAwB,CAAC,SAAS,mBAAmB,CAGvE,EAAK,aAAe,EAAK,YAAa,CACtC,IAAI,EAAkB,EAAK,YAAY,KAAK,QAAQ,CAAC,OAAO,CAAC,KAAK,KAAK,CAEvE,EAAK,YAAY,KAAK,KAAK,CAAC,OAAO,SAAS,EAAO,CAC/C,EAAE,KAAK,CAAC,OAAO,EAAgB,GAAG,EAAM,CAAC,QAAQ,CAAC,EACpD,CAGF,IACA,GAAU,GAGV,EAAK,SACL,GAAU,EAAY,EAAK,OAAO,EAGtC,IAAI,EAAa,EAAK,QAAQ,GAC1B,EAAkB,EAAM,QAAQ,oBAAkC,EAAZ,EAE1D,GAAI,KAAK,uBAAuB,GAExB,EAAS,EAAY,EACrB,EAAK,QAAQ,OAAO,EAAO,CAE3B,EAAK,QAAQ,OAAO,EAAY,EAAI,EAAE,CAGtC,EAAK,OAAO,CACZ,EAAK,MAAM,OAAO,EAAW,aAAa,CAE1C,IAAI,EAAa,EAAK,MAAM,KAAK,QAAQ,CACrC,EAAW,QACX,EAAW,OAAO,EAAK,QAAQ,KAAK,QAAQ,CAAC,GAAG,aAAa,CAKrE,EAAK,QACD,EAAW,YAAc,EAAW,YAAc,GAClD,EAAK,MAAM,SAAS,gBAAgB,CACpC,EAAK,YAAY,IAAI,WAAa,EAAkB,EAAiB,SAAS,EAAK,YAAY,UAAU,CAAC,IAAI,UAAY,EAAmB,SAAS,CAAE,GAAG,CAAC,EAE5J,EAAK,YAAY,IAAI,WAAa,EAAkB,IAAI,CAExD,EAAW,aAAe,EAAW,aAAe,GAAK,EAAW,aAAe,EAAK,QAAQ,SAAS,qBAAqB,CAAC,QAAQ,CACvI,EAAK,MAAM,SAAS,gBAAgB,CAEpC,EAAK,MAAM,YAAY,gBAAgB,EAI/C,EAAK,uBAAuB,EAGhC,YAAa,SAAS,EAAc,EAAY,EAAU,CACtD,IAAI,EAAQ,EAAE,gCAAgC,CAE9C,KAAK,YAAc,EAAY,EAAa,OAAQ,EAAY,EAAS,CACzE,KAAK,YAAc,KAAK,aAAa,EAAc,EAAW,CAE9D,IAAI,EAAY,KAAK,YAAY,KAAK,aAAa,CAWnD,OATI,EAAU,QACV,EAAU,QAAQ,KAAK,CAAC,SAAS,yBAAyB,CAG1D,KAAK,WAAW,GAChB,EAAM,SAAS,kBAAkB,CACjC,EAAM,SAAS,YAAc,KAAK,mBAAmB,CAAG,UAAU,EAG/D,EAAE,EAAM,CAAC,OAAO,KAAK,YAAY,IAAI,KAAK,YAAY,CAAC,KAAK,OAAO,CAAC,QAAQ,CAAC,EAGxF,eAAgB,SAAS,EAAW,EAAU,CAK1C,MAJA,MAAK,MAAQ,KAAK,OAAO,EAAW,EAAU,KAAK,WAAW,CAAC,CAE/D,KAAK,QAAU,GAAS,CAEjB,EAAE,gCAAgC,CAAC,OAAO,KAAK,MAAM,IAAI,KAAK,QAAQ,CAAC,KAAK,OAAO,CAAC,QAAQ,CAAC,EAGxG,UAAW,UAAW,CAClB,IAAI,EAAO,KAEX,KAAK,QAAQ,GAAG,SAAW,EAAI,UAAW,CACtC,EAAM,WAAW,EAAK,YAAY,KAAK,4BAA4B,CAAE,KAAK,WAAW,CACrF,EAAK,MAAM,UAAU,KAAK,UAAU,CAChC,EAAK,gBAAgB,EACrB,EAAK,mBAAmB,EAE9B,CAEF,IAAI,EAAgB,EAAM,cAAc,KAAK,QAAS,CAClD,eAAgB,SAAS,EAAG,CACxB,OAAO,EAAE,EAAE,MAAM,OAAO,CAAC,QAAQ,0BAA0B,CAAC,OAAS,GAE5E,CAAC,CAEE,GAAiB,EAAc,UAE/B,KAAK,eAAiB,EAEtB,KAAK,QAAU,EAAc,cAE7B,EAAc,QAAQ,KAAK,SAAU,SAAS,EAAG,CAC7C,EAAM,WAAW,EAAK,YAAY,KAAK,4BAA4B,CAAE,CAAC,EAAE,OAAO,EAAE,CACjF,EAAK,MAAM,UAAU,CAAC,EAAE,OAAO,EAAE,CAC7B,EAAK,gBAAgB,EACrB,EAAK,mBAAmB,EAE9B,GAIV,oBAAqB,UAAW,CAC5B,IAAI,EAAS,EAAE,CACX,EAAS,KAAK,QAAQ,MACtB,EAAY,KAAK,QAAQ,UAI7B,GAFA,EAAS,GAAU,EAAO,UAAY,EAAO,UAAY,EAAE,CAEvD,GAAa,EAAO,OACpB,IAAK,IAAI,EAAM,EAAG,EAAS,EAAU,OAAQ,EAAM,EAAQ,IACvD,IAAK,IAAI,EAAW,EAAG,EAAc,EAAO,OAAQ,EAAW,EAAa,IACpE,EAAU,GAAK,OAAS,EAAO,IAC/B,EAAO,KAAK,EAAU,GAAK,CAM3C,KAAK,iBAAmB,GAG5B,kBAAmB,SAAS,EAAO,EAAO,EAAO,CAC7C,OAAO,EAA8B,OAAQ,EAAO,EAAO,EAAM,EAGrE,qBAAsB,SAAS,EAAW,EAAO,EAAU,EAAO,EAAO,EAAa,CAClF,OAAO,EAA0B,UAAW,EAAW,EAAO,EAAU,EAAO,EAAO,EAAY,EAGtG,kBAAmB,UAAW,CAC1B,IAAI,EAAS,KAAK,QAAQ,MAC1B,OAAO,GAAU,EAAO,UAAY,EAAO,YAAc,cAG7D,iBAAkB,UAAW,CACzB,OAAO,KAAK,QAAQ,OAAS,KAAK,QAAQ,MAAM,MAGpD,qBAAsB,UAAW,CAC7B,OAAO,KAAK,iBAAiB,QAAU,KAAK,mBAAmB,GAAK,YAGxE,kBAAmB,SAAS,EAAW,EAAO,EAAU,EAAO,CAC3D,OAAO,EAA0B,OAAQ,EAAW,EAAO,EAAU,EAAM,EAG/E,mBAAoB,UAAW,CAC3B,OAAO,MAGX,eAAgB,UAAW,CACvB,KAAK,QACA,KAAK,cAAc,CACnB,WAAW,KAAK,CAChB,YAAY,aAAa,EAGlC,QAAS,UAAW,CAChB,IAAI,EAAO,KAEX,EAAO,GAAG,QAAQ,KAAK,KAAK,CAE5B,AAEI,EAAK,iBADL,cAAc,EAAK,cAAc,CACZ,MAGrB,EAAK,QACL,EAAM,QAAQ,EAAK,MAAM,CACzB,EAAK,MAAM,QAAQ,EAGnB,EAAK,SACL,EAAK,OAAO,iBAAiB,CAAC,SAAS,CACvC,EAAK,OAAO,QAAQ,EAGxB,EAAK,OAAS,KACd,EAAK,MAAQ,KACb,EAAK,QAAU,KACf,EAAK,MAAQ,KACb,EAAK,YAAc,KACnB,EAAK,YAAc,KACnB,EAAK,OAAS,KACd,EAAK,YAAc,KACnB,EAAK,UAAY,MAGrB,aAAc,UAAW,CACrB,OAAO,EAAM,YAAY,CAAC,UAAU,UAGxC,cAAe,SAAS,EAAM,EAAY,EAAO,CAC7C,IAAI,EACA,EAAQ,KAAK,OAAO,GACpB,EAAO,EAAM,OAAO,EAAM,EAAM,EAAO,GAAM,CAAC,GAAG,MAEjD,QAAc,GAmBV,OAfJ,KAAK,kBAAkB,CACjB,EAGN,KAAK,sBAAsB,CACtB,EAAM,yBAAyB,EAIhC,EAAa,EAAM,YAAY,EAAQ,EAAK,MAAQ,EAAK,gBAAiB,GAAM,CACzE,EAAW,MAAM,GAJxB,EAAa,EAAM,YAAY,EAAM,wBAAwB,CAAG,EAAG,GAAK,CACjE,EAAW,GAAG,EAAK,MAAM,EAM/B,EAAM,yBAAyB,EAIhC,EAAa,EAAM,YAAY,EAAQ,EAAI,EAAM,yBAAyB,CAAG,EAAG,EAAM,CAC/E,EAAQ,EAAW,MAAM,CAAG,EAAW,GAAG,EAAK,MAAM,GAJ5D,EAAa,EAAM,YAAY,EAAK,gBAAiB,GAAK,CACnD,EAAW,MAAM,GAQpC,cAAe,SAAS,EAAM,EAAY,EAAO,CAC7C,IAAI,EACA,EAAQ,KAAK,OAAO,GACpB,EAAO,EAAM,OAAO,EAAM,EAAM,EAAO,GAAM,CAAC,GAAG,MACjD,EAEA,QAAc,KAAK,OAAO,OAAS,GAqB/B,OAjBJ,KAAK,kBAAkB,CACjB,EAGN,KAAK,sBAAsB,CACtB,EAAM,yBAAyB,EAIhC,EAAyB,EAAM,wBAAwB,CACvD,EAAa,EAAM,YAAY,EAAyB,EAAI,EAAK,gBAAiB,EAAuB,CAElG,EAAQ,EAAW,OAAO,CAAG,EAAW,GAAG,EAAK,gBAAgB,GANvE,EAAa,EAAM,YAAY,EAAG,GAAK,CAChC,EAAW,GAAG,EAAK,MAAM,EAQ/B,EAAM,yBAAyB,EAIhC,EAAa,EAAM,YAAY,EAAG,EAAM,CACjC,EAAQ,EAAW,OAAO,CAAG,EAAW,GAAG,EAAK,MAAM,GAJ7D,EAAa,EAAM,YAAY,EAAK,gBAAiB,GAAK,CACnD,EAAW,OAAO,GAQrC,qBAAsB,UAAW,CAC7B,MAAO,EAAE,EAGb,sBAAuB,UAAW,GAIlC,yBAA0B,SAAS,EAAO,CACtC,OAAO,GAGX,eAAgB,SAAS,EAAS,EAAM,EAAO,CAC3C,IAAI,EAAQ,EACR,EAAa,SAAS,EAAI,CACtB,IAAI,EAAY,EAAG,GACf,EAAW,EAAG,GACd,EAAS,EAAiB,EAE9B,GAAI,EAAW,CACX,GAAS,EACT,OAGJ,GAAI,CAAC,GAAY,EAAS,SAAW,EAAG,CACpC,GAAS,EACT,OAGJ,IAAK,EAAI,EAAG,EAAI,EAAS,OAAQ,IAC7B,EAAU,EAAS,GACnB,EAAkB,EAAQ,GAEtB,GAAmB,EAAgB,GAC/B,CAAC,EAAgB,GAAG,IAAS,EAAgB,GAAG,GAAM,SAAW,EACjE,GAAS,EAAgB,OAEzB,EAAW,EAAQ,CAGvB,GAAS,GAOzB,OAFA,EAAW,EAAQ,CAEZ,GAGX,OAAQ,SAAS,EAAW,EAAU,EAAU,CAM5C,IAAK,IALD,EAAO,KACP,EAAW,MAAM,EAAS,CAAC,MAAM,CAAC,MAAM,IAAI,CAC5C,EAAgB,EAAE,CAClB,EAEK,EAAgB,EAAG,EAAgB,EAAU,OAAQ,IAAiB,CAC3E,IAAI,EAAQ,EAAU,GAClB,EAAa,EAEjB,IAAK,EAAW,EAAG,EAAW,EAAM,OAAQ,IAAY,CACpD,IAAI,EAAa,EAAM,GACnB,EAAY,EAAW,WAAa,GACpC,EAAO,EAAW,KAClB,EAAU,EAAK,eAAe,EAAY,OAAO,CAErD,GAAc,EAEV,EAAW,SACX,EAAY,6BAGZ,GAAY,EAAU,QAAQ,eAAe,GAAK,KAClD,EAAO,wCAA0C,EAAO,WAG5D,EAAK,EAAa,IAAY,+BAAiC,EAAY,cAAgB,EAAU,KAAO,EAAO,SAI3H,IAAK,EAAW,EAAG,EAAW,EAAU,IACpC,EAAc,KAAK,EAAK,GAAU,CAOtC,OAJI,EAAW,EACJ,GAAG,CAGP,EAAE,kCAAoC,EAAM,EAAc,CAAG,SAAS,EAGjF,aAAc,SAAS,EAAc,EAAY,CAM7C,IAAK,IALD,EAAO,KACP,EAAgB,EAAE,CAClB,EACA,EAEK,EAAmB,EAAG,EAAmB,EAAa,OAAQ,IAAoB,CACvF,IAAI,EAAQ,EAAa,GACrB,EAAK,EAAE,CAEX,IAAK,EAAc,EAAG,EAAc,EAAM,OAAQ,IAAgB,CAC9D,IAAI,EAAS,EAAM,GACf,EAAU,EAAK,eAAe,EAAQ,UAAW,UAAU,CAE/D,EAAG,KAAK,iBAAmB,EAAO,SAAW,GAAW,8BAAgC,EAAO,WAAa,IAAM,KAAO,EAAO,KAAO,QAAQ,CAGnJ,EAAc,KAAK,EAAG,KAAK,GAAG,CAAC,CAGnC,IAAI,EAAkB,EAAE,CAExB,GAAI,EAAY,CACZ,IAAI,EAAY,EAAa,EAAa,OAAS,GAC/C,EAAK,EAAE,CACP,EAAc,EAAW,YAE7B,IAAK,EAAc,EAAG,EAAc,EAAU,OAAQ,IAClD,EAAG,KAAK,gCAAkC,EAAU,GAAa,WAAa,IAAM,MAAQ,EAAc,EAAY,EAAY,CAAG,UAAY,QAAQ,CAG7J,EAAgB,KAAK,EAAG,KAAK,GAAG,CAAC,CAcrC,MAXA,GAAS,EACL,wEAEQ,EAAM,EAAc,CACpB,EAAY,EAAiB,6BAA6B,CAC9D,eAEP,CAED,EAAM,+BAA+B,EAAQ,CAAC,WAAW,CAAC,CAEnD,GAGX,sBAAuB,SAAS,EAAO,EAAO,EAAK,EAAU,CACzD,IAAI,EAAgB,KAAK,QAAQ,SAAS,eACtC,EAAW,EAAM,KAAK,QAAQ,EAAM,CAAC,SAAS,GAAK,EAAM,KAAK,QAAQ,EAAI,CAAC,SAAS,CACpF,EAkBI,OAhBJ,OAAO,GAAmB,SACnB,EAAM,OAAO,EAAe,EAAO,EAAO,EAAM,EAG3D,GAAa,EAAc,OAAS,EAAQ,EAAQ,EAAQ,EAAc,GAAK,EAAQ,EAAM,SAAS,EAAO,IAAI,EAAE,MAAM,CAErH,GAAY,EACL,EAAY,EAAQ,EAAc,OAClC,EACA,EAAY,EAAQ,EAAc,GAAK,EAAQ,EAAM,SAAS,EAAK,IAAI,CAAG,EAAQ,EAAc,QAEvG,EAAY,EAAY,EAAQ,EAAc,GAAK,EAAQ,EAAM,SAAS,EAAO,IAAI,CAAG,EAAQ,EAAc,GAAK,EAE/G,EACO,EAAY,EAAM,SAAS,EAAK,IAAI,CAEpC,EAAY,EAAM,SAAS,EAAK,IAAI,CAAG,EAAQ,EAAc,GAAK,EAAQ,EAAM,SAAS,EAAK,IAAI,IAKrH,eAAgB,SAAS,EAAM,CAC3B,IAAI,EAAO,KACP,EAAiB,EAAK,QAAQ,cAC9B,EAAoB,CAAC,CAAC,IAAmB,IAAmB,IAAQ,EAAe,SACnF,EAEA,IACA,EAAK,gBAAgB,EAAK,CAE1B,EAAW,EAAe,gBAAkB,IAE5C,AAEI,EAAK,iBADL,cAAc,EAAK,cAAc,CACZ,MAGpB,MAAM,EAAS,GAChB,EAAK,cAAgB,YAAY,KAAK,gBAAgB,KAAK,EAAM,EAAK,CAAE,EAAS,IAK7F,gBAAiB,SAAS,EAAM,CAC5B,IAAI,EAAc,IAAI,KAClB,EAAe,KAAK,QAAQ,cAAc,UAAY,EAE1D,KAAK,QAAQ,KAAK,EAAM,EAAa,CAAC,YAAY,EAAa,CAE3D,KAAK,QAAU,KAAK,OAAO,OAAS,GACpC,KAAK,eAAe,EAAa,EAAK,EAI9C,eAAgB,SAAS,EAAa,EAAM,CACxC,IAAI,EAAO,KACP,EAAK,EAAK,QACV,EAAiB,EAAK,QAAQ,cAC9B,EAAe,EAAe,UAAY,EAC1C,EAAmB,EAAe,iBAClC,EAAW,EAAK,QAAQ,SACxB,EAAgB,EAEf,IAID,IAAqB,IAAW,IAChC,EAAiB,EAAM,SAAS,OAAO,EAAa,EAAS,CAC7D,EAAc,EAAM,SAAS,QAAQ,EAAa,EAAY,mBAAmB,CAAE,EAAe,EAGtG,EAAK,QAAS,GAAgB,CAC1B,IAAI,EACA,EAAQ,EAAY,MACpB,EAAM,EAAY,IAElB,EAAY,WACZ,EAAM,IAAI,KAAK,EAAI,SAAS,CAAG,IAAO,GAAK,GAAK,GAAK,EAAE,EAGvD,GAAS,GAAe,GAAO,IAC/B,EAAM,EAAY,IAElB,EAAG,KAAK,aAAe,EAAM,IAAI,CAAC,SAAS,EAAa,GAE9D,GAET,CAAC,CAEF,SAAS,EAAgB,EAAU,EAAO,EAAK,CAC3C,IAAI,EACA,EACA,EACA,EACA,EAEJ,IAAK,EAAM,EAAS,OAAS,EAAG,GAAO,EAAG,IACtC,EAAQ,EAAW,EAAS,GAAK,CACjC,EAAa,EAAM,MACnB,EAAW,EAAM,IAEjB,EAAW,GAAc,GAAS,GAAY,GAE1C,GAAa,GAAc,GAAS,GAAY,GAAS,GAAS,GAAc,GAAO,KACnF,EAAa,IACb,EAAQ,GAGR,EAAW,IACX,EAAM,IAKlB,OAAO,EAAc,EAAU,EAAO,EAAI,CAG9C,SAAS,EAAW,EAAc,CAC9B,MAAO,CACH,MAAO,EAAa,MACpB,IAAK,EAAa,IAClB,UAAW,EAAa,UACxB,aAAc,EAAa,aAC9B,CAGL,SAAS,EAAc,EAAU,EAAW,EAAS,CAGjD,IAAK,IAFD,EAAS,EAAE,CAEN,EAAM,EAAG,EAAM,EAAS,OAAQ,IAAO,CAC5C,IAAI,EAAQ,EAAW,EAAS,GAAK,EAEhC,EAAM,MAAQ,GAAa,EAAM,IAAM,GAAe,EAAM,OAAS,GAAa,EAAM,KAAO,IAChG,EAAO,KAAK,EAAS,GAAK,CAIlC,OAAO,EAGX,SAAS,EAAc,EAAe,CAClC,OAAO,EAAe,EAAc,CAGxC,SAAS,EAAW,EAAe,CAC/B,OAAO,EAAe,EAAc,CAGxC,IAAI,EAAQ,SAAS,EAAO,CACxB,IAAI,EAAQ,KACR,EAAU,EAAM,QAChB,EACA,EACA,EACA,EACA,EAEJ,GAAI,UAAU,SAAW,EAGrB,IAFA,EAAQ,EAAM,aAAa,EAAM,CAE5B,EAAI,EAAG,EAAI,EAAQ,OAAQ,IAC5B,EAAK,EAAQ,GAAG,GAChB,EAAY,EAAQ,GAAG,QACvB,EAAQ,EAAG,KAAK,EAAM,CAElB,IACA,EAAW,EAAU,EAAM,CAC3B,EAAM,EAAI,EAAS,GACnB,EAAM,EAAI,EAAS,GACnB,EAAM,EAAI,EAAS,SAI3B,EAAM,EAAI,UAAU,GACpB,EAAM,EAAI,UAAU,GACpB,EAAM,EAAI,UAAU,GAGxB,EAAM,EAAI,EAAM,cAAc,EAAM,EAAE,CACtC,EAAM,EAAI,EAAM,cAAc,EAAM,EAAE,CACtC,EAAM,EAAI,EAAM,cAAc,EAAM,EAAE,EAG1C,EAAM,UAAY,CACd,aAAc,SAAS,EAAO,CAW1B,MAVA,KAAiB,OAEb,EAAM,OAAO,EAAE,EAAI,MACnB,EAAQ,EAAM,OAAO,EAAG,EAAE,EAG9B,EAAQ,EAAM,QAAQ,KAAM,GAAG,CAC/B,EAAQ,EAAM,aAAa,CAC3B,EAAQ,EAAM,YAAY,IAAU,EAE7B,GAGX,cAAe,SAAS,EAAO,CAC3B,OAAQ,EAAQ,GAAK,MAAM,EAAM,CAAI,EAAM,EAAQ,IAAO,IAAM,GAGpE,eAAgB,UAAW,CACvB,IAAI,EAAQ,KACZ,OAAO,EAAK,KAAK,KAAQ,EAAM,EAAI,EAAM,EAAI,KAAQ,EAAM,EAAI,EAAM,EAAI,KAAQ,EAAM,EAAI,EAAM,EAAE,EAGvG,OAAQ,UAAW,CAGf,OAFY,KACgB,gBAAgB,CACnB,KAEhC,CAED,EAAM,QAAU,CAAC,CACT,GAAI,+CACJ,QAAS,SAAS,EAAO,CACrB,MAAO,CACH,SAAS,EAAM,GAAI,GAAG,CAAE,SAAS,EAAM,GAAI,GAAG,CAAE,SAAS,EAAM,GAAI,GAAG,CACzE,EAER,CAAE,CACC,GAAI,0BACJ,QAAS,SAAS,EAAO,CACrB,MAAO,CACH,SAAS,EAAM,GAAI,GAAG,CAAE,SAAS,EAAM,GAAI,GAAG,CAAE,SAAS,EAAM,GAAI,GAAG,CACzE,EAER,CAAE,CACC,GAAI,0BACJ,QAAS,SAAS,EAAO,CACrB,MAAO,CACH,SAAS,EAAM,GAAK,EAAM,GAAI,GAAG,CACjC,SAAS,EAAM,GAAK,EAAM,GAAI,GAAG,CACjC,SAAS,EAAM,GAAK,EAAM,GAAI,GAAG,CACpC,EAER,CACJ,CAED,EAAM,YAAc,CAChB,KAAM,SAAU,MAAO,SAAU,MAAO,SACxC,MAAO,SAAU,KAAM,SAAU,MAAO,SACxC,MAAO,SAAU,KAAM,SAAU,SAAU,SAC3C,SAAU,SAAU,SAAU,SAAU,UAAW,SACnD,WAAY,SAAU,QAAS,SAAU,QAAS,SAClD,QAAS,SAAU,KAAM,SAAU,UAAW,SAC9C,KAAM,SAAU,MAAO,SAAU,YAAa,SAC9C,OAAQ,SAAU,MAAO,SAAU,MAAO,SAC1C,UAAW,SAAU,UAAW,SAAU,WAAY,SACtD,UAAW,SAAU,YAAa,SAAU,KAAM,SAClD,UAAW,SAAU,MAAO,SAAU,QAAS,SAC/C,OAAQ,SAAU,WAAY,SAAU,KAAM,SAC9C,MAAO,SAAU,OAAQ,SAAU,UAAW,SAC9C,OAAQ,SAAU,KAAM,SAAU,KAAM,SACxC,OAAQ,SAAU,IAAK,SAAU,UAAW,SAC5C,OAAQ,SAAU,OAAQ,SAAU,QAAS,SAC7C,UAAW,SAAU,UAAW,SAAU,KAAM,SAChD,UAAW,SAAU,IAAK,SAAU,KAAM,SAC1C,OAAQ,SAAU,UAAW,SAAU,OAAQ,SAC/C,MAAO,SAAU,MAAO,SAAU,WAAY,SAC9C,OAAQ,SAAU,YAAa,SAClC,CAED,SAAS,EAAe,EAAe,CAGnC,IAAK,IAFD,EAAU,EAAE,CAEP,EAAM,EAAG,EAAM,EAAc,OAAQ,IAAO,CACjD,IAAI,EAAQ,EAAc,GACtB,EAAa,EAAW,EAAM,CAC9B,EAAS,KAET,EAAM,sBAAwB,EAAW,IAAM,EAAW,MAAQ,EAAM,uBACxE,EAAW,IAAM,EAAW,MAAQ,EAAM,sBAG9C,IAAK,IAAI,EAAI,EAAG,EAAe,EAAQ,OAAQ,EAAI,EAAc,IAAK,CAClE,IAAI,EAAe,EAAW,MAAQ,EAAQ,GAAG,KAAS,EAAW,UAAY,EAAQ,GAAG,aAE5F,GAAI,EAAW,MAAQ,EAAQ,GAAG,OAAS,EAAW,UAAY,EAAQ,GAAG,WAAa,EAAa,CAEnG,EAAS,EAAQ,GAEb,EAAO,IAAM,EAAW,MACxB,EAAO,IAAM,EAAW,KAGxB,EAAO,aAAe,EAAW,eACjC,EAAO,aAAe,EAAW,cAGrC,OAIH,IACD,EAAS,CAAE,UAAW,EAAW,UAAW,aAAc,EAAW,aAAc,MAAO,EAAW,MAAO,IAAK,EAAW,IAAK,OAAQ,EAAE,CAAE,CAC7I,EAAQ,KAAK,EAAO,EAGxB,EAAO,OAAO,KAAK,EAAM,CAG7B,OAAO,EAGX,SAAS,EAA8B,EAAM,EAAO,EAAO,EAAO,CAC7D,IAAI,EAAgB,EAAE,CAkBvB,OAhBC,EAAE,KAAK,EAAO,SAAS,EAAO,EAAM,CACjC,IAAI,EAAY,EAAK,UAAY,eAAiB,EAAK,UAAY,cAE/D,EAAM,CACN,KAAM,EAAK,KACA,YACd,CAEG,GAAS,CAAC,EAAK,WACf,EAAI,GAAQ,EAA8B,EAAM,EAAK,QAAS,EAAO,EAAM,CAE3E,EAAI,GAAQ,EAEhB,EAAc,KAAK,EAAI,EACzB,CAEK,EAGX,SAAS,EAA0B,EAAM,EAAW,EAAO,EAAU,EAAO,EAAO,EAAa,CAC5F,IAAI,EAAW,EAAU,GACrB,EAAgB,EAAE,CAEtB,GAAI,EAAU,CACV,GAAI,GAAS,EACT,EAAE,KAAK,EAAO,SAAS,EAAO,EAAM,CAC5B,GAAS,CAAC,EAAK,WACf,EAAK,GAAQ,EAA0B,EAAM,EAAW,EAAK,QAAS,EAAU,EAAK,QAAS,EAAO,EAAY,CAEjH,EAAK,GAAQ,EAA0B,EAAM,EAAW,KAAM,EAAU,KAAM,KAAM,EAAY,EAEtG,CACF,EAAgB,MACb,CACH,IAAI,EAAO,EAAS,WAAW,MAAM,CAErC,EAAO,EAAK,OAAO,SAAS,EAAM,CAC9B,IAAI,EAAkB,EAAM,OAAO,EAAS,qBAAqB,CAAC,EAAK,CAEvE,OAAO,GAAoB,MAAyC,IAAoB,GAC1F,CAEF,IAAK,IAAI,EAAY,EAAG,EAAY,EAAK,OAAQ,IAAa,CAC1D,IAAI,EAAQ,EAAM,OAAO,EAAS,eAAe,CAAC,EAAK,GAAW,CAC9D,EAAM,CACN,KAAM,EAAS,CACX,KAAM,EAAM,WAAW,EAAM,OAAO,EAAS,cAAc,CAAC,EAAK,GAAW,CAAC,CAC7E,MAAO,EAAM,OAAO,EAAS,eAAe,CAAC,EAAK,GAAW,CAC7D,MAAO,EAAS,MAChB,MAAO,EAAS,MAChB,KAAM,EAAS,KACR,QACV,CAAC,CACF,UAAW,2BACE,cACN,QACV,CAGD,EAAI,GAAQ,EAA0B,EAAM,EAAU,MAAM,EAAE,CAAE,EAAO,EAAU,EAAO,EAAO,EAAM,CAErG,EAAc,KAAK,EAAI,EAG/B,OAAO,EAEX,OAAO,EAGX,SAAS,EAAc,EAAO,CAC1B,OAAO,SAAS,EAAM,CAClB,GAAI,MAAM,QAAQ,EAAK,EAAI,aAAgB,EAAM,KAAK,gBAAiB,CACnE,IAAK,IAAI,EAAM,EAAG,EAAM,EAAK,OAAQ,IACjC,GAAI,EAAK,IAAQ,EACb,MAAO,GAGf,MAAO,GAEX,OAAO,GAAQ,GAIvB,IAAI,EAAsB,gBAC1B,SAAS,EAAiB,EAAM,CAC5B,EAAK,UAAY,EAAK,UAAU,QAAQ,EAAqB,GAAG,CAAG,cAGvE,EAAE,OAAO,EAAG,cAAe,CACR,gBACH,aACA,aACK,kBACF,gBAClB,CAAC,GAEH,OAAO,MAAM,OAAO,CACvB,IAAA,EAAe"}