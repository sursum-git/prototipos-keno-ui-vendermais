{"version":3,"file":"kendo.scheduler.yearview.min.js","names":[],"sources":["../../src/kendo.scheduler.yearview.js"],"sourcesContent":["import \"./kendo.scheduler.view.js\";\nimport \"./kendo.multiviewcalendar.js\";\nimport \"./kendo.tooltip.js\";\n\nexport const __meta__ = {\n    id: \"scheduler.yearview\",\n    name: \"Scheduler Year View\",\n    category: \"web\",\n    description: \"The Scheduler Year View\",\n    depends: [ \"scheduler.view\", \"multiviewcalendar\", \"tooltip\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        encode = kendo.htmlEncode,\n        SchedulerView = ui.SchedulerView,\n        extend = $.extend,\n        template = kendo.template,\n        firstDayOfYear = kendo.date.firstDayOfYear,\n        firstDayOfMonth = kendo.date.firstDayOfMonth,\n        lastDayOfMonth = kendo.date.lastDayOfMonth,\n        DAY = \"day\",\n        NAVIGATE = \"navigate\",\n        KEYDOWN = \"keydown\",\n        ACTIVATE = \"activate\",\n        SHOW = \"show\",\n        HIDE = \"hide\",\n        CLICK = \"click\",\n        FOCUS = \"focus\",\n        DOT = \".\",\n        NS = \".kendoYearView\";\n\n    var YearViewStyles = {\n        layout: \"k-scheduler-layout k-scheduler-layout-flex k-scheduler-yearview\",\n        body: \"k-scheduler-body\",\n        tooltip: \"k-scheduler-tooltip\",\n        indicator: \"k-day-indicator\",\n        event: \"k-tooltip-event\",\n        hidden: \"k-hidden\",\n        calendarView: \"k-calendar-view\",\n        scheduler: \"k-scheduler\"\n    };\n\n    var TOOLTIP_TEMPLATE = template(({ date, events, messages }) =>\n        \"<div class='k-tooltip-title k-text-center'>\" +\n            `<div class='k-month'>${encode(kendo.format('{0:MMM}', date))}</div>` +\n            `<div tabindex='0' class='k-link k-day k-text-primary'>${encode(kendo.format('{0:dd}', date))}</div>` +\n        \"</div>\" +\n        (events.length ?\n            \"<div class='k-tooltip-events-container'>\" +\n                \"<div class='k-tooltip-events'>\" +\n                    events.map((event) =>\n                        `<div class=\"k-tooltip-event k-event\" title=\"${encode(event.title)}\" ${event.resources[0] ? `${kendo.attr(\"style-background-color\")}=\"${encode(event.resources[0].color)}\" ${kendo.attr(\"style-border-color\")}=\"${encode(event.resources[0].color)}\"` : ''}>` +\n                            `<div class='k-event-title k-text-ellipsis'>${encode(event.title)}</div>` +\n                            \"<span class='k-spacer'></span>\" +\n                            `<span class='k-event-time'>${encode(kendo.format('{0:t}', event.start))}</span>` +\n                        \"</div>\"\n                    ).join('') +\n                \"</div>\" +\n            \"</div>\" :\n            `<div class='k-no-data k-text-center'>${encode(messages.noData)}</div>`)\n        );\n\n    var YearView = SchedulerView.extend({\n        init: function(element, options) {\n            var that = this;\n\n            SchedulerView.fn.init.call(that, element, options);\n\n            that._yearRange();\n\n            that._templates();\n\n            that._layout();\n\n            that._initCalendar();\n\n            that._initTooltip();\n        },\n\n        options: {\n            title: \"Year\",\n            name: \"year\",\n            months: 12,\n            startDate: null,\n            messages: {\n                noData: \"No events on this date.\"\n            },\n            selectedDateFormat: \"{0:yyyy}\",\n            selectedShortDateFormat: \"{0:yyyy}\",\n            selectedMobileDateFormat: \"{0:yyyy}\",\n            tooltipTemplate: TOOLTIP_TEMPLATE\n        },\n\n        name: \"year\",\n\n        events: [ NAVIGATE ],\n\n        _yearRange: function() {\n            var that = this,\n                options = that.options,\n                tempEnd;\n\n            that._startDate = options.startDate ? firstDayOfMonth(options.startDate) : firstDayOfYear(options.date);\n            that._startDate.setFullYear(options.date.getFullYear());\n\n            tempEnd = new Date(that._startDate);\n            tempEnd.setMonth(tempEnd.getMonth() + options.months);\n            that._endDate = tempEnd;\n        },\n\n        _templates: function() {\n            var options = this.options,\n                settings = extend({}, kendo.Template, options.templateSettings);\n\n            this.tooltipTemplate = kendo.template(options.tooltipTemplate, settings);\n        },\n\n        _layout: function() {\n            var that = this,\n                styles = YearViewStyles;\n\n            that.content = $(\"<div/>\").addClass(styles.layout);\n            that.element.append(that.content);\n\n            that.body = $(\"<div/>\").addClass(styles.body);\n            that.content.append(that.body);\n        },\n\n        _initCalendar: function() {\n            var that = this,\n                options = that.options,\n                calendarElement = $(\"<div/>\"),\n                calendar, calEl;\n\n            that.body.append(calendarElement);\n\n            that.calendar = calendar = new ui.MultiViewCalendar(calendarElement, {\n                views: options.months,\n                value: that.startDate(),\n                showViewHeader: true,\n                footer: false\n            });\n\n            calEl = calendar.element;\n\n            if (!options.selectable) {\n                that._disableCalendarSelection();\n            }\n\n            calendar.value(null);\n\n            calendar.header.toggleClass(YearViewStyles.hidden);\n\n            calEl.on(CLICK + NS, \"td[role='gridcell']\", that._calendarCellClick.bind(that));\n            calEl.on(KEYDOWN + NS, DOT + YearViewStyles.calendarView, that._calendarKeydown.bind(that));\n            calendar.bind(NAVIGATE, that._calendarNavigate.bind(that));\n        },\n\n        _calendarCellClick: function(ev) {\n            var that = this,\n                target = that.calendar.selectable.value().first();\n\n            ev.preventDefault();\n            ev.stopPropagation();\n\n            that._displayTooltip(target);\n        },\n\n        _calendarKeydown: function(ev) {\n            var that = this,\n                keys = kendo.keys,\n                keyCode = ev.keyCode;\n\n            if (keyCode == keys.ENTER || keyCode == keys.SPACEBAR) {\n                ev.preventDefault();\n\n                that._displayTooltip(that.calendar.selectable.value().first());\n            }\n        },\n\n        _calendarNavigate: function(ev) {\n            var that = this,\n                calendar = ev.sender,\n                isPrevious = calendar._firstViewValue < that.startDate(),\n                navigationDate = isPrevious ? that.previousDate() : that.nextDate();\n\n            that.trigger(NAVIGATE, { view: \"year\", date: navigationDate });\n\n            that._focusCellOnNavigate();\n        },\n\n        _focusCellOnNavigate: function() {\n            var that = this,\n                calendar = that.calendar || that.element.find(\".k-calendar\").getKendoMultiViewCalendar(),\n                isPrevious,\n                focusDate;\n\n            if (!calendar) {\n                return;\n            }\n\n            isPrevious = calendar._firstViewValue < that.startDate();\n            focusDate = isPrevious ? that.lastDateInRange() : that.nextDate();\n            calendar._focusCell(calendar._cellByDate(focusDate), true);\n        },\n\n        _disableCalendarSelection: function() {\n            var that = this;\n\n            if (!that.calendar) {\n                return;\n            }\n\n            that.calendar.value(null);\n            that.calendar.element.off(KEYDOWN, that.calendar._move);\n        },\n\n        _initTooltip: function() {\n            var that = this,\n                tooltipElement = that.content,\n                tooltipTemplate = that._buildTooltipTemplate.bind(that);\n\n            that.tooltip = new ui.Tooltip(tooltipElement, {\n                filter: \".k-calendar td[role='gridcell']\",\n                showOn: CLICK,\n                position: \"right\",\n                content: tooltipTemplate,\n                width: 220,\n                show: () => setTimeout(() => kendo.applyStylesFromKendoAttributes(that.tooltip.popup.element, [\"background-color\", \"border-color\"]))\n            });\n\n            that._initTooltipPopup();\n\n            that.tooltip.bind(SHOW, that._tooltipShow.bind(that));\n\n            that.tooltip.bind(HIDE, that._tooltipHide.bind(that));\n        },\n\n        _initTooltipPopup: function() {\n            var that = this,\n                tooltip = that.tooltip;\n\n            if (!that.tooltip) {\n                return;\n            }\n\n            tooltip._initPopup();\n\n            tooltip.popup.element.addClass(YearViewStyles.tooltip);\n\n            tooltip.popup.element.on(CLICK + NS, \".k-tooltip-title > .k-day\", that._tooltipTitleClick.bind(that));\n\n            tooltip.popup.element.on(KEYDOWN + NS, that, that._tooltipKeydown.bind(that));\n        },\n\n        _buildTooltipTemplate: function() {\n            var that = this,\n                date = kendo.parseDate(that.calendar.current()),\n                data = that.eventsByDate || [];\n\n            data = data.filter(function(dateData) {\n                return kendo.toString(new Date(dateData.value), \"d\") == kendo.toString(date, \"d\");\n            });\n\n            if (data && data[0]) {\n                data[0].items.map(function(event) {\n                    event.resources = that.eventResources(event) || [];\n                });\n            }\n\n            return that.tooltipTemplate({\n                date: date,\n                events: data[0] ? data[0].items : [],\n                messages: that.options.messages\n            });\n        },\n\n        _inverseTooltipEventsColor: function() {\n            var that = this;\n\n            $.each(that.tooltip.popup.element.find(DOT + YearViewStyles.event), function() {\n                that._inverseEventColor($(this));\n            });\n        },\n\n        _tooltipShow: function(ev) {\n            var that = this,\n                tooltip = ev.sender;\n\n            tooltip.refresh();\n\n            that._inverseTooltipEventsColor();\n\n            tooltip.popup.element.find(\":kendoFocusable\").first().trigger(FOCUS);\n        },\n\n        _tooltipHide: function() {\n            var calendar = this.calendar;\n\n            if (!calendar) {\n                return;\n            }\n\n            calendar.focus();\n        },\n\n        _tooltipTitleClick: function() {\n            this._navigateToDayView();\n        },\n\n        _tooltipKeydown: function(ev) {\n            var that = this,\n                element = that.tooltip.popup.element,\n                target = $(ev.target),\n                keys = kendo.keys,\n                keyCode = ev.keyCode,\n                shiftKey = ev.shiftKey;\n\n            if (target.is(\".k-day\") && keyCode == keys.ENTER || keyCode == keys.SPACEBAR) {\n                ev.preventDefault();\n\n                that._navigateToDayView();\n            }\n\n            if (keyCode == keys.TAB) {\n                var firstFocusable = element.find(\":kendoFocusable\").first();\n                var lastFocusable = element.find(\":kendoFocusable\").last();\n\n                if (shiftKey && target.is(firstFocusable)) {\n                    lastFocusable.trigger(FOCUS);\n                    ev.preventDefault();\n                } else if (target.is(lastFocusable)) {\n                    firstFocusable.trigger(FOCUS);\n                    ev.preventDefault();\n                }\n            }\n        },\n\n        _navigateToDayView: function() {\n            var dayViewEnabled = $.grep(this.options.views, function(view) {\n                return ($.isPlainObject(view) && view.type == \"kendo.ui.DayView\") || view === DAY;\n            }).length;\n\n            if (dayViewEnabled) {\n                this.trigger(NAVIGATE, { view: DAY, date: this.calendar.current() });\n            }\n        },\n\n        _displayTooltip: function(target) {\n            var that = this;\n\n            if (!target.length) {\n                return;\n            }\n\n            if (!that.options.selectable) {\n                target.removeClass(\"k-selected\");\n            }\n\n            setTimeout(function() {\n                that.tooltip.show(target);\n            }, 50);\n        },\n\n        _renderEventIndicators: function() {\n            var that = this,\n                calendar = that.calendar,\n                current,\n                cell;\n\n            calendar.element.find(\".\" + YearViewStyles.indicator).remove();\n\n            that.eventsByDate.forEach(function(date) {\n                current = calendar._currentView.toDateString(new Date(date.value));\n                cell = calendar.element[0].querySelector(\"[data-value='\" + current + \"']\");\n\n                if (date.items.length) {\n                    $(\"<span/>\").addClass(YearViewStyles.indicator).appendTo(cell);\n                }\n            });\n        },\n\n        _groupEventsByDate: function(events) {\n            var eventsByDate = [],\n                eventsFormatted;\n\n            if (!events.length) {\n                return [];\n            }\n\n            eventsFormatted = events.map(function(event) {\n                event.formattedDate = event.start.toDateString();\n                return event;\n            });\n\n            eventsByDate = new kendo.data.Query(eventsFormatted)\n                .sort([\n                    { field: \"start\", dir: \"asc\" },\n                    { field: \"end\", dir: \"desc\" }\n                ])\n                .group({\n                    field: \"formattedDate\"\n                })\n                .toArray();\n\n            return eventsByDate;\n        },\n\n        _resourceBySlot: function() {\n            return {};\n        },\n\n        lastDateInRange: function() {\n            var end = new Date(this.previousDate());\n\n            end.setMonth((end.getMonth() - 1) + this.options.months);\n\n           return lastDayOfMonth(end);\n        },\n\n        nextDate: function() {\n            return kendo.date.nextYear(this._startDate);\n        },\n\n        previousDate: function() {\n            return kendo.date.previousYear(this._startDate);\n        },\n\n        startDate: function() {\n            return this._startDate;\n        },\n\n        endDate: function() {\n            return this._endDate;\n        },\n\n        moveToEvent: function() {\n            return false;\n        },\n\n        constrainSelection: function() {\n            return false;\n        },\n\n        inRange: function() {\n            return true;\n        },\n\n        select: function(selection) {\n            this.clearSelection();\n\n            if (selection.start >= this.startDate() && selection.start < this.endDate()) {\n                this.calendar.value(selection.start);\n            } else {\n                this.calendar.value(this.calendar._firstViewValue);\n                selection.start = selection.end = this.calendar.value();\n            }\n\n            this.current(this.calendar.selectable.value()[0]);\n        },\n\n        selectionByElement: function(cell) {\n            if (!cell.length) {\n                return;\n            }\n\n            cell = $(cell);\n\n            return {\n                index: this.calendar._index,\n                start: kendo.calendar.toDateObject(cell),\n                end: kendo.calendar.toDateObject(cell),\n                isAllDay: false,\n                uid: 0\n            };\n        },\n\n        current: function(candidate) {\n            if (candidate !== undefined) {\n                this._current = candidate;\n            } else {\n                return this._current;\n            }\n        },\n\n        render: function(events) {\n            var that = this;\n\n            that._cachedEvents = events;\n\n            that.eventsByDate = that._groupEventsByDate(events) || [];\n\n            that._renderEventIndicators();\n\n            that.trigger(ACTIVATE);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.tooltip) {\n                that.tooltip.destroy();\n                that.tooltip = null;\n            }\n\n            if (that.calendar) {\n                that.calendar.destroy();\n                that.calendar = null;\n            }\n\n            if (that.element) {\n                that.content.remove();\n                that.element.off(NS);\n            }\n\n            SchedulerView.fn.destroy.call(this);\n        }\n    });\n\n    extend(true, ui, {\n        YearView: YearView\n    });\n\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}