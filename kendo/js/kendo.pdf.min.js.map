{"version":3,"file":"kendo.pdf.min.js","names":[],"sources":["../../src/pdf/pako.js","../../src/pdf/core.js","../../src/pdf/mixins.js","../../src/kendo.pdf.js"],"sourcesContent":["import \"../kendo.core.js\";\n\n(function () {\n\n    kendo.pdf = kendo.pdf || {};\n\n    kendo.pdf.supportsDeflate = function() {\n        return window.pako && typeof window.pako.deflate == \"function\";\n    };\n\n    kendo.pdf.deflate = function(data) {\n        return window.pako.deflate(data);\n    };\n\n})();\n\n","\nimport \"./pako.js\";\nimport \"../kendo.core.js\";\nimport \"../kendo.color.js\";\nimport \"../kendo.drawing.js\";\n(function($) {\n\n})(window.kendo.jQuery);","import \"./core.js\";\n\n(function ($, undefined) {\n\nkendo.PDFMixin = {\n    extend: function(proto) {\n        proto.events.push(\"pdfExport\");\n        proto.options.pdf = this.options;\n        proto.saveAsPDF = this.saveAsPDF;\n        proto._drawPDF = this._drawPDF;\n        proto._drawPDFShadow = this._drawPDFShadow;\n    },\n    options: {\n        fileName  : \"Export.pdf\",\n        proxyURL  : \"\",\n\n        // paperSize can be an usual name, i.e. \"A4\", or an array of two Number-s specifying the\n        // width/height in points (1pt = 1/72in), or strings including unit, i.e. \"10mm\".  Supported\n        // units are \"mm\", \"cm\", \"in\" and \"pt\".  The default \"auto\" means paper size is determined\n        // by content.\n        paperSize : \"auto\",\n\n        // Export all pages, if applicable\n        allPages: false,\n\n        // True to reverse the paper dimensions if needed such that width is the larger edge.\n        landscape : false,\n\n        // An object containing { left, top, bottom, right } margins with units.\n        margin    : null,\n\n        // Optional information for the PDF Info dictionary; all strings except for the date.\n        title     : null,\n        author    : null,\n        subject   : null,\n        keywords  : null,\n        creator   : \"Kendo UI PDF Generator v.\" + kendo.version,\n\n        // Creation Date; defaults to new Date()\n        date      : null\n    },\n\n    saveAsPDF: function() {\n        var progress = new $.Deferred();\n        var promise = progress.promise();\n        var args = { promise: promise };\n\n        if (this.trigger(\"pdfExport\", args)) {\n            return;\n        }\n\n        var options = this.options.pdf;\n        options.multiPage = options.multiPage || options.allPages;\n\n        this._drawPDF(progress)\n        .then(function(root) {\n            return kendo.drawing.exportPDF(root, options);\n        })\n        .done(function(dataURI) {\n            kendo.saveAs({\n                dataURI: dataURI,\n                fileName: options.fileName,\n                proxyURL: options.proxyURL,\n                forceProxy: options.forceProxy,\n                proxyTarget: options.proxyTarget\n            });\n\n            progress.resolve();\n        })\n        .fail(function(err) {\n            progress.reject(err);\n        });\n\n        return promise;\n    },\n\n    _drawPDF: function(progress) {\n        var promise = new $.Deferred();\n\n        kendo.drawing.drawDOM(this.wrapper)\n        .done(function(group) {\n            var args = {\n                page: group,\n                pageNumber: 1,\n                progress: 1,\n                totalPages: 1\n            };\n\n            progress.notify(args);\n            promise.resolve(args.page);\n        })\n        .fail(function(err) {\n            promise.reject(err);\n        });\n\n        return promise;\n    },\n\n    _drawPDFShadow: function(settings, drawOptions) {\n        settings = settings || {};\n        var wrapper = this.wrapper;\n        var shadow = $(\"<div class='k-pdf-export-shadow'>\");\n\n        // Content will be allowed to take up to 200\" if no width is given.\n        if (settings.width) {\n            shadow.css({\n                width: settings.width,\n                overflow: \"visible\"\n            });\n        }\n\n        wrapper.before(shadow);\n        shadow.append(settings.content || wrapper.clone(true, true));\n\n        var defer = $.Deferred();\n\n        /* https://github.com/telerik/kendo/issues/4790 -- We need to\n         * allow a small timeout so that the browser finalizes the\n         * layout of any images here.  Another option would be to pass\n         * forcePageBreak: \"-\" to drawDOM, but that would make it\n         * clone the content as well and look for page breaks;\n         * needless work, so better do it here.\n         */\n        setTimeout(function(){\n            var promise = kendo.drawing.drawDOM(shadow, drawOptions);\n            promise.always(function() {\n                shadow.remove();\n            }).then(function(){\n                defer.resolve.apply(defer, arguments);\n            }).fail(function(){\n                defer.reject.apply(defer, arguments);\n            }).progress(function(){\n                defer.progress.apply(defer, arguments);\n            });\n        }, 15);\n\n        return defer.promise();\n    }\n};\n\n})(window.kendo.jQuery);\n\n","import \"./kendo.core.js\";\nimport \"./kendo.drawing.js\";\nimport \"./pdf/core.js\";\nimport \"./pdf/mixins.js\";\n\nexport const __meta__ = {\n    id: \"pdf\",\n    name: \"PDF export\",\n    description: \"PDF Generation framework\",\n    mixin: true,\n    category: \"framework\",\n    depends: [ \"core\", \"drawing\" ]\n};\n"],"mappings":";wjBAEC,UAAY,CAET,MAAM,IAAM,MAAM,KAAO,EAAE,CAE3B,MAAM,IAAI,gBAAkB,UAAW,CACnC,OAAO,OAAO,MAAQ,OAAO,OAAO,KAAK,SAAW,YAGxD,MAAM,IAAI,QAAU,SAAS,EAAM,CAC/B,OAAO,OAAO,KAAK,QAAQ,EAAK,KAGpC,ECTH,SAAS,EAAG,IAEV,OAAO,MAAM,OAAO,ECLtB,SAAU,EAAG,EAAW,CAEzB,MAAM,SAAW,CACb,OAAQ,SAAS,EAAO,CACpB,EAAM,OAAO,KAAK,YAAY,CAC9B,EAAM,QAAQ,IAAM,KAAK,QACzB,EAAM,UAAY,KAAK,UACvB,EAAM,SAAW,KAAK,SACtB,EAAM,eAAiB,KAAK,gBAEhC,QAAS,CACL,SAAY,aACZ,SAAY,GAMZ,UAAY,OAGZ,SAAU,GAGV,UAAY,GAGZ,OAAY,KAGZ,MAAY,KACZ,OAAY,KACZ,QAAY,KACZ,SAAY,KACZ,QAAY,4BAA8B,MAAM,QAGhD,KAAY,KACf,CAED,UAAW,UAAW,CAClB,IAAI,EAAW,IAAI,EAAE,SACjB,EAAU,EAAS,SAAS,CAC5B,EAAO,CAAW,UAAS,CAE3B,SAAK,QAAQ,YAAa,EAAK,CAInC,KAAI,EAAU,KAAK,QAAQ,IAsB3B,MArBA,GAAQ,UAAY,EAAQ,WAAa,EAAQ,SAEjD,KAAK,SAAS,EAAS,CACtB,KAAK,SAAS,EAAM,CACjB,OAAO,MAAM,QAAQ,UAAU,EAAM,EAAQ,EAC/C,CACD,KAAK,SAAS,EAAS,CACpB,MAAM,OAAO,CACA,UACT,SAAU,EAAQ,SAClB,SAAU,EAAQ,SAClB,WAAY,EAAQ,WACpB,YAAa,EAAQ,YACxB,CAAC,CAEF,EAAS,SAAS,EACpB,CACD,KAAK,SAAS,EAAK,CAChB,EAAS,OAAO,EAAI,EACtB,CAEK,IAGX,SAAU,SAAS,EAAU,CACzB,IAAI,EAAU,IAAI,EAAE,SAkBpB,OAhBA,MAAM,QAAQ,QAAQ,KAAK,QAAQ,CAClC,KAAK,SAAS,EAAO,CAClB,IAAI,EAAO,CACP,KAAM,EACN,WAAY,EACZ,SAAU,EACV,WAAY,EACf,CAED,EAAS,OAAO,EAAK,CACrB,EAAQ,QAAQ,EAAK,KAAK,EAC5B,CACD,KAAK,SAAS,EAAK,CAChB,EAAQ,OAAO,EAAI,EACrB,CAEK,GAGX,eAAgB,SAAS,EAAU,EAAa,CAC5C,IAAuB,EAAE,CACzB,IAAI,EAAU,KAAK,QACf,EAAS,EAAE,oCAAoC,CAG/C,EAAS,OACT,EAAO,IAAI,CACP,MAAO,EAAS,MAChB,SAAU,UACb,CAAC,CAGN,EAAQ,OAAO,EAAO,CACtB,EAAO,OAAO,EAAS,SAAW,EAAQ,MAAM,GAAM,GAAK,CAAC,CAE5D,IAAI,EAAQ,EAAE,UAAU,CAsBxB,OAbA,WAAW,UAAU,CACH,MAAM,QAAQ,QAAQ,EAAQ,EAAY,CAChD,OAAO,UAAW,CACtB,EAAO,QAAQ,EACjB,CAAC,KAAK,UAAU,CACd,EAAM,QAAQ,MAAM,EAAO,UAAU,EACvC,CAAC,KAAK,UAAU,CACd,EAAM,OAAO,MAAM,EAAO,UAAU,EACtC,CAAC,SAAS,UAAU,CAClB,EAAM,SAAS,MAAM,EAAO,UAAU,EACxC,EACH,GAAG,CAEC,EAAM,SAAS,EAE7B,GAEE,OAAO,MAAM,OAAO,YCvIC,CACpB,GAAI,MACJ,KAAM,aACN,YAAa,2BACb,MAAO,GACP,SAAU,YACV,QAAS,CAAE,OAAQ,UAAW,CACjC"}