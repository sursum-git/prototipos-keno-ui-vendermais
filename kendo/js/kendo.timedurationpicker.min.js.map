{"version":3,"file":"kendo.timedurationpicker.min.js","names":[],"sources":["../../src/kendo.timedurationpicker.js"],"sourcesContent":["import \"./kendo.timeselector.js\";\nimport \"./kendo.icons.js\";\n\nexport const __meta__ = {\n    id: \"timedurationpicker\",\n    name: \"TimeDurationPicker\",\n    category: \"web\",\n    description: \"The TimeDurationPicker widget allows the end user to select a time range stored in milliseconds.\",\n    docsCategory: \"editors\",\n    depends: [ \"timeselector\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        html = kendo.html,\n        map = $.map,\n        extend = $.extend,\n        mediaQuery = kendo.mediaQuery,\n        OPEN = \"open\",\n        FOCUS = \"focus\",\n        CLOSE = \"close\",\n        CHANGE = \"change\",\n        CLICK = \"click\",\n        SPAN = \"<span></span>\",\n        KEYDOWN = \"keydown\",\n        FOCUSOUT = \"focusout\",\n        FOCUSED = \"k-focus\",\n        MOUSEUP = \"mouseup\",\n        MOUSEDOWN = \"mousedown\",\n        PASTE = \"paste\",\n        NS = \".kendoTimeDurationPicker\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        HOVEREVENTS = \"mouseenter\" + NS + \" mouseleave\" + NS,\n        STRING = \"string\",\n        INPUT = \"input\",\n        HOVER = \"k-hover\",\n        STATEDISABLED = \"k-disabled\",\n        ARIA_HIDDEN = \"aria-hidden\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        ARIA_READONLY = \"aria-readonly\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        STATEINVALID = \"k-invalid\",\n        MASKCHAR = \"_\",\n        caret = kendo.caret,\n        keys = kendo.keys,\n        NS = \".kendoTimeDurationPicker\";\n        html = kendo.html;\n\n    var defaultColumns = {\n        \"hours\": {\n            name: \"hours\",\n            format: \"## hours\",\n            divider: 3600000,\n            min: 0,\n            max: 23,\n            step: 1\n        },\n        \"minutes\": {\n            name: \"minutes\",\n            format: \"## mins\",\n            divider: 60000,\n            min: 0,\n            max: 59,\n            step: 1\n        },\n        \"seconds\": {\n            name: \"seconds\",\n            format: \"## sec\",\n            divider: 1000,\n            min: 0,\n            max: 59,\n            step: 1\n        },\n        \"milliseconds\": {\n            name: \"milliseconds\",\n            format: \"### msec\",\n            min: 0,\n            max: 999,\n            step: 1\n        },\n        \"days\": {\n            format: \"### days\",\n            name: \"days\",\n            divider: 86400000,\n            min: 0,\n            max: 365,\n            step: 1\n        }\n    };\n\n    function convertToMsec(value) {\n        return ((value.days || 0) * 86400000) + ((value.hours || 0) * 3600000) + ((value.minutes || 0) * 60000) + ((value.seconds || 0) * 1000) + (value.milliseconds || 0);\n    }\n\n    function getTimeParts(value) {\n        var rest;\n        var days = Math.floor(value / 86400000);\n        rest = value % 86400000;\n        var hours = Math.floor(rest / 3600000);\n        rest = value % 3600000;\n        var minutes = Math.floor(rest / 60000);\n        rest = value % 60000;\n        var seconds = Math.floor(rest / 1000);\n        rest = value % 1000;\n\n        return {\n            days: days,\n            hours: hours,\n            minutes: minutes,\n            seconds: seconds,\n            milliseconds: rest\n        };\n    }\n\n    function normalizeColumns(columns) {\n        return map(columns, function(column) {\n            column = typeof column === STRING ? { name: column } : column;\n            var extended = extend(true, {}, defaultColumns[column.name], column);\n            extended.selectorFormat = \"{0:\" + \"0\".repeat(extended.format.match(/#/g).length) + \"}\";\n            return extended;\n        });\n    }\n\n    var TimeDurationPicker = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            options = options || {};\n\n            Widget.fn.init.call(that, element, options);\n\n            that._columns = normalizeColumns(options.columns);\n            that.options.columns = that._columns;\n            that.options.readonly = options.readonly !== undefined ? options.readonly : Boolean(that.element.attr(\"readonly\"));\n            that.options.enable = options.enable !== undefined ? options.enable : !(Boolean(that.element.is(\"[disabled]\") || $(element).parents(\"fieldset\").is(':disabled')));\n            that.options.inputMode = options.inputMode || that.element.attr(\"inputmode\") || \"text\";\n\n            that.bigScreenMQL = mediaQuery(\"large\");\n            if (that.options.adaptiveMode == \"auto\") {\n                that.bigScreenMQL.onChange(()=> {\n                    if (that._timeSelector) {\n                        if (that._timeSelector.popup && that._timeSelector.popup.wrapper) {\n                            that._timeSelector.popup.wrapper.remove();\n                        }\n                        that._timeSelector.destroy();\n                        that._timeSelector = null;\n                    }\n\n                    that._popupView();\n                });\n            }\n\n            that._wrapper();\n            that._button();\n            that._applyCssClasses();\n            that._input();\n            that._popupView();\n\n            that._buildMask();\n            that._validation();\n            that._editable({\n                readonly: that.options.readonly,\n                disable: !that.options.enable\n            });\n            that._ariaLabel(that._timeSelector._listsContainer);\n            if (that.options.value) {\n                that.value(options.value);\n                that._old = that._maskedInput.val();\n            }\n            that._canUpdateLast = true;\n\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"TimeDurationPicker\",\n            columns: [],\n            separator: \",\",\n            shortcuts: [],\n            value: null,\n            adaptiveMode: \"none\",\n            adaptiveTitle: null,\n            adaptiveSubtitle: null,\n            size: undefined,\n            fillMode: undefined,\n            rounded: undefined,\n            messages: {\n                set: \"Set\",\n                cancel: \"Cancel\",\n                days: \"Days\",\n                hours: \"Hours\",\n                minutes: \"Minutes\",\n                milliseconds: \"Milliseconds\",\n                seconds: \"Seconds\"\n            }\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            CHANGE\n        ],\n\n        destroy: function() {\n            var that = this;\n\n            that.wrapper.off(NS);\n            that._maskedInput.off(NS);\n            if (that._timeSelector) {\n                that._timeSelector.destroy();\n                that._timeSelector = null;\n            }\n\n\n            if (that.bigScreenMQL) {\n                that.bigScreenMQL.destroy();\n            }\n        },\n\n        value: function(value) {\n            var that = this;\n\n            if (value === undefined) {\n                return that._value;\n            }\n\n            if (typeof value === \"number\") {\n                value = parseInt(value);\n            } else {\n                value = null;\n            }\n\n            that._value = value;\n            that.element.val(that._value);\n            that._timeSelector._value = that._value;\n            that._updateValueFromTimeSelector();\n        },\n\n        _toggleHover: function(e) {\n            $(e.currentTarget).toggleClass(HOVER, e.type === \"mouseenter\");\n        },\n\n        _editable: function(options) {\n            var that = this,\n                disable = options.disable,\n                readonly = options.readonly,\n                element = that._maskedInput.add(that.element).off(NS),\n                wrapper = that.wrapper.off(NS);\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                if (element && element.length) {\n                    element.removeAttr(DISABLED);\n                    element.removeAttr(READONLY);\n                }\n                element.attr(ARIA_DISABLED, false)\n                       .attr(ARIA_READONLY, false);\n\n                that._attachHandlers();\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly)\n                       .attr(ARIA_DISABLED, disable)\n                       .attr(ARIA_READONLY, readonly);\n            }\n        },\n\n        readonly: function(readonly) {\n            this._editable({\n                readonly: readonly === undefined ? true : readonly,\n                disable: false\n            });\n        },\n\n        enable: function(enable) {\n            this._editable({\n                readonly: false,\n                disable: !(enable = enable === undefined ? true : enable)\n            });\n        },\n\n        _popupView: function() {\n            var that = this;\n            var options = that.options;\n\n            if (!that._timeSelector) {\n                that._timeSelector = new kendo.ui.TimeSelector(that._maskedInput, {\n                    id: that.element.attr(\"id\") + \"_timeSelector\",\n                    anchor: that.wrapper,\n                    adaptiveMode: options.adaptiveMode,\n                    adaptiveTitle: options.adaptiveTitle,\n                    adaptiveSubtitle: options.adaptiveSubtitle,\n                    columns: options.columns,\n                    shortcuts: options.shortcuts,\n                    value: options.value,\n                    size: options.adaptiveMode != \"auto\" || that.bigScreenMQL.mediaQueryList.matches ? options.size : \"large\",\n                    fillMode: options.fillMode,\n                    rounded: options.rounded,\n                    messages: options.messages,\n                    focus: function() {\n                        that._maskedInput.trigger(\"focus\");\n                        that._selectNearestSection(that._lastCaret || 0);\n                    },\n                    close: function(e) {\n                        if (that.trigger(CLOSE)) {\n                            e.preventDefault();\n                        } else {\n                            that._maskedInput.attr(ARIA_EXPANDED, false);\n                            that._timeSelector._listsContainer.attr(ARIA_HIDDEN, true);\n                        }\n                    },\n                    open: function(e) {\n                        if (that.trigger(OPEN)) {\n                            e.preventDefault();\n                        } else {\n                            that._maskedInput.attr(ARIA_EXPANDED, true);\n                            that._timeSelector._listsContainer.attr(ARIA_HIDDEN, false);\n                            that._lastCaret = caret(that._maskedInput)[0];\n                            if (that._lastCaret === that._maskedInput.val().length) {\n                                that._lastCaret = 0;\n                            }\n                        }\n                    },\n                    change: function(value) {\n                        that._value = value;\n                        that._updateValueFromTimeSelector();\n                        that._removeInvalidState();\n                        that.trigger(CHANGE);\n                    }\n                });\n            }\n        },\n\n        _button: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                button;\n\n            button = element.next(\"button.k-input-button\");\n\n            if (!button[0]) {\n                button = $(html.renderButton('<button unselectable=\"on\" tabindex=\"-1\" class=\"k-input-button\" aria-label=\"select\"></button>', {\n                    icon: \"clock-arrow-rotate\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: \"none\",\n                })).insertAfter(element);\n            }\n\n            that._button = button.attr({\n                \"role\": \"button\"\n            });\n        },\n\n        _buildMask: function() {\n            var columns = this.options.columns;\n            var format;\n            var toAdd = \"\";\n            var part;\n            var currentPartLength = 0;\n\n            this._emtpyMask = \"\";\n            this._maskParts = [];\n\n            for (var i = 0; i < columns.length; i++) {\n                part = {};\n                format = columns[i].format;\n\n                if (i) {\n                    toAdd = this.options.separator;\n                }\n\n                toAdd += format.replace(/#/g, '_');\n                this._emtpyMask += toAdd;\n                part.end = this._emtpyMask.length - 1;\n                part.mask = format.replace(/#/g, '_');\n                part.symbolsLength = part.mask.match(/_/g).length;\n                part.start = this._emtpyMask.indexOf(part.mask, currentPartLength);\n                part.numberEnd = this._emtpyMask.lastIndexOf(MASKCHAR) + 1;\n                part.numberStart = this._emtpyMask.indexOf(MASKCHAR, part.start);\n\n                currentPartLength += part.mask.length;\n                this._maskParts.push(part);\n            }\n\n            this._old = this._emtpyMask;\n            this._maskedInput.val(this._emtpyMask);\n        },\n\n        _input: function() {\n            var that = this;\n\n            that._maskedInput = $(\"<input />\")\n                        .attr(kendo.attr(\"validate\"), \"false\")\n                        .attr({\n                            \"role\": \"combobox\",\n                            \"aria-expanded\": false,\n                            \"aria-controls\": that.element.attr(\"id\") + \"_timeSelector\",\n                            \"autocomplete\": \"off\",\n                            \"inputmode\": that.options\n                        })\n                        .addClass(\"k-input-inner\")\n                        .insertBefore(that.element);\n\n            let inputMode = that.options.inputMode;\n            if (inputMode) {\n                that._maskedInput.attr(\"inputmode\", inputMode);\n            }\n\n            that.element.hide();\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper;\n\n            wrapper = element.parents(\".k-timedurationpicker\");\n\n            if (!wrapper[0]) {\n                wrapper = element.wrap(SPAN).parent();\n            }\n\n            that.wrapper = wrapper.addClass(\"k-timedurationpicker k-input\");\n        },\n\n        _attachHandlers: function() {\n            var that = this;\n\n            that._maskedInput\n                    .on(KEYDOWN + NS, that._keydown.bind(that))\n                    .on(INPUT + NS, that._inputHandler.bind(that))\n                    .on(FOCUS + NS, that._focus.bind(that))\n                    .on(FOCUSOUT + NS, that._focusout.bind(that))\n                    .on(PASTE + NS, that._paste.bind(that))\n                    .on(MOUSEDOWN + NS, that._mouseDown.bind(that))\n                    .on(MOUSEUP + NS, that._mouseUp.bind(that));\n\n            that.wrapper.on(CLICK + NS, \".k-input-button\", that._click.bind(that));\n        },\n\n        _mouseDown: function() {\n            this._mouseOnInput = true;\n        },\n\n        _mouseUp: function() {\n            var selection = caret(this._maskedInput[0]);\n            var value = this._maskedInput[0].value;\n            if (selection[0] === selection[1]) {\n                this._selectNearestSection(selection[1] == value.length ? value.length - 1 : selection[1]);\n            }\n        },\n\n        _triggerChange: function() {\n            if ((this._lastValue == undefined && this._value) || this._lastValue != this._value) {\n                this._lastValue = this._value;\n                this.trigger(CHANGE);\n            }\n        },\n\n        _focusout: function() {\n            this._updateValueFromInput();\n            this._triggerChange();\n\n            this._canUpdateLast = true;\n            this.wrapper.removeClass(FOCUSED);\n        },\n\n        _focus: function() {\n            var that = this;\n            if (!that._mouseOnInput) {\n                setTimeout(function() {\n                    that._selectNearestSection(0);\n                }, 10);\n            }\n            that._mouseOnInput = false;\n            that.wrapper.addClass(FOCUSED);\n        },\n\n        _selectNearestSection: function(index) {\n            var part;\n\n            for (var i = 0; i < this._maskParts.length; i++ ) {\n                part = this._maskParts[i];\n                if (index >= part.start && index <= part.end) {\n                    caret(this._maskedInput[0], part.numberStart, part.numberEnd);\n                }\n            }\n        },\n\n        _getPartValue: function(value, index) {\n            var that = this;\n            var separator = that.options.separator;\n            var startSeparator = value.indexOf(separator,index);\n            var lastSeparator = value.lastIndexOf(separator,index);\n            return value.substring(lastSeparator < 0 ? 0 : lastSeparator + 1 , startSeparator < 0 ? value.length : startSeparator );\n        },\n\n        _getEmptyPart: function(index) {\n            return this._getPartValue(this._emtpyMask, index);\n        },\n\n        _fillParts: function(clipNumber) {\n            var parts = this._emtpyMask.split(this.options.separator);\n            var symbols;\n            clipNumber = clipNumber + \"\";\n\n            for (var i = 0; i < parts.length; i++) {\n                symbols = parts[i].match(/_/g).length;\n                if (symbols > clipNumber.length) {\n                    parts[i] = parts[i].replace(MASKCHAR.repeat(symbols), \"0\".repeat(symbols - clipNumber.length) + clipNumber);\n                } else {\n                    parts[i] = parts[i].replace(MASKCHAR.repeat(symbols), clipNumber.substring(0, symbols));\n                    clipNumber = clipNumber.substring(symbols, symbols.length);\n                }\n            }\n            return parts.join(this.options.separator);\n        },\n\n        _clearParts: function(value, start, end) {\n            var parts = value.split(this.options.separator);\n            var index = 0;\n            var endBoundary;\n\n            for (var i = 0; i < parts.length; i++) {\n                endBoundary = index + parts[i].length;\n                if ((index <= start && endBoundary >= start) || (index <= end && endBoundary >= end)) {\n                    parts[i] = this._getEmptyPart(index);\n                }\n                index += (parts[i].length + 1);\n            }\n            return parts.join(this.options.separator);\n        },\n\n        _updatePart: function(oldValue, entered) {\n            var emrtyPart = this._getEmptyPart(this._old.indexOf(oldValue));\n            var current = oldValue.substring(emrtyPart.indexOf(MASKCHAR), emrtyPart.lastIndexOf(MASKCHAR) + 1);\n            var format = \"{0:\" + \"0\".repeat(current.length) + \"}\";\n\n            if (current.indexOf(MASKCHAR) >= 0 || !(oldValue[oldValue.search(/[0-9]/)] === \"0\") || entered.length > 1) {\n                return oldValue.replace(current, kendo.format(format, parseInt(entered)));\n            } else {\n                return oldValue.replace(current, kendo.format(format, parseInt(current + entered)));\n            }\n        },\n\n        _replacePart: function(oldValue, newPart, index) {\n            return oldValue.replace(this._getPartValue(oldValue, index), newPart);\n        },\n\n        _click: function() {\n            var that = this;\n\n            if (!that._timeSelector) {\n                return;\n            }\n\n            that._timeSelector.toggle();\n        },\n\n        _switchPart: function(options) {\n            var separator = this.options.separator;\n            var selection = options.caret != undefined ? options.caret : caret(this._maskedInput[0])[0];\n            var value = this._maskedInput.val();\n            var index;\n\n            if (options.next) {\n                index = value.indexOf(separator, selection);\n                if (index < 0) {\n                    index = value.length - 1;\n                } else {\n                    index++;\n                }\n            } else {\n                index = value.lastIndexOf(separator, selection);\n                if (index < 0 ) {\n                    index = 0;\n                } else {\n                    index--;\n                }\n            }\n            this._selectNearestSection(index);\n        },\n\n        _keydown: function(e) {\n            var key = e.keyCode;\n            var separator = this.options.separator;\n            var selection;\n            var value;\n            var index;\n            var future;\n            var past;\n\n            this._backward = key === keys.BACKSPACE;\n            if (key == keys.LEFT || key == keys.RIGHT) {\n                e.preventDefault();\n                selection = caret(this._maskedInput[0])[0];\n                value = this._maskedInput.val();\n                future = value.indexOf(separator, selection);\n                past = value.lastIndexOf(separator, selection);\n\n                if ((future < 0 && key == keys.RIGHT) || (past < 0 && key == keys.LEFT)) {\n                    return;\n                }\n\n                index = (key == keys.LEFT) ? (past - 1) : (future + 1);\n                this._selectNearestSection(index);\n                if (key == keys.LEFT) {\n                    this._canUpdateLast = true;\n                }\n            } else if (this._timeSelector.popup.visible()) {\n                this._timeSelector._scrollerKeyDownHandler(e);\n            } else if (key == keys.UP || key == keys.DOWN) {\n                e.preventDefault();\n                if (e.altKey) {\n                    this._timeSelector.toggle();\n                }\n            } else if (key == keys.ENTER) {\n                this._updateValueFromInput();\n                this._triggerChange();\n            }\n        },\n\n        _updateValueFromTimeSelector: function() {\n            var that = this;\n            var valueParts = getTimeParts(that._value);\n            var value = \"\";\n            var column = this._columns[i];\n            var part;\n            var partValue;\n            var masksToAdd;\n\n            for (var i = 0; i < this._columns.length; i++) {\n                column = this._columns[i];\n                partValue = valueParts[column.name] + '';\n                part = this._maskParts[i];\n\n                if (i) {\n                    value += that.options.separator;\n                }\n\n                if (!valueParts[column.name]) {\n                    value += part.mask;\n                    continue;\n                }\n\n                masksToAdd = part.symbolsLength - partValue.length;\n                value += part.mask.replace(MASKCHAR.repeat(part.symbolsLength), \"0\".repeat(masksToAdd < 0 ? 0 : masksToAdd) + partValue);\n            }\n\n            that._maskedInput.val(value);\n            that._old = value;\n        },\n\n        _validation: function() {\n            var that = this;\n            var element = that.element;\n\n            that._validationIcon = $(kendo.ui.icon({ icon: \"exclamation-circle\", iconClass: \"k-input-validation-icon k-hidden\" })).insertAfter(element);\n        },\n\n        _addInvalidState: function() {\n            this.wrapper.addClass(STATEINVALID);\n            this._validationIcon.removeClass('k-hidden');\n        },\n\n        _removeInvalidState: function() {\n            this.wrapper.removeClass(STATEINVALID);\n            this._validationIcon.addClass('k-hidden');\n        },\n\n        _updateValueFromInput: function() {\n            var val = this._maskedInput.val();\n            var values = {};\n            var valid = true;\n            var column;\n            var part;\n            var colValue;\n\n            for (var i = 0; i < this._columns.length; i++) {\n                column = this._columns[i];\n                part = this._maskParts[i];\n                colValue = val.substring(part.numberStart, part.numberEnd).replace(/_/g, \"\");\n                colValue = kendo.parseInt(colValue || 0);\n\n                if (colValue >= column.min && colValue <= column.max) {\n                    values[column.name] = colValue;\n                } else {\n                    valid = false;\n                    break;\n                }\n            }\n\n            if (valid) {\n                this._value = convertToMsec(values);\n                this.element.val(this._value || \"\");\n                this._timeSelector._value = this._value;\n                this._removeInvalidState();\n            } else {\n                this._addInvalidState();\n            }\n        },\n\n        _paste: function(e) {\n            this._isPasted = true;\n            this._pasted = (e.clipboardData || e.originalEvent.clipboardData).getData('Text');\n            var emptyPart;\n\n            var selection = caret(this._maskedInput);\n\n            if (this._maskedInput.val().length == selection[1] && !selection[0]) {\n                this._replaceEntire = true;\n            } else {\n                emptyPart = this._getEmptyPart(selection[0]);\n                this._pasted = this._pasted.substring(0, emptyPart.match(/_/g).length);\n            }\n        },\n\n        _inputHandler: function() {\n            if (kendo._activeElement() !== this._maskedInput[0]) {\n                return;\n            }\n\n            var that = this;\n            var old = that._old;\n            var separator = that.options.separator;\n            var value = that._maskedInput[0].value;\n            var selection = caret(that._maskedInput)[0];\n            var lengthDiff = old.length - value.length;\n            var entered;\n            var validEntry;\n            var updatedPart;\n            var endSubstring;\n            var startSubstring;\n            var deletedPart;\n            var emptyPart;\n            var canUpdate;\n            var restored;\n            var oldpartValue;\n            var nextSeparator;\n\n            entered = that._isPasted ? that._pasted : value.substring(selection - 1, selection);\n            validEntry = /\\d/.test(entered);\n\n            if (that._isPasted && that._replaceEntire && validEntry) {\n                that._old = that._fillParts(parseInt(entered));\n                that._maskedInput.val(that._old);\n                that._selectNearestSection(0);\n                that._isPasted = that._replaceEntire = false;\n                return;\n            }\n\n            if (that._isPasted) {\n                lengthDiff = 0;\n            }\n\n            that._isPasted = false;\n\n            if ((entered === separator && !that._backward)) {\n                that._maskedInput.val(that._old);\n                that._switchPart({ caret: selection, next: true });\n                return;\n            }\n\n            if (!value && that._backward) {\n                that._old = that._emtpyMask;\n                that._maskedInput.val(that._old);\n                that._selectNearestSection(selection);\n                return;\n            }\n\n            if ((!validEntry && !that._backward)) {\n                that._maskedInput.val(that._old);\n                that._selectNearestSection(selection);\n                return;\n            }\n\n            if (!lengthDiff || lengthDiff > 0) {\n                endSubstring = value.substring(selection, value.length);\n                startSubstring = value.substring(0, selection);\n                deletedPart = that._emtpyMask.substring(startSubstring.length, old.indexOf(endSubstring));\n\n                restored = startSubstring + deletedPart + endSubstring;\n                oldpartValue = that._getPartValue(that._old, selection);\n                nextSeparator = that._old.indexOf(separator, that._old.indexOf(oldpartValue) + 1);\n\n                if (that._backward) {\n                    // if multiple parts\n                    if (deletedPart.split(separator).length > 1) {\n                        that._old = this._clearParts(restored, selection, selection + deletedPart.length);\n                    } else {\n                        emptyPart = this._getEmptyPart(selection);\n                        if (emptyPart == oldpartValue) {\n                            that._maskedInput.val(that._old);\n                            that._switchPart({ caret: selection });\n                            return;\n                        }\n                        that._old = that._replacePart(restored, emptyPart, selection);\n                    }\n                    that._maskedInput.val(that._old);\n                    that._selectNearestSection(selection);\n                    return;\n                }\n\n                if (nextSeparator < 0 && oldpartValue.indexOf(MASKCHAR) === -1 && !that._canUpdateLast) {\n                    that._maskedInput.val(that._old);\n                    that._selectNearestSection(selection);\n                    return;\n                }\n\n                if (validEntry) {\n                    updatedPart = that._updatePart(oldpartValue, entered);\n                    canUpdate = updatedPart[updatedPart.search(/[0-9]/)] === \"0\";\n                    restored = that._replacePart(restored, updatedPart, selection);\n                    that._maskedInput.val(restored);\n                    if (nextSeparator > 0 && !canUpdate) {\n                        that._selectNearestSection(nextSeparator + 1, true);\n                    } else {\n                        that._selectNearestSection(selection);\n                    }\n\n                    that._canUpdateLast = !(nextSeparator < 0 && !canUpdate);\n                }\n                that._old = restored;\n            } else if (lengthDiff < 0) {\n                that._maskedInput.val(that._old);\n                that._selectNearestSection(that._old.length - 1);\n            }\n        },\n\n    });\n\n    kendo.cssProperties.registerPrefix(\"TimeDurationPicker\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"TimeDurationPicker\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n    ui.plugin(TimeDurationPicker);\n\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}