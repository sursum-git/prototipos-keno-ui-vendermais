{"version":3,"file":"kendo.chiplist.min.js","names":[],"sources":["../../src/kendo.chiplist.js"],"sourcesContent":["import \"./kendo.core.js\";\nimport \"./kendo.chip.js\";\nimport \"./kendo.html.chiplist.js\";\n\nexport const __meta__ = {\n    id: \"chiplist\",\n    name: \"ChipList\",\n    category: \"web\",\n    docsCategory: \"navigation\",\n    description: \"The ChipList component.\",\n    depends: [\"core\", \"chip\", \"html.chiplist\"]\n};\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        keys = kendo.keys,\n        isPlainObject = $.isPlainObject,\n        isEmptyObject = $.isEmptyObject,\n\n        NS = \".kendoChipList\",\n        PREFIX = \"k-chip-list-\",\n        DOT = \".\",\n\n        SELECT = \"select\",\n        REMOVE = \"remove\";\n    var html = kendo.html;\n\n    var chipListStyles = {\n        widget: \"k-chip-list\",\n        item: \"k-chip\",\n        selected: \"k-selected\",\n        disabled: \"k-disabled\",\n        enabledItemSelector: \"k-chip:not(.k-disabled)\"\n    };\n\n    var ChipList = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n            options = options || {};\n            Widget.fn.init.call(that, element, options);\n\n            html.renderChipList(element, $.extend({}, options));\n\n            that._selectable = that.options.selectable;\n            that._bindEvents();\n            that._items();\n        },\n\n        options: {\n            name: \"ChipList\",\n            selectable: \"none\",\n            items: [],\n            fillMode: undefined,\n            rounded: undefined,\n            size: undefined,\n            itemSize: undefined\n        },\n\n        events: [\n            SELECT,\n            REMOVE\n        ],\n\n        destroy: function() {\n            var that = this;\n\n            if (that._keydownProxy) {\n                that.unbind(that._keydownProxy);\n                that._keydownProxy = null;\n            }\n\n            if (that._selectProxy) {\n                that.unbind(that._selectProxy);\n                that._selectProxy = null;\n            }\n\n            if (that._removeProxy) {\n                that.unbind(that._removeProxy);\n                that._removeProxy = null;\n            }\n\n            that.element.off(NS);\n            that.element.find(\"[data-role='chip']\").each(function() {\n                that._getChipFromElement(this).destroy();\n            });\n\n            Widget.fn.destroy.call(this);\n        },\n\n        _updateCssClasses: function() {\n            var that = this,\n                options = that.options,\n                styles = chipListStyles;\n\n            // Remove all class names\n            that.element.removeClass(function(index, className) {\n                if (className.indexOf('k-') === 0) {\n                    that.element.removeClass(className);\n                }\n            });\n\n            that.element.addClass(styles.widget);\n            that.element.addClass(kendo.getValidCssClass(PREFIX, \"size\", options.size));\n        },\n\n        _getInitializeChipOptions: function(itemOptions) {\n            var that = this,\n                options = that.options;\n\n            var attributes = $.extend(itemOptions.attributes || {}, {\n                tabindex: \"-1\"\n            });\n\n            if (options.selectable !== \"none\") {\n                attributes.role = \"option\";\n                attributes[\"aria-selected\"] = itemOptions.selected;\n            }\n\n            if (options.removable || itemOptions.removable) {\n                attributes[\"aria-keyshortcuts\"] = \"Enter Delete\";\n            }\n\n            return $.extend({\n                fillMode: options.fillMode,\n                size: options.itemSize,\n                rounded: options.rounded,\n                selectable: options.selectable !== \"none\",\n                removable: options.removable,\n                remove: that._removeProxy,\n                select: that._selectProxy,\n            }, itemOptions, { attributes: attributes });\n        },\n\n        _getChipFromElement: function(element) {\n            return $(element).getKendoChip() || $(element).find(\"[data-role='chip']\").getKendoChip();\n        },\n\n        _items: function() {\n            var that = this,\n                options = that.options,\n                items = options.items,\n                chipOptions,\n                selectedItems,\n                chipEl,\n                firstNavigatableItem,\n                item;\n\n            for (var i = 0; i < items.length; i++) {\n                chipOptions = that._getInitializeChipOptions(items[i]);\n                chipEl = $(\"<span></span>\");\n                that.element.append(chipEl);\n                item = that._createChip(chipEl, chipOptions);\n            }\n\n            firstNavigatableItem = that._getFirstNavigatableItem();\n            if (firstNavigatableItem) {\n                that._applyTabIndex(that.items().index(firstNavigatableItem));\n            }\n\n            if (that._selectable === \"single\") {\n                selectedItems = that.items().filter(DOT + chipListStyles.selected);\n                selectedItems.each(function(ind, ch) {\n                    if (ind !== selectedItems.length - 1) {\n                        var chip = that._getChipFromElement(ch);\n                        if (chip) {\n                            chip.select(false);\n                        }\n                    }\n                });\n            }\n        },\n\n        _isItem: function(item) {\n            var that = this;\n\n            item = $(item);\n\n            return item.is(DOT + chipListStyles.item) && !!that.element.find(item).length;\n        },\n\n        _applyTabIndex: function(index) {\n            var that = this;\n            var itemElement = that.item(+index ? +index : 0);\n\n            that.items().each(function(ind, el) {\n                $(el).attr(\"tabindex\", \"-1\");\n            });\n\n            itemElement.attr(\"tabindex\", \"0\");\n        },\n\n        _createChip: function(element, chipOptions) {\n            return element.kendoChip(chipOptions);\n        },\n\n        _bindEvents: function() {\n            var that = this;\n            that._keydownProxy = that._keydown.bind(that);\n            that._selectProxy = that._select.bind(that);\n            that._removeProxy = that._remove.bind(that);\n\n            that.element.on(\"keydown\" + NS, DOT + chipListStyles.item, that._keydownProxy);\n        },\n\n        _select: function(ev) {\n            var that = this,\n                chip = ev.sender;\n\n            if (that._selectable == \"none\") {\n                ev.preventDefault();\n                return;\n            }\n\n            that._triggerSelect(chip, ev);\n        },\n\n        _triggerSelect: function(item, ev) {\n            var that = this,\n                selectedItems;\n\n            if (that.element.is(DOT + chipListStyles.disabled)) {\n                return;\n            }\n\n            if (that.trigger(SELECT, { originalEvent: ev, item: item })) {\n                return;\n            }\n\n            if (that._selectable === \"single\") {\n                selectedItems = that.select();\n                if (selectedItems.length > 0) {\n                    selectedItems.each(function(ind, selectedChipElement) {\n                        var chip = that._getChipFromElement(selectedChipElement);\n                        if (chip && chip !== item) {\n                            chip.select(false);\n                        }\n                    });\n                }\n            }\n        },\n\n        _remove: function(ev) {\n            var that = this,\n                chip = ev.sender;\n\n            if (that.trigger(REMOVE, { originalEvent: ev, item: ev.sender })) {\n                return;\n            }\n\n            that._removeItem(chip);\n        },\n\n        _removeItem: function(chip) {\n            var that = this;\n            if (chip) {\n                var el = chip.wrapper;\n                chip.destroy();\n                el.remove();\n                that._focusNavigatableItem();\n            }\n        },\n\n        _keydown: function(ev) {\n            // change the tabindex to the next/prev chip\n            // and remove it from the others\n            var that = this,\n                target = $(ev.target).closest(DOT + chipListStyles.item),\n                key = ev.keyCode;\n\n            if (key === keys.LEFT || key === keys.RIGHT) {\n                that._focusNavigatableItem(key, target);\n            }\n            // add support for Home and End keys?\n        },\n\n        _focusNavigatableItem: function(key, target) {\n            var that = this;\n            var nextCandidate = that._getNavigatableItem(key, target);\n            if (nextCandidate) {\n                that._applyTabIndex(that.items().index(nextCandidate));\n                nextCandidate.trigger(\"focus\");\n            }\n        },\n\n        _getFirstNavigatableItem: function() {\n            var that = this;\n            return that.items().filter(DOT + chipListStyles.enabledItemSelector).first();\n        },\n\n        _getLastNavigatableItem: function() {\n            var that = this;\n            return that.items().filter(DOT + chipListStyles.enabledItemSelector).last();\n        },\n\n        _getNavigatableItem: function(key, target) {\n            var that = this;\n            var current;\n\n            if (target) {\n                current = target;\n            } else {\n                current = that._getFirstNavigatableItem();\n            }\n\n            if (key === keys.LEFT && target) {\n                current = target.prevAll(DOT + chipListStyles.enabledItemSelector).first();\n            }\n\n            if (key === keys.RIGHT && target) {\n                current = target.nextAll(DOT + chipListStyles.enabledItemSelector).first();\n            }\n\n            return current.length ? current : null;\n        },\n\n        items: function() {\n            var that = this;\n            return that.element.children();\n        },\n\n        select: function(item, state) {\n            var that = this,\n                chip,\n                selectedItems = that.items().filter(DOT + chipListStyles.selected);\n\n            if (!item) {\n                return selectedItems;\n            }\n\n            state = state !== false;\n\n            chip = that._getChipFromElement(item);\n            if (chip) {\n                if (that._selectable === \"single\") {\n                    selectedItems = that.select();\n                    if (selectedItems.length > 0) {\n                        selectedItems.each(function(ind, selectedChipElement) {\n                            var chip = that._getChipFromElement(selectedChipElement);\n                            if (chip && chip !== item) {\n                                chip.select(false);\n                            }\n                        });\n                    }\n                }\n\n                chip.select(state);\n            }\n        },\n\n        enable: function(item, state) {\n            var chip = this._getChipFromElement(item);\n            state = state !== false;\n\n            if (chip) {\n                chip.enable(state);\n            }\n        },\n\n        item: function(index) {\n            var that = this;\n\n            if (isNaN(index)) {\n                return null;\n            }\n\n            return that.items().eq(index);\n        },\n\n        itemById: function(id) {\n            var that = this;\n\n            return that.element.find(\"#\" + id);\n        },\n\n        add: function(item, before) {\n            // add validation to get element, options object and a Chip widget\n            var that = this,\n                method = \"append\",\n                chip,\n                chipEl,\n                targetElement = that.element;\n\n            if (before && that._isItem(before)) {\n                method = \"before\";\n                targetElement = $(before);\n            }\n\n            chip = that._getChipFromElement(item);\n            if (chip) {\n                if (that._selectable !== \"none\") {\n                    chip.wrapper.attr(\"role\", \"option\");\n                }\n\n                targetElement[method](chip.wrapper);\n            } else if (item && isPlainObject(item) && !isEmptyObject(item)) {\n                chipEl = $(\"<span></span>\");\n                targetElement[method](chipEl);\n                that._createChip(chipEl, that._getInitializeChipOptions(item));\n            }\n        },\n\n        remove: function(item) {\n            var that = this;\n\n            if (item && that._isItem(item)) {\n                kendo.destroy(item);\n                item.remove();\n                that._focusNavigatableItem();\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(this, options);\n            that._updateCssClasses();\n\n            if (options.items) {\n                that.element.empty();\n                that._items();\n            }\n        }\n    });\n\n    ui.plugin(ChipList);\n})(window.kendo.jQuery);\nexport default kendo;"],"mappings":"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"}