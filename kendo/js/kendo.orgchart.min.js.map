{"version":3,"file":"kendo.orgchart.min.js","names":[],"sources":["../../src/orgchart/data.js","../../src/orgchart/view.js","../../src/kendo.orgchart.js"],"sourcesContent":["import \"../kendo.data.js\";\nimport \"../kendo.treelist.js\";\n\n(function($, undefined) {\n    var extend = $.extend,\n\n        data = kendo.data,\n        Query = data.Query,\n        DataSource = data.DataSource,\n        TreeListDataSource = data.TreeListDataSource,\n        Model = data.Model,\n        ObservableArray = data.ObservableArray;\n\n    var OrgChartModel = Model.define({\n        id: \"id\",\n        parentId: \"parentId\",\n\n        fields: {\n            id: { type: \"number\", editable: false },\n            parentId: { type: \"number\", nullable: true },\n            name: { type: \"string\", validation: { required: true } },\n            title: { type: \"string\" },\n            avatar: { type: \"string\" }\n        },\n\n        init: function(value) {\n            Model.fn.init.call(this, value);\n\n            this._loaded = false;\n\n            if (!this.parentIdField) {\n                this.parentIdField = \"parentId\";\n            }\n            if (!this.nameField) {\n                this.nameField = \"name\";\n            }\n            if (!this.titleField) {\n                this.titleField = \"title\";\n            }\n            if (!this.avatarField) {\n                this.avatarField = \"avatar\";\n            }\n\n            this.parentId = this.get(this.parentIdField);\n            this.name = this.get(this.nameField);\n            this.title = this.get(this.titleField);\n            this.avatar = this.get(this.avatarField);\n        },\n\n        accept: function(data) {\n            Model.fn.accept.call(this, data);\n\n            this.parentId = this.get(this.parentIdField);\n            this.name = this.get(this.nameField);\n            this.title = this.get(this.titleField);\n            this.avatar = this.get(this.avatarField);\n        },\n\n        set: function(field, value, initiator) {\n            if (field == \"parentId\" && this.nameField != \"parentId\") {\n                this[this.parentIdField] = value;\n            }\n            if (field == \"name\" && this.nameField != \"name\") {\n                this[this.nameField] = value;\n            }\n            if (field == \"title\" && this.titleField != \"title\") {\n                this[this.titleField] = value;\n            }\n            if (field == \"avatar\" && this.avatarField != \"avatar\") {\n                this[this.avatarField] = value;\n            }\n\n            Model.fn.set.call(this, field, value, initiator);\n\n            if (field == this.parentIdField) {\n                this.parentId = this.get(this.parentIdField);\n            }\n            if (field == this.nameField) {\n                this.name = this.get(this.nameField);\n            }\n            if (field == this.titleField) {\n                this.title = this.get(this.titleField);\n            }\n            if (field == this.avatarField) {\n                this.avatar = this.get(this.avatarField);\n            }\n        },\n\n        loaded: function(value) {\n            if (value !== undefined) {\n                this._loaded = value;\n            } else {\n                return this._loaded;\n            }\n        },\n\n        shouldSerialize: function(field) {\n            return Model.fn.shouldSerialize.call(this, field) && field !== \"_loaded\" && field != \"_error\" && field != \"_edit\" && !(this.parentIdField !== \"parentId\" && field === \"parentId\");\n        }\n    });\n\n    OrgChartModel.parentIdField = \"parentId\";\n    OrgChartModel.nameField = \"name\";\n    OrgChartModel.titleField = \"title\";\n    OrgChartModel.avatarField = \"avatar\";\n\n    OrgChartModel.define = function(base, options) {\n        if (options === undefined) {\n            options = base;\n            base = OrgChartModel;\n        }\n\n        var parentId = options.parentId || \"parentId\";\n        var name = options.name || \"name\";\n        var title = options.title || \"title\";\n        var avatar = options.avatar || \"avatar\";\n\n        options.parentIdField = parentId;\n        options.nameField = name;\n        options.titleField = title;\n        options.avatarField = avatar;\n\n        var model = Model.define(base, options);\n\n        if (parentId) {\n            model.parentIdField = parentId;\n        }\n        if (name) {\n            model.nameField = name;\n        }\n        if (title) {\n            model.titleField = title;\n        }\n        if (avatar) {\n            model.avatarField = avatar;\n        }\n\n        return model;\n    };\n\n    var OrgChartDataSource = TreeListDataSource.extend({\n        init: function(options) {\n            TreeListDataSource.fn.init.call(this, extend(true, {}, {\n                schema: {\n                    modelBase: OrgChartModel,\n                    model: OrgChartModel\n                }\n            }, options));\n        },\n\n        groupedItemsTree: function(field) {\n            var map = this._childrenMap(this.view()),\n                defaultParentId = this._defaultParentId(),\n                currentChildren = map[defaultParentId] || [],\n                grouped = new Query(currentChildren).group({ field: field }).toArray();\n\n            return this._innerGroupedItemsTree(field, grouped, map);\n        },\n\n        itemChildren: function(item, fromView) {\n            var filter = {\n                field: \"parentId\",\n                operator: \"eq\",\n                value: null\n            };\n\n            var order = (this._sort && this._sort.length) ? this._sort : {};\n            var itemId, data;\n\n            if (fromView) {\n                data = this.view();\n            } else {\n                data = this.data();\n            }\n\n            if (!!item) {\n                itemId = item.get(\"id\");\n\n                if (itemId === undefined || itemId === null || itemId === \"\") {\n                    return [];\n                }\n\n                filter.value = itemId;\n            }\n\n            data = new Query(data).filter(filter).sort(order).toArray();\n\n            return data;\n        },\n\n        itemsTree: function(item, field) {\n            var data = [],\n                current,\n                items = this.itemChildren(item, true),\n                children, i;\n\n            for (i = 0; i < items.length; i++) {\n                current = items[i];\n\n                if (current.get(\"expanded\")) {\n                    children = this.itemsTree(current, field);\n\n                    current = extend(true, {}, current);\n                    current.children = children;\n                }\n\n                current = extend(true, {}, current);\n                data.push(current);\n            }\n\n            if (field !== null && field !== undefined) {\n                data = new Query(data).group({ field: field }).toArray();\n            }\n\n            return data;\n        },\n\n        prospectParents: function(skippedItem, item) {\n            var data = [],\n                current,\n                items = this.itemChildren(item, false),\n                children, i;\n\n            for (i = 0; i < items.length; i++) {\n                current = items[i];\n\n                if (current.get(\"id\") === skippedItem.get(\"id\")) {\n                    continue;\n                }\n\n                data.push(current);\n\n                if (current.get(\"hasChildren\")) {\n                    children = this.prospectParents(skippedItem, current);\n\n                    data = data.concat(children);\n                }\n            }\n\n            return data;\n        },\n\n        read: function(data) {\n            return DataSource.fn.read.call(this, data).then(this._loadExpanded.bind(this, data));\n        },\n\n        toggleChildren: function(item, expand) {\n            var defaultPromise = $.Deferred().resolve().promise(),\n                loaded = item.loaded();\n\n            // reset error state\n            if (item._error) {\n                item.expanded = false;\n                item._error = undefined;\n            }\n\n            // toggle expanded state\n            if (typeof expand == \"undefined\") {\n                expand = !item.expanded;\n            }\n\n            item.expanded = expand;\n\n            if (!loaded) {\n                defaultPromise = this.load(item);\n            }\n\n            return defaultPromise;\n        },\n\n        _innerGroupedItemsTree: function(field, grouped, map) {\n            var group, i, j, itemId, innerGrouped, children, current, hasChildren;\n\n\n            for (i = 0; i < grouped.length; i++) {\n                group = grouped[i];\n                children = [];\n                hasChildren = false;\n\n                for (j = 0; j < group.items.length; j++) {\n                    current = group.items[j];\n\n                    if (!group.hasChildren && current.hasChildren) {\n                        group.hasChildren = true;\n                    }\n\n                    if (current.expanded) {\n                        group.expanded = true;\n                    }\n\n                    itemId = group.items[j].get(\"id\");\n                    children = children.concat(map[itemId]);\n                }\n\n                if (group.expanded) {\n                    innerGrouped = new Query(children).group({ field: field }).toArray();\n                    group.children = this._innerGroupedItemsTree(field, innerGrouped, map);\n                }\n\n                if (!group.hasChildren && children.length > 0) {\n                    group.hasChildren = true;\n                }\n            }\n\n            return grouped;\n        },\n\n        _loadExpanded: function(data) {\n            var items, i, current;\n\n            if (!data) {\n                return;\n            }\n\n            if (data.id !== null && data.id !== undefined) {\n                items = this._byParentId(data.id);\n            } else {\n                items = this._byParentId(this._defaultParentId());\n            }\n\n            for (i = 0; i < items.length; i++) {\n                current = items[i];\n\n                if (current.expanded && !current.loaded()) {\n                    this.toggleChildren(current, true);\n                }\n            }\n        }\n    });\n\n    OrgChartDataSource.create = function(options) {\n        if (Array.isArray(options)) {\n            options = { data: options };\n        } else if (options instanceof ObservableArray) {\n            options = { data: options.toJSON() };\n        }\n\n        if (!(options instanceof OrgChartDataSource) && options instanceof DataSource) {\n            throw new Error(\"Incorrect DataSource type. Only OrgChartDataSource instances are supported\");\n        }\n\n        return options instanceof OrgChartDataSource ? options : new OrgChartDataSource(options);\n    };\n\n    extend(true, kendo.data, {\n        OrgChartModel: OrgChartModel,\n        OrgChartDataSource: OrgChartDataSource\n    });\n})(window.kendo.jQuery);\n\n","import \"../kendo.core.js\";\nimport \"../kendo.html.button.js\";\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        keys = kendo.keys,\n        encode = kendo.htmlEncode,\n        extend = $.extend,\n\n        NS = \".kendoOrgChartView\",\n\n        BLUR = \"blur\",\n        CLICK = \"click\",\n        COLLAPSE = \"collapse\",\n        EXPAND = \"expand\",\n        FOCUS = \"focus\",\n        KEYDOWN = \"keydown\",\n        MENU = \"menu\",\n        SELECT = \"select\",\n\n        DOT = \".\",\n        SPACE = \" \",\n        COMMA = \",\",\n        HASH = \"#\",\n        STRING = \"string\",\n        TABINDEX = \"tabindex\",\n        ID = \"id\",\n        UID = \"uid\",\n        PX = \"px\",\n        PLUS = \"plus\",\n        MINUS = \"minus\",\n\n        ARIA_OWNS = \"aria-owns\",\n        ARIA_SELECTED = \"aria-selected\";\n\n    var ORGCHART_STYLES = {\n        wrapper: \"k-orgchart\",\n        container: \"k-orgchart-container\",\n        line: \"k-orgchart-line\",\n        lineVertical: \"k-orgchart-line-v\",\n        lineHorizontal: \"k-orgchart-line-h\",\n        lineVerticalTop: \"k-orgchart-line-v-top\",\n        group: \"k-orgchart-group\",\n        groupVertical: \"k-orgchart-group-v\",\n        groupHorizontal: \"k-orgchart-group-h\",\n        nodesGroup: \"k-orgchart-node-group\",\n        nodesGroupContainer: \"k-orgchart-node-group-container\",\n        nodeContainer: \"k-orgchart-node-container\",\n        node: \"k-orgchart-node\",\n        card: \"k-orgchart-card\",\n        cardMenu: \"k-orgchart-card-menu\",\n        button: \"k-orgchart-button\",\n        focused: \"k-focus\",\n        plusIconSelector: \".k-i-plus,.k-svg-i-plus\",\n        menuItem: \"k-item\",\n        avatarPreview: \"k-orgchart-avatar-preview\",\n        update: \"k-orgchart-update\",\n        cancel: \"k-orgchart-cancel\",\n        vstack: \"k-vstack\",\n        hstack: \"k-hstack\"\n    };\n\n    var ROOT_TEMPLATE = ({ label }) => `<div role=\"tree\" aria-orientation=\"horizontal\" aria-label=\"${encode(label)}\" class=\"k-orgchart-group k-orgchart-level-1 k-pos-absolute k-hstack k-justify-content-center\"></div>`;\n\n    var GROUP_TEMPLATE = ({ guid, level }) => `<div role=\"group\" id=\"${encode(guid)}\" class=\"k-orgchart-level-${encode(level)} k-orgchart-group k-pos-absolute k-justify-content-around\"></div>`;\n\n    var NODE_GROUP_CONTAINER = ({ hasChildren, guid, expanded, level }) => {\n        var result = '<div role=\"treeitem\" ';\n\n        if (hasChildren && guid) {\n            result += `aria-owns=${encode(guid)} `;\n\n            if (!!expanded) {\n                result += 'aria-expanded=\"true\" ';\n            } else {\n                result += 'aria-expanded=\"false\" ';\n            }\n        }\n\n        result += `aria-keyshortcuts=\"Enter\" aria-level=\"${encode(level)}\" aria-selected=\"false\" class=\"k-orgchart-node-group-container\">`;\n\n        return result;\n    };\n\n    var NODE_CONTAINER = '<div class=\"k-orgchart-node-container k-justify-content-around\"></div>';\n\n    var NODE_CONTAINER_GROUPED = '<div role=\"group\" class=\"k-orgchart-node-container k-justify-content-around k-hstack\"></div>';\n\n    var ITEM_TEMPLATE = '<div class=\"k-orgchart-node k-vstack k-align-items-center\"></div>';\n\n    var BUTTON_TEMPLATE = ({ label, buttonSign }) => kendo.html.renderButton(`<button aria-label=\"${encode(label)}\" tabindex=\"-1\" class=\"k-orgchart-button\"></button>`, {\n        icon: encode(buttonSign)\n    });\n\n    var CARD_TEMPLATE = ({ color, avatar, name, title, editable, menuLabel }) => {\n        var result = `<div class=\"k-card-body k-hstack\" ${kendo.attr(\"style-border-color\")}=\"${encode(color)}\">`;\n\n        if (!!avatar) {\n            result += '<div class=\"k-avatar k-avatar-primary k-avatar-lg\">' +\n                '<span class=\"k-avatar-image\">' +\n                    `<img alt=\"${encode(name)}\" src=\"${encode(avatar)}\">` +\n                '</span>' +\n            '</div>';\n        }\n\n        result += '<div class=\"k-vstack k-card-title-wrap\">' +\n        `<div class=\"k-card-title k-text-ellipsis\">${encode(name)}</div>`;\n\n        if (title) {\n            result += '<span class=\"k-spacer\"></span>' +\n            `<div class=\"k-card-subtitle k-text-ellipsis\">${encode(title)}</div>`;\n        }\n\n        result += '</div>';\n\n        if (editable) {\n            result += '<span class=\"k-spacer\"></span>' +\n            '<div class=\"k-card-body-actions\">' +\n                kendo.html.renderButton(`<button class=\"k-orgchart-card-menu\" role=\"button\" aria-label=\"${encode(menuLabel)}\" tabindex=\"-1\"></button>`, {\n                    icon: 'more-vertical',\n                    fillMode: \"flat\"\n                }) +\n            '</div>';\n        }\n\n        result += '</div>';\n\n        return result;\n    };\n\n    var CARD_WRAPPER = ({ uid, guid, hasChildren, expanded, cssClass, level }) => {\n        var result = `<div role=\"treeitem\" data-uid=\"${encode(uid)}\" `;\n\n        if (hasChildren && guid) {\n            result += `aria-owns=${encode(guid)} `;\n\n            if (!!expanded) {\n                result += 'aria-expanded=\"true\" ';\n            } else {\n                result += 'aria-expanded=\"false\" ';\n            }\n        }\n\n        result += 'class=\"k-orgchart-card k-card ';\n\n        if (!!cssClass) {\n            result += `${encode(cssClass)}`;\n        }\n\n        result += `\" aria-keyshortcuts=\"Enter\" aria-level=\"${encode(level)}\" aria-selected=\"false\"></div>`;\n\n        return result;\n    };\n\n    var GROUPED_CARD_WRAPPER = ({ uid, level, cssClass }) => `<div role=\"treeitem\" data-uid=\"${encode(uid)}\" aria-level=\"${encode(level)}\" aria-selected=\"false\" aria-keyshortcuts=\"Enter\" ` +\n    'class=\"k-orgchart-card k-card ' +\n    `${cssClass ? encode(cssClass) : ''}` +\n    '\"></div>';\n\n    var View = kendo.Observable.extend({\n        init: function(element, options) {\n            this.element = element;\n            this.options = options || {};\n\n            kendo.Observable.fn.init.call(this);\n\n            this._attachEvents();\n        },\n\n        events: [\n            COLLAPSE,\n            EXPAND,\n            SELECT,\n            MENU\n        ],\n\n        destroy: function() {\n            kendo.ui.Widget.fn.destroy.call(this);\n            this.element.off(NS);\n        },\n\n        collapse: function() {\n            return false;\n        },\n\n        expand: function() {\n            return false;\n        },\n\n        jqueryGroupElement: function(group) {\n            if (!group) {\n                return;\n            }\n\n            var jQueryElement = this._processItem(group);\n\n            if (!jQueryElement.hasClass(ORGCHART_STYLES.nodesGroupContainer)) {\n                jQueryElement = jQueryElement.closest(DOT + ORGCHART_STYLES.nodesGroupContainer);\n            }\n\n            return jQueryElement && jQueryElement.length ? jQueryElement : null;\n        },\n\n        jqueryItemElement: function(item) {\n            if (!item) {\n                return;\n            }\n\n            var jQueryElement = this._processItem(item);\n\n            if (!jQueryElement.hasClass(ORGCHART_STYLES.card)) {\n                jQueryElement = jQueryElement.closest(DOT + ORGCHART_STYLES.card);\n            }\n\n            return jQueryElement && jQueryElement.length ? jQueryElement : null;\n        },\n\n        refresh: function() {\n            this._cacheFocused();\n            this._clearContent();\n            this._generateItemsTree();\n            this._calculateLevels();\n            this._render();\n        },\n\n        select: function(item) {\n            var $item = this._getToSelect(item),\n                previousSelection = this.element.find(\"[tabindex=0]\");\n\n            if (!$item) {\n                return;\n            }\n\n            previousSelection.removeAttr(TABINDEX)\n                .removeClass(ORGCHART_STYLES.focused)\n                .attr(ARIA_SELECTED, false);\n\n            $item.attr(TABINDEX, \"0\")\n                .addClass(ORGCHART_STYLES.focused)\n                .trigger(\"focus\")\n                .attr(ARIA_SELECTED, true);\n        },\n\n        _attachEvents: function() {\n            var itemsSelector = DOT + ORGCHART_STYLES.card + COMMA + DOT + ORGCHART_STYLES.nodesGroupContainer;\n\n            this.element.on(KEYDOWN + NS, itemsSelector, this._onKeyDown.bind(this))\n                .on(CLICK + NS, itemsSelector, this._onSelect.bind(this))\n                .on(CLICK + NS, DOT + ORGCHART_STYLES.button, this._onButtonClick.bind(this))\n                .on(FOCUS + NS, itemsSelector, this._onFocus.bind(this))\n                .on(BLUR + NS, DOT + ORGCHART_STYLES.focused, this._onBlur.bind(this));\n        },\n\n        _cacheFocused: function() {\n            var focusableItem = this.element.find(\"[tabindex='0']\"),\n                focusableDataItem = this._dataItems(focusableItem);\n\n            if (!focusableItem.length || !focusableDataItem || !focusableDataItem.length || !!this._idTabIndex) {\n                return;\n            }\n\n            this._idTabIndex = focusableDataItem[0].get(ID);\n\n            if (focusableItem.hasClass(ORGCHART_STYLES.focused)) {\n                this._shouldRestoreSelection = true;\n            } else {\n                this._shouldRestoreSelection = false;\n            }\n        },\n\n        _calculateDimensions: function() {\n            var itemElement = this.element.find(DOT + this._selector).first();\n\n            if (!this._buttonHeight) {\n                this._buttonHeight = this.element.find(DOT + ORGCHART_STYLES.button).first().outerHeight();\n            }\n\n            if (!this._spacing) {\n                this._spacing = this.element.find(DOT + ORGCHART_STYLES.lineVertical).first().outerHeight();\n            }\n\n            if (!this._itemWidth) {\n                this._itemWidth = this._calculateItemWidth();\n            }\n\n            if (!this._itemHeight) {\n                this._itemHeight = itemElement.outerHeight(true);\n            }\n        },\n\n        _calculateItemWidth: function() {\n            return false;\n        },\n\n        _calculateLevel: function() {\n            return false;\n        },\n\n        _calculateLevels: function() {\n            return false;\n        },\n\n        _clearContent: function() {\n            this.element.empty();\n        },\n\n        _dataItem: function(item) {\n            var $item = this.jqueryItemElement(item);\n\n            if (!$item || !$item.data(UID)) {\n                return;\n            }\n\n            return this.dataSource.getByUid($item.data(UID));\n        },\n\n        _dataItems: function() {\n            return false;\n        },\n\n        _generateItemsTree: function() {\n            return false;\n        },\n\n        _getToSelect: function() {\n            return false;\n        },\n\n        _groupIsVertical: function() {\n            return false;\n        },\n\n        _keyCollapse: function() {\n            return false;\n        },\n\n        _keyExpand: function() {\n            return false;\n        },\n\n        _keyNext: function() {\n            return false;\n        },\n\n        _keyPrev: function() {\n            return false;\n        },\n\n        _keyEnter: function() {\n            return false;\n        },\n\n        _keyEscape: function() {\n            return false;\n        },\n\n        _keyEnd: function() {\n            var target = this.element.find(DOT + ORGCHART_STYLES.card).last(),\n                previous = this.element.find(\"[tabindex=0]\");\n\n\n            if (previous[0] === target[0]) {\n                return;\n            }\n\n            this.trigger(SELECT, {\n                item: target,\n                dataItems: [this._dataItem(target)]\n            });\n        },\n\n        _keyHome: function() {\n            var target = this.element.find(DOT + ORGCHART_STYLES.card).first(),\n                previous = this.element.find(\"[tabindex=0]\");\n\n\n            if (previous[0] === target[0]) {\n                return;\n            }\n\n            this.trigger(SELECT, {\n                item: target,\n                dataItems: [this._dataItem(target)]\n            });\n        },\n\n        _onBlur: function() {\n            this.element.find(DOT + ORGCHART_STYLES.focused).removeClass(ORGCHART_STYLES.focused);\n        },\n\n        _onKeyDown: function(e) {\n            var key = e.keyCode,\n                focused = this.element.find(\"[tabindex=0]\"),\n                isRtl = kendo.support.isRtl(this.element),\n                nextKey = isRtl ? [ keys.LEFT ] : [ keys.RIGHT ],\n                prevKey = isRtl ? [ keys.RIGHT ] : [ keys.LEFT ],\n                expandKey = keys.DOWN,\n                collapseKey = keys.UP,\n                groupIsVertical;\n\n            if (!focused) {\n                return;\n            }\n\n            groupIsVertical = this._groupIsVertical(focused);\n\n            if (groupIsVertical) {\n                nextKey.push(keys.DOWN);\n                prevKey.push(keys.UP);\n            }\n\n            if (key === keys.HOME) {\n                this._keyHome();\n            } else if (key === keys.END) {\n                this._keyEnd();\n            } else if (nextKey.indexOf(key) > -1) {\n                e.preventDefault();\n                e.stopPropagation();\n\n                this._keyNext(focused);\n            } else if (prevKey.indexOf(key) > -1) {\n                e.preventDefault();\n                e.stopPropagation();\n\n                this._keyPrev(focused);\n            } else if (key === expandKey) {\n                e.preventDefault();\n                e.stopPropagation();\n\n                this._keyExpand(focused);\n            } else if (key === collapseKey) {\n                e.preventDefault();\n                e.stopPropagation();\n\n                this._keyCollapse(focused);\n            } else if (key === keys.ENTER) {\n                this._keyEnter(focused);\n            } else if (key === keys.ESC) {\n                this._keyEscape(focused);\n            }\n        },\n\n        _onButtonClick: function(e) {\n            var that = this,\n                target = $(e.currentTarget),\n                shouldExpand = target.find(ORGCHART_STYLES.plusIconSelector).length > 0 ? true : false,\n                el = target.siblings(DOT + this._selector),\n                items = this._dataItems(el),\n                i;\n\n            if (shouldExpand) {\n                if (that.trigger(EXPAND, { item: el, dataItems: items })) {\n                    return;\n                }\n            } else {\n                if (that.trigger(COLLAPSE, { item: el, dataItems: items })) {\n                    return;\n                }\n            }\n\n            for (i = 0; i < items.length; i++) {\n                that.dataSource.toggleChildren(items[i], shouldExpand).then(this.refresh.bind(this));\n            }\n        },\n\n        _onFocus: function() {\n            return false;\n        },\n\n        _onSelect: function() {\n            return false;\n        },\n\n        _orientation: function() {\n            return false;\n        },\n\n        _processItem: function(el) {\n            var jQueryElement;\n\n            if (kendo.type(el) === STRING) {\n                jQueryElement = this.element.find(el);\n            } else if (kendo.isElement(el)) {\n                jQueryElement = $(el);\n            } else if (el instanceof jQuery) {\n                jQueryElement = el;\n            }\n\n            return jQueryElement;\n        },\n\n        _render: function() {\n            var items = this._itemsTree,\n                root = $(kendo.template(ROOT_TEMPLATE)({ label: this.options.messages.label })),\n                wrapperContainer = this.element,\n                total = this._total,\n                widgetPadding = wrapperContainer.closest(DOT + ORGCHART_STYLES.wrapper).css(\"padding-left\"),\n                totalWidth;\n\n            wrapperContainer.append(root);\n\n            this._renderGroup(root, items, 1, this._total, 0);\n            totalWidth = total * this._itemWidth + (total - 1) * this._spacing;\n            root.width(totalWidth);\n            wrapperContainer.width(totalWidth + Number(widgetPadding.split(PX)[0]));\n\n            this._setHeight();\n            this._restoreSelection();\n        },\n\n        _renderNode: function(cardWrapperTemplate, contentTemplate, item, level, guid) {\n            var messages = this.options.messages,\n                borderColors = this.options.cardsColors || kendo.getSeriesColors(),\n                node = $(ITEM_TEMPLATE),\n                content, cardWrapper;\n\n            cardWrapper = $(cardWrapperTemplate(extend(true, {}, item, {\n                menuLabel: messages.menuLabel,\n                level: level,\n                guid: guid,\n                editable: !!this.options.editable,\n                color: borderColors[level - 1] || borderColors[0]\n            })));\n\n            if (item.attributes) {\n                cardWrapper.attr(JSON.parse(JSON.stringify(item.attributes)));\n            }\n\n            content = $(contentTemplate(extend(true, {}, item, {\n                menuLabel: messages.menuLabel,\n                level: level,\n                guid: guid,\n                editable: !!this.options.editable,\n                color: borderColors[level - 1] || borderColors[0]\n            })));\n\n            cardWrapper.append(content);\n            node.append(cardWrapper);\n\n            kendo.applyStylesFromKendoAttributes(node, [\"border-color\"]);\n\n            return node;\n        },\n\n        _renderGroup: function() {\n            return false;\n        },\n\n        _restoreSelection: function() {\n            var toFocusItem, toFocus;\n\n            if (!this._idTabIndex) {\n                toFocus = this.element.find(DOT + this._selector).first();\n\n                toFocus.attr(TABINDEX, \"0\");\n            } else {\n                toFocusItem = this.dataSource.get(this._idTabIndex);\n                toFocus = toFocusItem ? this._getToFocus(toFocusItem) : this.element.find(DOT + this._selector).first();\n                toFocus.attr(TABINDEX, \"0\");\n\n                this._idTabIndex = null;\n            }\n\n            if (this._shouldRestoreSelection) {\n                this._shouldRestoreSelection = false;\n                this._preventTriggerSelect = true;\n                toFocus.trigger(\"focus\");\n                toFocus.addClass(ORGCHART_STYLES.focused);\n            }\n        },\n\n        _setHeight: function() {\n            var selector = this._selector,\n                elements = this.element.find(DOT + ORGCHART_STYLES.button + COMMA + DOT + selector),\n                min = Number.MAX_VALUE, max = 0,\n                buttonHeight;\n\n            this._calculateDimensions();\n\n            buttonHeight = this._buttonHeight;\n            this.element.find(DOT + ORGCHART_STYLES.lineVerticalTop).height(this._spacing + buttonHeight / 2);\n\n            elements.each(function(i, el) {\n                var top = $(el).offset().top,\n                    bottom = top + $(el).outerHeight(true);\n\n                if (top < min) {\n                    min = top;\n                }\n\n                if (bottom > max) {\n                    max = bottom;\n                }\n            });\n\n            this.element.height(max - min);\n        }\n    });\n\n    var SingleView = View.extend({\n        init: function(element, options) {\n            View.fn.init.call(this, element, options);\n\n            this._selector = ORGCHART_STYLES.card;\n        },\n\n        collapse: function(item) {\n            var $item = this.jqueryItemElement(item);\n\n            if (!$item) {\n                return;\n            }\n\n            this.dataSource.toggleChildren(this._dataItem($item), false).then(this.refresh.bind(this));\n        },\n\n        expand: function(item) {\n            var $item = this.jqueryItemElement(item);\n\n            if (!$item) {\n                return;\n            }\n\n            this.dataSource.toggleChildren(this._dataItem($item), true).then(this.refresh.bind(this));\n        },\n\n        _calculateItemWidth: function() {\n            return this.element.find(DOT + this._selector).first().outerWidth(true);\n        },\n\n        _calculateLevel: function(items, level) {\n            var itemsLength = items.length,\n                maxColumnsPerLevel = this._maxColumnsPerLevel,\n                nestedChildren = false,\n                shouldReset = false,\n                previousMax, i, item;\n\n            if (!maxColumnsPerLevel[level] || maxColumnsPerLevel[level] < itemsLength) {\n                previousMax = maxColumnsPerLevel[level];\n                shouldReset = true;\n                maxColumnsPerLevel[level] = itemsLength;\n            }\n\n            for (i = 0; i < itemsLength; i++) {\n                item = items[i];\n\n                if (item.hasChildren) {\n                    nestedChildren = true;\n\n                    if (item.expanded) {\n                        this._calculateLevel(item.children, level + 1);\n                    }\n                }\n            }\n\n            if (!nestedChildren && shouldReset && level > 0) {\n                shouldReset = false;\n                maxColumnsPerLevel[level] = previousMax || 1;\n            }\n        },\n\n        _calculateLevels: function() {\n            var items = this._itemsTree,\n                maxColumnsPerLevel = this._maxColumnsPerLevel = [],\n                total = 1,\n                i;\n\n            this._calculateLevel(items, 0);\n\n            for (i = 0; i < maxColumnsPerLevel.length; i++) {\n                total = total * maxColumnsPerLevel[i];\n            }\n\n            this._total = total;\n        },\n\n        _dataItems: function(container) {\n            var item = this.dataSource.getByUid(container.data(UID));\n\n            if (item) {\n                return [item];\n            } else {\n                return null;\n            }\n        },\n\n        _generateItemsTree: function() {\n            this._itemsTree = this.dataSource.itemsTree();\n        },\n\n        _getToFocus: function(item) {\n            return this.element.find(\"[data-uid='\" + item.get(UID) + \"']\");\n        },\n\n        _getToSelect: function(el) {\n            return this.jqueryItemElement(el);\n        },\n\n        _groupIsVertical: function(focused) {\n            var itemGroup = focused.closest(DOT + ORGCHART_STYLES.group);\n\n            return itemGroup.hasClass(ORGCHART_STYLES.groupVertical);\n        },\n\n        _keyCollapse: function(focused) {\n            var dataItem = this._dataItem(focused),\n                parentUid, parentItem;\n\n            if (dataItem.expanded) {\n                if (!this.trigger(COLLAPSE, { item: focused, dataItems: [dataItem] })) {\n                    this.collapse(focused);\n                }\n            } else if (dataItem.parentId) {\n                parentUid = this.dataSource.get(dataItem.parentId).get(UID);\n                parentItem = this.element.find(\"[data-uid='\" + parentUid + \"']\");\n\n                this.trigger(SELECT, {\n                    item: parentItem,\n                    dataItems: [this._dataItem(parentItem)]\n                });\n            }\n        },\n\n        _keyEnter: function(focused) {\n            if (focused.find(DOT + ORGCHART_STYLES.cardMenu).length > 0) {\n                this.trigger(MENU, focused);\n            }\n        },\n\n        _keyExpand: function(focused) {\n            var dataItem = this._dataItem(focused),\n                ownedGroup = this.element.find(HASH + focused.attr(ARIA_OWNS)),\n                childItem;\n\n            if (!dataItem.hasChildren) {\n                return;\n            }\n\n            if (!dataItem.expanded) {\n                if (!this.trigger(EXPAND, { item: focused, dataItems: [dataItem] })) {\n                    this.expand(focused);\n                }\n            } else {\n                childItem = ownedGroup.find(DOT + this._selector).first();\n\n                this.trigger(SELECT, {\n                    item: childItem,\n                    dataItems: [this._dataItem(childItem)]\n                });\n            }\n        },\n\n        _keyNext: function(focused) {\n            var dataItem = this._dataItem(focused),\n                next = focused.parent().next(DOT + ORGCHART_STYLES.node).find(DOT + ORGCHART_STYLES.card),\n                ownedGroup = this.element.find(HASH + focused.attr(ARIA_OWNS));\n\n            if (!next.length && dataItem.hasChildren && dataItem.expanded) {\n                next = ownedGroup.find(DOT + ORGCHART_STYLES.card).first();\n            }\n\n            if (next.length === 0 || next.hasClass(ORGCHART_STYLES.focused)) {\n                return;\n            }\n\n            this.trigger(SELECT, {\n                item: next,\n                dataItems: [this._dataItem(next)]\n            });\n        },\n\n        _keyPrev: function(focused) {\n            var dataItem = this._dataItem(focused),\n                prev = focused.parent().prev(DOT + ORGCHART_STYLES.node).find(DOT + ORGCHART_STYLES.card),\n                parentUid;\n\n            if (!prev.length && dataItem.parentId) {\n                parentUid = this.dataSource.get(dataItem.parentId).get(UID);\n                prev = this.element.find(\"[data-uid='\" + parentUid + \"']\");\n            }\n\n            if (prev.length === 0 || prev.hasClass(ORGCHART_STYLES.focused)) {\n                return;\n            }\n\n            this.trigger(SELECT, {\n                item: prev,\n                dataItems: [this._dataItem(prev)]\n            });\n        },\n\n        _onFocus: function(e) {\n            var currentTarget = $(e.currentTarget),\n                target = $(e.target);\n\n            if (this._preventTriggerSelect) {\n                e.stopPropagation();\n                this._preventTriggerSelect = false;\n                return;\n            }\n\n            if (target.hasClass(ORGCHART_STYLES.cardMenu)) {\n                if (target.closest(\"[tabindex='0']\").length > 0) {\n                    e.stopPropagation();\n                    return;\n                } else {\n                    this._preventTriggerSelect = true;\n                }\n            }\n\n            if (!currentTarget.hasClass(ORGCHART_STYLES.card)) {\n                currentTarget = currentTarget.closest(DOT + ORGCHART_STYLES.card);\n            }\n\n            if (!currentTarget.hasClass(ORGCHART_STYLES.focused)) {\n                this.trigger(SELECT, {\n                    item: currentTarget,\n                    dataItems: [this._dataItem(currentTarget)]\n                });\n            }\n        },\n\n        _onSelect: function(e) {\n            var target = $(e.currentTarget),\n                item = target.hasClass(ORGCHART_STYLES.card) ? target : target.closest(DOT + ORGCHART_STYLES.card),\n                menuButtonTarget = $(e.target).hasClass(ORGCHART_STYLES.cardMenu) ? $(e.target) : $(e.target).closest(DOT + ORGCHART_STYLES.cardMenu);\n\n            if (menuButtonTarget.length > 0) {\n                return;\n            }\n\n            if (!target.hasClass(ORGCHART_STYLES.focused)) {\n                this.trigger(SELECT, {\n                    item: item,\n                    dataItems: [this._dataItem(item)]\n                });\n            }\n        },\n\n        _orientation: function(group, level, vertical) {\n            var vLine = $(\"<div>\").addClass(ORGCHART_STYLES.line + SPACE + ORGCHART_STYLES.lineVertical);\n\n            if (vertical && level > 1) {\n                group.addClass(ORGCHART_STYLES.groupVertical + SPACE + ORGCHART_STYLES.vstack);\n                group.find(DOT + ORGCHART_STYLES.nodeContainer).addClass(ORGCHART_STYLES.vstack);\n\n                if (group.find(DOT + ORGCHART_STYLES.button).length === 0 || group.find(DOT + ORGCHART_STYLES.card).length === 1) {\n                    group.find(DOT + ORGCHART_STYLES.card).before(vLine.clone());\n                    group.find(DOT + ORGCHART_STYLES.node).first().find(DOT + ORGCHART_STYLES.lineVertical).addClass(ORGCHART_STYLES.lineVerticalTop);\n                } else if (level > 1) {\n                    group.find(DOT + ORGCHART_STYLES.card).first().before(vLine.clone());\n                }\n            } else {\n                group.addClass(ORGCHART_STYLES.groupHorizontal + SPACE + ORGCHART_STYLES.hstack);\n                group.find(DOT + ORGCHART_STYLES.nodeContainer).addClass(ORGCHART_STYLES.hstack);\n\n                if (level > 1) {\n                    group.find(DOT + ORGCHART_STYLES.card).before(vLine.clone().addClass(ORGCHART_STYLES.lineVerticalTop));\n                }\n            }\n        },\n\n        _renderGroup: function(group, items, level, parentColumns, parentLeft) {\n            var vertical = true,\n                nodeContainer;\n\n                nodeContainer = $(NODE_CONTAINER).css(\"width\", \"100%\");\n                group.append(nodeContainer);\n                vertical = this._renderInner(nodeContainer, items, level, parentColumns, parentLeft);\n\n                this._orientation(group, level, vertical);\n        },\n\n        _renderInner: function(nodeContainer, items, level, parentColumns, parentLeft) {\n            var buttonTemplate = kendo.template(BUTTON_TEMPLATE),\n                cardWrapperTemplate = kendo.template(CARD_WRAPPER),\n                numberOfColumns = parentColumns / items.length,\n                vertical = true,\n                vLine = $(\"<div>\").addClass(ORGCHART_STYLES.line + SPACE + ORGCHART_STYLES.lineVertical),\n                hLine = $(\"<div>\").addClass(ORGCHART_STYLES.line + SPACE + ORGCHART_STYLES.lineHorizontal),\n                messages = this.options.messages,\n                i, item, guid, node, button, innerGroup, itemWidth, spacing, contentTemplate;\n\n            if (!this.options.template) {\n                contentTemplate = kendo.template(CARD_TEMPLATE);\n            } else if (typeof this.options.template === \"function\") {\n                contentTemplate = this.options.template;\n            } else {\n                contentTemplate = kendo.template(this.options.template);\n            }\n\n            for (i = 0; i < items.length; i++) {\n                item = items[i];\n                guid = kendo.guid();\n\n                node = this._renderNode(cardWrapperTemplate, contentTemplate, item, level, guid);\n\n                if (item.hasChildren) {\n                    node.append(vLine.clone());\n                    button = $(buttonTemplate({ buttonSign: item.expanded ? MINUS : PLUS, label: item.expanded ? messages.collapse : messages.expand }));\n                    node.append(button);\n                }\n\n                nodeContainer.append(node);\n\n                this._calculateDimensions();\n\n                itemWidth = this._itemWidth;\n                spacing = this._spacing;\n\n                if (item.hasChildren) {\n                    vertical = false;\n\n                    if (item.expanded) {\n                        innerGroup = this._renderInnerGroup(item, numberOfColumns, parentLeft, i, level, guid);\n                    }\n                }\n\n                if (!!innerGroup && innerGroup.hasClass(ORGCHART_STYLES.groupHorizontal) && item.expanded && !!item.children && item.children.length > 1) {\n                    button.after(hLine.clone().css({\n                        width: (numberOfColumns - numberOfColumns / item.children.length) * (itemWidth + spacing) + PX,\n                        \"margin-top\": this._buttonHeight / -2 + PX\n                    }));\n                }\n            }\n\n            if (numberOfColumns > 1 && !vertical) {\n                nodeContainer.find(DOT + ORGCHART_STYLES.node).width((numberOfColumns - 1) * (spacing + itemWidth));\n            }\n\n            return vertical;\n        },\n\n        _renderInnerGroup: function(item, numberOfColumns, parentLeft, i, level, guid) {\n            var itemWidth = this._itemWidth,\n                spacing = this._spacing,\n                width = numberOfColumns * itemWidth + (numberOfColumns - 1) * spacing,\n                left = (i * numberOfColumns * itemWidth) + parentLeft,\n                groupTemplate = kendo.template(GROUP_TEMPLATE),\n                offsetDirection = kendo.support.isRtl(this.element) ? \"right\" : \"left\",\n                top = level * (this._itemHeight + this._buttonHeight + spacing) + spacing * (level - 1) - this._buttonHeight / 2,\n                innerGroup;\n\n            if (i > 0) {\n                left += (i * numberOfColumns * spacing);\n            }\n\n            innerGroup = $(groupTemplate({\n                guid: guid,\n                level: level + 1\n            }));\n\n            innerGroup.css({\n                width: width + PX,\n                top: top + PX\n            });\n\n            innerGroup.css(offsetDirection, left + PX);\n\n            this.element.append(innerGroup);\n            this._renderGroup(innerGroup, item.children, level + 1, numberOfColumns, left);\n\n            return innerGroup;\n        }\n    });\n\n    var GroupedView = View.extend({\n        init: function(element, options) {\n            View.fn.init.call(this, element, options);\n\n            this._selector = ORGCHART_STYLES.nodesGroupContainer;\n        },\n\n        collapse: function(group) {\n            var $group = this.jqueryGroupElement(group),\n                dataItems, i;\n\n            if (!$group) {\n                return;\n            }\n\n            dataItems = this._dataItems($group);\n\n            for (i = 0; i < dataItems.length; i++) {\n                this.dataSource.toggleChildren(dataItems[i], false).then(this.refresh.bind(this));\n            }\n        },\n\n        expand: function(group) {\n            var $group = this.jqueryGroupElement(group),\n                dataItems, i;\n\n            if (!$group) {\n                return;\n            }\n\n            dataItems = this._dataItems($group);\n\n            for (i = 0; i < dataItems.length; i++) {\n                this.dataSource.toggleChildren(dataItems[i], true).then(this.refresh.bind(this));\n            }\n        },\n\n        _dataItems: function(container) {\n            var ds = this.dataSource,\n                dataItems = [],\n                items, item, current;\n\n            if (container.hasClass(ORGCHART_STYLES.card)) {\n                item = ds.getByUid(container.data(UID));\n\n                if (item) {\n                    dataItems.push(item);\n                }\n            } else if (container.hasClass(ORGCHART_STYLES.nodesGroupContainer)) {\n                this._groupFocused = true;\n\n                items = container.find(DOT + ORGCHART_STYLES.card);\n\n                items.each(function(i, item) {\n                    current = ds.getByUid(item.getAttribute(\"data-uid\"));\n\n                    if (current) {\n                        dataItems.push(current);\n                    }\n                });\n            }\n\n            return dataItems;\n        },\n\n        _calculateItemWidth: function() {\n            var itemElement = this.element.find(DOT + this._selector).first(),\n                cardWidth = this.element.find(DOT + ORGCHART_STYLES.card).first().outerWidth(true),\n                padding = Number(itemElement.css(\"padding-left\").split(PX)[0]),\n                border = Number(itemElement.css(\"border-left\").split(PX)[0]);\n\n            return cardWidth + 2 * padding + 2 * border;\n        },\n\n        _calculateLevel: function(groups, level) {\n            var groupsLength = groups.length,\n                nestedChildren = false,\n                maxColumns = 0,\n                currentLength, i, group;\n\n            this._maxColumnsPerLevel[level] = this._maxColumnsPerLevel[level] || 0;\n            this._maxGroups[level] = this._maxGroups[level] || 0;\n\n            for (i = 0; i < groupsLength; i++) {\n                group = groups[i];\n                currentLength = group.items.length;\n\n                if (currentLength > maxColumns) {\n                    maxColumns = currentLength;\n                }\n\n                group = groups[i];\n\n                if (group.hasChildren) {\n                    nestedChildren = true;\n\n                    if (group.expanded) {\n                        this._calculateLevel(group.children, level + 1);\n                    }\n                }\n            }\n\n            if (groupsLength > this._maxGroups[level]) {\n                this._maxGroups[level] = groupsLength;\n            }\n\n            if (!nestedChildren) {\n                maxColumns = 1;\n            }\n\n            if (maxColumns > this._maxColumnsPerLevel[level]) {\n                this._maxColumnsPerLevel[level] = maxColumns;\n            }\n        },\n\n        _calculateLevels: function() {\n            var items = this._itemsTree,\n                maxColumnsPerLevel = this._maxColumnsPerLevel = [],\n                maxGroups = this._maxGroups = [],\n                total = 1,\n                i, currentTotal;\n\n            this._calculateLevel(items, 0);\n\n            for (i = maxColumnsPerLevel.length - 1; i >= 0; i--) {\n                currentTotal = maxColumnsPerLevel[i] * maxGroups[i];\n\n                if (total > maxColumnsPerLevel[i]) {\n                    total = total * maxGroups[i];\n                } else if (total < currentTotal) {\n                    total = currentTotal;\n                }\n            }\n\n            this._total = total;\n        },\n\n        _generateItemsTree: function() {\n            this._itemsTree = this.dataSource.groupedItemsTree(this.options.groupField);\n        },\n\n        _getToFocus: function(item) {\n            if (!this._groupFocused) {\n                return this.element.find(\"[data-uid='\" + item.get(UID) + \"']\");\n            } else {\n                this._groupFocused = false;\n                return this.element.find(\"[data-uid='\" + item.get(UID) + \"']\").closest(DOT + ORGCHART_STYLES.nodesGroupContainer);\n            }\n        },\n\n        _getToSelect: function(el) {\n            var item = this.jqueryItemElement(el);\n\n            return item || this.jqueryGroupElement(el);\n        },\n\n        _groupIsVertical: function(focused) {\n            var itemGroup = focused.closest(DOT + ORGCHART_STYLES.nodeContainer);\n\n            return itemGroup.hasClass(ORGCHART_STYLES.vstack);\n        },\n\n        _keyCollapse: function(focused) {\n            var dataItems = [],\n                parentUid, expanded;\n\n            dataItems = this._dataItems(focused);\n\n            expanded = dataItems.some(function(item) {\n                return item.expanded;\n            });\n\n            if (expanded) {\n                if (focused.hasClass(ORGCHART_STYLES.card)) {\n                    focused = focused.closest(DOT + ORGCHART_STYLES.nodesGroupContainer);\n                    dataItems = this._dataItems(focused);\n                }\n\n                if (!this.trigger(COLLAPSE, { item: focused, dataItems: dataItems })) {\n                    this.collapse(focused);\n                }\n            } else if (dataItems[0].parentId) {\n                parentUid = this.dataSource.get(dataItems[0].parentId).get(UID);\n\n                this.trigger(SELECT, {\n                    item: this.element.find(\"[data-uid='\" + parentUid + \"']\").closest(DOT + this._selector),\n                    dataItems: dataItems\n                });\n            }\n        },\n\n        _keyEnter: function(focused) {\n            var toSelect,\n                dataItems = [];\n\n            if (focused.hasClass(ORGCHART_STYLES.card) && focused.find(DOT + ORGCHART_STYLES.cardMenu).length > 0) {\n                this.trigger(MENU, focused);\n            } else {\n                toSelect = focused.find(DOT + ORGCHART_STYLES.card).first();\n                dataItems = this._dataItems(toSelect);\n\n                this.trigger(SELECT, {\n                    item: toSelect,\n                    dataItems: dataItems\n                });\n            }\n        },\n\n        _keyEscape: function(focused) {\n            if (!focused.hasClass(ORGCHART_STYLES.card)) {\n                return;\n            }\n\n            var group = focused.closest(DOT + ORGCHART_STYLES.nodesGroupContainer),\n                dataItems = this._dataItems(group);\n\n            this.trigger(SELECT, {\n                item: group,\n                dataItems: dataItems\n            });\n        },\n\n        _keyExpand: function(focused) {\n            var ownedGroupId = focused.attr(ARIA_OWNS) || focused.closest(DOT + this._selector).attr(ARIA_OWNS),\n                ownedGroup = this.element.find(HASH + ownedGroupId),\n                dataItems = this._dataItems(focused),\n                hasChildren, expanded, item;\n\n            hasChildren = dataItems.some(function(item) {\n                return item.hasChildren;\n            });\n\n            if (!hasChildren) {\n                return;\n            }\n\n            expanded = dataItems.some(function(item) {\n                return item.expanded;\n            });\n\n            if (!expanded) {\n                if (focused.hasClass(ORGCHART_STYLES.card)) {\n                    focused = focused.closest(DOT + ORGCHART_STYLES.nodesGroupContainer);\n                    dataItems = this._dataItems(focused);\n                }\n\n                if (!this.trigger(EXPAND, { item: focused, dataItems: dataItems })) {\n                    this.expand(focused);\n                }\n            } else {\n                item = ownedGroup.find(DOT + this._selector).first();\n\n                this.trigger(SELECT, {\n                    item: item,\n                    dataItems: this._dataItems(item)\n                });\n            }\n        },\n\n        _keyNext: function(focused) {\n            var ownedGroup = this.element.find(HASH + focused.attr(ARIA_OWNS)),\n                dataItems = this._dataItems(focused),\n                hasChildren = dataItems.some(function(item) {\n                    return item.hasChildren;\n                }),\n                expanded = dataItems.some(function(item) {\n                    return item.expanded;\n                }),\n                next;\n\n                if (focused.hasClass(ORGCHART_STYLES.card)) {\n                    next = focused.parent().next(DOT + ORGCHART_STYLES.node).find(DOT + ORGCHART_STYLES.card);\n                } else {\n                    next = focused.parent().next(DOT + ORGCHART_STYLES.nodesGroup).find(DOT + ORGCHART_STYLES.nodesGroupContainer);\n                }\n\n            if (!next.length && hasChildren && expanded) {\n                next = ownedGroup.find(DOT + this._selector).first();\n            }\n\n            if (next.length === 0) {\n                return;\n            }\n\n            this.trigger(SELECT, {\n                item: next,\n                dataItems: this._dataItems(next)\n            });\n        },\n\n        _keyPrev: function(focused) {\n            var dataItems = this._dataItems(focused),\n                parentUid, prev;\n\n            if (focused.hasClass(ORGCHART_STYLES.card)) {\n                prev = focused.parent().prev(DOT + ORGCHART_STYLES.node).find(DOT + ORGCHART_STYLES.card);\n            } else {\n                prev = focused.parent().prev(DOT + ORGCHART_STYLES.nodesGroup).find(DOT + ORGCHART_STYLES.nodesGroupContainer);\n            }\n\n            if (!prev.length && dataItems[0].parentId) {\n                parentUid = this.dataSource.get(dataItems[0].parentId).get(UID);\n                prev = this.element.find(\"[data-uid='\" + parentUid + \"']\").closest(DOT + this._selector);\n            }\n\n            if (prev.length === 0) {\n                return;\n            }\n\n            this.trigger(SELECT, {\n                item: prev,\n                dataItems: this._dataItems(prev)\n            });\n        },\n\n        _onFocus: function(e) {\n            var target = $(e.target),\n                items, current;\n\n            if (this._preventTriggerSelect) {\n                e.stopPropagation();\n                this._preventTriggerSelect = false;\n                return;\n            }\n\n            if (target.hasClass(ORGCHART_STYLES.cardMenu)) {\n                if (target.closest(\"[tabindex='0']\").length > 0) {\n                    e.stopPropagation();\n                    return;\n                } else {\n                    this._preventTriggerSelect = true;\n                }\n            }\n\n            if (!target.hasClass(ORGCHART_STYLES.card) && !target.hasClass(ORGCHART_STYLES.nodesGroupContainer)) {\n                current = target.closest(DOT + ORGCHART_STYLES.card);\n\n                if (!current.length) {\n                    current = target.closest(DOT + ORGCHART_STYLES.nodesGroupContainer);\n                }\n\n                target = current;\n            }\n\n            if (target.length === 0) {\n                return;\n            }\n\n            items = this._dataItems(target);\n\n            if (!target.hasClass(ORGCHART_STYLES.focused)) {\n                e.stopPropagation();\n                this.trigger(SELECT, {\n                    item: target,\n                    dataItems: items\n                });\n            }\n        },\n\n        _onSelect: function(e) {\n            var target = $(e.target),\n                previousSelection = this.element.find(\"[tabindex=0]\"),\n                items, current;\n\n            if (!target.hasClass(ORGCHART_STYLES.card) && !target.hasClass(ORGCHART_STYLES.nodesGroupContainer)) {\n                current = target.closest(DOT + ORGCHART_STYLES.card);\n\n                if (!current.length) {\n                    current = target.closest(DOT + ORGCHART_STYLES.nodesGroupContainer);\n                }\n\n                target = current;\n            }\n\n            if (target.length === 0 || previousSelection[0] === target[0]) {\n                return;\n            }\n\n            items = this._dataItems(target);\n\n            this.trigger(SELECT, {\n                item: target,\n                dataItems: items\n            });\n        },\n\n        _orientation: function(group, level, vertical) {\n            var vLine = $(\"<div>\").addClass(ORGCHART_STYLES.line + SPACE + ORGCHART_STYLES.lineVertical + SPACE + ORGCHART_STYLES.lineVerticalTop);\n\n            group.addClass(ORGCHART_STYLES.hstack);\n\n            if (level > 1) {\n                group.find(DOT + ORGCHART_STYLES.nodesGroupContainer).before(vLine.clone());\n            }\n\n            if (vertical && level > 1) {\n                group.find(DOT + ORGCHART_STYLES.nodeContainer).removeClass(ORGCHART_STYLES.hstack);\n                group.find(DOT + ORGCHART_STYLES.nodeContainer).addClass(ORGCHART_STYLES.vstack);\n            } else {\n                group.addClass(ORGCHART_STYLES.groupHorizontal);\n            }\n        },\n\n        _renderChildren: function(item, index, numberOfColumns, level, nodesGroup, parentLeft, guid) {\n            var buttonTemplate = kendo.template(BUTTON_TEMPLATE),\n                groupTemplate = kendo.template(GROUP_TEMPLATE),\n                vLine = $(\"<div>\").addClass(ORGCHART_STYLES.line + SPACE + ORGCHART_STYLES.lineVertical),\n                hLine = $(\"<div>\").addClass(ORGCHART_STYLES.line + SPACE + ORGCHART_STYLES.lineHorizontal),\n                messages = this.options.messages,\n                vertical = true,\n                offsetDirection = kendo.support.isRtl(this.element) ? \"right\" : \"left\",\n                innerGroup, button, left, top, width, nodesGroupWidth, spacing;\n\n            if (item.hasChildren) {\n                vertical = false;\n                nodesGroup.append(vLine.clone());\n                button = $(buttonTemplate({ buttonSign: item.expanded ? MINUS : PLUS, label: item.expanded ? messages.collapse : messages.expand }));\n\n                nodesGroup.append(button);\n\n                this._calculateDimensions();\n\n                nodesGroupWidth = this._itemWidth;\n                spacing = this._spacing;\n\n                if (item.expanded) {\n                    width = nodesGroupWidth * numberOfColumns + (numberOfColumns - 1) * spacing;\n                    left = (index * numberOfColumns * nodesGroupWidth) + parentLeft;\n                    top = level * (this._itemHeight + this._buttonHeight + spacing) + spacing * (level - 1) - this._buttonHeight / 2;\n\n                    if (index > 0) {\n                        left += (index * numberOfColumns * spacing);\n                    }\n\n                    innerGroup = $(groupTemplate({\n                        guid: guid,\n                        level: level + 1\n                    }));\n\n                    innerGroup.css({\n                        width: width + PX,\n                        top: top + PX\n                    });\n\n                    innerGroup.css(offsetDirection, left + PX);\n\n                    this.element.append(innerGroup);\n                    this._renderGroup(innerGroup, item.children, level + 1, numberOfColumns, left);\n                }\n            }\n\n            if (!!innerGroup && item.expanded && !!item.children && item.children.length > 1) {\n                button.after(hLine.clone().css({\n                    width: (numberOfColumns - numberOfColumns / item.children.length) * (nodesGroupWidth + spacing) + PX,\n                    \"margin-top\": this._buttonHeight / -2 + PX\n                }));\n            }\n\n            return vertical;\n        },\n\n        _renderGroup: function(group, items, level, parentColumns, parentLeft) {\n            var vertical = true,\n                numberOfColumns = parentColumns / items.length,\n                nodeContainer, nodesGroup, i, guid, currentVertical, item;\n\n            for (i = 0; i < items.length; i++) {\n                guid = kendo.guid();\n                item = items[i];\n                nodeContainer = this._renderNodesContainer(group, extend(true, {}, item, {\n                    guid: guid,\n                    level: level\n                }));\n                nodesGroup = nodeContainer.closest(DOT + ORGCHART_STYLES.nodesGroup);\n\n                this._renderItems(nodeContainer, item.items, level, guid);\n                currentVertical = this._renderChildren(item, i, numberOfColumns, level, nodesGroup, parentLeft, guid);\n\n                if (vertical) {\n                    vertical = currentVertical;\n                }\n            }\n\n            var width = this._itemWidth * numberOfColumns + (numberOfColumns - 1) * this._spacing;\n            group.find(DOT + ORGCHART_STYLES.nodesGroup).width(width);\n\n            this._orientation(group, level, vertical);\n        },\n\n        _renderItems: function(nodeContainer, items, level, guid) {\n            var cardWrapperTemplate = kendo.template(GROUPED_CARD_WRAPPER),\n                i, item, node, contentTemplate;\n\n            if (!this.options.template) {\n                contentTemplate = kendo.template(CARD_TEMPLATE);\n            } else if (typeof this.options.template === \"function\") {\n                contentTemplate = this.options.template;\n            } else {\n                contentTemplate = kendo.template(this.options.template);\n            }\n\n            for (i = 0; i < items.length; i++) {\n                item = items[i];\n                node = this._renderNode(cardWrapperTemplate, contentTemplate, item, level, guid);\n                nodeContainer.append(node);\n            }\n        },\n\n        _renderNodesContainer: function(group, data) {\n            var nodeGroupContainerTemplate = kendo.template(NODE_GROUP_CONTAINER),\n                nodeGroup = $('<div class=\"k-orgchart-node-group k-align-items-center k-vstack\">'),\n                nodeContainer = $(NODE_CONTAINER_GROUPED).css(\"width\", \"100%\"),\n                nodeGroupContainer = $(nodeGroupContainerTemplate(data)),\n                groupHeaderTemplate;\n\n                if (typeof this.options.groupHeaderTemplate === \"function\") {\n                    groupHeaderTemplate = this.options.groupHeaderTemplate;\n                } else {\n                    groupHeaderTemplate = kendo.template(this.options.groupHeaderTemplate);\n                }\n\n            nodeGroupContainer.append(groupHeaderTemplate({\n                value: data.value,\n                field: data.field\n            }));\n            nodeGroupContainer.append(nodeContainer);\n\n            nodeGroup.append(nodeGroupContainer);\n            group.append(nodeGroup);\n\n            return nodeContainer;\n        }\n    });\n\n    kendo.orgChart = {\n        View: View,\n        SingleView: SingleView,\n        GroupedView: GroupedView\n    };\n})(window.kendo.jQuery);\n\n","import \"./orgchart/data.js\";\nimport \"./orgchart/view.js\";\nimport \"./kendo.menu.js\";\nimport \"./kendo.dialog.js\";\nimport \"./kendo.form.js\";\nimport \"./kendo.upload.js\";\nimport \"./kendo.window.js\";\nimport \"./kendo.html.button.js\";\n\nexport const __meta__ = {\n    id: \"orgchart\",\n    name: \"OrgChart\",\n    category: \"web\",\n    description: \"The OrgChart widget displays hierarchical organizational structure.\",\n    depends: [ \"core\", \"menu\", \"dialog\", \"form\", \"upload\", \"window\", \"data\", \"treelist\", \"html.button\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        encode = kendo.htmlEncode,\n        DataBoundWidget = kendo.ui.DataBoundWidget,\n        OrgChartDataSource = kendo.data.OrgChartDataSource,\n        ContextMenu = kendo.ui.ContextMenu,\n\n        extend = $.extend,\n        isArray = Array.isArray,\n\n        NS = \".kendoOrgChart\",\n\n        CANCEL = \"cancel\",\n        CHANGE = \"change\",\n        CLICK = \"click\",\n        COLLAPSE = \"collapse\",\n        CREATE = \"create\",\n        DATABINDING = \"dataBinding\",\n        DATABOUND = \"dataBound\",\n        DELETE = \"delete\",\n        DESTROY = \"destroy\",\n        EDIT = \"edit\",\n        ERROR = \"error\",\n        EXPAND = \"expand\",\n        FOCUS = \"focus\",\n        KENDOKEYDOWN = \"kendoKeydown\",\n        MENU = \"menu\",\n        PROGRESS = \"progress\",\n        SAVE = \"save\",\n        SELECT = \"select\",\n        REQUEST_START = \"requestStart\",\n\n        DOT = \".\",\n        SPACE = \" \",\n        COMMA = \",\",\n        ID = \"id\",\n        UID = \"uid\",\n        ACTION = \"action\";\n\n    var ORGCHART_STYLES = {\n        wrapper: \"k-orgchart\",\n        container: \"k-orgchart-container\",\n        line: \"k-orgchart-line\",\n        lineVertical: \"k-orgchart-line-v\",\n        lineHorizontal: \"k-orgchart-line-h\",\n        lineVerticalTop: \"k-orgchart-line-v-top\",\n        group: \"k-orgchart-group\",\n        groupVertical: \"k-orgchart-group-v\",\n        groupHorizontal: \"k-orgchart-group-h\",\n        nodesGroup: \"k-orgchart-node-group\",\n        nodesGroupContainer: \"k-orgchart-node-group-container\",\n        nodeContainer: \"k-orgchart-node-container\",\n        node: \"k-orgchart-node\",\n        card: \"k-orgchart-card\",\n        cardMenu: \"k-orgchart-card-menu\",\n        button: \"k-orgchart-button\",\n        focused: \"k-focus\",\n        plusIcon: \"plus\",\n        menuItem: \"k-item\",\n        avatarPreview: \"k-orgchart-avatar-preview\",\n        update: \"k-orgchart-update\",\n        cancel: \"k-orgchart-cancel\",\n        vstack: \"k-vstack\",\n        hstack: \"k-hstack\",\n        closeButton: \"x\"\n    };\n\n    var MENU_ITEMS = {\n        edit: ({ edit }) => `<li data-action='edit'>${encode(edit)}</li>`,\n        create: ({ create }) => `<li data-action='create'>${encode(create)}</li>`,\n        destroy: ({ destroy }) => `<li data-action='destroy'>${encode(destroy)}</li>`\n    };\n\n    var MENU_TEMPLATE = (messages, editable) => {\n        var result = \"<ul>\";\n\n        if (editable === true) {\n            result += MENU_ITEMS.edit(messages);\n            result += MENU_ITEMS.create(messages);\n            result += MENU_ITEMS.destroy(messages);\n        } else {\n            if (editable.fields || editable.parent) {\n                result += MENU_ITEMS.edit(messages);\n            }\n            if (editable.create) {\n                result += MENU_ITEMS.create(messages);\n            }\n            if (editable.destroy) {\n                result += MENU_ITEMS.destroy(messages);\n            }\n        }\n\n        return result;\n    };\n\n    var GROUP_HEADER_TEMPLATE = ({ value, field }) => '<div>' +\n        `<div class=\"k-orgchart-node-group-title\">${encode(value)}</div>` +\n        `<div class=\"k-orgchart-node-group-subtitle\">${encode(field)}</div>` +\n    '</div>';\n\n    var AVATAR_PREVIEW_TEMPLATE = ({ avatar, name, destroy, fileName }) => '<div class=\"k-orgchart-avatar-preview k-hstack k-align-items-center k-pb-lg\">' +\n        '<div class=\"k-avatar k-avatar-primary k-avatar-lg\">' +\n            '<span class=\"k-avatar-image\">' +\n                `<img src=\"${encode(avatar)}\" alt=\"${encode(name)}\">` +\n            '</span>' +\n        '</div>' +\n        `<div class=\"k-px-md\">${encode(fileName)}</div>` +\n        kendo.html.renderButton(`<button aria-label=\"${encode(destroy)}\"></button>`, {\n            icon: 'trash',\n            fillMode: \"flat\"\n        }) +\n    '</div>';\n\n    var EDITOR_BUTTONS_TEMPLATE = ({ cancel, save }) => '<div class=\"k-edit-buttons\">' +\n        kendo.html.renderButton(`<button class=\"k-orgchart-update\">${encode(save)}</button>`, {\n                icon: \"save\",\n                themeColor: \"primary\"\n            }) +\n        kendo.html.renderButton(`<button class=\"k-orgchart-cancel\">${encode(cancel)}</button>`, {\n            icon: \"cancel-outline\"\n        }) +\n    '</div>';\n\n    var OrgChart = DataBoundWidget.extend({\n        init: function(element, options, events) {\n            if (isArray(options)) {\n                options = { dataSource: options };\n            }\n\n            options = options || {};\n\n            DataBoundWidget.fn.init.call(this, element, options);\n\n            if (events) {\n                this._events = events;\n            }\n\n            this._wrapper();\n            this._view();\n            this._dataSource();\n            this._contextMenu();\n\n            if (this.options.autoBind) {\n                this.dataSource.fetch();\n            }\n\n            kendo.notify(this);\n        },\n\n        options: {\n            name: \"OrgChart\",\n            autoBind: true,\n            cardsColors: null,\n            dataSource: {},\n            editable: {\n                create: true,\n                destroy: true,\n                fields: true,\n                form: {\n                    buttonsTemplate: () => \"\",\n                    orientation: \"vertical\"\n                },\n                parent: true\n            },\n            groupField: null,\n            groupHeaderTemplate: GROUP_HEADER_TEMPLATE,\n            template: null,\n            messages: {\n                label: \"Org Chart\",\n                edit: \"Edit\",\n                create: \"Create\",\n                destroy: \"Delete\",\n                destroyContent: \"Are you sure you want to delete this item and all its children?\",\n                destroyTitle: \"Delete item\",\n                cancel: \"Cancel\",\n                save: \"Save\",\n                menuLabel: \"Edit menu\",\n                uploadAvatar: \"Upload new avatar\",\n                parent: \"Parent\",\n                name: \"Name\",\n                title: \"Title\",\n                none: \"--None--\",\n                expand: \"expand\",\n                collapse: \"collapse\"\n            }\n        },\n\n        events: [\n            CANCEL,\n            CHANGE,\n            COLLAPSE,\n            CREATE,\n            DATABINDING,\n            DATABOUND,\n            DELETE,\n            EDIT,\n            EXPAND,\n            KENDOKEYDOWN,\n            SAVE,\n            SELECT\n         ],\n\n        destroy: function() {\n            if (this._menu) {\n                this._menu.destroy();\n            }\n            if (this._editWindow) {\n                this._editWindow.destroy();\n            }\n            if (this._confirmDestroy) {\n                this._confirmDestroy.destroy();\n            }\n\n            this.view.destroy();\n\n            DataBoundWidget.fn.destroy.call(this);\n            this.wrapper.off(NS);\n        },\n\n        setDataSource: function(dataSource) {\n            this.options.dataSource = dataSource;\n            this._dataSource();\n\n            if (this.options.autoBind) {\n                dataSource.fetch();\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            DataBoundWidget.fn.setOptions.call(that, options);\n        },\n\n        append: function(item, parent) {\n            var that = this,\n                $parent = that.view.jqueryItemElement(parent),\n                parentItem = that.dataItem($parent);\n\n            if (!$parent || !parentItem) {\n                return;\n            }\n\n            if (!parentItem.loaded()) {\n                that.dataSource.read({ id: parentItem.id })\n                    .then(function() {\n                        that.dataSource.add(extend({}, item, { parentId: parentItem.id }));\n                        that.dataSource.sync();\n                    });\n            } else {\n                that.dataSource.add(extend({}, item, { parentId: parentItem.id }));\n                that.dataSource.sync();\n            }\n        },\n\n        cancelChanges: function() {\n            if (this.dataSource.hasChanges()) {\n                this.dataSource.cancelChanges();\n            }\n        },\n\n        collapse: function(item) {\n            return this.view.collapse(item);\n        },\n\n        dataItem: function(item) {\n            var $item = this.view.jqueryItemElement(item);\n\n            if (!$item || !$item.data(UID)) {\n                return;\n            }\n\n            return this.dataSource.getByUid($item.data(UID));\n        },\n\n        delete: function(item) {\n            var $item = this.view.jqueryItemElement(item);\n\n            if (!$item) {\n                return;\n            }\n\n            this.dataSource.remove(this.dataItem($item));\n            this.dataSource.sync();\n        },\n\n        edit: function(item) {\n            var $item = this.view.jqueryItemElement(item),\n                dataItem = this.dataItem($item);\n\n            if (!$item || !dataItem) {\n                return;\n            }\n\n            this._edit(dataItem);\n        },\n\n        expand: function(item) {\n            return this.view.expand(item);\n        },\n\n        getCollapsedNodes: function() {\n            return this.wrapper.find(\"[aria-expanded='false']\");\n        },\n\n        items: function() {\n            return this.wrapper.find(DOT + ORGCHART_STYLES.card);\n        },\n\n        parent: function(item) {\n            var $item = this.view.jqueryItemElement(item),\n                id;\n\n            if (!$item) {\n                return;\n            }\n\n            id = $item.closest(DOT + ORGCHART_STYLES.group).attr(ID);\n\n            return this.wrapper.find(\"[aria-owns='\" + id + \"']\");\n        },\n\n        saveChanges: function() {\n            this.dataSource.sync();\n        },\n\n        select: function(item) {\n            var $item = this.view._getToSelect(item);\n\n            if (!$item) {\n                return;\n            } else {\n                return this.view.select($item);\n            }\n        },\n\n        _avatarPreview: function(item, fileName) {\n            var form = this._form,\n                avatar = item.avatar,\n                avatarRemove = function() {\n                    formWrapper.find(DOT + ORGCHART_STYLES.avatarPreview).remove();\n                    item.set(\"avatar\", null);\n                },\n                formWrapper, data;\n\n            if (!form) {\n                return;\n            }\n\n            if (!fileName) {\n                fileName = avatar.split('\\\\').pop().split('/').pop();\n\n                if (!fileName || fileName.indexOf('.') == -1) {\n                    fileName = item.name;\n                }\n            }\n\n            data = {\n                name: item.name,\n                avatar: avatar,\n                fileName: fileName,\n                destroy: this.options.messages.destroy\n            };\n\n            formWrapper = form.wrapper;\n            formWrapper.find(DOT + ORGCHART_STYLES.avatarPreview).remove();\n\n            formWrapper.find('[type=\"file\"]').closest(DOT + \"k-form-field\").prepend(kendo.template(AVATAR_PREVIEW_TEMPLATE)(data));\n            formWrapper.find(DOT + ORGCHART_STYLES.avatarPreview + SPACE + DOT + \"k-button\").on(CLICK, avatarRemove);\n        },\n\n        _contextMenu: function() {\n            var options = this.options,\n                editable = options.editable,\n                messages = options.messages,\n                menuOptions = {\n                    target: this.wrapper,\n                    filter: DOT + ORGCHART_STYLES.cardMenu,\n                    select: this._onMenuItemClick.bind(this),\n                    activate: this._onMenuOpen.bind(this),\n                    deactivate: this._onMenuClose.bind(this),\n                    showOn: \"click\",\n                    animation: false\n                },\n                menuElement;\n\n            if (editable === true ||\n                (editable !== false &&\n                    (editable.create || editable.destroy || editable.fields || editable.parent))) {\n                        menuElement = MENU_TEMPLATE(messages, editable);\n\n                        this._menu = new ContextMenu(menuElement, menuOptions);\n                    }\n        },\n\n        _dataSource: function() {\n            var ds = this.dataSource,\n                dsOptions = this.options.dataSource;\n\n            if (ds) {\n                ds.unbind(CHANGE, this._dataSourceChangeHandler);\n                ds.unbind(ERROR, this._errorHandler);\n                ds.unbind(PROGRESS, this._progressHandler);\n                ds.unbind(REQUEST_START, this._requestStartHandler);\n            }\n\n            this._dataSourceChangeHandler = this._onDataSourceChange.bind(this);\n            this._errorHandler = this._onDataSourceError.bind(this);\n            this._progressHandler = this._progress.bind(this);\n            this._requestStartHandler = this._onDataSourceRequestStart.bind(this);\n\n            ds = this.dataSource = OrgChartDataSource.create(dsOptions);\n\n            ds.bind(CHANGE, this._dataSourceChangeHandler);\n            ds.bind(ERROR, this._errorHandler);\n            ds.bind(PROGRESS, this._progressHandler);\n            ds.bind(REQUEST_START, this._requestStartHandler);\n\n            this.view.dataSource = ds;\n        },\n\n        _destroyItem: function(item) {\n            var that = this,\n                el = $(\"<div></div>\"),\n                messages = that.options.messages,\n                restoreFocus = function() {\n                    that.wrapper\n                        .find(DOT + ORGCHART_STYLES.card + \"[tabindex=0]\" + COMMA + DOT + ORGCHART_STYLES.nodesGroup + \"[tabindex=0]\")\n                        .addClass(ORGCHART_STYLES.focused)\n                        .trigger(\"focus\");\n                },\n                confirm = this._confirmDestroy = new kendo.ui.Confirm(el, {\n                    title: messages.destroyTitle,\n                    content: messages.destroyContent,\n                    messages: {\n                      okText: messages.destroy,\n                      cancel: messages.cancel\n                    },\n                    show: function() {\n                        setTimeout(function() {\n                            confirm.element.trigger(\"focus\");\n                        });\n                    }\n                });\n\n            confirm.open();\n\n            confirm.result.done(function() {\n                if (!that.trigger(DELETE, { dataItem: item })) {\n                    that.dataSource.remove(item);\n                    that.dataSource.sync();\n                }\n\n                that.view._shouldRestoreSelection = true;\n                that.view._restoreSelection();\n            });\n\n            confirm.result.fail(restoreFocus);\n        },\n\n        _edit: function(dataItem) {\n            var that = this,\n                formElement = $(\"<div>\"),\n                windowElement = $(\"<div>\"),\n                messages = this.options.messages,\n                formOptions = this._formOptions(dataItem),\n                save;\n\n            if (!formOptions) {\n                return;\n            }\n\n            if (!!dataItem.avatar) {\n                that._avatarPreview(dataItem);\n            }\n\n            windowElement.append(formElement);\n\n            that._editWindow = new kendo.ui.Window(windowElement, {\n                title: messages.edit,\n                width: \"380 px\",\n                modal: true,\n                close: function(e) {\n                    if (!save) {\n                        if (!that.trigger(CANCEL, { dataItem: dataItem })) {\n                            that.cancelChanges();\n                        } else {\n                            e.preventDefault();\n                        }\n                    } else {\n                        save = false;\n                    }\n                },\n                deactivate: function() {\n                    that._editWindow.wrapper.off(CLICK);\n                    that._editWindow.destroy();\n                    that._editWindow = null;\n                    that.view._restoreSelection();\n                }\n            });\n\n            windowElement.after(kendo.template(EDITOR_BUTTONS_TEMPLATE)({\n                save: messages.save,\n                cancel: messages.cancel\n            }));\n\n            that._editWindow.center().open();\n\n            that._form = new kendo.ui.Form(formElement, formOptions);\n\n            that._editWindow.wrapper.on(CLICK, DOT + ORGCHART_STYLES.update, function() {\n                if (that._form.validate()) {\n                    save = true;\n\n                    if (!that.trigger(SAVE, { dataItem: dataItem })) {\n                        that._editWindow.close();\n                        that.saveChanges();\n                    }\n                }\n            });\n\n            that._editWindow.wrapper.on(CLICK, DOT + ORGCHART_STYLES.cancel, function() {\n                that._editWindow.close();\n            });\n        },\n\n        _formOptions: function(item) {\n            var options = this.options,\n                messages = options.messages,\n                optionsForm = options.editable.form,\n                items = [],\n                parentsDs, optionsItems;\n\n            if (optionsForm) {\n                optionsItems = optionsForm.items;\n            }\n\n            if ((!optionsItems || optionsItems.length === 0) &&\n                (options.editable === true || (options.editable && options.editable.parent))) {\n\n                parentsDs = [{\n                    id: null,\n                    name: messages.none\n                }].concat(this.dataSource.prospectParents(item));\n\n                items.push({\n                    field: \"parentId\",\n                    editor: \"DropDownList\",\n                    label: messages.parent,\n                    editorOptions: {\n                        dataSource: parentsDs,\n                        dataValueField: \"id\",\n                        dataTextField: \"name\",\n                        valuePrimitive: true\n                    }\n                });\n            }\n\n            if ((!optionsItems || optionsItems.length === 0) &&\n                (options.editable === true || (options.editable && options.editable.fields))) {\n\n                items = items.concat([{\n                    field: \"name\",\n                    label: messages.name,\n                    validation: { required: true }\n                }, {\n                    field: \"title\",\n                    label: messages.title\n                }, {\n                    field: \"avatar\",\n                    label: messages.uploadAvatar,\n                    editor: this._uploadEditor.bind(this, item)\n                }]);\n            }\n\n            if (optionsForm) {\n                delete optionsForm.formData;\n            }\n\n            if (items.length > 0 || (optionsItems && optionsItems.length > 0)) {\n                return extend(true, {}, {\n                    formData: item,\n                    items: items\n                }, optionsForm);\n            } else {\n                return false;\n            }\n        },\n\n        _onDataSourceChange: function(e) {\n            if (e.action === \"add\" || e.action === \"itemchange\" && this._editWindow) {\n                return;\n            }\n\n            if (!e.action || e.action === \"sync\") {\n                if (this.trigger(DATABINDING, e)) {\n                    this._progress(false);\n                    return;\n                }\n            }\n\n            this._progress(true);\n            this.view.refresh();\n\n            if (!e.action || e.action === \"sync\") {\n                this.trigger(DATABOUND);\n            }\n\n            this._progress(false);\n        },\n\n        _onDataSourceError: function() {\n            this._progress(false);\n        },\n\n        _onDataSourceRequestStart: function() {\n            this.view._cacheFocused();\n        },\n\n        _onMenuClose: function() {\n            if ($(document.activeElement).closest(\"[role='alertdialog']\").length === 0) {\n                this.wrapper.find(\"[tabindex='0']\")\n                    .addClass(ORGCHART_STYLES.focused)\n                    .trigger(\"focus\");\n            }\n        },\n\n        _onMenuItemClick: function(e) {\n            var that = this,\n                targetItem = $(e.target).closest(DOT + ORGCHART_STYLES.node).find(DOT + ORGCHART_STYLES.card),\n                dataItem = that.dataItem(targetItem),\n                action = $(e.item).data(ACTION),\n                newItem;\n\n            if (!dataItem) {\n                return;\n            }\n\n            if (action === EDIT) {\n                if (!that.trigger(EDIT, { dataItem: dataItem })) {\n                    that._edit(dataItem);\n                }\n            } else if (action === CREATE) {\n                if (!that.trigger(CREATE, { dataItem: dataItem })) {\n                    if (!dataItem.loaded()) {\n                        that.dataSource.read({ id: dataItem.id })\n                            .then(function() {\n                                newItem = that.dataSource.add({\n                                    parentId: dataItem.id\n                                });\n\n                                that._edit(newItem);\n                            });\n                    } else {\n                        newItem = that.dataSource.add({\n                            parentId: dataItem.id\n                        });\n\n                        that._edit(newItem);\n                    }\n                }\n            } else if (action === DESTROY) {\n                that._destroyItem(dataItem);\n            }\n        },\n\n        _onMenuOpen: function() {\n            this.view._cacheFocused();\n            this.wrapper.find(DOT + ORGCHART_STYLES.focused).removeClass(ORGCHART_STYLES.focused);\n            this._menu.element.find(DOT + ORGCHART_STYLES.menuItem).first().trigger(FOCUS);\n        },\n\n        _openMenu: function(focused) {\n            if (this._menu) {\n                this._menu.open(focused.find(DOT + ORGCHART_STYLES.cardMenu));\n            }\n        },\n\n        _progress: function(toggle) {\n            kendo.ui.progress(this.container, toggle);\n        },\n\n        _triggerCollapse: function(e) {\n            if (this.trigger(COLLAPSE, { item: e.item, dataItems: e.dataItems })) {\n                e.preventDefault();\n            }\n        },\n\n        _triggerExpand: function(e) {\n            if (this.trigger(EXPAND, { item: e.item, dataItems: e.dataItems })) {\n                e.preventDefault();\n            }\n        },\n\n        _triggerSelect: function(e) {\n            if (!this.trigger(SELECT, { item: e.item, dataItems: e.dataItems })) {\n                this.view.select(e.item);\n                this.trigger(CHANGE, { item: e.item, dataItems: e.dataItems });\n            }\n        },\n\n        _uploadEditor: function(item, container) {\n            var that = this;\n\n            $('<input type=\"file\">')\n                .appendTo(container)\n                .kendoUpload({\n                    async: false,\n                    multiple: false,\n                    select: function(e) {\n                        var fileInfo = e.files[0];\n                        var raw = fileInfo.rawFile;\n                        var reader = new FileReader();\n\n                        if (fileInfo.validationErrors && fileInfo.validationErrors.length > 0) {\n                            return;\n                        }\n\n                        if (raw) {\n                            reader.onloadend = function() {\n                                item.set(\"avatar\", this.result);\n                                that._avatarPreview(item, raw.name);\n                            };\n\n                          reader.readAsDataURL(raw);\n                        }\n                    },\n                    validation: {\n                        allowedExtensions: [\".gif\", \".jpg\", \".png\"],\n                        maxFileSize: 1048576\n                    }\n                });\n        },\n\n        _view: function() {\n            if (this.options.groupField !== null && this.options.groupField !== undefined) {\n                this.view = new kendo.orgChart.GroupedView(this.container, this.options);\n            } else {\n                this.view = new kendo.orgChart.SingleView(this.container, this.options);\n            }\n\n            this.view.bind(SELECT, this._triggerSelect.bind(this));\n            this.view.bind(EXPAND, this._triggerExpand.bind(this));\n            this.view.bind(COLLAPSE, this._triggerCollapse.bind(this));\n            this.view.bind(MENU, this._openMenu.bind(this));\n\n        },\n\n        _wrapper: function() {\n            var container = $(\"<div class='k-orgchart-container'>\");\n\n            this.wrapper = this.element;\n            this.container = container;\n\n            this.wrapper.addClass(ORGCHART_STYLES.wrapper);\n            this.wrapper.append(container);\n        }\n    });\n\n    kendo.ui.plugin(OrgChart);\n\n})(window.kendo.jQuery);\nexport default kendo;\n\n"],"mappings":"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"}